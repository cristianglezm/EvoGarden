var pIt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _2(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bR={exports:{}},vx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pV;function Ott(){if(pV)return vx;pV=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var s in r)s!=="key"&&(a[s]=r[s])}else a=r;return r=a.ref,{$$typeof:i,type:n,key:o,ref:r!==void 0?r:null,props:a}}return vx.Fragment=t,vx.jsx=e,vx.jsxs=e,vx}var vV;function Ptt(){return vV||(vV=1,bR.exports=Ott()),bR.exports}var Os=Ptt(),TR={exports:{}},An={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gV;function ztt(){if(gV)return An;gV=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator;function p(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,_={};function S(q,$,st){this.props=q,this.context=$,this.refs=_,this.updater=st||g}S.prototype.isReactComponent={},S.prototype.setState=function(q,$){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,$,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function T(){}T.prototype=S.prototype;function M(q,$,st){this.props=q,this.context=$,this.refs=_,this.updater=st||g}var w=M.prototype=new T;w.constructor=M,m(w,S.prototype),w.isPureReactComponent=!0;var D=Array.isArray;function C(){}var R={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function N(q,$,st){var ft=st.ref;return{$$typeof:i,type:q,key:$,ref:ft!==void 0?ft:null,props:st}}function O(q,$){return N(q.type,$,q.props)}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===i}function F(q){var $={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(st){return $[st]})}var V=/\/+/g;function W(q,$){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):$.toString(36)}function Z(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(C,C):(q.status="pending",q.then(function($){q.status==="pending"&&(q.status="fulfilled",q.value=$)},function($){q.status==="pending"&&(q.status="rejected",q.reason=$)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function H(q,$,st,ft,Mt){var dt=typeof q;(dt==="undefined"||dt==="boolean")&&(q=null);var xt=!1;if(q===null)xt=!0;else switch(dt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(q.$$typeof){case i:case t:xt=!0;break;case c:return xt=q._init,H(xt(q._payload),$,st,ft,Mt)}}if(xt)return Mt=Mt(q),xt=ft===""?"."+W(q,0):ft,D(Mt)?(st="",xt!=null&&(st=xt.replace(V,"$&/")+"/"),H(Mt,$,st,"",function(Wt){return Wt})):Mt!=null&&(U(Mt)&&(Mt=O(Mt,st+(Mt.key==null||q&&q.key===Mt.key?"":(""+Mt.key).replace(V,"$&/")+"/")+xt)),$.push(Mt)),1;xt=0;var Lt=ft===""?".":ft+":";if(D(q))for(var Ct=0;Ct<q.length;Ct++)ft=q[Ct],dt=Lt+W(ft,Ct),xt+=H(ft,$,st,dt,Mt);else if(Ct=p(q),typeof Ct=="function")for(q=Ct.call(q),Ct=0;!(ft=q.next()).done;)ft=ft.value,dt=Lt+W(ft,Ct++),xt+=H(ft,$,st,dt,Mt);else if(dt==="object"){if(typeof q.then=="function")return H(Z(q),$,st,ft,Mt);throw $=String(q),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return xt}function j(q,$,st){if(q==null)return q;var ft=[],Mt=0;return H(q,ft,"","",function(dt){return $.call(st,dt,Mt++)}),ft}function Y(q){if(q._status===-1){var $=q._result;$=$(),$.then(function(st){(q._status===0||q._status===-1)&&(q._status=1,q._result=st)},function(st){(q._status===0||q._status===-1)&&(q._status=2,q._result=st)}),q._status===-1&&(q._status=0,q._result=$)}if(q._status===1)return q._result.default;throw q._result}var Q=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},nt={map:j,forEach:function(q,$,st){j(q,function(){$.apply(this,arguments)},st)},count:function(q){var $=0;return j(q,function(){$++}),$},toArray:function(q){return j(q,function($){return $})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return An.Activity=f,An.Children=nt,An.Component=S,An.Fragment=e,An.Profiler=r,An.PureComponent=M,An.StrictMode=n,An.Suspense=l,An.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,An.__COMPILER_RUNTIME={__proto__:null,c:function(q){return R.H.useMemoCache(q)}},An.cache=function(q){return function(){return q.apply(null,arguments)}},An.cacheSignal=function(){return null},An.cloneElement=function(q,$,st){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ft=m({},q.props),Mt=q.key;if($!=null)for(dt in $.key!==void 0&&(Mt=""+$.key),$)!z.call($,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&$.ref===void 0||(ft[dt]=$[dt]);var dt=arguments.length-2;if(dt===1)ft.children=st;else if(1<dt){for(var xt=Array(dt),Lt=0;Lt<dt;Lt++)xt[Lt]=arguments[Lt+2];ft.children=xt}return N(q.type,Mt,ft)},An.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},An.createElement=function(q,$,st){var ft,Mt={},dt=null;if($!=null)for(ft in $.key!==void 0&&(dt=""+$.key),$)z.call($,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(Mt[ft]=$[ft]);var xt=arguments.length-2;if(xt===1)Mt.children=st;else if(1<xt){for(var Lt=Array(xt),Ct=0;Ct<xt;Ct++)Lt[Ct]=arguments[Ct+2];Mt.children=Lt}if(q&&q.defaultProps)for(ft in xt=q.defaultProps,xt)Mt[ft]===void 0&&(Mt[ft]=xt[ft]);return N(q,dt,Mt)},An.createRef=function(){return{current:null}},An.forwardRef=function(q){return{$$typeof:s,render:q}},An.isValidElement=U,An.lazy=function(q){return{$$typeof:c,_payload:{_status:-1,_result:q},_init:Y}},An.memo=function(q,$){return{$$typeof:u,type:q,compare:$===void 0?null:$}},An.startTransition=function(q){var $=R.T,st={};R.T=st;try{var ft=q(),Mt=R.S;Mt!==null&&Mt(st,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(C,Q)}catch(dt){Q(dt)}finally{$!==null&&st.types!==null&&($.types=st.types),R.T=$}},An.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},An.use=function(q){return R.H.use(q)},An.useActionState=function(q,$,st){return R.H.useActionState(q,$,st)},An.useCallback=function(q,$){return R.H.useCallback(q,$)},An.useContext=function(q){return R.H.useContext(q)},An.useDebugValue=function(){},An.useDeferredValue=function(q,$){return R.H.useDeferredValue(q,$)},An.useEffect=function(q,$){return R.H.useEffect(q,$)},An.useEffectEvent=function(q){return R.H.useEffectEvent(q)},An.useId=function(){return R.H.useId()},An.useImperativeHandle=function(q,$,st){return R.H.useImperativeHandle(q,$,st)},An.useInsertionEffect=function(q,$){return R.H.useInsertionEffect(q,$)},An.useLayoutEffect=function(q,$){return R.H.useLayoutEffect(q,$)},An.useMemo=function(q,$){return R.H.useMemo(q,$)},An.useOptimistic=function(q,$){return R.H.useOptimistic(q,$)},An.useReducer=function(q,$,st){return R.H.useReducer(q,$,st)},An.useRef=function(q){return R.H.useRef(q)},An.useState=function(q){return R.H.useState(q)},An.useSyncExternalStore=function(q,$,st){return R.H.useSyncExternalStore(q,$,st)},An.useTransition=function(){return R.H.useTransition()},An.version="19.2.0",An}var mV;function v_(){return mV||(mV=1,TR.exports=ztt()),TR.exports}var vn=v_();const u1=_2(vn);var MR={exports:{}},gx={},AR={exports:{}},wR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yV;function Btt(){return yV||(yV=1,(function(i){function t(H,j){var Y=H.length;H.push(j);t:for(;0<Y;){var Q=Y-1>>>1,nt=H[Q];if(0<r(nt,j))H[Q]=j,H[Y]=nt,Y=Q;else break t}}function e(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var j=H[0],Y=H.pop();if(Y!==j){H[0]=Y;t:for(var Q=0,nt=H.length,q=nt>>>1;Q<q;){var $=2*(Q+1)-1,st=H[$],ft=$+1,Mt=H[ft];if(0>r(st,Y))ft<nt&&0>r(Mt,st)?(H[Q]=Mt,H[ft]=Y,Q=ft):(H[Q]=st,H[$]=Y,Q=$);else if(ft<nt&&0>r(Mt,Y))H[Q]=Mt,H[ft]=Y,Q=ft;else break t}}return j}function r(H,j){var Y=H.sortIndex-j.sortIndex;return Y!==0?Y:H.id-j.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();i.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,m=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function w(H){for(var j=e(u);j!==null;){if(j.callback===null)n(u);else if(j.startTime<=H)n(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=e(u)}}function D(H){if(m=!1,w(H),!g)if(e(l)!==null)g=!0,C||(C=!0,F());else{var j=e(u);j!==null&&Z(D,j.startTime-H)}}var C=!1,R=-1,z=5,N=-1;function O(){return _?!0:!(i.unstable_now()-N<z)}function U(){if(_=!1,C){var H=i.unstable_now();N=H;var j=!0;try{t:{g=!1,m&&(m=!1,T(R),R=-1),p=!0;var Y=h;try{e:{for(w(H),f=e(l);f!==null&&!(f.expirationTime>H&&O());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var nt=Q(f.expirationTime<=H);if(H=i.unstable_now(),typeof nt=="function"){f.callback=nt,w(H),j=!0;break e}f===e(l)&&n(l),w(H)}else n(l);f=e(l)}if(f!==null)j=!0;else{var q=e(u);q!==null&&Z(D,q.startTime-H),j=!1}}break t}finally{f=null,h=Y,p=!1}j=void 0}}finally{j?F():C=!1}}}var F;if(typeof M=="function")F=function(){M(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=U,F=function(){W.postMessage(null)}}else F=function(){S(U,0)};function Z(H,j){R=S(function(){H(i.unstable_now())},j)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return h},i.unstable_next=function(H){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var Y=h;h=j;try{return H()}finally{h=Y}},i.unstable_requestPaint=function(){_=!0},i.unstable_runWithPriority=function(H,j){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=h;h=H;try{return j()}finally{h=Y}},i.unstable_scheduleCallback=function(H,j,Y){var Q=i.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Q+Y:Q):Y=Q,H){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Y+nt,H={id:c++,callback:j,priorityLevel:H,startTime:Y,expirationTime:nt,sortIndex:-1},Y>Q?(H.sortIndex=Y,t(u,H),e(l)===null&&H===e(u)&&(m?(T(R),R=-1):m=!0,Z(D,Y-Q))):(H.sortIndex=nt,t(l,H),g||p||(g=!0,C||(C=!0,F()))),H},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(H){var j=h;return function(){var Y=h;h=j;try{return H.apply(this,arguments)}finally{h=Y}}}})(wR)),wR}var _V;function Utt(){return _V||(_V=1,AR.exports=Btt()),AR.exports}var ER={exports:{}},co={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SV;function Vtt(){if(SV)return co;SV=1;var i=v_();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(l,u,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:f==null?null:""+f,children:l,containerInfo:u,implementation:c}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return co.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,co.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return a(l,u,null,c)},co.flushSync=function(l){var u=o.T,c=n.p;try{if(o.T=null,n.p=2,l)return l()}finally{o.T=u,n.p=c,n.d.f()}},co.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},co.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},co.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,f=s(c,u.crossOrigin),h=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:p}):c==="script"&&n.d.X(l,{crossOrigin:f,integrity:h,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},co.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=s(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},co.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,f=s(c,u.crossOrigin);n.d.L(l,c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},co.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=s(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},co.requestFormReset=function(l){n.d.r(l)},co.unstable_batchedUpdates=function(l,u){return l(u)},co.useFormState=function(l,u,c){return o.H.useFormState(l,u,c)},co.useFormStatus=function(){return o.H.useHostTransitionStatus()},co.version="19.2.0",co}var xV;function Htt(){if(xV)return ER.exports;xV=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ER.exports=Vtt(),ER.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bV;function ktt(){if(bV)return gx;bV=1;var i=Utt(),t=v_(),e=Htt();function n(d){var v="https://react.dev/errors/"+d;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function a(d){var v=d,b=d;if(d.alternate)for(;v.return;)v=v.return;else{d=v;do v=d,(v.flags&4098)!==0&&(b=v.return),d=v.return;while(d)}return v.tag===3?b:null}function o(d){if(d.tag===13){var v=d.memoizedState;if(v===null&&(d=d.alternate,d!==null&&(v=d.memoizedState)),v!==null)return v.dehydrated}return null}function s(d){if(d.tag===31){var v=d.memoizedState;if(v===null&&(d=d.alternate,d!==null&&(v=d.memoizedState)),v!==null)return v.dehydrated}return null}function l(d){if(a(d)!==d)throw Error(n(188))}function u(d){var v=d.alternate;if(!v){if(v=a(d),v===null)throw Error(n(188));return v!==d?null:d}for(var b=d,A=v;;){var L=b.return;if(L===null)break;var P=L.alternate;if(P===null){if(A=L.return,A!==null){b=A;continue}break}if(L.child===P.child){for(P=L.child;P;){if(P===b)return l(L),d;if(P===A)return l(L),v;P=P.sibling}throw Error(n(188))}if(b.return!==A.return)b=L,A=P;else{for(var X=!1,J=L.child;J;){if(J===b){X=!0,b=L,A=P;break}if(J===A){X=!0,A=L,b=P;break}J=J.sibling}if(!X){for(J=P.child;J;){if(J===b){X=!0,b=P,A=L;break}if(J===A){X=!0,A=P,b=L;break}J=J.sibling}if(!X)throw Error(n(189))}}if(b.alternate!==A)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?d:v}function c(d){var v=d.tag;if(v===5||v===26||v===27||v===6)return d;for(d=d.child;d!==null;){if(v=c(d),v!==null)return v;d=d.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),M=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(d){return d===null||typeof d!="object"?null:(d=U&&d[U]||d["@@iterator"],typeof d=="function"?d:null)}var V=Symbol.for("react.client.reference");function W(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===V?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case m:return"Fragment";case S:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case C:return"SuspenseList";case N:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case g:return"Portal";case M:return d.displayName||"Context";case T:return(d._context.displayName||"Context")+".Consumer";case w:var v=d.render;return d=d.displayName,d||(d=v.displayName||v.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case R:return v=d.displayName||null,v!==null?v:W(d.type)||"Memo";case z:v=d._payload,d=d._init;try{return W(d(v))}catch{}}return null}var Z=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},Q=[],nt=-1;function q(d){return{current:d}}function $(d){0>nt||(d.current=Q[nt],Q[nt]=null,nt--)}function st(d,v){nt++,Q[nt]=d.current,d.current=v}var ft=q(null),Mt=q(null),dt=q(null),xt=q(null);function Lt(d,v){switch(st(dt,v),st(Mt,d),st(ft,null),v.nodeType){case 9:case 11:d=(d=v.documentElement)&&(d=d.namespaceURI)?B5(d):0;break;default:if(d=v.tagName,v=v.namespaceURI)v=B5(v),d=U5(v,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}$(ft),st(ft,d)}function Ct(){$(ft),$(Mt),$(dt)}function Wt(d){d.memoizedState!==null&&st(xt,d);var v=ft.current,b=U5(v,d.type);v!==b&&(st(Mt,d),st(ft,b))}function Xt(d){Mt.current===d&&($(ft),$(Mt)),xt.current===d&&($(xt),fx._currentValue=Y)}var ae,at;function wt(d){if(ae===void 0)try{throw Error()}catch(b){var v=b.stack.trim().match(/\n( *(at )?)/);ae=v&&v[1]||"",at=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+d+at}var It=!1;function Nt(d,v){if(!d||It)return"";It=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(v){var $t=function(){throw Error()};if(Object.defineProperty($t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($t,[])}catch(Ht){var Pt=Ht}Reflect.construct(d,[],$t)}else{try{$t.call()}catch(Ht){Pt=Ht}d.call($t.prototype)}}else{try{throw Error()}catch(Ht){Pt=Ht}($t=d())&&typeof $t.catch=="function"&&$t.catch(function(){})}}catch(Ht){if(Ht&&Pt&&typeof Ht.stack=="string")return[Ht.stack,Pt.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=A.DetermineComponentFrameRoot(),X=P[0],J=P[1];if(X&&J){var ct=X.split(`
`),Dt=J.split(`
`);for(L=A=0;A<ct.length&&!ct[A].includes("DetermineComponentFrameRoot");)A++;for(;L<Dt.length&&!Dt[L].includes("DetermineComponentFrameRoot");)L++;if(A===ct.length||L===Dt.length)for(A=ct.length-1,L=Dt.length-1;1<=A&&0<=L&&ct[A]!==Dt[L];)L--;for(;1<=A&&0<=L;A--,L--)if(ct[A]!==Dt[L]){if(A!==1||L!==1)do if(A--,L--,0>L||ct[A]!==Dt[L]){var Yt=`
`+ct[A].replace(" at new "," at ");return d.displayName&&Yt.includes("<anonymous>")&&(Yt=Yt.replace("<anonymous>",d.displayName)),Yt}while(1<=A&&0<=L);break}}}finally{It=!1,Error.prepareStackTrace=b}return(b=d?d.displayName||d.name:"")?wt(b):""}function Bt(d,v){switch(d.tag){case 26:case 27:case 5:return wt(d.type);case 16:return wt("Lazy");case 13:return d.child!==v&&v!==null?wt("Suspense Fallback"):wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return Nt(d.type,!1);case 11:return Nt(d.type.render,!1);case 1:return Nt(d.type,!0);case 31:return wt("Activity");default:return""}}function oe(d){try{var v="",b=null;do v+=Bt(d,b),b=d,d=d.return;while(d);return v}catch(A){return`
Error generating stack: `+A.message+`
`+A.stack}}var jt=Object.prototype.hasOwnProperty,ie=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,nn=i.unstable_shouldYield,rt=i.unstable_requestPaint,K=i.unstable_now,bt=i.unstable_getCurrentPriorityLevel,Ft=i.unstable_ImmediatePriority,ee=i.unstable_UserBlockingPriority,Gt=i.unstable_NormalPriority,ke=i.unstable_LowPriority,pe=i.unstable_IdlePriority,Pe=i.log,Be=i.unstable_setDisableYieldValue,ne=null,he=null;function Ve(d){if(typeof Pe=="function"&&Be(d),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(ne,d)}catch{}}var ot=Math.clz32?Math.clz32:lt,At=Math.log,de=Math.LN2;function lt(d){return d>>>=0,d===0?32:31-(At(d)/de|0)|0}var Jt=256,ce=262144,Se=4194304;function re(d){var v=d&42;if(v!==0)return v;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Kt(d,v,b){var A=d.pendingLanes;if(A===0)return 0;var L=0,P=d.suspendedLanes,X=d.pingedLanes;d=d.warmLanes;var J=A&134217727;return J!==0?(A=J&~P,A!==0?L=re(A):(X&=J,X!==0?L=re(X):b||(b=J&~d,b!==0&&(L=re(b))))):(J=A&~P,J!==0?L=re(J):X!==0?L=re(X):b||(b=A&~d,b!==0&&(L=re(b)))),L===0?0:v!==0&&v!==L&&(v&P)===0&&(P=L&-L,b=v&-v,P>=b||P===32&&(b&4194048)!==0)?v:L}function xe(d,v){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&v)===0}function qe(d,v){switch(d){case 1:case 2:case 4:case 8:case 64:return v+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zn(){var d=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),d}function Mn(d){for(var v=[],b=0;31>b;b++)v.push(d);return v}function Yi(d,v){d.pendingLanes|=v,v!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Br(d,v,b,A,L,P){var X=d.pendingLanes;d.pendingLanes=b,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=b,d.entangledLanes&=b,d.errorRecoveryDisabledLanes&=b,d.shellSuspendCounter=0;var J=d.entanglements,ct=d.expirationTimes,Dt=d.hiddenUpdates;for(b=X&~b;0<b;){var Yt=31-ot(b),$t=1<<Yt;J[Yt]=0,ct[Yt]=-1;var Pt=Dt[Yt];if(Pt!==null)for(Dt[Yt]=null,Yt=0;Yt<Pt.length;Yt++){var Ht=Pt[Yt];Ht!==null&&(Ht.lane&=-536870913)}b&=~$t}A!==0&&Dh(d,A,0),P!==0&&L===0&&d.tag!==0&&(d.suspendedLanes|=P&~(X&~v))}function Dh(d,v,b){d.pendingLanes|=v,d.suspendedLanes&=~v;var A=31-ot(v);d.entangledLanes|=v,d.entanglements[A]=d.entanglements[A]|1073741824|b&261930}function ts(d,v){var b=d.entangledLanes|=v;for(d=d.entanglements;b;){var A=31-ot(b),L=1<<A;L&v|d[A]&v&&(d[A]|=v),b&=~L}}function Vu(d,v){var b=v&-v;return b=(b&42)!==0?1:To(b),(b&(d.suspendedLanes|v))!==0?0:b}function To(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function af(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Ja(){var d=j.p;return d!==0?d:(d=window.event,d===void 0?32:sV(d.type))}function Mo(d,v){var b=j.p;try{return j.p=d,v()}finally{j.p=b}}var pa=Math.random().toString(36).slice(2),In="__reactFiber$"+pa,wr="__reactProps$"+pa,Ks="__reactContainer$"+pa,Rh="__reactEvents$"+pa,hm="__reactListeners$"+pa,X_="__reactHandles$"+pa,Lh="__reactResources$"+pa,Gl="__reactMarker$"+pa;function et(d){delete d[In],delete d[wr],delete d[Rh],delete d[hm],delete d[X_]}function gt(d){var v=d[In];if(v)return v;for(var b=d.parentNode;b;){if(v=b[Ks]||b[In]){if(b=v.alternate,v.child!==null||b!==null&&b.child!==null)for(d=W5(d);d!==null;){if(b=d[In])return b;d=W5(d)}return v}d=b,b=d.parentNode}return null}function Tt(d){if(d=d[In]||d[Ks]){var v=d.tag;if(v===5||v===6||v===13||v===31||v===26||v===27||v===3)return d}return null}function zt(d){var v=d.tag;if(v===5||v===26||v===27||v===6)return d.stateNode;throw Error(n(33))}function mt(d){var v=d[Lh];return v||(v=d[Lh]={hoistableStyles:new Map,hoistableScripts:new Map}),v}function te(d){d[Gl]=!0}var me=new Set,ze={};function be(d,v){Ze(d,v),Ze(d+"Capture",v)}function Ze(d,v){for(ze[d]=v,d=0;d<v.length;d++)me.add(v[d])}var sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ke={},Nn={};function ui(d){return jt.call(Nn,d)?!0:jt.call(Ke,d)?!1:sn.test(d)?Nn[d]=!0:(Ke[d]=!0,!1)}function Mi(d,v,b){if(ui(v))if(b===null)d.removeAttribute(v);else{switch(typeof b){case"undefined":case"function":case"symbol":d.removeAttribute(v);return;case"boolean":var A=v.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){d.removeAttribute(v);return}}d.setAttribute(v,""+b)}}function ci(d,v,b){if(b===null)d.removeAttribute(v);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(v);return}d.setAttribute(v,""+b)}}function Bn(d,v,b,A){if(A===null)d.removeAttribute(b);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(b);return}d.setAttributeNS(v,b,""+A)}}function He(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Ii(d){var v=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function Zn(d,v,b){var A=Object.getOwnPropertyDescriptor(d.constructor.prototype,v);if(!d.hasOwnProperty(v)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var L=A.get,P=A.set;return Object.defineProperty(d,v,{configurable:!0,get:function(){return L.call(this)},set:function(X){b=""+X,P.call(this,X)}}),Object.defineProperty(d,v,{enumerable:A.enumerable}),{getValue:function(){return b},setValue:function(X){b=""+X},stopTracking:function(){d._valueTracker=null,delete d[v]}}}}function Ur(d){if(!d._valueTracker){var v=Ii(d)?"checked":"value";d._valueTracker=Zn(d,v,""+d[v])}}function Qs(d){if(!d)return!1;var v=d._valueTracker;if(!v)return!0;var b=v.getValue(),A="";return d&&(A=Ii(d)?d.checked?"true":"false":d.value),d=A,d!==b?(v.setValue(d),!0):!1}function hr(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Hu=/[\n"\\]/g;function Fn(d){return d.replace(Hu,function(v){return"\\"+v.charCodeAt(0).toString(16)+" "})}function Kr(d,v,b,A,L,P,X,J){d.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?d.type=X:d.removeAttribute("type"),v!=null?X==="number"?(v===0&&d.value===""||d.value!=v)&&(d.value=""+He(v)):d.value!==""+He(v)&&(d.value=""+He(v)):X!=="submit"&&X!=="reset"||d.removeAttribute("value"),v!=null?dr(d,X,He(v)):b!=null?dr(d,X,He(b)):A!=null&&d.removeAttribute("value"),L==null&&P!=null&&(d.defaultChecked=!!P),L!=null&&(d.checked=L&&typeof L!="function"&&typeof L!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?d.name=""+He(J):d.removeAttribute("name")}function va(d,v,b,A,L,P,X,J){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(d.type=P),v!=null||b!=null){if(!(P!=="submit"&&P!=="reset"||v!=null)){Ur(d);return}b=b!=null?""+He(b):"",v=v!=null?""+He(v):b,J||v===d.value||(d.value=v),d.defaultValue=v}A=A??L,A=typeof A!="function"&&typeof A!="symbol"&&!!A,d.checked=J?d.checked:!!A,d.defaultChecked=!!A,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(d.name=X),Ur(d)}function dr(d,v,b){v==="number"&&hr(d.ownerDocument)===d||d.defaultValue===""+b||(d.defaultValue=""+b)}function er(d,v,b,A){if(d=d.options,v){v={};for(var L=0;L<b.length;L++)v["$"+b[L]]=!0;for(b=0;b<d.length;b++)L=v.hasOwnProperty("$"+d[b].value),d[b].selected!==L&&(d[b].selected=L),L&&A&&(d[b].defaultSelected=!0)}else{for(b=""+He(b),v=null,L=0;L<d.length;L++){if(d[L].value===b){d[L].selected=!0,A&&(d[L].defaultSelected=!0);return}v!==null||d[L].disabled||(v=d[L])}v!==null&&(v.selected=!0)}}function of(d,v,b){if(v!=null&&(v=""+He(v),v!==d.value&&(d.value=v),b==null)){d.defaultValue!==v&&(d.defaultValue=v);return}d.defaultValue=b!=null?""+He(b):""}function Oa(d,v,b,A){if(v==null){if(A!=null){if(b!=null)throw Error(n(92));if(Z(A)){if(1<A.length)throw Error(n(93));A=A[0]}b=A}b==null&&(b=""),v=b}b=He(v),d.defaultValue=b,A=d.textContent,A===b&&A!==""&&A!==null&&(d.value=A),Ur(d)}function sf(d,v){if(v){var b=d.firstChild;if(b&&b===d.lastChild&&b.nodeType===3){b.nodeValue=v;return}}d.textContent=v}var dm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xp(d,v,b){var A=v.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?A?d.setProperty(v,""):v==="float"?d.cssFloat="":d[v]="":A?d.setProperty(v,b):typeof b!="number"||b===0||dm.has(v)?v==="float"?d.cssFloat=b:d[v]=(""+b).trim():d[v]=b+"px"}function W_(d,v,b){if(v!=null&&typeof v!="object")throw Error(n(62));if(d=d.style,b!=null){for(var A in b)!b.hasOwnProperty(A)||v!=null&&v.hasOwnProperty(A)||(A.indexOf("--")===0?d.setProperty(A,""):A==="float"?d.cssFloat="":d[A]="");for(var L in v)A=v[L],v.hasOwnProperty(L)&&b[L]!==A&&xp(d,L,A)}else for(var P in v)v.hasOwnProperty(P)&&xp(d,P,v[P])}function bp(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_T=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tp(d){return _T.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function Js(){}var Mp=null;function pm(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var lf=null,ku=null;function Y_(d){var v=Tt(d);if(v&&(d=v.stateNode)){var b=d[wr]||null;t:switch(d=v.stateNode,v.type){case"input":if(Kr(d,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),v=b.name,b.type==="radio"&&v!=null){for(b=d;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+Fn(""+v)+'"][type="radio"]'),v=0;v<b.length;v++){var A=b[v];if(A!==d&&A.form===d.form){var L=A[wr]||null;if(!L)throw Error(n(90));Kr(A,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(v=0;v<b.length;v++)A=b[v],A.form===d.form&&Qs(A)}break t;case"textarea":of(d,b.value,b.defaultValue);break t;case"select":v=b.value,v!=null&&er(d,!!b.multiple,v,!1)}}}var vm=!1;function q_(d,v,b){if(vm)return d(v,b);vm=!0;try{var A=d(v);return A}finally{if(vm=!1,(lf!==null||ku!==null)&&(tt(),lf&&(v=lf,d=ku,ku=lf=null,Y_(v),d)))for(v=0;v<d.length;v++)Y_(d[v])}}function uf(d,v){var b=d.stateNode;if(b===null)return null;var A=b[wr]||null;if(A===null)return null;b=A[v];t:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(d=d.type,A=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!A;break t;default:d=!1}if(d)return null;if(b&&typeof b!="function")throw Error(n(231,v,typeof b));return b}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gm=!1;if($s)try{var Ap={};Object.defineProperty(Ap,"passive",{get:function(){gm=!0}}),window.addEventListener("test",Ap,Ap),window.removeEventListener("test",Ap,Ap)}catch{gm=!1}var Fu=null,mm=null,Gu=null;function ym(){if(Gu)return Gu;var d,v=mm,b=v.length,A,L="value"in Fu?Fu.value:Fu.textContent,P=L.length;for(d=0;d<b&&v[d]===L[d];d++);var X=b-d;for(A=1;A<=X&&v[b-A]===L[P-A];A++);return Gu=L.slice(d,1<A?1-A:void 0)}function cf(d){var v=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&v===13&&(d=13)):d=v,d===10&&(d=13),32<=d||d===13?d:0}function wp(){return!0}function Z_(){return!1}function ga(d){function v(b,A,L,P,X){this._reactName=b,this._targetInst=L,this.type=A,this.nativeEvent=P,this.target=X,this.currentTarget=null;for(var J in d)d.hasOwnProperty(J)&&(b=d[J],this[J]=b?b(P):P[J]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?wp:Z_,this.isPropagationStopped=Z_,this}return f(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=wp)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=wp)},persist:function(){},isPersistent:wp}),v}var Xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ep=ga(Xu),_s=f({},Xu,{view:0,detail:0}),_m=ga(_s),Sm,Cp,Ih,Dp=f({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Ih&&(Ih&&d.type==="mousemove"?(Sm=d.screenX-Ih.screenX,Cp=d.screenY-Ih.screenY):Cp=Sm=0,Ih=d),Sm)},movementY:function(d){return"movementY"in d?d.movementY:Cp}}),ST=ga(Dp),Qr=f({},Dp,{dataTransfer:0}),xT=ga(Qr),bT=f({},_s,{relatedTarget:0}),xm=ga(bT),TT=f({},Xu,{animationName:0,elapsedTime:0,pseudoElement:0}),MT=ga(TT),Rp=f({},Xu,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),j_=ga(Rp),AT=f({},Xu,{data:0}),K_=ga(AT),wT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ET(d){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(d):(d=J_[d])?!!v[d]:!1}function Lp(){return ET}var $_=f({},_s,{key:function(d){if(d.key){var v=wT[d.key]||d.key;if(v!=="Unidentified")return v}return d.type==="keypress"?(d=cf(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Q_[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(d){return d.type==="keypress"?cf(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?cf(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),tS=ga($_),CT=f({},Dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bm=ga(CT),DT=f({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),Xl=ga(DT),eS=f({},Xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),kD=ga(eS),RT=f({},Dp,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Wu=ga(RT),Wl=f({},Xu,{newState:0,oldState:0}),nS=ga(Wl),iS=[9,13,27,32],ff=$s&&"CompositionEvent"in window,Yu=null;$s&&"documentMode"in document&&(Yu=document.documentMode);var hf=$s&&"TextEvent"in window&&!Yu,Jr=$s&&(!ff||Yu&&8<Yu&&11>=Yu),Ip=" ",rS=!1;function Tm(d,v){switch(d){case"keyup":return iS.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nh(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var qu=!1;function Mm(d,v){switch(d){case"compositionend":return Nh(v);case"keypress":return v.which!==32?null:(rS=!0,Ip);case"textInput":return d=v.data,d===Ip&&rS?null:d;default:return null}}function LT(d,v){if(qu)return d==="compositionend"||!ff&&Tm(d,v)?(d=ym(),Gu=mm=Fu=null,qu=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Jr&&v.locale!=="ko"?null:v.data;default:return null}}var Ao={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aS(d){var v=d&&d.nodeName&&d.nodeName.toLowerCase();return v==="input"?!!Ao[d.type]:v==="textarea"}function Am(d,v,b,A){lf?ku?ku.push(A):ku=[A]:lf=A,v=bM(v,"onChange"),0<v.length&&(b=new Ep("onChange","change",null,b,A),d.push({event:b,listeners:v}))}var Oh=null,Ph=null;function oS(d){L5(d,0)}function zh(d){var v=zt(d);if(Qs(v))return d}function sS(d,v){if(d==="change")return v}var Np=!1;if($s){var df;if($s){var Ui="oninput"in document;if(!Ui){var IT=document.createElement("div");IT.setAttribute("oninput","return;"),Ui=typeof IT.oninput=="function"}df=Ui}else df=!1;Np=df&&(!document.documentMode||9<document.documentMode)}function NT(){Oh&&(Oh.detachEvent("onpropertychange",lS),Ph=Oh=null)}function lS(d){if(d.propertyName==="value"&&zh(Ph)){var v=[];Am(v,Ph,d,pm(d)),q_(oS,v)}}function Op(d,v,b){d==="focusin"?(NT(),Oh=v,Ph=b,Oh.attachEvent("onpropertychange",lS)):d==="focusout"&&NT()}function Zu(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return zh(Ph)}function OT(d,v){if(d==="click")return zh(v)}function PT(d,v){if(d==="input"||d==="change")return zh(v)}function pf(d,v){return d===v&&(d!==0||1/d===1/v)||d!==d&&v!==v}var Vi=typeof Object.is=="function"?Object.is:pf;function Bh(d,v){if(Vi(d,v))return!0;if(typeof d!="object"||d===null||typeof v!="object"||v===null)return!1;var b=Object.keys(d),A=Object.keys(v);if(b.length!==A.length)return!1;for(A=0;A<b.length;A++){var L=b[A];if(!jt.call(v,L)||!Vi(d[L],v[L]))return!1}return!0}function uS(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function cS(d,v){var b=uS(d);d=0;for(var A;b;){if(b.nodeType===3){if(A=d+b.textContent.length,d<=v&&A>=v)return{node:b,offset:v-d};d=A}t:{for(;b;){if(b.nextSibling){b=b.nextSibling;break t}b=b.parentNode}b=void 0}b=uS(b)}}function wm(d,v){return d&&v?d===v?!0:d&&d.nodeType===3?!1:v&&v.nodeType===3?wm(d,v.parentNode):"contains"in d?d.contains(v):d.compareDocumentPosition?!!(d.compareDocumentPosition(v)&16):!1:!1}function Em(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var v=hr(d.document);v instanceof d.HTMLIFrameElement;){try{var b=typeof v.contentWindow.location.href=="string"}catch{b=!1}if(b)d=v.contentWindow;else break;v=hr(d.document)}return v}function Uh(d){var v=d&&d.nodeName&&d.nodeName.toLowerCase();return v&&(v==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||v==="textarea"||d.contentEditable==="true")}var zT=$s&&"documentMode"in document&&11>=document.documentMode,Vh=null,Cm=null,Hh=null,wo=!1;function Dm(d,v,b){var A=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;wo||Vh==null||Vh!==hr(A)||(A=Vh,"selectionStart"in A&&Uh(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Hh&&Bh(Hh,A)||(Hh=A,A=bM(Cm,"onSelect"),0<A.length&&(v=new Ep("onSelect","select",null,v,b),d.push({event:v,listeners:A}),v.target=Vh)))}function ju(d,v){var b={};return b[d.toLowerCase()]=v.toLowerCase(),b["Webkit"+d]="webkit"+v,b["Moz"+d]="moz"+v,b}var kh={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionrun:ju("Transition","TransitionRun"),transitionstart:ju("Transition","TransitionStart"),transitioncancel:ju("Transition","TransitionCancel"),transitionend:ju("Transition","TransitionEnd")},Pp={},Pa={};$s&&(Pa=document.createElement("div").style,"AnimationEvent"in window||(delete kh.animationend.animation,delete kh.animationiteration.animation,delete kh.animationstart.animation),"TransitionEvent"in window||delete kh.transitionend.transition);function Ku(d){if(Pp[d])return Pp[d];if(!kh[d])return d;var v=kh[d],b;for(b in v)if(v.hasOwnProperty(b)&&b in Pa)return Pp[d]=v[b];return d}var $a=Ku("animationend"),fS=Ku("animationiteration"),tl=Ku("animationstart"),Fh=Ku("transitionrun"),Qu=Ku("transitionstart"),hS=Ku("transitioncancel"),Rm=Ku("transitionend"),Yl=new Map,Lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lm.push("scrollEnd");function ma(d,v){Yl.set(d,v),be(v,[d])}var Ju=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var v=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(v))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},Vr=[],vf=0,Im=0;function $u(){for(var d=vf,v=Im=vf=0;v<d;){var b=Vr[v];Vr[v++]=null;var A=Vr[v];Vr[v++]=null;var L=Vr[v];Vr[v++]=null;var P=Vr[v];if(Vr[v++]=null,A!==null&&L!==null){var X=A.pending;X===null?L.next=L:(L.next=X.next,X.next=L),A.pending=L}P!==0&&Nm(b,L,P)}}function zp(d,v,b,A){Vr[vf++]=d,Vr[vf++]=v,Vr[vf++]=b,Vr[vf++]=A,Im|=A,d.lanes|=A,d=d.alternate,d!==null&&(d.lanes|=A)}function Gh(d,v,b,A){return zp(d,v,b,A),Xh(d)}function tc(d,v){return zp(d,null,null,v),Xh(d)}function Nm(d,v,b){d.lanes|=b;var A=d.alternate;A!==null&&(A.lanes|=b);for(var L=!1,P=d.return;P!==null;)P.childLanes|=b,A=P.alternate,A!==null&&(A.childLanes|=b),P.tag===22&&(d=P.stateNode,d===null||d._visibility&1||(L=!0)),d=P,P=P.return;return d.tag===3?(P=d.stateNode,L&&v!==null&&(L=31-ot(b),d=P.hiddenUpdates,A=d[L],A===null?d[L]=[v]:A.push(v),v.lane=b|536870912),P):null}function Xh(d){if(50<If)throw If=0,Nf=null,Error(n(185));for(var v=d.return;v!==null;)d=v,v=d.return;return d.tag===3?d.stateNode:null}var ec={};function BT(d,v,b,A){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(d,v,b,A){return new BT(d,v,b,A)}function Ba(d){return d=d.prototype,!(!d||!d.isReactComponent)}function el(d,v){var b=d.alternate;return b===null?(b=za(d.tag,v,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=v,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&65011712,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,v=d.dependencies,b.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b.refCleanup=d.refCleanup,b}function ya(d,v){d.flags&=65011714;var b=d.alternate;return b===null?(d.childLanes=0,d.lanes=v,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=b.childLanes,d.lanes=b.lanes,d.child=b.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=b.memoizedProps,d.memoizedState=b.memoizedState,d.updateQueue=b.updateQueue,d.type=b.type,v=b.dependencies,d.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),d}function Bp(d,v,b,A,L,P){var X=0;if(A=d,typeof d=="function")Ba(d)&&(X=1);else if(typeof d=="string")X=btt(d,b,ft.current)?26:d==="html"||d==="head"||d==="body"?27:5;else t:switch(d){case N:return d=za(31,b,v,L),d.elementType=N,d.lanes=P,d;case m:return ql(b.children,L,P,v);case _:X=8,L|=24;break;case S:return d=za(12,b,v,L|2),d.elementType=S,d.lanes=P,d;case D:return d=za(13,b,v,L),d.elementType=D,d.lanes=P,d;case C:return d=za(19,b,v,L),d.elementType=C,d.lanes=P,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case M:X=10;break t;case T:X=9;break t;case w:X=11;break t;case R:X=14;break t;case z:X=16,A=null;break t}X=29,b=Error(n(130,d===null?"null":typeof d,"")),A=null}return v=za(X,b,v,L),v.elementType=d,v.type=A,v.lanes=P,v}function ql(d,v,b,A){return d=za(7,d,A,v),d.lanes=b,d}function Om(d,v,b){return d=za(6,d,null,v),d.lanes=b,d}function UT(d){var v=za(18,null,null,0);return v.stateNode=d,v}function Ss(d,v,b){return v=za(4,d.children!==null?d.children:[],d.key,v),v.lanes=b,v.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},v}var dS=new WeakMap;function to(d,v){if(typeof d=="object"&&d!==null){var b=dS.get(d);return b!==void 0?b:(v={value:d,source:v,stack:oe(v)},dS.set(d,v),v)}return{value:d,source:v,stack:oe(v)}}var xs=[],gf=0,Up=null,Wh=0,Eo=[],eo=0,nl=null,il=1,rl="";function Zl(d,v){xs[gf++]=Wh,xs[gf++]=Up,Up=d,Wh=v}function pS(d,v,b){Eo[eo++]=il,Eo[eo++]=rl,Eo[eo++]=nl,nl=d;var A=il;d=rl;var L=32-ot(A)-1;A&=~(1<<L),b+=1;var P=32-ot(v)+L;if(30<P){var X=L-L%5;P=(A&(1<<X)-1).toString(32),A>>=X,L-=X,il=1<<32-ot(v)+L|b<<L|A,rl=P+d}else il=1<<P|b<<L|A,rl=d}function Pm(d){d.return!==null&&(Zl(d,1),pS(d,1,0))}function nc(d){for(;d===Up;)Up=xs[--gf],xs[gf]=null,Wh=xs[--gf],xs[gf]=null;for(;d===nl;)nl=Eo[--eo],Eo[eo]=null,rl=Eo[--eo],Eo[eo]=null,il=Eo[--eo],Eo[eo]=null}function Vp(d,v){Eo[eo++]=il,Eo[eo++]=rl,Eo[eo++]=nl,il=v.id,rl=v.overflow,nl=d}var Hr=null,Ni=null,jn=!1,jl=null,kr=!1,zm=Error(n(519));function Xn(d){var v=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hp(to(v,d)),zm}function Bm(d){var v=d.stateNode,b=d.type,A=d.memoizedProps;switch(v[In]=d,v[wr]=A,b){case"dialog":Kn("cancel",v),Kn("close",v);break;case"iframe":case"object":case"embed":Kn("load",v);break;case"video":case"audio":for(b=0;b<ox.length;b++)Kn(ox[b],v);break;case"source":Kn("error",v);break;case"img":case"image":case"link":Kn("error",v),Kn("load",v);break;case"details":Kn("toggle",v);break;case"input":Kn("invalid",v),va(v,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0);break;case"select":Kn("invalid",v);break;case"textarea":Kn("invalid",v),Oa(v,A.value,A.defaultValue,A.children)}b=A.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||v.textContent===""+b||A.suppressHydrationWarning===!0||P5(v.textContent,b)?(A.popover!=null&&(Kn("beforetoggle",v),Kn("toggle",v)),A.onScroll!=null&&Kn("scroll",v),A.onScrollEnd!=null&&Kn("scrollend",v),A.onClick!=null&&(v.onclick=Js),v=!0):v=!1,v||Xn(d,!0)}function VT(d){for(Hr=d.return;Hr;)switch(Hr.tag){case 5:case 31:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:Hr=Hr.return}}function mf(d){if(d!==Hr)return!1;if(!jn)return VT(d),jn=!0,!1;var v=d.tag,b;if((b=v!==3&&v!==27)&&((b=v===5)&&(b=d.type,b=!(b!=="form"&&b!=="button")||sR(d.type,d.memoizedProps)),b=!b),b&&Ni&&Xn(d),VT(d),v===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));Ni=X5(d)}else if(v===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));Ni=X5(d)}else v===27?(v=Ni,cd(d.type)?(d=hR,hR=null,Ni=d):Ni=v):Ni=Hr?vl(d.stateNode.nextSibling):null;return!0}function yf(){Ni=Hr=null,jn=!1}function vS(){var d=jl;return d!==null&&(Ma===null?Ma=d:Ma.push.apply(Ma,d),jl=null),d}function Hp(d){jl===null?jl=[d]:jl.push(d)}var gS=q(null),Kl=null,_a=null;function Ql(d,v,b){st(gS,v._currentValue),v._currentValue=b}function es(d){d._currentValue=gS.current,$(gS)}function Jl(d,v,b){for(;d!==null;){var A=d.alternate;if((d.childLanes&v)!==v?(d.childLanes|=v,A!==null&&(A.childLanes|=v)):A!==null&&(A.childLanes&v)!==v&&(A.childLanes|=v),d===b)break;d=d.return}}function Um(d,v,b,A){var L=d.child;for(L!==null&&(L.return=d);L!==null;){var P=L.dependencies;if(P!==null){var X=L.child;P=P.firstContext;t:for(;P!==null;){var J=P;P=L;for(var ct=0;ct<v.length;ct++)if(J.context===v[ct]){P.lanes|=b,J=P.alternate,J!==null&&(J.lanes|=b),Jl(P.return,b,d),A||(X=null);break t}P=J.next}}else if(L.tag===18){if(X=L.return,X===null)throw Error(n(341));X.lanes|=b,P=X.alternate,P!==null&&(P.lanes|=b),Jl(X,b,d),X=null}else X=L.child;if(X!==null)X.return=L;else for(X=L;X!==null;){if(X===d){X=null;break}if(L=X.sibling,L!==null){L.return=X.return,X=L;break}X=X.return}L=X}}function ic(d,v,b,A){d=null;for(var L=v,P=!1;L!==null;){if(!P){if((L.flags&524288)!==0)P=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var X=L.alternate;if(X===null)throw Error(n(387));if(X=X.memoizedProps,X!==null){var J=L.type;Vi(L.pendingProps.value,X.value)||(d!==null?d.push(J):d=[J])}}else if(L===xt.current){if(X=L.alternate,X===null)throw Error(n(387));X.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(d!==null?d.push(fx):d=[fx])}L=L.return}d!==null&&Um(v,d,b,A),v.flags|=262144}function Yh(d){for(d=d.firstContext;d!==null;){if(!Vi(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function _f(d){Kl=d,_a=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Fr(d){return mS(Kl,d)}function kp(d,v){return Kl===null&&_f(d),mS(d,v)}function mS(d,v){var b=v._currentValue;if(v={context:v,memoizedValue:b,next:null},_a===null){if(d===null)throw Error(n(308));_a=v,d.dependencies={lanes:0,firstContext:v},d.flags|=524288}else _a=_a.next=v;return b}var HT=typeof AbortController<"u"?AbortController:function(){var d=[],v=this.signal={aborted:!1,addEventListener:function(b,A){d.push(A)}};this.abort=function(){v.aborted=!0,d.forEach(function(b){return b()})}},kT=i.unstable_scheduleCallback,yS=i.unstable_NormalPriority,Je={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _S(){return{controller:new HT,data:new Map,refCount:0}}function $r(d){d.refCount--,d.refCount===0&&kT(yS,function(){d.controller.abort()})}var Sf=null,SS=0,$l=0,bs=null;function qh(d,v){if(Sf===null){var b=Sf=[];SS=0,$l=JD(),bs={status:"pending",value:void 0,then:function(A){b.push(A)}}}return SS++,v.then(xS,xS),v}function xS(){if(--SS===0&&Sf!==null){bs!==null&&(bs.status="fulfilled");var d=Sf;Sf=null,$l=0,bs=null;for(var v=0;v<d.length;v++)(0,d[v])()}}function bS(d,v){var b=[],A={status:"pending",value:null,reason:null,then:function(L){b.push(L)}};return d.then(function(){A.status="fulfilled",A.value=v;for(var L=0;L<b.length;L++)(0,b[L])(v)},function(L){for(A.status="rejected",A.reason=L,L=0;L<b.length;L++)(0,b[L])(void 0)}),A}var FT=H.S;H.S=function(d,v){sd=K(),typeof v=="object"&&v!==null&&typeof v.then=="function"&&qh(d,v),FT!==null&&FT(d,v)};var rc=q(null);function al(){var d=rc.current;return d!==null?d:vi.pooledCache}function Zh(d,v){v===null?st(rc,rc.current):st(rc,v.pool)}function Vm(){var d=al();return d===null?null:{parent:Je._currentValue,pool:d}}var ac=Error(n(460)),Fp=Error(n(474)),Ts=Error(n(542)),Gp={then:function(){}};function GT(d){return d=d.status,d==="fulfilled"||d==="rejected"}function TS(d,v,b){switch(b=d[b],b===void 0?d.push(v):b!==v&&(v.then(Js,Js),v=b),v.status){case"fulfilled":return v.value;case"rejected":throw d=v.reason,MS(d),d;default:if(typeof v.status=="string")v.then(Js,Js);else{if(d=vi,d!==null&&100<d.shellSuspendCounter)throw Error(n(482));d=v,d.status="pending",d.then(function(A){if(v.status==="pending"){var L=v;L.status="fulfilled",L.value=A}},function(A){if(v.status==="pending"){var L=v;L.status="rejected",L.reason=A}})}switch(v.status){case"fulfilled":return v.value;case"rejected":throw d=v.reason,MS(d),d}throw on=v,ac}}function xf(d){try{var v=d._init;return v(d._payload)}catch(b){throw b!==null&&typeof b=="object"&&typeof b.then=="function"?(on=b,ac):b}}var on=null;function Hm(){if(on===null)throw Error(n(459));var d=on;return on=null,d}function MS(d){if(d===ac||d===Ts)throw Error(n(483))}var oc=null,sc=0;function km(d){var v=sc;return sc+=1,oc===null&&(oc=[]),TS(oc,d,v)}function Xp(d,v){v=v.props.ref,d.ref=v!==void 0?v:null}function Wp(d,v){throw v.$$typeof===h?Error(n(525)):(d=Object.prototype.toString.call(v),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":d)))}function jh(d){function v(_t,pt){if(d){var Et=_t.deletions;Et===null?(_t.deletions=[pt],_t.flags|=16):Et.push(pt)}}function b(_t,pt){if(!d)return null;for(;pt!==null;)v(_t,pt),pt=pt.sibling;return null}function A(_t){for(var pt=new Map;_t!==null;)_t.key!==null?pt.set(_t.key,_t):pt.set(_t.index,_t),_t=_t.sibling;return pt}function L(_t,pt){return _t=el(_t,pt),_t.index=0,_t.sibling=null,_t}function P(_t,pt,Et){return _t.index=Et,d?(Et=_t.alternate,Et!==null?(Et=Et.index,Et<pt?(_t.flags|=67108866,pt):Et):(_t.flags|=67108866,pt)):(_t.flags|=1048576,pt)}function X(_t){return d&&_t.alternate===null&&(_t.flags|=67108866),_t}function J(_t,pt,Et,Qt){return pt===null||pt.tag!==6?(pt=Om(Et,_t.mode,Qt),pt.return=_t,pt):(pt=L(pt,Et),pt.return=_t,pt)}function ct(_t,pt,Et,Qt){var rn=Et.type;return rn===m?Yt(_t,pt,Et.props.children,Qt,Et.key):pt!==null&&(pt.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===z&&xf(rn)===pt.type)?(pt=L(pt,Et.props),Xp(pt,Et),pt.return=_t,pt):(pt=Bp(Et.type,Et.key,Et.props,null,_t.mode,Qt),Xp(pt,Et),pt.return=_t,pt)}function Dt(_t,pt,Et,Qt){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==Et.containerInfo||pt.stateNode.implementation!==Et.implementation?(pt=Ss(Et,_t.mode,Qt),pt.return=_t,pt):(pt=L(pt,Et.children||[]),pt.return=_t,pt)}function Yt(_t,pt,Et,Qt,rn){return pt===null||pt.tag!==7?(pt=ql(Et,_t.mode,Qt,rn),pt.return=_t,pt):(pt=L(pt,Et),pt.return=_t,pt)}function $t(_t,pt,Et){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return pt=Om(""+pt,_t.mode,Et),pt.return=_t,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case p:return Et=Bp(pt.type,pt.key,pt.props,null,_t.mode,Et),Xp(Et,pt),Et.return=_t,Et;case g:return pt=Ss(pt,_t.mode,Et),pt.return=_t,pt;case z:return pt=xf(pt),$t(_t,pt,Et)}if(Z(pt)||F(pt))return pt=ql(pt,_t.mode,Et,null),pt.return=_t,pt;if(typeof pt.then=="function")return $t(_t,km(pt),Et);if(pt.$$typeof===M)return $t(_t,kp(_t,pt),Et);Wp(_t,pt)}return null}function Pt(_t,pt,Et,Qt){var rn=pt!==null?pt.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return rn!==null?null:J(_t,pt,""+Et,Qt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case p:return Et.key===rn?ct(_t,pt,Et,Qt):null;case g:return Et.key===rn?Dt(_t,pt,Et,Qt):null;case z:return Et=xf(Et),Pt(_t,pt,Et,Qt)}if(Z(Et)||F(Et))return rn!==null?null:Yt(_t,pt,Et,Qt,null);if(typeof Et.then=="function")return Pt(_t,pt,km(Et),Qt);if(Et.$$typeof===M)return Pt(_t,pt,kp(_t,Et),Qt);Wp(_t,Et)}return null}function Ht(_t,pt,Et,Qt,rn){if(typeof Qt=="string"&&Qt!==""||typeof Qt=="number"||typeof Qt=="bigint")return _t=_t.get(Et)||null,J(pt,_t,""+Qt,rn);if(typeof Qt=="object"&&Qt!==null){switch(Qt.$$typeof){case p:return _t=_t.get(Qt.key===null?Et:Qt.key)||null,ct(pt,_t,Qt,rn);case g:return _t=_t.get(Qt.key===null?Et:Qt.key)||null,Dt(pt,_t,Qt,rn);case z:return Qt=xf(Qt),Ht(_t,pt,Et,Qt,rn)}if(Z(Qt)||F(Qt))return _t=_t.get(Et)||null,Yt(pt,_t,Qt,rn,null);if(typeof Qt.then=="function")return Ht(_t,pt,Et,km(Qt),rn);if(Qt.$$typeof===M)return Ht(_t,pt,Et,kp(pt,Qt),rn);Wp(pt,Qt)}return null}function Fe(_t,pt,Et,Qt){for(var rn=null,mi=null,Ye=pt,Vn=pt=0,ei=null;Ye!==null&&Vn<Et.length;Vn++){Ye.index>Vn?(ei=Ye,Ye=null):ei=Ye.sibling;var yi=Pt(_t,Ye,Et[Vn],Qt);if(yi===null){Ye===null&&(Ye=ei);break}d&&Ye&&yi.alternate===null&&v(_t,Ye),pt=P(yi,pt,Vn),mi===null?rn=yi:mi.sibling=yi,mi=yi,Ye=ei}if(Vn===Et.length)return b(_t,Ye),jn&&Zl(_t,Vn),rn;if(Ye===null){for(;Vn<Et.length;Vn++)Ye=$t(_t,Et[Vn],Qt),Ye!==null&&(pt=P(Ye,pt,Vn),mi===null?rn=Ye:mi.sibling=Ye,mi=Ye);return jn&&Zl(_t,Vn),rn}for(Ye=A(Ye);Vn<Et.length;Vn++)ei=Ht(Ye,_t,Vn,Et[Vn],Qt),ei!==null&&(d&&ei.alternate!==null&&Ye.delete(ei.key===null?Vn:ei.key),pt=P(ei,pt,Vn),mi===null?rn=ei:mi.sibling=ei,mi=ei);return d&&Ye.forEach(function(vd){return v(_t,vd)}),jn&&Zl(_t,Vn),rn}function fn(_t,pt,Et,Qt){if(Et==null)throw Error(n(151));for(var rn=null,mi=null,Ye=pt,Vn=pt=0,ei=null,yi=Et.next();Ye!==null&&!yi.done;Vn++,yi=Et.next()){Ye.index>Vn?(ei=Ye,Ye=null):ei=Ye.sibling;var vd=Pt(_t,Ye,yi.value,Qt);if(vd===null){Ye===null&&(Ye=ei);break}d&&Ye&&vd.alternate===null&&v(_t,Ye),pt=P(vd,pt,Vn),mi===null?rn=vd:mi.sibling=vd,mi=vd,Ye=ei}if(yi.done)return b(_t,Ye),jn&&Zl(_t,Vn),rn;if(Ye===null){for(;!yi.done;Vn++,yi=Et.next())yi=$t(_t,yi.value,Qt),yi!==null&&(pt=P(yi,pt,Vn),mi===null?rn=yi:mi.sibling=yi,mi=yi);return jn&&Zl(_t,Vn),rn}for(Ye=A(Ye);!yi.done;Vn++,yi=Et.next())yi=Ht(Ye,_t,Vn,yi.value,Qt),yi!==null&&(d&&yi.alternate!==null&&Ye.delete(yi.key===null?Vn:yi.key),pt=P(yi,pt,Vn),mi===null?rn=yi:mi.sibling=yi,mi=yi);return d&&Ye.forEach(function(Ntt){return v(_t,Ntt)}),jn&&Zl(_t,Vn),rn}function zi(_t,pt,Et,Qt){if(typeof Et=="object"&&Et!==null&&Et.type===m&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case p:t:{for(var rn=Et.key;pt!==null;){if(pt.key===rn){if(rn=Et.type,rn===m){if(pt.tag===7){b(_t,pt.sibling),Qt=L(pt,Et.props.children),Qt.return=_t,_t=Qt;break t}}else if(pt.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===z&&xf(rn)===pt.type){b(_t,pt.sibling),Qt=L(pt,Et.props),Xp(Qt,Et),Qt.return=_t,_t=Qt;break t}b(_t,pt);break}else v(_t,pt);pt=pt.sibling}Et.type===m?(Qt=ql(Et.props.children,_t.mode,Qt,Et.key),Qt.return=_t,_t=Qt):(Qt=Bp(Et.type,Et.key,Et.props,null,_t.mode,Qt),Xp(Qt,Et),Qt.return=_t,_t=Qt)}return X(_t);case g:t:{for(rn=Et.key;pt!==null;){if(pt.key===rn)if(pt.tag===4&&pt.stateNode.containerInfo===Et.containerInfo&&pt.stateNode.implementation===Et.implementation){b(_t,pt.sibling),Qt=L(pt,Et.children||[]),Qt.return=_t,_t=Qt;break t}else{b(_t,pt);break}else v(_t,pt);pt=pt.sibling}Qt=Ss(Et,_t.mode,Qt),Qt.return=_t,_t=Qt}return X(_t);case z:return Et=xf(Et),zi(_t,pt,Et,Qt)}if(Z(Et))return Fe(_t,pt,Et,Qt);if(F(Et)){if(rn=F(Et),typeof rn!="function")throw Error(n(150));return Et=rn.call(Et),fn(_t,pt,Et,Qt)}if(typeof Et.then=="function")return zi(_t,pt,km(Et),Qt);if(Et.$$typeof===M)return zi(_t,pt,kp(_t,Et),Qt);Wp(_t,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint"?(Et=""+Et,pt!==null&&pt.tag===6?(b(_t,pt.sibling),Qt=L(pt,Et),Qt.return=_t,_t=Qt):(b(_t,pt),Qt=Om(Et,_t.mode,Qt),Qt.return=_t,_t=Qt),X(_t)):b(_t,pt)}return function(_t,pt,Et,Qt){try{sc=0;var rn=zi(_t,pt,Et,Qt);return oc=null,rn}catch(Ye){if(Ye===ac||Ye===Ts)throw Ye;var mi=za(29,Ye,null,_t.mode);return mi.lanes=Qt,mi.return=_t,mi}finally{}}}var bf=jh(!0),XT=jh(!1),lc=!1;function AS(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wS(d,v){d=d.updateQueue,v.updateQueue===d&&(v.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function ol(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function tu(d,v,b){var A=d.updateQueue;if(A===null)return null;if(A=A.shared,($n&2)!==0){var L=A.pending;return L===null?v.next=v:(v.next=L.next,L.next=v),A.pending=v,v=Xh(d),Nm(d,null,b),v}return zp(d,A,v,b),Xh(d)}function uc(d,v,b){if(v=v.updateQueue,v!==null&&(v=v.shared,(b&4194048)!==0)){var A=v.lanes;A&=d.pendingLanes,b|=A,v.lanes=b,ts(d,b)}}function Fm(d,v){var b=d.updateQueue,A=d.alternate;if(A!==null&&(A=A.updateQueue,b===A)){var L=null,P=null;if(b=b.firstBaseUpdate,b!==null){do{var X={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};P===null?L=P=X:P=P.next=X,b=b.next}while(b!==null);P===null?L=P=v:P=P.next=v}else L=P=v;b={baseState:A.baseState,firstBaseUpdate:L,lastBaseUpdate:P,shared:A.shared,callbacks:A.callbacks},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=v:d.next=v,b.lastBaseUpdate=v}var ES=!1;function Yp(){if(ES){var d=bs;if(d!==null)throw d}}function Tf(d,v,b,A){ES=!1;var L=d.updateQueue;lc=!1;var P=L.firstBaseUpdate,X=L.lastBaseUpdate,J=L.shared.pending;if(J!==null){L.shared.pending=null;var ct=J,Dt=ct.next;ct.next=null,X===null?P=Dt:X.next=Dt,X=ct;var Yt=d.alternate;Yt!==null&&(Yt=Yt.updateQueue,J=Yt.lastBaseUpdate,J!==X&&(J===null?Yt.firstBaseUpdate=Dt:J.next=Dt,Yt.lastBaseUpdate=ct))}if(P!==null){var $t=L.baseState;X=0,Yt=Dt=ct=null,J=P;do{var Pt=J.lane&-536870913,Ht=Pt!==J.lane;if(Ht?(Wn&Pt)===Pt:(A&Pt)===Pt){Pt!==0&&Pt===$l&&(ES=!0),Yt!==null&&(Yt=Yt.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});t:{var Fe=d,fn=J;Pt=v;var zi=b;switch(fn.tag){case 1:if(Fe=fn.payload,typeof Fe=="function"){$t=Fe.call(zi,$t,Pt);break t}$t=Fe;break t;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=fn.payload,Pt=typeof Fe=="function"?Fe.call(zi,$t,Pt):Fe,Pt==null)break t;$t=f({},$t,Pt);break t;case 2:lc=!0}}Pt=J.callback,Pt!==null&&(d.flags|=64,Ht&&(d.flags|=8192),Ht=L.callbacks,Ht===null?L.callbacks=[Pt]:Ht.push(Pt))}else Ht={lane:Pt,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Yt===null?(Dt=Yt=Ht,ct=$t):Yt=Yt.next=Ht,X|=Pt;if(J=J.next,J===null){if(J=L.shared.pending,J===null)break;Ht=J,J=Ht.next,Ht.next=null,L.lastBaseUpdate=Ht,L.shared.pending=null}}while(!0);Yt===null&&(ct=$t),L.baseState=ct,L.firstBaseUpdate=Dt,L.lastBaseUpdate=Yt,P===null&&(L.shared.lanes=0),Uo|=X,d.lanes=X,d.memoizedState=$t}}function sl(d,v){if(typeof d!="function")throw Error(n(191,d));d.call(v)}function ta(d,v){var b=d.callbacks;if(b!==null)for(d.callbacks=null,d=0;d<b.length;d++)sl(b[d],v)}var Co=q(null),Ua=q(0);function CS(d,v){d=or,st(Ua,d),st(Co,v),or=d|v.baseLanes}function DS(){st(Ua,or),st(Co,Co.current)}function Sa(){or=Ua.current,$(Co),$(Ua)}var Er=q(null),ns=null;function cc(d){var v=d.alternate;st(qi,qi.current&1),st(Er,d),ns===null&&(v===null||Co.current!==null||v.memoizedState!==null)&&(ns=d)}function RS(d){st(qi,qi.current),st(Er,d),ns===null&&(ns=d)}function WT(d){d.tag===22?(st(qi,qi.current),st(Er,d),ns===null&&(ns=d)):eu()}function eu(){st(qi,qi.current),st(Er,Er.current)}function Do(d){$(Er),ns===d&&(ns=null),$(qi)}var qi=q(0);function Gm(d){for(var v=d;v!==null;){if(v.tag===13){var b=v.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||cR(b)||fR(b)))return v}else if(v.tag===19&&(v.memoizedProps.revealOrder==="forwards"||v.memoizedProps.revealOrder==="backwards"||v.memoizedProps.revealOrder==="unstable_legacy-backwards"||v.memoizedProps.revealOrder==="together")){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var no=0,hn=null,Ai=null,pr=null,Xm=!1,ll=!1,Mf=!1,Wm=0,qp=0,ul=null,FD=0;function Zi(){throw Error(n(321))}function LS(d,v){if(v===null)return!1;for(var b=0;b<v.length&&b<d.length;b++)if(!Vi(d[b],v[b]))return!1;return!0}function IS(d,v,b,A,L,P){return no=P,hn=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,H.H=d===null||d.memoizedState===null?fM:Jh,Mf=!1,P=b(A,L),Mf=!1,ll&&(P=qT(v,b,A,L)),YT(d),P}function YT(d){H.H=Jp;var v=Ai!==null&&Ai.next!==null;if(no=0,pr=Ai=hn=null,Xm=!1,qp=0,ul=null,v)throw Error(n(300));d===null||Hi||(d=d.dependencies,d!==null&&Yh(d)&&(Hi=!0))}function qT(d,v,b,A){hn=d;var L=0;do{if(ll&&(ul=null),qp=0,ll=!1,25<=L)throw Error(n(301));if(L+=1,pr=Ai=null,d.updateQueue!=null){var P=d.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}H.H=$p,P=v(b,A)}while(ll);return P}function GD(){var d=H.H,v=d.useState()[0];return v=typeof v.then=="function"?jp(v):v,d=d.useState()[0],(Ai!==null?Ai.memoizedState:null)!==d&&(hn.flags|=1024),v}function NS(){var d=Wm!==0;return Wm=0,d}function OS(d,v,b){v.updateQueue=d.updateQueue,v.flags&=-2053,d.lanes&=~b}function PS(d){if(Xm){for(d=d.memoizedState;d!==null;){var v=d.queue;v!==null&&(v.pending=null),d=d.next}Xm=!1}no=0,pr=Ai=hn=null,ll=!1,qp=Wm=0,ul=null}function Va(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?hn.memoizedState=pr=d:pr=pr.next=d,pr}function nr(){if(Ai===null){var d=hn.alternate;d=d!==null?d.memoizedState:null}else d=Ai.next;var v=pr===null?hn.memoizedState:pr.next;if(v!==null)pr=v,Ai=d;else{if(d===null)throw hn.alternate===null?Error(n(467)):Error(n(310));Ai=d,d={memoizedState:Ai.memoizedState,baseState:Ai.baseState,baseQueue:Ai.baseQueue,queue:Ai.queue,next:null},pr===null?hn.memoizedState=pr=d:pr=pr.next=d}return pr}function Zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jp(d){var v=qp;return qp+=1,ul===null&&(ul=[]),d=TS(ul,d,v),v=hn,(pr===null?v.memoizedState:pr.next)===null&&(v=v.alternate,H.H=v===null||v.memoizedState===null?fM:Jh),d}function Ym(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return jp(d);if(d.$$typeof===M)return Fr(d)}throw Error(n(438,String(d)))}function zS(d){var v=null,b=hn.updateQueue;if(b!==null&&(v=b.memoCache),v==null){var A=hn.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(v={data:A.data.map(function(L){return L.slice()}),index:0})))}if(v==null&&(v={data:[],index:0}),b===null&&(b=Zp(),hn.updateQueue=b),b.memoCache=v,b=v.data[v.index],b===void 0)for(b=v.data[v.index]=Array(d),A=0;A<d;A++)b[A]=O;return v.index++,b}function nu(d,v){return typeof v=="function"?v(d):v}function qm(d){var v=nr();return BS(v,Ai,d)}function BS(d,v,b){var A=d.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=b;var L=d.baseQueue,P=A.pending;if(P!==null){if(L!==null){var X=L.next;L.next=P.next,P.next=X}v.baseQueue=L=P,A.pending=null}if(P=d.baseState,L===null)d.memoizedState=P;else{v=L.next;var J=X=null,ct=null,Dt=v,Yt=!1;do{var $t=Dt.lane&-536870913;if($t!==Dt.lane?(Wn&$t)===$t:(no&$t)===$t){var Pt=Dt.revertLane;if(Pt===0)ct!==null&&(ct=ct.next={lane:0,revertLane:0,gesture:null,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null}),$t===$l&&(Yt=!0);else if((no&Pt)===Pt){Dt=Dt.next,Pt===$l&&(Yt=!0);continue}else $t={lane:0,revertLane:Dt.revertLane,gesture:null,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null},ct===null?(J=ct=$t,X=P):ct=ct.next=$t,hn.lanes|=Pt,Uo|=Pt;$t=Dt.action,Mf&&b(P,$t),P=Dt.hasEagerState?Dt.eagerState:b(P,$t)}else Pt={lane:$t,revertLane:Dt.revertLane,gesture:Dt.gesture,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null},ct===null?(J=ct=Pt,X=P):ct=ct.next=Pt,hn.lanes|=$t,Uo|=$t;Dt=Dt.next}while(Dt!==null&&Dt!==v);if(ct===null?X=P:ct.next=J,!Vi(P,d.memoizedState)&&(Hi=!0,Yt&&(b=bs,b!==null)))throw b;d.memoizedState=P,d.baseState=X,d.baseQueue=ct,A.lastRenderedState=P}return L===null&&(A.lanes=0),[d.memoizedState,A.dispatch]}function Zm(d){var v=nr(),b=v.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=d;var A=b.dispatch,L=b.pending,P=v.memoizedState;if(L!==null){b.pending=null;var X=L=L.next;do P=d(P,X.action),X=X.next;while(X!==L);Vi(P,v.memoizedState)||(Hi=!0),v.memoizedState=P,v.baseQueue===null&&(v.baseState=P),b.lastRenderedState=P}return[P,A]}function US(d,v,b){var A=hn,L=nr(),P=jn;if(P){if(b===void 0)throw Error(n(407));b=b()}else b=v();var X=!Vi((Ai||L).memoizedState,b);if(X&&(L.memoizedState=b,Hi=!0),L=L.queue,GS(HS.bind(null,A,L,d),[d]),L.getSnapshot!==v||X||pr!==null&&pr.memoizedState.tag&1){if(A.flags|=2048,Kh(9,{destroy:void 0},VS.bind(null,A,L,b,v),null),vi===null)throw Error(n(349));P||(no&127)!==0||ZT(A,v,b)}return b}function ZT(d,v,b){d.flags|=16384,d={getSnapshot:v,value:b},v=hn.updateQueue,v===null?(v=Zp(),hn.updateQueue=v,v.stores=[d]):(b=v.stores,b===null?v.stores=[d]:b.push(d))}function VS(d,v,b,A){v.value=b,v.getSnapshot=A,kS(v)&&jm(d)}function HS(d,v,b){return b(function(){kS(v)&&jm(d)})}function kS(d){var v=d.getSnapshot;d=d.value;try{var b=v();return!Vi(d,b)}catch{return!0}}function jm(d){var v=tc(d,2);v!==null&&x(v,d,2)}function Kp(d){var v=Va();if(typeof d=="function"){var b=d;if(d=b(),Mf){Ve(!0);try{b()}finally{Ve(!1)}}}return v.memoizedState=v.baseState=d,v.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:d},v}function jT(d,v,b,A){return d.baseState=b,BS(d,Ai,typeof A=="function"?A:nu)}function XD(d,v,b,A,L){if(iu(d))throw Error(n(485));if(d=v.action,d!==null){var P={payload:L,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){P.listeners.push(X)}};H.T!==null?b(!0):P.isTransition=!1,A(P),b=v.pending,b===null?(P.next=v.pending=P,KT(v,P)):(P.next=b.next,v.pending=b.next=P)}}function KT(d,v){var b=v.action,A=v.payload,L=d.state;if(v.isTransition){var P=H.T,X={};H.T=X;try{var J=b(L,A),ct=H.S;ct!==null&&ct(X,J),QT(d,v,J)}catch(Dt){Km(d,v,Dt)}finally{P!==null&&X.types!==null&&(P.types=X.types),H.T=P}}else try{P=b(L,A),QT(d,v,P)}catch(Dt){Km(d,v,Dt)}}function QT(d,v,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(A){FS(d,v,A)},function(A){return Km(d,v,A)}):FS(d,v,b)}function FS(d,v,b){v.status="fulfilled",v.value=b,JT(v),d.state=b,v=d.pending,v!==null&&(b=v.next,b===v?d.pending=null:(b=b.next,v.next=b,KT(d,b)))}function Km(d,v,b){var A=d.pending;if(d.pending=null,A!==null){A=A.next;do v.status="rejected",v.reason=b,JT(v),v=v.next;while(v!==A)}d.action=null}function JT(d){d=d.listeners;for(var v=0;v<d.length;v++)(0,d[v])()}function $T(d,v){return v}function tM(d,v){if(jn){var b=vi.formState;if(b!==null){t:{var A=hn;if(jn){if(Ni){e:{for(var L=Ni,P=kr;L.nodeType!==8;){if(!P){L=null;break e}if(L=vl(L.nextSibling),L===null){L=null;break e}}P=L.data,L=P==="F!"||P==="F"?L:null}if(L){Ni=vl(L.nextSibling),A=L.data==="F!";break t}}Xn(A)}A=!1}A&&(v=b[0])}}return b=Va(),b.memoizedState=b.baseState=v,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$T,lastRenderedState:v},b.queue=A,b=cM.bind(null,hn,A),A.dispatch=b,A=Kp(!1),P=Qp.bind(null,hn,!1,A.queue),A=Va(),L={state:v,dispatch:null,action:d,pending:null},A.queue=L,b=XD.bind(null,hn,L,P,b),L.dispatch=b,A.memoizedState=d,[v,b,!1]}function eM(d){var v=nr();return nM(v,Ai,d)}function nM(d,v,b){if(v=BS(d,v,$T)[0],d=qm(nu)[0],typeof v=="object"&&v!==null&&typeof v.then=="function")try{var A=jp(v)}catch(X){throw X===ac?Ts:X}else A=v;v=nr();var L=v.queue,P=L.dispatch;return b!==v.memoizedState&&(hn.flags|=2048,Kh(9,{destroy:void 0},WD.bind(null,L,b),null)),[A,P,d]}function WD(d,v){d.action=v}function iM(d){var v=nr(),b=Ai;if(b!==null)return nM(v,b,d);nr(),v=v.memoizedState,b=nr();var A=b.queue.dispatch;return b.memoizedState=d,[v,A,!1]}function Kh(d,v,b,A){return d={tag:d,create:b,deps:A,inst:v,next:null},v=hn.updateQueue,v===null&&(v=Zp(),hn.updateQueue=v),b=v.lastEffect,b===null?v.lastEffect=d.next=d:(A=b.next,b.next=d,d.next=A,v.lastEffect=d),d}function rM(){return nr().memoizedState}function Qm(d,v,b,A){var L=Va();hn.flags|=d,L.memoizedState=Kh(1|v,{destroy:void 0},b,A===void 0?null:A)}function Jm(d,v,b,A){var L=nr();A=A===void 0?null:A;var P=L.memoizedState.inst;Ai!==null&&A!==null&&LS(A,Ai.memoizedState.deps)?L.memoizedState=Kh(v,P,b,A):(hn.flags|=d,L.memoizedState=Kh(1|v,P,b,A))}function aM(d,v){Qm(8390656,8,d,v)}function GS(d,v){Jm(2048,8,d,v)}function oM(d){hn.flags|=4;var v=hn.updateQueue;if(v===null)v=Zp(),hn.updateQueue=v,v.events=[d];else{var b=v.events;b===null?v.events=[d]:b.push(d)}}function sM(d){var v=nr().memoizedState;return oM({ref:v,nextImpl:d}),function(){if(($n&2)!==0)throw Error(n(440));return v.impl.apply(void 0,arguments)}}function lM(d,v){return Jm(4,2,d,v)}function Ro(d,v){return Jm(4,4,d,v)}function XS(d,v){if(typeof v=="function"){d=d();var b=v(d);return function(){typeof b=="function"?b():v(null)}}if(v!=null)return d=d(),v.current=d,function(){v.current=null}}function $m(d,v,b){b=b!=null?b.concat([d]):null,Jm(4,4,XS.bind(null,v,d),b)}function ty(){}function WS(d,v){var b=nr();v=v===void 0?null:v;var A=b.memoizedState;return v!==null&&LS(v,A[1])?A[0]:(b.memoizedState=[d,v],d)}function YS(d,v){var b=nr();v=v===void 0?null:v;var A=b.memoizedState;if(v!==null&&LS(v,A[1]))return A[0];if(A=d(),Mf){Ve(!0);try{d()}finally{Ve(!1)}}return b.memoizedState=[A,v],A}function qS(d,v,b){return b===void 0||(no&1073741824)!==0&&(Wn&261930)===0?d.memoizedState=v:(d.memoizedState=b,d=y(),hn.lanes|=d,Uo|=d,b)}function ZS(d,v,b,A){return Vi(b,v)?b:Co.current!==null?(d=qS(d,b,A),Vi(d,v)||(Hi=!0),d):(no&42)===0||(no&1073741824)!==0&&(Wn&261930)===0?(Hi=!0,d.memoizedState=b):(d=y(),hn.lanes|=d,Uo|=d,v)}function jS(d,v,b,A,L){var P=j.p;j.p=P!==0&&8>P?P:8;var X=H.T,J={};H.T=J,Qp(d,!1,v,b);try{var ct=L(),Dt=H.S;if(Dt!==null&&Dt(J,ct),ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var Yt=bS(ct,A);Qh(d,v,Yt,ka(d))}else Qh(d,v,A,ka(d))}catch($t){Qh(d,v,{then:function(){},status:"rejected",reason:$t},ka())}finally{j.p=P,X!==null&&J.types!==null&&(X.types=J.types),H.T=X}}function YD(){}function KS(d,v,b,A){if(d.tag!==5)throw Error(n(476));var L=uM(d).queue;jS(d,L,v,Y,b===null?YD:function(){return QS(d),b(A)})}function uM(d){var v=d.memoizedState;if(v!==null)return v;v={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:Y},next:null};var b={};return v.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:b},next:null},d.memoizedState=v,d=d.alternate,d!==null&&(d.memoizedState=v),v}function QS(d){var v=uM(d);v.next===null&&(v=d.alternate.memoizedState),Qh(d,v.next.queue,{},ka())}function JS(){return Fr(fx)}function ea(){return nr().memoizedState}function $S(){return nr().memoizedState}function qD(d){for(var v=d.return;v!==null;){switch(v.tag){case 24:case 3:var b=ka();d=ol(b);var A=tu(v,d,b);A!==null&&(x(A,v,b),uc(A,v,b)),v={cache:_S()},d.payload=v;return}v=v.return}}function ZD(d,v,b){var A=ka();b={lane:A,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},iu(d)?Af(v,b):(b=Gh(d,v,b,A),b!==null&&(x(b,d,A),io(b,v,A)))}function cM(d,v,b){var A=ka();Qh(d,v,b,A)}function Qh(d,v,b,A){var L={lane:A,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null};if(iu(d))Af(v,L);else{var P=d.alternate;if(d.lanes===0&&(P===null||P.lanes===0)&&(P=v.lastRenderedReducer,P!==null))try{var X=v.lastRenderedState,J=P(X,b);if(L.hasEagerState=!0,L.eagerState=J,Vi(J,X))return zp(d,v,L,0),vi===null&&$u(),!1}catch{}finally{}if(b=Gh(d,v,L,A),b!==null)return x(b,d,A),io(b,v,A),!0}return!1}function Qp(d,v,b,A){if(A={lane:2,revertLane:JD(),gesture:null,action:A,hasEagerState:!1,eagerState:null,next:null},iu(d)){if(v)throw Error(n(479))}else v=Gh(d,b,A,2),v!==null&&x(v,d,2)}function iu(d){var v=d.alternate;return d===hn||v!==null&&v===hn}function Af(d,v){ll=Xm=!0;var b=d.pending;b===null?v.next=v:(v.next=b.next,b.next=v),d.pending=v}function io(d,v,b){if((b&4194048)!==0){var A=v.lanes;A&=d.pendingLanes,b|=A,v.lanes=b,ts(d,b)}}var Jp={readContext:Fr,use:Ym,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useLayoutEffect:Zi,useInsertionEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useSyncExternalStore:Zi,useId:Zi,useHostTransitionStatus:Zi,useFormState:Zi,useActionState:Zi,useOptimistic:Zi,useMemoCache:Zi,useCacheRefresh:Zi};Jp.useEffectEvent=Zi;var fM={readContext:Fr,use:Ym,useCallback:function(d,v){return Va().memoizedState=[d,v===void 0?null:v],d},useContext:Fr,useEffect:aM,useImperativeHandle:function(d,v,b){b=b!=null?b.concat([d]):null,Qm(4194308,4,XS.bind(null,v,d),b)},useLayoutEffect:function(d,v){return Qm(4194308,4,d,v)},useInsertionEffect:function(d,v){Qm(4,2,d,v)},useMemo:function(d,v){var b=Va();v=v===void 0?null:v;var A=d();if(Mf){Ve(!0);try{d()}finally{Ve(!1)}}return b.memoizedState=[A,v],A},useReducer:function(d,v,b){var A=Va();if(b!==void 0){var L=b(v);if(Mf){Ve(!0);try{b(v)}finally{Ve(!1)}}}else L=v;return A.memoizedState=A.baseState=L,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:L},A.queue=d,d=d.dispatch=ZD.bind(null,hn,d),[A.memoizedState,d]},useRef:function(d){var v=Va();return d={current:d},v.memoizedState=d},useState:function(d){d=Kp(d);var v=d.queue,b=cM.bind(null,hn,v);return v.dispatch=b,[d.memoizedState,b]},useDebugValue:ty,useDeferredValue:function(d,v){var b=Va();return qS(b,d,v)},useTransition:function(){var d=Kp(!1);return d=jS.bind(null,hn,d.queue,!0,!1),Va().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,v,b){var A=hn,L=Va();if(jn){if(b===void 0)throw Error(n(407));b=b()}else{if(b=v(),vi===null)throw Error(n(349));(Wn&127)!==0||ZT(A,v,b)}L.memoizedState=b;var P={value:b,getSnapshot:v};return L.queue=P,aM(HS.bind(null,A,P,d),[d]),A.flags|=2048,Kh(9,{destroy:void 0},VS.bind(null,A,P,b,v),null),b},useId:function(){var d=Va(),v=vi.identifierPrefix;if(jn){var b=rl,A=il;b=(A&~(1<<32-ot(A)-1)).toString(32)+b,v="_"+v+"R_"+b,b=Wm++,0<b&&(v+="H"+b.toString(32)),v+="_"}else b=FD++,v="_"+v+"r_"+b.toString(32)+"_";return d.memoizedState=v},useHostTransitionStatus:JS,useFormState:tM,useActionState:tM,useOptimistic:function(d){var v=Va();v.memoizedState=v.baseState=d;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return v.queue=b,v=Qp.bind(null,hn,!0,b),b.dispatch=v,[d,v]},useMemoCache:zS,useCacheRefresh:function(){return Va().memoizedState=qD.bind(null,hn)},useEffectEvent:function(d){var v=Va(),b={impl:d};return v.memoizedState=b,function(){if(($n&2)!==0)throw Error(n(440));return b.impl.apply(void 0,arguments)}}},Jh={readContext:Fr,use:Ym,useCallback:WS,useContext:Fr,useEffect:GS,useImperativeHandle:$m,useInsertionEffect:lM,useLayoutEffect:Ro,useMemo:YS,useReducer:qm,useRef:rM,useState:function(){return qm(nu)},useDebugValue:ty,useDeferredValue:function(d,v){var b=nr();return ZS(b,Ai.memoizedState,d,v)},useTransition:function(){var d=qm(nu)[0],v=nr().memoizedState;return[typeof d=="boolean"?d:jp(d),v]},useSyncExternalStore:US,useId:ea,useHostTransitionStatus:JS,useFormState:eM,useActionState:eM,useOptimistic:function(d,v){var b=nr();return jT(b,Ai,d,v)},useMemoCache:zS,useCacheRefresh:$S};Jh.useEffectEvent=sM;var $p={readContext:Fr,use:Ym,useCallback:WS,useContext:Fr,useEffect:GS,useImperativeHandle:$m,useInsertionEffect:lM,useLayoutEffect:Ro,useMemo:YS,useReducer:Zm,useRef:rM,useState:function(){return Zm(nu)},useDebugValue:ty,useDeferredValue:function(d,v){var b=nr();return Ai===null?qS(b,d,v):ZS(b,Ai.memoizedState,d,v)},useTransition:function(){var d=Zm(nu)[0],v=nr().memoizedState;return[typeof d=="boolean"?d:jp(d),v]},useSyncExternalStore:US,useId:ea,useHostTransitionStatus:JS,useFormState:iM,useActionState:iM,useOptimistic:function(d,v){var b=nr();return Ai!==null?jT(b,Ai,d,v):(b.baseState=d,[d,b.queue.dispatch])},useMemoCache:zS,useCacheRefresh:$S};$p.useEffectEvent=sM;function $h(d,v,b,A){v=d.memoizedState,b=b(A,v),b=b==null?v:f({},v,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}var tv={enqueueSetState:function(d,v,b){d=d._reactInternals;var A=ka(),L=ol(A);L.payload=v,b!=null&&(L.callback=b),v=tu(d,L,A),v!==null&&(x(v,d,A),uc(v,d,A))},enqueueReplaceState:function(d,v,b){d=d._reactInternals;var A=ka(),L=ol(A);L.tag=1,L.payload=v,b!=null&&(L.callback=b),v=tu(d,L,A),v!==null&&(x(v,d,A),uc(v,d,A))},enqueueForceUpdate:function(d,v){d=d._reactInternals;var b=ka(),A=ol(b);A.tag=2,v!=null&&(A.callback=v),v=tu(d,A,b),v!==null&&(x(v,d,b),uc(v,d,b))}};function hM(d,v,b,A,L,P,X){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(A,P,X):v.prototype&&v.prototype.isPureReactComponent?!Bh(b,A)||!Bh(L,P):!0}function dM(d,v,b,A){d=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(b,A),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(b,A),v.state!==d&&tv.enqueueReplaceState(v,v.state,null)}function na(d,v){var b=v;if("ref"in v){b={};for(var A in v)A!=="ref"&&(b[A]=v[A])}if(d=d.defaultProps){b===v&&(b=f({},b));for(var L in d)b[L]===void 0&&(b[L]=d[L])}return b}function tx(d){Ju(d)}function pM(d){console.error(d)}function ey(d){Ju(d)}function ny(d,v){try{var b=d.onUncaughtError;b(v.value,{componentStack:v.stack})}catch(A){setTimeout(function(){throw A})}}function vM(d,v,b){try{var A=d.onCaughtError;A(b.value,{componentStack:b.stack,errorBoundary:v.tag===1?v.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function ex(d,v,b){return b=ol(b),b.tag=3,b.payload={element:null},b.callback=function(){ny(d,v)},b}function td(d){return d=ol(d),d.tag=3,d}function ro(d,v,b,A){var L=b.type.getDerivedStateFromError;if(typeof L=="function"){var P=A.value;d.payload=function(){return L(P)},d.callback=function(){vM(v,b,A)}}var X=b.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(d.callback=function(){vM(v,b,A),typeof L!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var J=A.stack;this.componentDidCatch(A.value,{componentStack:J!==null?J:""})})}function Lo(d,v,b,A,L){if(b.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(v=b.alternate,v!==null&&ic(v,b,L,!0),b=Er.current,b!==null){switch(b.tag){case 31:case 13:return ns===null?Sn():b.alternate===null&&gi===0&&(gi=3),b.flags&=-257,b.flags|=65536,b.lanes=L,A===Gp?b.flags|=16384:(v=b.updateQueue,v===null?b.updateQueue=new Set([A]):v.add(A),jD(d,A,L)),!1;case 22:return b.flags|=65536,A===Gp?b.flags|=16384:(v=b.updateQueue,v===null?(v={transitions:null,markerInstances:null,retryQueue:new Set([A])},b.updateQueue=v):(b=v.retryQueue,b===null?v.retryQueue=new Set([A]):b.add(A)),jD(d,A,L)),!1}throw Error(n(435,b.tag))}return jD(d,A,L),Sn(),!1}if(jn)return v=Er.current,v!==null?((v.flags&65536)===0&&(v.flags|=256),v.flags|=65536,v.lanes=L,A!==zm&&(d=Error(n(422),{cause:A}),Hp(to(d,b)))):(A!==zm&&(v=Error(n(423),{cause:A}),Hp(to(v,b))),d=d.current.alternate,d.flags|=65536,L&=-L,d.lanes|=L,A=to(A,b),L=ex(d.stateNode,A,L),Fm(d,L),gi!==4&&(gi=2)),!1;var P=Error(n(520),{cause:A});if(P=to(P,b),Cs===null?Cs=[P]:Cs.push(P),gi!==4&&(gi=2),v===null)return!0;A=to(A,b),b=v;do{switch(b.tag){case 3:return b.flags|=65536,d=L&-L,b.lanes|=d,d=ex(b.stateNode,A,d),Fm(b,d),!1;case 1:if(v=b.type,P=b.stateNode,(b.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(pl===null||!pl.has(P))))return b.flags|=65536,L&=-L,b.lanes|=L,L=td(L),ro(L,d,b,A),Fm(b,L),!1}b=b.return}while(b!==null);return!1}var iy=Error(n(461)),Hi=!1;function ji(d,v,b,A){v.child=d===null?XT(v,null,b,A):bf(v,d.child,b,A)}function ev(d,v,b,A,L){b=b.render;var P=v.ref;if("ref"in A){var X={};for(var J in A)J!=="ref"&&(X[J]=A[J])}else X=A;return _f(v),A=IS(d,v,b,X,P,L),J=NS(),d!==null&&!Hi?(OS(d,v,L),ws(d,v,L)):(jn&&J&&Pm(v),v.flags|=1,ji(d,v,A,L),v.child)}function nv(d,v,b,A,L){if(d===null){var P=b.type;return typeof P=="function"&&!Ba(P)&&P.defaultProps===void 0&&b.compare===null?(v.tag=15,v.type=P,Io(d,v,P,A,L)):(d=Bp(b.type,null,A,v,v.mode,L),d.ref=v.ref,d.return=v,v.child=d)}if(P=d.child,!hc(d,L)){var X=P.memoizedProps;if(b=b.compare,b=b!==null?b:Bh,b(X,A)&&d.ref===v.ref)return ws(d,v,L)}return v.flags|=1,d=el(P,A),d.ref=v.ref,d.return=v,v.child=d}function Io(d,v,b,A,L){if(d!==null){var P=d.memoizedProps;if(Bh(P,A)&&d.ref===v.ref)if(Hi=!1,v.pendingProps=A=P,hc(d,L))(d.flags&131072)!==0&&(Hi=!0);else return v.lanes=d.lanes,ws(d,v,L)}return ed(d,v,b,A,L)}function No(d,v,b,A){var L=A.children,P=d!==null?d.memoizedState:null;if(d===null&&v.stateNode===null&&(v.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.mode==="hidden"){if((v.flags&128)!==0){if(P=P!==null?P.baseLanes|b:b,d!==null){for(A=v.child=d.child,L=0;A!==null;)L=L|A.lanes|A.childLanes,A=A.sibling;A=L&~P}else A=0,v.child=null;return cl(d,v,P,b,A)}if((b&536870912)!==0)v.memoizedState={baseLanes:0,cachePool:null},d!==null&&Zh(v,P!==null?P.cachePool:null),P!==null?CS(v,P):DS(),WT(v);else return A=v.lanes=536870912,cl(d,v,P!==null?P.baseLanes|b:b,b,A)}else P!==null?(Zh(v,P.cachePool),CS(v,P),eu(),v.memoizedState=null):(d!==null&&Zh(v,null),DS(),eu());return ji(d,v,L,b),v.child}function Ms(d,v){return d!==null&&d.tag===22||v.stateNode!==null||(v.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.sibling}function cl(d,v,b,A,L){var P=al();return P=P===null?null:{parent:Je._currentValue,pool:P},v.memoizedState={baseLanes:b,cachePool:P},d!==null&&Zh(v,null),DS(),WT(v),d!==null&&ic(d,v,A,!0),v.childLanes=L,null}function is(d,v){return v=nd({mode:v.mode,children:v.children},d.mode),v.ref=d.ref,d.child=v,v.return=d,v}function Gr(d,v,b){return bf(v,d.child,null,b),d=is(v,v.pendingProps),d.flags|=2,Do(v),v.memoizedState=null,d}function iv(d,v,b){var A=v.pendingProps,L=(v.flags&128)!==0;if(v.flags&=-129,d===null){if(jn){if(A.mode==="hidden")return d=is(v,A),v.lanes=536870912,Ms(null,d);if(RS(v),(d=Ni)?(d=G5(d,kr),d=d!==null&&d.data==="&"?d:null,d!==null&&(v.memoizedState={dehydrated:d,treeContext:nl!==null?{id:il,overflow:rl}:null,retryLane:536870912,hydrationErrors:null},b=UT(d),b.return=v,v.child=b,Hr=v,Ni=null)):d=null,d===null)throw Xn(v);return v.lanes=536870912,null}return is(v,A)}var P=d.memoizedState;if(P!==null){var X=P.dehydrated;if(RS(v),L)if(v.flags&256)v.flags&=-257,v=Gr(d,v,b);else if(v.memoizedState!==null)v.child=d.child,v.flags|=128,v=null;else throw Error(n(558));else if(Hi||ic(d,v,b,!1),L=(b&d.childLanes)!==0,Hi||L){if(A=vi,A!==null&&(X=Vu(A,b),X!==0&&X!==P.retryLane))throw P.retryLane=X,tc(d,X),x(A,d,X),iy;Sn(),v=Gr(d,v,b)}else d=P.treeContext,Ni=vl(X.nextSibling),Hr=v,jn=!0,jl=null,kr=!1,d!==null&&Vp(v,d),v=is(v,A),v.flags|=4096;return v}return d=el(d.child,{mode:A.mode,children:A.children}),d.ref=v.ref,v.child=d,d.return=v,d}function As(d,v){var b=v.ref;if(b===null)d!==null&&d.ref!==null&&(v.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(n(284));(d===null||d.ref!==b)&&(v.flags|=4194816)}}function ed(d,v,b,A,L){return _f(v),b=IS(d,v,b,A,void 0,L),A=NS(),d!==null&&!Hi?(OS(d,v,L),ws(d,v,L)):(jn&&A&&Pm(v),v.flags|=1,ji(d,v,b,L),v.child)}function xa(d,v,b,A,L,P){return _f(v),v.updateQueue=null,b=qT(v,A,b,L),YT(d),A=NS(),d!==null&&!Hi?(OS(d,v,P),ws(d,v,P)):(jn&&A&&Pm(v),v.flags|=1,ji(d,v,b,P),v.child)}function ia(d,v,b,A,L){if(_f(v),v.stateNode===null){var P=ec,X=b.contextType;typeof X=="object"&&X!==null&&(P=Fr(X)),P=new b(A,P),v.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=tv,v.stateNode=P,P._reactInternals=v,P=v.stateNode,P.props=A,P.state=v.memoizedState,P.refs={},AS(v),X=b.contextType,P.context=typeof X=="object"&&X!==null?Fr(X):ec,P.state=v.memoizedState,X=b.getDerivedStateFromProps,typeof X=="function"&&($h(v,b,X,A),P.state=v.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(X=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),X!==P.state&&tv.enqueueReplaceState(P,P.state,null),Tf(v,A,P,L),Yp(),P.state=v.memoizedState),typeof P.componentDidMount=="function"&&(v.flags|=4194308),A=!0}else if(d===null){P=v.stateNode;var J=v.memoizedProps,ct=na(b,J);P.props=ct;var Dt=P.context,Yt=b.contextType;X=ec,typeof Yt=="object"&&Yt!==null&&(X=Fr(Yt));var $t=b.getDerivedStateFromProps;Yt=typeof $t=="function"||typeof P.getSnapshotBeforeUpdate=="function",J=v.pendingProps!==J,Yt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(J||Dt!==X)&&dM(v,P,A,X),lc=!1;var Pt=v.memoizedState;P.state=Pt,Tf(v,A,P,L),Yp(),Dt=v.memoizedState,J||Pt!==Dt||lc?(typeof $t=="function"&&($h(v,b,$t,A),Dt=v.memoizedState),(ct=lc||hM(v,b,ct,A,Pt,Dt,X))?(Yt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(v.flags|=4194308)):(typeof P.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=A,v.memoizedState=Dt),P.props=A,P.state=Dt,P.context=X,A=ct):(typeof P.componentDidMount=="function"&&(v.flags|=4194308),A=!1)}else{P=v.stateNode,wS(d,v),X=v.memoizedProps,Yt=na(b,X),P.props=Yt,$t=v.pendingProps,Pt=P.context,Dt=b.contextType,ct=ec,typeof Dt=="object"&&Dt!==null&&(ct=Fr(Dt)),J=b.getDerivedStateFromProps,(Dt=typeof J=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(X!==$t||Pt!==ct)&&dM(v,P,A,ct),lc=!1,Pt=v.memoizedState,P.state=Pt,Tf(v,A,P,L),Yp();var Ht=v.memoizedState;X!==$t||Pt!==Ht||lc||d!==null&&d.dependencies!==null&&Yh(d.dependencies)?(typeof J=="function"&&($h(v,b,J,A),Ht=v.memoizedState),(Yt=lc||hM(v,b,Yt,A,Pt,Ht,ct)||d!==null&&d.dependencies!==null&&Yh(d.dependencies))?(Dt||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(A,Ht,ct),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(A,Ht,ct)),typeof P.componentDidUpdate=="function"&&(v.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof P.componentDidUpdate!="function"||X===d.memoizedProps&&Pt===d.memoizedState||(v.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||X===d.memoizedProps&&Pt===d.memoizedState||(v.flags|=1024),v.memoizedProps=A,v.memoizedState=Ht),P.props=A,P.state=Ht,P.context=ct,A=Yt):(typeof P.componentDidUpdate!="function"||X===d.memoizedProps&&Pt===d.memoizedState||(v.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||X===d.memoizedProps&&Pt===d.memoizedState||(v.flags|=1024),A=!1)}return P=A,As(d,v),A=(v.flags&128)!==0,P||A?(P=v.stateNode,b=A&&typeof b.getDerivedStateFromError!="function"?null:P.render(),v.flags|=1,d!==null&&A?(v.child=bf(v,d.child,null,L),v.child=bf(v,null,b,L)):ji(d,v,b,L),v.memoizedState=P.state,d=v.child):d=ws(d,v,L),d}function ni(d,v,b,A){return yf(),v.flags|=256,ji(d,v,b,A),v.child}var Oo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rs(d){return{baseLanes:d,cachePool:Vm()}}function rv(d,v,b){return d=d!==null?d.childLanes&~b:0,v&&(d|=ti),d}function Po(d,v,b){var A=v.pendingProps,L=!1,P=(v.flags&128)!==0,X;if((X=P)||(X=d!==null&&d.memoizedState===null?!1:(qi.current&2)!==0),X&&(L=!0,v.flags&=-129),X=(v.flags&32)!==0,v.flags&=-33,d===null){if(jn){if(L?cc(v):eu(),(d=Ni)?(d=G5(d,kr),d=d!==null&&d.data!=="&"?d:null,d!==null&&(v.memoizedState={dehydrated:d,treeContext:nl!==null?{id:il,overflow:rl}:null,retryLane:536870912,hydrationErrors:null},b=UT(d),b.return=v,v.child=b,Hr=v,Ni=null)):d=null,d===null)throw Xn(v);return fR(d)?v.lanes=32:v.lanes=536870912,null}var J=A.children;return A=A.fallback,L?(eu(),L=v.mode,J=nd({mode:"hidden",children:J},L),A=ql(A,L,b,null),J.return=v,A.return=v,J.sibling=A,v.child=J,A=v.child,A.memoizedState=rs(b),A.childLanes=rv(d,X,b),v.memoizedState=Oo,Ms(null,A)):(cc(v),fc(v,J))}var ct=d.memoizedState;if(ct!==null&&(J=ct.dehydrated,J!==null)){if(P)v.flags&256?(cc(v),v.flags&=-257,v=id(d,v,b)):v.memoizedState!==null?(eu(),v.child=d.child,v.flags|=128,v=null):(eu(),J=A.fallback,L=v.mode,A=nd({mode:"visible",children:A.children},L),J=ql(J,L,b,null),J.flags|=2,A.return=v,J.return=v,A.sibling=J,v.child=A,bf(v,d.child,null,b),A=v.child,A.memoizedState=rs(b),A.childLanes=rv(d,X,b),v.memoizedState=Oo,v=Ms(null,A));else if(cc(v),fR(J)){if(X=J.nextSibling&&J.nextSibling.dataset,X)var Dt=X.dgst;X=Dt,A=Error(n(419)),A.stack="",A.digest=X,Hp({value:A,source:null,stack:null}),v=id(d,v,b)}else if(Hi||ic(d,v,b,!1),X=(b&d.childLanes)!==0,Hi||X){if(X=vi,X!==null&&(A=Vu(X,b),A!==0&&A!==ct.retryLane))throw ct.retryLane=A,tc(d,A),x(X,d,A),iy;cR(J)||Sn(),v=id(d,v,b)}else cR(J)?(v.flags|=192,v.child=d.child,v=null):(d=ct.treeContext,Ni=vl(J.nextSibling),Hr=v,jn=!0,jl=null,kr=!1,d!==null&&Vp(v,d),v=fc(v,A.children),v.flags|=4096);return v}return L?(eu(),J=A.fallback,L=v.mode,ct=d.child,Dt=ct.sibling,A=el(ct,{mode:"hidden",children:A.children}),A.subtreeFlags=ct.subtreeFlags&65011712,Dt!==null?J=el(Dt,J):(J=ql(J,L,b,null),J.flags|=2),J.return=v,A.return=v,A.sibling=J,v.child=A,Ms(null,A),A=v.child,J=d.child.memoizedState,J===null?J=rs(b):(L=J.cachePool,L!==null?(ct=Je._currentValue,L=L.parent!==ct?{parent:ct,pool:ct}:L):L=Vm(),J={baseLanes:J.baseLanes|b,cachePool:L}),A.memoizedState=J,A.childLanes=rv(d,X,b),v.memoizedState=Oo,Ms(d.child,A)):(cc(v),b=d.child,d=b.sibling,b=el(b,{mode:"visible",children:A.children}),b.return=v,b.sibling=null,d!==null&&(X=v.deletions,X===null?(v.deletions=[d],v.flags|=16):X.push(d)),v.child=b,v.memoizedState=null,b)}function fc(d,v){return v=nd({mode:"visible",children:v},d.mode),v.return=d,d.child=v}function nd(d,v){return d=za(22,d,null,v),d.lanes=0,d}function id(d,v,b){return bf(v,d.child,null,b),d=fc(v,v.pendingProps.children),d.flags|=2,v.memoizedState=null,d}function wf(d,v,b){d.lanes|=v;var A=d.alternate;A!==null&&(A.lanes|=v),Jl(d.return,v,b)}function av(d,v,b,A,L,P){var X=d.memoizedState;X===null?d.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:A,tail:b,tailMode:L,treeForkCount:P}:(X.isBackwards=v,X.rendering=null,X.renderingStartTime=0,X.last=A,X.tail=b,X.tailMode=L,X.treeForkCount=P)}function ov(d,v,b){var A=v.pendingProps,L=A.revealOrder,P=A.tail;A=A.children;var X=qi.current,J=(X&2)!==0;if(J?(X=X&1|2,v.flags|=128):X&=1,st(qi,X),ji(d,v,A,b),A=jn?Wh:0,!J&&d!==null&&(d.flags&128)!==0)t:for(d=v.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&wf(d,b,v);else if(d.tag===19)wf(d,b,v);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===v)break t;for(;d.sibling===null;){if(d.return===null||d.return===v)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(L){case"forwards":for(b=v.child,L=null;b!==null;)d=b.alternate,d!==null&&Gm(d)===null&&(L=b),b=b.sibling;b=L,b===null?(L=v.child,v.child=null):(L=b.sibling,b.sibling=null),av(v,!1,L,b,P,A);break;case"backwards":case"unstable_legacy-backwards":for(b=null,L=v.child,v.child=null;L!==null;){if(d=L.alternate,d!==null&&Gm(d)===null){v.child=L;break}d=L.sibling,L.sibling=b,b=L,L=d}av(v,!0,b,null,P,A);break;case"together":av(v,!1,null,null,void 0,A);break;default:v.memoizedState=null}return v.child}function ws(d,v,b){if(d!==null&&(v.dependencies=d.dependencies),Uo|=v.lanes,(b&v.childLanes)===0)if(d!==null){if(ic(d,v,b,!1),(b&v.childLanes)===0)return null}else return null;if(d!==null&&v.child!==d.child)throw Error(n(153));if(v.child!==null){for(d=v.child,b=el(d,d.pendingProps),v.child=b,b.return=v;d.sibling!==null;)d=d.sibling,b=b.sibling=el(d,d.pendingProps),b.return=v;b.sibling=null}return v.child}function hc(d,v){return(d.lanes&v)!==0?!0:(d=d.dependencies,!!(d!==null&&Yh(d)))}function sv(d,v,b){switch(v.tag){case 3:Lt(v,v.stateNode.containerInfo),Ql(v,Je,d.memoizedState.cache),yf();break;case 27:case 5:Wt(v);break;case 4:Lt(v,v.stateNode.containerInfo);break;case 10:Ql(v,v.type,v.memoizedProps.value);break;case 31:if(v.memoizedState!==null)return v.flags|=128,RS(v),null;break;case 13:var A=v.memoizedState;if(A!==null)return A.dehydrated!==null?(cc(v),v.flags|=128,null):(b&v.child.childLanes)!==0?Po(d,v,b):(cc(v),d=ws(d,v,b),d!==null?d.sibling:null);cc(v);break;case 19:var L=(d.flags&128)!==0;if(A=(b&v.childLanes)!==0,A||(ic(d,v,b,!1),A=(b&v.childLanes)!==0),L){if(A)return ov(d,v,b);v.flags|=128}if(L=v.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),st(qi,qi.current),A)break;return null;case 22:return v.lanes=0,No(d,v,b,v.pendingProps);case 24:Ql(v,Je,d.memoizedState.cache)}return ws(d,v,b)}function ry(d,v,b){if(d!==null)if(d.memoizedProps!==v.pendingProps)Hi=!0;else{if(!hc(d,b)&&(v.flags&128)===0)return Hi=!1,sv(d,v,b);Hi=(d.flags&131072)!==0}else Hi=!1,jn&&(v.flags&1048576)!==0&&pS(v,Wh,v.index);switch(v.lanes=0,v.tag){case 16:t:{var A=v.pendingProps;if(d=xf(v.elementType),v.type=d,typeof d=="function")Ba(d)?(A=na(d,A),v.tag=1,v=ia(null,v,d,A,b)):(v.tag=0,v=ed(null,v,d,A,b));else{if(d!=null){var L=d.$$typeof;if(L===w){v.tag=11,v=ev(null,v,d,A,b);break t}else if(L===R){v.tag=14,v=nv(null,v,d,A,b);break t}}throw v=W(d)||d,Error(n(306,v,""))}}return v;case 0:return ed(d,v,v.type,v.pendingProps,b);case 1:return A=v.type,L=na(A,v.pendingProps),ia(d,v,A,L,b);case 3:t:{if(Lt(v,v.stateNode.containerInfo),d===null)throw Error(n(387));A=v.pendingProps;var P=v.memoizedState;L=P.element,wS(d,v),Tf(v,A,null,b);var X=v.memoizedState;if(A=X.cache,Ql(v,Je,A),A!==P.cache&&Um(v,[Je],b,!0),Yp(),A=X.element,P.isDehydrated)if(P={element:A,isDehydrated:!1,cache:X.cache},v.updateQueue.baseState=P,v.memoizedState=P,v.flags&256){v=ni(d,v,A,b);break t}else if(A!==L){L=to(Error(n(424)),v),Hp(L),v=ni(d,v,A,b);break t}else{switch(d=v.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Ni=vl(d.firstChild),Hr=v,jn=!0,jl=null,kr=!0,b=XT(v,null,A,b),v.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling}else{if(yf(),A===L){v=ws(d,v,b);break t}ji(d,v,A,b)}v=v.child}return v;case 26:return As(d,v),d===null?(b=j5(v.type,null,v.pendingProps,null))?v.memoizedState=b:jn||(b=v.type,d=v.pendingProps,A=TM(dt.current).createElement(b),A[In]=v,A[wr]=d,Fa(A,b,d),te(A),v.stateNode=A):v.memoizedState=j5(v.type,d.memoizedProps,v.pendingProps,d.memoizedState),null;case 27:return Wt(v),d===null&&jn&&(A=v.stateNode=Y5(v.type,v.pendingProps,dt.current),Hr=v,kr=!0,L=Ni,cd(v.type)?(hR=L,Ni=vl(A.firstChild)):Ni=L),ji(d,v,v.pendingProps.children,b),As(d,v),d===null&&(v.flags|=4194304),v.child;case 5:return d===null&&jn&&((L=A=Ni)&&(A=utt(A,v.type,v.pendingProps,kr),A!==null?(v.stateNode=A,Hr=v,Ni=vl(A.firstChild),kr=!1,L=!0):L=!1),L||Xn(v)),Wt(v),L=v.type,P=v.pendingProps,X=d!==null?d.memoizedProps:null,A=P.children,sR(L,P)?A=null:X!==null&&sR(L,X)&&(v.flags|=32),v.memoizedState!==null&&(L=IS(d,v,GD,null,null,b),fx._currentValue=L),As(d,v),ji(d,v,A,b),v.child;case 6:return d===null&&jn&&((d=b=Ni)&&(b=ctt(b,v.pendingProps,kr),b!==null?(v.stateNode=b,Hr=v,Ni=null,d=!0):d=!1),d||Xn(v)),null;case 13:return Po(d,v,b);case 4:return Lt(v,v.stateNode.containerInfo),A=v.pendingProps,d===null?v.child=bf(v,null,A,b):ji(d,v,A,b),v.child;case 11:return ev(d,v,v.type,v.pendingProps,b);case 7:return ji(d,v,v.pendingProps,b),v.child;case 8:return ji(d,v,v.pendingProps.children,b),v.child;case 12:return ji(d,v,v.pendingProps.children,b),v.child;case 10:return A=v.pendingProps,Ql(v,v.type,A.value),ji(d,v,A.children,b),v.child;case 9:return L=v.type._context,A=v.pendingProps.children,_f(v),L=Fr(L),A=A(L),v.flags|=1,ji(d,v,A,b),v.child;case 14:return nv(d,v,v.type,v.pendingProps,b);case 15:return Io(d,v,v.type,v.pendingProps,b);case 19:return ov(d,v,b);case 31:return iv(d,v,b);case 22:return No(d,v,b,v.pendingProps);case 24:return _f(v),A=Fr(Je),d===null?(L=al(),L===null&&(L=vi,P=_S(),L.pooledCache=P,P.refCount++,P!==null&&(L.pooledCacheLanes|=b),L=P),v.memoizedState={parent:A,cache:L},AS(v),Ql(v,Je,L)):((d.lanes&b)!==0&&(wS(d,v),Tf(v,null,null,b),Yp()),L=d.memoizedState,P=v.memoizedState,L.parent!==A?(L={parent:A,cache:A},v.memoizedState=L,v.lanes===0&&(v.memoizedState=v.updateQueue.baseState=L),Ql(v,Je,A)):(A=P.cache,Ql(v,Je,A),A!==L.cache&&Um(v,[Je],b,!0))),ji(d,v,v.pendingProps.children,b),v.child;case 29:throw v.pendingProps}throw Error(n(156,v.tag))}function ao(d){d.flags|=4}function dc(d,v,b,A,L){if((v=(d.mode&32)!==0)&&(v=!1),v){if(d.flags|=16777216,(L&335544128)===L)if(d.stateNode.complete)d.flags|=8192;else if(ve())d.flags|=8192;else throw on=Gp,Fp}else d.flags&=-16777217}function ru(d,v){if(v.type!=="stylesheet"||(v.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!tV(v))if(ve())d.flags|=8192;else throw on=Gp,Fp}function rd(d,v){v!==null&&(d.flags|=4),d.flags&16384&&(v=d.tag!==22?zn():536870912,d.lanes|=v,Vo|=v)}function lv(d,v){if(!jn)switch(d.tailMode){case"hidden":v=d.tail;for(var b=null;v!==null;)v.alternate!==null&&(b=v),v=v.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var A=null;b!==null;)b.alternate!==null&&(A=b),b=b.sibling;A===null?v||d.tail===null?d.tail=null:d.tail.sibling=null:A.sibling=null}}function _i(d){var v=d.alternate!==null&&d.alternate.child===d.child,b=0,A=0;if(v)for(var L=d.child;L!==null;)b|=L.lanes|L.childLanes,A|=L.subtreeFlags&65011712,A|=L.flags&65011712,L.return=d,L=L.sibling;else for(L=d.child;L!==null;)b|=L.lanes|L.childLanes,A|=L.subtreeFlags,A|=L.flags,L.return=d,L=L.sibling;return d.subtreeFlags|=A,d.childLanes=b,v}function nx(d,v,b){var A=v.pendingProps;switch(nc(v),v.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _i(v),null;case 1:return _i(v),null;case 3:return b=v.stateNode,A=null,d!==null&&(A=d.memoizedState.cache),v.memoizedState.cache!==A&&(v.flags|=2048),es(Je),Ct(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(d===null||d.child===null)&&(mf(v)?ao(v):d===null||d.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,vS())),_i(v),null;case 26:var L=v.type,P=v.memoizedState;return d===null?(ao(v),P!==null?(_i(v),ru(v,P)):(_i(v),dc(v,L,null,A,b))):P?P!==d.memoizedState?(ao(v),_i(v),ru(v,P)):(_i(v),v.flags&=-16777217):(d=d.memoizedProps,d!==A&&ao(v),_i(v),dc(v,L,d,A,b)),null;case 27:if(Xt(v),b=dt.current,L=v.type,d!==null&&v.stateNode!=null)d.memoizedProps!==A&&ao(v);else{if(!A){if(v.stateNode===null)throw Error(n(166));return _i(v),null}d=ft.current,mf(v)?Bm(v):(d=Y5(L,A,b),v.stateNode=d,ao(v))}return _i(v),null;case 5:if(Xt(v),L=v.type,d!==null&&v.stateNode!=null)d.memoizedProps!==A&&ao(v);else{if(!A){if(v.stateNode===null)throw Error(n(166));return _i(v),null}if(P=ft.current,mf(v))Bm(v);else{var X=TM(dt.current);switch(P){case 1:P=X.createElementNS("http://www.w3.org/2000/svg",L);break;case 2:P=X.createElementNS("http://www.w3.org/1998/Math/MathML",L);break;default:switch(L){case"svg":P=X.createElementNS("http://www.w3.org/2000/svg",L);break;case"math":P=X.createElementNS("http://www.w3.org/1998/Math/MathML",L);break;case"script":P=X.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof A.is=="string"?X.createElement("select",{is:A.is}):X.createElement("select"),A.multiple?P.multiple=!0:A.size&&(P.size=A.size);break;default:P=typeof A.is=="string"?X.createElement(L,{is:A.is}):X.createElement(L)}}P[In]=v,P[wr]=A;t:for(X=v.child;X!==null;){if(X.tag===5||X.tag===6)P.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===v)break t;for(;X.sibling===null;){if(X.return===null||X.return===v)break t;X=X.return}X.sibling.return=X.return,X=X.sibling}v.stateNode=P;t:switch(Fa(P,L,A),L){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break t;case"img":A=!0;break t;default:A=!1}A&&ao(v)}}return _i(v),dc(v,v.type,d===null?null:d.memoizedProps,v.pendingProps,b),null;case 6:if(d&&v.stateNode!=null)d.memoizedProps!==A&&ao(v);else{if(typeof A!="string"&&v.stateNode===null)throw Error(n(166));if(d=dt.current,mf(v)){if(d=v.stateNode,b=v.memoizedProps,A=null,L=Hr,L!==null)switch(L.tag){case 27:case 5:A=L.memoizedProps}d[In]=v,d=!!(d.nodeValue===b||A!==null&&A.suppressHydrationWarning===!0||P5(d.nodeValue,b)),d||Xn(v,!0)}else d=TM(d).createTextNode(A),d[In]=v,v.stateNode=d}return _i(v),null;case 31:if(b=v.memoizedState,d===null||d.memoizedState!==null){if(A=mf(v),b!==null){if(d===null){if(!A)throw Error(n(318));if(d=v.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(557));d[In]=v}else yf(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;_i(v),d=!1}else b=vS(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=b),d=!0;if(!d)return v.flags&256?(Do(v),v):(Do(v),null);if((v.flags&128)!==0)throw Error(n(558))}return _i(v),null;case 13:if(A=v.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(L=mf(v),A!==null&&A.dehydrated!==null){if(d===null){if(!L)throw Error(n(318));if(L=v.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(n(317));L[In]=v}else yf(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;_i(v),L=!1}else L=vS(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=L),L=!0;if(!L)return v.flags&256?(Do(v),v):(Do(v),null)}return Do(v),(v.flags&128)!==0?(v.lanes=b,v):(b=A!==null,d=d!==null&&d.memoizedState!==null,b&&(A=v.child,L=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(L=A.alternate.memoizedState.cachePool.pool),P=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(P=A.memoizedState.cachePool.pool),P!==L&&(A.flags|=2048)),b!==d&&b&&(v.child.flags|=8192),rd(v,v.updateQueue),_i(v),null);case 4:return Ct(),d===null&&nR(v.stateNode.containerInfo),_i(v),null;case 10:return es(v.type),_i(v),null;case 19:if($(qi),A=v.memoizedState,A===null)return _i(v),null;if(L=(v.flags&128)!==0,P=A.rendering,P===null)if(L)lv(A,!1);else{if(gi!==0||d!==null&&(d.flags&128)!==0)for(d=v.child;d!==null;){if(P=Gm(d),P!==null){for(v.flags|=128,lv(A,!1),d=P.updateQueue,v.updateQueue=d,rd(v,d),v.subtreeFlags=0,d=b,b=v.child;b!==null;)ya(b,d),b=b.sibling;return st(qi,qi.current&1|2),jn&&Zl(v,A.treeForkCount),v.child}d=d.sibling}A.tail!==null&&K()>Ho&&(v.flags|=128,L=!0,lv(A,!1),v.lanes=4194304)}else{if(!L)if(d=Gm(P),d!==null){if(v.flags|=128,L=!0,d=d.updateQueue,v.updateQueue=d,rd(v,d),lv(A,!0),A.tail===null&&A.tailMode==="hidden"&&!P.alternate&&!jn)return _i(v),null}else 2*K()-A.renderingStartTime>Ho&&b!==536870912&&(v.flags|=128,L=!0,lv(A,!1),v.lanes=4194304);A.isBackwards?(P.sibling=v.child,v.child=P):(d=A.last,d!==null?d.sibling=P:v.child=P,A.last=P)}return A.tail!==null?(d=A.tail,A.rendering=d,A.tail=d.sibling,A.renderingStartTime=K(),d.sibling=null,b=qi.current,st(qi,L?b&1|2:b&1),jn&&Zl(v,A.treeForkCount),d):(_i(v),null);case 22:case 23:return Do(v),Sa(),A=v.memoizedState!==null,d!==null?d.memoizedState!==null!==A&&(v.flags|=8192):A&&(v.flags|=8192),A?(b&536870912)!==0&&(v.flags&128)===0&&(_i(v),v.subtreeFlags&6&&(v.flags|=8192)):_i(v),b=v.updateQueue,b!==null&&rd(v,b.retryQueue),b=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),A=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(A=v.memoizedState.cachePool.pool),A!==b&&(v.flags|=2048),d!==null&&$(rc),null;case 24:return b=null,d!==null&&(b=d.memoizedState.cache),v.memoizedState.cache!==b&&(v.flags|=2048),es(Je),_i(v),null;case 25:return null;case 30:return null}throw Error(n(156,v.tag))}function ay(d,v){switch(nc(v),v.tag){case 1:return d=v.flags,d&65536?(v.flags=d&-65537|128,v):null;case 3:return es(Je),Ct(),d=v.flags,(d&65536)!==0&&(d&128)===0?(v.flags=d&-65537|128,v):null;case 26:case 27:case 5:return Xt(v),null;case 31:if(v.memoizedState!==null){if(Do(v),v.alternate===null)throw Error(n(340));yf()}return d=v.flags,d&65536?(v.flags=d&-65537|128,v):null;case 13:if(Do(v),d=v.memoizedState,d!==null&&d.dehydrated!==null){if(v.alternate===null)throw Error(n(340));yf()}return d=v.flags,d&65536?(v.flags=d&-65537|128,v):null;case 19:return $(qi),null;case 4:return Ct(),null;case 10:return es(v.type),null;case 22:case 23:return Do(v),Sa(),d!==null&&$(rc),d=v.flags,d&65536?(v.flags=d&-65537|128,v):null;case 24:return es(Je),null;case 25:return null;default:return null}}function Ef(d,v){switch(nc(v),v.tag){case 3:es(Je),Ct();break;case 26:case 27:case 5:Xt(v);break;case 4:Ct();break;case 31:v.memoizedState!==null&&Do(v);break;case 13:Do(v);break;case 19:$(qi);break;case 10:es(v.type);break;case 22:case 23:Do(v),Sa(),d!==null&&$(rc);break;case 24:es(Je)}}function fl(d,v){try{var b=v.updateQueue,A=b!==null?b.lastEffect:null;if(A!==null){var L=A.next;b=L;do{if((b.tag&d)===d){A=void 0;var P=b.create,X=b.inst;A=P(),X.destroy=A}b=b.next}while(b!==L)}}catch(J){Ci(v,v.return,J)}}function as(d,v,b){try{var A=v.updateQueue,L=A!==null?A.lastEffect:null;if(L!==null){var P=L.next;A=P;do{if((A.tag&d)===d){var X=A.inst,J=X.destroy;if(J!==void 0){X.destroy=void 0,L=v;var ct=b,Dt=J;try{Dt()}catch(Yt){Ci(L,ct,Yt)}}}A=A.next}while(A!==P)}}catch(Yt){Ci(v,v.return,Yt)}}function pc(d){var v=d.updateQueue;if(v!==null){var b=d.stateNode;try{ta(v,b)}catch(A){Ci(d,d.return,A)}}}function ix(d,v,b){b.props=na(d.type,d.memoizedProps),b.state=d.memoizedState;try{b.componentWillUnmount()}catch(A){Ci(d,v,A)}}function hl(d,v){try{var b=d.ref;if(b!==null){switch(d.tag){case 26:case 27:case 5:var A=d.stateNode;break;case 30:A=d.stateNode;break;default:A=d.stateNode}typeof b=="function"?d.refCleanup=b(A):b.current=A}}catch(L){Ci(d,v,L)}}function zo(d,v){var b=d.ref,A=d.refCleanup;if(b!==null)if(typeof A=="function")try{A()}catch(L){Ci(d,v,L)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(L){Ci(d,v,L)}else b.current=null}function Bo(d){var v=d.type,b=d.memoizedProps,A=d.stateNode;try{t:switch(v){case"button":case"input":case"select":case"textarea":b.autoFocus&&A.focus();break t;case"img":b.src?A.src=b.src:b.srcSet&&(A.srcset=b.srcSet)}}catch(L){Ci(d,d.return,L)}}function os(d,v,b){try{var A=d.stateNode;itt(A,d.type,b,v),A[wr]=v}catch(L){Ci(d,d.return,L)}}function vr(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&cd(d.type)||d.tag===4}function dl(d){t:for(;;){for(;d.sibling===null;){if(d.return===null||vr(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&cd(d.type)||d.flags&2||d.child===null||d.tag===4)continue t;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Cn(d,v,b){var A=d.tag;if(A===5||A===6)d=d.stateNode,v?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(d,v):(v=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,v.appendChild(d),b=b._reactRootContainer,b!=null||v.onclick!==null||(v.onclick=Js));else if(A!==4&&(A===27&&cd(d.type)&&(b=d.stateNode,v=null),d=d.child,d!==null))for(Cn(d,v,b),d=d.sibling;d!==null;)Cn(d,v,b),d=d.sibling}function fi(d,v,b){var A=d.tag;if(A===5||A===6)d=d.stateNode,v?b.insertBefore(d,v):b.appendChild(d);else if(A!==4&&(A===27&&cd(d.type)&&(b=d.stateNode),d=d.child,d!==null))for(fi(d,v,b),d=d.sibling;d!==null;)fi(d,v,b),d=d.sibling}function ir(d){var v=d.stateNode,b=d.memoizedProps;try{for(var A=d.type,L=v.attributes;L.length;)v.removeAttributeNode(L[0]);Fa(v,A,b),v[In]=d,v[wr]=b}catch(P){Ci(d,d.return,P)}}var ss=!1,ki=!1,au=!1,uv=typeof WeakSet=="function"?WeakSet:Set,Ki=null;function ad(d,v){if(d=d.containerInfo,aR=RM,d=Em(d),Uh(d)){if("selectionStart"in d)var b={start:d.selectionStart,end:d.selectionEnd};else t:{b=(b=d.ownerDocument)&&b.defaultView||window;var A=b.getSelection&&b.getSelection();if(A&&A.rangeCount!==0){b=A.anchorNode;var L=A.anchorOffset,P=A.focusNode;A=A.focusOffset;try{b.nodeType,P.nodeType}catch{b=null;break t}var X=0,J=-1,ct=-1,Dt=0,Yt=0,$t=d,Pt=null;e:for(;;){for(var Ht;$t!==b||L!==0&&$t.nodeType!==3||(J=X+L),$t!==P||A!==0&&$t.nodeType!==3||(ct=X+A),$t.nodeType===3&&(X+=$t.nodeValue.length),(Ht=$t.firstChild)!==null;)Pt=$t,$t=Ht;for(;;){if($t===d)break e;if(Pt===b&&++Dt===L&&(J=X),Pt===P&&++Yt===A&&(ct=X),(Ht=$t.nextSibling)!==null)break;$t=Pt,Pt=$t.parentNode}$t=Ht}b=J===-1||ct===-1?null:{start:J,end:ct}}else b=null}b=b||{start:0,end:0}}else b=null;for(oR={focusedElem:d,selectionRange:b},RM=!1,Ki=v;Ki!==null;)if(v=Ki,d=v.child,(v.subtreeFlags&1028)!==0&&d!==null)d.return=v,Ki=d;else for(;Ki!==null;){switch(v=Ki,P=v.alternate,d=v.flags,v.tag){case 0:if((d&4)!==0&&(d=v.updateQueue,d=d!==null?d.events:null,d!==null))for(b=0;b<d.length;b++)L=d[b],L.ref.impl=L.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&P!==null){d=void 0,b=v,L=P.memoizedProps,P=P.memoizedState,A=b.stateNode;try{var Fe=na(b.type,L);d=A.getSnapshotBeforeUpdate(Fe,P),A.__reactInternalSnapshotBeforeUpdate=d}catch(fn){Ci(b,b.return,fn)}}break;case 3:if((d&1024)!==0){if(d=v.stateNode.containerInfo,b=d.nodeType,b===9)uR(d);else if(b===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":uR(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(n(163))}if(d=v.sibling,d!==null){d.return=v.return,Ki=d;break}Ki=v.return}}function gM(d,v,b){var A=b.flags;switch(b.tag){case 0:case 11:case 15:ou(d,b),A&4&&fl(5,b);break;case 1:if(ou(d,b),A&4)if(d=b.stateNode,v===null)try{d.componentDidMount()}catch(X){Ci(b,b.return,X)}else{var L=na(b.type,v.memoizedProps);v=v.memoizedState;try{d.componentDidUpdate(L,v,d.__reactInternalSnapshotBeforeUpdate)}catch(X){Ci(b,b.return,X)}}A&64&&pc(b),A&512&&hl(b,b.return);break;case 3:if(ou(d,b),A&64&&(d=b.updateQueue,d!==null)){if(v=null,b.child!==null)switch(b.child.tag){case 27:case 5:v=b.child.stateNode;break;case 1:v=b.child.stateNode}try{ta(d,v)}catch(X){Ci(b,b.return,X)}}break;case 27:v===null&&A&4&&ir(b);case 26:case 5:ou(d,b),v===null&&A&4&&Bo(b),A&512&&hl(b,b.return);break;case 12:ou(d,b);break;case 31:ou(d,b),A&4&&sy(d,b);break;case 13:ou(d,b),A&4&&rx(d,b),A&64&&(d=b.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(b=W$.bind(null,b),ftt(d,b))));break;case 22:if(A=b.memoizedState!==null||ss,!A){v=v!==null&&v.memoizedState!==null||ki,L=ss;var P=ki;ss=A,(ki=v)&&!P?pi(d,b,(b.subtreeFlags&8772)!==0):ou(d,b),ss=L,ki=P}break;case 30:break;default:ou(d,b)}}function oy(d){var v=d.alternate;v!==null&&(d.alternate=null,oy(v)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(v=d.stateNode,v!==null&&et(v)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var ii=null,gr=!1;function ba(d,v,b){for(b=b.child;b!==null;)vc(d,v,b),b=b.sibling}function vc(d,v,b){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(ne,b)}catch{}switch(b.tag){case 26:ki||zo(b,v),ba(d,v,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:ki||zo(b,v);var A=ii,L=gr;cd(b.type)&&(ii=b.stateNode,gr=!1),ba(d,v,b),lx(b.stateNode),ii=A,gr=L;break;case 5:ki||zo(b,v);case 6:if(A=ii,L=gr,ii=null,ba(d,v,b),ii=A,gr=L,ii!==null)if(gr)try{(ii.nodeType===9?ii.body:ii.nodeName==="HTML"?ii.ownerDocument.body:ii).removeChild(b.stateNode)}catch(P){Ci(b,v,P)}else try{ii.removeChild(b.stateNode)}catch(P){Ci(b,v,P)}break;case 18:ii!==null&&(gr?(d=ii,k5(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,b.stateNode),yy(d)):k5(ii,b.stateNode));break;case 4:A=ii,L=gr,ii=b.stateNode.containerInfo,gr=!0,ba(d,v,b),ii=A,gr=L;break;case 0:case 11:case 14:case 15:as(2,b,v),ki||as(4,b,v),ba(d,v,b);break;case 1:ki||(zo(b,v),A=b.stateNode,typeof A.componentWillUnmount=="function"&&ix(b,v,A)),ba(d,v,b);break;case 21:ba(d,v,b);break;case 22:ki=(A=ki)||b.memoizedState!==null,ba(d,v,b),ki=A;break;default:ba(d,v,b)}}function sy(d,v){if(v.memoizedState===null&&(d=v.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{yy(d)}catch(b){Ci(v,v.return,b)}}}function rx(d,v){if(v.memoizedState===null&&(d=v.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{yy(d)}catch(b){Ci(v,v.return,b)}}function mM(d){switch(d.tag){case 31:case 13:case 19:var v=d.stateNode;return v===null&&(v=d.stateNode=new uv),v;case 22:return d=d.stateNode,v=d._retryCache,v===null&&(v=d._retryCache=new uv),v;default:throw Error(n(435,d.tag))}}function rr(d,v){var b=mM(d);v.forEach(function(A){if(!b.has(A)){b.add(A);var L=Y$.bind(null,d,A);A.then(L,L)}})}function Ta(d,v){var b=v.deletions;if(b!==null)for(var A=0;A<b.length;A++){var L=b[A],P=d,X=v,J=X;t:for(;J!==null;){switch(J.tag){case 27:if(cd(J.type)){ii=J.stateNode,gr=!1;break t}break;case 5:ii=J.stateNode,gr=!1;break t;case 3:case 4:ii=J.stateNode.containerInfo,gr=!0;break t}J=J.return}if(ii===null)throw Error(n(160));vc(P,X,L),ii=null,gr=!1,P=L.alternate,P!==null&&(P.return=null),L.return=null}if(v.subtreeFlags&13886)for(v=v.child;v!==null;)gc(v,d),v=v.sibling}var oo=null;function gc(d,v){var b=d.alternate,A=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Ta(v,d),Qi(d),A&4&&(as(3,d,d.return),fl(3,d),as(5,d,d.return));break;case 1:Ta(v,d),Qi(d),A&512&&(ki||b===null||zo(b,b.return)),A&64&&ss&&(d=d.updateQueue,d!==null&&(A=d.callbacks,A!==null&&(b=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=b===null?A:b.concat(A))));break;case 26:var L=oo;if(Ta(v,d),Qi(d),A&512&&(ki||b===null||zo(b,b.return)),A&4){var P=b!==null?b.memoizedState:null;if(A=d.memoizedState,b===null)if(A===null)if(d.stateNode===null){t:{A=d.type,b=d.memoizedProps,L=L.ownerDocument||L;e:switch(A){case"title":P=L.getElementsByTagName("title")[0],(!P||P[Gl]||P[In]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=L.createElement(A),L.head.insertBefore(P,L.querySelector("head > title"))),Fa(P,A,b),P[In]=d,te(P),A=P;break t;case"link":var X=J5("link","href",L).get(A+(b.href||""));if(X){for(var J=0;J<X.length;J++)if(P=X[J],P.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&P.getAttribute("rel")===(b.rel==null?null:b.rel)&&P.getAttribute("title")===(b.title==null?null:b.title)&&P.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){X.splice(J,1);break e}}P=L.createElement(A),Fa(P,A,b),L.head.appendChild(P);break;case"meta":if(X=J5("meta","content",L).get(A+(b.content||""))){for(J=0;J<X.length;J++)if(P=X[J],P.getAttribute("content")===(b.content==null?null:""+b.content)&&P.getAttribute("name")===(b.name==null?null:b.name)&&P.getAttribute("property")===(b.property==null?null:b.property)&&P.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&P.getAttribute("charset")===(b.charSet==null?null:b.charSet)){X.splice(J,1);break e}}P=L.createElement(A),Fa(P,A,b),L.head.appendChild(P);break;default:throw Error(n(468,A))}P[In]=d,te(P),A=P}d.stateNode=A}else $5(L,d.type,d.stateNode);else d.stateNode=Q5(L,A,d.memoizedProps);else P!==A?(P===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):P.count--,A===null?$5(L,d.type,d.stateNode):Q5(L,A,d.memoizedProps)):A===null&&d.stateNode!==null&&os(d,d.memoizedProps,b.memoizedProps)}break;case 27:Ta(v,d),Qi(d),A&512&&(ki||b===null||zo(b,b.return)),b!==null&&A&4&&os(d,d.memoizedProps,b.memoizedProps);break;case 5:if(Ta(v,d),Qi(d),A&512&&(ki||b===null||zo(b,b.return)),d.flags&32){L=d.stateNode;try{sf(L,"")}catch(Fe){Ci(d,d.return,Fe)}}A&4&&d.stateNode!=null&&(L=d.memoizedProps,os(d,L,b!==null?b.memoizedProps:L)),A&1024&&(au=!0);break;case 6:if(Ta(v,d),Qi(d),A&4){if(d.stateNode===null)throw Error(n(162));A=d.memoizedProps,b=d.stateNode;try{b.nodeValue=A}catch(Fe){Ci(d,d.return,Fe)}}break;case 3:if(wM=null,L=oo,oo=MM(v.containerInfo),Ta(v,d),oo=L,Qi(d),A&4&&b!==null&&b.memoizedState.isDehydrated)try{yy(v.containerInfo)}catch(Fe){Ci(d,d.return,Fe)}au&&(au=!1,yM(d));break;case 4:A=oo,oo=MM(d.stateNode.containerInfo),Ta(v,d),Qi(d),oo=A;break;case 12:Ta(v,d),Qi(d);break;case 31:Ta(v,d),Qi(d),A&4&&(A=d.updateQueue,A!==null&&(d.updateQueue=null,rr(d,A)));break;case 13:Ta(v,d),Qi(d),d.child.flags&8192&&d.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(uu=K()),A&4&&(A=d.updateQueue,A!==null&&(d.updateQueue=null,rr(d,A)));break;case 22:L=d.memoizedState!==null;var ct=b!==null&&b.memoizedState!==null,Dt=ss,Yt=ki;if(ss=Dt||L,ki=Yt||ct,Ta(v,d),ki=Yt,ss=Dt,Qi(d),A&8192)t:for(v=d.stateNode,v._visibility=L?v._visibility&-2:v._visibility|1,L&&(b===null||ct||ss||ki||Cf(d)),b=null,v=d;;){if(v.tag===5||v.tag===26){if(b===null){ct=b=v;try{if(P=ct.stateNode,L)X=P.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{J=ct.stateNode;var $t=ct.memoizedProps.style,Pt=$t!=null&&$t.hasOwnProperty("display")?$t.display:null;J.style.display=Pt==null||typeof Pt=="boolean"?"":(""+Pt).trim()}}catch(Fe){Ci(ct,ct.return,Fe)}}}else if(v.tag===6){if(b===null){ct=v;try{ct.stateNode.nodeValue=L?"":ct.memoizedProps}catch(Fe){Ci(ct,ct.return,Fe)}}}else if(v.tag===18){if(b===null){ct=v;try{var Ht=ct.stateNode;L?F5(Ht,!0):F5(ct.stateNode,!1)}catch(Fe){Ci(ct,ct.return,Fe)}}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===d)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break t;for(;v.sibling===null;){if(v.return===null||v.return===d)break t;b===v&&(b=null),v=v.return}b===v&&(b=null),v.sibling.return=v.return,v=v.sibling}A&4&&(A=d.updateQueue,A!==null&&(b=A.retryQueue,b!==null&&(A.retryQueue=null,rr(d,b))));break;case 19:Ta(v,d),Qi(d),A&4&&(A=d.updateQueue,A!==null&&(d.updateQueue=null,rr(d,A)));break;case 30:break;case 21:break;default:Ta(v,d),Qi(d)}}function Qi(d){var v=d.flags;if(v&2){try{for(var b,A=d.return;A!==null;){if(vr(A)){b=A;break}A=A.return}if(b==null)throw Error(n(160));switch(b.tag){case 27:var L=b.stateNode,P=dl(d);fi(d,P,L);break;case 5:var X=b.stateNode;b.flags&32&&(sf(X,""),b.flags&=-33);var J=dl(d);fi(d,J,X);break;case 3:case 4:var ct=b.stateNode.containerInfo,Dt=dl(d);Cn(d,Dt,ct);break;default:throw Error(n(161))}}catch(Yt){Ci(d,d.return,Yt)}d.flags&=-3}v&4096&&(d.flags&=-4097)}function yM(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var v=d;yM(v),v.tag===5&&v.flags&1024&&v.stateNode.reset(),d=d.sibling}}function ou(d,v){if(v.subtreeFlags&8772)for(v=v.child;v!==null;)gM(d,v.alternate,v),v=v.sibling}function Cf(d){for(d=d.child;d!==null;){var v=d;switch(v.tag){case 0:case 11:case 14:case 15:as(4,v,v.return),Cf(v);break;case 1:zo(v,v.return);var b=v.stateNode;typeof b.componentWillUnmount=="function"&&ix(v,v.return,b),Cf(v);break;case 27:lx(v.stateNode);case 26:case 5:zo(v,v.return),Cf(v);break;case 22:v.memoizedState===null&&Cf(v);break;case 30:Cf(v);break;default:Cf(v)}d=d.sibling}}function pi(d,v,b){for(b=b&&(v.subtreeFlags&8772)!==0,v=v.child;v!==null;){var A=v.alternate,L=d,P=v,X=P.flags;switch(P.tag){case 0:case 11:case 15:pi(L,P,b),fl(4,P);break;case 1:if(pi(L,P,b),A=P,L=A.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(Dt){Ci(A,A.return,Dt)}if(A=P,L=A.updateQueue,L!==null){var J=A.stateNode;try{var ct=L.shared.hiddenCallbacks;if(ct!==null)for(L.shared.hiddenCallbacks=null,L=0;L<ct.length;L++)sl(ct[L],J)}catch(Dt){Ci(A,A.return,Dt)}}b&&X&64&&pc(P),hl(P,P.return);break;case 27:ir(P);case 26:case 5:pi(L,P,b),b&&A===null&&X&4&&Bo(P),hl(P,P.return);break;case 12:pi(L,P,b);break;case 31:pi(L,P,b),b&&X&4&&sy(L,P);break;case 13:pi(L,P,b),b&&X&4&&rx(L,P);break;case 22:P.memoizedState===null&&pi(L,P,b),hl(P,P.return);break;case 30:break;default:pi(L,P,b)}v=v.sibling}}function ly(d,v){var b=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),d=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(d=v.memoizedState.cachePool.pool),d!==b&&(d!=null&&d.refCount++,b!=null&&$r(b))}function su(d,v){d=null,v.alternate!==null&&(d=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==d&&(v.refCount++,d!=null&&$r(d))}function Cr(d,v,b,A){if(v.subtreeFlags&10256)for(v=v.child;v!==null;)Xi(d,v,b,A),v=v.sibling}function Xi(d,v,b,A){var L=v.flags;switch(v.tag){case 0:case 11:case 15:Cr(d,v,b,A),L&2048&&fl(9,v);break;case 1:Cr(d,v,b,A);break;case 3:Cr(d,v,b,A),L&2048&&(d=null,v.alternate!==null&&(d=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==d&&(v.refCount++,d!=null&&$r(d)));break;case 12:if(L&2048){Cr(d,v,b,A),d=v.stateNode;try{var P=v.memoizedProps,X=P.id,J=P.onPostCommit;typeof J=="function"&&J(X,v.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(ct){Ci(v,v.return,ct)}}else Cr(d,v,b,A);break;case 31:Cr(d,v,b,A);break;case 13:Cr(d,v,b,A);break;case 23:break;case 22:P=v.stateNode,X=v.alternate,v.memoizedState!==null?P._visibility&2?Cr(d,v,b,A):od(d,v):P._visibility&2?Cr(d,v,b,A):(P._visibility|=2,mc(d,v,b,A,(v.subtreeFlags&10256)!==0||!1)),L&2048&&ly(X,v);break;case 24:Cr(d,v,b,A),L&2048&&su(v.alternate,v);break;default:Cr(d,v,b,A)}}function mc(d,v,b,A,L){for(L=L&&((v.subtreeFlags&10256)!==0||!1),v=v.child;v!==null;){var P=d,X=v,J=b,ct=A,Dt=X.flags;switch(X.tag){case 0:case 11:case 15:mc(P,X,J,ct,L),fl(8,X);break;case 23:break;case 22:var Yt=X.stateNode;X.memoizedState!==null?Yt._visibility&2?mc(P,X,J,ct,L):od(P,X):(Yt._visibility|=2,mc(P,X,J,ct,L)),L&&Dt&2048&&ly(X.alternate,X);break;case 24:mc(P,X,J,ct,L),L&&Dt&2048&&su(X.alternate,X);break;default:mc(P,X,J,ct,L)}v=v.sibling}}function od(d,v){if(v.subtreeFlags&10256)for(v=v.child;v!==null;){var b=d,A=v,L=A.flags;switch(A.tag){case 22:od(b,A),L&2048&&ly(A.alternate,A);break;case 24:od(b,A),L&2048&&su(A.alternate,A);break;default:od(b,A)}v=v.sibling}}var Ji=8192;function Df(d,v,b){if(d.subtreeFlags&Ji)for(d=d.child;d!==null;)ar(d,v,b),d=d.sibling}function ar(d,v,b){switch(d.tag){case 26:Df(d,v,b),d.flags&Ji&&d.memoizedState!==null&&Ttt(b,oo,d.memoizedState,d.memoizedProps);break;case 5:Df(d,v,b);break;case 3:case 4:var A=oo;oo=MM(d.stateNode.containerInfo),Df(d,v,b),oo=A;break;case 22:d.memoizedState===null&&(A=d.alternate,A!==null&&A.memoizedState!==null?(A=Ji,Ji=16777216,Df(d,v,b),Ji=A):Df(d,v,b));break;default:Df(d,v,b)}}function so(d){var v=d.alternate;if(v!==null&&(d=v.child,d!==null)){v.child=null;do v=d.sibling,d.sibling=null,d=v;while(d!==null)}}function Ha(d){var v=d.deletions;if((d.flags&16)!==0){if(v!==null)for(var b=0;b<v.length;b++){var A=v[b];Ki=A,cv(A,d)}so(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Rf(d),d=d.sibling}function Rf(d){switch(d.tag){case 0:case 11:case 15:Ha(d),d.flags&2048&&as(9,d,d.return);break;case 3:Ha(d);break;case 12:Ha(d);break;case 22:var v=d.stateNode;d.memoizedState!==null&&v._visibility&2&&(d.return===null||d.return.tag!==13)?(v._visibility&=-3,uy(d)):Ha(d);break;default:Ha(d)}}function uy(d){var v=d.deletions;if((d.flags&16)!==0){if(v!==null)for(var b=0;b<v.length;b++){var A=v[b];Ki=A,cv(A,d)}so(d)}for(d=d.child;d!==null;){switch(v=d,v.tag){case 0:case 11:case 15:as(8,v,v.return),uy(v);break;case 22:b=v.stateNode,b._visibility&2&&(b._visibility&=-3,uy(v));break;default:uy(v)}d=d.sibling}}function cv(d,v){for(;Ki!==null;){var b=Ki;switch(b.tag){case 0:case 11:case 15:as(8,b,v);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var A=b.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:$r(b.memoizedState.cache)}if(A=b.child,A!==null)A.return=b,Ki=A;else t:for(b=d;Ki!==null;){A=Ki;var L=A.sibling,P=A.return;if(oy(A),A===b){Ki=null;break t}if(L!==null){L.return=P,Ki=L;break t}Ki=P}}}var cy={getCacheForType:function(d){var v=Fr(Je),b=v.data.get(d);return b===void 0&&(b=d(),v.data.set(d,b)),b},cacheSignal:function(){return Fr(Je).controller.signal}},fy=typeof WeakMap=="function"?WeakMap:Map,$n=0,vi=null,Dn=null,Wn=0,$e=0,kn=null,bn=!1,Un=!1,wi=!1,or=0,gi=0,Uo=0,lu=0,Es=0,ti=0,Vo=0,Cs=null,Ma=null,lo=!1,uu=0,sd=0,Ho=1/0,ld=null,pl=null,Wi=0,Ds=null,ko=null,ls=0,cu=0,Lf=null,hy=null,If=0,Nf=null;function ka(){return($n&2)!==0&&Wn!==0?Wn&-Wn:H.T!==null?JD():Ja()}function y(){if(ti===0)if((Wn&536870912)===0||jn){var d=ce;ce<<=1,(ce&3932160)===0&&(ce=262144),ti=d}else ti=536870912;return d=Er.current,d!==null&&(d.flags|=32),ti}function x(d,v,b){(d===vi&&($e===2||$e===9)||d.cancelPendingCommit!==null)&&(St(d,0),k(d,Wn,ti,!1)),Yi(d,b),(($n&2)===0||d!==vi)&&(d===vi&&(($n&2)===0&&(lu|=b),gi===4&&k(d,Wn,ti,!1)),yc(d))}function E(d,v,b){if(($n&6)!==0)throw Error(n(327));var A=!b&&(v&127)===0&&(v&d.expiredLanes)===0||xe(d,v),L=A?Of(d,v):uo(d,v,!0),P=A;do{if(L===0){Un&&!A&&k(d,v,0,!1);break}else{if(b=d.current.alternate,P&&!B(b)){L=uo(d,v,!1),P=!1;continue}if(L===2){if(P=v,d.errorRecoveryDisabledLanes&P)var X=0;else X=d.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){v=X;t:{var J=d;L=Cs;var ct=J.current.memoizedState.isDehydrated;if(ct&&(St(J,X).flags|=256),X=uo(J,X,!1),X!==2){if(wi&&!ct){J.errorRecoveryDisabledLanes|=P,lu|=P,L=4;break t}P=Ma,Ma=L,P!==null&&(Ma===null?Ma=P:Ma.push.apply(Ma,P))}L=X}if(P=!1,L!==2)continue}}if(L===1){St(d,0),k(d,v,0,!0);break}t:{switch(A=d,P=L,P){case 0:case 1:throw Error(n(345));case 4:if((v&4194048)!==v)break;case 6:k(A,v,ti,!bn);break t;case 2:Ma=null;break;case 3:case 5:break;default:throw Error(n(329))}if((v&62914560)===v&&(L=uu+300-K(),10<L)){if(k(A,v,ti,!bn),Kt(A,0,!0)!==0)break t;ls=v,A.timeoutHandle=V5(I.bind(null,A,b,Ma,ld,lo,v,ti,lu,Vo,bn,P,"Throttled",-0,0),L);break t}I(A,b,Ma,ld,lo,v,ti,lu,Vo,bn,P,null,-0,0)}}break}while(!0);yc(d)}function I(d,v,b,A,L,P,X,J,ct,Dt,Yt,$t,Pt,Ht){if(d.timeoutHandle=-1,$t=v.subtreeFlags,$t&8192||($t&16785408)===16785408){$t={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Js},ar(v,P,$t);var Fe=(P&62914560)===P?uu-K():(P&4194048)===P?sd-K():0;if(Fe=Mtt($t,Fe),Fe!==null){ls=P,d.cancelPendingCommit=Fe(dn.bind(null,d,v,P,b,A,L,X,J,ct,Yt,$t,null,Pt,Ht)),k(d,P,X,!Dt);return}}dn(d,v,P,b,A,L,X,J,ct)}function B(d){for(var v=d;;){var b=v.tag;if((b===0||b===11||b===15)&&v.flags&16384&&(b=v.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var A=0;A<b.length;A++){var L=b[A],P=L.getSnapshot;L=L.value;try{if(!Vi(P(),L))return!1}catch{return!1}}if(b=v.child,v.subtreeFlags&16384&&b!==null)b.return=v,v=b;else{if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function k(d,v,b,A){v&=~Es,v&=~lu,d.suspendedLanes|=v,d.pingedLanes&=~v,A&&(d.warmLanes|=v),A=d.expirationTimes;for(var L=v;0<L;){var P=31-ot(L),X=1<<P;A[P]=-1,L&=~X}b!==0&&Dh(d,b,v)}function tt(){return($n&6)===0?(ax(0),!1):!0}function ut(){if(Dn!==null){if($e===0)var d=Dn.return;else d=Dn,_a=Kl=null,PS(d),oc=null,sc=0,d=Dn;for(;d!==null;)Ef(d.alternate,d),d=d.return;Dn=null}}function St(d,v){var b=d.timeoutHandle;b!==-1&&(d.timeoutHandle=-1,ott(b)),b=d.cancelPendingCommit,b!==null&&(d.cancelPendingCommit=null,b()),ls=0,ut(),vi=d,Dn=b=el(d.current,null),Wn=v,$e=0,kn=null,bn=!1,Un=xe(d,v),wi=!1,Vo=ti=Es=lu=Uo=gi=0,Ma=Cs=null,lo=!1,(v&8)!==0&&(v|=v&32);var A=d.entangledLanes;if(A!==0)for(d=d.entanglements,A&=v;0<A;){var L=31-ot(A),P=1<<L;v|=d[L],A&=~P}return or=v,$u(),b}function qt(d,v){hn=null,H.H=Jp,v===ac||v===Ts?(v=Hm(),$e=3):v===Fp?(v=Hm(),$e=4):$e=v===iy?8:v!==null&&typeof v=="object"&&typeof v.then=="function"?6:1,kn=v,Dn===null&&(gi=1,ny(d,to(v,d.current)))}function ve(){var d=Er.current;return d===null?!0:(Wn&4194048)===Wn?ns===null:(Wn&62914560)===Wn||(Wn&536870912)!==0?d===ns:!1}function Ae(){var d=H.H;return H.H=Jp,d===null?Jp:d}function De(){var d=H.A;return H.A=cy,d}function Sn(){gi=4,bn||(Wn&4194048)!==Wn&&Er.current!==null||(Un=!0),(Uo&134217727)===0&&(lu&134217727)===0||vi===null||k(vi,Wn,ti,!1)}function uo(d,v,b){var A=$n;$n|=2;var L=Ae(),P=De();(vi!==d||Wn!==v)&&(ld=null,St(d,v)),v=!1;var X=gi;t:do try{if($e!==0&&Dn!==null){var J=Dn,ct=kn;switch($e){case 8:ut(),X=6;break t;case 3:case 2:case 9:case 6:Er.current===null&&(v=!0);var Dt=$e;if($e=0,kn=null,fe(d,J,ct,Dt),b&&Un){X=0;break t}break;default:Dt=$e,$e=0,kn=null,fe(d,J,ct,Dt)}}fv(),X=gi;break}catch(Yt){qt(d,Yt)}while(!0);return v&&d.shellSuspendCounter++,_a=Kl=null,$n=A,H.H=L,H.A=P,Dn===null&&(vi=null,Wn=0,$u()),X}function fv(){for(;Dn!==null;)yt(Dn)}function Of(d,v){var b=$n;$n|=2;var A=Ae(),L=De();vi!==d||Wn!==v?(ld=null,Ho=K()+500,St(d,v)):Un=xe(d,v);t:do try{if($e!==0&&Dn!==null){v=Dn;var P=kn;e:switch($e){case 1:$e=0,kn=null,fe(d,v,P,1);break;case 2:case 9:if(GT(P)){$e=0,kn=null,Ut(v);break}v=function(){$e!==2&&$e!==9||vi!==d||($e=7),yc(d)},P.then(v,v);break t;case 3:$e=7;break t;case 4:$e=5;break t;case 7:GT(P)?($e=0,kn=null,Ut(v)):($e=0,kn=null,fe(d,v,P,7));break;case 5:var X=null;switch(Dn.tag){case 26:X=Dn.memoizedState;case 5:case 27:var J=Dn;if(X?tV(X):J.stateNode.complete){$e=0,kn=null;var ct=J.sibling;if(ct!==null)Dn=ct;else{var Dt=J.return;Dt!==null?(Dn=Dt,je(Dt)):Dn=null}break e}}$e=0,kn=null,fe(d,v,P,5);break;case 6:$e=0,kn=null,fe(d,v,P,6);break;case 8:ut(),gi=6;break t;default:throw Error(n(462))}}Ot();break}catch(Yt){qt(d,Yt)}while(!0);return _a=Kl=null,H.H=A,H.A=L,$n=b,Dn!==null?0:(vi=null,Wn=0,$u(),gi)}function Ot(){for(;Dn!==null&&!nn();)yt(Dn)}function yt(d){var v=ry(d.alternate,d,or);d.memoizedProps=d.pendingProps,v===null?je(d):Dn=v}function Ut(d){var v=d,b=v.alternate;switch(v.tag){case 15:case 0:v=xa(b,v,v.pendingProps,v.type,void 0,Wn);break;case 11:v=xa(b,v,v.pendingProps,v.type.render,v.ref,Wn);break;case 5:PS(v);default:Ef(b,v),v=Dn=ya(v,or),v=ry(b,v,or)}d.memoizedProps=d.pendingProps,v===null?je(d):Dn=v}function fe(d,v,b,A){_a=Kl=null,PS(v),oc=null,sc=0;var L=v.return;try{if(Lo(d,L,v,b,Wn)){gi=1,ny(d,to(b,d.current)),Dn=null;return}}catch(P){if(L!==null)throw Dn=L,P;gi=1,ny(d,to(b,d.current)),Dn=null;return}v.flags&32768?(jn||A===1?d=!0:Un||(Wn&536870912)!==0?d=!1:(bn=d=!0,(A===2||A===9||A===3||A===6)&&(A=Er.current,A!==null&&A.tag===13&&(A.flags|=16384))),Oi(v,d)):je(v)}function je(d){var v=d;do{if((v.flags&32768)!==0){Oi(v,bn);return}d=v.return;var b=nx(v.alternate,v,or);if(b!==null){Dn=b;return}if(v=v.sibling,v!==null){Dn=v;return}Dn=v=d}while(v!==null);gi===0&&(gi=5)}function Oi(d,v){do{var b=ay(d.alternate,d);if(b!==null){b.flags&=32767,Dn=b;return}if(b=d.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!v&&(d=d.sibling,d!==null)){Dn=d;return}Dn=d=b}while(d!==null);gi=6,Dn=null}function dn(d,v,b,A,L,P,X,J,ct){d.cancelPendingCommit=null;do dy();while(Wi!==0);if(($n&6)!==0)throw Error(n(327));if(v!==null){if(v===d.current)throw Error(n(177));if(P=v.lanes|v.childLanes,P|=Im,Br(d,b,P,X,J,ct),d===vi&&(Dn=vi=null,Wn=0),ko=v,Ds=d,ls=b,cu=P,Lf=L,hy=A,(v.subtreeFlags&10256)!==0||(v.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,q$(Gt,function(){return b5(),null})):(d.callbackNode=null,d.callbackPriority=0),A=(v.flags&13878)!==0,(v.subtreeFlags&13878)!==0||A){A=H.T,H.T=null,L=j.p,j.p=2,X=$n,$n|=4;try{ad(d,v,b)}finally{$n=X,j.p=L,H.T=A}}Wi=1,ri(),Dr(),ai()}}function ri(){if(Wi===1){Wi=0;var d=Ds,v=ko,b=(v.flags&13878)!==0;if((v.subtreeFlags&13878)!==0||b){b=H.T,H.T=null;var A=j.p;j.p=2;var L=$n;$n|=4;try{gc(v,d);var P=oR,X=Em(d.containerInfo),J=P.focusedElem,ct=P.selectionRange;if(X!==J&&J&&J.ownerDocument&&wm(J.ownerDocument.documentElement,J)){if(ct!==null&&Uh(J)){var Dt=ct.start,Yt=ct.end;if(Yt===void 0&&(Yt=Dt),"selectionStart"in J)J.selectionStart=Dt,J.selectionEnd=Math.min(Yt,J.value.length);else{var $t=J.ownerDocument||document,Pt=$t&&$t.defaultView||window;if(Pt.getSelection){var Ht=Pt.getSelection(),Fe=J.textContent.length,fn=Math.min(ct.start,Fe),zi=ct.end===void 0?fn:Math.min(ct.end,Fe);!Ht.extend&&fn>zi&&(X=zi,zi=fn,fn=X);var _t=cS(J,fn),pt=cS(J,zi);if(_t&&pt&&(Ht.rangeCount!==1||Ht.anchorNode!==_t.node||Ht.anchorOffset!==_t.offset||Ht.focusNode!==pt.node||Ht.focusOffset!==pt.offset)){var Et=$t.createRange();Et.setStart(_t.node,_t.offset),Ht.removeAllRanges(),fn>zi?(Ht.addRange(Et),Ht.extend(pt.node,pt.offset)):(Et.setEnd(pt.node,pt.offset),Ht.addRange(Et))}}}}for($t=[],Ht=J;Ht=Ht.parentNode;)Ht.nodeType===1&&$t.push({element:Ht,left:Ht.scrollLeft,top:Ht.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<$t.length;J++){var Qt=$t[J];Qt.element.scrollLeft=Qt.left,Qt.element.scrollTop=Qt.top}}RM=!!aR,oR=aR=null}finally{$n=L,j.p=A,H.T=b}}d.current=v,Wi=2}}function Dr(){if(Wi===2){Wi=0;var d=Ds,v=ko,b=(v.flags&8772)!==0;if((v.subtreeFlags&8772)!==0||b){b=H.T,H.T=null;var A=j.p;j.p=2;var L=$n;$n|=4;try{gM(d,v.alternate,v)}finally{$n=L,j.p=A,H.T=b}}Wi=3}}function ai(){if(Wi===4||Wi===3){Wi=0,rt();var d=Ds,v=ko,b=ls,A=hy;(v.subtreeFlags&10256)!==0||(v.flags&10256)!==0?Wi=5:(Wi=0,ko=Ds=null,fu(d,d.pendingLanes));var L=d.pendingLanes;if(L===0&&(pl=null),af(b),v=v.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(ne,v,void 0,(v.current.flags&128)===128)}catch{}if(A!==null){v=H.T,L=j.p,j.p=2,H.T=null;try{for(var P=d.onRecoverableError,X=0;X<A.length;X++){var J=A[X];P(J.value,{componentStack:J.stack})}}finally{H.T=v,j.p=L}}(ls&3)!==0&&dy(),yc(d),L=d.pendingLanes,(b&261930)!==0&&(L&42)!==0?d===Nf?If++:(If=0,Nf=d):If=0,ax(0)}}function fu(d,v){(d.pooledCacheLanes&=v)===0&&(v=d.pooledCache,v!=null&&(d.pooledCache=null,$r(v)))}function dy(){return ri(),Dr(),ai(),b5()}function b5(){if(Wi!==5)return!1;var d=Ds,v=cu;cu=0;var b=af(ls),A=H.T,L=j.p;try{j.p=32>b?32:b,H.T=null,b=Lf,Lf=null;var P=Ds,X=ls;if(Wi=0,ko=Ds=null,ls=0,($n&6)!==0)throw Error(n(331));var J=$n;if($n|=4,Rf(P.current),Xi(P,P.current,X,b),$n=J,ax(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(ne,P)}catch{}return!0}finally{j.p=L,H.T=A,fu(d,v)}}function T5(d,v,b){v=to(b,v),v=ex(d.stateNode,v,2),d=tu(d,v,2),d!==null&&(Yi(d,2),yc(d))}function Ci(d,v,b){if(d.tag===3)T5(d,d,b);else for(;v!==null;){if(v.tag===3){T5(v,d,b);break}else if(v.tag===1){var A=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(pl===null||!pl.has(A))){d=to(b,d),b=td(2),A=tu(v,b,2),A!==null&&(ro(b,A,v,d),Yi(A,2),yc(A));break}}v=v.return}}function jD(d,v,b){var A=d.pingCache;if(A===null){A=d.pingCache=new fy;var L=new Set;A.set(v,L)}else L=A.get(v),L===void 0&&(L=new Set,A.set(v,L));L.has(b)||(wi=!0,L.add(b),d=X$.bind(null,d,v,b),v.then(d,d))}function X$(d,v,b){var A=d.pingCache;A!==null&&A.delete(v),d.pingedLanes|=d.suspendedLanes&b,d.warmLanes&=~b,vi===d&&(Wn&b)===b&&(gi===4||gi===3&&(Wn&62914560)===Wn&&300>K()-uu?($n&2)===0&&St(d,0):Es|=b,Vo===Wn&&(Vo=0)),yc(d)}function M5(d,v){v===0&&(v=zn()),d=tc(d,v),d!==null&&(Yi(d,v),yc(d))}function W$(d){var v=d.memoizedState,b=0;v!==null&&(b=v.retryLane),M5(d,b)}function Y$(d,v){var b=0;switch(d.tag){case 31:case 13:var A=d.stateNode,L=d.memoizedState;L!==null&&(b=L.retryLane);break;case 19:A=d.stateNode;break;case 22:A=d.stateNode._retryCache;break;default:throw Error(n(314))}A!==null&&A.delete(v),M5(d,b)}function q$(d,v){return ie(d,v)}var _M=null,py=null,KD=!1,SM=!1,QD=!1,ud=0;function yc(d){d!==py&&d.next===null&&(py===null?_M=py=d:py=py.next=d),SM=!0,KD||(KD=!0,j$())}function ax(d,v){if(!QD&&SM){QD=!0;do for(var b=!1,A=_M;A!==null;){if(d!==0){var L=A.pendingLanes;if(L===0)var P=0;else{var X=A.suspendedLanes,J=A.pingedLanes;P=(1<<31-ot(42|d)+1)-1,P&=L&~(X&~J),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(b=!0,C5(A,P))}else P=Wn,P=Kt(A,A===vi?P:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(P&3)===0||xe(A,P)||(b=!0,C5(A,P));A=A.next}while(b);QD=!1}}function Z$(){A5()}function A5(){SM=KD=!1;var d=0;ud!==0&&att()&&(d=ud);for(var v=K(),b=null,A=_M;A!==null;){var L=A.next,P=w5(A,v);P===0?(A.next=null,b===null?_M=L:b.next=L,L===null&&(py=b)):(b=A,(d!==0||(P&3)!==0)&&(SM=!0)),A=L}Wi!==0&&Wi!==5||ax(d),ud!==0&&(ud=0)}function w5(d,v){for(var b=d.suspendedLanes,A=d.pingedLanes,L=d.expirationTimes,P=d.pendingLanes&-62914561;0<P;){var X=31-ot(P),J=1<<X,ct=L[X];ct===-1?((J&b)===0||(J&A)!==0)&&(L[X]=qe(J,v)):ct<=v&&(d.expiredLanes|=J),P&=~J}if(v=vi,b=Wn,b=Kt(d,d===v?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),A=d.callbackNode,b===0||d===v&&($e===2||$e===9)||d.cancelPendingCommit!==null)return A!==null&&A!==null&&Xe(A),d.callbackNode=null,d.callbackPriority=0;if((b&3)===0||xe(d,b)){if(v=b&-b,v===d.callbackPriority)return v;switch(A!==null&&Xe(A),af(b)){case 2:case 8:b=ee;break;case 32:b=Gt;break;case 268435456:b=pe;break;default:b=Gt}return A=E5.bind(null,d),b=ie(b,A),d.callbackPriority=v,d.callbackNode=b,v}return A!==null&&A!==null&&Xe(A),d.callbackPriority=2,d.callbackNode=null,2}function E5(d,v){if(Wi!==0&&Wi!==5)return d.callbackNode=null,d.callbackPriority=0,null;var b=d.callbackNode;if(dy()&&d.callbackNode!==b)return null;var A=Wn;return A=Kt(d,d===vi?A:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),A===0?null:(E(d,A,v),w5(d,K()),d.callbackNode!=null&&d.callbackNode===b?E5.bind(null,d):null)}function C5(d,v){if(dy())return null;E(d,v,!0)}function j$(){stt(function(){($n&6)!==0?ie(Ft,Z$):A5()})}function JD(){if(ud===0){var d=$l;d===0&&(d=Jt,Jt<<=1,(Jt&261888)===0&&(Jt=256)),ud=d}return ud}function D5(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Tp(""+d)}function R5(d,v){var b=v.ownerDocument.createElement("input");return b.name=v.name,b.value=v.value,d.id&&b.setAttribute("form",d.id),v.parentNode.insertBefore(b,v),d=new FormData(d),b.parentNode.removeChild(b),d}function K$(d,v,b,A,L){if(v==="submit"&&b&&b.stateNode===L){var P=D5((L[wr]||null).action),X=A.submitter;X&&(v=(v=X[wr]||null)?D5(v.formAction):X.getAttribute("formAction"),v!==null&&(P=v,X=null));var J=new Ep("action","action",null,A,L);d.push({event:J,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(ud!==0){var ct=X?R5(L,X):new FormData(L);KS(b,{pending:!0,data:ct,method:L.method,action:P},null,ct)}}else typeof P=="function"&&(J.preventDefault(),ct=X?R5(L,X):new FormData(L),KS(b,{pending:!0,data:ct,method:L.method,action:P},P,ct))},currentTarget:L}]})}}for(var $D=0;$D<Lm.length;$D++){var tR=Lm[$D],Q$=tR.toLowerCase(),J$=tR[0].toUpperCase()+tR.slice(1);ma(Q$,"on"+J$)}ma($a,"onAnimationEnd"),ma(fS,"onAnimationIteration"),ma(tl,"onAnimationStart"),ma("dblclick","onDoubleClick"),ma("focusin","onFocus"),ma("focusout","onBlur"),ma(Fh,"onTransitionRun"),ma(Qu,"onTransitionStart"),ma(hS,"onTransitionCancel"),ma(Rm,"onTransitionEnd"),Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"]),be("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),be("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),be("onBeforeInput",["compositionend","keypress","textInput","paste"]),be("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),be("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),be("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ox="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ox));function L5(d,v){v=(v&4)!==0;for(var b=0;b<d.length;b++){var A=d[b],L=A.event;A=A.listeners;t:{var P=void 0;if(v)for(var X=A.length-1;0<=X;X--){var J=A[X],ct=J.instance,Dt=J.currentTarget;if(J=J.listener,ct!==P&&L.isPropagationStopped())break t;P=J,L.currentTarget=Dt;try{P(L)}catch(Yt){Ju(Yt)}L.currentTarget=null,P=ct}else for(X=0;X<A.length;X++){if(J=A[X],ct=J.instance,Dt=J.currentTarget,J=J.listener,ct!==P&&L.isPropagationStopped())break t;P=J,L.currentTarget=Dt;try{P(L)}catch(Yt){Ju(Yt)}L.currentTarget=null,P=ct}}}}function Kn(d,v){var b=v[Rh];b===void 0&&(b=v[Rh]=new Set);var A=d+"__bubble";b.has(A)||(I5(v,d,2,!1),b.add(A))}function eR(d,v,b){var A=0;v&&(A|=4),I5(b,d,A,v)}var xM="_reactListening"+Math.random().toString(36).slice(2);function nR(d){if(!d[xM]){d[xM]=!0,me.forEach(function(b){b!=="selectionchange"&&($$.has(b)||eR(b,!1,d),eR(b,!0,d))});var v=d.nodeType===9?d:d.ownerDocument;v===null||v[xM]||(v[xM]=!0,eR("selectionchange",!1,v))}}function I5(d,v,b,A){switch(sV(v)){case 2:var L=Ett;break;case 8:L=Ctt;break;default:L=mR}b=L.bind(null,v,b,d),L=void 0,!gm||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(L=!0),A?L!==void 0?d.addEventListener(v,b,{capture:!0,passive:L}):d.addEventListener(v,b,!0):L!==void 0?d.addEventListener(v,b,{passive:L}):d.addEventListener(v,b,!1)}function iR(d,v,b,A,L){var P=A;if((v&1)===0&&(v&2)===0&&A!==null)t:for(;;){if(A===null)return;var X=A.tag;if(X===3||X===4){var J=A.stateNode.containerInfo;if(J===L)break;if(X===4)for(X=A.return;X!==null;){var ct=X.tag;if((ct===3||ct===4)&&X.stateNode.containerInfo===L)return;X=X.return}for(;J!==null;){if(X=gt(J),X===null)return;if(ct=X.tag,ct===5||ct===6||ct===26||ct===27){A=P=X;continue t}J=J.parentNode}}A=A.return}q_(function(){var Dt=P,Yt=pm(b),$t=[];t:{var Pt=Yl.get(d);if(Pt!==void 0){var Ht=Ep,Fe=d;switch(d){case"keypress":if(cf(b)===0)break t;case"keydown":case"keyup":Ht=tS;break;case"focusin":Fe="focus",Ht=xm;break;case"focusout":Fe="blur",Ht=xm;break;case"beforeblur":case"afterblur":Ht=xm;break;case"click":if(b.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ht=ST;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ht=xT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ht=Xl;break;case $a:case fS:case tl:Ht=MT;break;case Rm:Ht=kD;break;case"scroll":case"scrollend":Ht=_m;break;case"wheel":Ht=Wu;break;case"copy":case"cut":case"paste":Ht=j_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ht=bm;break;case"toggle":case"beforetoggle":Ht=nS}var fn=(v&4)!==0,zi=!fn&&(d==="scroll"||d==="scrollend"),_t=fn?Pt!==null?Pt+"Capture":null:Pt;fn=[];for(var pt=Dt,Et;pt!==null;){var Qt=pt;if(Et=Qt.stateNode,Qt=Qt.tag,Qt!==5&&Qt!==26&&Qt!==27||Et===null||_t===null||(Qt=uf(pt,_t),Qt!=null&&fn.push(sx(pt,Qt,Et))),zi)break;pt=pt.return}0<fn.length&&(Pt=new Ht(Pt,Fe,null,b,Yt),$t.push({event:Pt,listeners:fn}))}}if((v&7)===0){t:{if(Pt=d==="mouseover"||d==="pointerover",Ht=d==="mouseout"||d==="pointerout",Pt&&b!==Mp&&(Fe=b.relatedTarget||b.fromElement)&&(gt(Fe)||Fe[Ks]))break t;if((Ht||Pt)&&(Pt=Yt.window===Yt?Yt:(Pt=Yt.ownerDocument)?Pt.defaultView||Pt.parentWindow:window,Ht?(Fe=b.relatedTarget||b.toElement,Ht=Dt,Fe=Fe?gt(Fe):null,Fe!==null&&(zi=a(Fe),fn=Fe.tag,Fe!==zi||fn!==5&&fn!==27&&fn!==6)&&(Fe=null)):(Ht=null,Fe=Dt),Ht!==Fe)){if(fn=ST,Qt="onMouseLeave",_t="onMouseEnter",pt="mouse",(d==="pointerout"||d==="pointerover")&&(fn=bm,Qt="onPointerLeave",_t="onPointerEnter",pt="pointer"),zi=Ht==null?Pt:zt(Ht),Et=Fe==null?Pt:zt(Fe),Pt=new fn(Qt,pt+"leave",Ht,b,Yt),Pt.target=zi,Pt.relatedTarget=Et,Qt=null,gt(Yt)===Dt&&(fn=new fn(_t,pt+"enter",Fe,b,Yt),fn.target=Et,fn.relatedTarget=zi,Qt=fn),zi=Qt,Ht&&Fe)e:{for(fn=ttt,_t=Ht,pt=Fe,Et=0,Qt=_t;Qt;Qt=fn(Qt))Et++;Qt=0;for(var rn=pt;rn;rn=fn(rn))Qt++;for(;0<Et-Qt;)_t=fn(_t),Et--;for(;0<Qt-Et;)pt=fn(pt),Qt--;for(;Et--;){if(_t===pt||pt!==null&&_t===pt.alternate){fn=_t;break e}_t=fn(_t),pt=fn(pt)}fn=null}else fn=null;Ht!==null&&N5($t,Pt,Ht,fn,!1),Fe!==null&&zi!==null&&N5($t,zi,Fe,fn,!0)}}t:{if(Pt=Dt?zt(Dt):window,Ht=Pt.nodeName&&Pt.nodeName.toLowerCase(),Ht==="select"||Ht==="input"&&Pt.type==="file")var mi=sS;else if(aS(Pt))if(Np)mi=PT;else{mi=Zu;var Ye=Op}else Ht=Pt.nodeName,!Ht||Ht.toLowerCase()!=="input"||Pt.type!=="checkbox"&&Pt.type!=="radio"?Dt&&bp(Dt.elementType)&&(mi=sS):mi=OT;if(mi&&(mi=mi(d,Dt))){Am($t,mi,b,Yt);break t}Ye&&Ye(d,Pt,Dt),d==="focusout"&&Dt&&Pt.type==="number"&&Dt.memoizedProps.value!=null&&dr(Pt,"number",Pt.value)}switch(Ye=Dt?zt(Dt):window,d){case"focusin":(aS(Ye)||Ye.contentEditable==="true")&&(Vh=Ye,Cm=Dt,Hh=null);break;case"focusout":Hh=Cm=Vh=null;break;case"mousedown":wo=!0;break;case"contextmenu":case"mouseup":case"dragend":wo=!1,Dm($t,b,Yt);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":Dm($t,b,Yt)}var Vn;if(ff)t:{switch(d){case"compositionstart":var ei="onCompositionStart";break t;case"compositionend":ei="onCompositionEnd";break t;case"compositionupdate":ei="onCompositionUpdate";break t}ei=void 0}else qu?Tm(d,b)&&(ei="onCompositionEnd"):d==="keydown"&&b.keyCode===229&&(ei="onCompositionStart");ei&&(Jr&&b.locale!=="ko"&&(qu||ei!=="onCompositionStart"?ei==="onCompositionEnd"&&qu&&(Vn=ym()):(Fu=Yt,mm="value"in Fu?Fu.value:Fu.textContent,qu=!0)),Ye=bM(Dt,ei),0<Ye.length&&(ei=new K_(ei,d,null,b,Yt),$t.push({event:ei,listeners:Ye}),Vn?ei.data=Vn:(Vn=Nh(b),Vn!==null&&(ei.data=Vn)))),(Vn=hf?Mm(d,b):LT(d,b))&&(ei=bM(Dt,"onBeforeInput"),0<ei.length&&(Ye=new K_("onBeforeInput","beforeinput",null,b,Yt),$t.push({event:Ye,listeners:ei}),Ye.data=Vn)),K$($t,d,Dt,b,Yt)}L5($t,v)})}function sx(d,v,b){return{instance:d,listener:v,currentTarget:b}}function bM(d,v){for(var b=v+"Capture",A=[];d!==null;){var L=d,P=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||P===null||(L=uf(d,b),L!=null&&A.unshift(sx(d,L,P)),L=uf(d,v),L!=null&&A.push(sx(d,L,P))),d.tag===3)return A;d=d.return}return[]}function ttt(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function N5(d,v,b,A,L){for(var P=v._reactName,X=[];b!==null&&b!==A;){var J=b,ct=J.alternate,Dt=J.stateNode;if(J=J.tag,ct!==null&&ct===A)break;J!==5&&J!==26&&J!==27||Dt===null||(ct=Dt,L?(Dt=uf(b,P),Dt!=null&&X.unshift(sx(b,Dt,ct))):L||(Dt=uf(b,P),Dt!=null&&X.push(sx(b,Dt,ct)))),b=b.return}X.length!==0&&d.push({event:v,listeners:X})}var ett=/\r\n?/g,ntt=/\u0000|\uFFFD/g;function O5(d){return(typeof d=="string"?d:""+d).replace(ett,`
`).replace(ntt,"")}function P5(d,v){return v=O5(v),O5(d)===v}function Pi(d,v,b,A,L,P){switch(b){case"children":typeof A=="string"?v==="body"||v==="textarea"&&A===""||sf(d,A):(typeof A=="number"||typeof A=="bigint")&&v!=="body"&&sf(d,""+A);break;case"className":ci(d,"class",A);break;case"tabIndex":ci(d,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(d,b,A);break;case"style":W_(d,A,P);break;case"data":if(v!=="object"){ci(d,"data",A);break}case"src":case"href":if(A===""&&(v!=="a"||b!=="href")){d.removeAttribute(b);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){d.removeAttribute(b);break}A=Tp(""+A),d.setAttribute(b,A);break;case"action":case"formAction":if(typeof A=="function"){d.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(b==="formAction"?(v!=="input"&&Pi(d,v,"name",L.name,L,null),Pi(d,v,"formEncType",L.formEncType,L,null),Pi(d,v,"formMethod",L.formMethod,L,null),Pi(d,v,"formTarget",L.formTarget,L,null)):(Pi(d,v,"encType",L.encType,L,null),Pi(d,v,"method",L.method,L,null),Pi(d,v,"target",L.target,L,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){d.removeAttribute(b);break}A=Tp(""+A),d.setAttribute(b,A);break;case"onClick":A!=null&&(d.onclick=Js);break;case"onScroll":A!=null&&Kn("scroll",d);break;case"onScrollEnd":A!=null&&Kn("scrollend",d);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(n(61));if(b=A.__html,b!=null){if(L.children!=null)throw Error(n(60));d.innerHTML=b}}break;case"multiple":d.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":d.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){d.removeAttribute("xlink:href");break}b=Tp(""+A),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?d.setAttribute(b,""+A):d.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?d.setAttribute(b,""):d.removeAttribute(b);break;case"capture":case"download":A===!0?d.setAttribute(b,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?d.setAttribute(b,A):d.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?d.setAttribute(b,A):d.removeAttribute(b);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?d.removeAttribute(b):d.setAttribute(b,A);break;case"popover":Kn("beforetoggle",d),Kn("toggle",d),Mi(d,"popover",A);break;case"xlinkActuate":Bn(d,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":Bn(d,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":Bn(d,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":Bn(d,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":Bn(d,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":Bn(d,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":Bn(d,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":Bn(d,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":Bn(d,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":Mi(d,"is",A);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=yT.get(b)||b,Mi(d,b,A))}}function rR(d,v,b,A,L,P){switch(b){case"style":W_(d,A,P);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(n(61));if(b=A.__html,b!=null){if(L.children!=null)throw Error(n(60));d.innerHTML=b}}break;case"children":typeof A=="string"?sf(d,A):(typeof A=="number"||typeof A=="bigint")&&sf(d,""+A);break;case"onScroll":A!=null&&Kn("scroll",d);break;case"onScrollEnd":A!=null&&Kn("scrollend",d);break;case"onClick":A!=null&&(d.onclick=Js);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ze.hasOwnProperty(b))t:{if(b[0]==="o"&&b[1]==="n"&&(L=b.endsWith("Capture"),v=b.slice(2,L?b.length-7:void 0),P=d[wr]||null,P=P!=null?P[b]:null,typeof P=="function"&&d.removeEventListener(v,P,L),typeof A=="function")){typeof P!="function"&&P!==null&&(b in d?d[b]=null:d.hasAttribute(b)&&d.removeAttribute(b)),d.addEventListener(v,A,L);break t}b in d?d[b]=A:A===!0?d.setAttribute(b,""):Mi(d,b,A)}}}function Fa(d,v,b){switch(v){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kn("error",d),Kn("load",d);var A=!1,L=!1,P;for(P in b)if(b.hasOwnProperty(P)){var X=b[P];if(X!=null)switch(P){case"src":A=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,v));default:Pi(d,v,P,X,b,null)}}L&&Pi(d,v,"srcSet",b.srcSet,b,null),A&&Pi(d,v,"src",b.src,b,null);return;case"input":Kn("invalid",d);var J=P=X=L=null,ct=null,Dt=null;for(A in b)if(b.hasOwnProperty(A)){var Yt=b[A];if(Yt!=null)switch(A){case"name":L=Yt;break;case"type":X=Yt;break;case"checked":ct=Yt;break;case"defaultChecked":Dt=Yt;break;case"value":P=Yt;break;case"defaultValue":J=Yt;break;case"children":case"dangerouslySetInnerHTML":if(Yt!=null)throw Error(n(137,v));break;default:Pi(d,v,A,Yt,b,null)}}va(d,P,J,ct,Dt,X,L,!1);return;case"select":Kn("invalid",d),A=X=P=null;for(L in b)if(b.hasOwnProperty(L)&&(J=b[L],J!=null))switch(L){case"value":P=J;break;case"defaultValue":X=J;break;case"multiple":A=J;default:Pi(d,v,L,J,b,null)}v=P,b=X,d.multiple=!!A,v!=null?er(d,!!A,v,!1):b!=null&&er(d,!!A,b,!0);return;case"textarea":Kn("invalid",d),P=L=A=null;for(X in b)if(b.hasOwnProperty(X)&&(J=b[X],J!=null))switch(X){case"value":A=J;break;case"defaultValue":L=J;break;case"children":P=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(91));break;default:Pi(d,v,X,J,b,null)}Oa(d,A,L,P);return;case"option":for(ct in b)if(b.hasOwnProperty(ct)&&(A=b[ct],A!=null))switch(ct){case"selected":d.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Pi(d,v,ct,A,b,null)}return;case"dialog":Kn("beforetoggle",d),Kn("toggle",d),Kn("cancel",d),Kn("close",d);break;case"iframe":case"object":Kn("load",d);break;case"video":case"audio":for(A=0;A<ox.length;A++)Kn(ox[A],d);break;case"image":Kn("error",d),Kn("load",d);break;case"details":Kn("toggle",d);break;case"embed":case"source":case"link":Kn("error",d),Kn("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Dt in b)if(b.hasOwnProperty(Dt)&&(A=b[Dt],A!=null))switch(Dt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,v));default:Pi(d,v,Dt,A,b,null)}return;default:if(bp(v)){for(Yt in b)b.hasOwnProperty(Yt)&&(A=b[Yt],A!==void 0&&rR(d,v,Yt,A,b,void 0));return}}for(J in b)b.hasOwnProperty(J)&&(A=b[J],A!=null&&Pi(d,v,J,A,b,null))}function itt(d,v,b,A){switch(v){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,P=null,X=null,J=null,ct=null,Dt=null,Yt=null;for(Ht in b){var $t=b[Ht];if(b.hasOwnProperty(Ht)&&$t!=null)switch(Ht){case"checked":break;case"value":break;case"defaultValue":ct=$t;default:A.hasOwnProperty(Ht)||Pi(d,v,Ht,null,A,$t)}}for(var Pt in A){var Ht=A[Pt];if($t=b[Pt],A.hasOwnProperty(Pt)&&(Ht!=null||$t!=null))switch(Pt){case"type":P=Ht;break;case"name":L=Ht;break;case"checked":Dt=Ht;break;case"defaultChecked":Yt=Ht;break;case"value":X=Ht;break;case"defaultValue":J=Ht;break;case"children":case"dangerouslySetInnerHTML":if(Ht!=null)throw Error(n(137,v));break;default:Ht!==$t&&Pi(d,v,Pt,Ht,A,$t)}}Kr(d,X,J,ct,Dt,Yt,P,L);return;case"select":Ht=X=J=Pt=null;for(P in b)if(ct=b[P],b.hasOwnProperty(P)&&ct!=null)switch(P){case"value":break;case"multiple":Ht=ct;default:A.hasOwnProperty(P)||Pi(d,v,P,null,A,ct)}for(L in A)if(P=A[L],ct=b[L],A.hasOwnProperty(L)&&(P!=null||ct!=null))switch(L){case"value":Pt=P;break;case"defaultValue":J=P;break;case"multiple":X=P;default:P!==ct&&Pi(d,v,L,P,A,ct)}v=J,b=X,A=Ht,Pt!=null?er(d,!!b,Pt,!1):!!A!=!!b&&(v!=null?er(d,!!b,v,!0):er(d,!!b,b?[]:"",!1));return;case"textarea":Ht=Pt=null;for(J in b)if(L=b[J],b.hasOwnProperty(J)&&L!=null&&!A.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Pi(d,v,J,null,A,L)}for(X in A)if(L=A[X],P=b[X],A.hasOwnProperty(X)&&(L!=null||P!=null))switch(X){case"value":Pt=L;break;case"defaultValue":Ht=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(n(91));break;default:L!==P&&Pi(d,v,X,L,A,P)}of(d,Pt,Ht);return;case"option":for(var Fe in b)if(Pt=b[Fe],b.hasOwnProperty(Fe)&&Pt!=null&&!A.hasOwnProperty(Fe))switch(Fe){case"selected":d.selected=!1;break;default:Pi(d,v,Fe,null,A,Pt)}for(ct in A)if(Pt=A[ct],Ht=b[ct],A.hasOwnProperty(ct)&&Pt!==Ht&&(Pt!=null||Ht!=null))switch(ct){case"selected":d.selected=Pt&&typeof Pt!="function"&&typeof Pt!="symbol";break;default:Pi(d,v,ct,Pt,A,Ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fn in b)Pt=b[fn],b.hasOwnProperty(fn)&&Pt!=null&&!A.hasOwnProperty(fn)&&Pi(d,v,fn,null,A,Pt);for(Dt in A)if(Pt=A[Dt],Ht=b[Dt],A.hasOwnProperty(Dt)&&Pt!==Ht&&(Pt!=null||Ht!=null))switch(Dt){case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(n(137,v));break;default:Pi(d,v,Dt,Pt,A,Ht)}return;default:if(bp(v)){for(var zi in b)Pt=b[zi],b.hasOwnProperty(zi)&&Pt!==void 0&&!A.hasOwnProperty(zi)&&rR(d,v,zi,void 0,A,Pt);for(Yt in A)Pt=A[Yt],Ht=b[Yt],!A.hasOwnProperty(Yt)||Pt===Ht||Pt===void 0&&Ht===void 0||rR(d,v,Yt,Pt,A,Ht);return}}for(var _t in b)Pt=b[_t],b.hasOwnProperty(_t)&&Pt!=null&&!A.hasOwnProperty(_t)&&Pi(d,v,_t,null,A,Pt);for($t in A)Pt=A[$t],Ht=b[$t],!A.hasOwnProperty($t)||Pt===Ht||Pt==null&&Ht==null||Pi(d,v,$t,Pt,A,Ht)}function z5(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rtt(){if(typeof performance.getEntriesByType=="function"){for(var d=0,v=0,b=performance.getEntriesByType("resource"),A=0;A<b.length;A++){var L=b[A],P=L.transferSize,X=L.initiatorType,J=L.duration;if(P&&J&&z5(X)){for(X=0,J=L.responseEnd,A+=1;A<b.length;A++){var ct=b[A],Dt=ct.startTime;if(Dt>J)break;var Yt=ct.transferSize,$t=ct.initiatorType;Yt&&z5($t)&&(ct=ct.responseEnd,X+=Yt*(ct<J?1:(J-Dt)/(ct-Dt)))}if(--A,v+=8*(P+X)/(L.duration/1e3),d++,10<d)break}}if(0<d)return v/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var aR=null,oR=null;function TM(d){return d.nodeType===9?d:d.ownerDocument}function B5(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U5(d,v){if(d===0)switch(v){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&v==="foreignObject"?0:d}function sR(d,v){return d==="textarea"||d==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.children=="bigint"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var lR=null;function att(){var d=window.event;return d&&d.type==="popstate"?d===lR?!1:(lR=d,!0):(lR=null,!1)}var V5=typeof setTimeout=="function"?setTimeout:void 0,ott=typeof clearTimeout=="function"?clearTimeout:void 0,H5=typeof Promise=="function"?Promise:void 0,stt=typeof queueMicrotask=="function"?queueMicrotask:typeof H5<"u"?function(d){return H5.resolve(null).then(d).catch(ltt)}:V5;function ltt(d){setTimeout(function(){throw d})}function cd(d){return d==="head"}function k5(d,v){var b=v,A=0;do{var L=b.nextSibling;if(d.removeChild(b),L&&L.nodeType===8)if(b=L.data,b==="/$"||b==="/&"){if(A===0){d.removeChild(L),yy(v);return}A--}else if(b==="$"||b==="$?"||b==="$~"||b==="$!"||b==="&")A++;else if(b==="html")lx(d.ownerDocument.documentElement);else if(b==="head"){b=d.ownerDocument.head,lx(b);for(var P=b.firstChild;P;){var X=P.nextSibling,J=P.nodeName;P[Gl]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&P.rel.toLowerCase()==="stylesheet"||b.removeChild(P),P=X}}else b==="body"&&lx(d.ownerDocument.body);b=L}while(b);yy(v)}function F5(d,v){var b=d;d=0;do{var A=b.nextSibling;if(b.nodeType===1?v?(b._stashedDisplay=b.style.display,b.style.display="none"):(b.style.display=b._stashedDisplay||"",b.getAttribute("style")===""&&b.removeAttribute("style")):b.nodeType===3&&(v?(b._stashedText=b.nodeValue,b.nodeValue=""):b.nodeValue=b._stashedText||""),A&&A.nodeType===8)if(b=A.data,b==="/$"){if(d===0)break;d--}else b!=="$"&&b!=="$?"&&b!=="$~"&&b!=="$!"||d++;b=A}while(b)}function uR(d){var v=d.firstChild;for(v&&v.nodeType===10&&(v=v.nextSibling);v;){var b=v;switch(v=v.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":uR(b),et(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}d.removeChild(b)}}function utt(d,v,b,A){for(;d.nodeType===1;){var L=b;if(d.nodeName.toLowerCase()!==v.toLowerCase()){if(!A&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(A){if(!d[Gl])switch(v){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(P=d.getAttribute("rel"),P==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(P!==L.rel||d.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||d.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||d.getAttribute("title")!==(L.title==null?null:L.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(P=d.getAttribute("src"),(P!==(L.src==null?null:L.src)||d.getAttribute("type")!==(L.type==null?null:L.type)||d.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&P&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(v==="input"&&d.type==="hidden"){var P=L.name==null?null:""+L.name;if(L.type==="hidden"&&d.getAttribute("name")===P)return d}else return d;if(d=vl(d.nextSibling),d===null)break}return null}function ctt(d,v,b){if(v==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!b||(d=vl(d.nextSibling),d===null))return null;return d}function G5(d,v){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!v||(d=vl(d.nextSibling),d===null))return null;return d}function cR(d){return d.data==="$?"||d.data==="$~"}function fR(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function ftt(d,v){var b=d.ownerDocument;if(d.data==="$~")d._reactRetry=v;else if(d.data!=="$?"||b.readyState!=="loading")v();else{var A=function(){v(),b.removeEventListener("DOMContentLoaded",A)};b.addEventListener("DOMContentLoaded",A),d._reactRetry=A}}function vl(d){for(;d!=null;d=d.nextSibling){var v=d.nodeType;if(v===1||v===3)break;if(v===8){if(v=d.data,v==="$"||v==="$!"||v==="$?"||v==="$~"||v==="&"||v==="F!"||v==="F")break;if(v==="/$"||v==="/&")return null}}return d}var hR=null;function X5(d){d=d.nextSibling;for(var v=0;d;){if(d.nodeType===8){var b=d.data;if(b==="/$"||b==="/&"){if(v===0)return vl(d.nextSibling);v--}else b!=="$"&&b!=="$!"&&b!=="$?"&&b!=="$~"&&b!=="&"||v++}d=d.nextSibling}return null}function W5(d){d=d.previousSibling;for(var v=0;d;){if(d.nodeType===8){var b=d.data;if(b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"){if(v===0)return d;v--}else b!=="/$"&&b!=="/&"||v++}d=d.previousSibling}return null}function Y5(d,v,b){switch(v=TM(b),d){case"html":if(d=v.documentElement,!d)throw Error(n(452));return d;case"head":if(d=v.head,!d)throw Error(n(453));return d;case"body":if(d=v.body,!d)throw Error(n(454));return d;default:throw Error(n(451))}}function lx(d){for(var v=d.attributes;v.length;)d.removeAttributeNode(v[0]);et(d)}var gl=new Map,q5=new Set;function MM(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Pf=j.d;j.d={f:htt,r:dtt,D:ptt,C:vtt,L:gtt,m:mtt,X:_tt,S:ytt,M:Stt};function htt(){var d=Pf.f(),v=tt();return d||v}function dtt(d){var v=Tt(d);v!==null&&v.tag===5&&v.type==="form"?QS(v):Pf.r(d)}var vy=typeof document>"u"?null:document;function Z5(d,v,b){var A=vy;if(A&&typeof v=="string"&&v){var L=Fn(v);L='link[rel="'+d+'"][href="'+L+'"]',typeof b=="string"&&(L+='[crossorigin="'+b+'"]'),q5.has(L)||(q5.add(L),d={rel:d,crossOrigin:b,href:v},A.querySelector(L)===null&&(v=A.createElement("link"),Fa(v,"link",d),te(v),A.head.appendChild(v)))}}function ptt(d){Pf.D(d),Z5("dns-prefetch",d,null)}function vtt(d,v){Pf.C(d,v),Z5("preconnect",d,v)}function gtt(d,v,b){Pf.L(d,v,b);var A=vy;if(A&&d&&v){var L='link[rel="preload"][as="'+Fn(v)+'"]';v==="image"&&b&&b.imageSrcSet?(L+='[imagesrcset="'+Fn(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(L+='[imagesizes="'+Fn(b.imageSizes)+'"]')):L+='[href="'+Fn(d)+'"]';var P=L;switch(v){case"style":P=gy(d);break;case"script":P=my(d)}gl.has(P)||(d=f({rel:"preload",href:v==="image"&&b&&b.imageSrcSet?void 0:d,as:v},b),gl.set(P,d),A.querySelector(L)!==null||v==="style"&&A.querySelector(ux(P))||v==="script"&&A.querySelector(cx(P))||(v=A.createElement("link"),Fa(v,"link",d),te(v),A.head.appendChild(v)))}}function mtt(d,v){Pf.m(d,v);var b=vy;if(b&&d){var A=v&&typeof v.as=="string"?v.as:"script",L='link[rel="modulepreload"][as="'+Fn(A)+'"][href="'+Fn(d)+'"]',P=L;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=my(d)}if(!gl.has(P)&&(d=f({rel:"modulepreload",href:d},v),gl.set(P,d),b.querySelector(L)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(cx(P)))return}A=b.createElement("link"),Fa(A,"link",d),te(A),b.head.appendChild(A)}}}function ytt(d,v,b){Pf.S(d,v,b);var A=vy;if(A&&d){var L=mt(A).hoistableStyles,P=gy(d);v=v||"default";var X=L.get(P);if(!X){var J={loading:0,preload:null};if(X=A.querySelector(ux(P)))J.loading=5;else{d=f({rel:"stylesheet",href:d,"data-precedence":v},b),(b=gl.get(P))&&dR(d,b);var ct=X=A.createElement("link");te(ct),Fa(ct,"link",d),ct._p=new Promise(function(Dt,Yt){ct.onload=Dt,ct.onerror=Yt}),ct.addEventListener("load",function(){J.loading|=1}),ct.addEventListener("error",function(){J.loading|=2}),J.loading|=4,AM(X,v,A)}X={type:"stylesheet",instance:X,count:1,state:J},L.set(P,X)}}}function _tt(d,v){Pf.X(d,v);var b=vy;if(b&&d){var A=mt(b).hoistableScripts,L=my(d),P=A.get(L);P||(P=b.querySelector(cx(L)),P||(d=f({src:d,async:!0},v),(v=gl.get(L))&&pR(d,v),P=b.createElement("script"),te(P),Fa(P,"link",d),b.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},A.set(L,P))}}function Stt(d,v){Pf.M(d,v);var b=vy;if(b&&d){var A=mt(b).hoistableScripts,L=my(d),P=A.get(L);P||(P=b.querySelector(cx(L)),P||(d=f({src:d,async:!0,type:"module"},v),(v=gl.get(L))&&pR(d,v),P=b.createElement("script"),te(P),Fa(P,"link",d),b.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},A.set(L,P))}}function j5(d,v,b,A){var L=(L=dt.current)?MM(L):null;if(!L)throw Error(n(446));switch(d){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(v=gy(b.href),b=mt(L).hoistableStyles,A=b.get(v),A||(A={type:"style",instance:null,count:0,state:null},b.set(v,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){d=gy(b.href);var P=mt(L).hoistableStyles,X=P.get(d);if(X||(L=L.ownerDocument||L,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(d,X),(P=L.querySelector(ux(d)))&&!P._p&&(X.instance=P,X.state.loading=5),gl.has(d)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},gl.set(d,b),P||xtt(L,d,b,X.state))),v&&A===null)throw Error(n(528,""));return X}if(v&&A!==null)throw Error(n(529,""));return null;case"script":return v=b.async,b=b.src,typeof b=="string"&&v&&typeof v!="function"&&typeof v!="symbol"?(v=my(b),b=mt(L).hoistableScripts,A=b.get(v),A||(A={type:"script",instance:null,count:0,state:null},b.set(v,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,d))}}function gy(d){return'href="'+Fn(d)+'"'}function ux(d){return'link[rel="stylesheet"]['+d+"]"}function K5(d){return f({},d,{"data-precedence":d.precedence,precedence:null})}function xtt(d,v,b,A){d.querySelector('link[rel="preload"][as="style"]['+v+"]")?A.loading=1:(v=d.createElement("link"),A.preload=v,v.addEventListener("load",function(){return A.loading|=1}),v.addEventListener("error",function(){return A.loading|=2}),Fa(v,"link",b),te(v),d.head.appendChild(v))}function my(d){return'[src="'+Fn(d)+'"]'}function cx(d){return"script[async]"+d}function Q5(d,v,b){if(v.count++,v.instance===null)switch(v.type){case"style":var A=d.querySelector('style[data-href~="'+Fn(b.href)+'"]');if(A)return v.instance=A,te(A),A;var L=f({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return A=(d.ownerDocument||d).createElement("style"),te(A),Fa(A,"style",L),AM(A,b.precedence,d),v.instance=A;case"stylesheet":L=gy(b.href);var P=d.querySelector(ux(L));if(P)return v.state.loading|=4,v.instance=P,te(P),P;A=K5(b),(L=gl.get(L))&&dR(A,L),P=(d.ownerDocument||d).createElement("link"),te(P);var X=P;return X._p=new Promise(function(J,ct){X.onload=J,X.onerror=ct}),Fa(P,"link",A),v.state.loading|=4,AM(P,b.precedence,d),v.instance=P;case"script":return P=my(b.src),(L=d.querySelector(cx(P)))?(v.instance=L,te(L),L):(A=b,(L=gl.get(P))&&(A=f({},b),pR(A,L)),d=d.ownerDocument||d,L=d.createElement("script"),te(L),Fa(L,"link",A),d.head.appendChild(L),v.instance=L);case"void":return null;default:throw Error(n(443,v.type))}else v.type==="stylesheet"&&(v.state.loading&4)===0&&(A=v.instance,v.state.loading|=4,AM(A,b.precedence,d));return v.instance}function AM(d,v,b){for(var A=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=A.length?A[A.length-1]:null,P=L,X=0;X<A.length;X++){var J=A[X];if(J.dataset.precedence===v)P=J;else if(P!==L)break}P?P.parentNode.insertBefore(d,P.nextSibling):(v=b.nodeType===9?b.head:b,v.insertBefore(d,v.firstChild))}function dR(d,v){d.crossOrigin==null&&(d.crossOrigin=v.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=v.referrerPolicy),d.title==null&&(d.title=v.title)}function pR(d,v){d.crossOrigin==null&&(d.crossOrigin=v.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=v.referrerPolicy),d.integrity==null&&(d.integrity=v.integrity)}var wM=null;function J5(d,v,b){if(wM===null){var A=new Map,L=wM=new Map;L.set(b,A)}else L=wM,A=L.get(b),A||(A=new Map,L.set(b,A));if(A.has(d))return A;for(A.set(d,null),b=b.getElementsByTagName(d),L=0;L<b.length;L++){var P=b[L];if(!(P[Gl]||P[In]||d==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var X=P.getAttribute(v)||"";X=d+X;var J=A.get(X);J?J.push(P):A.set(X,[P])}}return A}function $5(d,v,b){d=d.ownerDocument||d,d.head.insertBefore(b,v==="title"?d.querySelector("head > title"):null)}function btt(d,v,b){if(b===1||v.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof v.precedence!="string"||typeof v.href!="string"||v.href==="")break;return!0;case"link":if(typeof v.rel!="string"||typeof v.href!="string"||v.href===""||v.onLoad||v.onError)break;switch(v.rel){case"stylesheet":return d=v.disabled,typeof v.precedence=="string"&&d==null;default:return!0}case"script":if(v.async&&typeof v.async!="function"&&typeof v.async!="symbol"&&!v.onLoad&&!v.onError&&v.src&&typeof v.src=="string")return!0}return!1}function tV(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function Ttt(d,v,b,A){if(b.type==="stylesheet"&&(typeof A.media!="string"||matchMedia(A.media).matches!==!1)&&(b.state.loading&4)===0){if(b.instance===null){var L=gy(A.href),P=v.querySelector(ux(L));if(P){v=P._p,v!==null&&typeof v=="object"&&typeof v.then=="function"&&(d.count++,d=EM.bind(d),v.then(d,d)),b.state.loading|=4,b.instance=P,te(P);return}P=v.ownerDocument||v,A=K5(A),(L=gl.get(L))&&dR(A,L),P=P.createElement("link"),te(P);var X=P;X._p=new Promise(function(J,ct){X.onload=J,X.onerror=ct}),Fa(P,"link",A),b.instance=P}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(b,v),(v=b.state.preload)&&(b.state.loading&3)===0&&(d.count++,b=EM.bind(d),v.addEventListener("load",b),v.addEventListener("error",b))}}var vR=0;function Mtt(d,v){return d.stylesheets&&d.count===0&&DM(d,d.stylesheets),0<d.count||0<d.imgCount?function(b){var A=setTimeout(function(){if(d.stylesheets&&DM(d,d.stylesheets),d.unsuspend){var P=d.unsuspend;d.unsuspend=null,P()}},6e4+v);0<d.imgBytes&&vR===0&&(vR=62500*rtt());var L=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&DM(d,d.stylesheets),d.unsuspend)){var P=d.unsuspend;d.unsuspend=null,P()}},(d.imgBytes>vR?50:800)+v);return d.unsuspend=b,function(){d.unsuspend=null,clearTimeout(A),clearTimeout(L)}}:null}function EM(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)DM(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var CM=null;function DM(d,v){d.stylesheets=null,d.unsuspend!==null&&(d.count++,CM=new Map,v.forEach(Att,d),CM=null,EM.call(d))}function Att(d,v){if(!(v.state.loading&4)){var b=CM.get(d);if(b)var A=b.get(null);else{b=new Map,CM.set(d,b);for(var L=d.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<L.length;P++){var X=L[P];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(b.set(X.dataset.precedence,X),A=X)}A&&b.set(null,A)}L=v.instance,X=L.getAttribute("data-precedence"),P=b.get(X)||A,P===A&&b.set(null,L),b.set(X,L),this.count++,A=EM.bind(this),L.addEventListener("load",A),L.addEventListener("error",A),P?P.parentNode.insertBefore(L,P.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(L,d.firstChild)),v.state.loading|=4}}var fx={$$typeof:M,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function wtt(d,v,b,A,L,P,X,J,ct){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=A,this.onUncaughtError=L,this.onCaughtError=P,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ct,this.incompleteTransitions=new Map}function eV(d,v,b,A,L,P,X,J,ct,Dt,Yt,$t){return d=new wtt(d,v,b,X,ct,Dt,Yt,$t,J),v=1,P===!0&&(v|=24),P=za(3,null,null,v),d.current=P,P.stateNode=d,v=_S(),v.refCount++,d.pooledCache=v,v.refCount++,P.memoizedState={element:A,isDehydrated:b,cache:v},AS(P),d}function nV(d){return d?(d=ec,d):ec}function iV(d,v,b,A,L,P){L=nV(L),A.context===null?A.context=L:A.pendingContext=L,A=ol(v),A.payload={element:b},P=P===void 0?null:P,P!==null&&(A.callback=P),b=tu(d,A,v),b!==null&&(x(b,d,v),uc(b,d,v))}function rV(d,v){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<v?b:v}}function gR(d,v){rV(d,v),(d=d.alternate)&&rV(d,v)}function aV(d){if(d.tag===13||d.tag===31){var v=tc(d,67108864);v!==null&&x(v,d,67108864),gR(d,67108864)}}function oV(d){if(d.tag===13||d.tag===31){var v=ka();v=To(v);var b=tc(d,v);b!==null&&x(b,d,v),gR(d,v)}}var RM=!0;function Ett(d,v,b,A){var L=H.T;H.T=null;var P=j.p;try{j.p=2,mR(d,v,b,A)}finally{j.p=P,H.T=L}}function Ctt(d,v,b,A){var L=H.T;H.T=null;var P=j.p;try{j.p=8,mR(d,v,b,A)}finally{j.p=P,H.T=L}}function mR(d,v,b,A){if(RM){var L=yR(A);if(L===null)iR(d,v,A,LM,b),lV(d,A);else if(Rtt(L,d,v,b,A))A.stopPropagation();else if(lV(d,A),v&4&&-1<Dtt.indexOf(d)){for(;L!==null;){var P=Tt(L);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var X=re(P.pendingLanes);if(X!==0){var J=P;for(J.pendingLanes|=2,J.entangledLanes|=2;X;){var ct=1<<31-ot(X);J.entanglements[1]|=ct,X&=~ct}yc(P),($n&6)===0&&(Ho=K()+500,ax(0))}}break;case 31:case 13:J=tc(P,2),J!==null&&x(J,P,2),tt(),gR(P,2)}if(P=yR(A),P===null&&iR(d,v,A,LM,b),P===L)break;L=P}L!==null&&A.stopPropagation()}else iR(d,v,A,null,b)}}function yR(d){return d=pm(d),_R(d)}var LM=null;function _R(d){if(LM=null,d=gt(d),d!==null){var v=a(d);if(v===null)d=null;else{var b=v.tag;if(b===13){if(d=o(v),d!==null)return d;d=null}else if(b===31){if(d=s(v),d!==null)return d;d=null}else if(b===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;d=null}else v!==d&&(d=null)}}return LM=d,null}function sV(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Ft:return 2;case ee:return 8;case Gt:case ke:return 32;case pe:return 268435456;default:return 32}default:return 32}}var SR=!1,fd=null,hd=null,dd=null,hx=new Map,dx=new Map,pd=[],Dtt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lV(d,v){switch(d){case"focusin":case"focusout":fd=null;break;case"dragenter":case"dragleave":hd=null;break;case"mouseover":case"mouseout":dd=null;break;case"pointerover":case"pointerout":hx.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":dx.delete(v.pointerId)}}function px(d,v,b,A,L,P){return d===null||d.nativeEvent!==P?(d={blockedOn:v,domEventName:b,eventSystemFlags:A,nativeEvent:P,targetContainers:[L]},v!==null&&(v=Tt(v),v!==null&&aV(v)),d):(d.eventSystemFlags|=A,v=d.targetContainers,L!==null&&v.indexOf(L)===-1&&v.push(L),d)}function Rtt(d,v,b,A,L){switch(v){case"focusin":return fd=px(fd,d,v,b,A,L),!0;case"dragenter":return hd=px(hd,d,v,b,A,L),!0;case"mouseover":return dd=px(dd,d,v,b,A,L),!0;case"pointerover":var P=L.pointerId;return hx.set(P,px(hx.get(P)||null,d,v,b,A,L)),!0;case"gotpointercapture":return P=L.pointerId,dx.set(P,px(dx.get(P)||null,d,v,b,A,L)),!0}return!1}function uV(d){var v=gt(d.target);if(v!==null){var b=a(v);if(b!==null){if(v=b.tag,v===13){if(v=o(b),v!==null){d.blockedOn=v,Mo(d.priority,function(){oV(b)});return}}else if(v===31){if(v=s(b),v!==null){d.blockedOn=v,Mo(d.priority,function(){oV(b)});return}}else if(v===3&&b.stateNode.current.memoizedState.isDehydrated){d.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}d.blockedOn=null}function IM(d){if(d.blockedOn!==null)return!1;for(var v=d.targetContainers;0<v.length;){var b=yR(d.nativeEvent);if(b===null){b=d.nativeEvent;var A=new b.constructor(b.type,b);Mp=A,b.target.dispatchEvent(A),Mp=null}else return v=Tt(b),v!==null&&aV(v),d.blockedOn=b,!1;v.shift()}return!0}function cV(d,v,b){IM(d)&&b.delete(v)}function Ltt(){SR=!1,fd!==null&&IM(fd)&&(fd=null),hd!==null&&IM(hd)&&(hd=null),dd!==null&&IM(dd)&&(dd=null),hx.forEach(cV),dx.forEach(cV)}function NM(d,v){d.blockedOn===v&&(d.blockedOn=null,SR||(SR=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ltt)))}var OM=null;function fV(d){OM!==d&&(OM=d,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){OM===d&&(OM=null);for(var v=0;v<d.length;v+=3){var b=d[v],A=d[v+1],L=d[v+2];if(typeof A!="function"){if(_R(A||b)===null)continue;break}var P=Tt(b);P!==null&&(d.splice(v,3),v-=3,KS(P,{pending:!0,data:L,method:b.method,action:A},A,L))}}))}function yy(d){function v(ct){return NM(ct,d)}fd!==null&&NM(fd,d),hd!==null&&NM(hd,d),dd!==null&&NM(dd,d),hx.forEach(v),dx.forEach(v);for(var b=0;b<pd.length;b++){var A=pd[b];A.blockedOn===d&&(A.blockedOn=null)}for(;0<pd.length&&(b=pd[0],b.blockedOn===null);)uV(b),b.blockedOn===null&&pd.shift();if(b=(d.ownerDocument||d).$$reactFormReplay,b!=null)for(A=0;A<b.length;A+=3){var L=b[A],P=b[A+1],X=L[wr]||null;if(typeof P=="function")X||fV(b);else if(X){var J=null;if(P&&P.hasAttribute("formAction")){if(L=P,X=P[wr]||null)J=X.formAction;else if(_R(L)!==null)continue}else J=X.action;typeof J=="function"?b[A+1]=J:(b.splice(A,3),A-=3),fV(b)}}}function hV(){function d(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(X){return L=X})},focusReset:"manual",scroll:"manual"})}function v(){L!==null&&(L(),L=null),A||setTimeout(b,20)}function b(){if(!A&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var A=!1,L=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",v),navigation.addEventListener("navigateerror",v),setTimeout(b,100),function(){A=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",v),navigation.removeEventListener("navigateerror",v),L!==null&&(L(),L=null)}}}function xR(d){this._internalRoot=d}PM.prototype.render=xR.prototype.render=function(d){var v=this._internalRoot;if(v===null)throw Error(n(409));var b=v.current,A=ka();iV(b,A,d,v,null,null)},PM.prototype.unmount=xR.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var v=d.containerInfo;iV(d.current,2,null,d,null,null),tt(),v[Ks]=null}};function PM(d){this._internalRoot=d}PM.prototype.unstable_scheduleHydration=function(d){if(d){var v=Ja();d={blockedOn:null,target:d,priority:v};for(var b=0;b<pd.length&&v!==0&&v<pd[b].priority;b++);pd.splice(b,0,d),b===0&&uV(d)}};var dV=t.version;if(dV!=="19.2.0")throw Error(n(527,dV,"19.2.0"));j.findDOMNode=function(d){var v=d._reactInternals;if(v===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=u(v),d=d!==null?c(d):null,d=d===null?null:d.stateNode,d};var Itt={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zM=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zM.isDisabled&&zM.supportsFiber)try{ne=zM.inject(Itt),he=zM}catch{}}return gx.createRoot=function(d,v){if(!r(d))throw Error(n(299));var b=!1,A="",L=tx,P=pM,X=ey;return v!=null&&(v.unstable_strictMode===!0&&(b=!0),v.identifierPrefix!==void 0&&(A=v.identifierPrefix),v.onUncaughtError!==void 0&&(L=v.onUncaughtError),v.onCaughtError!==void 0&&(P=v.onCaughtError),v.onRecoverableError!==void 0&&(X=v.onRecoverableError)),v=eV(d,1,!1,null,null,b,A,null,L,P,X,hV),d[Ks]=v.current,nR(d),new xR(v)},gx.hydrateRoot=function(d,v,b){if(!r(d))throw Error(n(299));var A=!1,L="",P=tx,X=pM,J=ey,ct=null;return b!=null&&(b.unstable_strictMode===!0&&(A=!0),b.identifierPrefix!==void 0&&(L=b.identifierPrefix),b.onUncaughtError!==void 0&&(P=b.onUncaughtError),b.onCaughtError!==void 0&&(X=b.onCaughtError),b.onRecoverableError!==void 0&&(J=b.onRecoverableError),b.formState!==void 0&&(ct=b.formState)),v=eV(d,1,!0,v,b??null,A,L,ct,P,X,J,hV),v.context=nV(null),b=v.current,A=ka(),A=To(A),L=ol(A),L.callback=null,tu(b,L,A),b=A,v.current.lanes=b,Yi(v,b),yc(v),d[Ks]=v.current,nR(d),new PM(v)},gx.version="19.2.0",gx}var TV;function Ftt(){if(TV)return MR.exports;TV=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),MR.exports=ktt(),MR.exports}var Gtt=Ftt();const vIt=_2(Gtt),MV=i=>{let t;const e=new Set,n=(u,c)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=c??(typeof f!="object"||f===null)?f:Object.assign({},t,f),e.forEach(p=>p(t,h))}},r=()=>t,s={setState:n,getState:r,getInitialState:()=>l,subscribe:u=>(e.add(u),()=>e.delete(u))},l=t=i(n,r,s);return s},oX=(i=>i?MV(i):MV),Xtt=i=>i;function Wtt(i,t=Xtt){const e=u1.useSyncExternalStore(i.subscribe,u1.useCallback(()=>t(i.getState()),[i,t]),u1.useCallback(()=>t(i.getInitialState()),[i,t]));return u1.useDebugValue(e),e}const AV=i=>{const t=oX(i),e=n=>Wtt(t,n);return Object.assign(e,t),e},gIt=(i=>i?AV(i):AV),Ytt="modulepreload",qtt=function(i){return"/EvoGarden/"+i},wV={},mIt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let l=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");r=l(e.map(u=>{if(u=qtt(u),u in wV)return;wV[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Ytt,c||(h.as="script"),h.crossOrigin="",h.href=u,s&&h.setAttribute("nonce",s),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return r.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};var CR={exports:{}},zf={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EV;function Ztt(){return EV||(EV=1,zf.ConcurrentRoot=1,zf.ContinuousEventPriority=8,zf.DefaultEventPriority=32,zf.DiscreteEventPriority=2,zf.IdleEventPriority=268435456,zf.LegacyRoot=0,zf.NoEventPriority=0),zf}var CV;function jtt(){return CV||(CV=1,CR.exports=Ztt()),CR.exports}var Ww=jtt();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const S2="180",$v={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},tg={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},sX=0,lO=1,lX=2,Ktt=3,uX=0,x2=1,w1=2,_u=3,Yc=0,jo=1,bu=2,oh=0,Ag=1,uO=2,cO=3,fO=4,cX=5,Bd=100,fX=101,hX=102,dX=103,pX=104,vX=200,gX=201,mX=202,yX=203,mE=204,yE=205,_X=206,SX=207,xX=208,bX=209,TX=210,MX=211,AX=212,wX=213,EX=214,_E=0,SE=1,xE=2,Pg=3,bE=4,TE=5,ME=6,AE=7,Hb=0,CX=1,DX=2,kc=0,RX=1,LX=2,IX=3,W3=4,NX=5,OX=6,PX=7,hO="attached",zX="detached",b2=300,vh=301,ip=302,K1=303,Q1=304,g_=306,rp=1e3,Us=1001,U0=1002,oa=1003,T2=1004,Qtt=1004,pg=1005,Jtt=1005,xr=1006,D0=1007,$tt=1007,Rl=1008,tet=1008,Nl=1009,Y3=1010,q3=1011,V0=1012,M2=1013,gh=1014,gs=1015,m_=1016,A2=1017,w2=1018,H0=1020,Z3=35902,j3=35899,K3=1021,Q3=1022,_o=1023,k0=1026,F0=1027,E2=1028,kb=1029,J3=1030,C2=1031,eet=1032,D2=1033,E1=33776,C1=33777,D1=33778,R1=33779,wE=35840,EE=35841,CE=35842,DE=35843,RE=36196,LE=37492,IE=37496,NE=37808,OE=37809,PE=37810,zE=37811,BE=37812,UE=37813,VE=37814,HE=37815,kE=37816,FE=37817,GE=37818,XE=37819,WE=37820,YE=37821,qE=36492,ZE=36494,jE=36495,KE=36283,QE=36284,JE=36285,$E=36286,BX=2200,UX=2201,VX=2202,G0=2300,X0=2301,Yw=2302,vg=2400,gg=2401,J1=2402,R2=2500,$3=2501,HX=0,tz=1,tC=2,kX=3200,FX=3201,net=3202,iet=3203,hp=0,GX=1,Qf="",Ir="srgb",qa="srgb-linear",$1="linear",Di="srgb",ret=0,eg=7680,aet=7681,oet=7682,set=7683,uet=34055,cet=34056,fet=5386,het=512,det=513,pet=514,vet=515,get=516,met=517,yet=518,dO=519,XX=512,WX=513,YX=514,ez=515,qX=516,ZX=517,jX=518,KX=519,tb=35044,_et=35048,xet=35040,bet=35045,Tet=35049,Met=35041,Aet=35046,wet=35050,Eet=35042,Cet="100",pO="300 es",Vs=2e3,W0=2001,Det={COMPUTE:"compute",RENDER:"render"},Ret={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Let={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let tf=class{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)}hasEventListener(t,e){const n=this._listeners;return n===void 0?!1:n[t]!==void 0&&n[t].indexOf(e)!==-1}removeEventListener(t,e){const n=this._listeners;if(n===void 0)return;const r=n[t];if(r!==void 0){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const n=e[t.type];if(n!==void 0){t.target=this;const r=n.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,t);t.target=null}}};const fo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let DV=1234567;const wg=Math.PI/180,Y0=180/Math.PI;function Ws(){const i=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(fo[i&255]+fo[i>>8&255]+fo[i>>16&255]+fo[i>>24&255]+"-"+fo[t&255]+fo[t>>8&255]+"-"+fo[t>>16&15|64]+fo[t>>24&255]+"-"+fo[e&63|128]+fo[e>>8&255]+"-"+fo[e>>16&255]+fo[e>>24&255]+fo[n&255]+fo[n>>8&255]+fo[n>>16&255]+fo[n>>24&255]).toLowerCase()}function mn(i,t,e){return Math.max(t,Math.min(e,i))}function nz(i,t){return(i%t+t)%t}function Iet(i,t,e,n,r){return n+(i-t)*(r-n)/(e-t)}function Net(i,t,e){return i!==t?(e-i)/(t-i):0}function L1(i,t,e){return(1-e)*i+e*t}function Oet(i,t,e,n){return L1(i,t,1-Math.exp(-e*n))}function Pet(i,t=1){return t-Math.abs(nz(i,t*2)-t)}function zet(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t),i*i*(3-2*i))}function Bet(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t),i*i*i*(i*(i*6-15)+10))}function Uet(i,t){return i+Math.floor(Math.random()*(t-i+1))}function Vet(i,t){return i+Math.random()*(t-i)}function Het(i){return i*(.5-Math.random())}function ket(i){i!==void 0&&(DV=i);let t=DV+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function Fet(i){return i*wg}function Get(i){return i*Y0}function Xet(i){return(i&i-1)===0&&i!==0}function Wet(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function Yet(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function qet(i,t,e,n,r){const a=Math.cos,o=Math.sin,s=a(e/2),l=o(e/2),u=a((t+n)/2),c=o((t+n)/2),f=a((t-n)/2),h=o((t-n)/2),p=a((n-t)/2),g=o((n-t)/2);switch(r){case"XYX":i.set(s*c,l*f,l*h,s*u);break;case"YZY":i.set(l*h,s*c,l*f,s*u);break;case"ZXZ":i.set(l*f,l*h,s*c,s*u);break;case"XZX":i.set(s*c,l*g,l*p,s*u);break;case"YXY":i.set(l*p,s*c,l*g,s*u);break;case"ZYZ":i.set(l*g,l*p,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Zo(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function On(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const QX={DEG2RAD:wg,RAD2DEG:Y0,generateUUID:Ws,clamp:mn,euclideanModulo:nz,mapLinear:Iet,inverseLerp:Net,lerp:L1,damp:Oet,pingpong:Pet,smoothstep:zet,smootherstep:Bet,randInt:Uet,randFloat:Vet,randFloatSpread:Het,seededRandom:ket,degToRad:Fet,radToDeg:Get,isPowerOfTwo:Xet,ceilPowerOfTwo:Wet,floorPowerOfTwo:Yet,setQuaternionFromProperEuler:qet,normalize:On,denormalize:Zo};class Zt{constructor(t=0,e=0){Zt.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=mn(this.x,t.x,e.x),this.y=mn(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=mn(this.x,t,e),this.y=mn(this.y,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(mn(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(mn(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),a=this.x-t.x,o=this.y-t.y;return this.x=a*n-o*r+t.x,this.y=a*r+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ra{constructor(t=0,e=0,n=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=r}static slerpFlat(t,e,n,r,a,o,s){let l=n[r+0],u=n[r+1],c=n[r+2],f=n[r+3];const h=a[o+0],p=a[o+1],g=a[o+2],m=a[o+3];if(s===0){t[e+0]=l,t[e+1]=u,t[e+2]=c,t[e+3]=f;return}if(s===1){t[e+0]=h,t[e+1]=p,t[e+2]=g,t[e+3]=m;return}if(f!==m||l!==h||u!==p||c!==g){let _=1-s;const S=l*h+u*p+c*g+f*m,T=S>=0?1:-1,M=1-S*S;if(M>Number.EPSILON){const D=Math.sqrt(M),C=Math.atan2(D,S*T);_=Math.sin(_*C)/D,s=Math.sin(s*C)/D}const w=s*T;if(l=l*_+h*w,u=u*_+p*w,c=c*_+g*w,f=f*_+m*w,_===1-s){const D=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=D,u*=D,c*=D,f*=D}}t[e]=l,t[e+1]=u,t[e+2]=c,t[e+3]=f}static multiplyQuaternionsFlat(t,e,n,r,a,o){const s=n[r],l=n[r+1],u=n[r+2],c=n[r+3],f=a[o],h=a[o+1],p=a[o+2],g=a[o+3];return t[e]=s*g+c*f+l*p-u*h,t[e+1]=l*g+c*h+u*f-s*p,t[e+2]=u*g+c*p+s*h-l*f,t[e+3]=c*g-s*f-l*h-u*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const n=t._x,r=t._y,a=t._z,o=t._order,s=Math.cos,l=Math.sin,u=s(n/2),c=s(r/2),f=s(a/2),h=l(n/2),p=l(r/2),g=l(a/2);switch(o){case"XYZ":this._x=h*c*f+u*p*g,this._y=u*p*f-h*c*g,this._z=u*c*g+h*p*f,this._w=u*c*f-h*p*g;break;case"YXZ":this._x=h*c*f+u*p*g,this._y=u*p*f-h*c*g,this._z=u*c*g-h*p*f,this._w=u*c*f+h*p*g;break;case"ZXY":this._x=h*c*f-u*p*g,this._y=u*p*f+h*c*g,this._z=u*c*g+h*p*f,this._w=u*c*f-h*p*g;break;case"ZYX":this._x=h*c*f-u*p*g,this._y=u*p*f+h*c*g,this._z=u*c*g-h*p*f,this._w=u*c*f+h*p*g;break;case"YZX":this._x=h*c*f+u*p*g,this._y=u*p*f+h*c*g,this._z=u*c*g-h*p*f,this._w=u*c*f-h*p*g;break;case"XZY":this._x=h*c*f-u*p*g,this._y=u*p*f-h*c*g,this._z=u*c*g+h*p*f,this._w=u*c*f+h*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],a=e[8],o=e[1],s=e[5],l=e[9],u=e[2],c=e[6],f=e[10],h=n+s+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(c-l)*p,this._y=(a-u)*p,this._z=(o-r)*p}else if(n>s&&n>f){const p=2*Math.sqrt(1+n-s-f);this._w=(c-l)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(a+u)/p}else if(s>f){const p=2*Math.sqrt(1+s-n-f);this._w=(a-u)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(l+c)/p}else{const p=2*Math.sqrt(1+f-n-s);this._w=(o-r)/p,this._x=(a+u)/p,this._y=(l+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<1e-8?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(mn(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(n===0)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,a=t._z,o=t._w,s=e._x,l=e._y,u=e._z,c=e._w;return this._x=n*c+o*s+r*u-a*l,this._y=r*c+o*l+a*s-n*u,this._z=a*c+o*u+n*l-r*s,this._w=o*c-n*s-r*l-a*u,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const n=this._x,r=this._y,a=this._z,o=this._w;let s=o*t._w+n*t._x+r*t._y+a*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=n,this._y=r,this._z=a,this;const l=1-s*s;if(l<=Number.EPSILON){const p=1-e;return this._w=p*o+e*this._w,this._x=p*n+e*this._x,this._y=p*r+e*this._y,this._z=p*a+e*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,s),f=Math.sin((1-e)*c)/u,h=Math.sin(e*c)/u;return this._w=o*f+this._w*h,this._x=n*f+this._x*h,this._y=r*f+this._y*h,this._z=a*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),a=Math.sqrt(n);return this.set(r*Math.sin(t),r*Math.cos(t),a*Math.sin(e),a*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class it{constructor(t=0,e=0,n=0){it.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return n===void 0&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(RV.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(RV.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,a=t.elements;return this.x=a[0]*e+a[3]*n+a[6]*r,this.y=a[1]*e+a[4]*n+a[7]*r,this.z=a[2]*e+a[5]*n+a[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,a=t.elements,o=1/(a[3]*e+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*e+a[4]*n+a[8]*r+a[12])*o,this.y=(a[1]*e+a[5]*n+a[9]*r+a[13])*o,this.z=(a[2]*e+a[6]*n+a[10]*r+a[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,a=t.x,o=t.y,s=t.z,l=t.w,u=2*(o*r-s*n),c=2*(s*e-a*r),f=2*(a*n-o*e);return this.x=e+l*u+o*f-s*c,this.y=n+l*c+s*u-a*f,this.z=r+l*f+a*c-o*u,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*r,this.y=a[1]*e+a[5]*n+a[9]*r,this.z=a[2]*e+a[6]*n+a[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=mn(this.x,t.x,e.x),this.y=mn(this.y,t.y,e.y),this.z=mn(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=mn(this.x,t,e),this.y=mn(this.y,t,e),this.z=mn(this.z,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(mn(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,a=t.z,o=e.x,s=e.y,l=e.z;return this.x=r*l-a*s,this.y=a*o-n*l,this.z=n*s-r*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return DR.copy(this).projectOnVector(t),this.sub(DR)}reflect(t){return this.sub(DR.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(mn(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const DR=new it,RV=new Ra;class Rn{constructor(t,e,n,r,a,o,s,l,u){Rn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,n,r,a,o,s,l,u)}set(t,e,n,r,a,o,s,l,u){const c=this.elements;return c[0]=t,c[1]=r,c[2]=s,c[3]=e,c[4]=a,c[5]=l,c[6]=n,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,a=this.elements,o=n[0],s=n[3],l=n[6],u=n[1],c=n[4],f=n[7],h=n[2],p=n[5],g=n[8],m=r[0],_=r[3],S=r[6],T=r[1],M=r[4],w=r[7],D=r[2],C=r[5],R=r[8];return a[0]=o*m+s*T+l*D,a[3]=o*_+s*M+l*C,a[6]=o*S+s*w+l*R,a[1]=u*m+c*T+f*D,a[4]=u*_+c*M+f*C,a[7]=u*S+c*w+f*R,a[2]=h*m+p*T+g*D,a[5]=h*_+p*M+g*C,a[8]=h*S+p*w+g*R,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e*o*c-e*s*u-n*a*c+n*s*l+r*a*u-r*o*l}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*o-s*u,h=s*l-c*a,p=u*a-o*l,g=e*f+n*h+r*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/g;return t[0]=f*m,t[1]=(r*u-c*n)*m,t[2]=(s*n-r*o)*m,t[3]=h*m,t[4]=(c*e-r*l)*m,t[5]=(r*a-s*e)*m,t[6]=p*m,t[7]=(n*l-u*e)*m,t[8]=(o*e-n*a)*m,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,a,o,s){const l=Math.cos(a),u=Math.sin(a);return this.set(n*l,n*u,-n*(l*o+u*s)+o+t,-r*u,r*l,-r*(-u*o+l*s)+s+e,0,0,1),this}scale(t,e){return this.premultiply(RR.makeScale(t,e)),this}rotate(t){return this.premultiply(RR.makeRotation(-t)),this}translate(t,e){return this.premultiply(RR.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const RR=new Rn;function JX(i){for(let t=i.length-1;t>=0;--t)if(i[t]>=65535)return!0;return!1}const Zet={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function S0(i,t){return new Zet[i](t)}function eb(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function $X(){const i=eb("canvas");return i.style.display="block",i}const LV={};function nb(i){i in LV||(LV[i]=!0,console.warn(i))}function jet(i,t,e){return new Promise(function(n,r){function a(){switch(i.clientWaitSync(t,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(a,e);break;default:n()}}setTimeout(a,e)})}const IV=new Rn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),NV=new Rn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Ket(){const i={enabled:!0,workingColorSpace:qa,spaces:{},convert:function(r,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===Di&&(r.r=sh(r.r),r.g=sh(r.g),r.b=sh(r.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Di&&(r.r=R0(r.r),r.g=R0(r.g),r.b=R0(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Qf?$1:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,o){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return nb("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return nb("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(r,a)}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[qa]:{primaries:t,whitePoint:n,transfer:$1,toXYZ:IV,fromXYZ:NV,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:Ir},outputColorSpaceConfig:{drawingBufferColorSpace:Ir}},[Ir]:{primaries:t,whitePoint:n,transfer:Di,toXYZ:IV,fromXYZ:NV,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:Ir}}}),i}const Qn=Ket();function sh(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function R0(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let _y;class tW{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{_y===void 0&&(_y=eb("canvas")),_y.width=t.width,_y.height=t.height;const r=_y.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),n=_y}return n.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=eb("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=sh(a[o]/255)*255;return n.putImageData(r,0,0),e}else if(t.data){const e=t.data.slice(0);for(let n=0;n<e.length;n++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[n]=Math.floor(sh(e[n]/255)*255):e[n]=sh(e[n]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let Qet=0;class Hd{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Qet++}),this.uuid=Ws(),this.data=t,this.dataReady=!0,this.version=0}getSize(t){const e=this.data;return typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement?t.set(e.videoWidth,e.videoHeight,0):e instanceof VideoFrame?t.set(e.displayHeight,e.displayWidth,0):e!==null?t.set(e.width,e.height,e.depth||0):t.set(0,0,0),t}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let o=0,s=r.length;o<s;o++)r[o].isDataTexture?a.push(LR(r[o].image)):a.push(LR(r[o]))}else a=LR(r);n.url=a}return e||(t.images[this.uuid]=n),n}}function LR(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?tW.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Jet=0;const IR=new it;class tr extends tf{constructor(t=tr.DEFAULT_IMAGE,e=tr.DEFAULT_MAPPING,n=Us,r=Us,a=xr,o=Rl,s=_o,l=Nl,u=tr.DEFAULT_ANISOTROPY,c=Qf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Jet++}),this.uuid=Ws(),this.name="",this.source=new Hd(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Zt(0,0),this.repeat=new Zt(1,1),this.center=new Zt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&&t.depth&&t.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(IR).x}get height(){return this.source.getSize(IR).y}get depth(){return this.source.getSize(IR).z}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isArrayTexture=t.isArrayTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}setValues(t){for(const e in t){const n=t[e];if(n===void 0){console.warn(`THREE.Texture.setValues(): parameter '${e}' has value of undefined.`);continue}const r=this[e];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${e}' does not exist.`);continue}r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[e]=n}}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==b2)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case rp:t.x=t.x-Math.floor(t.x);break;case Us:t.x=t.x<0?0:1;break;case U0:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case rp:t.y=t.y-Math.floor(t.y);break;case Us:t.y=t.y<0?0:1;break;case U0:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}tr.DEFAULT_IMAGE=null;tr.DEFAULT_MAPPING=b2;tr.DEFAULT_ANISOTROPY=1;class hi{constructor(t=0,e=0,n=0,r=1){hi.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,a=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*a,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*a,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*a,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*a,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,a;const l=t.elements,u=l[0],c=l[4],f=l[8],h=l[1],p=l[5],g=l[9],m=l[2],_=l[6],S=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-m)<.01&&Math.abs(g-_)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+m)<.1&&Math.abs(g+_)<.1&&Math.abs(u+p+S-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const M=(u+1)/2,w=(p+1)/2,D=(S+1)/2,C=(c+h)/4,R=(f+m)/4,z=(g+_)/4;return M>w&&M>D?M<.01?(n=0,r=.707106781,a=.707106781):(n=Math.sqrt(M),r=C/n,a=R/n):w>D?w<.01?(n=.707106781,r=0,a=.707106781):(r=Math.sqrt(w),n=C/r,a=z/r):D<.01?(n=.707106781,r=.707106781,a=0):(a=Math.sqrt(D),n=R/a,r=z/a),this.set(n,r,a,e),this}let T=Math.sqrt((_-g)*(_-g)+(f-m)*(f-m)+(h-c)*(h-c));return Math.abs(T)<.001&&(T=1),this.x=(_-g)/T,this.y=(f-m)/T,this.z=(h-c)/T,this.w=Math.acos((u+p+S-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=mn(this.x,t.x,e.x),this.y=mn(this.y,t.y,e.y),this.z=mn(this.z,t.z,e.z),this.w=mn(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=mn(this.x,t,e),this.y=mn(this.y,t,e),this.z=mn(this.z,t,e),this.w=mn(this.w,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(mn(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class iz extends tf{constructor(t=1,e=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:xr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=n.depth,this.scissor=new hi(0,0,t,e),this.scissorTest=!1,this.viewport=new hi(0,0,t,e);const r={width:t,height:e,depth:n.depth},a=new tr(r);this.textures=[];const o=n.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(t={}){const e={minFilter:xr,generateMipmaps:!1,flipY:!1,internalFormat:null};t.mapping!==void 0&&(e.mapping=t.mapping),t.wrapS!==void 0&&(e.wrapS=t.wrapS),t.wrapT!==void 0&&(e.wrapT=t.wrapT),t.wrapR!==void 0&&(e.wrapR=t.wrapR),t.magFilter!==void 0&&(e.magFilter=t.magFilter),t.minFilter!==void 0&&(e.minFilter=t.minFilter),t.format!==void 0&&(e.format=t.format),t.type!==void 0&&(e.type=t.type),t.anisotropy!==void 0&&(e.anisotropy=t.anisotropy),t.colorSpace!==void 0&&(e.colorSpace=t.colorSpace),t.flipY!==void 0&&(e.flipY=t.flipY),t.generateMipmaps!==void 0&&(e.generateMipmaps=t.generateMipmaps),t.internalFormat!==void 0&&(e.internalFormat=t.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(e)}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=t,this.textures[r].image.height=e,this.textures[r].image.depth=n,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,n=t.textures.length;e<n;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const r=Object.assign({},t.textures[e].image);this.textures[e].source=new Hd(r)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class qc extends iz{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class L2 extends tr{constructor(t=null,e=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=oa,this.minFilter=oa,this.wrapR=Us,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class $et extends qc{constructor(t=1,e=1,n=1,r={}){super(t,e,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new L2(null,t,e,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class I2 extends tr{constructor(t=null,e=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=oa,this.minFilter=oa,this.wrapR=Us,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class tnt extends qc{constructor(t=1,e=1,n=1,r={}){super(t,e,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new I2(null,t,e,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Wa{constructor(t=new it(1/0,1/0,1/0),e=new it(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(hu.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(hu.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=hu.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(n!==void 0){const a=n.getAttribute("position");if(e===!0&&a!==void 0&&t.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)t.isMesh===!0?t.getVertexPosition(o,hu):hu.fromBufferAttribute(a,o),hu.applyMatrix4(t.matrixWorld),this.expandByPoint(hu);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),BM.copy(t.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),BM.copy(n.boundingBox)),BM.applyMatrix4(t.matrixWorld),this.union(BM)}const r=t.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,hu),hu.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(mx),UM.subVectors(this.max,mx),Sy.subVectors(t.a,mx),xy.subVectors(t.b,mx),by.subVectors(t.c,mx),gd.subVectors(xy,Sy),md.subVectors(by,xy),hv.subVectors(Sy,by);let e=[0,-gd.z,gd.y,0,-md.z,md.y,0,-hv.z,hv.y,gd.z,0,-gd.x,md.z,0,-md.x,hv.z,0,-hv.x,-gd.y,gd.x,0,-md.y,md.x,0,-hv.y,hv.x,0];return!NR(e,Sy,xy,by,UM)||(e=[1,0,0,0,1,0,0,0,1],!NR(e,Sy,xy,by,UM))?!1:(VM.crossVectors(gd,md),e=[VM.x,VM.y,VM.z],NR(e,Sy,xy,by,UM))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,hu).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(hu).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Bf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Bf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Bf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Bf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Bf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Bf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Bf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Bf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Bf),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(t){return this.min.fromArray(t.min),this.max.fromArray(t.max),this}}const Bf=[new it,new it,new it,new it,new it,new it,new it,new it],hu=new it,BM=new Wa,Sy=new it,xy=new it,by=new it,gd=new it,md=new it,hv=new it,mx=new it,UM=new it,VM=new it,dv=new it;function NR(i,t,e,n,r){for(let a=0,o=i.length-3;a<=o;a+=3){dv.fromArray(i,a);const s=r.x*Math.abs(dv.x)+r.y*Math.abs(dv.y)+r.z*Math.abs(dv.z),l=t.dot(dv),u=e.dot(dv),c=n.dot(dv);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const ent=new Wa,yx=new it,OR=new it;class La{constructor(t=new it,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;e!==void 0?n.copy(e):ent.setFromPoints(t).getCenter(n);let r=0;for(let a=0,o=t.length;a<o;a++)r=Math.max(r,n.distanceToSquared(t[a]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;yx.subVectors(t,this.center);const e=yx.lengthSq();if(e>this.radius*this.radius){const n=Math.sqrt(e),r=(n-this.radius)*.5;this.center.addScaledVector(yx,r/n),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(OR.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(yx.copy(t.center).add(OR)),this.expandByPoint(yx.copy(t.center).sub(OR))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(t){return this.radius=t.radius,this.center.fromArray(t.center),this}}const Uf=new it,PR=new it,HM=new it,yd=new it,zR=new it,kM=new it,BR=new it;class $g{constructor(t=new it,e=new it(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Uf)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Uf.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Uf.copy(this.origin).addScaledVector(this.direction,e),Uf.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){PR.copy(t).add(e).multiplyScalar(.5),HM.copy(e).sub(t).normalize(),yd.copy(this.origin).sub(PR);const a=t.distanceTo(e)*.5,o=-this.direction.dot(HM),s=yd.dot(this.direction),l=-yd.dot(HM),u=yd.lengthSq(),c=Math.abs(1-o*o);let f,h,p,g;if(c>0)if(f=o*l-s,h=o*s-l,g=a*c,f>=0)if(h>=-g)if(h<=g){const m=1/c;f*=m,h*=m,p=f*(f+o*h+2*s)+h*(o*f+h+2*l)+u}else h=a,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+u;else h=-a,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+u;else h<=-g?(f=Math.max(0,-(-o*a+s)),h=f>0?-a:Math.min(Math.max(-a,-l),a),p=-f*f+h*(h+2*l)+u):h<=g?(f=0,h=Math.min(Math.max(-a,-l),a),p=h*(h+2*l)+u):(f=Math.max(0,-(o*a+s)),h=f>0?a:Math.min(Math.max(-a,-l),a),p=-f*f+h*(h+2*l)+u);else h=o>0?-a:a,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+u;return n&&n.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(PR).addScaledVector(HM,h),p}intersectSphere(t,e){Uf.subVectors(t.center,this.origin);const n=Uf.dot(this.direction),r=Uf.dot(Uf)-n*n,a=t.radius*t.radius;if(r>a)return null;const o=Math.sqrt(a-r),s=n-o,l=n+o;return l<0?null:s<0?this.at(l,e):this.at(s,e)}intersectsSphere(t){return t.radius<0?!1:this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return n===null?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,a,o,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(n=(t.min.x-h.x)*u,r=(t.max.x-h.x)*u):(n=(t.max.x-h.x)*u,r=(t.min.x-h.x)*u),c>=0?(a=(t.min.y-h.y)*c,o=(t.max.y-h.y)*c):(a=(t.max.y-h.y)*c,o=(t.min.y-h.y)*c),n>o||a>r||((a>n||isNaN(n))&&(n=a),(o<r||isNaN(r))&&(r=o),f>=0?(s=(t.min.z-h.z)*f,l=(t.max.z-h.z)*f):(s=(t.max.z-h.z)*f,l=(t.min.z-h.z)*f),n>l||s>r)||((s>n||n!==n)&&(n=s),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,e)}intersectsBox(t){return this.intersectBox(t,Uf)!==null}intersectTriangle(t,e,n,r,a){zR.subVectors(e,t),kM.subVectors(n,t),BR.crossVectors(zR,kM);let o=this.direction.dot(BR),s;if(o>0){if(r)return null;s=1}else if(o<0)s=-1,o=-o;else return null;yd.subVectors(this.origin,t);const l=s*this.direction.dot(kM.crossVectors(yd,kM));if(l<0)return null;const u=s*this.direction.dot(zR.cross(yd));if(u<0||l+u>o)return null;const c=-s*yd.dot(BR);return c<0?null:this.at(c/o,a)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class un{constructor(t,e,n,r,a,o,s,l,u,c,f,h,p,g,m,_){un.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,n,r,a,o,s,l,u,c,f,h,p,g,m,_)}set(t,e,n,r,a,o,s,l,u,c,f,h,p,g,m,_){const S=this.elements;return S[0]=t,S[4]=e,S[8]=n,S[12]=r,S[1]=a,S[5]=o,S[9]=s,S[13]=l,S[2]=u,S[6]=c,S[10]=f,S[14]=h,S[3]=p,S[7]=g,S[11]=m,S[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new un().fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/Ty.setFromMatrixColumn(t,0).length(),a=1/Ty.setFromMatrixColumn(t,1).length(),o=1/Ty.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*a,e[5]=n[5]*a,e[6]=n[6]*a,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,r=t.y,a=t.z,o=Math.cos(n),s=Math.sin(n),l=Math.cos(r),u=Math.sin(r),c=Math.cos(a),f=Math.sin(a);if(t.order==="XYZ"){const h=o*c,p=o*f,g=s*c,m=s*f;e[0]=l*c,e[4]=-l*f,e[8]=u,e[1]=p+g*u,e[5]=h-m*u,e[9]=-s*l,e[2]=m-h*u,e[6]=g+p*u,e[10]=o*l}else if(t.order==="YXZ"){const h=l*c,p=l*f,g=u*c,m=u*f;e[0]=h+m*s,e[4]=g*s-p,e[8]=o*u,e[1]=o*f,e[5]=o*c,e[9]=-s,e[2]=p*s-g,e[6]=m+h*s,e[10]=o*l}else if(t.order==="ZXY"){const h=l*c,p=l*f,g=u*c,m=u*f;e[0]=h-m*s,e[4]=-o*f,e[8]=g+p*s,e[1]=p+g*s,e[5]=o*c,e[9]=m-h*s,e[2]=-o*u,e[6]=s,e[10]=o*l}else if(t.order==="ZYX"){const h=o*c,p=o*f,g=s*c,m=s*f;e[0]=l*c,e[4]=g*u-p,e[8]=h*u+m,e[1]=l*f,e[5]=m*u+h,e[9]=p*u-g,e[2]=-u,e[6]=s*l,e[10]=o*l}else if(t.order==="YZX"){const h=o*l,p=o*u,g=s*l,m=s*u;e[0]=l*c,e[4]=m-h*f,e[8]=g*f+p,e[1]=f,e[5]=o*c,e[9]=-s*c,e[2]=-u*c,e[6]=p*f+g,e[10]=h-m*f}else if(t.order==="XZY"){const h=o*l,p=o*u,g=s*l,m=s*u;e[0]=l*c,e[4]=-f,e[8]=u*c,e[1]=h*f+m,e[5]=o*c,e[9]=p*f-g,e[2]=g*f-p,e[6]=s*c,e[10]=m*f+h}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(nnt,t,int)}lookAt(t,e,n){const r=this.elements;return Rs.subVectors(t,e),Rs.lengthSq()===0&&(Rs.z=1),Rs.normalize(),_d.crossVectors(n,Rs),_d.lengthSq()===0&&(Math.abs(n.z)===1?Rs.x+=1e-4:Rs.z+=1e-4,Rs.normalize(),_d.crossVectors(n,Rs)),_d.normalize(),FM.crossVectors(Rs,_d),r[0]=_d.x,r[4]=FM.x,r[8]=Rs.x,r[1]=_d.y,r[5]=FM.y,r[9]=Rs.y,r[2]=_d.z,r[6]=FM.z,r[10]=Rs.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,a=this.elements,o=n[0],s=n[4],l=n[8],u=n[12],c=n[1],f=n[5],h=n[9],p=n[13],g=n[2],m=n[6],_=n[10],S=n[14],T=n[3],M=n[7],w=n[11],D=n[15],C=r[0],R=r[4],z=r[8],N=r[12],O=r[1],U=r[5],F=r[9],V=r[13],W=r[2],Z=r[6],H=r[10],j=r[14],Y=r[3],Q=r[7],nt=r[11],q=r[15];return a[0]=o*C+s*O+l*W+u*Y,a[4]=o*R+s*U+l*Z+u*Q,a[8]=o*z+s*F+l*H+u*nt,a[12]=o*N+s*V+l*j+u*q,a[1]=c*C+f*O+h*W+p*Y,a[5]=c*R+f*U+h*Z+p*Q,a[9]=c*z+f*F+h*H+p*nt,a[13]=c*N+f*V+h*j+p*q,a[2]=g*C+m*O+_*W+S*Y,a[6]=g*R+m*U+_*Z+S*Q,a[10]=g*z+m*F+_*H+S*nt,a[14]=g*N+m*V+_*j+S*q,a[3]=T*C+M*O+w*W+D*Y,a[7]=T*R+M*U+w*Z+D*Q,a[11]=T*z+M*F+w*H+D*nt,a[15]=T*N+M*V+w*j+D*q,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],a=t[12],o=t[1],s=t[5],l=t[9],u=t[13],c=t[2],f=t[6],h=t[10],p=t[14],g=t[3],m=t[7],_=t[11],S=t[15];return g*(+a*l*f-r*u*f-a*s*h+n*u*h+r*s*p-n*l*p)+m*(+e*l*p-e*u*h+a*o*h-r*o*p+r*u*c-a*l*c)+_*(+e*u*f-e*s*p-a*o*f+n*o*p+a*s*c-n*u*c)+S*(-r*s*c-e*l*f+e*s*h+r*o*f-n*o*h+n*l*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],h=t[10],p=t[11],g=t[12],m=t[13],_=t[14],S=t[15],T=f*_*u-m*h*u+m*l*p-s*_*p-f*l*S+s*h*S,M=g*h*u-c*_*u-g*l*p+o*_*p+c*l*S-o*h*S,w=c*m*u-g*f*u+g*s*p-o*m*p-c*s*S+o*f*S,D=g*f*l-c*m*l-g*s*h+o*m*h+c*s*_-o*f*_,C=e*T+n*M+r*w+a*D;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/C;return t[0]=T*R,t[1]=(m*h*a-f*_*a-m*r*p+n*_*p+f*r*S-n*h*S)*R,t[2]=(s*_*a-m*l*a+m*r*u-n*_*u-s*r*S+n*l*S)*R,t[3]=(f*l*a-s*h*a-f*r*u+n*h*u+s*r*p-n*l*p)*R,t[4]=M*R,t[5]=(c*_*a-g*h*a+g*r*p-e*_*p-c*r*S+e*h*S)*R,t[6]=(g*l*a-o*_*a-g*r*u+e*_*u+o*r*S-e*l*S)*R,t[7]=(o*h*a-c*l*a+c*r*u-e*h*u-o*r*p+e*l*p)*R,t[8]=w*R,t[9]=(g*f*a-c*m*a-g*n*p+e*m*p+c*n*S-e*f*S)*R,t[10]=(o*m*a-g*s*a+g*n*u-e*m*u-o*n*S+e*s*S)*R,t[11]=(c*s*a-o*f*a-c*n*u+e*f*u+o*n*p-e*s*p)*R,t[12]=D*R,t[13]=(c*m*r-g*f*r+g*n*h-e*m*h-c*n*_+e*f*_)*R,t[14]=(g*s*r-o*m*r-g*n*l+e*m*l+o*n*_-e*s*_)*R,t[15]=(o*f*r-c*s*r+c*n*l-e*f*l-o*n*h+e*s*h)*R,this}scale(t){const e=this.elements,n=t.x,r=t.y,a=t.z;return e[0]*=n,e[4]*=r,e[8]*=a,e[1]*=n,e[5]*=r,e[9]*=a,e[2]*=n,e[6]*=r,e[10]*=a,e[3]*=n,e[7]*=r,e[11]*=a,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),a=1-n,o=t.x,s=t.y,l=t.z,u=a*o,c=a*s;return this.set(u*o+n,u*s-r*l,u*l+r*s,0,u*s+r*l,c*s+n,c*l-r*o,0,u*l-r*s,c*l+r*o,a*l*l+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,a,o){return this.set(1,n,a,0,t,1,o,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,a=e._x,o=e._y,s=e._z,l=e._w,u=a+a,c=o+o,f=s+s,h=a*u,p=a*c,g=a*f,m=o*c,_=o*f,S=s*f,T=l*u,M=l*c,w=l*f,D=n.x,C=n.y,R=n.z;return r[0]=(1-(m+S))*D,r[1]=(p+w)*D,r[2]=(g-M)*D,r[3]=0,r[4]=(p-w)*C,r[5]=(1-(h+S))*C,r[6]=(_+T)*C,r[7]=0,r[8]=(g+M)*R,r[9]=(_-T)*R,r[10]=(1-(h+m))*R,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let a=Ty.set(r[0],r[1],r[2]).length();const o=Ty.set(r[4],r[5],r[6]).length(),s=Ty.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),t.x=r[12],t.y=r[13],t.z=r[14],du.copy(this);const u=1/a,c=1/o,f=1/s;return du.elements[0]*=u,du.elements[1]*=u,du.elements[2]*=u,du.elements[4]*=c,du.elements[5]*=c,du.elements[6]*=c,du.elements[8]*=f,du.elements[9]*=f,du.elements[10]*=f,e.setFromRotationMatrix(du),n.x=a,n.y=o,n.z=s,this}makePerspective(t,e,n,r,a,o,s=Vs,l=!1){const u=this.elements,c=2*a/(e-t),f=2*a/(n-r),h=(e+t)/(e-t),p=(n+r)/(n-r);let g,m;if(l)g=a/(o-a),m=o*a/(o-a);else if(s===Vs)g=-(o+a)/(o-a),m=-2*o*a/(o-a);else if(s===W0)g=-o/(o-a),m=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=h,u[12]=0,u[1]=0,u[5]=f,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=g,u[14]=m,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(t,e,n,r,a,o,s=Vs,l=!1){const u=this.elements,c=2/(e-t),f=2/(n-r),h=-(e+t)/(e-t),p=-(n+r)/(n-r);let g,m;if(l)g=1/(o-a),m=o/(o-a);else if(s===Vs)g=-2/(o-a),m=-(o+a)/(o-a);else if(s===W0)g=-1/(o-a),m=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=0,u[12]=h,u[1]=0,u[5]=f,u[9]=0,u[13]=p,u[2]=0,u[6]=0,u[10]=g,u[14]=m,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const Ty=new it,du=new un,nnt=new it(0,0,0),int=new it(1,1,1),_d=new it,FM=new it,Rs=new it,OV=new un,PV=new Ra;class qs{constructor(t=0,e=0,n=0,r=qs.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,r=this._order){return this._x=t,this._y=e,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const r=t.elements,a=r[0],o=r[4],s=r[8],l=r[1],u=r[5],c=r[9],f=r[2],h=r[6],p=r[10];switch(e){case"XYZ":this._y=Math.asin(mn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-mn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(mn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-mn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(mn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-mn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,n===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return OV.makeRotationFromQuaternion(t),this.setFromRotationMatrix(OV,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return PV.setFromEuler(this),this.setFromQuaternion(PV,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}qs.DEFAULT_ORDER="XYZ";class q0{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let rnt=0;const zV=new it,My=new Ra,Vf=new un,GM=new it,_x=new it,ant=new it,ont=new Ra,BV=new it(1,0,0),UV=new it(0,1,0),VV=new it(0,0,1),HV={type:"added"},snt={type:"removed"},Ay={type:"childadded",child:null},UR={type:"childremoved",child:null};class oi extends tf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rnt++}),this.uuid=Ws(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=oi.DEFAULT_UP.clone();const t=new it,e=new qs,n=new Ra,r=new it(1,1,1);function a(){n.setFromEuler(e,!1)}function o(){e.setFromQuaternion(n,void 0,!1)}e._onChange(a),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new un},normalMatrix:{value:new Rn}}),this.matrix=new un,this.matrixWorld=new un,this.matrixAutoUpdate=oi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=oi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new q0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return My.setFromAxisAngle(t,e),this.quaternion.multiply(My),this}rotateOnWorldAxis(t,e){return My.setFromAxisAngle(t,e),this.quaternion.premultiply(My),this}rotateX(t){return this.rotateOnAxis(BV,t)}rotateY(t){return this.rotateOnAxis(UV,t)}rotateZ(t){return this.rotateOnAxis(VV,t)}translateOnAxis(t,e){return zV.copy(t).applyQuaternion(this.quaternion),this.position.add(zV.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(BV,t)}translateY(t){return this.translateOnAxis(UV,t)}translateZ(t){return this.translateOnAxis(VV,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Vf.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?GM.copy(t):GM.set(t,e,n);const r=this.parent;this.updateWorldMatrix(!0,!1),_x.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Vf.lookAt(_x,GM,this.up):Vf.lookAt(GM,_x,this.up),this.quaternion.setFromRotationMatrix(Vf),r&&(Vf.extractRotation(r.matrixWorld),My.setFromRotationMatrix(Vf),this.quaternion.premultiply(My.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(HV),Ay.child=t,this.dispatchEvent(Ay),Ay.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(snt),UR.child=t,this.dispatchEvent(UR),UR.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Vf.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Vf.multiply(t.parent.matrixWorld)),t.applyMatrix4(Vf),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(HV),Ay.child=t,this.dispatchEvent(Ay),Ay.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,r=this.children.length;n<r;n++){const o=this.children[n].getObjectByProperty(t,e);if(o!==void 0)return o}}getObjectsByProperty(t,e,n=[]){this[t]===e&&n.push(this);const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].getObjectsByProperty(t,e,n);return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_x,t,ant),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_x,ont,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(t===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(s=>({...s})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(t),r.indirectTexture=this._indirectTexture.toJSON(t),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(t)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(t.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];a(t.shapes,f)}else a(t.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(a(t.materials,this.material[l]));r.material=s}else r.material=a(t.materials,this.material);if(this.children.length>0){r.children=[];for(let s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];r.animations.push(a(t.animations,l))}}if(e){const s=o(t.geometries),l=o(t.materials),u=o(t.textures),c=o(t.images),f=o(t.shapes),h=o(t.skeletons),p=o(t.animations),g=o(t.nodes);s.length>0&&(n.geometries=s),l.length>0&&(n.materials=l),u.length>0&&(n.textures=u),c.length>0&&(n.images=c),f.length>0&&(n.shapes=f),h.length>0&&(n.skeletons=h),p.length>0&&(n.animations=p),g.length>0&&(n.nodes=g)}return n.object=r,n;function o(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let n=0;n<t.children.length;n++){const r=t.children[n];this.add(r.clone())}return this}}oi.DEFAULT_UP=new it(0,1,0);oi.DEFAULT_MATRIX_AUTO_UPDATE=!0;oi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const pu=new it,Hf=new it,VR=new it,kf=new it,wy=new it,Ey=new it,kV=new it,HR=new it,kR=new it,FR=new it,GR=new hi,XR=new hi,WR=new hi;let Ud=class v0{constructor(t=new it,e=new it,n=new it){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),pu.subVectors(t,e),r.cross(pu);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(t,e,n,r,a){pu.subVectors(r,e),Hf.subVectors(n,e),VR.subVectors(t,e);const o=pu.dot(pu),s=pu.dot(Hf),l=pu.dot(VR),u=Hf.dot(Hf),c=Hf.dot(VR),f=o*u-s*s;if(f===0)return a.set(0,0,0),null;const h=1/f,p=(u*l-s*c)*h,g=(o*c-s*l)*h;return a.set(1-p-g,g,p)}static containsPoint(t,e,n,r){return this.getBarycoord(t,e,n,r,kf)===null?!1:kf.x>=0&&kf.y>=0&&kf.x+kf.y<=1}static getInterpolation(t,e,n,r,a,o,s,l){return this.getBarycoord(t,e,n,r,kf)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,kf.x),l.addScaledVector(o,kf.y),l.addScaledVector(s,kf.z),l)}static getInterpolatedAttribute(t,e,n,r,a,o){return GR.setScalar(0),XR.setScalar(0),WR.setScalar(0),GR.fromBufferAttribute(t,e),XR.fromBufferAttribute(t,n),WR.fromBufferAttribute(t,r),o.setScalar(0),o.addScaledVector(GR,a.x),o.addScaledVector(XR,a.y),o.addScaledVector(WR,a.z),o}static isFrontFacing(t,e,n,r){return pu.subVectors(n,e),Hf.subVectors(t,e),pu.cross(Hf).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return pu.subVectors(this.c,this.b),Hf.subVectors(this.a,this.b),pu.cross(Hf).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return v0.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return v0.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,n,r,a){return v0.getInterpolation(t,this.a,this.b,this.c,e,n,r,a)}containsPoint(t){return v0.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return v0.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,r=this.b,a=this.c;let o,s;wy.subVectors(r,n),Ey.subVectors(a,n),HR.subVectors(t,n);const l=wy.dot(HR),u=Ey.dot(HR);if(l<=0&&u<=0)return e.copy(n);kR.subVectors(t,r);const c=wy.dot(kR),f=Ey.dot(kR);if(c>=0&&f<=c)return e.copy(r);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),e.copy(n).addScaledVector(wy,o);FR.subVectors(t,a);const p=wy.dot(FR),g=Ey.dot(FR);if(g>=0&&p<=g)return e.copy(a);const m=p*u-l*g;if(m<=0&&u>=0&&g<=0)return s=u/(u-g),e.copy(n).addScaledVector(Ey,s);const _=c*g-p*f;if(_<=0&&f-c>=0&&p-g>=0)return kV.subVectors(a,r),s=(f-c)/(f-c+(p-g)),e.copy(r).addScaledVector(kV,s);const S=1/(_+m+h);return o=m*S,s=h*S,e.copy(n).addScaledVector(wy,o).addScaledVector(Ey,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}};const eW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Sd={h:0,s:0,l:0},XM={h:0,s:0,l:0};function YR(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*6*(2/3-e):i}class Me{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(e===void 0&&n===void 0){const r=t;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Ir){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Qn.colorSpaceToWorking(this,e),this}setRGB(t,e,n,r=Qn.workingColorSpace){return this.r=t,this.g=e,this.b=n,Qn.colorSpaceToWorking(this,r),this}setHSL(t,e,n,r=Qn.workingColorSpace){if(t=nz(t,1),e=mn(e,0,1),n=mn(n,0,1),e===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+e):n+e-n*e,o=2*n-a;this.r=YR(o,a,t+1/3),this.g=YR(o,a,t),this.b=YR(o,a,t-1/3)}return Qn.colorSpaceToWorking(this,r),this}setStyle(t,e=Ir){function n(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let a;const o=r[1],s=r[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,e);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,e);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const a=r[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,e);if(o===6)return this.setHex(parseInt(a,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Ir){const n=eW[t.toLowerCase()];return n!==void 0?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=sh(t.r),this.g=sh(t.g),this.b=sh(t.b),this}copyLinearToSRGB(t){return this.r=R0(t.r),this.g=R0(t.g),this.b=R0(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Ir){return Qn.workingToColorSpace(ho.copy(this),t),Math.round(mn(ho.r*255,0,255))*65536+Math.round(mn(ho.g*255,0,255))*256+Math.round(mn(ho.b*255,0,255))}getHexString(t=Ir){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Qn.workingColorSpace){Qn.workingToColorSpace(ho.copy(this),e);const n=ho.r,r=ho.g,a=ho.b,o=Math.max(n,r,a),s=Math.min(n,r,a);let l,u;const c=(s+o)/2;if(s===o)l=0,u=0;else{const f=o-s;switch(u=c<=.5?f/(o+s):f/(2-o-s),o){case n:l=(r-a)/f+(r<a?6:0);break;case r:l=(a-n)/f+2;break;case a:l=(n-r)/f+4;break}l/=6}return t.h=l,t.s=u,t.l=c,t}getRGB(t,e=Qn.workingColorSpace){return Qn.workingToColorSpace(ho.copy(this),e),t.r=ho.r,t.g=ho.g,t.b=ho.b,t}getStyle(t=Ir){Qn.workingToColorSpace(ho.copy(this),t);const e=ho.r,n=ho.g,r=ho.b;return t!==Ir?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(t,e,n){return this.getHSL(Sd),this.setHSL(Sd.h+t,Sd.s+e,Sd.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(Sd),t.getHSL(XM);const n=L1(Sd.h,XM.h,e),r=L1(Sd.s,XM.s,e),a=L1(Sd.l,XM.l,e);return this.setHSL(n,r,a),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,r=this.b,a=t.elements;return this.r=a[0]*e+a[3]*n+a[6]*r,this.g=a[1]*e+a[4]*n+a[7]*r,this.b=a[2]*e+a[5]*n+a[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ho=new Me;Me.NAMES=eW;let lnt=0;class sa extends tf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:lnt++}),this.uuid=Ws(),this.name="",this.type="Material",this.blending=Ag,this.side=Yc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=mE,this.blendDst=yE,this.blendEquation=Bd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Me(0,0,0),this.blendAlpha=0,this.depthFunc=Pg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=dO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=eg,this.stencilZFail=eg,this.stencilZPass=eg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const n=t[e];if(n===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];if(r===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(t).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(t).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Ag&&(n.blending=this.blending),this.side!==Yc&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==mE&&(n.blendSrc=this.blendSrc),this.blendDst!==yE&&(n.blendDst=this.blendDst),this.blendEquation!==Bd&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Pg&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==dO&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==eg&&(n.stencilFail=this.stencilFail),this.stencilZFail!==eg&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==eg&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(e){const a=r(t.textures),o=r(t.images);a.length>0&&(n.textures=a),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(e!==null){const r=e.length;n=new Array(r);for(let a=0;a!==r;++a)n[a]=e[a].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class Hs extends sa{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Me(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qs,this.combine=Hb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Jf=unt();function unt(){const i=new ArrayBuffer(4),t=new Float32Array(i),e=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(n[l]=0,n[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(n[l]=1024>>-u-14,n[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(n[l]=u+15<<10,n[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(n[l]=31744,n[l|256]=64512,r[l]=24,r[l|256]=24):(n[l]=31744,n[l|256]=64512,r[l]=13,r[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;(u&8388608)===0;)u<<=1,c-=8388608;u&=-8388609,c+=947912704,a[l]=u|c}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:t,uint32View:e,baseTable:n,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:s}}function fs(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=mn(i,-65504,65504),Jf.floatView[0]=i;const t=Jf.uint32View[0],e=t>>23&511;return Jf.baseTable[e]+((t&8388607)>>Jf.shiftTable[e])}function c1(i){const t=i>>10;return Jf.uint32View[0]=Jf.mantissaTable[Jf.offsetTable[t]+(i&1023)]+Jf.exponentTable[t],Jf.floatView[0]}class cnt{static toHalfFloat(t){return fs(t)}static fromHalfFloat(t){return c1(t)}}const Xr=new it,WM=new Zt;let fnt=0;class xi{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:fnt++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=n,this.usage=tb,this.updateRanges=[],this.gpuType=gs,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,n=this.count;e<n;e++)WM.fromBufferAttribute(this,e),WM.applyMatrix3(t),this.setXY(e,WM.x,WM.y);else if(this.itemSize===3)for(let e=0,n=this.count;e<n;e++)Xr.fromBufferAttribute(this,e),Xr.applyMatrix3(t),this.setXYZ(e,Xr.x,Xr.y,Xr.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)Xr.fromBufferAttribute(this,e),Xr.applyMatrix4(t),this.setXYZ(e,Xr.x,Xr.y,Xr.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Xr.fromBufferAttribute(this,e),Xr.applyNormalMatrix(t),this.setXYZ(e,Xr.x,Xr.y,Xr.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Xr.fromBufferAttribute(this,e),Xr.transformDirection(t),this.setXYZ(e,Xr.x,Xr.y,Xr.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=Zo(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=On(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Zo(e,this.array)),e}setX(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Zo(e,this.array)),e}setY(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Zo(e,this.array)),e}setZ(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Zo(e,this.array)),e}setW(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),n=On(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),n=On(n,this.array),r=On(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,a){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),n=On(n,this.array),r=On(r,this.array),a=On(a,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=a,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==tb&&(t.usage=this.usage),t}}class hnt extends xi{constructor(t,e,n){super(new Int8Array(t),e,n)}}class dnt extends xi{constructor(t,e,n){super(new Uint8Array(t),e,n)}}class pnt extends xi{constructor(t,e,n){super(new Uint8ClampedArray(t),e,n)}}class vnt extends xi{constructor(t,e,n){super(new Int16Array(t),e,n)}}class rz extends xi{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class gnt extends xi{constructor(t,e,n){super(new Int32Array(t),e,n)}}class az extends xi{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class mnt extends xi{constructor(t,e,n){super(new Uint16Array(t),e,n),this.isFloat16BufferAttribute=!0}getX(t){let e=c1(this.array[t*this.itemSize]);return this.normalized&&(e=Zo(e,this.array)),e}setX(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize]=fs(e),this}getY(t){let e=c1(this.array[t*this.itemSize+1]);return this.normalized&&(e=Zo(e,this.array)),e}setY(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+1]=fs(e),this}getZ(t){let e=c1(this.array[t*this.itemSize+2]);return this.normalized&&(e=Zo(e,this.array)),e}setZ(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+2]=fs(e),this}getW(t){let e=c1(this.array[t*this.itemSize+3]);return this.normalized&&(e=Zo(e,this.array)),e}setW(t,e){return this.normalized&&(e=On(e,this.array)),this.array[t*this.itemSize+3]=fs(e),this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),n=On(n,this.array)),this.array[t+0]=fs(e),this.array[t+1]=fs(n),this}setXYZ(t,e,n,r){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),n=On(n,this.array),r=On(r,this.array)),this.array[t+0]=fs(e),this.array[t+1]=fs(n),this.array[t+2]=fs(r),this}setXYZW(t,e,n,r,a){return t*=this.itemSize,this.normalized&&(e=On(e,this.array),n=On(n,this.array),r=On(r,this.array),a=On(a,this.array)),this.array[t+0]=fs(e),this.array[t+1]=fs(n),this.array[t+2]=fs(r),this.array[t+3]=fs(a),this}}class Ge extends xi{constructor(t,e,n){super(new Float32Array(t),e,n)}}let ynt=0;const ml=new un,qR=new oi,Cy=new it,Ls=new Wa,Sx=new Wa,Aa=new it;class Ln extends tf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ynt++}),this.uuid=Ws(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(JX(t)?az:rz)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new Rn().getNormalMatrix(t);n.applyNormalMatrix(a),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(t),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return ml.makeRotationFromQuaternion(t),this.applyMatrix4(ml),this}rotateX(t){return ml.makeRotationX(t),this.applyMatrix4(ml),this}rotateY(t){return ml.makeRotationY(t),this.applyMatrix4(ml),this}rotateZ(t){return ml.makeRotationZ(t),this.applyMatrix4(ml),this}translate(t,e,n){return ml.makeTranslation(t,e,n),this.applyMatrix4(ml),this}scale(t,e,n){return ml.makeScale(t,e,n),this.applyMatrix4(ml),this}lookAt(t){return qR.lookAt(t),qR.updateMatrix(),this.applyMatrix4(qR.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cy).negate(),this.translate(Cy.x,Cy.y,Cy.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const n=[];for(let r=0,a=t.length;r<a;r++){const o=t[r];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Ge(n,3))}else{const n=Math.min(t.length,e.count);for(let r=0;r<n;r++){const a=t[r];e.setXYZ(r,a.x,a.y,a.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Wa);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new it(-1/0,-1/0,-1/0),new it(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,r=e.length;n<r;n++){const a=e[n];Ls.setFromBufferAttribute(a),this.morphTargetsRelative?(Aa.addVectors(this.boundingBox.min,Ls.min),this.boundingBox.expandByPoint(Aa),Aa.addVectors(this.boundingBox.max,Ls.max),this.boundingBox.expandByPoint(Aa)):(this.boundingBox.expandByPoint(Ls.min),this.boundingBox.expandByPoint(Ls.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new La);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new it,1/0);return}if(t){const n=this.boundingSphere.center;if(Ls.setFromBufferAttribute(t),e)for(let a=0,o=e.length;a<o;a++){const s=e[a];Sx.setFromBufferAttribute(s),this.morphTargetsRelative?(Aa.addVectors(Ls.min,Sx.min),Ls.expandByPoint(Aa),Aa.addVectors(Ls.max,Sx.max),Ls.expandByPoint(Aa)):(Ls.expandByPoint(Sx.min),Ls.expandByPoint(Sx.max))}Ls.getCenter(n);let r=0;for(let a=0,o=t.count;a<o;a++)Aa.fromBufferAttribute(t,a),r=Math.max(r,n.distanceToSquared(Aa));if(e)for(let a=0,o=e.length;a<o;a++){const s=e[a],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)Aa.fromBufferAttribute(s,u),l&&(Cy.fromBufferAttribute(t,u),Aa.add(Cy)),r=Math.max(r,n.distanceToSquared(Aa))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.position,r=e.normal,a=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new xi(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let z=0;z<n.count;z++)s[z]=new it,l[z]=new it;const u=new it,c=new it,f=new it,h=new Zt,p=new Zt,g=new Zt,m=new it,_=new it;function S(z,N,O){u.fromBufferAttribute(n,z),c.fromBufferAttribute(n,N),f.fromBufferAttribute(n,O),h.fromBufferAttribute(a,z),p.fromBufferAttribute(a,N),g.fromBufferAttribute(a,O),c.sub(u),f.sub(u),p.sub(h),g.sub(h);const U=1/(p.x*g.y-g.x*p.y);isFinite(U)&&(m.copy(c).multiplyScalar(g.y).addScaledVector(f,-p.y).multiplyScalar(U),_.copy(f).multiplyScalar(p.x).addScaledVector(c,-g.x).multiplyScalar(U),s[z].add(m),s[N].add(m),s[O].add(m),l[z].add(_),l[N].add(_),l[O].add(_))}let T=this.groups;T.length===0&&(T=[{start:0,count:t.count}]);for(let z=0,N=T.length;z<N;++z){const O=T[z],U=O.start,F=O.count;for(let V=U,W=U+F;V<W;V+=3)S(t.getX(V+0),t.getX(V+1),t.getX(V+2))}const M=new it,w=new it,D=new it,C=new it;function R(z){D.fromBufferAttribute(r,z),C.copy(D);const N=s[z];M.copy(N),M.sub(D.multiplyScalar(D.dot(N))).normalize(),w.crossVectors(C,N);const U=w.dot(l[z])<0?-1:1;o.setXYZW(z,M.x,M.y,M.z,U)}for(let z=0,N=T.length;z<N;++z){const O=T[z],U=O.start,F=O.count;for(let V=U,W=U+F;V<W;V+=3)R(t.getX(V+0)),R(t.getX(V+1)),R(t.getX(V+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new xi(new Float32Array(e.count*3),3),this.setAttribute("normal",n);else for(let h=0,p=n.count;h<p;h++)n.setXYZ(h,0,0,0);const r=new it,a=new it,o=new it,s=new it,l=new it,u=new it,c=new it,f=new it;if(t)for(let h=0,p=t.count;h<p;h+=3){const g=t.getX(h+0),m=t.getX(h+1),_=t.getX(h+2);r.fromBufferAttribute(e,g),a.fromBufferAttribute(e,m),o.fromBufferAttribute(e,_),c.subVectors(o,a),f.subVectors(r,a),c.cross(f),s.fromBufferAttribute(n,g),l.fromBufferAttribute(n,m),u.fromBufferAttribute(n,_),s.add(c),l.add(c),u.add(c),n.setXYZ(g,s.x,s.y,s.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(_,u.x,u.y,u.z)}else for(let h=0,p=e.count;h<p;h+=3)r.fromBufferAttribute(e,h+0),a.fromBufferAttribute(e,h+1),o.fromBufferAttribute(e,h+2),c.subVectors(o,a),f.subVectors(r,a),c.cross(f),n.setXYZ(h+0,c.x,c.y,c.z),n.setXYZ(h+1,c.x,c.y,c.z),n.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Aa.fromBufferAttribute(t,e),Aa.normalize(),t.setXYZ(e,Aa.x,Aa.y,Aa.z)}toNonIndexed(){function t(s,l){const u=s.array,c=s.itemSize,f=s.normalized,h=new u.constructor(l.length*c);let p=0,g=0;for(let m=0,_=l.length;m<_;m++){s.isInterleavedBufferAttribute?p=l[m]*s.data.stride+s.offset:p=l[m]*c;for(let S=0;S<c;S++)h[g++]=u[p++]}return new xi(h,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Ln,n=this.index.array,r=this.attributes;for(const s in r){const l=r[s],u=t(l,n);e.setAttribute(s,u)}const a=this.morphAttributes;for(const s in a){const l=[],u=a[s];for(let c=0,f=u.length;c<f;c++){const h=u[c],p=t(h,n);l.push(p)}e.morphAttributes[s]=l}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const u=o[s];e.addGroup(u.start,u.count,u.materialIndex)}return e}toJSON(){const t={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(t[u]=l[u]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const l in n){const u=n[l];t.data.attributes[l]=u.toJSON(t.data)}const r={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const p=u[f];c.push(p.toJSON(t.data))}c.length>0&&(r[l]=c,a=!0)}a&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(t.data.boundingSphere=s.toJSON()),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;n!==null&&this.setIndex(n.clone());const r=t.attributes;for(const u in r){const c=r[u];this.setAttribute(u,c.clone(e))}const a=t.morphAttributes;for(const u in a){const c=[],f=a[u];for(let h=0,p=f.length;h<p;h++)c.push(f[h].clone(e));this.morphAttributes[u]=c}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=t.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=t.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const FV=new un,pv=new $g,YM=new La,GV=new it,qM=new it,ZM=new it,jM=new it,ZR=new it,KM=new it,XV=new it,QM=new it;class Nr extends oi{constructor(t=new Ln,e=new Hs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(t,e){const n=this.geometry,r=n.attributes.position,a=n.morphAttributes.position,o=n.morphTargetsRelative;e.fromBufferAttribute(r,t);const s=this.morphTargetInfluences;if(a&&s){KM.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const c=s[l],f=a[l];c!==0&&(ZR.fromBufferAttribute(f,t),o?KM.addScaledVector(ZR,c):KM.addScaledVector(ZR.sub(e),c))}e.add(KM)}return e}raycast(t,e){const n=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),YM.copy(n.boundingSphere),YM.applyMatrix4(a),pv.copy(t.ray).recast(t.near),!(YM.containsPoint(pv.origin)===!1&&(pv.intersectSphere(YM,GV)===null||pv.origin.distanceToSquared(GV)>(t.far-t.near)**2))&&(FV.copy(a).invert(),pv.copy(t.ray).applyMatrix4(FV),!(n.boundingBox!==null&&pv.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(t,e,pv)))}_computeIntersections(t,e,n){let r;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,u=a.attributes.uv,c=a.attributes.uv1,f=a.attributes.normal,h=a.groups,p=a.drawRange;if(s!==null)if(Array.isArray(o))for(let g=0,m=h.length;g<m;g++){const _=h[g],S=o[_.materialIndex],T=Math.max(_.start,p.start),M=Math.min(s.count,Math.min(_.start+_.count,p.start+p.count));for(let w=T,D=M;w<D;w+=3){const C=s.getX(w),R=s.getX(w+1),z=s.getX(w+2);r=JM(this,S,t,n,u,c,f,C,R,z),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=_.materialIndex,e.push(r))}}else{const g=Math.max(0,p.start),m=Math.min(s.count,p.start+p.count);for(let _=g,S=m;_<S;_+=3){const T=s.getX(_),M=s.getX(_+1),w=s.getX(_+2);r=JM(this,o,t,n,u,c,f,T,M,w),r&&(r.faceIndex=Math.floor(_/3),e.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,m=h.length;g<m;g++){const _=h[g],S=o[_.materialIndex],T=Math.max(_.start,p.start),M=Math.min(l.count,Math.min(_.start+_.count,p.start+p.count));for(let w=T,D=M;w<D;w+=3){const C=w,R=w+1,z=w+2;r=JM(this,S,t,n,u,c,f,C,R,z),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=_.materialIndex,e.push(r))}}else{const g=Math.max(0,p.start),m=Math.min(l.count,p.start+p.count);for(let _=g,S=m;_<S;_+=3){const T=_,M=_+1,w=_+2;r=JM(this,o,t,n,u,c,f,T,M,w),r&&(r.faceIndex=Math.floor(_/3),e.push(r))}}}}function _nt(i,t,e,n,r,a,o,s){let l;if(t.side===jo?l=n.intersectTriangle(o,a,r,!0,s):l=n.intersectTriangle(r,a,o,t.side===Yc,s),l===null)return null;QM.copy(s),QM.applyMatrix4(i.matrixWorld);const u=e.ray.origin.distanceTo(QM);return u<e.near||u>e.far?null:{distance:u,point:QM.clone(),object:i}}function JM(i,t,e,n,r,a,o,s,l,u){i.getVertexPosition(s,qM),i.getVertexPosition(l,ZM),i.getVertexPosition(u,jM);const c=_nt(i,t,e,n,qM,ZM,jM,XV);if(c){const f=new it;Ud.getBarycoord(XV,qM,ZM,jM,f),r&&(c.uv=Ud.getInterpolatedAttribute(r,s,l,u,f,new Zt)),a&&(c.uv1=Ud.getInterpolatedAttribute(a,s,l,u,f,new Zt)),o&&(c.normal=Ud.getInterpolatedAttribute(o,s,l,u,f,new it),c.normal.dot(n.direction)>0&&c.normal.multiplyScalar(-1));const h={a:s,b:l,c:u,normal:new it,materialIndex:0};Ud.getNormal(qM,ZM,jM,h.normal),c.face=h,c.barycoord=f}return c}class tm extends Ln{constructor(t=1,e=1,n=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:a,depthSegments:o};const s=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,p=0;g("z","y","x",-1,-1,n,e,t,o,a,0),g("z","y","x",1,-1,n,e,-t,o,a,1),g("x","z","y",1,1,t,n,e,r,o,2),g("x","z","y",1,-1,t,n,-e,r,o,3),g("x","y","z",1,-1,t,e,n,r,a,4),g("x","y","z",-1,-1,t,e,-n,r,a,5),this.setIndex(l),this.setAttribute("position",new Ge(u,3)),this.setAttribute("normal",new Ge(c,3)),this.setAttribute("uv",new Ge(f,2));function g(m,_,S,T,M,w,D,C,R,z,N){const O=w/R,U=D/z,F=w/2,V=D/2,W=C/2,Z=R+1,H=z+1;let j=0,Y=0;const Q=new it;for(let nt=0;nt<H;nt++){const q=nt*U-V;for(let $=0;$<Z;$++){const st=$*O-F;Q[m]=st*T,Q[_]=q*M,Q[S]=W,u.push(Q.x,Q.y,Q.z),Q[m]=0,Q[_]=0,Q[S]=C>0?1:-1,c.push(Q.x,Q.y,Q.z),f.push($/R),f.push(1-nt/z),j+=1}}for(let nt=0;nt<z;nt++)for(let q=0;q<R;q++){const $=h+q+Z*nt,st=h+q+Z*(nt+1),ft=h+(q+1)+Z*(nt+1),Mt=h+(q+1)+Z*nt;l.push($,st,Mt),l.push(st,ft,Mt),Y+=6}s.addGroup(p,Y,N),p+=Y,h+=j}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new tm(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Z0(i){const t={};for(const e in i){t[e]={};for(const n in i[e]){const r=i[e][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][n]=null):t[e][n]=r.clone():Array.isArray(r)?t[e][n]=r.slice():t[e][n]=r}}return t}function Xo(i){const t={};for(let e=0;e<i.length;e++){const n=Z0(i[e]);for(const r in n)t[r]=n[r]}return t}function Snt(i){const t=[];for(let e=0;e<i.length;e++)t.push(i[e].clone());return t}function nW(i){const t=i.getRenderTarget();return t===null?i.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:Qn.workingColorSpace}const iW={clone:Z0,merge:Xo};var xnt=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,bnt=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ru extends sa{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=xnt,this.fragmentShader=bnt,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Z0(t.uniforms),this.uniformsGroups=Snt(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?e.uniforms[r]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[r]={type:"m4",value:o.toArray()}:e.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class N2 extends oi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new un,this.projectionMatrix=new un,this.projectionMatrixInverse=new un,this.coordinateSystem=Vs,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const xd=new it,WV=new Zt,YV=new Zt;class Sr extends N2{constructor(t=50,e=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=Y0*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(wg*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Y0*2*Math.atan(Math.tan(wg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,n){xd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(xd.x,xd.y).multiplyScalar(-t/xd.z),xd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(xd.x,xd.y).multiplyScalar(-t/xd.z)}getViewSize(t,e){return this.getViewBounds(t,WV,YV),e.subVectors(YV,WV)}setViewOffset(t,e,n,r,a,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(wg*.5*this.fov)/this.zoom,n=2*e,r=this.aspect*n,a=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;a+=o.offsetX*r/l,e-=o.offsetY*n/u,r*=o.width/l,n*=o.height/u}const s=this.filmOffset;s!==0&&(a+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,e,e-n,t,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Dy=-90,Ry=1;class rW extends oi{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Sr(Dy,Ry,t,e);r.layers=this.layers,this.add(r);const a=new Sr(Dy,Ry,t,e);a.layers=this.layers,this.add(a);const o=new Sr(Dy,Ry,t,e);o.layers=this.layers,this.add(o);const s=new Sr(Dy,Ry,t,e);s.layers=this.layers,this.add(s);const l=new Sr(Dy,Ry,t,e);l.layers=this.layers,this.add(l);const u=new Sr(Dy,Ry,t,e);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,r,a,o,s,l]=e;for(const u of e)this.remove(u);if(t===Vs)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(t===W0)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const u of e)this.add(u),u.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,l,u,c]=this.children,f=t.getRenderTarget(),h=t.getActiveCubeFace(),p=t.getActiveMipmapLevel(),g=t.xr.enabled;t.xr.enabled=!1;const m=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,r),t.render(e,a),t.setRenderTarget(n,1,r),t.render(e,o),t.setRenderTarget(n,2,r),t.render(e,s),t.setRenderTarget(n,3,r),t.render(e,l),t.setRenderTarget(n,4,r),t.render(e,u),n.texture.generateMipmaps=m,t.setRenderTarget(n,5,r),t.render(e,c),t.setRenderTarget(f,h,p),t.xr.enabled=g,n.texture.needsPMREMUpdate=!0}}class Fb extends tr{constructor(t=[],e=vh,n,r,a,o,s,l,u,c){super(t,e,n,r,a,o,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class aW extends qc{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},r=[n,n,n,n,n,n];this.texture=new Fb(r),this._setTextureOptions(e),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new tm(5,5,5),a=new Ru({name:"CubemapFromEquirect",uniforms:Z0(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:jo,blending:oh});a.uniforms.tEquirect.value=e;const o=new Nr(r,a),s=e.minFilter;return e.minFilter===Rl&&(e.minFilter=xr),new rW(1,10,this).update(t,o),e.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(t,e=!0,n=!0,r=!0){const a=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,n,r);t.setRenderTarget(a)}}let th=class extends oi{constructor(){super(),this.isGroup=!0,this.type="Group"}};const Tnt={type:"move"};class qw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new th,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new th,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new it,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new it),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new th,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new it,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new it),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,n){let r=null,a=null,o=null;const s=this._targetRay,l=this._grip,u=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(u&&t.hand){o=!0;for(const m of t.hand.values()){const _=e.getJointPose(m,n),S=this._getHandJoint(u,m);_!==null&&(S.matrix.fromArray(_.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=_.radius),S.visible=_!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),p=.02,g=.005;u.inputState.pinching&&h>p+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!u.inputState.pinching&&h<=p-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else l!==null&&t.gripSpace&&(a=e.getPose(t.gripSpace,n),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(r=e.getPose(t.targetRaySpace,n),r===null&&a!==null&&(r=a),r!==null&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Tnt)))}return s!==null&&(s.visible=r!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const n=new th;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}class O2{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new Me(t),this.density=e}clone(){return new O2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class P2{constructor(t,e=1,n=1e3){this.isFog=!0,this.name="",this.color=new Me(t),this.near=e,this.far=n}clone(){return new P2(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class oz extends oi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new qs,this.environmentIntensity=1,this.environmentRotation=new qs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class Gb{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=tb,this.updateRanges=[],this.version=0,this.uuid=Ws()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let r=0,a=this.stride;r<a;r++)this.array[t+r]=e.array[n+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ws()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ws()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fo=new it;class ap{constructor(t,e,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)Fo.fromBufferAttribute(this,e),Fo.applyMatrix4(t),this.setXYZ(e,Fo.x,Fo.y,Fo.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Fo.fromBufferAttribute(this,e),Fo.applyNormalMatrix(t),this.setXYZ(e,Fo.x,Fo.y,Fo.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Fo.fromBufferAttribute(this,e),Fo.transformDirection(t),this.setXYZ(e,Fo.x,Fo.y,Fo.z);return this}getComponent(t,e){let n=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(n=Zo(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=On(n,this.array)),this.data.array[t*this.data.stride+this.offset+e]=n,this}setX(t,e){return this.normalized&&(e=On(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=On(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=On(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=On(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Zo(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Zo(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Zo(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Zo(e,this.array)),e}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=On(e,this.array),n=On(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=On(e,this.array),n=On(n,this.array),r=On(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this}setXYZW(t,e,n,r,a){return t=t*this.data.stride+this.offset,this.normalized&&(e=On(e,this.array),n=On(n,this.array),r=On(r,this.array),a=On(a,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=a,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)e.push(this.data.array[r+a])}return new xi(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ap(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)e.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class sz extends sa{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Me(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Ly;const xx=new it,Iy=new it,Ny=new it,Oy=new Zt,bx=new Zt,oW=new un,$M=new it,Tx=new it,tA=new it,qV=new Zt,jR=new Zt,ZV=new Zt;class sW extends oi{constructor(t=new sz){if(super(),this.isSprite=!0,this.type="Sprite",Ly===void 0){Ly=new Ln;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Gb(e,5);Ly.setIndex([0,1,2,0,2,3]),Ly.setAttribute("position",new ap(n,3,0,!1)),Ly.setAttribute("uv",new ap(n,2,3,!1))}this.geometry=Ly,this.material=t,this.center=new Zt(.5,.5),this.count=1}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Iy.setFromMatrixScale(this.matrixWorld),oW.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Ny.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Iy.multiplyScalar(-Ny.z);const n=this.material.rotation;let r,a;n!==0&&(a=Math.cos(n),r=Math.sin(n));const o=this.center;eA($M.set(-.5,-.5,0),Ny,o,Iy,r,a),eA(Tx.set(.5,-.5,0),Ny,o,Iy,r,a),eA(tA.set(.5,.5,0),Ny,o,Iy,r,a),qV.set(0,0),jR.set(1,0),ZV.set(1,1);let s=t.ray.intersectTriangle($M,Tx,tA,!1,xx);if(s===null&&(eA(Tx.set(-.5,.5,0),Ny,o,Iy,r,a),jR.set(0,1),s=t.ray.intersectTriangle($M,tA,Tx,!1,xx),s===null))return;const l=t.ray.origin.distanceTo(xx);l<t.near||l>t.far||e.push({distance:l,point:xx.clone(),uv:Ud.getInterpolation(xx,$M,Tx,tA,qV,jR,ZV,new Zt),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function eA(i,t,e,n,r,a){Oy.subVectors(i,e).addScalar(.5).multiply(n),r!==void 0?(bx.x=a*Oy.x-r*Oy.y,bx.y=r*Oy.x+a*Oy.y):bx.copy(Oy),i.copy(t),i.x+=bx.x,i.y+=bx.y,i.applyMatrix4(oW)}const nA=new it,jV=new it;class lW extends oi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let n=0,r=e.length;n<r;n++){const a=e[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,n=0){e=Math.abs(e);const r=this.levels;let a;for(a=0;a<r.length&&!(e<r[a].distance);a++);return r.splice(a,0,{distance:e,hysteresis:n,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let n=0;n<e.length;n++)if(e[n].distance===t){const r=e.splice(n,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let n,r;for(n=1,r=e.length;n<r;n++){let a=e[n].distance;if(e[n].object.visible&&(a-=a*e[n].hysteresis),t<a)break}return e[n-1].object}return null}raycast(t,e){if(this.levels.length>0){nA.setFromMatrixPosition(this.matrixWorld);const r=t.ray.origin.distanceTo(nA);this.getObjectForDistance(r).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){nA.setFromMatrixPosition(t.matrixWorld),jV.setFromMatrixPosition(this.matrixWorld);const n=nA.distanceTo(jV)/t.zoom;e[0].object.visible=!0;let r,a;for(r=1,a=e.length;r<a;r++){let o=e[r].distance;if(e[r].object.visible&&(o-=o*e[r].hysteresis),n>=o)e[r-1].object.visible=!1,e[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)e[r].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let r=0,a=n.length;r<a;r++){const o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return e}}const KV=new it,QV=new hi,JV=new hi,Mnt=new it,$V=new un,iA=new it,KR=new La,t4=new un,QR=new $g;class lz extends Nr{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=hO,this.bindMatrix=new un,this.bindMatrixInverse=new un,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new Wa),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let n=0;n<e.count;n++)this.getVertexPosition(n,iA),this.boundingBox.expandByPoint(iA)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new La),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let n=0;n<e.count;n++)this.getVertexPosition(n,iA),this.boundingSphere.expandByPoint(iA)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),KR.copy(this.boundingSphere),KR.applyMatrix4(r),t.ray.intersectsSphere(KR)!==!1&&(t4.copy(r).invert(),QR.copy(t.ray).applyMatrix4(t4),!(this.boundingBox!==null&&QR.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,QR)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new hi,e=this.geometry.attributes.skinWeight;for(let n=0,r=e.count;n<r;n++){t.fromBufferAttribute(e,n);const a=1/t.manhattanLength();a!==1/0?t.multiplyScalar(a):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===hO?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===zX?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const n=this.skeleton,r=this.geometry;QV.fromBufferAttribute(r.attributes.skinIndex,t),JV.fromBufferAttribute(r.attributes.skinWeight,t),KV.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let a=0;a<4;a++){const o=JV.getComponent(a);if(o!==0){const s=QV.getComponent(a);$V.multiplyMatrices(n.bones[s].matrixWorld,n.boneInverses[s]),e.addScaledVector(Mnt.copy(KV).applyMatrix4($V),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}class z2 extends oi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Fc extends tr{constructor(t=null,e=1,n=1,r,a,o,s,l,u=oa,c=oa,f,h){super(null,o,s,l,u,c,r,a,f,h),this.isDataTexture=!0,this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const e4=new un,Ant=new un;class Xb{constructor(t=[],e=[]){this.uuid=Ws(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new un)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const n=new un;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let a=0,o=t.length;a<o;a++){const s=t[a]?t[a].matrixWorld:Ant;e4.multiplyMatrices(s,e[a]),e4.toArray(n,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Xb(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new Fc(e,t,t,_o,gs);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];if(r.name===t)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,r=t.bones.length;n<r;n++){const a=t.bones[n];let o=e[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new z2),this.bones.push(o),this.boneInverses.push(new un().fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let r=0,a=e.length;r<a;r++){const o=e[r];t.bones.push(o.uuid);const s=n[r];t.boneInverses.push(s.toArray())}return t}}class zg extends xi{constructor(t,e,n,r=1){super(t,e,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Py=new un,n4=new un,rA=[],i4=new Wa,wnt=new un,Mx=new Nr,Ax=new La;class uz extends Nr{constructor(t,e,n){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new zg(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,wnt)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new Wa),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,Py),i4.copy(t.boundingBox).applyMatrix4(Py),this.boundingBox.union(i4)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new La),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,Py),Ax.copy(t.boundingSphere).applyMatrix4(Py),this.boundingSphere.union(Ax)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const n=e.morphTargetInfluences,r=this.morphTexture.source.data.data,a=n.length+1,o=t*a+1;for(let s=0;s<n.length;s++)n[s]=r[o+s]}raycast(t,e){const n=this.matrixWorld,r=this.count;if(Mx.geometry=this.geometry,Mx.material=this.material,Mx.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ax.copy(this.boundingSphere),Ax.applyMatrix4(n),t.ray.intersectsSphere(Ax)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Py),n4.multiplyMatrices(n,Py),Mx.matrixWorld=n4,Mx.raycast(t,rA);for(let o=0,s=rA.length;o<s;o++){const l=rA[o];l.instanceId=a,l.object=this,e.push(l)}rA.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new zg(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const n=e.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new Fc(new Float32Array(r*this.count),r,this.count,E2,gs));const a=this.morphTexture.source.data.data;let o=0;for(let u=0;u<n.length;u++)o+=n[u];const s=this.geometry.morphTargetsRelative?1:1-o,l=r*t;a[l]=s,a.set(n,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const JR=new it,Ent=new it,Cnt=new Rn;class Kf{constructor(t=new it(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=JR.subVectors(n,e).cross(Ent.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(JR),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const a=-(t.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:e.copy(t.start).addScaledVector(n,a)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||Cnt.getNormalMatrix(t),r=this.coplanarPoint(JR).applyMatrix4(t),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const vv=new La,Dnt=new Zt(.5,.5),aA=new it;class y_{constructor(t=new Kf,e=new Kf,n=new Kf,r=new Kf,a=new Kf,o=new Kf){this.planes=[t,e,n,r,a,o]}set(t,e,n,r,a,o){const s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(r),s[4].copy(a),s[5].copy(o),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=Vs,n=!1){const r=this.planes,a=t.elements,o=a[0],s=a[1],l=a[2],u=a[3],c=a[4],f=a[5],h=a[6],p=a[7],g=a[8],m=a[9],_=a[10],S=a[11],T=a[12],M=a[13],w=a[14],D=a[15];if(r[0].setComponents(u-o,p-c,S-g,D-T).normalize(),r[1].setComponents(u+o,p+c,S+g,D+T).normalize(),r[2].setComponents(u+s,p+f,S+m,D+M).normalize(),r[3].setComponents(u-s,p-f,S-m,D-M).normalize(),n)r[4].setComponents(l,h,_,w).normalize(),r[5].setComponents(u-l,p-h,S-_,D-w).normalize();else if(r[4].setComponents(u-l,p-h,S-_,D-w).normalize(),e===Vs)r[5].setComponents(u+l,p+h,S+_,D+w).normalize();else if(e===W0)r[5].setComponents(l,h,_,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),vv.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),vv.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(vv)}intersectsSprite(t){vv.center.set(0,0,0);const e=Dnt.distanceTo(t.center);return vv.radius=.7071067811865476+e,vv.applyMatrix4(t.matrixWorld),this.intersectsSphere(vv)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let a=0;a<6;a++)if(e[a].distanceToPoint(n)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(aA.x=r.normal.x>0?t.max.x:t.min.x,aA.y=r.normal.y>0?t.max.y:t.min.y,aA.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(aA)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const _c=new un,Sc=new y_;class B2{constructor(){this.coordinateSystem=Vs}intersectsObject(t,e){if(!e.isArrayCamera||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const r=e.cameras[n];if(_c.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Sc.setFromProjectionMatrix(_c,r.coordinateSystem,r.reversedDepth),Sc.intersectsObject(t))return!0}return!1}intersectsSprite(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const r=e.cameras[n];if(_c.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Sc.setFromProjectionMatrix(_c,r.coordinateSystem,r.reversedDepth),Sc.intersectsSprite(t))return!0}return!1}intersectsSphere(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const r=e.cameras[n];if(_c.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Sc.setFromProjectionMatrix(_c,r.coordinateSystem,r.reversedDepth),Sc.intersectsSphere(t))return!0}return!1}intersectsBox(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const r=e.cameras[n];if(_c.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Sc.setFromProjectionMatrix(_c,r.coordinateSystem,r.reversedDepth),Sc.intersectsBox(t))return!0}return!1}containsPoint(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const r=e.cameras[n];if(_c.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Sc.setFromProjectionMatrix(_c,r.coordinateSystem,r.reversedDepth),Sc.containsPoint(t))return!0}return!1}clone(){return new B2}}function $R(i,t){return i-t}function Rnt(i,t){return i.z-t.z}function Lnt(i,t){return t.z-i.z}class Int{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,n,r){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const s=a[this.index];o.push(s),this.index++,s.start=t,s.count=e,s.z=n,s.index=r}reset(){this.list.length=0,this.index=0}}const us=new un,Nnt=new Me(1,1,1),r4=new y_,Ont=new B2,oA=new Wa,gv=new La,Ex=new it,a4=new it,Pnt=new it,tL=new Int,po=new Nr,sA=[];function znt(i,t,e=0){const n=t.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==t.array.constructor){const r=i.count;for(let a=0;a<r;a++)for(let o=0;o<n;o++)t.setComponent(a+e,o,i.getComponent(a,o))}else t.array.set(i.array,e*n);t.needsUpdate=!0}function mv(i,t){if(i.constructor!==t.constructor){const e=Math.min(i.length,t.length);for(let n=0;n<e;n++)t[n]=i[n]}else{const e=Math.min(i.length,t.length);t.set(new i.constructor(i.buffer,0,e))}}class uW extends Nr{constructor(t,e,n=e*2,r){super(new Ln,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),n=new Fc(e,t,t,_o,gs);this._matricesTexture=n}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),n=new Fc(e,t,t,kb,gh);this._indirectTexture=n}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),n=new Fc(e,t,t,_o,gs);n.colorSpace=Qn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(t){const e=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in t.attributes){const o=t.getAttribute(a),{array:s,itemSize:l,normalized:u}=o,c=new s.constructor(n*l),f=new xi(c,l,u);e.setAttribute(a,f)}if(t.getIndex()!==null){const a=n>65535?new Uint32Array(r):new Uint16Array(r);e.setIndex(new xi(a,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in e.attributes){if(!t.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=t.getAttribute(n),a=e.getAttribute(n);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Wa);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let n=0,r=e.length;n<r;n++){if(e[n].active===!1)continue;const a=e[n].geometryIndex;this.getMatrixAt(n,us),this.getBoundingBoxAt(a,oA).applyMatrix4(us),t.union(oA)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new La);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let n=0,r=e.length;n<r;n++){if(e[n].active===!1)continue;const a=e[n].geometryIndex;this.getMatrixAt(n,us),this.getBoundingSphereAt(a,gv).applyMatrix4(us),t.union(gv)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:t};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort($R),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=n):(r=this._instanceInfo.length,this._instanceInfo.push(n));const a=this._matricesTexture;us.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(Nnt.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(t,e=-1,n=-1){this._initializeGeometry(t),this._validateGeometry(t);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const o=t.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=n===-1?o.count:n),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort($R),l=this._availableGeometryIds.shift(),a[l]=r):(l=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(l,t),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const n=this.geometry,r=n.getIndex()!==null,a=n.getIndex(),o=e.getIndex(),s=this._geometryInfo[t];if(r&&o.count>s.reservedIndexCount||e.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.reservedVertexCount;s.vertexCount=e.getAttribute("position").count;for(const c in n.attributes){const f=e.getAttribute(c),h=n.getAttribute(c);znt(f,h,l);const p=f.itemSize;for(let g=f.count,m=u;g<m;g++){const _=l+g;for(let S=0;S<p;S++)h.setComponent(_,S,0)}h.needsUpdate=!0,h.addUpdateRange(l*p,u*p)}if(r){const c=s.indexStart,f=s.reservedIndexCount;s.indexCount=e.getIndex().count;for(let h=0;h<o.count;h++)a.setX(c+h,l+o.getX(h));for(let h=o.count,p=f;h<p;h++)a.setX(c+h,l);a.needsUpdate=!0,a.addUpdateRange(c,s.reservedIndexCount)}return s.start=r?s.indexStart:s.vertexStart,s.count=r?s.indexCount:s.vertexCount,s.boundingBox=null,e.boundingBox!==null&&(s.boundingBox=e.boundingBox.clone()),s.boundingSphere=null,e.boundingSphere!==null&&(s.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const n=this._instanceInfo;for(let r=0,a=n.length;r<a;r++)n[r].active&&n[r].geometryIndex===t&&this.deleteInstance(r);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const n=this._geometryInfo,r=n.map((o,s)=>s).sort((o,s)=>n[o].vertexStart-n[s].vertexStart),a=this.geometry;for(let o=0,s=n.length;o<s;o++){const l=r[o],u=n[l];if(u.active!==!1){if(a.index!==null){if(u.indexStart!==e){const{indexStart:c,vertexStart:f,reservedIndexCount:h}=u,p=a.index,g=p.array,m=t-f;for(let _=c;_<c+h;_++)g[_]=g[_]+m;p.array.copyWithin(e,c,c+h),p.addUpdateRange(e,h),u.indexStart=e}e+=u.reservedIndexCount}if(u.vertexStart!==t){const{vertexStart:c,reservedVertexCount:f}=u,h=a.attributes;for(const p in h){const g=h[p],{array:m,itemSize:_}=g;m.copyWithin(t*_,c*_,(c+f)*_),g.addUpdateRange(t*_,f*_)}u.vertexStart=t}t+=u.reservedVertexCount,u.start=a.index?u.indexStart:u.vertexStart,this._nextIndexStart=a.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[t];if(r.boundingBox===null){const a=new Wa,o=n.index,s=n.attributes.position;for(let l=r.start,u=r.start+r.count;l<u;l++){let c=l;o&&(c=o.getX(c)),a.expandByPoint(Ex.fromBufferAttribute(s,c))}r.boundingBox=a}return e.copy(r.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[t];if(r.boundingSphere===null){const a=new La;this.getBoundingBoxAt(t,oA),oA.getCenter(a.center);const o=n.index,s=n.attributes.position;let l=0;for(let u=r.start,c=r.start+r.count;u<c;u++){let f=u;o&&(f=o.getX(f)),Ex.fromBufferAttribute(s,f),l=Math.max(l,a.center.distanceToSquared(Ex))}a.radius=Math.sqrt(l),r.boundingSphere=a}return e.copy(r.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const n=this._matricesTexture,r=this._matricesTexture.image.data;return e.toArray(r,t*16),n.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const n=this._geometryInfo[t];return e.vertexStart=n.vertexStart,e.vertexCount=n.vertexCount,e.reservedVertexCount=n.reservedVertexCount,e.indexStart=n.indexStart,e.indexCount=n.indexCount,e.reservedIndexCount=n.reservedIndexCount,e.start=n.start,e.count=n.count,e}setInstanceCount(t){const e=this._availableInstanceIds,n=this._instanceInfo;for(e.sort($R);e[e.length-1]===n.length-1;)n.pop(),e.pop();if(t<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const r=new Int32Array(t),a=new Int32Array(t);mv(this._multiDrawCounts,r),mv(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=t;const o=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),mv(o.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),mv(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),mv(l.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const n=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...n.map(s=>s.vertexStart+s.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(l=>l.indexStart+l.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Ln,this._initializeGeometry(a));const o=this.geometry;a.index&&mv(a.index.array,o.index.array);for(const s in a.attributes)mv(a.attributes[s].array,o.attributes[s].array)}raycast(t,e){const n=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,o=this.geometry;po.material=this.material,po.geometry.index=o.index,po.geometry.attributes=o.attributes,po.geometry.boundingBox===null&&(po.geometry.boundingBox=new Wa),po.geometry.boundingSphere===null&&(po.geometry.boundingSphere=new La);for(let s=0,l=n.length;s<l;s++){if(!n[s].visible||!n[s].active)continue;const u=n[s].geometryIndex,c=r[u];po.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(s,po.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,po.geometry.boundingBox),this.getBoundingSphereAt(u,po.geometry.boundingSphere),po.raycast(t,sA);for(let f=0,h=sA.length;f<h;f++){const p=sA[f];p.object=this,p.batchId=s,e.push(p)}sA.length=0}po.material=null,po.geometry.index=null,po.geometry.attributes={},po.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._availableInstanceIds=t._availableInstanceIds.slice(),this._availableGeometryIds=t._availableGeometryIds.slice(),this._nextIndexStart=t._nextIndexStart,this._nextVertexStart=t._nextVertexStart,this._geometryCount=t._geometryCount,this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._indirectTexture=t._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,n,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),s=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,c=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,p=this._indirectTexture,g=p.image.data,m=n.isArrayCamera?Ont:r4;h&&!n.isArrayCamera&&(us.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),r4.setFromProjectionMatrix(us,n.coordinateSystem,n.reversedDepth));let _=0;if(this.sortObjects){us.copy(this.matrixWorld).invert(),Ex.setFromMatrixPosition(n.matrixWorld).applyMatrix4(us),a4.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(us);for(let M=0,w=l.length;M<w;M++)if(l[M].visible&&l[M].active){const D=l[M].geometryIndex;this.getMatrixAt(M,us),this.getBoundingSphereAt(D,gv).applyMatrix4(us);let C=!1;if(h&&(C=!m.intersectsSphere(gv,n)),!C){const R=f[D],z=Pnt.subVectors(gv.center,Ex).dot(a4);tL.push(R.start,R.count,z,M)}}const S=tL.list,T=this.customSort;T===null?S.sort(a.transparent?Lnt:Rnt):T.call(this,S,n);for(let M=0,w=S.length;M<w;M++){const D=S[M];u[_]=D.start*s,c[_]=D.count,g[_]=D.index,_++}tL.reset()}else for(let S=0,T=l.length;S<T;S++)if(l[S].visible&&l[S].active){const M=l[S].geometryIndex;let w=!1;if(h&&(this.getMatrixAt(S,us),this.getBoundingSphereAt(M,gv).applyMatrix4(us),w=!m.intersectsSphere(gv,n)),!w){const D=f[M];u[_]=D.start*s,c[_]=D.count,g[_]=S,_++}}p.needsUpdate=!0,this._multiDrawCount=_,this._visibilityChanged=!1}onBeforeShadow(t,e,n,r,a,o){this.onBeforeRender(t,null,r,a,o)}}class bo extends sa{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Me(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const eC=new it,nC=new it,o4=new un,Cx=new $g,lA=new La,eL=new it,s4=new it;let mh=class extends oi{constructor(t=new Ln,e=new bo){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,n=[0];for(let r=1,a=e.count;r<a;r++)eC.fromBufferAttribute(e,r-1),nC.fromBufferAttribute(e,r),n[r]=n[r-1],n[r]+=eC.distanceTo(nC);t.setAttribute("lineDistance",new Ge(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,a=t.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),lA.copy(n.boundingSphere),lA.applyMatrix4(r),lA.radius+=a,t.ray.intersectsSphere(lA)===!1)return;o4.copy(r).invert(),Cx.copy(t.ray).applyMatrix4(o4);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=this.isLineSegments?2:1,c=n.index,h=n.attributes.position;if(c!==null){const p=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let m=p,_=g-1;m<_;m+=u){const S=c.getX(m),T=c.getX(m+1),M=uA(this,t,Cx,l,S,T,m);M&&e.push(M)}if(this.isLineLoop){const m=c.getX(g-1),_=c.getX(p),S=uA(this,t,Cx,l,m,_,g-1);S&&e.push(S)}}else{const p=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let m=p,_=g-1;m<_;m+=u){const S=uA(this,t,Cx,l,m,m+1,m);S&&e.push(S)}if(this.isLineLoop){const m=uA(this,t,Cx,l,g-1,p,g-1);m&&e.push(m)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}};function uA(i,t,e,n,r,a,o){const s=i.geometry.attributes.position;if(eC.fromBufferAttribute(s,r),nC.fromBufferAttribute(s,a),e.distanceSqToSegment(eC,nC,eL,s4)>n)return;eL.applyMatrix4(i.matrixWorld);const u=t.ray.origin.distanceTo(eL);if(!(u<t.near||u>t.far))return{distance:u,point:s4.clone().applyMatrix4(i.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:i}}const l4=new it,u4=new it;class Pu extends mh{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,n=[];for(let r=0,a=e.count;r<a;r+=2)l4.fromBufferAttribute(e,r),u4.fromBufferAttribute(e,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+l4.distanceTo(u4);t.setAttribute("lineDistance",new Ge(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class cz extends mh{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class U2 extends sa{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Me(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const c4=new un,vO=new $g,cA=new La,fA=new it;class fz extends oi{constructor(t=new Ln,e=new U2){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,a=t.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),cA.copy(n.boundingSphere),cA.applyMatrix4(r),cA.radius+=a,t.ray.intersectsSphere(cA)===!1)return;c4.copy(r).invert(),vO.copy(t.ray).applyMatrix4(c4);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=n.index,f=n.attributes.position;if(u!==null){const h=Math.max(0,o.start),p=Math.min(u.count,o.start+o.count);for(let g=h,m=p;g<m;g++){const _=u.getX(g);fA.fromBufferAttribute(f,_),f4(fA,_,l,r,t,e,this)}}else{const h=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let g=h,m=p;g<m;g++)fA.fromBufferAttribute(f,g),f4(fA,g,l,r,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function f4(i,t,e,n,r,a,o){const s=vO.distanceSqToPoint(i);if(s<e){const l=new it;vO.closestPointToPoint(i,l),l.applyMatrix4(n);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class cW extends tr{constructor(t,e,n,r,a=xr,o=xr,s,l,u){super(t,e,n,r,a,o,s,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const c=this;function f(){c.needsUpdate=!0,c._requestVideoFrameCallbackId=t.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in t&&(this._requestVideoFrameCallbackId=t.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class Bnt extends cW{constructor(t,e,n,r,a,o,s,l){super({},t,e,n,r,a,o,s,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class Unt extends tr{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=oa,this.minFilter=oa,this.generateMipmaps=!1,this.needsUpdate=!0}}class V2 extends tr{constructor(t,e,n,r,a,o,s,l,u,c,f,h){super(null,o,s,l,u,c,r,a,f,h),this.isCompressedTexture=!0,this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class Vnt extends V2{constructor(t,e,n,r,a,o){super(t,e,n,a,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Us,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class Hnt extends V2{constructor(t,e,n){super(void 0,t[0].width,t[0].height,e,n,vh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class knt extends tr{constructor(t,e,n,r,a,o,s,l,u){super(t,e,n,r,a,o,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class hz extends tr{constructor(t,e,n=gh,r,a,o,s=oa,l=oa,u,c=k0,f=1){if(c!==k0&&c!==F0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:t,height:e,depth:f};super(h,r,a,o,s,l,c,n,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new Hd(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class dz extends tr{constructor(t=null){super(),this.sourceTexture=t,this.isExternalTexture=!0}copy(t){return super.copy(t),this.sourceTexture=t.sourceTexture,this}}class H2 extends Ln{constructor(t=1,e=1,n=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:n,radialSegments:r,heightSegments:a},e=Math.max(0,e),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const o=[],s=[],l=[],u=[],c=e/2,f=Math.PI/2*t,h=e,p=2*f+h,g=n*2+a,m=r+1,_=new it,S=new it;for(let T=0;T<=g;T++){let M=0,w=0,D=0,C=0;if(T<=n){const N=T/n,O=N*Math.PI/2;w=-c-t*Math.cos(O),D=t*Math.sin(O),C=-t*Math.cos(O),M=N*f}else if(T<=n+a){const N=(T-n)/a;w=-c+N*e,D=t,C=0,M=f+N*h}else{const N=(T-n-a)/n,O=N*Math.PI/2;w=c+t*Math.sin(O),D=t*Math.cos(O),C=t*Math.sin(O),M=f+h+N*f}const R=Math.max(0,Math.min(1,M/p));let z=0;T===0?z=.5/r:T===g&&(z=-.5/r);for(let N=0;N<=r;N++){const O=N/r,U=O*Math.PI*2,F=Math.sin(U),V=Math.cos(U);S.x=-D*V,S.y=w,S.z=D*F,s.push(S.x,S.y,S.z),_.set(-D*V,C,D*F),_.normalize(),l.push(_.x,_.y,_.z),u.push(O+z,R)}if(T>0){const N=(T-1)*m;for(let O=0;O<r;O++){const U=N+O,F=N+O+1,V=T*m+O,W=T*m+O+1;o.push(U,F,V),o.push(F,W,V)}}}this.setIndex(o),this.setAttribute("position",new Ge(s,3)),this.setAttribute("normal",new Ge(l,3)),this.setAttribute("uv",new Ge(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new H2(t.radius,t.height,t.capSegments,t.radialSegments,t.heightSegments)}}class k2 extends Ln{constructor(t=1,e=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},e=Math.max(3,e);const a=[],o=[],s=[],l=[],u=new it,c=new Zt;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=e;f++,h+=3){const p=n+f/e*r;u.x=t*Math.cos(p),u.y=t*Math.sin(p),o.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(o[h]/t+1)/2,c.y=(o[h+1]/t+1)/2,l.push(c.x,c.y)}for(let f=1;f<=e;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new Ge(o,3)),this.setAttribute("normal",new Ge(s,3)),this.setAttribute("uv",new Ge(l,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new k2(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class Wb extends Ln{constructor(t=1,e=1,n=1,r=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const u=this;r=Math.floor(r),a=Math.floor(a);const c=[],f=[],h=[],p=[];let g=0;const m=[],_=n/2;let S=0;T(),o===!1&&(t>0&&M(!0),e>0&&M(!1)),this.setIndex(c),this.setAttribute("position",new Ge(f,3)),this.setAttribute("normal",new Ge(h,3)),this.setAttribute("uv",new Ge(p,2));function T(){const w=new it,D=new it;let C=0;const R=(e-t)/n;for(let z=0;z<=a;z++){const N=[],O=z/a,U=O*(e-t)+t;for(let F=0;F<=r;F++){const V=F/r,W=V*l+s,Z=Math.sin(W),H=Math.cos(W);D.x=U*Z,D.y=-O*n+_,D.z=U*H,f.push(D.x,D.y,D.z),w.set(Z,R,H).normalize(),h.push(w.x,w.y,w.z),p.push(V,1-O),N.push(g++)}m.push(N)}for(let z=0;z<r;z++)for(let N=0;N<a;N++){const O=m[N][z],U=m[N+1][z],F=m[N+1][z+1],V=m[N][z+1];(t>0||N!==0)&&(c.push(O,U,V),C+=3),(e>0||N!==a-1)&&(c.push(U,F,V),C+=3)}u.addGroup(S,C,0),S+=C}function M(w){const D=g,C=new Zt,R=new it;let z=0;const N=w===!0?t:e,O=w===!0?1:-1;for(let F=1;F<=r;F++)f.push(0,_*O,0),h.push(0,O,0),p.push(.5,.5),g++;const U=g;for(let F=0;F<=r;F++){const W=F/r*l+s,Z=Math.cos(W),H=Math.sin(W);R.x=N*H,R.y=_*O,R.z=N*Z,f.push(R.x,R.y,R.z),h.push(0,O,0),C.x=Z*.5+.5,C.y=H*.5*O+.5,p.push(C.x,C.y),g++}for(let F=0;F<r;F++){const V=D+F,W=U+F;w===!0?c.push(W,W+1,V):c.push(W+1,W,V),z+=3}u.addGroup(S,z,w===!0?1:2),S+=z}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Wb(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Yb extends Wb{constructor(t=1,e=1,n=32,r=1,a=!1,o=0,s=Math.PI*2){super(0,t,e,n,r,a,o,s),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(t){return new Yb(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class dp extends Ln{constructor(t=[],e=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r};const a=[],o=[];s(r),u(n),c(),this.setAttribute("position",new Ge(a,3)),this.setAttribute("normal",new Ge(a.slice(),3)),this.setAttribute("uv",new Ge(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function s(T){const M=new it,w=new it,D=new it;for(let C=0;C<e.length;C+=3)p(e[C+0],M),p(e[C+1],w),p(e[C+2],D),l(M,w,D,T)}function l(T,M,w,D){const C=D+1,R=[];for(let z=0;z<=C;z++){R[z]=[];const N=T.clone().lerp(w,z/C),O=M.clone().lerp(w,z/C),U=C-z;for(let F=0;F<=U;F++)F===0&&z===C?R[z][F]=N:R[z][F]=N.clone().lerp(O,F/U)}for(let z=0;z<C;z++)for(let N=0;N<2*(C-z)-1;N++){const O=Math.floor(N/2);N%2===0?(h(R[z][O+1]),h(R[z+1][O]),h(R[z][O])):(h(R[z][O+1]),h(R[z+1][O+1]),h(R[z+1][O]))}}function u(T){const M=new it;for(let w=0;w<a.length;w+=3)M.x=a[w+0],M.y=a[w+1],M.z=a[w+2],M.normalize().multiplyScalar(T),a[w+0]=M.x,a[w+1]=M.y,a[w+2]=M.z}function c(){const T=new it;for(let M=0;M<a.length;M+=3){T.x=a[M+0],T.y=a[M+1],T.z=a[M+2];const w=_(T)/2/Math.PI+.5,D=S(T)/Math.PI+.5;o.push(w,1-D)}g(),f()}function f(){for(let T=0;T<o.length;T+=6){const M=o[T+0],w=o[T+2],D=o[T+4],C=Math.max(M,w,D),R=Math.min(M,w,D);C>.9&&R<.1&&(M<.2&&(o[T+0]+=1),w<.2&&(o[T+2]+=1),D<.2&&(o[T+4]+=1))}}function h(T){a.push(T.x,T.y,T.z)}function p(T,M){const w=T*3;M.x=t[w+0],M.y=t[w+1],M.z=t[w+2]}function g(){const T=new it,M=new it,w=new it,D=new it,C=new Zt,R=new Zt,z=new Zt;for(let N=0,O=0;N<a.length;N+=9,O+=6){T.set(a[N+0],a[N+1],a[N+2]),M.set(a[N+3],a[N+4],a[N+5]),w.set(a[N+6],a[N+7],a[N+8]),C.set(o[O+0],o[O+1]),R.set(o[O+2],o[O+3]),z.set(o[O+4],o[O+5]),D.copy(T).add(M).add(w).divideScalar(3);const U=_(D);m(C,O+0,T,U),m(R,O+2,M,U),m(z,O+4,w,U)}}function m(T,M,w,D){D<0&&T.x===1&&(o[M]=T.x-1),w.x===0&&w.z===0&&(o[M]=D/2/Math.PI+.5)}function _(T){return Math.atan2(T.z,-T.x)}function S(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new dp(t.vertices,t.indices,t.radius,t.details)}}class F2 extends dp{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,r=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new F2(t.radius,t.detail)}}const hA=new it,dA=new it,nL=new it,pA=new Ud;class fW extends Ln{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const r=Math.pow(10,4),a=Math.cos(wg*e),o=t.getIndex(),s=t.getAttribute("position"),l=o?o.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},p=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:m,b:_,c:S}=pA;if(m.fromBufferAttribute(s,u[0]),_.fromBufferAttribute(s,u[1]),S.fromBufferAttribute(s,u[2]),pA.getNormal(nL),f[0]=`${Math.round(m.x*r)},${Math.round(m.y*r)},${Math.round(m.z*r)}`,f[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,f[2]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let T=0;T<3;T++){const M=(T+1)%3,w=f[T],D=f[M],C=pA[c[T]],R=pA[c[M]],z=`${w}_${D}`,N=`${D}_${w}`;N in h&&h[N]?(nL.dot(h[N].normal)<=a&&(p.push(C.x,C.y,C.z),p.push(R.x,R.y,R.z)),h[N]=null):z in h||(h[z]={index0:u[T],index1:u[M],normal:nL.clone()})}}for(const g in h)if(h[g]){const{index0:m,index1:_}=h[g];hA.fromBufferAttribute(s,m),dA.fromBufferAttribute(s,_),p.push(hA.x,hA.y,hA.z),p.push(dA.x,dA.y,dA.z)}this.setAttribute("position",new Ge(p,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class zu{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,r=this.getPoint(0),a=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),a+=n.distanceTo(r),e.push(a),r=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const n=this.getLengths();let r=0;const a=n.length;let o;e?o=e:o=t*n[a-1];let s=0,l=a-1,u;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),u=n[r]-o,u<0)s=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,n[r]===o)return r/(a-1);const c=n[r],h=n[r+1]-c,p=(o-c)/h;return(r+p)/(a-1)}getTangent(t,e){let r=t-1e-4,a=t+1e-4;r<0&&(r=0),a>1&&(a=1);const o=this.getPoint(r),s=this.getPoint(a),l=e||(o.isVector2?new Zt:new it);return l.copy(s).sub(o).normalize(),l}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e=!1){const n=new it,r=[],a=[],o=[],s=new it,l=new un;for(let p=0;p<=t;p++){const g=p/t;r[p]=this.getTangentAt(g,new it)}a[0]=new it,o[0]=new it;let u=Number.MAX_VALUE;const c=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=u&&(u=c,n.set(1,0,0)),f<=u&&(u=f,n.set(0,1,0)),h<=u&&n.set(0,0,1),s.crossVectors(r[0],n).normalize(),a[0].crossVectors(r[0],s),o[0].crossVectors(r[0],a[0]);for(let p=1;p<=t;p++){if(a[p]=a[p-1].clone(),o[p]=o[p-1].clone(),s.crossVectors(r[p-1],r[p]),s.length()>Number.EPSILON){s.normalize();const g=Math.acos(mn(r[p-1].dot(r[p]),-1,1));a[p].applyMatrix4(l.makeRotationAxis(s,g))}o[p].crossVectors(r[p],a[p])}if(e===!0){let p=Math.acos(mn(a[0].dot(a[t]),-1,1));p/=t,r[0].dot(s.crossVectors(a[0],a[t]))>0&&(p=-p);for(let g=1;g<=t;g++)a[g].applyMatrix4(l.makeRotationAxis(r[g],p*g)),o[g].crossVectors(r[g],a[g])}return{tangents:r,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class G2 extends zu{constructor(t=0,e=0,n=1,r=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(t,e=new Zt){const n=e,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(o?a=0:a=r),this.aClockwise===!0&&!o&&(a===r?a=-r:a=a-r);const s=this.aStartAngle+t*a;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,p=u-this.aY;l=h*c-p*f+this.aX,u=h*f+p*c+this.aY}return n.set(l,u)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class hW extends G2{constructor(t,e,n,r,a,o){super(t,e,n,n,r,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function pz(){let i=0,t=0,e=0,n=0;function r(a,o,s,l){i=a,t=s,e=-3*a+3*o-2*s-l,n=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,u){r(o,s,u*(s-a),u*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,u,c,f){let h=(o-a)/u-(s-a)/(u+c)+(s-o)/c,p=(s-o)/c-(l-o)/(c+f)+(l-s)/f;h*=c,p*=c,r(o,s,h,p)},calc:function(a){const o=a*a,s=o*a;return i+t*a+e*o+n*s}}}const vA=new it,iL=new pz,rL=new pz,aL=new pz;class dW extends zu{constructor(t=[],e=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=r}getPoint(t,e=new it){const n=e,r=this.points,a=r.length,o=(a-(this.closed?0:1))*t;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let u,c;this.closed||s>0?u=r[(s-1)%a]:(vA.subVectors(r[0],r[1]).add(r[0]),u=vA);const f=r[s%a],h=r[(s+1)%a];if(this.closed||s+2<a?c=r[(s+2)%a]:(vA.subVectors(r[a-1],r[a-2]).add(r[a-1]),c=vA),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),p),m=Math.pow(f.distanceToSquared(h),p),_=Math.pow(h.distanceToSquared(c),p);m<1e-4&&(m=1),g<1e-4&&(g=m),_<1e-4&&(_=m),iL.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,g,m,_),rL.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,g,m,_),aL.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,g,m,_)}else this.curveType==="catmullrom"&&(iL.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),rL.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),aL.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return n.set(iL.calc(l),rL.calc(l),aL.calc(l)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const r=t.points[e];this.points.push(new it().fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function h4(i,t,e,n,r){const a=(n-t)*.5,o=(r-e)*.5,s=i*i,l=i*s;return(2*e-2*n+a+o)*l+(-3*e+3*n-2*a-o)*s+a*i+e}function Fnt(i,t){const e=1-i;return e*e*t}function Gnt(i,t){return 2*(1-i)*i*t}function Xnt(i,t){return i*i*t}function I1(i,t,e,n){return Fnt(i,t)+Gnt(i,e)+Xnt(i,n)}function Wnt(i,t){const e=1-i;return e*e*e*t}function Ynt(i,t){const e=1-i;return 3*e*e*i*t}function qnt(i,t){return 3*(1-i)*i*i*t}function Znt(i,t){return i*i*i*t}function N1(i,t,e,n,r){return Wnt(i,t)+Ynt(i,e)+qnt(i,n)+Znt(i,r)}class vz extends zu{constructor(t=new Zt,e=new Zt,n=new Zt,r=new Zt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t,e=new Zt){const n=e,r=this.v0,a=this.v1,o=this.v2,s=this.v3;return n.set(N1(t,r.x,a.x,o.x,s.x),N1(t,r.y,a.y,o.y,s.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class pW extends zu{constructor(t=new it,e=new it,n=new it,r=new it){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t,e=new it){const n=e,r=this.v0,a=this.v1,o=this.v2,s=this.v3;return n.set(N1(t,r.x,a.x,o.x,s.x),N1(t,r.y,a.y,o.y,s.y),N1(t,r.z,a.z,o.z,s.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class gz extends zu{constructor(t=new Zt,e=new Zt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Zt){const n=e;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Zt){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class vW extends zu{constructor(t=new it,e=new it){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new it){const n=e;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new it){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class mz extends zu{constructor(t=new Zt,e=new Zt,n=new Zt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new Zt){const n=e,r=this.v0,a=this.v1,o=this.v2;return n.set(I1(t,r.x,a.x,o.x),I1(t,r.y,a.y,o.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class yz extends zu{constructor(t=new it,e=new it,n=new it){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new it){const n=e,r=this.v0,a=this.v1,o=this.v2;return n.set(I1(t,r.x,a.x,o.x),I1(t,r.y,a.y,o.y),I1(t,r.z,a.z,o.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class _z extends zu{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Zt){const n=e,r=this.points,a=(r.length-1)*t,o=Math.floor(a),s=a-o,l=r[o===0?o:o-1],u=r[o],c=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return n.set(h4(s,l.x,u.x,c.x,f.x),h4(s,l.y,u.y,c.y,f.y)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const r=t.points[e];this.points.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const r=this.points[e];t.points.push(r.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const r=t.points[e];this.points.push(new Zt().fromArray(r))}return this}}var iC=Object.freeze({__proto__:null,ArcCurve:hW,CatmullRomCurve3:dW,CubicBezierCurve:vz,CubicBezierCurve3:pW,EllipseCurve:G2,LineCurve:gz,LineCurve3:vW,QuadraticBezierCurve:mz,QuadraticBezierCurve3:yz,SplineCurve:_z});class gW extends zu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const n=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new iC[n](e,t))}return this}getPoint(t,e){const n=t*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=n){const o=r[a]-n,s=this.curves[a],l=s.getLength(),u=l===0?0:1-o/l;return s.getPointAt(u,e)}a++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let r=0,a=this.curves;r<a.length;r++){const o=a[r],s=o.isEllipseCurve?t*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,l=o.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];n&&n.equals(c)||(e.push(c),n=c)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const r=this.curves[e];t.curves.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const r=t.curves[e];this.curves.push(new iC[r.type]().fromJSON(r))}return this}}let rC=class extends gW{constructor(t){super(),this.type="Path",this.currentPoint=new Zt,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new gz(this.currentPoint.clone(),new Zt(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,r){const a=new mz(this.currentPoint.clone(),new Zt(t,e),new Zt(n,r));return this.curves.push(a),this.currentPoint.set(n,r),this}bezierCurveTo(t,e,n,r,a,o){const s=new vz(this.currentPoint.clone(),new Zt(t,e),new Zt(n,r),new Zt(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new _z(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,r,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(t+s,e+l,n,r,a,o),this}absarc(t,e,n,r,a,o){return this.absellipse(t,e,n,n,r,a,o),this}ellipse(t,e,n,r,a,o,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(t+u,e+c,n,r,a,o,s,l),this}absellipse(t,e,n,r,a,o,s,l){const u=new G2(t,e,n,r,a,o,s,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}};class Eg extends rC{constructor(t){super(t),this.uuid=Ws(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const r=t.holes[e];this.holes.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const r=this.holes[e];t.holes.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const r=t.holes[e];this.holes.push(new rC().fromJSON(r))}return this}}function jnt(i,t,e=2){const n=t&&t.length,r=n?t[0]*e:i.length;let a=mW(i,0,r,e,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u;if(n&&(a=tit(i,t,a,e)),i.length>80*e){s=1/0,l=1/0;let c=-1/0,f=-1/0;for(let h=e;h<r;h+=e){const p=i[h],g=i[h+1];p<s&&(s=p),g<l&&(l=g),p>c&&(c=p),g>f&&(f=g)}u=Math.max(c-s,f-l),u=u!==0?32767/u:0}return ib(a,o,e,s,l,u,0),o}function mW(i,t,e,n,r){let a;if(r===fit(i,t,e,n)>0)for(let o=t;o<e;o+=n)a=d4(o/n|0,i[o],i[o+1],a);else for(let o=e-n;o>=t;o-=n)a=d4(o/n|0,i[o],i[o+1],a);return a&&j0(a,a.next)&&(ab(a),a=a.next),a}function Bg(i,t){if(!i)return i;t||(t=i);let e=i,n;do if(n=!1,!e.steiner&&(j0(e,e.next)||lr(e.prev,e,e.next)===0)){if(ab(e),e=t=e.prev,e===e.next)break;n=!0}else e=e.next;while(n||e!==t);return t}function ib(i,t,e,n,r,a,o){if(!i)return;!o&&a&&ait(i,n,r,a);let s=i;for(;i.prev!==i.next;){const l=i.prev,u=i.next;if(a?Qnt(i,n,r,a):Knt(i)){t.push(l.i,i.i,u.i),ab(i),i=u.next,s=u.next;continue}if(i=u,i===s){o?o===1?(i=Jnt(Bg(i),t),ib(i,t,e,n,r,a,2)):o===2&&$nt(i,t,e,n,r,a):ib(Bg(i),t,e,n,r,a,1);break}}}function Knt(i){const t=i.prev,e=i,n=i.next;if(lr(t,e,n)>=0)return!1;const r=t.x,a=e.x,o=n.x,s=t.y,l=e.y,u=n.y,c=Math.min(r,a,o),f=Math.min(s,l,u),h=Math.max(r,a,o),p=Math.max(s,l,u);let g=n.next;for(;g!==t;){if(g.x>=c&&g.x<=h&&g.y>=f&&g.y<=p&&f1(r,s,a,l,o,u,g.x,g.y)&&lr(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Qnt(i,t,e,n){const r=i.prev,a=i,o=i.next;if(lr(r,a,o)>=0)return!1;const s=r.x,l=a.x,u=o.x,c=r.y,f=a.y,h=o.y,p=Math.min(s,l,u),g=Math.min(c,f,h),m=Math.max(s,l,u),_=Math.max(c,f,h),S=gO(p,g,t,e,n),T=gO(m,_,t,e,n);let M=i.prevZ,w=i.nextZ;for(;M&&M.z>=S&&w&&w.z<=T;){if(M.x>=p&&M.x<=m&&M.y>=g&&M.y<=_&&M!==r&&M!==o&&f1(s,c,l,f,u,h,M.x,M.y)&&lr(M.prev,M,M.next)>=0||(M=M.prevZ,w.x>=p&&w.x<=m&&w.y>=g&&w.y<=_&&w!==r&&w!==o&&f1(s,c,l,f,u,h,w.x,w.y)&&lr(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;M&&M.z>=S;){if(M.x>=p&&M.x<=m&&M.y>=g&&M.y<=_&&M!==r&&M!==o&&f1(s,c,l,f,u,h,M.x,M.y)&&lr(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;w&&w.z<=T;){if(w.x>=p&&w.x<=m&&w.y>=g&&w.y<=_&&w!==r&&w!==o&&f1(s,c,l,f,u,h,w.x,w.y)&&lr(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function Jnt(i,t){let e=i;do{const n=e.prev,r=e.next.next;!j0(n,r)&&_W(n,e,e.next,r)&&rb(n,r)&&rb(r,n)&&(t.push(n.i,e.i,r.i),ab(e),ab(e.next),e=i=r),e=e.next}while(e!==i);return Bg(e)}function $nt(i,t,e,n,r,a){let o=i;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&lit(o,s)){let l=SW(o,s);o=Bg(o,o.next),l=Bg(l,l.next),ib(o,t,e,n,r,a,0),ib(l,t,e,n,r,a,0);return}s=s.next}o=o.next}while(o!==i)}function tit(i,t,e,n){const r=[];for(let a=0,o=t.length;a<o;a++){const s=t[a]*n,l=a<o-1?t[a+1]*n:i.length,u=mW(i,s,l,n,!1);u===u.next&&(u.steiner=!0),r.push(sit(u))}r.sort(eit);for(let a=0;a<r.length;a++)e=nit(r[a],e);return e}function eit(i,t){let e=i.x-t.x;if(e===0&&(e=i.y-t.y,e===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),r=(t.next.y-t.y)/(t.next.x-t.x);e=n-r}return e}function nit(i,t){const e=iit(i,t);if(!e)return t;const n=SW(e,i);return Bg(n,n.next),Bg(e,e.next)}function iit(i,t){let e=t;const n=i.x,r=i.y;let a=-1/0,o;if(j0(i,e))return e;do{if(j0(i,e.next))return e.next;if(r<=e.y&&r>=e.next.y&&e.next.y!==e.y){const f=e.x+(r-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(f<=n&&f>a&&(a=f,o=e.x<e.next.x?e:e.next,f===n))return o}e=e.next}while(e!==t);if(!o)return null;const s=o,l=o.x,u=o.y;let c=1/0;e=o;do{if(n>=e.x&&e.x>=l&&n!==e.x&&yW(r<u?n:a,r,l,u,r<u?a:n,r,e.x,e.y)){const f=Math.abs(r-e.y)/(n-e.x);rb(e,i)&&(f<c||f===c&&(e.x>o.x||e.x===o.x&&rit(o,e)))&&(o=e,c=f)}e=e.next}while(e!==s);return o}function rit(i,t){return lr(i.prev,i,t.prev)<0&&lr(t.next,i,i.next)<0}function ait(i,t,e,n){let r=i;do r.z===0&&(r.z=gO(r.x,r.y,t,e,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,oit(r)}function oit(i){let t,e=1;do{let n=i,r;i=null;let a=null;for(t=0;n;){t++;let o=n,s=0;for(let u=0;u<e&&(s++,o=o.nextZ,!!o);u++);let l=e;for(;s>0||l>0&&o;)s!==0&&(l===0||!o||n.z<=o.z)?(r=n,n=n.nextZ,s--):(r=o,o=o.nextZ,l--),a?a.nextZ=r:i=r,r.prevZ=a,a=r;n=o}a.nextZ=null,e*=2}while(t>1);return i}function gO(i,t,e,n,r){return i=(i-e)*r|0,t=(t-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,i|t<<1}function sit(i){let t=i,e=i;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==i);return e}function yW(i,t,e,n,r,a,o,s){return(r-o)*(t-s)>=(i-o)*(a-s)&&(i-o)*(n-s)>=(e-o)*(t-s)&&(e-o)*(a-s)>=(r-o)*(n-s)}function f1(i,t,e,n,r,a,o,s){return!(i===o&&t===s)&&yW(i,t,e,n,r,a,o,s)}function lit(i,t){return i.next.i!==t.i&&i.prev.i!==t.i&&!uit(i,t)&&(rb(i,t)&&rb(t,i)&&cit(i,t)&&(lr(i.prev,i,t.prev)||lr(i,t.prev,t))||j0(i,t)&&lr(i.prev,i,i.next)>0&&lr(t.prev,t,t.next)>0)}function lr(i,t,e){return(t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y)}function j0(i,t){return i.x===t.x&&i.y===t.y}function _W(i,t,e,n){const r=mA(lr(i,t,e)),a=mA(lr(i,t,n)),o=mA(lr(e,n,i)),s=mA(lr(e,n,t));return!!(r!==a&&o!==s||r===0&&gA(i,e,t)||a===0&&gA(i,n,t)||o===0&&gA(e,i,n)||s===0&&gA(e,t,n))}function gA(i,t,e){return t.x<=Math.max(i.x,e.x)&&t.x>=Math.min(i.x,e.x)&&t.y<=Math.max(i.y,e.y)&&t.y>=Math.min(i.y,e.y)}function mA(i){return i>0?1:i<0?-1:0}function uit(i,t){let e=i;do{if(e.i!==i.i&&e.next.i!==i.i&&e.i!==t.i&&e.next.i!==t.i&&_W(e,e.next,i,t))return!0;e=e.next}while(e!==i);return!1}function rb(i,t){return lr(i.prev,i,i.next)<0?lr(i,t,i.next)>=0&&lr(i,i.prev,t)>=0:lr(i,t,i.prev)<0||lr(i,i.next,t)<0}function cit(i,t){let e=i,n=!1;const r=(i.x+t.x)/2,a=(i.y+t.y)/2;do e.y>a!=e.next.y>a&&e.next.y!==e.y&&r<(e.next.x-e.x)*(a-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next;while(e!==i);return n}function SW(i,t){const e=mO(i.i,i.x,i.y),n=mO(t.i,t.x,t.y),r=i.next,a=t.prev;return i.next=t,t.prev=i,e.next=r,r.prev=e,n.next=e,e.prev=n,a.next=n,n.prev=a,n}function d4(i,t,e,n){const r=mO(i,t,e);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function ab(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function mO(i,t,e){return{i,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function fit(i,t,e,n){let r=0;for(let a=t,o=e-n;a<e;a+=n)r+=(i[o]-i[a])*(i[a+1]+i[o+1]),o=a;return r}class hit{static triangulate(t,e,n=2){return jnt(t,e,n)}}class Tu{static area(t){const e=t.length;let n=0;for(let r=e-1,a=0;a<e;r=a++)n+=t[r].x*t[a].y-t[a].x*t[r].y;return n*.5}static isClockWise(t){return Tu.area(t)<0}static triangulateShape(t,e){const n=[],r=[],a=[];p4(t),v4(n,t);let o=t.length;e.forEach(p4);for(let l=0;l<e.length;l++)r.push(o),o+=e[l].length,v4(n,e[l]);const s=hit.triangulate(n,r);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function p4(i){const t=i.length;t>2&&i[t-1].equals(i[0])&&i.pop()}function v4(i,t){for(let e=0;e<t.length;e++)i.push(t[e].x),i.push(t[e].y)}class X2 extends Ln{constructor(t=new Eg([new Zt(.5,.5),new Zt(-.5,.5),new Zt(-.5,-.5),new Zt(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,r=[],a=[];for(let s=0,l=t.length;s<l;s++){const u=t[s];o(u)}this.setAttribute("position",new Ge(r,3)),this.setAttribute("uv",new Ge(a,2)),this.computeVertexNormals();function o(s){const l=[],u=e.curveSegments!==void 0?e.curveSegments:12,c=e.steps!==void 0?e.steps:1,f=e.depth!==void 0?e.depth:1;let h=e.bevelEnabled!==void 0?e.bevelEnabled:!0,p=e.bevelThickness!==void 0?e.bevelThickness:.2,g=e.bevelSize!==void 0?e.bevelSize:p-.1,m=e.bevelOffset!==void 0?e.bevelOffset:0,_=e.bevelSegments!==void 0?e.bevelSegments:3;const S=e.extrudePath,T=e.UVGenerator!==void 0?e.UVGenerator:dit;let M,w=!1,D,C,R,z;S&&(M=S.getSpacedPoints(c),w=!0,h=!1,D=S.computeFrenetFrames(c,!1),C=new it,R=new it,z=new it),h||(_=0,p=0,g=0,m=0);const N=s.extractPoints(u);let O=N.shape;const U=N.holes;if(!Tu.isClockWise(O)){O=O.reverse();for(let wt=0,It=U.length;wt<It;wt++){const Nt=U[wt];Tu.isClockWise(Nt)&&(U[wt]=Nt.reverse())}}function V(wt){const Nt=10000000000000001e-36;let Bt=wt[0];for(let oe=1;oe<=wt.length;oe++){const jt=oe%wt.length,ie=wt[jt],Xe=ie.x-Bt.x,nn=ie.y-Bt.y,rt=Xe*Xe+nn*nn,K=Math.max(Math.abs(ie.x),Math.abs(ie.y),Math.abs(Bt.x),Math.abs(Bt.y)),bt=Nt*K*K;if(rt<=bt){wt.splice(jt,1),oe--;continue}Bt=ie}}V(O),U.forEach(V);const W=U.length,Z=O;for(let wt=0;wt<W;wt++){const It=U[wt];O=O.concat(It)}function H(wt,It,Nt){return It||console.error("THREE.ExtrudeGeometry: vec does not exist"),wt.clone().addScaledVector(It,Nt)}const j=O.length;function Y(wt,It,Nt){let Bt,oe,jt;const ie=wt.x-It.x,Xe=wt.y-It.y,nn=Nt.x-wt.x,rt=Nt.y-wt.y,K=ie*ie+Xe*Xe,bt=ie*rt-Xe*nn;if(Math.abs(bt)>Number.EPSILON){const Ft=Math.sqrt(K),ee=Math.sqrt(nn*nn+rt*rt),Gt=It.x-Xe/Ft,ke=It.y+ie/Ft,pe=Nt.x-rt/ee,Pe=Nt.y+nn/ee,Be=((pe-Gt)*rt-(Pe-ke)*nn)/(ie*rt-Xe*nn);Bt=Gt+ie*Be-wt.x,oe=ke+Xe*Be-wt.y;const ne=Bt*Bt+oe*oe;if(ne<=2)return new Zt(Bt,oe);jt=Math.sqrt(ne/2)}else{let Ft=!1;ie>Number.EPSILON?nn>Number.EPSILON&&(Ft=!0):ie<-Number.EPSILON?nn<-Number.EPSILON&&(Ft=!0):Math.sign(Xe)===Math.sign(rt)&&(Ft=!0),Ft?(Bt=-Xe,oe=ie,jt=Math.sqrt(K)):(Bt=ie,oe=Xe,jt=Math.sqrt(K/2))}return new Zt(Bt/jt,oe/jt)}const Q=[];for(let wt=0,It=Z.length,Nt=It-1,Bt=wt+1;wt<It;wt++,Nt++,Bt++)Nt===It&&(Nt=0),Bt===It&&(Bt=0),Q[wt]=Y(Z[wt],Z[Nt],Z[Bt]);const nt=[];let q,$=Q.concat();for(let wt=0,It=W;wt<It;wt++){const Nt=U[wt];q=[];for(let Bt=0,oe=Nt.length,jt=oe-1,ie=Bt+1;Bt<oe;Bt++,jt++,ie++)jt===oe&&(jt=0),ie===oe&&(ie=0),q[Bt]=Y(Nt[Bt],Nt[jt],Nt[ie]);nt.push(q),$=$.concat(q)}let st;if(_===0)st=Tu.triangulateShape(Z,U);else{const wt=[],It=[];for(let Nt=0;Nt<_;Nt++){const Bt=Nt/_,oe=p*Math.cos(Bt*Math.PI/2),jt=g*Math.sin(Bt*Math.PI/2)+m;for(let ie=0,Xe=Z.length;ie<Xe;ie++){const nn=H(Z[ie],Q[ie],jt);Ct(nn.x,nn.y,-oe),Bt===0&&wt.push(nn)}for(let ie=0,Xe=W;ie<Xe;ie++){const nn=U[ie];q=nt[ie];const rt=[];for(let K=0,bt=nn.length;K<bt;K++){const Ft=H(nn[K],q[K],jt);Ct(Ft.x,Ft.y,-oe),Bt===0&&rt.push(Ft)}Bt===0&&It.push(rt)}}st=Tu.triangulateShape(wt,It)}const ft=st.length,Mt=g+m;for(let wt=0;wt<j;wt++){const It=h?H(O[wt],$[wt],Mt):O[wt];w?(R.copy(D.normals[0]).multiplyScalar(It.x),C.copy(D.binormals[0]).multiplyScalar(It.y),z.copy(M[0]).add(R).add(C),Ct(z.x,z.y,z.z)):Ct(It.x,It.y,0)}for(let wt=1;wt<=c;wt++)for(let It=0;It<j;It++){const Nt=h?H(O[It],$[It],Mt):O[It];w?(R.copy(D.normals[wt]).multiplyScalar(Nt.x),C.copy(D.binormals[wt]).multiplyScalar(Nt.y),z.copy(M[wt]).add(R).add(C),Ct(z.x,z.y,z.z)):Ct(Nt.x,Nt.y,f/c*wt)}for(let wt=_-1;wt>=0;wt--){const It=wt/_,Nt=p*Math.cos(It*Math.PI/2),Bt=g*Math.sin(It*Math.PI/2)+m;for(let oe=0,jt=Z.length;oe<jt;oe++){const ie=H(Z[oe],Q[oe],Bt);Ct(ie.x,ie.y,f+Nt)}for(let oe=0,jt=U.length;oe<jt;oe++){const ie=U[oe];q=nt[oe];for(let Xe=0,nn=ie.length;Xe<nn;Xe++){const rt=H(ie[Xe],q[Xe],Bt);w?Ct(rt.x,rt.y+M[c-1].y,M[c-1].x+Nt):Ct(rt.x,rt.y,f+Nt)}}}dt(),xt();function dt(){const wt=r.length/3;if(h){let It=0,Nt=j*It;for(let Bt=0;Bt<ft;Bt++){const oe=st[Bt];Wt(oe[2]+Nt,oe[1]+Nt,oe[0]+Nt)}It=c+_*2,Nt=j*It;for(let Bt=0;Bt<ft;Bt++){const oe=st[Bt];Wt(oe[0]+Nt,oe[1]+Nt,oe[2]+Nt)}}else{for(let It=0;It<ft;It++){const Nt=st[It];Wt(Nt[2],Nt[1],Nt[0])}for(let It=0;It<ft;It++){const Nt=st[It];Wt(Nt[0]+j*c,Nt[1]+j*c,Nt[2]+j*c)}}n.addGroup(wt,r.length/3-wt,0)}function xt(){const wt=r.length/3;let It=0;Lt(Z,It),It+=Z.length;for(let Nt=0,Bt=U.length;Nt<Bt;Nt++){const oe=U[Nt];Lt(oe,It),It+=oe.length}n.addGroup(wt,r.length/3-wt,1)}function Lt(wt,It){let Nt=wt.length;for(;--Nt>=0;){const Bt=Nt;let oe=Nt-1;oe<0&&(oe=wt.length-1);for(let jt=0,ie=c+_*2;jt<ie;jt++){const Xe=j*jt,nn=j*(jt+1),rt=It+Bt+Xe,K=It+oe+Xe,bt=It+oe+nn,Ft=It+Bt+nn;Xt(rt,K,bt,Ft)}}}function Ct(wt,It,Nt){l.push(wt),l.push(It),l.push(Nt)}function Wt(wt,It,Nt){ae(wt),ae(It),ae(Nt);const Bt=r.length/3,oe=T.generateTopUV(n,r,Bt-3,Bt-2,Bt-1);at(oe[0]),at(oe[1]),at(oe[2])}function Xt(wt,It,Nt,Bt){ae(wt),ae(It),ae(Bt),ae(It),ae(Nt),ae(Bt);const oe=r.length/3,jt=T.generateSideWallUV(n,r,oe-6,oe-3,oe-2,oe-1);at(jt[0]),at(jt[1]),at(jt[3]),at(jt[1]),at(jt[2]),at(jt[3])}function ae(wt){r.push(l[wt*3+0]),r.push(l[wt*3+1]),r.push(l[wt*3+2])}function at(wt){a.push(wt.x),a.push(wt.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,n=this.parameters.options;return pit(e,n,t)}static fromJSON(t,e){const n=[];for(let a=0,o=t.shapes.length;a<o;a++){const s=e[t.shapes[a]];n.push(s)}const r=t.options.extrudePath;return r!==void 0&&(t.options.extrudePath=new iC[r.type]().fromJSON(r)),new X2(n,t.options)}}const dit={generateTopUV:function(i,t,e,n,r){const a=t[e*3],o=t[e*3+1],s=t[n*3],l=t[n*3+1],u=t[r*3],c=t[r*3+1];return[new Zt(a,o),new Zt(s,l),new Zt(u,c)]},generateSideWallUV:function(i,t,e,n,r,a){const o=t[e*3],s=t[e*3+1],l=t[e*3+2],u=t[n*3],c=t[n*3+1],f=t[n*3+2],h=t[r*3],p=t[r*3+1],g=t[r*3+2],m=t[a*3],_=t[a*3+1],S=t[a*3+2];return Math.abs(s-c)<Math.abs(o-u)?[new Zt(o,1-l),new Zt(u,1-f),new Zt(h,1-g),new Zt(m,1-S)]:[new Zt(s,1-l),new Zt(c,1-f),new Zt(p,1-g),new Zt(_,1-S)]}};function pit(i,t,e){if(e.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const a=i[n];e.shapes.push(a.uuid)}else e.shapes.push(i.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class W2 extends dp{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new W2(t.radius,t.detail)}}class Y2 extends Ln{constructor(t=[new Zt(0,-.5),new Zt(.5,0),new Zt(0,.5)],e=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e),r=mn(r,0,Math.PI*2);const a=[],o=[],s=[],l=[],u=[],c=1/e,f=new it,h=new Zt,p=new it,g=new it,m=new it;let _=0,S=0;for(let T=0;T<=t.length-1;T++)switch(T){case 0:_=t[T+1].x-t[T].x,S=t[T+1].y-t[T].y,p.x=S*1,p.y=-_,p.z=S*0,m.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case t.length-1:l.push(m.x,m.y,m.z);break;default:_=t[T+1].x-t[T].x,S=t[T+1].y-t[T].y,p.x=S*1,p.y=-_,p.z=S*0,g.copy(p),p.x+=m.x,p.y+=m.y,p.z+=m.z,p.normalize(),l.push(p.x,p.y,p.z),m.copy(g)}for(let T=0;T<=e;T++){const M=n+T*c*r,w=Math.sin(M),D=Math.cos(M);for(let C=0;C<=t.length-1;C++){f.x=t[C].x*w,f.y=t[C].y,f.z=t[C].x*D,o.push(f.x,f.y,f.z),h.x=T/e,h.y=C/(t.length-1),s.push(h.x,h.y);const R=l[3*C+0]*w,z=l[3*C+1],N=l[3*C+0]*D;u.push(R,z,N)}}for(let T=0;T<e;T++)for(let M=0;M<t.length-1;M++){const w=M+T*t.length,D=w,C=w+t.length,R=w+t.length+1,z=w+1;a.push(D,C,z),a.push(R,z,C)}this.setIndex(a),this.setAttribute("position",new Ge(o,3)),this.setAttribute("uv",new Ge(s,2)),this.setAttribute("normal",new Ge(u,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Y2(t.points,t.segments,t.phiStart,t.phiLength)}}class qb extends dp{constructor(t=1,e=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new qb(t.radius,t.detail)}}class __ extends Ln{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const a=t/2,o=e/2,s=Math.floor(n),l=Math.floor(r),u=s+1,c=l+1,f=t/s,h=e/l,p=[],g=[],m=[],_=[];for(let S=0;S<c;S++){const T=S*h-o;for(let M=0;M<u;M++){const w=M*f-a;g.push(w,-T,0),m.push(0,0,1),_.push(M/s),_.push(1-S/l)}}for(let S=0;S<l;S++)for(let T=0;T<s;T++){const M=T+u*S,w=T+u*(S+1),D=T+1+u*(S+1),C=T+1+u*S;p.push(M,w,C),p.push(w,D,C)}this.setIndex(p),this.setAttribute("position",new Ge(g,3)),this.setAttribute("normal",new Ge(m,3)),this.setAttribute("uv",new Ge(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new __(t.width,t.height,t.widthSegments,t.heightSegments)}}class q2 extends Ln{constructor(t=.5,e=1,n=32,r=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:o},n=Math.max(3,n),r=Math.max(1,r);const s=[],l=[],u=[],c=[];let f=t;const h=(e-t)/r,p=new it,g=new Zt;for(let m=0;m<=r;m++){for(let _=0;_<=n;_++){const S=a+_/n*o;p.x=f*Math.cos(S),p.y=f*Math.sin(S),l.push(p.x,p.y,p.z),u.push(0,0,1),g.x=(p.x/e+1)/2,g.y=(p.y/e+1)/2,c.push(g.x,g.y)}f+=h}for(let m=0;m<r;m++){const _=m*(n+1);for(let S=0;S<n;S++){const T=S+_,M=T,w=T+n+1,D=T+n+2,C=T+1;s.push(M,w,C),s.push(w,D,C)}}this.setIndex(s),this.setAttribute("position",new Ge(l,3)),this.setAttribute("normal",new Ge(u,3)),this.setAttribute("uv",new Ge(c,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new q2(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class Z2 extends Ln{constructor(t=new Eg([new Zt(0,.5),new Zt(-.5,-.5),new Zt(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],r=[],a=[],o=[];let s=0,l=0;if(Array.isArray(t)===!1)u(t);else for(let c=0;c<t.length;c++)u(t[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(n),this.setAttribute("position",new Ge(r,3)),this.setAttribute("normal",new Ge(a,3)),this.setAttribute("uv",new Ge(o,2));function u(c){const f=r.length/3,h=c.extractPoints(e);let p=h.shape;const g=h.holes;Tu.isClockWise(p)===!1&&(p=p.reverse());for(let _=0,S=g.length;_<S;_++){const T=g[_];Tu.isClockWise(T)===!0&&(g[_]=T.reverse())}const m=Tu.triangulateShape(p,g);for(let _=0,S=g.length;_<S;_++){const T=g[_];p=p.concat(T)}for(let _=0,S=p.length;_<S;_++){const T=p[_];r.push(T.x,T.y,0),a.push(0,0,1),o.push(T.x,T.y)}for(let _=0,S=m.length;_<S;_++){const T=m[_],M=T[0]+f,w=T[1]+f,D=T[2]+f;n.push(M,w,D),l+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return vit(e,t)}static fromJSON(t,e){const n=[];for(let r=0,a=t.shapes.length;r<a;r++){const o=e[t.shapes[r]];n.push(o)}return new Z2(n,t.curveSegments)}}function vit(i,t){if(t.shapes=[],Array.isArray(i))for(let e=0,n=i.length;e<n;e++){const r=i[e];t.shapes.push(r.uuid)}else t.shapes.push(i.uuid);return t}class Zb extends Ln{constructor(t=1,e=32,n=16,r=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:a,thetaStart:o,thetaLength:s},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const l=Math.min(o+s,Math.PI);let u=0;const c=[],f=new it,h=new it,p=[],g=[],m=[],_=[];for(let S=0;S<=n;S++){const T=[],M=S/n;let w=0;S===0&&o===0?w=.5/e:S===n&&l===Math.PI&&(w=-.5/e);for(let D=0;D<=e;D++){const C=D/e;f.x=-t*Math.cos(r+C*a)*Math.sin(o+M*s),f.y=t*Math.cos(o+M*s),f.z=t*Math.sin(r+C*a)*Math.sin(o+M*s),g.push(f.x,f.y,f.z),h.copy(f).normalize(),m.push(h.x,h.y,h.z),_.push(C+w,1-M),T.push(u++)}c.push(T)}for(let S=0;S<n;S++)for(let T=0;T<e;T++){const M=c[S][T+1],w=c[S][T],D=c[S+1][T],C=c[S+1][T+1];(S!==0||o>0)&&p.push(M,w,C),(S!==n-1||l<Math.PI)&&p.push(w,D,C)}this.setIndex(p),this.setAttribute("position",new Ge(g,3)),this.setAttribute("normal",new Ge(m,3)),this.setAttribute("uv",new Ge(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Zb(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class j2 extends dp{constructor(t=1,e=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new j2(t.radius,t.detail)}}class K2 extends Ln{constructor(t=1,e=.4,n=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:a},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],l=[],u=[],c=new it,f=new it,h=new it;for(let p=0;p<=n;p++)for(let g=0;g<=r;g++){const m=g/r*a,_=p/n*Math.PI*2;f.x=(t+e*Math.cos(_))*Math.cos(m),f.y=(t+e*Math.cos(_))*Math.sin(m),f.z=e*Math.sin(_),s.push(f.x,f.y,f.z),c.x=t*Math.cos(m),c.y=t*Math.sin(m),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(g/r),u.push(p/n)}for(let p=1;p<=n;p++)for(let g=1;g<=r;g++){const m=(r+1)*p+g-1,_=(r+1)*(p-1)+g-1,S=(r+1)*(p-1)+g,T=(r+1)*p+g;o.push(m,_,T),o.push(_,S,T)}this.setIndex(o),this.setAttribute("position",new Ge(s,3)),this.setAttribute("normal",new Ge(l,3)),this.setAttribute("uv",new Ge(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new K2(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class Q2 extends Ln{constructor(t=1,e=.4,n=64,r=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:a,q:o},n=Math.floor(n),r=Math.floor(r);const s=[],l=[],u=[],c=[],f=new it,h=new it,p=new it,g=new it,m=new it,_=new it,S=new it;for(let M=0;M<=n;++M){const w=M/n*a*Math.PI*2;T(w,a,o,t,p),T(w+.01,a,o,t,g),_.subVectors(g,p),S.addVectors(g,p),m.crossVectors(_,S),S.crossVectors(m,_),m.normalize(),S.normalize();for(let D=0;D<=r;++D){const C=D/r*Math.PI*2,R=-e*Math.cos(C),z=e*Math.sin(C);f.x=p.x+(R*S.x+z*m.x),f.y=p.y+(R*S.y+z*m.y),f.z=p.z+(R*S.z+z*m.z),l.push(f.x,f.y,f.z),h.subVectors(f,p).normalize(),u.push(h.x,h.y,h.z),c.push(M/n),c.push(D/r)}}for(let M=1;M<=n;M++)for(let w=1;w<=r;w++){const D=(r+1)*(M-1)+(w-1),C=(r+1)*M+(w-1),R=(r+1)*M+w,z=(r+1)*(M-1)+w;s.push(D,C,z),s.push(C,R,z)}this.setIndex(s),this.setAttribute("position",new Ge(l,3)),this.setAttribute("normal",new Ge(u,3)),this.setAttribute("uv",new Ge(c,2));function T(M,w,D,C,R){const z=Math.cos(M),N=Math.sin(M),O=D/w*M,U=Math.cos(O);R.x=C*(2+U)*.5*z,R.y=C*(2+U)*N*.5,R.z=C*Math.sin(O)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Q2(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class J2 extends Ln{constructor(t=new yz(new it(-1,-1,0),new it(-1,1,0),new it(1,1,0)),e=64,n=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:a};const o=t.computeFrenetFrames(e,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new it,l=new it,u=new Zt;let c=new it;const f=[],h=[],p=[],g=[];m(),this.setIndex(g),this.setAttribute("position",new Ge(f,3)),this.setAttribute("normal",new Ge(h,3)),this.setAttribute("uv",new Ge(p,2));function m(){for(let M=0;M<e;M++)_(M);_(a===!1?e:0),T(),S()}function _(M){c=t.getPointAt(M/e,c);const w=o.normals[M],D=o.binormals[M];for(let C=0;C<=r;C++){const R=C/r*Math.PI*2,z=Math.sin(R),N=-Math.cos(R);l.x=N*w.x+z*D.x,l.y=N*w.y+z*D.y,l.z=N*w.z+z*D.z,l.normalize(),h.push(l.x,l.y,l.z),s.x=c.x+n*l.x,s.y=c.y+n*l.y,s.z=c.z+n*l.z,f.push(s.x,s.y,s.z)}}function S(){for(let M=1;M<=e;M++)for(let w=1;w<=r;w++){const D=(r+1)*(M-1)+(w-1),C=(r+1)*M+(w-1),R=(r+1)*M+w,z=(r+1)*(M-1)+w;g.push(D,C,z),g.push(C,R,z)}}function T(){for(let M=0;M<=e;M++)for(let w=0;w<=r;w++)u.x=M/e,u.y=w/r,p.push(u.x,u.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new J2(new iC[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class xW extends Ln{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],n=new Set,r=new it,a=new it;if(t.index!==null){const o=t.attributes.position,s=t.index;let l=t.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,p=f.count;for(let g=h,m=h+p;g<m;g+=3)for(let _=0;_<3;_++){const S=s.getX(g+_),T=s.getX(g+(_+1)%3);r.fromBufferAttribute(o,S),a.fromBufferAttribute(o,T),g4(r,a,n)===!0&&(e.push(r.x,r.y,r.z),e.push(a.x,a.y,a.z))}}}else{const o=t.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,f=3*s+(u+1)%3;r.fromBufferAttribute(o,c),a.fromBufferAttribute(o,f),g4(r,a,n)===!0&&(e.push(r.x,r.y,r.z),e.push(a.x,a.y,a.z))}}this.setAttribute("position",new Ge(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function g4(i,t,e){const n=`${i.x},${i.y},${i.z}-${t.x},${t.y},${t.z}`,r=`${t.x},${t.y},${t.z}-${i.x},${i.y},${i.z}`;return e.has(n)===!0||e.has(r)===!0?!1:(e.add(n),e.add(r),!0)}var m4=Object.freeze({__proto__:null,BoxGeometry:tm,CapsuleGeometry:H2,CircleGeometry:k2,ConeGeometry:Yb,CylinderGeometry:Wb,DodecahedronGeometry:F2,EdgesGeometry:fW,ExtrudeGeometry:X2,IcosahedronGeometry:W2,LatheGeometry:Y2,OctahedronGeometry:qb,PlaneGeometry:__,PolyhedronGeometry:dp,RingGeometry:q2,ShapeGeometry:Z2,SphereGeometry:Zb,TetrahedronGeometry:j2,TorusGeometry:K2,TorusKnotGeometry:Q2,TubeGeometry:J2,WireframeGeometry:xW});class bW extends sa{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Me(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class TW extends Ru{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class jb extends sa{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Me(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hp,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Ul extends jb{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Zt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return mn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Me(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Me(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Me(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class MW extends sa{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Me(16777215),this.specular=new Me(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hp,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qs,this.combine=Hb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class AW extends sa{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Me(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hp,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class wW extends sa{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hp,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class EW extends sa{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Me(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hp,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qs,this.combine=Hb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Sz extends sa{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=kX,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class xz extends sa{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class CW extends sa{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Me(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hp,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class DW extends bo{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function mg(i,t){return!i||i.constructor===t?i:typeof t.BYTES_PER_ELEMENT=="number"?new t(i):Array.prototype.slice.call(i)}function RW(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function LW(i){function t(r,a){return i[r]-i[a]}const e=i.length,n=new Array(e);for(let r=0;r!==e;++r)n[r]=r;return n.sort(t),n}function yO(i,t,e){const n=i.length,r=new i.constructor(n);for(let a=0,o=0;o!==n;++a){const s=e[a]*t;for(let l=0;l!==t;++l)r[o++]=i[s+l]}return r}function bz(i,t,e,n){let r=1,a=i[0];for(;a!==void 0&&a[n]===void 0;)a=i[r++];if(a===void 0)return;let o=a[n];if(o!==void 0)if(Array.isArray(o))do o=a[n],o!==void 0&&(t.push(a.time),e.push(...o)),a=i[r++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[n],o!==void 0&&(t.push(a.time),o.toArray(e,e.length)),a=i[r++];while(a!==void 0);else do o=a[n],o!==void 0&&(t.push(a.time),e.push(o)),a=i[r++];while(a!==void 0)}function git(i,t,e,n,r=30){const a=i.clone();a.name=t;const o=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],c=u.getValueSize(),f=[],h=[];for(let p=0;p<u.times.length;++p){const g=u.times[p]*r;if(!(g<e||g>=n)){f.push(u.times[p]);for(let m=0;m<c;++m)h.push(u.values[p*c+m])}}f.length!==0&&(u.times=mg(f,u.times.constructor),u.values=mg(h,u.values.constructor),o.push(u))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function mit(i,t=0,e=i,n=30){n<=0&&(n=30);const r=e.tracks.length,a=t/n;for(let o=0;o<r;++o){const s=e.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=i.tracks.find(function(S){return S.name===s.name&&S.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const p=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);const g=s.times.length-1;let m;if(a<=s.times[0]){const S=c,T=f-c;m=s.values.slice(S,T)}else if(a>=s.times[g]){const S=g*f+c,T=S+f-c;m=s.values.slice(S,T)}else{const S=s.createInterpolant(),T=c,M=f-c;S.evaluate(a),m=S.resultBuffer.slice(T,M)}l==="quaternion"&&new Ra().fromArray(m).normalize().conjugate().toArray(m);const _=u.times.length;for(let S=0;S<_;++S){const T=S*p+h;if(l==="quaternion")Ra.multiplyQuaternionsFlat(u.values,T,m,0,u.values,T);else{const M=p-h*2;for(let w=0;w<M;++w)u.values[T+w]-=m[w]}}}return i.blendMode=$3,i}class yit{static convertArray(t,e){return mg(t,e)}static isTypedArray(t){return RW(t)}static getKeyframeOrder(t){return LW(t)}static sortedArray(t,e,n){return yO(t,e,n)}static flattenJSON(t,e,n,r){bz(t,e,n,r)}static subclip(t,e,n,r,a=30){return git(t,e,n,r,a)}static makeClipAdditive(t,e=0,n=t,r=30){return mit(t,e,n,r)}}class S_{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],a=e[n-1];t:{e:{let o;n:{i:if(!(t<r)){for(let s=n+2;;){if(r===void 0){if(t<a)break i;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===s)break;if(a=r,r=e[++n],t<r)break e}o=e.length;break n}if(!(t>=a)){const s=e[1];t<s&&(n=2,a=s);for(let l=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=a,a=e[--n-1],t>=a)break e}o=n,n=0;break n}break t}for(;n<o;){const s=n+o>>>1;t<e[s]?o=s:n=s+1}if(r=e[n],a=e[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=t*r;for(let o=0;o!==r;++o)e[o]=n[a+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class IW extends S_{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:vg,endingEnd:vg}}intervalChanged_(t,e,n){const r=this.parameterPositions;let a=t-2,o=t+1,s=r[a],l=r[o];if(s===void 0)switch(this.getSettings_().endingStart){case gg:a=t,s=2*e-n;break;case J1:a=r.length-2,s=e+r[a]-r[a+1];break;default:a=t,s=n}if(l===void 0)switch(this.getSettings_().endingEnd){case gg:o=t,l=2*n-e;break;case J1:o=1,l=n+r[1]-r[0];break;default:o=t-1,l=e}const u=(n-e)*.5,c=this.valueSize;this._weightPrev=u/(e-s),this._weightNext=u/(l-n),this._offsetPrev=a*c,this._offsetNext=o*c}interpolate_(t,e,n,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=t*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,p=this._weightNext,g=(n-e)/(r-e),m=g*g,_=m*g,S=-h*_+2*h*m-h*g,T=(1+h)*_+(-1.5-2*h)*m+(-.5+h)*g+1,M=(-1-p)*_+(1.5+p)*m+.5*g,w=p*_-p*m;for(let D=0;D!==s;++D)a[D]=S*o[c+D]+T*o[u+D]+M*o[l+D]+w*o[f+D];return a}}class Tz extends S_{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=t*s,u=l-s,c=(n-e)/(r-e),f=1-c;for(let h=0;h!==s;++h)a[h]=o[u+h]*f+o[l+h]*c;return a}}class NW extends S_{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Vl{constructor(t,e,n,r){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=mg(e,this.TimeBufferType),this.values=mg(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:mg(t.times,Array),values:mg(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(n.interpolation=r)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new NW(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new Tz(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new IW(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case G0:e=this.InterpolantFactoryMethodDiscrete;break;case X0:e=this.InterpolantFactoryMethodLinear;break;case Yw:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return G0;case this.InterpolantFactoryMethodLinear:return X0;case this.InterpolantFactoryMethodSmooth:return Yw}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this}trim(t,e){const n=this.times,r=n.length;let a=0,o=r-1;for(;a!==r&&n[a]<t;)++a;for(;o!==-1&&n[o]>e;)--o;if(++o,a!==0||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=n.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,a=n.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let s=0;s!==a;s++){const l=n[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),t=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,o),t=!1;break}o=l}if(r!==void 0&&RW(r))for(let s=0,l=r.length;s!==l;++s){const u=r[s];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===Yw,a=t.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const u=t[s],c=t[s+1];if(u!==c&&(s!==1||u!==t[0]))if(r)l=!0;else{const f=s*n,h=f-n,p=f+n;for(let g=0;g!==n;++g){const m=e[f+g];if(m!==e[h+g]||m!==e[p+g]){l=!0;break}}}if(l){if(s!==o){t[o]=t[s];const f=s*n,h=o*n;for(let p=0;p!==n;++p)e[h+p]=e[f+p]}++o}}if(a>0){t[o]=t[a];for(let s=a*n,l=o*n,u=0;u!==n;++u)e[l+u]=e[s+u];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),n=this.constructor,r=new n(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Vl.prototype.ValueTypeName="";Vl.prototype.TimeBufferType=Float32Array;Vl.prototype.ValueBufferType=Float32Array;Vl.prototype.DefaultInterpolation=X0;class em extends Vl{constructor(t,e,n){super(t,e,n)}}em.prototype.ValueTypeName="bool";em.prototype.ValueBufferType=Array;em.prototype.DefaultInterpolation=G0;em.prototype.InterpolantFactoryMethodLinear=void 0;em.prototype.InterpolantFactoryMethodSmooth=void 0;class Mz extends Vl{constructor(t,e,n,r){super(t,e,n,r)}}Mz.prototype.ValueTypeName="color";class Ug extends Vl{constructor(t,e,n,r){super(t,e,n,r)}}Ug.prototype.ValueTypeName="number";class OW extends S_{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(n-e)/(r-e);let u=t*s;for(let c=u+s;u!==c;u+=4)Ra.slerpFlat(a,0,o,u-s,o,u,l);return a}}class Vg extends Vl{constructor(t,e,n,r){super(t,e,n,r)}InterpolantFactoryMethodLinear(t){return new OW(this.times,this.values,this.getValueSize(),t)}}Vg.prototype.ValueTypeName="quaternion";Vg.prototype.InterpolantFactoryMethodSmooth=void 0;class nm extends Vl{constructor(t,e,n){super(t,e,n)}}nm.prototype.ValueTypeName="string";nm.prototype.ValueBufferType=Array;nm.prototype.DefaultInterpolation=G0;nm.prototype.InterpolantFactoryMethodLinear=void 0;nm.prototype.InterpolantFactoryMethodSmooth=void 0;class Hg extends Vl{constructor(t,e,n,r){super(t,e,n,r)}}Hg.prototype.ValueTypeName="vector";class K0{constructor(t="",e=-1,n=[],r=R2){this.name=t,this.tracks=n,this.duration=e,this.blendMode=r,this.uuid=Ws(),this.userData={},this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,r=1/(t.fps||1);for(let o=0,s=n.length;o!==s;++o)e.push(Sit(n[o]).scale(r));const a=new this(t.name,t.duration,e,t.blendMode);return a.uuid=t.uuid,a.userData=JSON.parse(t.userData||"{}"),a}static toJSON(t){const e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode,userData:JSON.stringify(t.userData)};for(let a=0,o=n.length;a!==o;++a)e.push(Vl.toJSON(n[a]));return r}static CreateFromMorphTargetSequence(t,e,n,r){const a=e.length,o=[];for(let s=0;s<a;s++){let l=[],u=[];l.push((s+a-1)%a,s,(s+1)%a),u.push(0,1,0);const c=LW(l);l=yO(l,1,c),u=yO(u,1,c),!r&&l[0]===0&&(l.push(a),u.push(u[0])),o.push(new Ug(".morphTargetInfluences["+e[s].name+"]",l,u).scale(1/n))}return new this(t,-1,o)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const r=t;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const r={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=t.length;s<l;s++){const u=t[s],c=u.name.match(a);if(c&&c.length>1){const f=c[1];let h=r[f];h||(r[f]=h=[]),h.push(u)}}const o=[];for(const s in r)o.push(this.CreateFromMorphTargetSequence(s,r[s],e,n));return o}static parseAnimation(t,e){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(f,h,p,g,m){if(p.length!==0){const _=[],S=[];bz(p,_,S,g),_.length!==0&&m.push(new f(h,_,S))}},r=[],a=t.name||"default",o=t.fps||30,s=t.blendMode;let l=t.length||-1;const u=t.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const p={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let m=0;m<h[g].morphTargets.length;m++)p[h[g].morphTargets[m]]=-1;for(const m in p){const _=[],S=[];for(let T=0;T!==h[g].morphTargets.length;++T){const M=h[g];_.push(M.time),S.push(M.morphTarget===m?1:0)}r.push(new Ug(".morphTargetInfluence["+m+"]",_,S))}l=p.length*o}else{const p=".bones["+e[f].name+"]";n(Hg,p+".position",h,"pos",r),n(Vg,p+".quaternion",h,"rot",r),n(Hg,p+".scale",h,"scl",r)}}return r.length===0?null:new this(a,l,r,s)}resetDuration(){const t=this.tracks;let e=0;for(let n=0,r=t.length;n!==r;++n){const a=this.tracks[n];e=Math.max(e,a.times[a.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let n=0;n<this.tracks.length;n++)t.push(this.tracks[n].clone());const e=new this.constructor(this.name,this.duration,t,this.blendMode);return e.userData=JSON.parse(JSON.stringify(this.userData)),e}toJSON(){return this.constructor.toJSON(this)}}function _it(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ug;case"vector":case"vector2":case"vector3":case"vector4":return Hg;case"color":return Mz;case"quaternion":return Vg;case"bool":case"boolean":return em;case"string":return nm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function Sit(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=_it(i.type);if(i.times===void 0){const e=[],n=[];bz(i.keys,e,n,"value"),i.times=e,i.values=n}return t.parse!==void 0?t.parse(i):new t(i.name,i.times,i.values,i.interpolation)}const Pc={enabled:!1,files:{},add:function(i,t){this.enabled!==!1&&(this.files[i]=t)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class Az{constructor(t,e,n){const r=this;let a=!1,o=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.abortController=new AbortController,this.itemStart=function(c){s++,a===!1&&r.onStart!==void 0&&r.onStart(c,o,s),a=!0},this.itemEnd=function(c){o++,r.onProgress!==void 0&&r.onProgress(c,o,s),o===s&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(c){r.onError!==void 0&&r.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const p=u[f],g=u[f+1];if(p.global&&(p.lastIndex=0),p.test(c))return g}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const PW=new Az;class $o{constructor(t){this.manager=t!==void 0?t:PW,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise(function(r,a){n.load(t,r,e,a)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}abort(){return this}}$o.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ff={};class xit extends Error{constructor(t,e){super(t),this.response=e}}class Lu extends $o{constructor(t){super(t),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(t,e,n,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=Pc.get(`file:${t}`);if(a!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(a),this.manager.itemEnd(t)},0),a;if(Ff[t]!==void 0){Ff[t].push({onLoad:e,onProgress:n,onError:r});return}Ff[t]=[],Ff[t].push({onLoad:e,onProgress:n,onError:r});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),s=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Ff[t],f=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),p=h?parseInt(h):0,g=p!==0;let m=0;const _=new ReadableStream({start(S){T();function T(){f.read().then(({done:M,value:w})=>{if(M)S.close();else{m+=w.byteLength;const D=new ProgressEvent("progress",{lengthComputable:g,loaded:m,total:p});for(let C=0,R=c.length;C<R;C++){const z=c[C];z.onProgress&&z.onProgress(D)}S.enqueue(w),T()}},M=>{S.error(M)})}}});return new Response(_)}else throw new xit(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),h=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(h);return u.arrayBuffer().then(g=>p.decode(g))}}}).then(u=>{Pc.add(`file:${t}`,u);const c=Ff[t];delete Ff[t];for(let f=0,h=c.length;f<h;f++){const p=c[f];p.onLoad&&p.onLoad(u)}}).catch(u=>{const c=Ff[t];if(c===void 0)throw this.manager.itemError(t),u;delete Ff[t];for(let f=0,h=c.length;f<h;f++){const p=c[f];p.onError&&p.onError(u)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class bit extends $o{constructor(t){super(t)}load(t,e,n,r){const a=this,o=new Lu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(s){try{e(a.parse(JSON.parse(s)))}catch(l){r?r(l):console.error(l),a.manager.itemError(t)}},n,r)}parse(t){const e=[];for(let n=0;n<t.length;n++){const r=K0.parse(t[n]);e.push(r)}return e}}class Tit extends $o{constructor(t){super(t)}load(t,e,n,r){const a=this,o=[],s=new V2,l=new Lu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function c(f){l.load(t[f],function(h){const p=a.parse(h,!0);o[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},u+=1,u===6&&(p.mipmapCount===1&&(s.minFilter=xr),s.image=o,s.format=p.format,s.needsUpdate=!0,e&&e(s))},n,r)}if(Array.isArray(t))for(let f=0,h=t.length;f<h;++f)c(f);else l.load(t,function(f){const h=a.parse(f,!0);if(h.isCubemap){const p=h.mipmaps.length/h.mipmapCount;for(let g=0;g<p;g++){o[g]={mipmaps:[]};for(let m=0;m<h.mipmapCount;m++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+m]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}s.image=o}else s.image.width=h.width,s.image.height=h.height,s.mipmaps=h.mipmaps;h.mipmapCount===1&&(s.minFilter=xr),s.format=h.format,s.needsUpdate=!0,e&&e(s)},n,r);return s}}const zy=new WeakMap;class ob extends $o{constructor(t){super(t)}load(t,e,n,r){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=this,o=Pc.get(`image:${t}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(t),setTimeout(function(){e&&e(o),a.manager.itemEnd(t)},0);else{let f=zy.get(o);f===void 0&&(f=[],zy.set(o,f)),f.push({onLoad:e,onError:r})}return o}const s=eb("img");function l(){c(),e&&e(this);const f=zy.get(this)||[];for(let h=0;h<f.length;h++){const p=f[h];p.onLoad&&p.onLoad(this)}zy.delete(this),a.manager.itemEnd(t)}function u(f){c(),r&&r(f),Pc.remove(`image:${t}`);const h=zy.get(this)||[];for(let p=0;p<h.length;p++){const g=h[p];g.onError&&g.onError(f)}zy.delete(this),a.manager.itemError(t),a.manager.itemEnd(t)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),Pc.add(`image:${t}`,s),a.manager.itemStart(t),s.src=t,s}}class Mit extends $o{constructor(t){super(t)}load(t,e,n,r){const a=new Fb;a.colorSpace=Ir;const o=new ob(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(u){o.load(t[u],function(c){a.images[u]=c,s++,s===6&&(a.needsUpdate=!0,e&&e(a))},void 0,r)}for(let u=0;u<t.length;++u)l(u);return a}}class Ait extends $o{constructor(t){super(t)}load(t,e,n,r){const a=this,o=new Fc,s=new Lu(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(t,function(l){let u;try{u=a.parse(l)}catch(c){if(r!==void 0)r(c);else{console.error(c);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Us,o.wrapT=u.wrapT!==void 0?u.wrapT:Us,o.magFilter=u.magFilter!==void 0?u.magFilter:xr,o.minFilter=u.minFilter!==void 0?u.minFilter:xr,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Rl),u.mipmapCount===1&&(o.minFilter=xr),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,e&&e(o,u)},n,r),o}}class zW extends $o{constructor(t){super(t)}load(t,e,n,r){const a=new tr,o=new ob(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(s){a.image=s,a.needsUpdate=!0,e!==void 0&&e(a)},n,r),a}}class pp extends oi{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new Me(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class BW extends pp{constructor(t,e,n){super(t,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(oi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Me(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const oL=new un,y4=new it,_4=new it;class wz{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Zt(512,512),this.mapType=Nl,this.map=null,this.mapPass=null,this.matrix=new un,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new y_,this._frameExtents=new Zt(1,1),this._viewportCount=1,this._viewports=[new hi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;y4.setFromMatrixPosition(t.matrixWorld),e.position.copy(y4),_4.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(_4),e.updateMatrixWorld(),oL.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oL,e.coordinateSystem,e.reversedDepth),e.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(oL)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class wit extends wz{constructor(){super(new Sr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(t){const e=this.camera,n=Y0*2*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=t.distance||e.far;(n!==e.fov||r!==e.aspect||a!==e.far)&&(e.fov=n,e.aspect=r,e.far=a,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class Ez extends pp{constructor(t,e,n=0,r=Math.PI/3,a=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(oi.DEFAULT_UP),this.updateMatrix(),this.target=new oi,this.distance=n,this.angle=r,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new wit}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const S4=new un,Dx=new it,sL=new it;class Eit extends wz{constructor(){super(new Sr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Zt(4,2),this._viewportCount=6,this._viewports=[new hi(2,1,1,1),new hi(0,1,1,1),new hi(3,1,1,1),new hi(1,1,1,1),new hi(3,0,1,1),new hi(1,0,1,1)],this._cubeDirections=[new it(1,0,0),new it(-1,0,0),new it(0,0,1),new it(0,0,-1),new it(0,1,0),new it(0,-1,0)],this._cubeUps=[new it(0,1,0),new it(0,1,0),new it(0,1,0),new it(0,1,0),new it(0,0,1),new it(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,r=this.matrix,a=t.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),Dx.setFromMatrixPosition(t.matrixWorld),n.position.copy(Dx),sL.copy(n.position),sL.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(sL),n.updateMatrixWorld(),r.makeTranslation(-Dx.x,-Dx.y,-Dx.z),S4.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(S4,n.coordinateSystem,n.reversedDepth)}}class Cz extends pp{constructor(t,e,n=0,r=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Eit}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class lh extends N2{constructor(t=-1,e=1,n=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=n-t,o=n+t,s=r+e,l=r-e;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class Cit extends wz{constructor(){super(new lh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Dz extends pp{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(oi.DEFAULT_UP),this.updateMatrix(),this.target=new oi,this.shadow=new Cit}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class UW extends pp{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class VW extends pp{constructor(t,e,n=10,r=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class HW{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new it)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,r=t.y,a=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*r),e.addScaledVector(o[2],.488603*a),e.addScaledVector(o[3],.488603*n),e.addScaledVector(o[4],1.092548*(n*r)),e.addScaledVector(o[5],1.092548*(r*a)),e.addScaledVector(o[6],.315392*(3*a*a-1)),e.addScaledVector(o[7],1.092548*(n*a)),e.addScaledVector(o[8],.546274*(n*n-r*r)),e}getIrradianceAt(t,e){const n=t.x,r=t.y,a=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],2*.511664*r),e.addScaledVector(o[2],2*.511664*a),e.addScaledVector(o[3],2*.511664*n),e.addScaledVector(o[4],2*.429043*n*r),e.addScaledVector(o[5],2*.429043*r*a),e.addScaledVector(o[6],.743125*a*a-.247708),e.addScaledVector(o[7],2*.429043*n*a),e.addScaledVector(o[8],.429043*(n*n-r*r)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(t,e+r*3);return this}toArray(t=[],e=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(t,e+r*3);return t}static getBasisAt(t,e){const n=t.x,r=t.y,a=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*a,e[3]=.488603*n,e[4]=1.092548*n*r,e[5]=1.092548*r*a,e[6]=.315392*(3*a*a-1),e[7]=1.092548*n*a,e[8]=.546274*(n*n-r*r)}}class kW extends pp{constructor(t=new HW,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class $2 extends $o{constructor(t){super(t),this.textures={}}load(t,e,n,r){const a=this,o=new Lu(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(t,function(s){try{e(a.parse(JSON.parse(s)))}catch(l){r?r(l):console.error(l),a.manager.itemError(t)}},n,r)}parse(t){const e=this.textures;function n(a){return e[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),e[a]}const r=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(r.uuid=t.uuid),t.name!==void 0&&(r.name=t.name),t.color!==void 0&&r.color!==void 0&&r.color.setHex(t.color),t.roughness!==void 0&&(r.roughness=t.roughness),t.metalness!==void 0&&(r.metalness=t.metalness),t.sheen!==void 0&&(r.sheen=t.sheen),t.sheenColor!==void 0&&(r.sheenColor=new Me().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(r.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(t.emissive),t.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(t.specular),t.specularIntensity!==void 0&&(r.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(r.shininess=t.shininess),t.clearcoat!==void 0&&(r.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(r.dispersion=t.dispersion),t.iridescence!==void 0&&(r.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(r.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(r.transmission=t.transmission),t.thickness!==void 0&&(r.thickness=t.thickness),t.attenuationDistance!==void 0&&(r.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(r.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(r.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(r.fog=t.fog),t.flatShading!==void 0&&(r.flatShading=t.flatShading),t.blending!==void 0&&(r.blending=t.blending),t.combine!==void 0&&(r.combine=t.combine),t.side!==void 0&&(r.side=t.side),t.shadowSide!==void 0&&(r.shadowSide=t.shadowSide),t.opacity!==void 0&&(r.opacity=t.opacity),t.transparent!==void 0&&(r.transparent=t.transparent),t.alphaTest!==void 0&&(r.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(r.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(r.depthFunc=t.depthFunc),t.depthTest!==void 0&&(r.depthTest=t.depthTest),t.depthWrite!==void 0&&(r.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(r.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(r.blendSrc=t.blendSrc),t.blendDst!==void 0&&(r.blendDst=t.blendDst),t.blendEquation!==void 0&&(r.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(r.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(r.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(r.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(r.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(r.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(r.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(r.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(r.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(r.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(r.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(r.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(r.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(r.rotation=t.rotation),t.linewidth!==void 0&&(r.linewidth=t.linewidth),t.dashSize!==void 0&&(r.dashSize=t.dashSize),t.gapSize!==void 0&&(r.gapSize=t.gapSize),t.scale!==void 0&&(r.scale=t.scale),t.polygonOffset!==void 0&&(r.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(r.dithering=t.dithering),t.alphaToCoverage!==void 0&&(r.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(r.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(r.visible=t.visible),t.toneMapped!==void 0&&(r.toneMapped=t.toneMapped),t.userData!==void 0&&(r.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const a in t.uniforms){const o=t.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=n(o.value);break;case"c":r.uniforms[a].value=new Me().setHex(o.value);break;case"v2":r.uniforms[a].value=new Zt().fromArray(o.value);break;case"v3":r.uniforms[a].value=new it().fromArray(o.value);break;case"v4":r.uniforms[a].value=new hi().fromArray(o.value);break;case"m3":r.uniforms[a].value=new Rn().fromArray(o.value);break;case"m4":r.uniforms[a].value=new un().fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(t.defines!==void 0&&(r.defines=t.defines),t.vertexShader!==void 0&&(r.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(r.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(r.glslVersion=t.glslVersion),t.extensions!==void 0)for(const a in t.extensions)r.extensions[a]=t.extensions[a];if(t.lights!==void 0&&(r.lights=t.lights),t.clipping!==void 0&&(r.clipping=t.clipping),t.size!==void 0&&(r.size=t.size),t.sizeAttenuation!==void 0&&(r.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(r.map=n(t.map)),t.matcap!==void 0&&(r.matcap=n(t.matcap)),t.alphaMap!==void 0&&(r.alphaMap=n(t.alphaMap)),t.bumpMap!==void 0&&(r.bumpMap=n(t.bumpMap)),t.bumpScale!==void 0&&(r.bumpScale=t.bumpScale),t.normalMap!==void 0&&(r.normalMap=n(t.normalMap)),t.normalMapType!==void 0&&(r.normalMapType=t.normalMapType),t.normalScale!==void 0){let a=t.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Zt().fromArray(a)}return t.displacementMap!==void 0&&(r.displacementMap=n(t.displacementMap)),t.displacementScale!==void 0&&(r.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(r.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(r.roughnessMap=n(t.roughnessMap)),t.metalnessMap!==void 0&&(r.metalnessMap=n(t.metalnessMap)),t.emissiveMap!==void 0&&(r.emissiveMap=n(t.emissiveMap)),t.emissiveIntensity!==void 0&&(r.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(r.specularMap=n(t.specularMap)),t.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(t.specularIntensityMap)),t.specularColorMap!==void 0&&(r.specularColorMap=n(t.specularColorMap)),t.envMap!==void 0&&(r.envMap=n(t.envMap)),t.envMapRotation!==void 0&&r.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(r.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(r.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(r.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(r.lightMap=n(t.lightMap)),t.lightMapIntensity!==void 0&&(r.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(r.aoMap=n(t.aoMap)),t.aoMapIntensity!==void 0&&(r.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(r.gradientMap=n(t.gradientMap)),t.clearcoatMap!==void 0&&(r.clearcoatMap=n(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Zt().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(r.iridescenceMap=n(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(r.transmissionMap=n(t.transmissionMap)),t.thicknessMap!==void 0&&(r.thicknessMap=n(t.thicknessMap)),t.anisotropyMap!==void 0&&(r.anisotropyMap=n(t.anisotropyMap)),t.sheenColorMap!==void 0&&(r.sheenColorMap=n(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(t.sheenRoughnessMap)),r}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return $2.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:bW,SpriteMaterial:sz,RawShaderMaterial:TW,ShaderMaterial:Ru,PointsMaterial:U2,MeshPhysicalMaterial:Ul,MeshStandardMaterial:jb,MeshPhongMaterial:MW,MeshToonMaterial:AW,MeshNormalMaterial:wW,MeshLambertMaterial:EW,MeshDepthMaterial:Sz,MeshDistanceMaterial:xz,MeshBasicMaterial:Hs,MeshMatcapMaterial:CW,LineDashedMaterial:DW,LineBasicMaterial:bo,Material:sa};return new e[t]}}class Zd{static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class FW extends Ln{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class GW extends $o{constructor(t){super(t)}load(t,e,n,r){const a=this,o=new Lu(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(t,function(s){try{e(a.parse(JSON.parse(s)))}catch(l){r?r(l):console.error(l),a.manager.itemError(t)}},n,r)}parse(t){const e={},n={};function r(p,g){if(e[g]!==void 0)return e[g];const _=p.interleavedBuffers[g],S=a(p,_.buffer),T=S0(_.type,S),M=new Gb(T,_.stride);return M.uuid=_.uuid,e[g]=M,M}function a(p,g){if(n[g]!==void 0)return n[g];const _=p.arrayBuffers[g],S=new Uint32Array(_).buffer;return n[g]=S,S}const o=t.isInstancedBufferGeometry?new FW:new Ln,s=t.data.index;if(s!==void 0){const p=S0(s.type,s.array);o.setIndex(new xi(p,1))}const l=t.data.attributes;for(const p in l){const g=l[p];let m;if(g.isInterleavedBufferAttribute){const _=r(t.data,g.data);m=new ap(_,g.itemSize,g.offset,g.normalized)}else{const _=S0(g.type,g.array),S=g.isInstancedBufferAttribute?zg:xi;m=new S(_,g.itemSize,g.normalized)}g.name!==void 0&&(m.name=g.name),g.usage!==void 0&&m.setUsage(g.usage),o.setAttribute(p,m)}const u=t.data.morphAttributes;if(u)for(const p in u){const g=u[p],m=[];for(let _=0,S=g.length;_<S;_++){const T=g[_];let M;if(T.isInterleavedBufferAttribute){const w=r(t.data,T.data);M=new ap(w,T.itemSize,T.offset,T.normalized)}else{const w=S0(T.type,T.array);M=new xi(w,T.itemSize,T.normalized)}T.name!==void 0&&(M.name=T.name),m.push(M)}o.morphAttributes[p]=m}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=t.data.groups||t.data.drawcalls||t.data.offsets;if(f!==void 0)for(let p=0,g=f.length;p!==g;++p){const m=f[p];o.addGroup(m.start,m.count,m.materialIndex)}const h=t.data.boundingSphere;return h!==void 0&&(o.boundingSphere=new La().fromJSON(h)),t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}class Dit extends $o{constructor(t){super(t)}load(t,e,n,r){const a=this,o=this.path===""?Zd.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const s=new Lu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,function(l){let u=null;try{u=JSON.parse(l)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+t+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}a.parse(u,e)},n,r)}async loadAsync(t,e){const n=this,r=this.path===""?Zd.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||r;const a=new Lu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(t,e),s=JSON.parse(o),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await n.parseAsync(s)}parse(t,e){const n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),a=this.parseGeometries(t.geometries,r),o=this.parseImages(t.images,function(){e!==void 0&&e(u)}),s=this.parseTextures(t.textures,o),l=this.parseMaterials(t.materials,s),u=this.parseObject(t.object,a,l,s,n),c=this.parseSkeletons(t.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),e!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&e(u)}return u}async parseAsync(t){const e=this.parseAnimations(t.animations),n=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,n),a=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,r,s,o,e),u=this.parseSkeletons(t.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(t){const e={};if(t!==void 0)for(let n=0,r=t.length;n<r;n++){const a=new Eg().fromJSON(t[n]);e[a.uuid]=a}return e}parseSkeletons(t,e){const n={},r={};if(e.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),t!==void 0)for(let a=0,o=t.length;a<o;a++){const s=new Xb().fromJSON(t[a],r);n[s.uuid]=s}return n}parseGeometries(t,e){const n={};if(t!==void 0){const r=new GW;for(let a=0,o=t.length;a<o;a++){let s;const l=t[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=r.parse(l);break;default:l.type in m4?s=m4[l.type].fromJSON(l,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),n[l.uuid]=s}}return n}parseMaterials(t,e){const n={},r={};if(t!==void 0){const a=new $2;a.setTextures(e);for(let o=0,s=t.length;o<s;o++){const l=t[o];n[l.uuid]===void 0&&(n[l.uuid]=a.parse(l)),r[l.uuid]=n[l.uuid]}}return r}parseAnimations(t){const e={};if(t!==void 0)for(let n=0;n<t.length;n++){const r=t[n],a=K0.parse(r);e[a.uuid]=a}return e}parseImages(t,e){const n=this,r={};let a;function o(l){return n.manager.itemStart(l),a.load(l,function(){n.manager.itemEnd(l)},void 0,function(){n.manager.itemError(l),n.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:n.resourcePath+u;return o(c)}else return l.data?{data:S0(l.type,l.data),width:l.width,height:l.height}:null}if(t!==void 0&&t.length>0){const l=new Az(e);a=new ob(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,c=t.length;u<c;u++){const f=t[u],h=f.url;if(Array.isArray(h)){const p=[];for(let g=0,m=h.length;g<m;g++){const _=h[g],S=s(_);S!==null&&(S instanceof HTMLImageElement?p.push(S):p.push(new Fc(S.data,S.width,S.height)))}r[f.uuid]=new Hd(p)}else{const p=s(f.url);r[f.uuid]=new Hd(p)}}}return r}async parseImagesAsync(t){const e=this,n={};let r;async function a(o){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:e.resourcePath+s;return await r.loadAsync(l)}else return o.data?{data:S0(o.type,o.data),width:o.width,height:o.height}:null}if(t!==void 0&&t.length>0){r=new ob(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,s=t.length;o<s;o++){const l=t[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const p=u[f],g=await a(p);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new Fc(g.data,g.width,g.height)))}n[l.uuid]=new Hd(c)}else{const c=await a(l.url);n[l.uuid]=new Hd(c)}}}return n}parseTextures(t,e){function n(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const r={};if(t!==void 0)for(let a=0,o=t.length;a<o;a++){const s=t[a];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),e[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=e[s.image],u=l.data;let c;Array.isArray(u)?(c=new Fb,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Fc:c=new tr,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=n(s.mapping,Rit)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=n(s.wrap[0],x4),c.wrapT=n(s.wrap[1],x4)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.minFilter!==void 0&&(c.minFilter=n(s.minFilter,b4)),s.magFilter!==void 0&&(c.magFilter=n(s.magFilter,b4)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),r[s.uuid]=c}return r}parseObject(t,e,n,r,a){let o;function s(h){return e[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),e[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const p=[];for(let g=0,m=h.length;g<m;g++){const _=h[g];n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),p.push(n[_])}return p}return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),n[h]}}function u(h){return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),r[h]}let c,f;switch(t.type){case"Scene":o=new oz,t.background!==void 0&&(Number.isInteger(t.background)?o.background=new Me(t.background):o.background=u(t.background)),t.environment!==void 0&&(o.environment=u(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?o.fog=new P2(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(o.fog=new O2(t.fog.color,t.fog.density)),t.fog.name!==""&&(o.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(o.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(o.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&o.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":o=new Sr(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(o.focus=t.focus),t.zoom!==void 0&&(o.zoom=t.zoom),t.filmGauge!==void 0&&(o.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(o.filmOffset=t.filmOffset),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new lh(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(o.zoom=t.zoom),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new UW(t.color,t.intensity);break;case"DirectionalLight":o=new Dz(t.color,t.intensity),o.target=t.target||"";break;case"PointLight":o=new Cz(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new VW(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new Ez(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),o.target=t.target||"";break;case"HemisphereLight":o=new BW(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=new kW().fromJSON(t);break;case"SkinnedMesh":c=s(t.geometry),f=l(t.material),o=new lz(c,f),t.bindMode!==void 0&&(o.bindMode=t.bindMode),t.bindMatrix!==void 0&&o.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(o.skeleton=t.skeleton);break;case"Mesh":c=s(t.geometry),f=l(t.material),o=new Nr(c,f);break;case"InstancedMesh":c=s(t.geometry),f=l(t.material);const h=t.count,p=t.instanceMatrix,g=t.instanceColor;o=new uz(c,f,h),o.instanceMatrix=new zg(new Float32Array(p.array),16),g!==void 0&&(o.instanceColor=new zg(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":c=s(t.geometry),f=l(t.material),o=new uW(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,f),o.geometry=c,o.perObjectFrustumCulled=t.perObjectFrustumCulled,o.sortObjects=t.sortObjects,o._drawRanges=t.drawRanges,o._reservedRanges=t.reservedRanges,o._geometryInfo=t.geometryInfo.map(m=>{let _=null,S=null;return m.boundingBox!==void 0&&(_=new Wa().fromJSON(m.boundingBox)),m.boundingSphere!==void 0&&(S=new La().fromJSON(m.boundingSphere)),{...m,boundingBox:_,boundingSphere:S}}),o._instanceInfo=t.instanceInfo,o._availableInstanceIds=t._availableInstanceIds,o._availableGeometryIds=t._availableGeometryIds,o._nextIndexStart=t.nextIndexStart,o._nextVertexStart=t.nextVertexStart,o._geometryCount=t.geometryCount,o._maxInstanceCount=t.maxInstanceCount,o._maxVertexCount=t.maxVertexCount,o._maxIndexCount=t.maxIndexCount,o._geometryInitialized=t.geometryInitialized,o._matricesTexture=u(t.matricesTexture.uuid),o._indirectTexture=u(t.indirectTexture.uuid),t.colorsTexture!==void 0&&(o._colorsTexture=u(t.colorsTexture.uuid)),t.boundingSphere!==void 0&&(o.boundingSphere=new La().fromJSON(t.boundingSphere)),t.boundingBox!==void 0&&(o.boundingBox=new Wa().fromJSON(t.boundingBox));break;case"LOD":o=new lW;break;case"Line":o=new mh(s(t.geometry),l(t.material));break;case"LineLoop":o=new cz(s(t.geometry),l(t.material));break;case"LineSegments":o=new Pu(s(t.geometry),l(t.material));break;case"PointCloud":case"Points":o=new fz(s(t.geometry),l(t.material));break;case"Sprite":o=new sW(l(t.material));break;case"Group":o=new th;break;case"Bone":o=new z2;break;default:o=new oi}if(o.uuid=t.uuid,t.name!==void 0&&(o.name=t.name),t.matrix!==void 0?(o.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(t.position!==void 0&&o.position.fromArray(t.position),t.rotation!==void 0&&o.rotation.fromArray(t.rotation),t.quaternion!==void 0&&o.quaternion.fromArray(t.quaternion),t.scale!==void 0&&o.scale.fromArray(t.scale)),t.up!==void 0&&o.up.fromArray(t.up),t.castShadow!==void 0&&(o.castShadow=t.castShadow),t.receiveShadow!==void 0&&(o.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(o.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(o.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(o.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(o.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(o.visible=t.visible),t.frustumCulled!==void 0&&(o.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(o.renderOrder=t.renderOrder),t.userData!==void 0&&(o.userData=t.userData),t.layers!==void 0&&(o.layers.mask=t.layers),t.children!==void 0){const h=t.children;for(let p=0;p<h.length;p++)o.add(this.parseObject(h[p],e,n,r,a))}if(t.animations!==void 0){const h=t.animations;for(let p=0;p<h.length;p++){const g=h[p];o.animations.push(a[g])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(o.autoUpdate=t.autoUpdate);const h=t.levels;for(let p=0;p<h.length;p++){const g=h[p],m=o.getObjectByProperty("uuid",g.object);m!==void 0&&o.addLevel(m,g.distance,g.hysteresis)}}return o}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=e[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const n=e.target,r=t.getObjectByProperty("uuid",n);r!==void 0?e.target=r:e.target=new oi}})}}const Rit={UVMapping:b2,CubeReflectionMapping:vh,CubeRefractionMapping:ip,EquirectangularReflectionMapping:K1,EquirectangularRefractionMapping:Q1,CubeUVReflectionMapping:g_},x4={RepeatWrapping:rp,ClampToEdgeWrapping:Us,MirroredRepeatWrapping:U0},b4={NearestFilter:oa,NearestMipmapNearestFilter:T2,NearestMipmapLinearFilter:pg,LinearFilter:xr,LinearMipmapNearestFilter:D0,LinearMipmapLinearFilter:Rl},lL=new WeakMap;class XW extends $o{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(t){return this.options=t,this}load(t,e,n,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=this,o=Pc.get(`image-bitmap:${t}`);if(o!==void 0){if(a.manager.itemStart(t),o.then){o.then(u=>{if(lL.has(o)===!0)r&&r(lL.get(o)),a.manager.itemError(t),a.manager.itemEnd(t);else return e&&e(u),a.manager.itemEnd(t),u});return}return setTimeout(function(){e&&e(o),a.manager.itemEnd(t)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,s.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(t,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return Pc.add(`image-bitmap:${t}`,u),e&&e(u),a.manager.itemEnd(t),u}).catch(function(u){r&&r(u),lL.set(l,u),Pc.remove(`image-bitmap:${t}`),a.manager.itemError(t),a.manager.itemEnd(t)});Pc.add(`image-bitmap:${t}`,l),a.manager.itemStart(t)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let yA;class Rz{static getContext(){return yA===void 0&&(yA=new(window.AudioContext||window.webkitAudioContext)),yA}static setContext(t){yA=t}}class Lit extends $o{constructor(t){super(t)}load(t,e,n,r){const a=this,o=new Lu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(l){try{const u=l.slice(0);Rz.getContext().decodeAudioData(u,function(f){e(f)}).catch(s)}catch(u){s(u)}},n,r);function s(l){r?r(l):console.error(l),a.manager.itemError(t)}}}const T4=new un,M4=new un,yv=new un;class Iit{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Sr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Sr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,yv.copy(t.projectionMatrix);const r=e.eyeSep/2,a=r*e.near/e.focus,o=e.near*Math.tan(wg*e.fov*.5)/e.zoom;let s,l;M4.elements[12]=-r,T4.elements[12]=r,s=-o*e.aspect+a,l=o*e.aspect+a,yv.elements[0]=2*e.near/(l-s),yv.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(yv),s=-o*e.aspect-a,l=o*e.aspect-a,yv.elements[0]=2*e.near/(l-s),yv.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(yv)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(M4),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(T4)}}class WW extends Sr{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}}class Lz{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=performance.now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}const _v=new it,uL=new Ra,Nit=new it,Sv=new it,xv=new it;class Oit extends oi{constructor(){super(),this.type="AudioListener",this.context=Rz.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Lz}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_v,uL,Nit),Sv.set(0,0,-1).applyQuaternion(uL),xv.set(0,1,0).applyQuaternion(uL),e.positionX){const n=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(_v.x,n),e.positionY.linearRampToValueAtTime(_v.y,n),e.positionZ.linearRampToValueAtTime(_v.z,n),e.forwardX.linearRampToValueAtTime(Sv.x,n),e.forwardY.linearRampToValueAtTime(Sv.y,n),e.forwardZ.linearRampToValueAtTime(Sv.z,n),e.upX.linearRampToValueAtTime(xv.x,n),e.upY.linearRampToValueAtTime(xv.y,n),e.upZ.linearRampToValueAtTime(xv.z,n)}else e.setPosition(_v.x,_v.y,_v.z),e.setOrientation(Sv.x,Sv.y,Sv.z,xv.x,xv.y,xv.z)}}class YW extends oi{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const bv=new it,A4=new Ra,Pit=new it,Tv=new it;class zit extends YW{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(bv,A4,Pit),Tv.set(0,0,1).applyQuaternion(A4);const e=this.panner;if(e.positionX){const n=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(bv.x,n),e.positionY.linearRampToValueAtTime(bv.y,n),e.positionZ.linearRampToValueAtTime(bv.z,n),e.orientationX.linearRampToValueAtTime(Tv.x,n),e.orientationY.linearRampToValueAtTime(Tv.y,n),e.orientationZ.linearRampToValueAtTime(Tv.z,n)}else e.setPosition(bv.x,bv.y,bv.z),e.setOrientation(Tv.x,Tv.y,Tv.z)}}class Bit{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}}class qW{constructor(t,e,n){this.binding=t,this.valueSize=n;let r,a,o;switch(e){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const n=this.buffer,r=this.valueSize,a=t*r+r;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==r;++s)n[a+s]=n[s];o=e}else{o+=e;const s=e/o;this._mixBufferRegion(n,a,0,s,r)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,n=this.buffer,r=t*e+e,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=e*this._origIndex;this._mixBufferRegion(n,r,l,1-a,e)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*e,1,e);for(let l=e,u=e+e;l!==u;++l)if(n[l]!==n[l+e]){s.setValue(n,r);break}}saveOriginalState(){const t=this.binding,e=this.buffer,n=this.valueSize,r=n*this._origIndex;t.getValue(e,r);for(let a=n,o=r;a!==o;++a)e[a]=e[r+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]}_select(t,e,n,r,a){if(r>=.5)for(let o=0;o!==a;++o)t[e+o]=t[n+o]}_slerp(t,e,n,r){Ra.slerpFlat(t,e,t,e,t,n,r)}_slerpAdditive(t,e,n,r,a){const o=this._workIndex*a;Ra.multiplyQuaternionsFlat(t,o,t,e,t,n),Ra.slerpFlat(t,e,t,e,t,o,r)}_lerp(t,e,n,r,a){const o=1-r;for(let s=0;s!==a;++s){const l=e+s;t[l]=t[l]*o+t[n+s]*r}}_lerpAdditive(t,e,n,r,a){for(let o=0;o!==a;++o){const s=e+o;t[s]=t[s]+t[n+o]*r}}}const Iz="\\[\\]\\.:\\/",Uit=new RegExp("["+Iz+"]","g"),Nz="[^"+Iz+"]",Vit="[^"+Iz.replace("\\.","")+"]",Hit=/((?:WC+[\/:])*)/.source.replace("WC",Nz),kit=/(WCOD+)?/.source.replace("WCOD",Vit),Fit=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Nz),Git=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Nz),Xit=new RegExp("^"+Hit+kit+Fit+Git+"$"),Wit=["material","materials","bones","map"];class Yit{constructor(t,e,n){const r=n||li.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}class li{constructor(t,e,n){this.path=e,this.parsedPath=n||li.parseTrackName(e),this.node=li.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new li.Composite(t,e,n):new li(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Uit,"")}static parseTrackName(t){const e=Xit.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=n.nodeName.substring(r+1);Wit.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(n!==void 0)return n}if(t.children){const n=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===e||s.uuid===e)return s;const l=n(s.children);if(l)return l}return null},r=n(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)t[e++]=n[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,r=e.propertyName;let a=e.propertyIndex;if(t||(t=li.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let u=e.objectIndex;switch(n){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let c=0;c<t.length;c++)if(t[c].name===u){u=c;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[n]}if(u!==void 0){if(t[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[u]}}const o=t[r];if(o===void 0){const u=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",t);return}let s=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?s=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[a]!==void 0&&(a=t.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}li.Composite=Yit;li.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};li.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};li.prototype.GetterByBindingType=[li.prototype._getValue_direct,li.prototype._getValue_array,li.prototype._getValue_arrayElement,li.prototype._getValue_toArray];li.prototype.SetterByBindingTypeAndVersioning=[[li.prototype._setValue_direct,li.prototype._setValue_direct_setNeedsUpdate,li.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[li.prototype._setValue_array,li.prototype._setValue_array_setNeedsUpdate,li.prototype._setValue_array_setMatrixWorldNeedsUpdate],[li.prototype._setValue_arrayElement,li.prototype._setValue_arrayElement_setNeedsUpdate,li.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[li.prototype._setValue_fromArray,li.prototype._setValue_fromArray_setNeedsUpdate,li.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class qit{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ws(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,n=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length;let s,l=t.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],p=h.uuid;let g=e[p];if(g===void 0){g=l++,e[p]=g,t.push(h);for(let m=0,_=o;m!==_;++m)a[m].push(new li(h,n[m],r[m]))}else if(g<u){s=t[g];const m=--u,_=t[m];e[_.uuid]=g,t[g]=_,e[p]=m,t[m]=h;for(let S=0,T=o;S!==T;++S){const M=a[S],w=M[m];let D=M[g];M[g]=w,D===void 0&&(D=new li(h,n[S],r[S])),M[m]=D}}else t[g]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],u=l.uuid,c=e[u];if(c!==void 0&&c>=a){const f=a++,h=t[f];e[h.uuid]=c,t[c]=h,e[u]=f,t[f]=l;for(let p=0,g=r;p!==g;++p){const m=n[p],_=m[f],S=m[c];m[c]=_,m[f]=S}}}this.nCachedObjects_=a}uncache(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length;let a=this.nCachedObjects_,o=t.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],c=u.uuid,f=e[c];if(f!==void 0)if(delete e[c],f<a){const h=--a,p=t[h],g=--o,m=t[g];e[p.uuid]=f,t[f]=p,e[m.uuid]=h,t[h]=m,t.pop();for(let _=0,S=r;_!==S;++_){const T=n[_],M=T[h],w=T[g];T[f]=M,T[h]=w,T.pop()}}else{const h=--o,p=t[h];h>0&&(e[p.uuid]=f),t[f]=p,t.pop();for(let g=0,m=r;g!==m;++g){const _=n[g];_[f]=_[h],_.pop()}}}this.nCachedObjects_=a}subscribe_(t,e){const n=this._bindingsIndicesByPath;let r=n[t];const a=this._bindings;if(r!==void 0)return a[r];const o=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);r=a.length,n[t]=r,o.push(t),s.push(e),a.push(f);for(let h=c,p=l.length;h!==p;++h){const g=l[h];f[h]=new li(g,t,e)}return f}unsubscribe_(t){const e=this._bindingsIndicesByPath,n=e[t];if(n!==void 0){const r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],u=t[s];e[u]=n,o[n]=l,o.pop(),a[n]=a[s],a.pop(),r[n]=r[s],r.pop()}}}class ZW{constructor(t,e,n=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=r;const a=e.tracks,o=a.length,s=new Array(o),l={endingStart:vg,endingEnd:vg};for(let u=0;u!==o;++u){const c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=UX,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n=!1){if(t.fadeOut(e),this.fadeIn(e),n===!0){const r=this._clip.duration,a=t._clip.duration,o=a/r,s=r/a;t.warp(1,o,e),this.warp(s,1,e)}return this}crossFadeTo(t,e,n=!1){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const r=this._mixer,a=r.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=r._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,l[1]=a+n,u[0]=t/o,u[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,r){if(!this.enabled){this._updateWeight(t);return}const a=this._startTime;if(a!==null){const l=(t-a)*n;l<0||n===0?e=0:(this._startTime=null,e=n*l)}e*=this._updateTimeScale(t);const o=this._updateTime(e),s=this._updateWeight(t);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case $3:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);break;case R2:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(r,s)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let r=this.time+t,a=this._loopCount;const o=n===VX;if(t===0)return a===-1?r:o&&(a&1)===1?e-r:r;if(n===BX){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else if(r<0)r=0;else{this.time=r;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(a===-1&&(t>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=e||r<0){const s=Math.floor(r/e);r-=e*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(l===1){const u=t<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=r;if(o&&(a&1)===1)return e-r}return r}_setEndings(t,e,n){const r=this._interpolantSettings;n?(r.endingStart=gg,r.endingEnd=gg):(t?r.endingStart=this.zeroSlopeAtStart?gg:vg:r.endingStart=J1,e?r.endingEnd=this.zeroSlopeAtEnd?gg:vg:r.endingEnd=J1)}_scheduleFading(t,e,n){const r=this._mixer,a=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=e,s[1]=a+t,l[1]=n,this}}const Zit=new Float32Array(1);class jit extends tf{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const n=t._localRoot||this._root,r=t._clip.tracks,a=r.length,o=t._propertyBindings,s=t._interpolants,l=n.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==a;++f){const h=r[f],p=h.name;let g=c[p];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const m=e&&e._propertyBindings[f].binding.parsedPath;g=new qW(li.create(n,p,m),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),o[f]=g}s[f].resultBuffer=g.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const n=(t._localRoot||this._root).uuid,r=t._clip.uuid,a=this._actionsByClip[r];this._bindAction(t,a&&a.knownActions[0]),this._addInactiveAction(t,r,n)}const e=t._propertyBindings;for(let n=0,r=e.length;n!==r;++n){const a=e[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let n=0,r=e.length;n!==r;++n){const a=e[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,n){const r=this._actions,a=this._actionsByClip;let o=a[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,a[e]=o;else{const s=o.knownActions;t._byClipCacheIndex=s.length,s.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t}_removeInactiveAction(t){const e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;const a=t._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,u=l[l.length-1],c=t._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),t._byClipCacheIndex=null;const f=s.actionByRoot,h=(t._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let n=0,r=e.length;n!==r;++n){const a=e[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(t){const e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=n,e[n]=a}_takeBackAction(t){const e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=n,e[n]=a}_addInactiveBinding(t,e,n){const r=this._bindingsByRootAndName,a=this._bindings;let o=r[e];o===void 0&&(o={},r[e]=o),o[n]=t,t._cacheIndex=a.length,a.push(t)}_removeInactiveBinding(t){const e=this._bindings,n=t.binding,r=n.rootNode.uuid,a=n.path,o=this._bindingsByRootAndName,s=o[r],l=e[e.length-1],u=t._cacheIndex;l._cacheIndex=u,e[u]=l,e.pop(),delete s[a],Object.keys(s).length===0&&delete o[r]}_lendBinding(t){const e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=n,e[n]=a}_takeBackBinding(t){const e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=n,e[n]=a}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return n===void 0&&(n=new Tz(new Float32Array(2),new Float32Array(2),1,Zit),n.__cacheIndex=e,t[e]=n),n}_takeBackControlInterpolant(t){const e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,a=e[r];t.__cacheIndex=r,e[r]=t,a.__cacheIndex=n,e[n]=a}clipAction(t,e,n){const r=e||this._root,a=r.uuid;let o=typeof t=="string"?K0.findByName(r,t):t;const s=o!==null?o.uuid:t,l=this._actionsByClip[s];let u=null;if(n===void 0&&(o!==null?n=o.blendMode:n=R2),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===n)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new ZW(this,o,e,n);return this._bindAction(c,u),this._addInactiveAction(c,s,a),c}existingAction(t,e){const n=e||this._root,r=n.uuid,a=typeof t=="string"?K0.findByName(n,t):t,o=a?a.uuid:t,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[r]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let n=e-1;n>=0;--n)t[n].stop();return this}update(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,r=this.time+=t,a=Math.sign(t),o=this._accuIndex^=1;for(let u=0;u!==n;++u)e[u]._update(r,t,a,o);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,n=t.uuid,r=this._actionsByClip,a=r[n];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const u=o[s];this._deactivateAction(u);const c=u._cacheIndex,f=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,e[c]=f,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}uncacheRoot(t){const e=t.uuid,n=this._actionsByClip;for(const o in n){const s=n[o].actionByRoot,l=s[e];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,a=r[e];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(t,e){const n=this.existingAction(t,e);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Kit extends iz{constructor(t=1,e=1,n=1,r={}){super(t,e,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new I2(null,t,e,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Oz{constructor(t){this.value=t}clone(){return new Oz(this.value.clone===void 0?this.value:this.value.clone())}}let Qit=0;class Jit extends tf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Qit++}),this.name="",this.usage=tb,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let n=0,r=e.length;n<r;n++){const a=Array.isArray(e[n])?e[n]:[e[n]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class $it extends Gb{constructor(t,e,n=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class trt{constructor(t,e,n,r,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=r,this.count=a,this.normalized=o,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const w4=new un;class jW{constructor(t,e,n=0,r=1/0){this.ray=new $g(t,e),this.near=n,this.far=r,this.camera=null,this.layers=new q0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return w4.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(w4),this}intersectObject(t,e=!0,n=[]){return _O(t,this,n,e),n.sort(E4),n}intersectObjects(t,e=!0,n=[]){for(let r=0,a=t.length;r<a;r++)_O(t[r],this,n,e);return n.sort(E4),n}}function E4(i,t){return i.distance-t.distance}function _O(i,t,e,n){let r=!0;if(i.layers.test(t.layers)&&i.raycast(t,e)===!1&&(r=!1),r===!0&&n===!0){const a=i.children;for(let o=0,s=a.length;o<s;o++)_O(a[o],t,e,!0)}}class ert{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(t){this._document=t,t.hidden!==void 0&&(this._pageVisibilityHandler=nrt.bind(this),t.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(t){return this._timescale=t,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(t){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(t!==void 0?t:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function nrt(){this._document.hidden===!1&&this.reset()}class SO{constructor(t=1,e=0,n=0){this.radius=t,this.phi=e,this.theta=n}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=mn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(mn(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class irt{constructor(t=1,e=0,n=0){this.radius=t,this.theta=e,this.y=n}set(t,e,n){return this.radius=t,this.theta=e,this.y=n,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}clone(){return new this.constructor().copy(this)}}class Pz{constructor(t,e,n,r){Pz.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let n=0;n<4;n++)this.elements[n]=t[n+e];return this}set(t,e,n,r){const a=this.elements;return a[0]=t,a[2]=e,a[1]=n,a[3]=r,this}}const C4=new Zt;class rrt{constructor(t=new Zt(1/0,1/0),e=new Zt(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=C4.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,C4).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const D4=new it,_A=new it,By=new it,Uy=new it,cL=new it,art=new it,ort=new it;class srt{constructor(t=new it,e=new it){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){D4.subVectors(t,this.start),_A.subVectors(this.end,this.start);const n=_A.dot(_A);let a=_A.dot(D4)/n;return e&&(a=mn(a,0,1)),a}closestPointToPoint(t,e,n){const r=this.closestPointToPointParameter(t,e);return this.delta(n).multiplyScalar(r).add(this.start)}distanceSqToLine3(t,e=art,n=ort){const r=10000000000000001e-32;let a,o;const s=this.start,l=t.start,u=this.end,c=t.end;By.subVectors(u,s),Uy.subVectors(c,l),cL.subVectors(s,l);const f=By.dot(By),h=Uy.dot(Uy),p=Uy.dot(cL);if(f<=r&&h<=r)return e.copy(s),n.copy(l),e.sub(n),e.dot(e);if(f<=r)a=0,o=p/h,o=mn(o,0,1);else{const g=By.dot(cL);if(h<=r)o=0,a=mn(-g/f,0,1);else{const m=By.dot(Uy),_=f*h-m*m;_!==0?a=mn((m*p-g*h)/_,0,1):a=0,o=(m*a+p)/h,o<0?(o=0,a=mn(-g/f,0,1)):o>1&&(o=1,a=mn((m-g)/f,0,1))}}return e.copy(s).add(By.multiplyScalar(a)),n.copy(l).add(Uy.multiplyScalar(o)),e.sub(n),e.dot(e)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const R4=new it;class lrt extends oi{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const n=new Ln,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const u=o/l*Math.PI*2,c=s/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new Ge(r,3));const a=new bo({fog:!1,toneMapped:!1});this.cone=new Pu(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),R4.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(R4),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const bd=new it,SA=new un,fL=new un;class urt extends Pu{constructor(t){const e=KW(t),n=new Ln,r=[],a=[];for(let u=0;u<e.length;u++){const c=e[u];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}n.setAttribute("position",new Ge(r,3)),n.setAttribute("color",new Ge(a,3));const o=new bo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;const s=new Me(255),l=new Me(65280);this.setColors(s,l)}updateMatrixWorld(t){const e=this.bones,n=this.geometry,r=n.getAttribute("position");fL.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<e.length;a++){const s=e[a];s.parent&&s.parent.isBone&&(SA.multiplyMatrices(fL,s.matrixWorld),bd.setFromMatrixPosition(SA),r.setXYZ(o,bd.x,bd.y,bd.z),SA.multiplyMatrices(fL,s.parent.matrixWorld),bd.setFromMatrixPosition(SA),r.setXYZ(o+1,bd.x,bd.y,bd.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}setColors(t,e){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,t.r,t.g,t.b),r.setXYZ(a+1,e.r,e.g,e.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function KW(i){const t=[];i.isBone===!0&&t.push(i);for(let e=0;e<i.children.length;e++)t.push(...KW(i.children[e]));return t}class crt extends Nr{constructor(t,e,n){const r=new Zb(e,4,2),a=new Hs({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=t,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const frt=new it,L4=new Me,I4=new Me;class hrt extends oi{constructor(t,e,n){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new qb(e);r.rotateY(Math.PI*.5),this.material=new Hs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),o=new Float32Array(a.count*3);r.setAttribute("color",new xi(o,3)),this.add(new Nr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");L4.copy(this.light.color),I4.copy(this.light.groundColor);for(let n=0,r=e.count;n<r;n++){const a=n<r/2?L4:I4;e.setXYZ(n,a.r,a.g,a.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(frt.setFromMatrixPosition(this.light.matrixWorld).negate())}}class drt extends Pu{constructor(t=10,e=10,n=4473924,r=8947848){n=new Me(n),r=new Me(r);const a=e/2,o=t/e,s=t/2,l=[],u=[];for(let h=0,p=0,g=-s;h<=e;h++,g+=o){l.push(-s,0,g,s,0,g),l.push(g,0,-s,g,0,s);const m=h===a?n:r;m.toArray(u,p),p+=3,m.toArray(u,p),p+=3,m.toArray(u,p),p+=3,m.toArray(u,p),p+=3}const c=new Ln;c.setAttribute("position",new Ge(l,3)),c.setAttribute("color",new Ge(u,3));const f=new bo({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class prt extends Pu{constructor(t=10,e=16,n=8,r=64,a=4473924,o=8947848){a=new Me(a),o=new Me(o);const s=[],l=[];if(e>1)for(let f=0;f<e;f++){const h=f/e*(Math.PI*2),p=Math.sin(h)*t,g=Math.cos(h)*t;s.push(0,0,0),s.push(p,0,g);const m=f&1?a:o;l.push(m.r,m.g,m.b),l.push(m.r,m.g,m.b)}for(let f=0;f<n;f++){const h=f&1?a:o,p=t-t/n*f;for(let g=0;g<r;g++){let m=g/r*(Math.PI*2),_=Math.sin(m)*p,S=Math.cos(m)*p;s.push(_,0,S),l.push(h.r,h.g,h.b),m=(g+1)/r*(Math.PI*2),_=Math.sin(m)*p,S=Math.cos(m)*p,s.push(_,0,S),l.push(h.r,h.g,h.b)}}const u=new Ln;u.setAttribute("position",new Ge(s,3)),u.setAttribute("color",new Ge(l,3));const c=new bo({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const N4=new it,xA=new it,O4=new it;class vrt extends oi{constructor(t,e,n){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",e===void 0&&(e=1);let r=new Ln;r.setAttribute("position",new Ge([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const a=new bo({fog:!1,toneMapped:!1});this.lightPlane=new mh(r,a),this.add(this.lightPlane),r=new Ln,r.setAttribute("position",new Ge([0,0,0,0,0,1],3)),this.targetLine=new mh(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),N4.setFromMatrixPosition(this.light.matrixWorld),xA.setFromMatrixPosition(this.light.target.matrixWorld),O4.subVectors(xA,N4),this.lightPlane.lookAt(xA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(xA),this.targetLine.scale.z=O4.length()}}const bA=new it,mr=new N2;class grt extends Pu{constructor(t){const e=new Ln,n=new bo({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(g,m){l(g),l(m)}function l(g){r.push(0,0,0),a.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(r.length/3-1)}e.setAttribute("position",new Ge(r,3)),e.setAttribute("color",new Ge(a,3)),super(e,n),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Me(16755200),c=new Me(16711680),f=new Me(43775),h=new Me(16777215),p=new Me(3355443);this.setColors(u,c,f,h,p)}setColors(t,e,n,r,a){const s=this.geometry.getAttribute("color");return s.setXYZ(0,t.r,t.g,t.b),s.setXYZ(1,t.r,t.g,t.b),s.setXYZ(2,t.r,t.g,t.b),s.setXYZ(3,t.r,t.g,t.b),s.setXYZ(4,t.r,t.g,t.b),s.setXYZ(5,t.r,t.g,t.b),s.setXYZ(6,t.r,t.g,t.b),s.setXYZ(7,t.r,t.g,t.b),s.setXYZ(8,t.r,t.g,t.b),s.setXYZ(9,t.r,t.g,t.b),s.setXYZ(10,t.r,t.g,t.b),s.setXYZ(11,t.r,t.g,t.b),s.setXYZ(12,t.r,t.g,t.b),s.setXYZ(13,t.r,t.g,t.b),s.setXYZ(14,t.r,t.g,t.b),s.setXYZ(15,t.r,t.g,t.b),s.setXYZ(16,t.r,t.g,t.b),s.setXYZ(17,t.r,t.g,t.b),s.setXYZ(18,t.r,t.g,t.b),s.setXYZ(19,t.r,t.g,t.b),s.setXYZ(20,t.r,t.g,t.b),s.setXYZ(21,t.r,t.g,t.b),s.setXYZ(22,t.r,t.g,t.b),s.setXYZ(23,t.r,t.g,t.b),s.setXYZ(24,e.r,e.g,e.b),s.setXYZ(25,e.r,e.g,e.b),s.setXYZ(26,e.r,e.g,e.b),s.setXYZ(27,e.r,e.g,e.b),s.setXYZ(28,e.r,e.g,e.b),s.setXYZ(29,e.r,e.g,e.b),s.setXYZ(30,e.r,e.g,e.b),s.setXYZ(31,e.r,e.g,e.b),s.setXYZ(32,n.r,n.g,n.b),s.setXYZ(33,n.r,n.g,n.b),s.setXYZ(34,n.r,n.g,n.b),s.setXYZ(35,n.r,n.g,n.b),s.setXYZ(36,n.r,n.g,n.b),s.setXYZ(37,n.r,n.g,n.b),s.setXYZ(38,r.r,r.g,r.b),s.setXYZ(39,r.r,r.g,r.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0,this}update(){const t=this.geometry,e=this.pointMap,n=1,r=1;let a,o;if(mr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===Vs)a=-1,o=1;else if(this.camera.coordinateSystem===W0)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Rr("c",e,t,mr,0,0,a),Rr("t",e,t,mr,0,0,o),Rr("n1",e,t,mr,-n,-r,a),Rr("n2",e,t,mr,n,-r,a),Rr("n3",e,t,mr,-n,r,a),Rr("n4",e,t,mr,n,r,a),Rr("f1",e,t,mr,-n,-r,o),Rr("f2",e,t,mr,n,-r,o),Rr("f3",e,t,mr,-n,r,o),Rr("f4",e,t,mr,n,r,o),Rr("u1",e,t,mr,n*.7,r*1.1,a),Rr("u2",e,t,mr,-n*.7,r*1.1,a),Rr("u3",e,t,mr,0,r*2,a),Rr("cf1",e,t,mr,-n,0,o),Rr("cf2",e,t,mr,n,0,o),Rr("cf3",e,t,mr,0,-r,o),Rr("cf4",e,t,mr,0,r,o),Rr("cn1",e,t,mr,-n,0,a),Rr("cn2",e,t,mr,n,0,a),Rr("cn3",e,t,mr,0,-r,a),Rr("cn4",e,t,mr,0,r,a),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Rr(i,t,e,n,r,a,o){bA.set(r,a,o).unproject(n);const s=t[i];if(s!==void 0){const l=e.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],bA.x,bA.y,bA.z)}}const TA=new Wa;class mrt extends Pu{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new Ln;a.setIndex(new xi(n,1)),a.setAttribute("position",new xi(r,3)),super(a,new bo({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&TA.setFromObject(this.object),TA.isEmpty())return;const t=TA.min,e=TA.max,n=this.geometry.attributes.position,r=n.array;r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=t.x,r[4]=e.y,r[5]=e.z,r[6]=t.x,r[7]=t.y,r[8]=e.z,r[9]=e.x,r[10]=t.y,r[11]=e.z,r[12]=e.x,r[13]=e.y,r[14]=t.z,r[15]=t.x,r[16]=e.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=e.x,r[22]=t.y,r[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class yrt extends Pu{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Ln;a.setIndex(new xi(n,1)),a.setAttribute("position",new Ge(r,3)),super(a,new bo({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class _rt extends mh{constructor(t,e=1,n=16776960){const r=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ln;o.setAttribute("position",new Ge(a,3)),o.computeBoundingSphere(),super(o,new bo({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ln;l.setAttribute("position",new Ge(s,3)),l.computeBoundingSphere(),this.add(new Nr(l,new Hs({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const P4=new it;let MA,hL;class Srt extends oi{constructor(t=new it(0,0,1),e=new it(0,0,0),n=1,r=16776960,a=n*.2,o=a*.2){super(),this.type="ArrowHelper",MA===void 0&&(MA=new Ln,MA.setAttribute("position",new Ge([0,0,0,0,1,0],3)),hL=new Yb(.5,1,5,1),hL.translate(0,-.5,0)),this.position.copy(e),this.line=new mh(MA,new bo({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Nr(hL,new Hs({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,a,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{P4.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(P4,e)}}setLength(t,e=t*.2,n=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class xrt extends Pu{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ln;r.setAttribute("position",new Ge(e,3)),r.setAttribute("color",new Ge(n,3));const a=new bo({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(t,e,n){const r=new Me,a=this.geometry.attributes.color.array;return r.set(t),r.toArray(a,0),r.toArray(a,3),r.set(e),r.toArray(a,6),r.toArray(a,9),r.set(n),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class brt{constructor(){this.type="ShapePath",this.color=new Me,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new rC,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,n,r){return this.currentPath.quadraticCurveTo(t,e,n,r),this}bezierCurveTo(t,e,n,r,a,o){return this.currentPath.bezierCurveTo(t,e,n,r,a,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(S){const T=[];for(let M=0,w=S.length;M<w;M++){const D=S[M],C=new Eg;C.curves=D.curves,T.push(C)}return T}function n(S,T){const M=T.length;let w=!1;for(let D=M-1,C=0;C<M;D=C++){let R=T[D],z=T[C],N=z.x-R.x,O=z.y-R.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(R=T[C],N=-N,z=T[D],O=-O),S.y<R.y||S.y>z.y)continue;if(S.y===R.y){if(S.x===R.x)return!0}else{const U=O*(S.x-R.x)-N*(S.y-R.y);if(U===0)return!0;if(U<0)continue;w=!w}}else{if(S.y!==R.y)continue;if(z.x<=S.x&&S.x<=R.x||R.x<=S.x&&S.x<=z.x)return!0}}return w}const r=Tu.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const u=[];if(a.length===1)return s=a[0],l=new Eg,l.curves=s.curves,u.push(l),u;let c=!r(a[0].getPoints());c=t?!c:c;const f=[],h=[];let p=[],g=0,m;h[g]=void 0,p[g]=[];for(let S=0,T=a.length;S<T;S++)s=a[S],m=s.getPoints(),o=r(m),o=t?!o:o,o?(!c&&h[g]&&g++,h[g]={s:new Eg,p:m},h[g].s.curves=s.curves,c&&g++,p[g]=[]):p[g].push({h:s,p:m[0]});if(!h[0])return e(a);if(h.length>1){let S=!1,T=0;for(let M=0,w=h.length;M<w;M++)f[M]=[];for(let M=0,w=h.length;M<w;M++){const D=p[M];for(let C=0;C<D.length;C++){const R=D[C];let z=!0;for(let N=0;N<h.length;N++)n(R.p,h[N].p)&&(M!==N&&T++,z?(z=!1,f[N].push(R)):S=!0);z&&f[M].push(R)}}T>0&&S===!1&&(p=f)}let _;for(let S=0,T=h.length;S<T;S++){l=h[S].s,u.push(l),_=p[S];for(let M=0,w=_.length;M<w;M++)l.holes.push(_[M].h)}return u}}class Trt extends tf{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}}function Mrt(i,t){const e=i.image&&i.image.width?i.image.width/i.image.height:1;return e>t?(i.repeat.x=1,i.repeat.y=e/t,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=t/e,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function Art(i,t){const e=i.image&&i.image.width?i.image.width/i.image.height:1;return e>t?(i.repeat.x=t/e,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=e/t,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function wrt(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function xO(i,t,e,n){const r=Ert(n);switch(e){case K3:return i*t;case E2:return i*t/r.components*r.byteLength;case kb:return i*t/r.components*r.byteLength;case J3:return i*t*2/r.components*r.byteLength;case C2:return i*t*2/r.components*r.byteLength;case Q3:return i*t*3/r.components*r.byteLength;case _o:return i*t*4/r.components*r.byteLength;case D2:return i*t*4/r.components*r.byteLength;case E1:case C1:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*8;case D1:case R1:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case EE:case DE:return Math.max(i,16)*Math.max(t,8)/4;case wE:case CE:return Math.max(i,8)*Math.max(t,8)/2;case RE:case LE:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*8;case IE:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case NE:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case OE:return Math.floor((i+4)/5)*Math.floor((t+3)/4)*16;case PE:return Math.floor((i+4)/5)*Math.floor((t+4)/5)*16;case zE:return Math.floor((i+5)/6)*Math.floor((t+4)/5)*16;case BE:return Math.floor((i+5)/6)*Math.floor((t+5)/6)*16;case UE:return Math.floor((i+7)/8)*Math.floor((t+4)/5)*16;case VE:return Math.floor((i+7)/8)*Math.floor((t+5)/6)*16;case HE:return Math.floor((i+7)/8)*Math.floor((t+7)/8)*16;case kE:return Math.floor((i+9)/10)*Math.floor((t+4)/5)*16;case FE:return Math.floor((i+9)/10)*Math.floor((t+5)/6)*16;case GE:return Math.floor((i+9)/10)*Math.floor((t+7)/8)*16;case XE:return Math.floor((i+9)/10)*Math.floor((t+9)/10)*16;case WE:return Math.floor((i+11)/12)*Math.floor((t+9)/10)*16;case YE:return Math.floor((i+11)/12)*Math.floor((t+11)/12)*16;case qE:case ZE:case jE:return Math.ceil(i/4)*Math.ceil(t/4)*16;case KE:case QE:return Math.ceil(i/4)*Math.ceil(t/4)*8;case JE:case $E:return Math.ceil(i/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function Ert(i){switch(i){case Nl:case Y3:return{byteLength:1,components:1};case V0:case q3:case m_:return{byteLength:2,components:1};case A2:case w2:return{byteLength:2,components:4};case gh:case M2:case gs:return{byteLength:4,components:1};case Z3:case j3:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class Crt{static contain(t,e){return Mrt(t,e)}static cover(t,e){return Art(t,e)}static fill(t){return wrt(t)}static getByteLength(t,e,n,r){return xO(t,e,n,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:S2}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=S2);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function QW(){let i=null,t=!1,e=null,n=null;function r(a,o){e(a,o),n=i.requestAnimationFrame(r)}return{start:function(){t!==!0&&e!==null&&(n=i.requestAnimationFrame(r),t=!0)},stop:function(){i.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(a){e=a},setContext:function(a){i=a}}}function Drt(i){const t=new WeakMap;function e(s,l){const u=s.array,c=s.usage,f=u.byteLength,h=i.createBuffer();i.bindBuffer(l,h),i.bufferData(l,u,c),s.onUploadCallback();let p;if(u instanceof Float32Array)p=i.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)p=i.HALF_FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?p=i.HALF_FLOAT:p=i.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=i.SHORT;else if(u instanceof Uint32Array)p=i.UNSIGNED_INT;else if(u instanceof Int32Array)p=i.INT;else if(u instanceof Int8Array)p=i.BYTE;else if(u instanceof Uint8Array)p=i.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:f}}function n(s,l,u){const c=l.array,f=l.updateRanges;if(i.bindBuffer(u,s),f.length===0)i.bufferSubData(u,0,c);else{f.sort((p,g)=>p.start-g.start);let h=0;for(let p=1;p<f.length;p++){const g=f[h],m=f[p];m.start<=g.start+g.count+1?g.count=Math.max(g.count,m.start+m.count-g.start):(++h,f[h]=m)}f.length=h+1;for(let p=0,g=f.length;p<g;p++){const m=f[p];i.bufferSubData(u,m.start*c.BYTES_PER_ELEMENT,c,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(s){return s.isInterleavedBufferAttribute&&(s=s.data),t.get(s)}function a(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=t.get(s);l&&(i.deleteBuffer(l.buffer),t.delete(s))}function o(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const c=t.get(s);(!c||c.version<s.version)&&t.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const u=t.get(s);if(u===void 0)t.set(s,e(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(u.buffer,s,l),u.version=s.version}}return{get:r,remove:a,update:o}}var Rrt=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Lrt=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Irt=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Nrt=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ort=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Prt=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,zrt=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Brt=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Urt=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Vrt=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Hrt=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,krt=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Frt=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Grt=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Xrt=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Wrt=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Yrt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,qrt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Zrt=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,jrt=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Krt=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Qrt=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Jrt=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,$rt=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,tat=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,eat=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,nat=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,iat=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,rat=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,aat=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,oat="gl_FragColor = linearToOutputTexel( gl_FragColor );",sat=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,lat=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,uat=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,cat=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,fat=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,hat=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,dat=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,pat=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,vat=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,gat=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,mat=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,yat=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,_at=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Sat=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,xat=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,bat=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Tat=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Mat=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Aat=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,wat=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Eat=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Cat=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Dat=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Rat=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Lat=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Iat=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Nat=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Oat=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Pat=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,zat=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Bat=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Uat=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Vat=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Hat=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,kat=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Fat=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Gat=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Xat=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Wat=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Yat=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,qat=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Zat=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,jat=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Kat=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Qat=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Jat=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$at=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,tot=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,eot=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,not=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,iot=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,rot=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,aot=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,oot=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,sot=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,lot=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,uot=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,cot=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,fot=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,hot=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,dot=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,pot=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,vot=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,got=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,mot=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,yot=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_ot=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Sot=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,xot=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,bot=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Tot=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Mot=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Aot=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,wot=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Eot=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Cot=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Dot=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Rot=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lot=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Iot=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Not=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Oot=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Pot=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,zot=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Bot=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Uot=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Vot=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Hot=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kot=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Fot=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Got=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Xot=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wot=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yot=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qot=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Zot=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jot=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Kot=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Qot=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jot=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$ot=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,tst=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,est=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nst=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ist=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,rst=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ast=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ost=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sst=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lst=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Hn={alphahash_fragment:Rrt,alphahash_pars_fragment:Lrt,alphamap_fragment:Irt,alphamap_pars_fragment:Nrt,alphatest_fragment:Ort,alphatest_pars_fragment:Prt,aomap_fragment:zrt,aomap_pars_fragment:Brt,batching_pars_vertex:Urt,batching_vertex:Vrt,begin_vertex:Hrt,beginnormal_vertex:krt,bsdfs:Frt,iridescence_fragment:Grt,bumpmap_pars_fragment:Xrt,clipping_planes_fragment:Wrt,clipping_planes_pars_fragment:Yrt,clipping_planes_pars_vertex:qrt,clipping_planes_vertex:Zrt,color_fragment:jrt,color_pars_fragment:Krt,color_pars_vertex:Qrt,color_vertex:Jrt,common:$rt,cube_uv_reflection_fragment:tat,defaultnormal_vertex:eat,displacementmap_pars_vertex:nat,displacementmap_vertex:iat,emissivemap_fragment:rat,emissivemap_pars_fragment:aat,colorspace_fragment:oat,colorspace_pars_fragment:sat,envmap_fragment:lat,envmap_common_pars_fragment:uat,envmap_pars_fragment:cat,envmap_pars_vertex:fat,envmap_physical_pars_fragment:bat,envmap_vertex:hat,fog_vertex:dat,fog_pars_vertex:pat,fog_fragment:vat,fog_pars_fragment:gat,gradientmap_pars_fragment:mat,lightmap_pars_fragment:yat,lights_lambert_fragment:_at,lights_lambert_pars_fragment:Sat,lights_pars_begin:xat,lights_toon_fragment:Tat,lights_toon_pars_fragment:Mat,lights_phong_fragment:Aat,lights_phong_pars_fragment:wat,lights_physical_fragment:Eat,lights_physical_pars_fragment:Cat,lights_fragment_begin:Dat,lights_fragment_maps:Rat,lights_fragment_end:Lat,logdepthbuf_fragment:Iat,logdepthbuf_pars_fragment:Nat,logdepthbuf_pars_vertex:Oat,logdepthbuf_vertex:Pat,map_fragment:zat,map_pars_fragment:Bat,map_particle_fragment:Uat,map_particle_pars_fragment:Vat,metalnessmap_fragment:Hat,metalnessmap_pars_fragment:kat,morphinstance_vertex:Fat,morphcolor_vertex:Gat,morphnormal_vertex:Xat,morphtarget_pars_vertex:Wat,morphtarget_vertex:Yat,normal_fragment_begin:qat,normal_fragment_maps:Zat,normal_pars_fragment:jat,normal_pars_vertex:Kat,normal_vertex:Qat,normalmap_pars_fragment:Jat,clearcoat_normal_fragment_begin:$at,clearcoat_normal_fragment_maps:tot,clearcoat_pars_fragment:eot,iridescence_pars_fragment:not,opaque_fragment:iot,packing:rot,premultiplied_alpha_fragment:aot,project_vertex:oot,dithering_fragment:sot,dithering_pars_fragment:lot,roughnessmap_fragment:uot,roughnessmap_pars_fragment:cot,shadowmap_pars_fragment:fot,shadowmap_pars_vertex:hot,shadowmap_vertex:dot,shadowmask_pars_fragment:pot,skinbase_vertex:vot,skinning_pars_vertex:got,skinning_vertex:mot,skinnormal_vertex:yot,specularmap_fragment:_ot,specularmap_pars_fragment:Sot,tonemapping_fragment:xot,tonemapping_pars_fragment:bot,transmission_fragment:Tot,transmission_pars_fragment:Mot,uv_pars_fragment:Aot,uv_pars_vertex:wot,uv_vertex:Eot,worldpos_vertex:Cot,background_vert:Dot,background_frag:Rot,backgroundCube_vert:Lot,backgroundCube_frag:Iot,cube_vert:Not,cube_frag:Oot,depth_vert:Pot,depth_frag:zot,distanceRGBA_vert:Bot,distanceRGBA_frag:Uot,equirect_vert:Vot,equirect_frag:Hot,linedashed_vert:kot,linedashed_frag:Fot,meshbasic_vert:Got,meshbasic_frag:Xot,meshlambert_vert:Wot,meshlambert_frag:Yot,meshmatcap_vert:qot,meshmatcap_frag:Zot,meshnormal_vert:jot,meshnormal_frag:Kot,meshphong_vert:Qot,meshphong_frag:Jot,meshphysical_vert:$ot,meshphysical_frag:tst,meshtoon_vert:est,meshtoon_frag:nst,points_vert:ist,points_frag:rst,shadow_vert:ast,shadow_frag:ost,sprite_vert:sst,sprite_frag:lst},we={common:{diffuse:{value:new Me(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Rn},alphaMap:{value:null},alphaMapTransform:{value:new Rn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Rn}},envmap:{envMap:{value:null},envMapRotation:{value:new Rn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Rn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Rn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Rn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Rn},normalScale:{value:new Zt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Rn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Rn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Rn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Rn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Me(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Me(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Rn},alphaTest:{value:0},uvTransform:{value:new Rn}},sprite:{diffuse:{value:new Me(16777215)},opacity:{value:1},center:{value:new Zt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Rn},alphaMap:{value:null},alphaMapTransform:{value:new Rn},alphaTest:{value:0}}},xu={basic:{uniforms:Xo([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.fog]),vertexShader:Hn.meshbasic_vert,fragmentShader:Hn.meshbasic_frag},lambert:{uniforms:Xo([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.fog,we.lights,{emissive:{value:new Me(0)}}]),vertexShader:Hn.meshlambert_vert,fragmentShader:Hn.meshlambert_frag},phong:{uniforms:Xo([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.fog,we.lights,{emissive:{value:new Me(0)},specular:{value:new Me(1118481)},shininess:{value:30}}]),vertexShader:Hn.meshphong_vert,fragmentShader:Hn.meshphong_frag},standard:{uniforms:Xo([we.common,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.roughnessmap,we.metalnessmap,we.fog,we.lights,{emissive:{value:new Me(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Hn.meshphysical_vert,fragmentShader:Hn.meshphysical_frag},toon:{uniforms:Xo([we.common,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.gradientmap,we.fog,we.lights,{emissive:{value:new Me(0)}}]),vertexShader:Hn.meshtoon_vert,fragmentShader:Hn.meshtoon_frag},matcap:{uniforms:Xo([we.common,we.bumpmap,we.normalmap,we.displacementmap,we.fog,{matcap:{value:null}}]),vertexShader:Hn.meshmatcap_vert,fragmentShader:Hn.meshmatcap_frag},points:{uniforms:Xo([we.points,we.fog]),vertexShader:Hn.points_vert,fragmentShader:Hn.points_frag},dashed:{uniforms:Xo([we.common,we.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Hn.linedashed_vert,fragmentShader:Hn.linedashed_frag},depth:{uniforms:Xo([we.common,we.displacementmap]),vertexShader:Hn.depth_vert,fragmentShader:Hn.depth_frag},normal:{uniforms:Xo([we.common,we.bumpmap,we.normalmap,we.displacementmap,{opacity:{value:1}}]),vertexShader:Hn.meshnormal_vert,fragmentShader:Hn.meshnormal_frag},sprite:{uniforms:Xo([we.sprite,we.fog]),vertexShader:Hn.sprite_vert,fragmentShader:Hn.sprite_frag},background:{uniforms:{uvTransform:{value:new Rn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Hn.background_vert,fragmentShader:Hn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Rn}},vertexShader:Hn.backgroundCube_vert,fragmentShader:Hn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Hn.cube_vert,fragmentShader:Hn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Hn.equirect_vert,fragmentShader:Hn.equirect_frag},distanceRGBA:{uniforms:Xo([we.common,we.displacementmap,{referencePosition:{value:new it},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Hn.distanceRGBA_vert,fragmentShader:Hn.distanceRGBA_frag},shadow:{uniforms:Xo([we.lights,we.fog,{color:{value:new Me(0)},opacity:{value:1}}]),vertexShader:Hn.shadow_vert,fragmentShader:Hn.shadow_frag}};xu.physical={uniforms:Xo([xu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Rn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Rn},clearcoatNormalScale:{value:new Zt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Rn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Rn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Rn},sheen:{value:0},sheenColor:{value:new Me(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Rn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Rn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Rn},transmissionSamplerSize:{value:new Zt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Rn},attenuationDistance:{value:0},attenuationColor:{value:new Me(0)},specularColor:{value:new Me(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Rn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Rn},anisotropyVector:{value:new Zt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Rn}}]),vertexShader:Hn.meshphysical_vert,fragmentShader:Hn.meshphysical_frag};const AA={r:0,b:0,g:0},Mv=new qs,ust=new un;function cst(i,t,e,n,r,a,o){const s=new Me(0);let l=a===!0?0:1,u,c,f=null,h=0,p=null;function g(M){let w=M.isScene===!0?M.background:null;return w&&w.isTexture&&(w=(M.backgroundBlurriness>0?e:t).get(w)),w}function m(M){let w=!1;const D=g(M);D===null?S(s,l):D&&D.isColor&&(S(D,1),w=!0);const C=i.xr.getEnvironmentBlendMode();C==="additive"?n.buffers.color.setClear(0,0,0,1,o):C==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(i.autoClear||w)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function _(M,w){const D=g(w);D&&(D.isCubeTexture||D.mapping===g_)?(c===void 0&&(c=new Nr(new tm(1,1,1),new Ru({name:"BackgroundCubeMaterial",uniforms:Z0(xu.backgroundCube.uniforms),vertexShader:xu.backgroundCube.vertexShader,fragmentShader:xu.backgroundCube.fragmentShader,side:jo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(C,R,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),Mv.copy(w.backgroundRotation),Mv.x*=-1,Mv.y*=-1,Mv.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Mv.y*=-1,Mv.z*=-1),c.material.uniforms.envMap.value=D,c.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(ust.makeRotationFromEuler(Mv)),c.material.toneMapped=Qn.getTransfer(D.colorSpace)!==Di,(f!==D||h!==D.version||p!==i.toneMapping)&&(c.material.needsUpdate=!0,f=D,h=D.version,p=i.toneMapping),c.layers.enableAll(),M.unshift(c,c.geometry,c.material,0,0,null)):D&&D.isTexture&&(u===void 0&&(u=new Nr(new __(2,2),new Ru({name:"BackgroundMaterial",uniforms:Z0(xu.background.uniforms),vertexShader:xu.background.vertexShader,fragmentShader:xu.background.fragmentShader,side:Yc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=D,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=Qn.getTransfer(D.colorSpace)!==Di,D.matrixAutoUpdate===!0&&D.updateMatrix(),u.material.uniforms.uvTransform.value.copy(D.matrix),(f!==D||h!==D.version||p!==i.toneMapping)&&(u.material.needsUpdate=!0,f=D,h=D.version,p=i.toneMapping),u.layers.enableAll(),M.unshift(u,u.geometry,u.material,0,0,null))}function S(M,w){M.getRGB(AA,nW(i)),n.buffers.color.setClear(AA.r,AA.g,AA.b,w,o)}function T(){c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return s},setClearColor:function(M,w=1){s.set(M),l=w,S(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(M){l=M,S(s,l)},render:m,addToRenderList:_,dispose:T}}function fst(i,t){const e=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=h(null);let a=r,o=!1;function s(O,U,F,V,W){let Z=!1;const H=f(V,F,U);a!==H&&(a=H,u(a.object)),Z=p(O,V,F,W),Z&&g(O,V,F,W),W!==null&&t.update(W,i.ELEMENT_ARRAY_BUFFER),(Z||o)&&(o=!1,w(O,U,F,V),W!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.get(W).buffer))}function l(){return i.createVertexArray()}function u(O){return i.bindVertexArray(O)}function c(O){return i.deleteVertexArray(O)}function f(O,U,F){const V=F.wireframe===!0;let W=n[O.id];W===void 0&&(W={},n[O.id]=W);let Z=W[U.id];Z===void 0&&(Z={},W[U.id]=Z);let H=Z[V];return H===void 0&&(H=h(l()),Z[V]=H),H}function h(O){const U=[],F=[],V=[];for(let W=0;W<e;W++)U[W]=0,F[W]=0,V[W]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:F,attributeDivisors:V,object:O,attributes:{},index:null}}function p(O,U,F,V){const W=a.attributes,Z=U.attributes;let H=0;const j=F.getAttributes();for(const Y in j)if(j[Y].location>=0){const nt=W[Y];let q=Z[Y];if(q===void 0&&(Y==="instanceMatrix"&&O.instanceMatrix&&(q=O.instanceMatrix),Y==="instanceColor"&&O.instanceColor&&(q=O.instanceColor)),nt===void 0||nt.attribute!==q||q&&nt.data!==q.data)return!0;H++}return a.attributesNum!==H||a.index!==V}function g(O,U,F,V){const W={},Z=U.attributes;let H=0;const j=F.getAttributes();for(const Y in j)if(j[Y].location>=0){let nt=Z[Y];nt===void 0&&(Y==="instanceMatrix"&&O.instanceMatrix&&(nt=O.instanceMatrix),Y==="instanceColor"&&O.instanceColor&&(nt=O.instanceColor));const q={};q.attribute=nt,nt&&nt.data&&(q.data=nt.data),W[Y]=q,H++}a.attributes=W,a.attributesNum=H,a.index=V}function m(){const O=a.newAttributes;for(let U=0,F=O.length;U<F;U++)O[U]=0}function _(O){S(O,0)}function S(O,U){const F=a.newAttributes,V=a.enabledAttributes,W=a.attributeDivisors;F[O]=1,V[O]===0&&(i.enableVertexAttribArray(O),V[O]=1),W[O]!==U&&(i.vertexAttribDivisor(O,U),W[O]=U)}function T(){const O=a.newAttributes,U=a.enabledAttributes;for(let F=0,V=U.length;F<V;F++)U[F]!==O[F]&&(i.disableVertexAttribArray(F),U[F]=0)}function M(O,U,F,V,W,Z,H){H===!0?i.vertexAttribIPointer(O,U,F,W,Z):i.vertexAttribPointer(O,U,F,V,W,Z)}function w(O,U,F,V){m();const W=V.attributes,Z=F.getAttributes(),H=U.defaultAttributeValues;for(const j in Z){const Y=Z[j];if(Y.location>=0){let Q=W[j];if(Q===void 0&&(j==="instanceMatrix"&&O.instanceMatrix&&(Q=O.instanceMatrix),j==="instanceColor"&&O.instanceColor&&(Q=O.instanceColor)),Q!==void 0){const nt=Q.normalized,q=Q.itemSize,$=t.get(Q);if($===void 0)continue;const st=$.buffer,ft=$.type,Mt=$.bytesPerElement,dt=ft===i.INT||ft===i.UNSIGNED_INT||Q.gpuType===M2;if(Q.isInterleavedBufferAttribute){const xt=Q.data,Lt=xt.stride,Ct=Q.offset;if(xt.isInstancedInterleavedBuffer){for(let Wt=0;Wt<Y.locationSize;Wt++)S(Y.location+Wt,xt.meshPerAttribute);O.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=xt.meshPerAttribute*xt.count)}else for(let Wt=0;Wt<Y.locationSize;Wt++)_(Y.location+Wt);i.bindBuffer(i.ARRAY_BUFFER,st);for(let Wt=0;Wt<Y.locationSize;Wt++)M(Y.location+Wt,q/Y.locationSize,ft,nt,Lt*Mt,(Ct+q/Y.locationSize*Wt)*Mt,dt)}else{if(Q.isInstancedBufferAttribute){for(let xt=0;xt<Y.locationSize;xt++)S(Y.location+xt,Q.meshPerAttribute);O.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let xt=0;xt<Y.locationSize;xt++)_(Y.location+xt);i.bindBuffer(i.ARRAY_BUFFER,st);for(let xt=0;xt<Y.locationSize;xt++)M(Y.location+xt,q/Y.locationSize,ft,nt,q*Mt,q/Y.locationSize*xt*Mt,dt)}}else if(H!==void 0){const nt=H[j];if(nt!==void 0)switch(nt.length){case 2:i.vertexAttrib2fv(Y.location,nt);break;case 3:i.vertexAttrib3fv(Y.location,nt);break;case 4:i.vertexAttrib4fv(Y.location,nt);break;default:i.vertexAttrib1fv(Y.location,nt)}}}}T()}function D(){z();for(const O in n){const U=n[O];for(const F in U){const V=U[F];for(const W in V)c(V[W].object),delete V[W];delete U[F]}delete n[O]}}function C(O){if(n[O.id]===void 0)return;const U=n[O.id];for(const F in U){const V=U[F];for(const W in V)c(V[W].object),delete V[W];delete U[F]}delete n[O.id]}function R(O){for(const U in n){const F=n[U];if(F[O.id]===void 0)continue;const V=F[O.id];for(const W in V)c(V[W].object),delete V[W];delete F[O.id]}}function z(){N(),o=!0,a!==r&&(a=r,u(a.object))}function N(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:s,reset:z,resetDefaultState:N,dispose:D,releaseStatesOfGeometry:C,releaseStatesOfProgram:R,initAttributes:m,enableAttribute:_,disableUnusedAttributes:T}}function hst(i,t,e){let n;function r(u){n=u}function a(u,c){i.drawArrays(n,u,c),e.update(c,n,1)}function o(u,c,f){f!==0&&(i.drawArraysInstanced(n,u,c,f),e.update(c,n,f))}function s(u,c,f){if(f===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,u,0,c,0,f);let p=0;for(let g=0;g<f;g++)p+=c[g];e.update(p,n,1)}function l(u,c,f,h){if(f===0)return;const p=t.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<u.length;g++)o(u[g],c[g],h[g]);else{p.multiDrawArraysInstancedWEBGL(n,u,0,c,0,h,0,f);let g=0;for(let m=0;m<f;m++)g+=c[m]*h[m];e.update(g,n,1)}}this.setMode=r,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function dst(i,t,e,n){let r;function a(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){const R=t.get("EXT_texture_filter_anisotropic");r=i.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(R){return!(R!==_o&&n.convert(R)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(R){const z=R===m_&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(R!==Nl&&n.convert(R)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&R!==gs&&!z)}function l(R){if(R==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=e.precision!==void 0?e.precision:"highp";const c=l(u);c!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=e.logarithmicDepthBuffer===!0,h=e.reversedDepthBuffer===!0&&t.has("EXT_clip_control"),p=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),g=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=i.getParameter(i.MAX_TEXTURE_SIZE),_=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),S=i.getParameter(i.MAX_VERTEX_ATTRIBS),T=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),M=i.getParameter(i.MAX_VARYING_VECTORS),w=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),D=g>0,C=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:f,reversedDepthBuffer:h,maxTextures:p,maxVertexTextures:g,maxTextureSize:m,maxCubemapSize:_,maxAttributes:S,maxVertexUniforms:T,maxVaryings:M,maxFragmentUniforms:w,vertexTextures:D,maxSamples:C}}function pst(i){const t=this;let e=null,n=0,r=!1,a=!1;const o=new Kf,s=new Rn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||n!==0||r;return r=h,n=f.length,p},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,h){e=c(f,h,0)},this.setState=function(f,h,p){const g=f.clippingPlanes,m=f.clipIntersection,_=f.clipShadows,S=i.get(f);if(!r||g===null||g.length===0||a&&!_)a?c(null):u();else{const T=a?0:n,M=T*4;let w=S.clippingState||null;l.value=w,w=c(g,h,M,p);for(let D=0;D!==M;++D)w[D]=e[D];S.clippingState=w,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=T}};function u(){l.value!==e&&(l.value=e,l.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function c(f,h,p,g){const m=f!==null?f.length:0;let _=null;if(m!==0){if(_=l.value,g!==!0||_===null){const S=p+m*4,T=h.matrixWorldInverse;s.getNormalMatrix(T),(_===null||_.length<S)&&(_=new Float32Array(S));for(let M=0,w=p;M!==m;++M,w+=4)o.copy(f[M]).applyMatrix4(T,s),o.normal.toArray(_,w),_[w+3]=o.constant}l.value=_,l.needsUpdate=!0}return t.numPlanes=m,t.numIntersection=0,_}}function vst(i){let t=new WeakMap;function e(o,s){return s===K1?o.mapping=vh:s===Q1&&(o.mapping=ip),o}function n(o){if(o&&o.isTexture){const s=o.mapping;if(s===K1||s===Q1)if(t.has(o)){const l=t.get(o).texture;return e(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new aW(l.height);return u.fromEquirectangularTexture(i,o),t.set(o,u),o.addEventListener("dispose",r),e(u.texture,o.mapping)}else return null}}return o}function r(o){const s=o.target;s.removeEventListener("dispose",r);const l=t.get(s);l!==void 0&&(t.delete(s),l.dispose())}function a(){t=new WeakMap}return{get:n,dispose:a}}const x0=4,z4=[.125,.215,.35,.446,.526,.582],ug=20,dL=new lh,B4=new Me;let pL=null,vL=0,gL=0,mL=!1;const ng=(1+Math.sqrt(5))/2,Vy=1/ng,U4=[new it(-ng,Vy,0),new it(ng,Vy,0),new it(-Vy,0,ng),new it(Vy,0,ng),new it(0,ng,-Vy),new it(0,ng,Vy),new it(-1,1,-1),new it(1,1,-1),new it(-1,1,1),new it(1,1,1)],gst=new it;class bO{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100,a={}){const{size:o=256,position:s=gst}=a;pL=this._renderer.getRenderTarget(),vL=this._renderer.getActiveCubeFace(),gL=this._renderer.getActiveMipmapLevel(),mL=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(t,n,r,l,s),e>0&&this._blur(l,0,0,e),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=k4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=H4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(pL,vL,gL),this._renderer.xr.enabled=mL,t.scissorTest=!1,wA(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===vh||t.mapping===ip?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),pL=this._renderer.getRenderTarget(),vL=this._renderer.getActiveCubeFace(),gL=this._renderer.getActiveMipmapLevel(),mL=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:xr,minFilter:xr,generateMipmaps:!1,type:m_,format:_o,colorSpace:qa,depthBuffer:!1},r=V4(t,e,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=V4(t,e,n);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=mst(a)),this._blurMaterial=yst(a,t,e)}return r}_compileMaterial(t){const e=new Nr(this._lodPlanes[0],t);this._renderer.compile(e,dL)}_sceneToCubeUV(t,e,n,r,a){const l=new Sr(90,1,e,n),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(B4),f.toneMapping=kc,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(r),f.clearDepth(),f.setRenderTarget(null));const m=new Hs({name:"PMREM.Background",side:jo,depthWrite:!1,depthTest:!1}),_=new Nr(new tm,m);let S=!1;const T=t.background;T?T.isColor&&(m.color.copy(T),t.background=null,S=!0):(m.color.copy(B4),S=!0);for(let M=0;M<6;M++){const w=M%3;w===0?(l.up.set(0,u[M],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+c[M],a.y,a.z)):w===1?(l.up.set(0,0,u[M]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+c[M],a.z)):(l.up.set(0,u[M],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+c[M]));const D=this._cubeSize;wA(r,w*D,M>2?D:0,D,D),f.setRenderTarget(r),S&&f.render(_,l),f.render(t,l)}_.geometry.dispose(),_.material.dispose(),f.toneMapping=p,f.autoClear=h,t.background=T}_textureToCubeUV(t,e){const n=this._renderer,r=t.mapping===vh||t.mapping===ip;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=k4()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=H4());const a=r?this._cubemapMaterial:this._equirectMaterial,o=new Nr(this._lodPlanes[0],a),s=a.uniforms;s.envMap.value=t;const l=this._cubeSize;wA(e,0,0,3*l,2*l),n.setRenderTarget(e),n.render(o,dL)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),s=U4[(r-a-1)%U4.length];this._blur(t,a-1,a,o,s)}e.autoClear=n}_blur(t,e,n,r,a){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,n,r,"latitudinal",a),this._halfBlur(o,t,n,n,r,"longitudinal",a)}_halfBlur(t,e,n,r,a,o,s){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Nr(this._lodPlanes[r],u),h=u.uniforms,p=this._sizeLods[n]-1,g=isFinite(a)?Math.PI/(2*p):2*Math.PI/(2*ug-1),m=a/g,_=isFinite(a)?1+Math.floor(c*m):ug;_>ug&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${ug}`);const S=[];let T=0;for(let R=0;R<ug;++R){const z=R/m,N=Math.exp(-z*z/2);S.push(N),R===0?T+=N:R<_&&(T+=2*N)}for(let R=0;R<S.length;R++)S[R]=S[R]/T;h.envMap.value=t.texture,h.samples.value=_,h.weights.value=S,h.latitudinal.value=o==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:M}=this;h.dTheta.value=g,h.mipInt.value=M-n;const w=this._sizeLods[r],D=3*w*(r>M-x0?r-M+x0:0),C=4*(this._cubeSize-w);wA(e,D,C,3*w,2*w),l.setRenderTarget(e),l.render(f,dL)}}function mst(i){const t=[],e=[],n=[];let r=i;const a=i-x0+1+z4.length;for(let o=0;o<a;o++){const s=Math.pow(2,r);e.push(s);let l=1/s;o>i-x0?l=z4[o-i+x0-1]:o===0&&(l=0),n.push(l);const u=1/(s-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],p=6,g=6,m=3,_=2,S=1,T=new Float32Array(m*g*p),M=new Float32Array(_*g*p),w=new Float32Array(S*g*p);for(let C=0;C<p;C++){const R=C%3*2/3-1,z=C>2?0:-1,N=[R,z,0,R+2/3,z,0,R+2/3,z+1,0,R,z,0,R+2/3,z+1,0,R,z+1,0];T.set(N,m*g*C),M.set(h,_*g*C);const O=[C,C,C,C,C,C];w.set(O,S*g*C)}const D=new Ln;D.setAttribute("position",new xi(T,m)),D.setAttribute("uv",new xi(M,_)),D.setAttribute("faceIndex",new xi(w,S)),t.push(D),r>x0&&r--}return{lodPlanes:t,sizeLods:e,sigmas:n}}function V4(i,t,e){const n=new qc(i,t,e);return n.texture.mapping=g_,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function wA(i,t,e,n,r){i.viewport.set(t,e,n,r),i.scissor.set(t,e,n,r)}function yst(i,t,e){const n=new Float32Array(ug),r=new it(0,1,0);return new Ru({name:"SphericalGaussianBlur",defines:{n:ug,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:zz(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:oh,depthTest:!1,depthWrite:!1})}function H4(){return new Ru({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:zz(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:oh,depthTest:!1,depthWrite:!1})}function k4(){return new Ru({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:zz(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:oh,depthTest:!1,depthWrite:!1})}function zz(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function _st(i){let t=new WeakMap,e=null;function n(s){if(s&&s.isTexture){const l=s.mapping,u=l===K1||l===Q1,c=l===vh||l===ip;if(u||c){let f=t.get(s);const h=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==h)return e===null&&(e=new bO(i)),f=u?e.fromEquirectangular(s,f):e.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,t.set(s,f),f.texture;if(f!==void 0)return f.texture;{const p=s.image;return u&&p&&p.height>0||c&&p&&r(p)?(e===null&&(e=new bO(i)),f=u?e.fromEquirectangular(s):e.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,t.set(s,f),s.addEventListener("dispose",a),f.texture):null}}}return s}function r(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function a(s){const l=s.target;l.removeEventListener("dispose",a);const u=t.get(l);u!==void 0&&(t.delete(l),u.dispose())}function o(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:n,dispose:o}}function Sst(i){const t={};function e(n){if(t[n]!==void 0)return t[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return t[n]=r,r}return{has:function(n){return e(n)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(n){const r=e(n);return r===null&&nb("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function xst(i,t,e,n){const r={},a=new WeakMap;function o(f){const h=f.target;h.index!==null&&t.remove(h.index);for(const g in h.attributes)t.remove(h.attributes[g]);h.removeEventListener("dispose",o),delete r[h.id];const p=a.get(h);p&&(t.remove(p),a.delete(h)),n.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,e.memory.geometries--}function s(f,h){return r[h.id]===!0||(h.addEventListener("dispose",o),r[h.id]=!0,e.memory.geometries++),h}function l(f){const h=f.attributes;for(const p in h)t.update(h[p],i.ARRAY_BUFFER)}function u(f){const h=[],p=f.index,g=f.attributes.position;let m=0;if(p!==null){const T=p.array;m=p.version;for(let M=0,w=T.length;M<w;M+=3){const D=T[M+0],C=T[M+1],R=T[M+2];h.push(D,C,C,R,R,D)}}else if(g!==void 0){const T=g.array;m=g.version;for(let M=0,w=T.length/3-1;M<w;M+=3){const D=M+0,C=M+1,R=M+2;h.push(D,C,C,R,R,D)}}else return;const _=new(JX(h)?az:rz)(h,1);_.version=m;const S=a.get(f);S&&t.remove(S),a.set(f,_)}function c(f){const h=a.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&u(f)}else u(f);return a.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function bst(i,t,e){let n;function r(h){n=h}let a,o;function s(h){a=h.type,o=h.bytesPerElement}function l(h,p){i.drawElements(n,p,a,h*o),e.update(p,n,1)}function u(h,p,g){g!==0&&(i.drawElementsInstanced(n,p,a,h*o,g),e.update(p,n,g))}function c(h,p,g){if(g===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,p,0,a,h,0,g);let _=0;for(let S=0;S<g;S++)_+=p[S];e.update(_,n,1)}function f(h,p,g,m){if(g===0)return;const _=t.get("WEBGL_multi_draw");if(_===null)for(let S=0;S<h.length;S++)u(h[S]/o,p[S],m[S]);else{_.multiDrawElementsInstancedWEBGL(n,p,0,a,h,0,m,0,g);let S=0;for(let T=0;T<g;T++)S+=p[T]*m[T];e.update(S,n,1)}}this.setMode=r,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function Tst(i){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,o,s){switch(e.calls++,o){case i.TRIANGLES:e.triangles+=s*(a/3);break;case i.LINES:e.lines+=s*(a/2);break;case i.LINE_STRIP:e.lines+=s*(a-1);break;case i.LINE_LOOP:e.lines+=s*a;break;case i.POINTS:e.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:r,update:n}}function Mst(i,t,e){const n=new WeakMap,r=new hi;function a(o,s,l){const u=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=c!==void 0?c.length:0;let h=n.get(s);if(h===void 0||h.count!==f){let N=function(){R.dispose(),n.delete(s),s.removeEventListener("dispose",N)};h!==void 0&&h.texture.dispose();const p=s.morphAttributes.position!==void 0,g=s.morphAttributes.normal!==void 0,m=s.morphAttributes.color!==void 0,_=s.morphAttributes.position||[],S=s.morphAttributes.normal||[],T=s.morphAttributes.color||[];let M=0;p===!0&&(M=1),g===!0&&(M=2),m===!0&&(M=3);let w=s.attributes.position.count*M,D=1;w>t.maxTextureSize&&(D=Math.ceil(w/t.maxTextureSize),w=t.maxTextureSize);const C=new Float32Array(w*D*4*f),R=new L2(C,w,D,f);R.type=gs,R.needsUpdate=!0;const z=M*4;for(let O=0;O<f;O++){const U=_[O],F=S[O],V=T[O],W=w*D*4*O;for(let Z=0;Z<U.count;Z++){const H=Z*z;p===!0&&(r.fromBufferAttribute(U,Z),C[W+H+0]=r.x,C[W+H+1]=r.y,C[W+H+2]=r.z,C[W+H+3]=0),g===!0&&(r.fromBufferAttribute(F,Z),C[W+H+4]=r.x,C[W+H+5]=r.y,C[W+H+6]=r.z,C[W+H+7]=0),m===!0&&(r.fromBufferAttribute(V,Z),C[W+H+8]=r.x,C[W+H+9]=r.y,C[W+H+10]=r.z,C[W+H+11]=V.itemSize===4?r.w:1)}}h={count:f,texture:R,size:new Zt(w,D)},n.set(s,h),s.addEventListener("dispose",N)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(i,"morphTexture",o.morphTexture,e);else{let p=0;for(let m=0;m<u.length;m++)p+=u[m];const g=s.morphTargetsRelative?1:1-p;l.getUniforms().setValue(i,"morphTargetBaseInfluence",g),l.getUniforms().setValue(i,"morphTargetInfluences",u)}l.getUniforms().setValue(i,"morphTargetsTexture",h.texture,e),l.getUniforms().setValue(i,"morphTargetsTextureSize",h.size)}return{update:a}}function Ast(i,t,e,n){let r=new WeakMap;function a(l){const u=n.render.frame,c=l.geometry,f=t.get(l,c);if(r.get(f)!==u&&(t.update(f),r.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),r.get(l)!==u&&(e.update(l.instanceMatrix,i.ARRAY_BUFFER),l.instanceColor!==null&&e.update(l.instanceColor,i.ARRAY_BUFFER),r.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==u&&(h.update(),r.set(h,u))}return f}function o(){r=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),e.remove(u.instanceMatrix),u.instanceColor!==null&&e.remove(u.instanceColor)}return{update:a,dispose:o}}const JW=new tr,F4=new hz(1,1),$W=new L2,tY=new I2,eY=new Fb,G4=[],X4=[],W4=new Float32Array(16),Y4=new Float32Array(9),q4=new Float32Array(4);function x_(i,t,e){const n=i[0];if(n<=0||n>0)return i;const r=t*e;let a=G4[r];if(a===void 0&&(a=new Float32Array(r),G4[r]=a),t!==0){n.toArray(a,0);for(let o=1,s=0;o!==t;++o)s+=e,i[o].toArray(a,s)}return a}function ca(i,t){if(i.length!==t.length)return!1;for(let e=0,n=i.length;e<n;e++)if(i[e]!==t[e])return!1;return!0}function fa(i,t){for(let e=0,n=t.length;e<n;e++)i[e]=t[e]}function tD(i,t){let e=X4[t];e===void 0&&(e=new Int32Array(t),X4[t]=e);for(let n=0;n!==t;++n)e[n]=i.allocateTextureUnit();return e}function wst(i,t){const e=this.cache;e[0]!==t&&(i.uniform1f(this.addr,t),e[0]=t)}function Est(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(ca(e,t))return;i.uniform2fv(this.addr,t),fa(e,t)}}function Cst(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(i.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(ca(e,t))return;i.uniform3fv(this.addr,t),fa(e,t)}}function Dst(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(ca(e,t))return;i.uniform4fv(this.addr,t),fa(e,t)}}function Rst(i,t){const e=this.cache,n=t.elements;if(n===void 0){if(ca(e,t))return;i.uniformMatrix2fv(this.addr,!1,t),fa(e,t)}else{if(ca(e,n))return;q4.set(n),i.uniformMatrix2fv(this.addr,!1,q4),fa(e,n)}}function Lst(i,t){const e=this.cache,n=t.elements;if(n===void 0){if(ca(e,t))return;i.uniformMatrix3fv(this.addr,!1,t),fa(e,t)}else{if(ca(e,n))return;Y4.set(n),i.uniformMatrix3fv(this.addr,!1,Y4),fa(e,n)}}function Ist(i,t){const e=this.cache,n=t.elements;if(n===void 0){if(ca(e,t))return;i.uniformMatrix4fv(this.addr,!1,t),fa(e,t)}else{if(ca(e,n))return;W4.set(n),i.uniformMatrix4fv(this.addr,!1,W4),fa(e,n)}}function Nst(i,t){const e=this.cache;e[0]!==t&&(i.uniform1i(this.addr,t),e[0]=t)}function Ost(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(ca(e,t))return;i.uniform2iv(this.addr,t),fa(e,t)}}function Pst(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(ca(e,t))return;i.uniform3iv(this.addr,t),fa(e,t)}}function zst(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(ca(e,t))return;i.uniform4iv(this.addr,t),fa(e,t)}}function Bst(i,t){const e=this.cache;e[0]!==t&&(i.uniform1ui(this.addr,t),e[0]=t)}function Ust(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(ca(e,t))return;i.uniform2uiv(this.addr,t),fa(e,t)}}function Vst(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(ca(e,t))return;i.uniform3uiv(this.addr,t),fa(e,t)}}function Hst(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(ca(e,t))return;i.uniform4uiv(this.addr,t),fa(e,t)}}function kst(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let a;this.type===i.SAMPLER_2D_SHADOW?(F4.compareFunction=ez,a=F4):a=JW,e.setTexture2D(t||a,r)}function Fst(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture3D(t||tY,r)}function Gst(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTextureCube(t||eY,r)}function Xst(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture2DArray(t||$W,r)}function Wst(i){switch(i){case 5126:return wst;case 35664:return Est;case 35665:return Cst;case 35666:return Dst;case 35674:return Rst;case 35675:return Lst;case 35676:return Ist;case 5124:case 35670:return Nst;case 35667:case 35671:return Ost;case 35668:case 35672:return Pst;case 35669:case 35673:return zst;case 5125:return Bst;case 36294:return Ust;case 36295:return Vst;case 36296:return Hst;case 35678:case 36198:case 36298:case 36306:case 35682:return kst;case 35679:case 36299:case 36307:return Fst;case 35680:case 36300:case 36308:case 36293:return Gst;case 36289:case 36303:case 36311:case 36292:return Xst}}function Yst(i,t){i.uniform1fv(this.addr,t)}function qst(i,t){const e=x_(t,this.size,2);i.uniform2fv(this.addr,e)}function Zst(i,t){const e=x_(t,this.size,3);i.uniform3fv(this.addr,e)}function jst(i,t){const e=x_(t,this.size,4);i.uniform4fv(this.addr,e)}function Kst(i,t){const e=x_(t,this.size,4);i.uniformMatrix2fv(this.addr,!1,e)}function Qst(i,t){const e=x_(t,this.size,9);i.uniformMatrix3fv(this.addr,!1,e)}function Jst(i,t){const e=x_(t,this.size,16);i.uniformMatrix4fv(this.addr,!1,e)}function $st(i,t){i.uniform1iv(this.addr,t)}function tlt(i,t){i.uniform2iv(this.addr,t)}function elt(i,t){i.uniform3iv(this.addr,t)}function nlt(i,t){i.uniform4iv(this.addr,t)}function ilt(i,t){i.uniform1uiv(this.addr,t)}function rlt(i,t){i.uniform2uiv(this.addr,t)}function alt(i,t){i.uniform3uiv(this.addr,t)}function olt(i,t){i.uniform4uiv(this.addr,t)}function slt(i,t,e){const n=this.cache,r=t.length,a=tD(e,r);ca(n,a)||(i.uniform1iv(this.addr,a),fa(n,a));for(let o=0;o!==r;++o)e.setTexture2D(t[o]||JW,a[o])}function llt(i,t,e){const n=this.cache,r=t.length,a=tD(e,r);ca(n,a)||(i.uniform1iv(this.addr,a),fa(n,a));for(let o=0;o!==r;++o)e.setTexture3D(t[o]||tY,a[o])}function ult(i,t,e){const n=this.cache,r=t.length,a=tD(e,r);ca(n,a)||(i.uniform1iv(this.addr,a),fa(n,a));for(let o=0;o!==r;++o)e.setTextureCube(t[o]||eY,a[o])}function clt(i,t,e){const n=this.cache,r=t.length,a=tD(e,r);ca(n,a)||(i.uniform1iv(this.addr,a),fa(n,a));for(let o=0;o!==r;++o)e.setTexture2DArray(t[o]||$W,a[o])}function flt(i){switch(i){case 5126:return Yst;case 35664:return qst;case 35665:return Zst;case 35666:return jst;case 35674:return Kst;case 35675:return Qst;case 35676:return Jst;case 5124:case 35670:return $st;case 35667:case 35671:return tlt;case 35668:case 35672:return elt;case 35669:case 35673:return nlt;case 5125:return ilt;case 36294:return rlt;case 36295:return alt;case 36296:return olt;case 35678:case 36198:case 36298:case 36306:case 35682:return slt;case 35679:case 36299:case 36307:return llt;case 35680:case 36300:case 36308:case 36293:return ult;case 36289:case 36303:case 36311:case 36292:return clt}}class hlt{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.setValue=Wst(e.type)}}class dlt{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=flt(e.type)}}class plt{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const s=r[a];s.setValue(t,e[s.id],n)}}}const yL=/(\w+)(\])?(\[|\.)?/g;function Z4(i,t){i.seq.push(t),i.map[t.id]=t}function vlt(i,t,e){const n=i.name,r=n.length;for(yL.lastIndex=0;;){const a=yL.exec(n),o=yL.lastIndex;let s=a[1];const l=a[2]==="]",u=a[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===r){Z4(e,u===void 0?new hlt(s,i,t):new dlt(s,i,t));break}else{let f=e.map[s];f===void 0&&(f=new plt(s),Z4(e,f)),e=f}}}class Zw{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const a=t.getActiveUniform(e,r),o=t.getUniformLocation(e,a.name);vlt(a,o,this)}}setValue(t,e,n,r){const a=this.map[e];a!==void 0&&a.setValue(t,n,r)}setOptional(t,e,n){const r=e[n];r!==void 0&&this.setValue(t,n,r)}static upload(t,e,n,r){for(let a=0,o=e.length;a!==o;++a){const s=e[a],l=n[s.id];l.needsUpdate!==!1&&s.setValue(t,l.value,r)}}static seqWithValue(t,e){const n=[];for(let r=0,a=t.length;r!==a;++r){const o=t[r];o.id in e&&n.push(o)}return n}}function j4(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}const glt=37297;let mlt=0;function ylt(i,t){const e=i.split(`
`),n=[],r=Math.max(t-6,0),a=Math.min(t+6,e.length);for(let o=r;o<a;o++){const s=o+1;n.push(`${s===t?">":" "} ${s}: ${e[o]}`)}return n.join(`
`)}const K4=new Rn;function _lt(i){Qn._getMatrix(K4,Qn.workingColorSpace,i);const t=`mat3( ${K4.elements.map(e=>e.toFixed(4))} )`;switch(Qn.getTransfer(i)){case $1:return[t,"LinearTransferOETF"];case Di:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[t,"LinearTransferOETF"]}}function Q4(i,t,e){const n=i.getShaderParameter(t,i.COMPILE_STATUS),a=(i.getShaderInfoLog(t)||"").trim();if(n&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const s=parseInt(o[1]);return e.toUpperCase()+`

`+a+`

`+ylt(i.getShaderSource(t),s)}else return a}function Slt(i,t){const e=_lt(t);return[`vec4 ${i}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function xlt(i,t){let e;switch(t){case RX:e="Linear";break;case LX:e="Reinhard";break;case IX:e="Cineon";break;case W3:e="ACESFilmic";break;case OX:e="AgX";break;case PX:e="Neutral";break;case NX:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const EA=new it;function blt(){Qn.getLuminanceCoefficients(EA);const i=EA.x.toFixed(4),t=EA.y.toFixed(4),e=EA.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Tlt(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(h1).join(`
`)}function Mlt(i){const t=[];for(const e in i){const n=i[e];n!==!1&&t.push("#define "+e+" "+n)}return t.join(`
`)}function Alt(i,t){const e={},n=i.getProgramParameter(t,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const a=i.getActiveAttrib(t,r),o=a.name;let s=1;a.type===i.FLOAT_MAT2&&(s=2),a.type===i.FLOAT_MAT3&&(s=3),a.type===i.FLOAT_MAT4&&(s=4),e[o]={type:a.type,location:i.getAttribLocation(t,o),locationSize:s}}return e}function h1(i){return i!==""}function J4(i,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function $4(i,t){return i.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const wlt=/^[ \t]*#include +<([\w\d./]+)>/gm;function TO(i){return i.replace(wlt,Clt)}const Elt=new Map;function Clt(i,t){let e=Hn[t];if(e===void 0){const n=Elt.get(t);if(n!==void 0)e=Hn[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,n);else throw new Error("Can not resolve #include <"+t+">")}return TO(e)}const Dlt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tH(i){return i.replace(Dlt,Rlt)}function Rlt(i,t,e,n){let r="";for(let a=parseInt(t);a<parseInt(e);a++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function eH(i){let t=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?t+=`
#define HIGH_PRECISION`:i.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function Llt(i){let t="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===x2?t="SHADOWMAP_TYPE_PCF":i.shadowMapType===w1?t="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===_u&&(t="SHADOWMAP_TYPE_VSM"),t}function Ilt(i){let t="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case vh:case ip:t="ENVMAP_TYPE_CUBE";break;case g_:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Nlt(i){let t="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case ip:t="ENVMAP_MODE_REFRACTION";break}return t}function Olt(i){let t="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case Hb:t="ENVMAP_BLENDING_MULTIPLY";break;case CX:t="ENVMAP_BLENDING_MIX";break;case DX:t="ENVMAP_BLENDING_ADD";break}return t}function Plt(i){const t=i.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:n,maxMip:e}}function zlt(i,t,e,n){const r=i.getContext(),a=e.defines;let o=e.vertexShader,s=e.fragmentShader;const l=Llt(e),u=Ilt(e),c=Nlt(e),f=Olt(e),h=Plt(e),p=Tlt(e),g=Mlt(a),m=r.createProgram();let _,S,T=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(_=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,g].filter(h1).join(`
`),_.length>0&&(_+=`
`),S=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,g].filter(h1).join(`
`),S.length>0&&(S+=`
`)):(_=[eH(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,g,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+c:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",e.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(h1).join(`
`),S=[eH(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,g,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+u:"",e.envMap?"#define "+c:"",e.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",e.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==kc?"#define TONE_MAPPING":"",e.toneMapping!==kc?Hn.tonemapping_pars_fragment:"",e.toneMapping!==kc?xlt("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",Hn.colorspace_pars_fragment,Slt("linearToOutputTexel",e.outputColorSpace),blt(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(h1).join(`
`)),o=TO(o),o=J4(o,e),o=$4(o,e),s=TO(s),s=J4(s,e),s=$4(s,e),o=tH(o),s=tH(s),e.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,_=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,S=["#define varying in",e.glslVersion===pO?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===pO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const M=T+_+o,w=T+S+s,D=j4(r,r.VERTEX_SHADER,M),C=j4(r,r.FRAGMENT_SHADER,w);r.attachShader(m,D),r.attachShader(m,C),e.index0AttributeName!==void 0?r.bindAttribLocation(m,0,e.index0AttributeName):e.morphTargets===!0&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m);function R(U){if(i.debug.checkShaderErrors){const F=r.getProgramInfoLog(m)||"",V=r.getShaderInfoLog(D)||"",W=r.getShaderInfoLog(C)||"",Z=F.trim(),H=V.trim(),j=W.trim();let Y=!0,Q=!0;if(r.getProgramParameter(m,r.LINK_STATUS)===!1)if(Y=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,m,D,C);else{const nt=Q4(r,D,"vertex"),q=Q4(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+`

Material Name: `+U.name+`
Material Type: `+U.type+`

Program Info Log: `+Z+`
`+nt+`
`+q)}else Z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Z):(H===""||j==="")&&(Q=!1);Q&&(U.diagnostics={runnable:Y,programLog:Z,vertexShader:{log:H,prefix:_},fragmentShader:{log:j,prefix:S}})}r.deleteShader(D),r.deleteShader(C),z=new Zw(r,m),N=Alt(r,m)}let z;this.getUniforms=function(){return z===void 0&&R(this),z};let N;this.getAttributes=function(){return N===void 0&&R(this),N};let O=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=r.getProgramParameter(m,glt)),O},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=mlt++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=D,this.fragmentShader=C,this}let Blt=0;class Ult{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,r=this._getShaderStage(e),a=this._getShaderStage(n),o=this._getShaderCacheForMaterial(t);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let n=e.get(t);return n===void 0&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){const e=this.shaderCache;let n=e.get(t);return n===void 0&&(n=new Vlt(t),e.set(t,n)),n}}class Vlt{constructor(t){this.id=Blt++,this.code=t,this.usedTimes=0}}function Hlt(i,t,e,n,r,a,o){const s=new q0,l=new Ult,u=new Set,c=[],f=r.logarithmicDepthBuffer,h=r.vertexTextures;let p=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(N){return u.add(N),N===0?"uv":`uv${N}`}function _(N,O,U,F,V){const W=F.fog,Z=V.geometry,H=N.isMeshStandardMaterial?F.environment:null,j=(N.isMeshStandardMaterial?e:t).get(N.envMap||H),Y=j&&j.mapping===g_?j.image.height:null,Q=g[N.type];N.precision!==null&&(p=r.getMaxPrecision(N.precision),p!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",p,"instead."));const nt=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,q=nt!==void 0?nt.length:0;let $=0;Z.morphAttributes.position!==void 0&&($=1),Z.morphAttributes.normal!==void 0&&($=2),Z.morphAttributes.color!==void 0&&($=3);let st,ft,Mt,dt;if(Q){const Mn=xu[Q];st=Mn.vertexShader,ft=Mn.fragmentShader}else st=N.vertexShader,ft=N.fragmentShader,l.update(N),Mt=l.getVertexShaderID(N),dt=l.getFragmentShaderID(N);const xt=i.getRenderTarget(),Lt=i.state.buffers.depth.getReversed(),Ct=V.isInstancedMesh===!0,Wt=V.isBatchedMesh===!0,Xt=!!N.map,ae=!!N.matcap,at=!!j,wt=!!N.aoMap,It=!!N.lightMap,Nt=!!N.bumpMap,Bt=!!N.normalMap,oe=!!N.displacementMap,jt=!!N.emissiveMap,ie=!!N.metalnessMap,Xe=!!N.roughnessMap,nn=N.anisotropy>0,rt=N.clearcoat>0,K=N.dispersion>0,bt=N.iridescence>0,Ft=N.sheen>0,ee=N.transmission>0,Gt=nn&&!!N.anisotropyMap,ke=rt&&!!N.clearcoatMap,pe=rt&&!!N.clearcoatNormalMap,Pe=rt&&!!N.clearcoatRoughnessMap,Be=bt&&!!N.iridescenceMap,ne=bt&&!!N.iridescenceThicknessMap,he=Ft&&!!N.sheenColorMap,Ve=Ft&&!!N.sheenRoughnessMap,ot=!!N.specularMap,At=!!N.specularColorMap,de=!!N.specularIntensityMap,lt=ee&&!!N.transmissionMap,Jt=ee&&!!N.thicknessMap,ce=!!N.gradientMap,Se=!!N.alphaMap,re=N.alphaTest>0,Kt=!!N.alphaHash,xe=!!N.extensions;let qe=kc;N.toneMapped&&(xt===null||xt.isXRRenderTarget===!0)&&(qe=i.toneMapping);const zn={shaderID:Q,shaderType:N.type,shaderName:N.name,vertexShader:st,fragmentShader:ft,defines:N.defines,customVertexShaderID:Mt,customFragmentShaderID:dt,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:p,batching:Wt,batchingColor:Wt&&V._colorsTexture!==null,instancing:Ct,instancingColor:Ct&&V.instanceColor!==null,instancingMorph:Ct&&V.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:xt===null?i.outputColorSpace:xt.isXRRenderTarget===!0?xt.texture.colorSpace:qa,alphaToCoverage:!!N.alphaToCoverage,map:Xt,matcap:ae,envMap:at,envMapMode:at&&j.mapping,envMapCubeUVHeight:Y,aoMap:wt,lightMap:It,bumpMap:Nt,normalMap:Bt,displacementMap:h&&oe,emissiveMap:jt,normalMapObjectSpace:Bt&&N.normalMapType===GX,normalMapTangentSpace:Bt&&N.normalMapType===hp,metalnessMap:ie,roughnessMap:Xe,anisotropy:nn,anisotropyMap:Gt,clearcoat:rt,clearcoatMap:ke,clearcoatNormalMap:pe,clearcoatRoughnessMap:Pe,dispersion:K,iridescence:bt,iridescenceMap:Be,iridescenceThicknessMap:ne,sheen:Ft,sheenColorMap:he,sheenRoughnessMap:Ve,specularMap:ot,specularColorMap:At,specularIntensityMap:de,transmission:ee,transmissionMap:lt,thicknessMap:Jt,gradientMap:ce,opaque:N.transparent===!1&&N.blending===Ag&&N.alphaToCoverage===!1,alphaMap:Se,alphaTest:re,alphaHash:Kt,combine:N.combine,mapUv:Xt&&m(N.map.channel),aoMapUv:wt&&m(N.aoMap.channel),lightMapUv:It&&m(N.lightMap.channel),bumpMapUv:Nt&&m(N.bumpMap.channel),normalMapUv:Bt&&m(N.normalMap.channel),displacementMapUv:oe&&m(N.displacementMap.channel),emissiveMapUv:jt&&m(N.emissiveMap.channel),metalnessMapUv:ie&&m(N.metalnessMap.channel),roughnessMapUv:Xe&&m(N.roughnessMap.channel),anisotropyMapUv:Gt&&m(N.anisotropyMap.channel),clearcoatMapUv:ke&&m(N.clearcoatMap.channel),clearcoatNormalMapUv:pe&&m(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Pe&&m(N.clearcoatRoughnessMap.channel),iridescenceMapUv:Be&&m(N.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&m(N.iridescenceThicknessMap.channel),sheenColorMapUv:he&&m(N.sheenColorMap.channel),sheenRoughnessMapUv:Ve&&m(N.sheenRoughnessMap.channel),specularMapUv:ot&&m(N.specularMap.channel),specularColorMapUv:At&&m(N.specularColorMap.channel),specularIntensityMapUv:de&&m(N.specularIntensityMap.channel),transmissionMapUv:lt&&m(N.transmissionMap.channel),thicknessMapUv:Jt&&m(N.thicknessMap.channel),alphaMapUv:Se&&m(N.alphaMap.channel),vertexTangents:!!Z.attributes.tangent&&(Bt||nn),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!Z.attributes.uv&&(Xt||Se),fog:!!W,useFog:N.fog===!0,fogExp2:!!W&&W.isFogExp2,flatShading:N.flatShading===!0&&N.wireframe===!1,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:Lt,skinning:V.isSkinnedMesh===!0,morphTargets:Z.morphAttributes.position!==void 0,morphNormals:Z.morphAttributes.normal!==void 0,morphColors:Z.morphAttributes.color!==void 0,morphTargetsCount:q,morphTextureStride:$,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:N.dithering,shadowMapEnabled:i.shadowMap.enabled&&U.length>0,shadowMapType:i.shadowMap.type,toneMapping:qe,decodeVideoTexture:Xt&&N.map.isVideoTexture===!0&&Qn.getTransfer(N.map.colorSpace)===Di,decodeVideoTextureEmissive:jt&&N.emissiveMap.isVideoTexture===!0&&Qn.getTransfer(N.emissiveMap.colorSpace)===Di,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===bu,flipSided:N.side===jo,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionClipCullDistance:xe&&N.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(xe&&N.extensions.multiDraw===!0||Wt)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return zn.vertexUv1s=u.has(1),zn.vertexUv2s=u.has(2),zn.vertexUv3s=u.has(3),u.clear(),zn}function S(N){const O=[];if(N.shaderID?O.push(N.shaderID):(O.push(N.customVertexShaderID),O.push(N.customFragmentShaderID)),N.defines!==void 0)for(const U in N.defines)O.push(U),O.push(N.defines[U]);return N.isRawShaderMaterial===!1&&(T(O,N),M(O,N),O.push(i.outputColorSpace)),O.push(N.customProgramCacheKey),O.join()}function T(N,O){N.push(O.precision),N.push(O.outputColorSpace),N.push(O.envMapMode),N.push(O.envMapCubeUVHeight),N.push(O.mapUv),N.push(O.alphaMapUv),N.push(O.lightMapUv),N.push(O.aoMapUv),N.push(O.bumpMapUv),N.push(O.normalMapUv),N.push(O.displacementMapUv),N.push(O.emissiveMapUv),N.push(O.metalnessMapUv),N.push(O.roughnessMapUv),N.push(O.anisotropyMapUv),N.push(O.clearcoatMapUv),N.push(O.clearcoatNormalMapUv),N.push(O.clearcoatRoughnessMapUv),N.push(O.iridescenceMapUv),N.push(O.iridescenceThicknessMapUv),N.push(O.sheenColorMapUv),N.push(O.sheenRoughnessMapUv),N.push(O.specularMapUv),N.push(O.specularColorMapUv),N.push(O.specularIntensityMapUv),N.push(O.transmissionMapUv),N.push(O.thicknessMapUv),N.push(O.combine),N.push(O.fogExp2),N.push(O.sizeAttenuation),N.push(O.morphTargetsCount),N.push(O.morphAttributeCount),N.push(O.numDirLights),N.push(O.numPointLights),N.push(O.numSpotLights),N.push(O.numSpotLightMaps),N.push(O.numHemiLights),N.push(O.numRectAreaLights),N.push(O.numDirLightShadows),N.push(O.numPointLightShadows),N.push(O.numSpotLightShadows),N.push(O.numSpotLightShadowsWithMaps),N.push(O.numLightProbes),N.push(O.shadowMapType),N.push(O.toneMapping),N.push(O.numClippingPlanes),N.push(O.numClipIntersection),N.push(O.depthPacking)}function M(N,O){s.disableAll(),O.supportsVertexTextures&&s.enable(0),O.instancing&&s.enable(1),O.instancingColor&&s.enable(2),O.instancingMorph&&s.enable(3),O.matcap&&s.enable(4),O.envMap&&s.enable(5),O.normalMapObjectSpace&&s.enable(6),O.normalMapTangentSpace&&s.enable(7),O.clearcoat&&s.enable(8),O.iridescence&&s.enable(9),O.alphaTest&&s.enable(10),O.vertexColors&&s.enable(11),O.vertexAlphas&&s.enable(12),O.vertexUv1s&&s.enable(13),O.vertexUv2s&&s.enable(14),O.vertexUv3s&&s.enable(15),O.vertexTangents&&s.enable(16),O.anisotropy&&s.enable(17),O.alphaHash&&s.enable(18),O.batching&&s.enable(19),O.dispersion&&s.enable(20),O.batchingColor&&s.enable(21),O.gradientMap&&s.enable(22),N.push(s.mask),s.disableAll(),O.fog&&s.enable(0),O.useFog&&s.enable(1),O.flatShading&&s.enable(2),O.logarithmicDepthBuffer&&s.enable(3),O.reversedDepthBuffer&&s.enable(4),O.skinning&&s.enable(5),O.morphTargets&&s.enable(6),O.morphNormals&&s.enable(7),O.morphColors&&s.enable(8),O.premultipliedAlpha&&s.enable(9),O.shadowMapEnabled&&s.enable(10),O.doubleSided&&s.enable(11),O.flipSided&&s.enable(12),O.useDepthPacking&&s.enable(13),O.dithering&&s.enable(14),O.transmission&&s.enable(15),O.sheen&&s.enable(16),O.opaque&&s.enable(17),O.pointsUvs&&s.enable(18),O.decodeVideoTexture&&s.enable(19),O.decodeVideoTextureEmissive&&s.enable(20),O.alphaToCoverage&&s.enable(21),N.push(s.mask)}function w(N){const O=g[N.type];let U;if(O){const F=xu[O];U=iW.clone(F.uniforms)}else U=N.uniforms;return U}function D(N,O){let U;for(let F=0,V=c.length;F<V;F++){const W=c[F];if(W.cacheKey===O){U=W,++U.usedTimes;break}}return U===void 0&&(U=new zlt(i,O,N,a),c.push(U)),U}function C(N){if(--N.usedTimes===0){const O=c.indexOf(N);c[O]=c[c.length-1],c.pop(),N.destroy()}}function R(N){l.remove(N)}function z(){l.dispose()}return{getParameters:_,getProgramCacheKey:S,getUniforms:w,acquireProgram:D,releaseProgram:C,releaseShaderCache:R,programs:c,dispose:z}}function klt(){let i=new WeakMap;function t(o){return i.has(o)}function e(o){let s=i.get(o);return s===void 0&&(s={},i.set(o,s)),s}function n(o){i.delete(o)}function r(o,s,l){i.get(o)[s]=l}function a(){i=new WeakMap}return{has:t,get:e,remove:n,update:r,dispose:a}}function Flt(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.material.id!==t.material.id?i.material.id-t.material.id:i.z!==t.z?i.z-t.z:i.id-t.id}function nH(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.z!==t.z?t.z-i.z:i.id-t.id}function iH(){const i=[];let t=0;const e=[],n=[],r=[];function a(){t=0,e.length=0,n.length=0,r.length=0}function o(f,h,p,g,m,_){let S=i[t];return S===void 0?(S={id:f.id,object:f,geometry:h,material:p,groupOrder:g,renderOrder:f.renderOrder,z:m,group:_},i[t]=S):(S.id=f.id,S.object=f,S.geometry=h,S.material=p,S.groupOrder=g,S.renderOrder=f.renderOrder,S.z=m,S.group=_),t++,S}function s(f,h,p,g,m,_){const S=o(f,h,p,g,m,_);p.transmission>0?n.push(S):p.transparent===!0?r.push(S):e.push(S)}function l(f,h,p,g,m,_){const S=o(f,h,p,g,m,_);p.transmission>0?n.unshift(S):p.transparent===!0?r.unshift(S):e.unshift(S)}function u(f,h){e.length>1&&e.sort(f||Flt),n.length>1&&n.sort(h||nH),r.length>1&&r.sort(h||nH)}function c(){for(let f=t,h=i.length;f<h;f++){const p=i[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:e,transmissive:n,transparent:r,init:a,push:s,unshift:l,finish:c,sort:u}}function Glt(){let i=new WeakMap;function t(n,r){const a=i.get(n);let o;return a===void 0?(o=new iH,i.set(n,[o])):r>=a.length?(o=new iH,a.push(o)):o=a[r],o}function e(){i=new WeakMap}return{get:t,dispose:e}}function Xlt(){const i={};return{get:function(t){if(i[t.id]!==void 0)return i[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new it,color:new Me};break;case"SpotLight":e={position:new it,direction:new it,color:new Me,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new it,color:new Me,distance:0,decay:0};break;case"HemisphereLight":e={direction:new it,skyColor:new Me,groundColor:new Me};break;case"RectAreaLight":e={color:new Me,position:new it,halfWidth:new it,halfHeight:new it};break}return i[t.id]=e,e}}}function Wlt(){const i={};return{get:function(t){if(i[t.id]!==void 0)return i[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zt};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zt};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zt,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[t.id]=e,e}}}let Ylt=0;function qlt(i,t){return(t.castShadow?2:0)-(i.castShadow?2:0)+(t.map?1:0)-(i.map?1:0)}function Zlt(i){const t=new Xlt,e=Wlt(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)n.probe.push(new it);const r=new it,a=new un,o=new un;function s(u){let c=0,f=0,h=0;for(let N=0;N<9;N++)n.probe[N].set(0,0,0);let p=0,g=0,m=0,_=0,S=0,T=0,M=0,w=0,D=0,C=0,R=0;u.sort(qlt);for(let N=0,O=u.length;N<O;N++){const U=u[N],F=U.color,V=U.intensity,W=U.distance,Z=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)c+=F.r*V,f+=F.g*V,h+=F.b*V;else if(U.isLightProbe){for(let H=0;H<9;H++)n.probe[H].addScaledVector(U.sh.coefficients[H],V);R++}else if(U.isDirectionalLight){const H=t.get(U);if(H.color.copy(U.color).multiplyScalar(U.intensity),U.castShadow){const j=U.shadow,Y=e.get(U);Y.shadowIntensity=j.intensity,Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,n.directionalShadow[p]=Y,n.directionalShadowMap[p]=Z,n.directionalShadowMatrix[p]=U.shadow.matrix,T++}n.directional[p]=H,p++}else if(U.isSpotLight){const H=t.get(U);H.position.setFromMatrixPosition(U.matrixWorld),H.color.copy(F).multiplyScalar(V),H.distance=W,H.coneCos=Math.cos(U.angle),H.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),H.decay=U.decay,n.spot[m]=H;const j=U.shadow;if(U.map&&(n.spotLightMap[D]=U.map,D++,j.updateMatrices(U),U.castShadow&&C++),n.spotLightMatrix[m]=j.matrix,U.castShadow){const Y=e.get(U);Y.shadowIntensity=j.intensity,Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,n.spotShadow[m]=Y,n.spotShadowMap[m]=Z,w++}m++}else if(U.isRectAreaLight){const H=t.get(U);H.color.copy(F).multiplyScalar(V),H.halfWidth.set(U.width*.5,0,0),H.halfHeight.set(0,U.height*.5,0),n.rectArea[_]=H,_++}else if(U.isPointLight){const H=t.get(U);if(H.color.copy(U.color).multiplyScalar(U.intensity),H.distance=U.distance,H.decay=U.decay,U.castShadow){const j=U.shadow,Y=e.get(U);Y.shadowIntensity=j.intensity,Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,Y.shadowCameraNear=j.camera.near,Y.shadowCameraFar=j.camera.far,n.pointShadow[g]=Y,n.pointShadowMap[g]=Z,n.pointShadowMatrix[g]=U.shadow.matrix,M++}n.point[g]=H,g++}else if(U.isHemisphereLight){const H=t.get(U);H.skyColor.copy(U.color).multiplyScalar(V),H.groundColor.copy(U.groundColor).multiplyScalar(V),n.hemi[S]=H,S++}}_>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=we.LTC_FLOAT_1,n.rectAreaLTC2=we.LTC_FLOAT_2):(n.rectAreaLTC1=we.LTC_HALF_1,n.rectAreaLTC2=we.LTC_HALF_2)),n.ambient[0]=c,n.ambient[1]=f,n.ambient[2]=h;const z=n.hash;(z.directionalLength!==p||z.pointLength!==g||z.spotLength!==m||z.rectAreaLength!==_||z.hemiLength!==S||z.numDirectionalShadows!==T||z.numPointShadows!==M||z.numSpotShadows!==w||z.numSpotMaps!==D||z.numLightProbes!==R)&&(n.directional.length=p,n.spot.length=m,n.rectArea.length=_,n.point.length=g,n.hemi.length=S,n.directionalShadow.length=T,n.directionalShadowMap.length=T,n.pointShadow.length=M,n.pointShadowMap.length=M,n.spotShadow.length=w,n.spotShadowMap.length=w,n.directionalShadowMatrix.length=T,n.pointShadowMatrix.length=M,n.spotLightMatrix.length=w+D-C,n.spotLightMap.length=D,n.numSpotLightShadowsWithMaps=C,n.numLightProbes=R,z.directionalLength=p,z.pointLength=g,z.spotLength=m,z.rectAreaLength=_,z.hemiLength=S,z.numDirectionalShadows=T,z.numPointShadows=M,z.numSpotShadows=w,z.numSpotMaps=D,z.numLightProbes=R,n.version=Ylt++)}function l(u,c){let f=0,h=0,p=0,g=0,m=0;const _=c.matrixWorldInverse;for(let S=0,T=u.length;S<T;S++){const M=u[S];if(M.isDirectionalLight){const w=n.directional[f];w.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(_),f++}else if(M.isSpotLight){const w=n.spot[p];w.position.setFromMatrixPosition(M.matrixWorld),w.position.applyMatrix4(_),w.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(_),p++}else if(M.isRectAreaLight){const w=n.rectArea[g];w.position.setFromMatrixPosition(M.matrixWorld),w.position.applyMatrix4(_),o.identity(),a.copy(M.matrixWorld),a.premultiply(_),o.extractRotation(a),w.halfWidth.set(M.width*.5,0,0),w.halfHeight.set(0,M.height*.5,0),w.halfWidth.applyMatrix4(o),w.halfHeight.applyMatrix4(o),g++}else if(M.isPointLight){const w=n.point[h];w.position.setFromMatrixPosition(M.matrixWorld),w.position.applyMatrix4(_),h++}else if(M.isHemisphereLight){const w=n.hemi[m];w.direction.setFromMatrixPosition(M.matrixWorld),w.direction.transformDirection(_),m++}}}return{setup:s,setupView:l,state:n}}function rH(i){const t=new Zlt(i),e=[],n=[];function r(c){u.camera=c,e.length=0,n.length=0}function a(c){e.push(c)}function o(c){n.push(c)}function s(){t.setup(e)}function l(c){t.setupView(e,c)}const u={lightsArray:e,shadowsArray:n,camera:null,lights:t,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:s,setupLightsView:l,pushLight:a,pushShadow:o}}function jlt(i){let t=new WeakMap;function e(r,a=0){const o=t.get(r);let s;return o===void 0?(s=new rH(i),t.set(r,[s])):a>=o.length?(s=new rH(i),o.push(s)):s=o[a],s}function n(){t=new WeakMap}return{get:e,dispose:n}}const Klt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Qlt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Jlt(i,t,e){let n=new y_;const r=new Zt,a=new Zt,o=new hi,s=new Sz({depthPacking:FX}),l=new xz,u={},c=e.maxTextureSize,f={[Yc]:jo,[jo]:Yc,[bu]:bu},h=new Ru({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Zt},radius:{value:4}},vertexShader:Klt,fragmentShader:Qlt}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const g=new Ln;g.setAttribute("position",new xi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Nr(g,h),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=x2;let S=this.type;this.render=function(C,R,z){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||C.length===0)return;const N=i.getRenderTarget(),O=i.getActiveCubeFace(),U=i.getActiveMipmapLevel(),F=i.state;F.setBlending(oh),F.buffers.depth.getReversed()===!0?F.buffers.color.setClear(0,0,0,0):F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const V=S!==_u&&this.type===_u,W=S===_u&&this.type!==_u;for(let Z=0,H=C.length;Z<H;Z++){const j=C[Z],Y=j.shadow;if(Y===void 0){console.warn("THREE.WebGLShadowMap:",j,"has no shadow.");continue}if(Y.autoUpdate===!1&&Y.needsUpdate===!1)continue;r.copy(Y.mapSize);const Q=Y.getFrameExtents();if(r.multiply(Q),a.copy(Y.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(a.x=Math.floor(c/Q.x),r.x=a.x*Q.x,Y.mapSize.x=a.x),r.y>c&&(a.y=Math.floor(c/Q.y),r.y=a.y*Q.y,Y.mapSize.y=a.y)),Y.map===null||V===!0||W===!0){const q=this.type!==_u?{minFilter:oa,magFilter:oa}:{};Y.map!==null&&Y.map.dispose(),Y.map=new qc(r.x,r.y,q),Y.map.texture.name=j.name+".shadowMap",Y.camera.updateProjectionMatrix()}i.setRenderTarget(Y.map),i.clear();const nt=Y.getViewportCount();for(let q=0;q<nt;q++){const $=Y.getViewport(q);o.set(a.x*$.x,a.y*$.y,a.x*$.z,a.y*$.w),F.viewport(o),Y.updateMatrices(j,q),n=Y.getFrustum(),w(R,z,Y.camera,j,this.type)}Y.isPointLightShadow!==!0&&this.type===_u&&T(Y,z),Y.needsUpdate=!1}S=this.type,_.needsUpdate=!1,i.setRenderTarget(N,O,U)};function T(C,R){const z=t.update(m);h.defines.VSM_SAMPLES!==C.blurSamples&&(h.defines.VSM_SAMPLES=C.blurSamples,p.defines.VSM_SAMPLES=C.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new qc(r.x,r.y)),h.uniforms.shadow_pass.value=C.map.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,i.setRenderTarget(C.mapPass),i.clear(),i.renderBufferDirect(R,null,z,h,m,null),p.uniforms.shadow_pass.value=C.mapPass.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,i.setRenderTarget(C.map),i.clear(),i.renderBufferDirect(R,null,z,p,m,null)}function M(C,R,z,N){let O=null;const U=z.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(U!==void 0)O=U;else if(O=z.isPointLight===!0?l:s,i.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0||R.alphaToCoverage===!0){const F=O.uuid,V=R.uuid;let W=u[F];W===void 0&&(W={},u[F]=W);let Z=W[V];Z===void 0&&(Z=O.clone(),W[V]=Z,R.addEventListener("dispose",D)),O=Z}if(O.visible=R.visible,O.wireframe=R.wireframe,N===_u?O.side=R.shadowSide!==null?R.shadowSide:R.side:O.side=R.shadowSide!==null?R.shadowSide:f[R.side],O.alphaMap=R.alphaMap,O.alphaTest=R.alphaToCoverage===!0?.5:R.alphaTest,O.map=R.map,O.clipShadows=R.clipShadows,O.clippingPlanes=R.clippingPlanes,O.clipIntersection=R.clipIntersection,O.displacementMap=R.displacementMap,O.displacementScale=R.displacementScale,O.displacementBias=R.displacementBias,O.wireframeLinewidth=R.wireframeLinewidth,O.linewidth=R.linewidth,z.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const F=i.properties.get(O);F.light=z}return O}function w(C,R,z,N,O){if(C.visible===!1)return;if(C.layers.test(R.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&O===_u)&&(!C.frustumCulled||n.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,C.matrixWorld);const V=t.update(C),W=C.material;if(Array.isArray(W)){const Z=V.groups;for(let H=0,j=Z.length;H<j;H++){const Y=Z[H],Q=W[Y.materialIndex];if(Q&&Q.visible){const nt=M(C,Q,N,O);C.onBeforeShadow(i,C,R,z,V,nt,Y),i.renderBufferDirect(z,null,V,nt,C,Y),C.onAfterShadow(i,C,R,z,V,nt,Y)}}}else if(W.visible){const Z=M(C,W,N,O);C.onBeforeShadow(i,C,R,z,V,Z,null),i.renderBufferDirect(z,null,V,Z,C,null),C.onAfterShadow(i,C,R,z,V,Z,null)}}const F=C.children;for(let V=0,W=F.length;V<W;V++)w(F[V],R,z,N,O)}function D(C){C.target.removeEventListener("dispose",D);for(const z in u){const N=u[z],O=C.target.uuid;O in N&&(N[O].dispose(),delete N[O])}}}const $lt={[_E]:SE,[xE]:ME,[bE]:AE,[Pg]:TE,[SE]:_E,[ME]:xE,[AE]:bE,[TE]:Pg};function tut(i,t){function e(){let lt=!1;const Jt=new hi;let ce=null;const Se=new hi(0,0,0,0);return{setMask:function(re){ce!==re&&!lt&&(i.colorMask(re,re,re,re),ce=re)},setLocked:function(re){lt=re},setClear:function(re,Kt,xe,qe,zn){zn===!0&&(re*=qe,Kt*=qe,xe*=qe),Jt.set(re,Kt,xe,qe),Se.equals(Jt)===!1&&(i.clearColor(re,Kt,xe,qe),Se.copy(Jt))},reset:function(){lt=!1,ce=null,Se.set(-1,0,0,0)}}}function n(){let lt=!1,Jt=!1,ce=null,Se=null,re=null;return{setReversed:function(Kt){if(Jt!==Kt){const xe=t.get("EXT_clip_control");Kt?xe.clipControlEXT(xe.LOWER_LEFT_EXT,xe.ZERO_TO_ONE_EXT):xe.clipControlEXT(xe.LOWER_LEFT_EXT,xe.NEGATIVE_ONE_TO_ONE_EXT),Jt=Kt;const qe=re;re=null,this.setClear(qe)}},getReversed:function(){return Jt},setTest:function(Kt){Kt?xt(i.DEPTH_TEST):Lt(i.DEPTH_TEST)},setMask:function(Kt){ce!==Kt&&!lt&&(i.depthMask(Kt),ce=Kt)},setFunc:function(Kt){if(Jt&&(Kt=$lt[Kt]),Se!==Kt){switch(Kt){case _E:i.depthFunc(i.NEVER);break;case SE:i.depthFunc(i.ALWAYS);break;case xE:i.depthFunc(i.LESS);break;case Pg:i.depthFunc(i.LEQUAL);break;case bE:i.depthFunc(i.EQUAL);break;case TE:i.depthFunc(i.GEQUAL);break;case ME:i.depthFunc(i.GREATER);break;case AE:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}Se=Kt}},setLocked:function(Kt){lt=Kt},setClear:function(Kt){re!==Kt&&(Jt&&(Kt=1-Kt),i.clearDepth(Kt),re=Kt)},reset:function(){lt=!1,ce=null,Se=null,re=null,Jt=!1}}}function r(){let lt=!1,Jt=null,ce=null,Se=null,re=null,Kt=null,xe=null,qe=null,zn=null;return{setTest:function(Mn){lt||(Mn?xt(i.STENCIL_TEST):Lt(i.STENCIL_TEST))},setMask:function(Mn){Jt!==Mn&&!lt&&(i.stencilMask(Mn),Jt=Mn)},setFunc:function(Mn,Yi,Br){(ce!==Mn||Se!==Yi||re!==Br)&&(i.stencilFunc(Mn,Yi,Br),ce=Mn,Se=Yi,re=Br)},setOp:function(Mn,Yi,Br){(Kt!==Mn||xe!==Yi||qe!==Br)&&(i.stencilOp(Mn,Yi,Br),Kt=Mn,xe=Yi,qe=Br)},setLocked:function(Mn){lt=Mn},setClear:function(Mn){zn!==Mn&&(i.clearStencil(Mn),zn=Mn)},reset:function(){lt=!1,Jt=null,ce=null,Se=null,re=null,Kt=null,xe=null,qe=null,zn=null}}}const a=new e,o=new n,s=new r,l=new WeakMap,u=new WeakMap;let c={},f={},h=new WeakMap,p=[],g=null,m=!1,_=null,S=null,T=null,M=null,w=null,D=null,C=null,R=new Me(0,0,0),z=0,N=!1,O=null,U=null,F=null,V=null,W=null;const Z=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,j=0;const Y=i.getParameter(i.VERSION);Y.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(Y)[1]),H=j>=1):Y.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),H=j>=2);let Q=null,nt={};const q=i.getParameter(i.SCISSOR_BOX),$=i.getParameter(i.VIEWPORT),st=new hi().fromArray(q),ft=new hi().fromArray($);function Mt(lt,Jt,ce,Se){const re=new Uint8Array(4),Kt=i.createTexture();i.bindTexture(lt,Kt),i.texParameteri(lt,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(lt,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let xe=0;xe<ce;xe++)lt===i.TEXTURE_3D||lt===i.TEXTURE_2D_ARRAY?i.texImage3D(Jt,0,i.RGBA,1,1,Se,0,i.RGBA,i.UNSIGNED_BYTE,re):i.texImage2D(Jt+xe,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,re);return Kt}const dt={};dt[i.TEXTURE_2D]=Mt(i.TEXTURE_2D,i.TEXTURE_2D,1),dt[i.TEXTURE_CUBE_MAP]=Mt(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),dt[i.TEXTURE_2D_ARRAY]=Mt(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),dt[i.TEXTURE_3D]=Mt(i.TEXTURE_3D,i.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),s.setClear(0),xt(i.DEPTH_TEST),o.setFunc(Pg),Nt(!1),Bt(lO),xt(i.CULL_FACE),wt(oh);function xt(lt){c[lt]!==!0&&(i.enable(lt),c[lt]=!0)}function Lt(lt){c[lt]!==!1&&(i.disable(lt),c[lt]=!1)}function Ct(lt,Jt){return f[lt]!==Jt?(i.bindFramebuffer(lt,Jt),f[lt]=Jt,lt===i.DRAW_FRAMEBUFFER&&(f[i.FRAMEBUFFER]=Jt),lt===i.FRAMEBUFFER&&(f[i.DRAW_FRAMEBUFFER]=Jt),!0):!1}function Wt(lt,Jt){let ce=p,Se=!1;if(lt){ce=h.get(Jt),ce===void 0&&(ce=[],h.set(Jt,ce));const re=lt.textures;if(ce.length!==re.length||ce[0]!==i.COLOR_ATTACHMENT0){for(let Kt=0,xe=re.length;Kt<xe;Kt++)ce[Kt]=i.COLOR_ATTACHMENT0+Kt;ce.length=re.length,Se=!0}}else ce[0]!==i.BACK&&(ce[0]=i.BACK,Se=!0);Se&&i.drawBuffers(ce)}function Xt(lt){return g!==lt?(i.useProgram(lt),g=lt,!0):!1}const ae={[Bd]:i.FUNC_ADD,[fX]:i.FUNC_SUBTRACT,[hX]:i.FUNC_REVERSE_SUBTRACT};ae[dX]=i.MIN,ae[pX]=i.MAX;const at={[vX]:i.ZERO,[gX]:i.ONE,[mX]:i.SRC_COLOR,[mE]:i.SRC_ALPHA,[TX]:i.SRC_ALPHA_SATURATE,[xX]:i.DST_COLOR,[_X]:i.DST_ALPHA,[yX]:i.ONE_MINUS_SRC_COLOR,[yE]:i.ONE_MINUS_SRC_ALPHA,[bX]:i.ONE_MINUS_DST_COLOR,[SX]:i.ONE_MINUS_DST_ALPHA,[MX]:i.CONSTANT_COLOR,[AX]:i.ONE_MINUS_CONSTANT_COLOR,[wX]:i.CONSTANT_ALPHA,[EX]:i.ONE_MINUS_CONSTANT_ALPHA};function wt(lt,Jt,ce,Se,re,Kt,xe,qe,zn,Mn){if(lt===oh){m===!0&&(Lt(i.BLEND),m=!1);return}if(m===!1&&(xt(i.BLEND),m=!0),lt!==cX){if(lt!==_||Mn!==N){if((S!==Bd||w!==Bd)&&(i.blendEquation(i.FUNC_ADD),S=Bd,w=Bd),Mn)switch(lt){case Ag:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case uO:i.blendFunc(i.ONE,i.ONE);break;case cO:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case fO:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",lt);break}else switch(lt){case Ag:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case uO:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case cO:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case fO:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",lt);break}T=null,M=null,D=null,C=null,R.set(0,0,0),z=0,_=lt,N=Mn}return}re=re||Jt,Kt=Kt||ce,xe=xe||Se,(Jt!==S||re!==w)&&(i.blendEquationSeparate(ae[Jt],ae[re]),S=Jt,w=re),(ce!==T||Se!==M||Kt!==D||xe!==C)&&(i.blendFuncSeparate(at[ce],at[Se],at[Kt],at[xe]),T=ce,M=Se,D=Kt,C=xe),(qe.equals(R)===!1||zn!==z)&&(i.blendColor(qe.r,qe.g,qe.b,zn),R.copy(qe),z=zn),_=lt,N=!1}function It(lt,Jt){lt.side===bu?Lt(i.CULL_FACE):xt(i.CULL_FACE);let ce=lt.side===jo;Jt&&(ce=!ce),Nt(ce),lt.blending===Ag&&lt.transparent===!1?wt(oh):wt(lt.blending,lt.blendEquation,lt.blendSrc,lt.blendDst,lt.blendEquationAlpha,lt.blendSrcAlpha,lt.blendDstAlpha,lt.blendColor,lt.blendAlpha,lt.premultipliedAlpha),o.setFunc(lt.depthFunc),o.setTest(lt.depthTest),o.setMask(lt.depthWrite),a.setMask(lt.colorWrite);const Se=lt.stencilWrite;s.setTest(Se),Se&&(s.setMask(lt.stencilWriteMask),s.setFunc(lt.stencilFunc,lt.stencilRef,lt.stencilFuncMask),s.setOp(lt.stencilFail,lt.stencilZFail,lt.stencilZPass)),jt(lt.polygonOffset,lt.polygonOffsetFactor,lt.polygonOffsetUnits),lt.alphaToCoverage===!0?xt(i.SAMPLE_ALPHA_TO_COVERAGE):Lt(i.SAMPLE_ALPHA_TO_COVERAGE)}function Nt(lt){O!==lt&&(lt?i.frontFace(i.CW):i.frontFace(i.CCW),O=lt)}function Bt(lt){lt!==sX?(xt(i.CULL_FACE),lt!==U&&(lt===lO?i.cullFace(i.BACK):lt===lX?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):Lt(i.CULL_FACE),U=lt}function oe(lt){lt!==F&&(H&&i.lineWidth(lt),F=lt)}function jt(lt,Jt,ce){lt?(xt(i.POLYGON_OFFSET_FILL),(V!==Jt||W!==ce)&&(i.polygonOffset(Jt,ce),V=Jt,W=ce)):Lt(i.POLYGON_OFFSET_FILL)}function ie(lt){lt?xt(i.SCISSOR_TEST):Lt(i.SCISSOR_TEST)}function Xe(lt){lt===void 0&&(lt=i.TEXTURE0+Z-1),Q!==lt&&(i.activeTexture(lt),Q=lt)}function nn(lt,Jt,ce){ce===void 0&&(Q===null?ce=i.TEXTURE0+Z-1:ce=Q);let Se=nt[ce];Se===void 0&&(Se={type:void 0,texture:void 0},nt[ce]=Se),(Se.type!==lt||Se.texture!==Jt)&&(Q!==ce&&(i.activeTexture(ce),Q=ce),i.bindTexture(lt,Jt||dt[lt]),Se.type=lt,Se.texture=Jt)}function rt(){const lt=nt[Q];lt!==void 0&&lt.type!==void 0&&(i.bindTexture(lt.type,null),lt.type=void 0,lt.texture=void 0)}function K(){try{i.compressedTexImage2D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function bt(){try{i.compressedTexImage3D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function Ft(){try{i.texSubImage2D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function ee(){try{i.texSubImage3D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function Gt(){try{i.compressedTexSubImage2D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function ke(){try{i.compressedTexSubImage3D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function pe(){try{i.texStorage2D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function Pe(){try{i.texStorage3D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function Be(){try{i.texImage2D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function ne(){try{i.texImage3D(...arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function he(lt){st.equals(lt)===!1&&(i.scissor(lt.x,lt.y,lt.z,lt.w),st.copy(lt))}function Ve(lt){ft.equals(lt)===!1&&(i.viewport(lt.x,lt.y,lt.z,lt.w),ft.copy(lt))}function ot(lt,Jt){let ce=u.get(Jt);ce===void 0&&(ce=new WeakMap,u.set(Jt,ce));let Se=ce.get(lt);Se===void 0&&(Se=i.getUniformBlockIndex(Jt,lt.name),ce.set(lt,Se))}function At(lt,Jt){const Se=u.get(Jt).get(lt);l.get(Jt)!==Se&&(i.uniformBlockBinding(Jt,Se,lt.__bindingPointIndex),l.set(Jt,Se))}function de(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),o.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),c={},Q=null,nt={},f={},h=new WeakMap,p=[],g=null,m=!1,_=null,S=null,T=null,M=null,w=null,D=null,C=null,R=new Me(0,0,0),z=0,N=!1,O=null,U=null,F=null,V=null,W=null,st.set(0,0,i.canvas.width,i.canvas.height),ft.set(0,0,i.canvas.width,i.canvas.height),a.reset(),o.reset(),s.reset()}return{buffers:{color:a,depth:o,stencil:s},enable:xt,disable:Lt,bindFramebuffer:Ct,drawBuffers:Wt,useProgram:Xt,setBlending:wt,setMaterial:It,setFlipSided:Nt,setCullFace:Bt,setLineWidth:oe,setPolygonOffset:jt,setScissorTest:ie,activeTexture:Xe,bindTexture:nn,unbindTexture:rt,compressedTexImage2D:K,compressedTexImage3D:bt,texImage2D:Be,texImage3D:ne,updateUBOMapping:ot,uniformBlockBinding:At,texStorage2D:pe,texStorage3D:Pe,texSubImage2D:Ft,texSubImage3D:ee,compressedTexSubImage2D:Gt,compressedTexSubImage3D:ke,scissor:he,viewport:Ve,reset:de}}function eut(i,t,e,n,r,a,o){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Zt,c=new WeakMap;let f;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(rt,K){return p?new OffscreenCanvas(rt,K):eb("canvas")}function m(rt,K,bt){let Ft=1;const ee=nn(rt);if((ee.width>bt||ee.height>bt)&&(Ft=bt/Math.max(ee.width,ee.height)),Ft<1)if(typeof HTMLImageElement<"u"&&rt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&rt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&rt instanceof ImageBitmap||typeof VideoFrame<"u"&&rt instanceof VideoFrame){const Gt=Math.floor(Ft*ee.width),ke=Math.floor(Ft*ee.height);f===void 0&&(f=g(Gt,ke));const pe=K?g(Gt,ke):f;return pe.width=Gt,pe.height=ke,pe.getContext("2d").drawImage(rt,0,0,Gt,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ee.width+"x"+ee.height+") to ("+Gt+"x"+ke+")."),pe}else return"data"in rt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ee.width+"x"+ee.height+")."),rt;return rt}function _(rt){return rt.generateMipmaps}function S(rt){i.generateMipmap(rt)}function T(rt){return rt.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:rt.isWebGL3DRenderTarget?i.TEXTURE_3D:rt.isWebGLArrayRenderTarget||rt.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function M(rt,K,bt,Ft,ee=!1){if(rt!==null){if(i[rt]!==void 0)return i[rt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+rt+"'")}let Gt=K;if(K===i.RED&&(bt===i.FLOAT&&(Gt=i.R32F),bt===i.HALF_FLOAT&&(Gt=i.R16F),bt===i.UNSIGNED_BYTE&&(Gt=i.R8)),K===i.RED_INTEGER&&(bt===i.UNSIGNED_BYTE&&(Gt=i.R8UI),bt===i.UNSIGNED_SHORT&&(Gt=i.R16UI),bt===i.UNSIGNED_INT&&(Gt=i.R32UI),bt===i.BYTE&&(Gt=i.R8I),bt===i.SHORT&&(Gt=i.R16I),bt===i.INT&&(Gt=i.R32I)),K===i.RG&&(bt===i.FLOAT&&(Gt=i.RG32F),bt===i.HALF_FLOAT&&(Gt=i.RG16F),bt===i.UNSIGNED_BYTE&&(Gt=i.RG8)),K===i.RG_INTEGER&&(bt===i.UNSIGNED_BYTE&&(Gt=i.RG8UI),bt===i.UNSIGNED_SHORT&&(Gt=i.RG16UI),bt===i.UNSIGNED_INT&&(Gt=i.RG32UI),bt===i.BYTE&&(Gt=i.RG8I),bt===i.SHORT&&(Gt=i.RG16I),bt===i.INT&&(Gt=i.RG32I)),K===i.RGB_INTEGER&&(bt===i.UNSIGNED_BYTE&&(Gt=i.RGB8UI),bt===i.UNSIGNED_SHORT&&(Gt=i.RGB16UI),bt===i.UNSIGNED_INT&&(Gt=i.RGB32UI),bt===i.BYTE&&(Gt=i.RGB8I),bt===i.SHORT&&(Gt=i.RGB16I),bt===i.INT&&(Gt=i.RGB32I)),K===i.RGBA_INTEGER&&(bt===i.UNSIGNED_BYTE&&(Gt=i.RGBA8UI),bt===i.UNSIGNED_SHORT&&(Gt=i.RGBA16UI),bt===i.UNSIGNED_INT&&(Gt=i.RGBA32UI),bt===i.BYTE&&(Gt=i.RGBA8I),bt===i.SHORT&&(Gt=i.RGBA16I),bt===i.INT&&(Gt=i.RGBA32I)),K===i.RGB&&(bt===i.UNSIGNED_INT_5_9_9_9_REV&&(Gt=i.RGB9_E5),bt===i.UNSIGNED_INT_10F_11F_11F_REV&&(Gt=i.R11F_G11F_B10F)),K===i.RGBA){const ke=ee?$1:Qn.getTransfer(Ft);bt===i.FLOAT&&(Gt=i.RGBA32F),bt===i.HALF_FLOAT&&(Gt=i.RGBA16F),bt===i.UNSIGNED_BYTE&&(Gt=ke===Di?i.SRGB8_ALPHA8:i.RGBA8),bt===i.UNSIGNED_SHORT_4_4_4_4&&(Gt=i.RGBA4),bt===i.UNSIGNED_SHORT_5_5_5_1&&(Gt=i.RGB5_A1)}return(Gt===i.R16F||Gt===i.R32F||Gt===i.RG16F||Gt===i.RG32F||Gt===i.RGBA16F||Gt===i.RGBA32F)&&t.get("EXT_color_buffer_float"),Gt}function w(rt,K){let bt;return rt?K===null||K===gh||K===H0?bt=i.DEPTH24_STENCIL8:K===gs?bt=i.DEPTH32F_STENCIL8:K===V0&&(bt=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):K===null||K===gh||K===H0?bt=i.DEPTH_COMPONENT24:K===gs?bt=i.DEPTH_COMPONENT32F:K===V0&&(bt=i.DEPTH_COMPONENT16),bt}function D(rt,K){return _(rt)===!0||rt.isFramebufferTexture&&rt.minFilter!==oa&&rt.minFilter!==xr?Math.log2(Math.max(K.width,K.height))+1:rt.mipmaps!==void 0&&rt.mipmaps.length>0?rt.mipmaps.length:rt.isCompressedTexture&&Array.isArray(rt.image)?K.mipmaps.length:1}function C(rt){const K=rt.target;K.removeEventListener("dispose",C),z(K),K.isVideoTexture&&c.delete(K)}function R(rt){const K=rt.target;K.removeEventListener("dispose",R),O(K)}function z(rt){const K=n.get(rt);if(K.__webglInit===void 0)return;const bt=rt.source,Ft=h.get(bt);if(Ft){const ee=Ft[K.__cacheKey];ee.usedTimes--,ee.usedTimes===0&&N(rt),Object.keys(Ft).length===0&&h.delete(bt)}n.remove(rt)}function N(rt){const K=n.get(rt);i.deleteTexture(K.__webglTexture);const bt=rt.source,Ft=h.get(bt);delete Ft[K.__cacheKey],o.memory.textures--}function O(rt){const K=n.get(rt);if(rt.depthTexture&&(rt.depthTexture.dispose(),n.remove(rt.depthTexture)),rt.isWebGLCubeRenderTarget)for(let Ft=0;Ft<6;Ft++){if(Array.isArray(K.__webglFramebuffer[Ft]))for(let ee=0;ee<K.__webglFramebuffer[Ft].length;ee++)i.deleteFramebuffer(K.__webglFramebuffer[Ft][ee]);else i.deleteFramebuffer(K.__webglFramebuffer[Ft]);K.__webglDepthbuffer&&i.deleteRenderbuffer(K.__webglDepthbuffer[Ft])}else{if(Array.isArray(K.__webglFramebuffer))for(let Ft=0;Ft<K.__webglFramebuffer.length;Ft++)i.deleteFramebuffer(K.__webglFramebuffer[Ft]);else i.deleteFramebuffer(K.__webglFramebuffer);if(K.__webglDepthbuffer&&i.deleteRenderbuffer(K.__webglDepthbuffer),K.__webglMultisampledFramebuffer&&i.deleteFramebuffer(K.__webglMultisampledFramebuffer),K.__webglColorRenderbuffer)for(let Ft=0;Ft<K.__webglColorRenderbuffer.length;Ft++)K.__webglColorRenderbuffer[Ft]&&i.deleteRenderbuffer(K.__webglColorRenderbuffer[Ft]);K.__webglDepthRenderbuffer&&i.deleteRenderbuffer(K.__webglDepthRenderbuffer)}const bt=rt.textures;for(let Ft=0,ee=bt.length;Ft<ee;Ft++){const Gt=n.get(bt[Ft]);Gt.__webglTexture&&(i.deleteTexture(Gt.__webglTexture),o.memory.textures--),n.remove(bt[Ft])}n.remove(rt)}let U=0;function F(){U=0}function V(){const rt=U;return rt>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+rt+" texture units while this GPU supports only "+r.maxTextures),U+=1,rt}function W(rt){const K=[];return K.push(rt.wrapS),K.push(rt.wrapT),K.push(rt.wrapR||0),K.push(rt.magFilter),K.push(rt.minFilter),K.push(rt.anisotropy),K.push(rt.internalFormat),K.push(rt.format),K.push(rt.type),K.push(rt.generateMipmaps),K.push(rt.premultiplyAlpha),K.push(rt.flipY),K.push(rt.unpackAlignment),K.push(rt.colorSpace),K.join()}function Z(rt,K){const bt=n.get(rt);if(rt.isVideoTexture&&ie(rt),rt.isRenderTargetTexture===!1&&rt.isExternalTexture!==!0&&rt.version>0&&bt.__version!==rt.version){const Ft=rt.image;if(Ft===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ft.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{dt(bt,rt,K);return}}else rt.isExternalTexture&&(bt.__webglTexture=rt.sourceTexture?rt.sourceTexture:null);e.bindTexture(i.TEXTURE_2D,bt.__webglTexture,i.TEXTURE0+K)}function H(rt,K){const bt=n.get(rt);if(rt.isRenderTargetTexture===!1&&rt.version>0&&bt.__version!==rt.version){dt(bt,rt,K);return}e.bindTexture(i.TEXTURE_2D_ARRAY,bt.__webglTexture,i.TEXTURE0+K)}function j(rt,K){const bt=n.get(rt);if(rt.isRenderTargetTexture===!1&&rt.version>0&&bt.__version!==rt.version){dt(bt,rt,K);return}e.bindTexture(i.TEXTURE_3D,bt.__webglTexture,i.TEXTURE0+K)}function Y(rt,K){const bt=n.get(rt);if(rt.version>0&&bt.__version!==rt.version){xt(bt,rt,K);return}e.bindTexture(i.TEXTURE_CUBE_MAP,bt.__webglTexture,i.TEXTURE0+K)}const Q={[rp]:i.REPEAT,[Us]:i.CLAMP_TO_EDGE,[U0]:i.MIRRORED_REPEAT},nt={[oa]:i.NEAREST,[T2]:i.NEAREST_MIPMAP_NEAREST,[pg]:i.NEAREST_MIPMAP_LINEAR,[xr]:i.LINEAR,[D0]:i.LINEAR_MIPMAP_NEAREST,[Rl]:i.LINEAR_MIPMAP_LINEAR},q={[XX]:i.NEVER,[KX]:i.ALWAYS,[WX]:i.LESS,[ez]:i.LEQUAL,[YX]:i.EQUAL,[jX]:i.GEQUAL,[qX]:i.GREATER,[ZX]:i.NOTEQUAL};function $(rt,K){if(K.type===gs&&t.has("OES_texture_float_linear")===!1&&(K.magFilter===xr||K.magFilter===D0||K.magFilter===pg||K.magFilter===Rl||K.minFilter===xr||K.minFilter===D0||K.minFilter===pg||K.minFilter===Rl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(rt,i.TEXTURE_WRAP_S,Q[K.wrapS]),i.texParameteri(rt,i.TEXTURE_WRAP_T,Q[K.wrapT]),(rt===i.TEXTURE_3D||rt===i.TEXTURE_2D_ARRAY)&&i.texParameteri(rt,i.TEXTURE_WRAP_R,Q[K.wrapR]),i.texParameteri(rt,i.TEXTURE_MAG_FILTER,nt[K.magFilter]),i.texParameteri(rt,i.TEXTURE_MIN_FILTER,nt[K.minFilter]),K.compareFunction&&(i.texParameteri(rt,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(rt,i.TEXTURE_COMPARE_FUNC,q[K.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(K.magFilter===oa||K.minFilter!==pg&&K.minFilter!==Rl||K.type===gs&&t.has("OES_texture_float_linear")===!1)return;if(K.anisotropy>1||n.get(K).__currentAnisotropy){const bt=t.get("EXT_texture_filter_anisotropic");i.texParameterf(rt,bt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,r.getMaxAnisotropy())),n.get(K).__currentAnisotropy=K.anisotropy}}}function st(rt,K){let bt=!1;rt.__webglInit===void 0&&(rt.__webglInit=!0,K.addEventListener("dispose",C));const Ft=K.source;let ee=h.get(Ft);ee===void 0&&(ee={},h.set(Ft,ee));const Gt=W(K);if(Gt!==rt.__cacheKey){ee[Gt]===void 0&&(ee[Gt]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,bt=!0),ee[Gt].usedTimes++;const ke=ee[rt.__cacheKey];ke!==void 0&&(ee[rt.__cacheKey].usedTimes--,ke.usedTimes===0&&N(K)),rt.__cacheKey=Gt,rt.__webglTexture=ee[Gt].texture}return bt}function ft(rt,K,bt){return Math.floor(Math.floor(rt/bt)/K)}function Mt(rt,K,bt,Ft){const Gt=rt.updateRanges;if(Gt.length===0)e.texSubImage2D(i.TEXTURE_2D,0,0,0,K.width,K.height,bt,Ft,K.data);else{Gt.sort((ne,he)=>ne.start-he.start);let ke=0;for(let ne=1;ne<Gt.length;ne++){const he=Gt[ke],Ve=Gt[ne],ot=he.start+he.count,At=ft(Ve.start,K.width,4),de=ft(he.start,K.width,4);Ve.start<=ot+1&&At===de&&ft(Ve.start+Ve.count-1,K.width,4)===At?he.count=Math.max(he.count,Ve.start+Ve.count-he.start):(++ke,Gt[ke]=Ve)}Gt.length=ke+1;const pe=i.getParameter(i.UNPACK_ROW_LENGTH),Pe=i.getParameter(i.UNPACK_SKIP_PIXELS),Be=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,K.width);for(let ne=0,he=Gt.length;ne<he;ne++){const Ve=Gt[ne],ot=Math.floor(Ve.start/4),At=Math.ceil(Ve.count/4),de=ot%K.width,lt=Math.floor(ot/K.width),Jt=At,ce=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,de),i.pixelStorei(i.UNPACK_SKIP_ROWS,lt),e.texSubImage2D(i.TEXTURE_2D,0,de,lt,Jt,ce,bt,Ft,K.data)}rt.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,pe),i.pixelStorei(i.UNPACK_SKIP_PIXELS,Pe),i.pixelStorei(i.UNPACK_SKIP_ROWS,Be)}}function dt(rt,K,bt){let Ft=i.TEXTURE_2D;(K.isDataArrayTexture||K.isCompressedArrayTexture)&&(Ft=i.TEXTURE_2D_ARRAY),K.isData3DTexture&&(Ft=i.TEXTURE_3D);const ee=st(rt,K),Gt=K.source;e.bindTexture(Ft,rt.__webglTexture,i.TEXTURE0+bt);const ke=n.get(Gt);if(Gt.version!==ke.__version||ee===!0){e.activeTexture(i.TEXTURE0+bt);const pe=Qn.getPrimaries(Qn.workingColorSpace),Pe=K.colorSpace===Qf?null:Qn.getPrimaries(K.colorSpace),Be=K.colorSpace===Qf||pe===Pe?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,K.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,K.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Be);let ne=m(K.image,!1,r.maxTextureSize);ne=Xe(K,ne);const he=a.convert(K.format,K.colorSpace),Ve=a.convert(K.type);let ot=M(K.internalFormat,he,Ve,K.colorSpace,K.isVideoTexture);$(Ft,K);let At;const de=K.mipmaps,lt=K.isVideoTexture!==!0,Jt=ke.__version===void 0||ee===!0,ce=Gt.dataReady,Se=D(K,ne);if(K.isDepthTexture)ot=w(K.format===F0,K.type),Jt&&(lt?e.texStorage2D(i.TEXTURE_2D,1,ot,ne.width,ne.height):e.texImage2D(i.TEXTURE_2D,0,ot,ne.width,ne.height,0,he,Ve,null));else if(K.isDataTexture)if(de.length>0){lt&&Jt&&e.texStorage2D(i.TEXTURE_2D,Se,ot,de[0].width,de[0].height);for(let re=0,Kt=de.length;re<Kt;re++)At=de[re],lt?ce&&e.texSubImage2D(i.TEXTURE_2D,re,0,0,At.width,At.height,he,Ve,At.data):e.texImage2D(i.TEXTURE_2D,re,ot,At.width,At.height,0,he,Ve,At.data);K.generateMipmaps=!1}else lt?(Jt&&e.texStorage2D(i.TEXTURE_2D,Se,ot,ne.width,ne.height),ce&&Mt(K,ne,he,Ve)):e.texImage2D(i.TEXTURE_2D,0,ot,ne.width,ne.height,0,he,Ve,ne.data);else if(K.isCompressedTexture)if(K.isCompressedArrayTexture){lt&&Jt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,Se,ot,de[0].width,de[0].height,ne.depth);for(let re=0,Kt=de.length;re<Kt;re++)if(At=de[re],K.format!==_o)if(he!==null)if(lt){if(ce)if(K.layerUpdates.size>0){const xe=xO(At.width,At.height,K.format,K.type);for(const qe of K.layerUpdates){const zn=At.data.subarray(qe*xe/At.data.BYTES_PER_ELEMENT,(qe+1)*xe/At.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,re,0,0,qe,At.width,At.height,1,he,zn)}K.clearLayerUpdates()}else e.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,re,0,0,0,At.width,At.height,ne.depth,he,At.data)}else e.compressedTexImage3D(i.TEXTURE_2D_ARRAY,re,ot,At.width,At.height,ne.depth,0,At.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else lt?ce&&e.texSubImage3D(i.TEXTURE_2D_ARRAY,re,0,0,0,At.width,At.height,ne.depth,he,Ve,At.data):e.texImage3D(i.TEXTURE_2D_ARRAY,re,ot,At.width,At.height,ne.depth,0,he,Ve,At.data)}else{lt&&Jt&&e.texStorage2D(i.TEXTURE_2D,Se,ot,de[0].width,de[0].height);for(let re=0,Kt=de.length;re<Kt;re++)At=de[re],K.format!==_o?he!==null?lt?ce&&e.compressedTexSubImage2D(i.TEXTURE_2D,re,0,0,At.width,At.height,he,At.data):e.compressedTexImage2D(i.TEXTURE_2D,re,ot,At.width,At.height,0,At.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):lt?ce&&e.texSubImage2D(i.TEXTURE_2D,re,0,0,At.width,At.height,he,Ve,At.data):e.texImage2D(i.TEXTURE_2D,re,ot,At.width,At.height,0,he,Ve,At.data)}else if(K.isDataArrayTexture)if(lt){if(Jt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,Se,ot,ne.width,ne.height,ne.depth),ce)if(K.layerUpdates.size>0){const re=xO(ne.width,ne.height,K.format,K.type);for(const Kt of K.layerUpdates){const xe=ne.data.subarray(Kt*re/ne.data.BYTES_PER_ELEMENT,(Kt+1)*re/ne.data.BYTES_PER_ELEMENT);e.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Kt,ne.width,ne.height,1,he,Ve,xe)}K.clearLayerUpdates()}else e.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,ne.width,ne.height,ne.depth,he,Ve,ne.data)}else e.texImage3D(i.TEXTURE_2D_ARRAY,0,ot,ne.width,ne.height,ne.depth,0,he,Ve,ne.data);else if(K.isData3DTexture)lt?(Jt&&e.texStorage3D(i.TEXTURE_3D,Se,ot,ne.width,ne.height,ne.depth),ce&&e.texSubImage3D(i.TEXTURE_3D,0,0,0,0,ne.width,ne.height,ne.depth,he,Ve,ne.data)):e.texImage3D(i.TEXTURE_3D,0,ot,ne.width,ne.height,ne.depth,0,he,Ve,ne.data);else if(K.isFramebufferTexture){if(Jt)if(lt)e.texStorage2D(i.TEXTURE_2D,Se,ot,ne.width,ne.height);else{let re=ne.width,Kt=ne.height;for(let xe=0;xe<Se;xe++)e.texImage2D(i.TEXTURE_2D,xe,ot,re,Kt,0,he,Ve,null),re>>=1,Kt>>=1}}else if(de.length>0){if(lt&&Jt){const re=nn(de[0]);e.texStorage2D(i.TEXTURE_2D,Se,ot,re.width,re.height)}for(let re=0,Kt=de.length;re<Kt;re++)At=de[re],lt?ce&&e.texSubImage2D(i.TEXTURE_2D,re,0,0,he,Ve,At):e.texImage2D(i.TEXTURE_2D,re,ot,he,Ve,At);K.generateMipmaps=!1}else if(lt){if(Jt){const re=nn(ne);e.texStorage2D(i.TEXTURE_2D,Se,ot,re.width,re.height)}ce&&e.texSubImage2D(i.TEXTURE_2D,0,0,0,he,Ve,ne)}else e.texImage2D(i.TEXTURE_2D,0,ot,he,Ve,ne);_(K)&&S(Ft),ke.__version=Gt.version,K.onUpdate&&K.onUpdate(K)}rt.__version=K.version}function xt(rt,K,bt){if(K.image.length!==6)return;const Ft=st(rt,K),ee=K.source;e.bindTexture(i.TEXTURE_CUBE_MAP,rt.__webglTexture,i.TEXTURE0+bt);const Gt=n.get(ee);if(ee.version!==Gt.__version||Ft===!0){e.activeTexture(i.TEXTURE0+bt);const ke=Qn.getPrimaries(Qn.workingColorSpace),pe=K.colorSpace===Qf?null:Qn.getPrimaries(K.colorSpace),Pe=K.colorSpace===Qf||ke===pe?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,K.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,K.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Pe);const Be=K.isCompressedTexture||K.image[0].isCompressedTexture,ne=K.image[0]&&K.image[0].isDataTexture,he=[];for(let Kt=0;Kt<6;Kt++)!Be&&!ne?he[Kt]=m(K.image[Kt],!0,r.maxCubemapSize):he[Kt]=ne?K.image[Kt].image:K.image[Kt],he[Kt]=Xe(K,he[Kt]);const Ve=he[0],ot=a.convert(K.format,K.colorSpace),At=a.convert(K.type),de=M(K.internalFormat,ot,At,K.colorSpace),lt=K.isVideoTexture!==!0,Jt=Gt.__version===void 0||Ft===!0,ce=ee.dataReady;let Se=D(K,Ve);$(i.TEXTURE_CUBE_MAP,K);let re;if(Be){lt&&Jt&&e.texStorage2D(i.TEXTURE_CUBE_MAP,Se,de,Ve.width,Ve.height);for(let Kt=0;Kt<6;Kt++){re=he[Kt].mipmaps;for(let xe=0;xe<re.length;xe++){const qe=re[xe];K.format!==_o?ot!==null?lt?ce&&e.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,xe,0,0,qe.width,qe.height,ot,qe.data):e.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,xe,de,qe.width,qe.height,0,qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):lt?ce&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,xe,0,0,qe.width,qe.height,ot,At,qe.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,xe,de,qe.width,qe.height,0,ot,At,qe.data)}}}else{if(re=K.mipmaps,lt&&Jt){re.length>0&&Se++;const Kt=nn(he[0]);e.texStorage2D(i.TEXTURE_CUBE_MAP,Se,de,Kt.width,Kt.height)}for(let Kt=0;Kt<6;Kt++)if(ne){lt?ce&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,0,0,0,he[Kt].width,he[Kt].height,ot,At,he[Kt].data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,0,de,he[Kt].width,he[Kt].height,0,ot,At,he[Kt].data);for(let xe=0;xe<re.length;xe++){const zn=re[xe].image[Kt].image;lt?ce&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,xe+1,0,0,zn.width,zn.height,ot,At,zn.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,xe+1,de,zn.width,zn.height,0,ot,At,zn.data)}}else{lt?ce&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,0,0,0,ot,At,he[Kt]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,0,de,ot,At,he[Kt]);for(let xe=0;xe<re.length;xe++){const qe=re[xe];lt?ce&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,xe+1,0,0,ot,At,qe.image[Kt]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,xe+1,de,ot,At,qe.image[Kt])}}}_(K)&&S(i.TEXTURE_CUBE_MAP),Gt.__version=ee.version,K.onUpdate&&K.onUpdate(K)}rt.__version=K.version}function Lt(rt,K,bt,Ft,ee,Gt){const ke=a.convert(bt.format,bt.colorSpace),pe=a.convert(bt.type),Pe=M(bt.internalFormat,ke,pe,bt.colorSpace),Be=n.get(K),ne=n.get(bt);if(ne.__renderTarget=K,!Be.__hasExternalTextures){const he=Math.max(1,K.width>>Gt),Ve=Math.max(1,K.height>>Gt);ee===i.TEXTURE_3D||ee===i.TEXTURE_2D_ARRAY?e.texImage3D(ee,Gt,Pe,he,Ve,K.depth,0,ke,pe,null):e.texImage2D(ee,Gt,Pe,he,Ve,0,ke,pe,null)}e.bindFramebuffer(i.FRAMEBUFFER,rt),jt(K)?s.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Ft,ee,ne.__webglTexture,0,oe(K)):(ee===i.TEXTURE_2D||ee>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&ee<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Ft,ee,ne.__webglTexture,Gt),e.bindFramebuffer(i.FRAMEBUFFER,null)}function Ct(rt,K,bt){if(i.bindRenderbuffer(i.RENDERBUFFER,rt),K.depthBuffer){const Ft=K.depthTexture,ee=Ft&&Ft.isDepthTexture?Ft.type:null,Gt=w(K.stencilBuffer,ee),ke=K.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,pe=oe(K);jt(K)?s.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,pe,Gt,K.width,K.height):bt?i.renderbufferStorageMultisample(i.RENDERBUFFER,pe,Gt,K.width,K.height):i.renderbufferStorage(i.RENDERBUFFER,Gt,K.width,K.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,ke,i.RENDERBUFFER,rt)}else{const Ft=K.textures;for(let ee=0;ee<Ft.length;ee++){const Gt=Ft[ee],ke=a.convert(Gt.format,Gt.colorSpace),pe=a.convert(Gt.type),Pe=M(Gt.internalFormat,ke,pe,Gt.colorSpace),Be=oe(K);bt&&jt(K)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,Be,Pe,K.width,K.height):jt(K)?s.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Be,Pe,K.width,K.height):i.renderbufferStorage(i.RENDERBUFFER,Pe,K.width,K.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function Wt(rt,K){if(K&&K.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(i.FRAMEBUFFER,rt),!(K.depthTexture&&K.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ft=n.get(K.depthTexture);Ft.__renderTarget=K,(!Ft.__webglTexture||K.depthTexture.image.width!==K.width||K.depthTexture.image.height!==K.height)&&(K.depthTexture.image.width=K.width,K.depthTexture.image.height=K.height,K.depthTexture.needsUpdate=!0),Z(K.depthTexture,0);const ee=Ft.__webglTexture,Gt=oe(K);if(K.depthTexture.format===k0)jt(K)?s.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ee,0,Gt):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ee,0);else if(K.depthTexture.format===F0)jt(K)?s.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ee,0,Gt):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ee,0);else throw new Error("Unknown depthTexture format")}function Xt(rt){const K=n.get(rt),bt=rt.isWebGLCubeRenderTarget===!0;if(K.__boundDepthTexture!==rt.depthTexture){const Ft=rt.depthTexture;if(K.__depthDisposeCallback&&K.__depthDisposeCallback(),Ft){const ee=()=>{delete K.__boundDepthTexture,delete K.__depthDisposeCallback,Ft.removeEventListener("dispose",ee)};Ft.addEventListener("dispose",ee),K.__depthDisposeCallback=ee}K.__boundDepthTexture=Ft}if(rt.depthTexture&&!K.__autoAllocateDepthBuffer){if(bt)throw new Error("target.depthTexture not supported in Cube render targets");const Ft=rt.texture.mipmaps;Ft&&Ft.length>0?Wt(K.__webglFramebuffer[0],rt):Wt(K.__webglFramebuffer,rt)}else if(bt){K.__webglDepthbuffer=[];for(let Ft=0;Ft<6;Ft++)if(e.bindFramebuffer(i.FRAMEBUFFER,K.__webglFramebuffer[Ft]),K.__webglDepthbuffer[Ft]===void 0)K.__webglDepthbuffer[Ft]=i.createRenderbuffer(),Ct(K.__webglDepthbuffer[Ft],rt,!1);else{const ee=rt.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Gt=K.__webglDepthbuffer[Ft];i.bindRenderbuffer(i.RENDERBUFFER,Gt),i.framebufferRenderbuffer(i.FRAMEBUFFER,ee,i.RENDERBUFFER,Gt)}}else{const Ft=rt.texture.mipmaps;if(Ft&&Ft.length>0?e.bindFramebuffer(i.FRAMEBUFFER,K.__webglFramebuffer[0]):e.bindFramebuffer(i.FRAMEBUFFER,K.__webglFramebuffer),K.__webglDepthbuffer===void 0)K.__webglDepthbuffer=i.createRenderbuffer(),Ct(K.__webglDepthbuffer,rt,!1);else{const ee=rt.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Gt=K.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Gt),i.framebufferRenderbuffer(i.FRAMEBUFFER,ee,i.RENDERBUFFER,Gt)}}e.bindFramebuffer(i.FRAMEBUFFER,null)}function ae(rt,K,bt){const Ft=n.get(rt);K!==void 0&&Lt(Ft.__webglFramebuffer,rt,rt.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),bt!==void 0&&Xt(rt)}function at(rt){const K=rt.texture,bt=n.get(rt),Ft=n.get(K);rt.addEventListener("dispose",R);const ee=rt.textures,Gt=rt.isWebGLCubeRenderTarget===!0,ke=ee.length>1;if(ke||(Ft.__webglTexture===void 0&&(Ft.__webglTexture=i.createTexture()),Ft.__version=K.version,o.memory.textures++),Gt){bt.__webglFramebuffer=[];for(let pe=0;pe<6;pe++)if(K.mipmaps&&K.mipmaps.length>0){bt.__webglFramebuffer[pe]=[];for(let Pe=0;Pe<K.mipmaps.length;Pe++)bt.__webglFramebuffer[pe][Pe]=i.createFramebuffer()}else bt.__webglFramebuffer[pe]=i.createFramebuffer()}else{if(K.mipmaps&&K.mipmaps.length>0){bt.__webglFramebuffer=[];for(let pe=0;pe<K.mipmaps.length;pe++)bt.__webglFramebuffer[pe]=i.createFramebuffer()}else bt.__webglFramebuffer=i.createFramebuffer();if(ke)for(let pe=0,Pe=ee.length;pe<Pe;pe++){const Be=n.get(ee[pe]);Be.__webglTexture===void 0&&(Be.__webglTexture=i.createTexture(),o.memory.textures++)}if(rt.samples>0&&jt(rt)===!1){bt.__webglMultisampledFramebuffer=i.createFramebuffer(),bt.__webglColorRenderbuffer=[],e.bindFramebuffer(i.FRAMEBUFFER,bt.__webglMultisampledFramebuffer);for(let pe=0;pe<ee.length;pe++){const Pe=ee[pe];bt.__webglColorRenderbuffer[pe]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,bt.__webglColorRenderbuffer[pe]);const Be=a.convert(Pe.format,Pe.colorSpace),ne=a.convert(Pe.type),he=M(Pe.internalFormat,Be,ne,Pe.colorSpace,rt.isXRRenderTarget===!0),Ve=oe(rt);i.renderbufferStorageMultisample(i.RENDERBUFFER,Ve,he,rt.width,rt.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+pe,i.RENDERBUFFER,bt.__webglColorRenderbuffer[pe])}i.bindRenderbuffer(i.RENDERBUFFER,null),rt.depthBuffer&&(bt.__webglDepthRenderbuffer=i.createRenderbuffer(),Ct(bt.__webglDepthRenderbuffer,rt,!0)),e.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Gt){e.bindTexture(i.TEXTURE_CUBE_MAP,Ft.__webglTexture),$(i.TEXTURE_CUBE_MAP,K);for(let pe=0;pe<6;pe++)if(K.mipmaps&&K.mipmaps.length>0)for(let Pe=0;Pe<K.mipmaps.length;Pe++)Lt(bt.__webglFramebuffer[pe][Pe],rt,K,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+pe,Pe);else Lt(bt.__webglFramebuffer[pe],rt,K,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+pe,0);_(K)&&S(i.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(ke){for(let pe=0,Pe=ee.length;pe<Pe;pe++){const Be=ee[pe],ne=n.get(Be);let he=i.TEXTURE_2D;(rt.isWebGL3DRenderTarget||rt.isWebGLArrayRenderTarget)&&(he=rt.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),e.bindTexture(he,ne.__webglTexture),$(he,Be),Lt(bt.__webglFramebuffer,rt,Be,i.COLOR_ATTACHMENT0+pe,he,0),_(Be)&&S(he)}e.unbindTexture()}else{let pe=i.TEXTURE_2D;if((rt.isWebGL3DRenderTarget||rt.isWebGLArrayRenderTarget)&&(pe=rt.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),e.bindTexture(pe,Ft.__webglTexture),$(pe,K),K.mipmaps&&K.mipmaps.length>0)for(let Pe=0;Pe<K.mipmaps.length;Pe++)Lt(bt.__webglFramebuffer[Pe],rt,K,i.COLOR_ATTACHMENT0,pe,Pe);else Lt(bt.__webglFramebuffer,rt,K,i.COLOR_ATTACHMENT0,pe,0);_(K)&&S(pe),e.unbindTexture()}rt.depthBuffer&&Xt(rt)}function wt(rt){const K=rt.textures;for(let bt=0,Ft=K.length;bt<Ft;bt++){const ee=K[bt];if(_(ee)){const Gt=T(rt),ke=n.get(ee).__webglTexture;e.bindTexture(Gt,ke),S(Gt),e.unbindTexture()}}}const It=[],Nt=[];function Bt(rt){if(rt.samples>0){if(jt(rt)===!1){const K=rt.textures,bt=rt.width,Ft=rt.height;let ee=i.COLOR_BUFFER_BIT;const Gt=rt.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,ke=n.get(rt),pe=K.length>1;if(pe)for(let Be=0;Be<K.length;Be++)e.bindFramebuffer(i.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Be,i.RENDERBUFFER,null),e.bindFramebuffer(i.FRAMEBUFFER,ke.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Be,i.TEXTURE_2D,null,0);e.bindFramebuffer(i.READ_FRAMEBUFFER,ke.__webglMultisampledFramebuffer);const Pe=rt.texture.mipmaps;Pe&&Pe.length>0?e.bindFramebuffer(i.DRAW_FRAMEBUFFER,ke.__webglFramebuffer[0]):e.bindFramebuffer(i.DRAW_FRAMEBUFFER,ke.__webglFramebuffer);for(let Be=0;Be<K.length;Be++){if(rt.resolveDepthBuffer&&(rt.depthBuffer&&(ee|=i.DEPTH_BUFFER_BIT),rt.stencilBuffer&&rt.resolveStencilBuffer&&(ee|=i.STENCIL_BUFFER_BIT)),pe){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,ke.__webglColorRenderbuffer[Be]);const ne=n.get(K[Be]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,ne,0)}i.blitFramebuffer(0,0,bt,Ft,0,0,bt,Ft,ee,i.NEAREST),l===!0&&(It.length=0,Nt.length=0,It.push(i.COLOR_ATTACHMENT0+Be),rt.depthBuffer&&rt.resolveDepthBuffer===!1&&(It.push(Gt),Nt.push(Gt),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Nt)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,It))}if(e.bindFramebuffer(i.READ_FRAMEBUFFER,null),e.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),pe)for(let Be=0;Be<K.length;Be++){e.bindFramebuffer(i.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Be,i.RENDERBUFFER,ke.__webglColorRenderbuffer[Be]);const ne=n.get(K[Be]).__webglTexture;e.bindFramebuffer(i.FRAMEBUFFER,ke.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Be,i.TEXTURE_2D,ne,0)}e.bindFramebuffer(i.DRAW_FRAMEBUFFER,ke.__webglMultisampledFramebuffer)}else if(rt.depthBuffer&&rt.resolveDepthBuffer===!1&&l){const K=rt.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[K])}}}function oe(rt){return Math.min(r.maxSamples,rt.samples)}function jt(rt){const K=n.get(rt);return rt.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&K.__useRenderToTexture!==!1}function ie(rt){const K=o.render.frame;c.get(rt)!==K&&(c.set(rt,K),rt.update())}function Xe(rt,K){const bt=rt.colorSpace,Ft=rt.format,ee=rt.type;return rt.isCompressedTexture===!0||rt.isVideoTexture===!0||bt!==qa&&bt!==Qf&&(Qn.getTransfer(bt)===Di?(Ft!==_o||ee!==Nl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",bt)),K}function nn(rt){return typeof HTMLImageElement<"u"&&rt instanceof HTMLImageElement?(u.width=rt.naturalWidth||rt.width,u.height=rt.naturalHeight||rt.height):typeof VideoFrame<"u"&&rt instanceof VideoFrame?(u.width=rt.displayWidth,u.height=rt.displayHeight):(u.width=rt.width,u.height=rt.height),u}this.allocateTextureUnit=V,this.resetTextureUnits=F,this.setTexture2D=Z,this.setTexture2DArray=H,this.setTexture3D=j,this.setTextureCube=Y,this.rebindTextures=ae,this.setupRenderTarget=at,this.updateRenderTargetMipmap=wt,this.updateMultisampleRenderTarget=Bt,this.setupDepthRenderbuffer=Xt,this.setupFrameBufferTexture=Lt,this.useMultisampledRTT=jt}function nY(i,t){function e(n,r=Qf){let a;const o=Qn.getTransfer(r);if(n===Nl)return i.UNSIGNED_BYTE;if(n===A2)return i.UNSIGNED_SHORT_4_4_4_4;if(n===w2)return i.UNSIGNED_SHORT_5_5_5_1;if(n===Z3)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===j3)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===Y3)return i.BYTE;if(n===q3)return i.SHORT;if(n===V0)return i.UNSIGNED_SHORT;if(n===M2)return i.INT;if(n===gh)return i.UNSIGNED_INT;if(n===gs)return i.FLOAT;if(n===m_)return i.HALF_FLOAT;if(n===K3)return i.ALPHA;if(n===Q3)return i.RGB;if(n===_o)return i.RGBA;if(n===k0)return i.DEPTH_COMPONENT;if(n===F0)return i.DEPTH_STENCIL;if(n===E2)return i.RED;if(n===kb)return i.RED_INTEGER;if(n===J3)return i.RG;if(n===C2)return i.RG_INTEGER;if(n===D2)return i.RGBA_INTEGER;if(n===E1||n===C1||n===D1||n===R1)if(o===Di)if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(n===E1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===C1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===D1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===R1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(n===E1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===C1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===D1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===R1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===wE||n===EE||n===CE||n===DE)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(n===wE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===EE)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===CE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===DE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===RE||n===LE||n===IE)if(a=t.get("WEBGL_compressed_texture_etc"),a!==null){if(n===RE||n===LE)return o===Di?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===IE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===NE||n===OE||n===PE||n===zE||n===BE||n===UE||n===VE||n===HE||n===kE||n===FE||n===GE||n===XE||n===WE||n===YE)if(a=t.get("WEBGL_compressed_texture_astc"),a!==null){if(n===NE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===OE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===PE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===zE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===BE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===UE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===VE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===HE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===kE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===FE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===GE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===XE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===WE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===YE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===qE||n===ZE||n===jE)if(a=t.get("EXT_texture_compression_bptc"),a!==null){if(n===qE)return o===Di?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===ZE)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===jE)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===KE||n===QE||n===JE||n===$E)if(a=t.get("EXT_texture_compression_rgtc"),a!==null){if(n===KE)return a.COMPRESSED_RED_RGTC1_EXT;if(n===QE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===JE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===$E)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===H0?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:e}}const nut=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,iut=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class rut{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e){if(this.texture===null){const n=new dz(t.texture);(t.depthNear!==e.depthNear||t.depthFar!==e.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=n}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,n=new Ru({vertexShader:nut,fragmentShader:iut,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Nr(new __(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class aut extends tf{constructor(t,e){super();const n=this;let r=null,a=1,o=null,s="local-floor",l=1,u=null,c=null,f=null,h=null,p=null,g=null;const m=typeof XRWebGLBinding<"u",_=new rut,S={},T=e.getContextAttributes();let M=null,w=null;const D=[],C=[],R=new Zt;let z=null;const N=new Sr;N.viewport=new hi;const O=new Sr;O.viewport=new hi;const U=[N,O],F=new WW;let V=null,W=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(dt){let xt=D[dt];return xt===void 0&&(xt=new qw,D[dt]=xt),xt.getTargetRaySpace()},this.getControllerGrip=function(dt){let xt=D[dt];return xt===void 0&&(xt=new qw,D[dt]=xt),xt.getGripSpace()},this.getHand=function(dt){let xt=D[dt];return xt===void 0&&(xt=new qw,D[dt]=xt),xt.getHandSpace()};function Z(dt){const xt=C.indexOf(dt.inputSource);if(xt===-1)return;const Lt=D[xt];Lt!==void 0&&(Lt.update(dt.inputSource,dt.frame,u||o),Lt.dispatchEvent({type:dt.type,data:dt.inputSource}))}function H(){r.removeEventListener("select",Z),r.removeEventListener("selectstart",Z),r.removeEventListener("selectend",Z),r.removeEventListener("squeeze",Z),r.removeEventListener("squeezestart",Z),r.removeEventListener("squeezeend",Z),r.removeEventListener("end",H),r.removeEventListener("inputsourceschange",j);for(let dt=0;dt<D.length;dt++){const xt=C[dt];xt!==null&&(C[dt]=null,D[dt].disconnect(xt))}V=null,W=null,_.reset();for(const dt in S)delete S[dt];t.setRenderTarget(M),p=null,h=null,f=null,r=null,w=null,Mt.stop(),n.isPresenting=!1,t.setPixelRatio(z),t.setSize(R.width,R.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(dt){a=dt,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(dt){s=dt,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(dt){u=dt},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f===null&&m&&(f=new XRWebGLBinding(r,e)),f},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(dt){if(r=dt,r!==null){if(M=t.getRenderTarget(),r.addEventListener("select",Z),r.addEventListener("selectstart",Z),r.addEventListener("selectend",Z),r.addEventListener("squeeze",Z),r.addEventListener("squeezestart",Z),r.addEventListener("squeezeend",Z),r.addEventListener("end",H),r.addEventListener("inputsourceschange",j),T.xrCompatible!==!0&&await e.makeXRCompatible(),z=t.getPixelRatio(),t.getSize(R),m&&"createProjectionLayer"in XRWebGLBinding.prototype){let Lt=null,Ct=null,Wt=null;T.depth&&(Wt=T.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Lt=T.stencil?F0:k0,Ct=T.stencil?H0:gh);const Xt={colorFormat:e.RGBA8,depthFormat:Wt,scaleFactor:a};f=this.getBinding(),h=f.createProjectionLayer(Xt),r.updateRenderState({layers:[h]}),t.setPixelRatio(1),t.setSize(h.textureWidth,h.textureHeight,!1),w=new qc(h.textureWidth,h.textureHeight,{format:_o,type:Nl,depthTexture:new hz(h.textureWidth,h.textureHeight,Ct,void 0,void 0,void 0,void 0,void 0,void 0,Lt),stencilBuffer:T.stencil,colorSpace:t.outputColorSpace,samples:T.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const Lt={antialias:T.antialias,alpha:!0,depth:T.depth,stencil:T.stencil,framebufferScaleFactor:a};p=new XRWebGLLayer(r,e,Lt),r.updateRenderState({baseLayer:p}),t.setPixelRatio(1),t.setSize(p.framebufferWidth,p.framebufferHeight,!1),w=new qc(p.framebufferWidth,p.framebufferHeight,{format:_o,type:Nl,colorSpace:t.outputColorSpace,stencilBuffer:T.stencil,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(s),Mt.setContext(r),Mt.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};function j(dt){for(let xt=0;xt<dt.removed.length;xt++){const Lt=dt.removed[xt],Ct=C.indexOf(Lt);Ct>=0&&(C[Ct]=null,D[Ct].disconnect(Lt))}for(let xt=0;xt<dt.added.length;xt++){const Lt=dt.added[xt];let Ct=C.indexOf(Lt);if(Ct===-1){for(let Xt=0;Xt<D.length;Xt++)if(Xt>=C.length){C.push(Lt),Ct=Xt;break}else if(C[Xt]===null){C[Xt]=Lt,Ct=Xt;break}if(Ct===-1)break}const Wt=D[Ct];Wt&&Wt.connect(Lt)}}const Y=new it,Q=new it;function nt(dt,xt,Lt){Y.setFromMatrixPosition(xt.matrixWorld),Q.setFromMatrixPosition(Lt.matrixWorld);const Ct=Y.distanceTo(Q),Wt=xt.projectionMatrix.elements,Xt=Lt.projectionMatrix.elements,ae=Wt[14]/(Wt[10]-1),at=Wt[14]/(Wt[10]+1),wt=(Wt[9]+1)/Wt[5],It=(Wt[9]-1)/Wt[5],Nt=(Wt[8]-1)/Wt[0],Bt=(Xt[8]+1)/Xt[0],oe=ae*Nt,jt=ae*Bt,ie=Ct/(-Nt+Bt),Xe=ie*-Nt;if(xt.matrixWorld.decompose(dt.position,dt.quaternion,dt.scale),dt.translateX(Xe),dt.translateZ(ie),dt.matrixWorld.compose(dt.position,dt.quaternion,dt.scale),dt.matrixWorldInverse.copy(dt.matrixWorld).invert(),Wt[10]===-1)dt.projectionMatrix.copy(xt.projectionMatrix),dt.projectionMatrixInverse.copy(xt.projectionMatrixInverse);else{const nn=ae+ie,rt=at+ie,K=oe-Xe,bt=jt+(Ct-Xe),Ft=wt*at/rt*nn,ee=It*at/rt*nn;dt.projectionMatrix.makePerspective(K,bt,Ft,ee,nn,rt),dt.projectionMatrixInverse.copy(dt.projectionMatrix).invert()}}function q(dt,xt){xt===null?dt.matrixWorld.copy(dt.matrix):dt.matrixWorld.multiplyMatrices(xt.matrixWorld,dt.matrix),dt.matrixWorldInverse.copy(dt.matrixWorld).invert()}this.updateCamera=function(dt){if(r===null)return;let xt=dt.near,Lt=dt.far;_.texture!==null&&(_.depthNear>0&&(xt=_.depthNear),_.depthFar>0&&(Lt=_.depthFar)),F.near=O.near=N.near=xt,F.far=O.far=N.far=Lt,(V!==F.near||W!==F.far)&&(r.updateRenderState({depthNear:F.near,depthFar:F.far}),V=F.near,W=F.far),F.layers.mask=dt.layers.mask|6,N.layers.mask=F.layers.mask&3,O.layers.mask=F.layers.mask&5;const Ct=dt.parent,Wt=F.cameras;q(F,Ct);for(let Xt=0;Xt<Wt.length;Xt++)q(Wt[Xt],Ct);Wt.length===2?nt(F,N,O):F.projectionMatrix.copy(N.projectionMatrix),$(dt,F,Ct)};function $(dt,xt,Lt){Lt===null?dt.matrix.copy(xt.matrixWorld):(dt.matrix.copy(Lt.matrixWorld),dt.matrix.invert(),dt.matrix.multiply(xt.matrixWorld)),dt.matrix.decompose(dt.position,dt.quaternion,dt.scale),dt.updateMatrixWorld(!0),dt.projectionMatrix.copy(xt.projectionMatrix),dt.projectionMatrixInverse.copy(xt.projectionMatrixInverse),dt.isPerspectiveCamera&&(dt.fov=Y0*2*Math.atan(1/dt.projectionMatrix.elements[5]),dt.zoom=1)}this.getCamera=function(){return F},this.getFoveation=function(){if(!(h===null&&p===null))return l},this.setFoveation=function(dt){l=dt,h!==null&&(h.fixedFoveation=dt),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=dt)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(F)},this.getCameraTexture=function(dt){return S[dt]};let st=null;function ft(dt,xt){if(c=xt.getViewerPose(u||o),g=xt,c!==null){const Lt=c.views;p!==null&&(t.setRenderTargetFramebuffer(w,p.framebuffer),t.setRenderTarget(w));let Ct=!1;Lt.length!==F.cameras.length&&(F.cameras.length=0,Ct=!0);for(let at=0;at<Lt.length;at++){const wt=Lt[at];let It=null;if(p!==null)It=p.getViewport(wt);else{const Bt=f.getViewSubImage(h,wt);It=Bt.viewport,at===0&&(t.setRenderTargetTextures(w,Bt.colorTexture,Bt.depthStencilTexture),t.setRenderTarget(w))}let Nt=U[at];Nt===void 0&&(Nt=new Sr,Nt.layers.enable(at),Nt.viewport=new hi,U[at]=Nt),Nt.matrix.fromArray(wt.transform.matrix),Nt.matrix.decompose(Nt.position,Nt.quaternion,Nt.scale),Nt.projectionMatrix.fromArray(wt.projectionMatrix),Nt.projectionMatrixInverse.copy(Nt.projectionMatrix).invert(),Nt.viewport.set(It.x,It.y,It.width,It.height),at===0&&(F.matrix.copy(Nt.matrix),F.matrix.decompose(F.position,F.quaternion,F.scale)),Ct===!0&&F.cameras.push(Nt)}const Wt=r.enabledFeatures;if(Wt&&Wt.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&m){f=n.getBinding();const at=f.getDepthInformation(Lt[0]);at&&at.isValid&&at.texture&&_.init(at,r.renderState)}if(Wt&&Wt.includes("camera-access")&&m){t.state.unbindTexture(),f=n.getBinding();for(let at=0;at<Lt.length;at++){const wt=Lt[at].camera;if(wt){let It=S[wt];It||(It=new dz,S[wt]=It);const Nt=f.getCameraImage(wt);It.sourceTexture=Nt}}}}for(let Lt=0;Lt<D.length;Lt++){const Ct=C[Lt],Wt=D[Lt];Ct!==null&&Wt!==void 0&&Wt.update(Ct,xt,u||o)}st&&st(dt,xt),xt.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:xt}),g=null}const Mt=new QW;Mt.setAnimationLoop(ft),this.setAnimationLoop=function(dt){st=dt},this.dispose=function(){}}}const Av=new qs,out=new un;function sut(i,t){function e(_,S){_.matrixAutoUpdate===!0&&_.updateMatrix(),S.value.copy(_.matrix)}function n(_,S){S.color.getRGB(_.fogColor.value,nW(i)),S.isFog?(_.fogNear.value=S.near,_.fogFar.value=S.far):S.isFogExp2&&(_.fogDensity.value=S.density)}function r(_,S,T,M,w){S.isMeshBasicMaterial||S.isMeshLambertMaterial?a(_,S):S.isMeshToonMaterial?(a(_,S),f(_,S)):S.isMeshPhongMaterial?(a(_,S),c(_,S)):S.isMeshStandardMaterial?(a(_,S),h(_,S),S.isMeshPhysicalMaterial&&p(_,S,w)):S.isMeshMatcapMaterial?(a(_,S),g(_,S)):S.isMeshDepthMaterial?a(_,S):S.isMeshDistanceMaterial?(a(_,S),m(_,S)):S.isMeshNormalMaterial?a(_,S):S.isLineBasicMaterial?(o(_,S),S.isLineDashedMaterial&&s(_,S)):S.isPointsMaterial?l(_,S,T,M):S.isSpriteMaterial?u(_,S):S.isShadowMaterial?(_.color.value.copy(S.color),_.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function a(_,S){_.opacity.value=S.opacity,S.color&&_.diffuse.value.copy(S.color),S.emissive&&_.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(_.map.value=S.map,e(S.map,_.mapTransform)),S.alphaMap&&(_.alphaMap.value=S.alphaMap,e(S.alphaMap,_.alphaMapTransform)),S.bumpMap&&(_.bumpMap.value=S.bumpMap,e(S.bumpMap,_.bumpMapTransform),_.bumpScale.value=S.bumpScale,S.side===jo&&(_.bumpScale.value*=-1)),S.normalMap&&(_.normalMap.value=S.normalMap,e(S.normalMap,_.normalMapTransform),_.normalScale.value.copy(S.normalScale),S.side===jo&&_.normalScale.value.negate()),S.displacementMap&&(_.displacementMap.value=S.displacementMap,e(S.displacementMap,_.displacementMapTransform),_.displacementScale.value=S.displacementScale,_.displacementBias.value=S.displacementBias),S.emissiveMap&&(_.emissiveMap.value=S.emissiveMap,e(S.emissiveMap,_.emissiveMapTransform)),S.specularMap&&(_.specularMap.value=S.specularMap,e(S.specularMap,_.specularMapTransform)),S.alphaTest>0&&(_.alphaTest.value=S.alphaTest);const T=t.get(S),M=T.envMap,w=T.envMapRotation;M&&(_.envMap.value=M,Av.copy(w),Av.x*=-1,Av.y*=-1,Av.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(Av.y*=-1,Av.z*=-1),_.envMapRotation.value.setFromMatrix4(out.makeRotationFromEuler(Av)),_.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=S.reflectivity,_.ior.value=S.ior,_.refractionRatio.value=S.refractionRatio),S.lightMap&&(_.lightMap.value=S.lightMap,_.lightMapIntensity.value=S.lightMapIntensity,e(S.lightMap,_.lightMapTransform)),S.aoMap&&(_.aoMap.value=S.aoMap,_.aoMapIntensity.value=S.aoMapIntensity,e(S.aoMap,_.aoMapTransform))}function o(_,S){_.diffuse.value.copy(S.color),_.opacity.value=S.opacity,S.map&&(_.map.value=S.map,e(S.map,_.mapTransform))}function s(_,S){_.dashSize.value=S.dashSize,_.totalSize.value=S.dashSize+S.gapSize,_.scale.value=S.scale}function l(_,S,T,M){_.diffuse.value.copy(S.color),_.opacity.value=S.opacity,_.size.value=S.size*T,_.scale.value=M*.5,S.map&&(_.map.value=S.map,e(S.map,_.uvTransform)),S.alphaMap&&(_.alphaMap.value=S.alphaMap,e(S.alphaMap,_.alphaMapTransform)),S.alphaTest>0&&(_.alphaTest.value=S.alphaTest)}function u(_,S){_.diffuse.value.copy(S.color),_.opacity.value=S.opacity,_.rotation.value=S.rotation,S.map&&(_.map.value=S.map,e(S.map,_.mapTransform)),S.alphaMap&&(_.alphaMap.value=S.alphaMap,e(S.alphaMap,_.alphaMapTransform)),S.alphaTest>0&&(_.alphaTest.value=S.alphaTest)}function c(_,S){_.specular.value.copy(S.specular),_.shininess.value=Math.max(S.shininess,1e-4)}function f(_,S){S.gradientMap&&(_.gradientMap.value=S.gradientMap)}function h(_,S){_.metalness.value=S.metalness,S.metalnessMap&&(_.metalnessMap.value=S.metalnessMap,e(S.metalnessMap,_.metalnessMapTransform)),_.roughness.value=S.roughness,S.roughnessMap&&(_.roughnessMap.value=S.roughnessMap,e(S.roughnessMap,_.roughnessMapTransform)),S.envMap&&(_.envMapIntensity.value=S.envMapIntensity)}function p(_,S,T){_.ior.value=S.ior,S.sheen>0&&(_.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),_.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(_.sheenColorMap.value=S.sheenColorMap,e(S.sheenColorMap,_.sheenColorMapTransform)),S.sheenRoughnessMap&&(_.sheenRoughnessMap.value=S.sheenRoughnessMap,e(S.sheenRoughnessMap,_.sheenRoughnessMapTransform))),S.clearcoat>0&&(_.clearcoat.value=S.clearcoat,_.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(_.clearcoatMap.value=S.clearcoatMap,e(S.clearcoatMap,_.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,e(S.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(_.clearcoatNormalMap.value=S.clearcoatNormalMap,e(S.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===jo&&_.clearcoatNormalScale.value.negate())),S.dispersion>0&&(_.dispersion.value=S.dispersion),S.iridescence>0&&(_.iridescence.value=S.iridescence,_.iridescenceIOR.value=S.iridescenceIOR,_.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(_.iridescenceMap.value=S.iridescenceMap,e(S.iridescenceMap,_.iridescenceMapTransform)),S.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=S.iridescenceThicknessMap,e(S.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),S.transmission>0&&(_.transmission.value=S.transmission,_.transmissionSamplerMap.value=T.texture,_.transmissionSamplerSize.value.set(T.width,T.height),S.transmissionMap&&(_.transmissionMap.value=S.transmissionMap,e(S.transmissionMap,_.transmissionMapTransform)),_.thickness.value=S.thickness,S.thicknessMap&&(_.thicknessMap.value=S.thicknessMap,e(S.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=S.attenuationDistance,_.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(_.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(_.anisotropyMap.value=S.anisotropyMap,e(S.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=S.specularIntensity,_.specularColor.value.copy(S.specularColor),S.specularColorMap&&(_.specularColorMap.value=S.specularColorMap,e(S.specularColorMap,_.specularColorMapTransform)),S.specularIntensityMap&&(_.specularIntensityMap.value=S.specularIntensityMap,e(S.specularIntensityMap,_.specularIntensityMapTransform))}function g(_,S){S.matcap&&(_.matcap.value=S.matcap)}function m(_,S){const T=t.get(S).light;_.referencePosition.value.setFromMatrixPosition(T.matrixWorld),_.nearDistance.value=T.shadow.camera.near,_.farDistance.value=T.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function lut(i,t,e,n){let r={},a={},o=[];const s=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function l(T,M){const w=M.program;n.uniformBlockBinding(T,w)}function u(T,M){let w=r[T.id];w===void 0&&(g(T),w=c(T),r[T.id]=w,T.addEventListener("dispose",_));const D=M.program;n.updateUBOMapping(T,D);const C=t.render.frame;a[T.id]!==C&&(h(T),a[T.id]=C)}function c(T){const M=f();T.__bindingPointIndex=M;const w=i.createBuffer(),D=T.__size,C=T.usage;return i.bindBuffer(i.UNIFORM_BUFFER,w),i.bufferData(i.UNIFORM_BUFFER,D,C),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,M,w),w}function f(){for(let T=0;T<s;T++)if(o.indexOf(T)===-1)return o.push(T),T;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(T){const M=r[T.id],w=T.uniforms,D=T.__cache;i.bindBuffer(i.UNIFORM_BUFFER,M);for(let C=0,R=w.length;C<R;C++){const z=Array.isArray(w[C])?w[C]:[w[C]];for(let N=0,O=z.length;N<O;N++){const U=z[N];if(p(U,C,N,D)===!0){const F=U.__offset,V=Array.isArray(U.value)?U.value:[U.value];let W=0;for(let Z=0;Z<V.length;Z++){const H=V[Z],j=m(H);typeof H=="number"||typeof H=="boolean"?(U.__data[0]=H,i.bufferSubData(i.UNIFORM_BUFFER,F+W,U.__data)):H.isMatrix3?(U.__data[0]=H.elements[0],U.__data[1]=H.elements[1],U.__data[2]=H.elements[2],U.__data[3]=0,U.__data[4]=H.elements[3],U.__data[5]=H.elements[4],U.__data[6]=H.elements[5],U.__data[7]=0,U.__data[8]=H.elements[6],U.__data[9]=H.elements[7],U.__data[10]=H.elements[8],U.__data[11]=0):(H.toArray(U.__data,W),W+=j.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,F,U.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function p(T,M,w,D){const C=T.value,R=M+"_"+w;if(D[R]===void 0)return typeof C=="number"||typeof C=="boolean"?D[R]=C:D[R]=C.clone(),!0;{const z=D[R];if(typeof C=="number"||typeof C=="boolean"){if(z!==C)return D[R]=C,!0}else if(z.equals(C)===!1)return z.copy(C),!0}return!1}function g(T){const M=T.uniforms;let w=0;const D=16;for(let R=0,z=M.length;R<z;R++){const N=Array.isArray(M[R])?M[R]:[M[R]];for(let O=0,U=N.length;O<U;O++){const F=N[O],V=Array.isArray(F.value)?F.value:[F.value];for(let W=0,Z=V.length;W<Z;W++){const H=V[W],j=m(H),Y=w%D,Q=Y%j.boundary,nt=Y+Q;w+=Q,nt!==0&&D-nt<j.storage&&(w+=D-nt),F.__data=new Float32Array(j.storage/Float32Array.BYTES_PER_ELEMENT),F.__offset=w,w+=j.storage}}}const C=w%D;return C>0&&(w+=D-C),T.__size=w,T.__cache={},this}function m(T){const M={boundary:0,storage:0};return typeof T=="number"||typeof T=="boolean"?(M.boundary=4,M.storage=4):T.isVector2?(M.boundary=8,M.storage=8):T.isVector3||T.isColor?(M.boundary=16,M.storage=12):T.isVector4?(M.boundary=16,M.storage=16):T.isMatrix3?(M.boundary=48,M.storage=48):T.isMatrix4?(M.boundary=64,M.storage=64):T.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",T),M}function _(T){const M=T.target;M.removeEventListener("dispose",_);const w=o.indexOf(M.__bindingPointIndex);o.splice(w,1),i.deleteBuffer(r[M.id]),delete r[M.id],delete a[M.id]}function S(){for(const T in r)i.deleteBuffer(r[T]);o=[],r={},a={}}return{bind:l,update:u,dispose:S}}class iY{constructor(t={}){const{canvas:e=$X(),context:n=null,depth:r=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:h=!1}=t;this.isWebGLRenderer=!0;let p;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=n.getContextAttributes().alpha}else p=o;const g=new Uint32Array(4),m=new Int32Array(4);let _=null,S=null;const T=[],M=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=kc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const w=this;let D=!1;this._outputColorSpace=Ir;let C=0,R=0,z=null,N=-1,O=null;const U=new hi,F=new hi;let V=null;const W=new Me(0);let Z=0,H=e.width,j=e.height,Y=1,Q=null,nt=null;const q=new hi(0,0,H,j),$=new hi(0,0,H,j);let st=!1;const ft=new y_;let Mt=!1,dt=!1;const xt=new un,Lt=new it,Ct=new hi,Wt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Xt=!1;function ae(){return z===null?Y:1}let at=n;function wt(et,gt){return e.getContext(et,gt)}try{const et={alpha:!0,depth:r,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${S2}`),e.addEventListener("webglcontextlost",ce,!1),e.addEventListener("webglcontextrestored",Se,!1),e.addEventListener("webglcontextcreationerror",re,!1),at===null){const gt="webgl2";if(at=wt(gt,et),at===null)throw wt(gt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(et){throw console.error("THREE.WebGLRenderer: "+et.message),et}let It,Nt,Bt,oe,jt,ie,Xe,nn,rt,K,bt,Ft,ee,Gt,ke,pe,Pe,Be,ne,he,Ve,ot,At,de;function lt(){It=new Sst(at),It.init(),ot=new nY(at,It),Nt=new dst(at,It,t,ot),Bt=new tut(at,It),Nt.reversedDepthBuffer&&h&&Bt.buffers.depth.setReversed(!0),oe=new Tst(at),jt=new klt,ie=new eut(at,It,Bt,jt,Nt,ot,oe),Xe=new vst(w),nn=new _st(w),rt=new Drt(at),At=new fst(at,rt),K=new xst(at,rt,oe,At),bt=new Ast(at,K,rt,oe),ne=new Mst(at,Nt,ie),pe=new pst(jt),Ft=new Hlt(w,Xe,nn,It,Nt,At,pe),ee=new sut(w,jt),Gt=new Glt,ke=new jlt(It),Be=new cst(w,Xe,nn,Bt,bt,p,l),Pe=new Jlt(w,bt,Nt),de=new lut(at,oe,Nt,Bt),he=new hst(at,It,oe),Ve=new bst(at,It,oe),oe.programs=Ft.programs,w.capabilities=Nt,w.extensions=It,w.properties=jt,w.renderLists=Gt,w.shadowMap=Pe,w.state=Bt,w.info=oe}lt();const Jt=new aut(w,at);this.xr=Jt,this.getContext=function(){return at},this.getContextAttributes=function(){return at.getContextAttributes()},this.forceContextLoss=function(){const et=It.get("WEBGL_lose_context");et&&et.loseContext()},this.forceContextRestore=function(){const et=It.get("WEBGL_lose_context");et&&et.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(et){et!==void 0&&(Y=et,this.setSize(H,j,!1))},this.getSize=function(et){return et.set(H,j)},this.setSize=function(et,gt,Tt=!0){if(Jt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=et,j=gt,e.width=Math.floor(et*Y),e.height=Math.floor(gt*Y),Tt===!0&&(e.style.width=et+"px",e.style.height=gt+"px"),this.setViewport(0,0,et,gt)},this.getDrawingBufferSize=function(et){return et.set(H*Y,j*Y).floor()},this.setDrawingBufferSize=function(et,gt,Tt){H=et,j=gt,Y=Tt,e.width=Math.floor(et*Tt),e.height=Math.floor(gt*Tt),this.setViewport(0,0,et,gt)},this.getCurrentViewport=function(et){return et.copy(U)},this.getViewport=function(et){return et.copy(q)},this.setViewport=function(et,gt,Tt,zt){et.isVector4?q.set(et.x,et.y,et.z,et.w):q.set(et,gt,Tt,zt),Bt.viewport(U.copy(q).multiplyScalar(Y).round())},this.getScissor=function(et){return et.copy($)},this.setScissor=function(et,gt,Tt,zt){et.isVector4?$.set(et.x,et.y,et.z,et.w):$.set(et,gt,Tt,zt),Bt.scissor(F.copy($).multiplyScalar(Y).round())},this.getScissorTest=function(){return st},this.setScissorTest=function(et){Bt.setScissorTest(st=et)},this.setOpaqueSort=function(et){Q=et},this.setTransparentSort=function(et){nt=et},this.getClearColor=function(et){return et.copy(Be.getClearColor())},this.setClearColor=function(){Be.setClearColor(...arguments)},this.getClearAlpha=function(){return Be.getClearAlpha()},this.setClearAlpha=function(){Be.setClearAlpha(...arguments)},this.clear=function(et=!0,gt=!0,Tt=!0){let zt=0;if(et){let mt=!1;if(z!==null){const te=z.texture.format;mt=te===D2||te===C2||te===kb}if(mt){const te=z.texture.type,me=te===Nl||te===gh||te===V0||te===H0||te===A2||te===w2,ze=Be.getClearColor(),be=Be.getClearAlpha(),Ze=ze.r,sn=ze.g,Ke=ze.b;me?(g[0]=Ze,g[1]=sn,g[2]=Ke,g[3]=be,at.clearBufferuiv(at.COLOR,0,g)):(m[0]=Ze,m[1]=sn,m[2]=Ke,m[3]=be,at.clearBufferiv(at.COLOR,0,m))}else zt|=at.COLOR_BUFFER_BIT}gt&&(zt|=at.DEPTH_BUFFER_BIT),Tt&&(zt|=at.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),at.clear(zt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ce,!1),e.removeEventListener("webglcontextrestored",Se,!1),e.removeEventListener("webglcontextcreationerror",re,!1),Be.dispose(),Gt.dispose(),ke.dispose(),jt.dispose(),Xe.dispose(),nn.dispose(),bt.dispose(),At.dispose(),de.dispose(),Ft.dispose(),Jt.dispose(),Jt.removeEventListener("sessionstart",Br),Jt.removeEventListener("sessionend",Dh),ts.stop()};function ce(et){et.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function Se(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const et=oe.autoReset,gt=Pe.enabled,Tt=Pe.autoUpdate,zt=Pe.needsUpdate,mt=Pe.type;lt(),oe.autoReset=et,Pe.enabled=gt,Pe.autoUpdate=Tt,Pe.needsUpdate=zt,Pe.type=mt}function re(et){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",et.statusMessage)}function Kt(et){const gt=et.target;gt.removeEventListener("dispose",Kt),xe(gt)}function xe(et){qe(et),jt.remove(et)}function qe(et){const gt=jt.get(et).programs;gt!==void 0&&(gt.forEach(function(Tt){Ft.releaseProgram(Tt)}),et.isShaderMaterial&&Ft.releaseShaderCache(et))}this.renderBufferDirect=function(et,gt,Tt,zt,mt,te){gt===null&&(gt=Wt);const me=mt.isMesh&&mt.matrixWorld.determinant()<0,ze=Ks(et,gt,Tt,zt,mt);Bt.setMaterial(zt,me);let be=Tt.index,Ze=1;if(zt.wireframe===!0){if(be=K.getWireframeAttribute(Tt),be===void 0)return;Ze=2}const sn=Tt.drawRange,Ke=Tt.attributes.position;let Nn=sn.start*Ze,ui=(sn.start+sn.count)*Ze;te!==null&&(Nn=Math.max(Nn,te.start*Ze),ui=Math.min(ui,(te.start+te.count)*Ze)),be!==null?(Nn=Math.max(Nn,0),ui=Math.min(ui,be.count)):Ke!=null&&(Nn=Math.max(Nn,0),ui=Math.min(ui,Ke.count));const Mi=ui-Nn;if(Mi<0||Mi===1/0)return;At.setup(mt,zt,ze,Tt,be);let ci,Bn=he;if(be!==null&&(ci=rt.get(be),Bn=Ve,Bn.setIndex(ci)),mt.isMesh)zt.wireframe===!0?(Bt.setLineWidth(zt.wireframeLinewidth*ae()),Bn.setMode(at.LINES)):Bn.setMode(at.TRIANGLES);else if(mt.isLine){let He=zt.linewidth;He===void 0&&(He=1),Bt.setLineWidth(He*ae()),mt.isLineSegments?Bn.setMode(at.LINES):mt.isLineLoop?Bn.setMode(at.LINE_LOOP):Bn.setMode(at.LINE_STRIP)}else mt.isPoints?Bn.setMode(at.POINTS):mt.isSprite&&Bn.setMode(at.TRIANGLES);if(mt.isBatchedMesh)if(mt._multiDrawInstances!==null)nb("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Bn.renderMultiDrawInstances(mt._multiDrawStarts,mt._multiDrawCounts,mt._multiDrawCount,mt._multiDrawInstances);else if(It.get("WEBGL_multi_draw"))Bn.renderMultiDraw(mt._multiDrawStarts,mt._multiDrawCounts,mt._multiDrawCount);else{const He=mt._multiDrawStarts,Ii=mt._multiDrawCounts,Zn=mt._multiDrawCount,Ur=be?rt.get(be).bytesPerElement:1,Qs=jt.get(zt).currentProgram.getUniforms();for(let hr=0;hr<Zn;hr++)Qs.setValue(at,"_gl_DrawID",hr),Bn.render(He[hr]/Ur,Ii[hr])}else if(mt.isInstancedMesh)Bn.renderInstances(Nn,Mi,mt.count);else if(Tt.isInstancedBufferGeometry){const He=Tt._maxInstanceCount!==void 0?Tt._maxInstanceCount:1/0,Ii=Math.min(Tt.instanceCount,He);Bn.renderInstances(Nn,Mi,Ii)}else Bn.render(Nn,Mi)};function zn(et,gt,Tt){et.transparent===!0&&et.side===bu&&et.forceSinglePass===!1?(et.side=jo,et.needsUpdate=!0,pa(et,gt,Tt),et.side=Yc,et.needsUpdate=!0,pa(et,gt,Tt),et.side=bu):pa(et,gt,Tt)}this.compile=function(et,gt,Tt=null){Tt===null&&(Tt=et),S=ke.get(Tt),S.init(gt),M.push(S),Tt.traverseVisible(function(mt){mt.isLight&&mt.layers.test(gt.layers)&&(S.pushLight(mt),mt.castShadow&&S.pushShadow(mt))}),et!==Tt&&et.traverseVisible(function(mt){mt.isLight&&mt.layers.test(gt.layers)&&(S.pushLight(mt),mt.castShadow&&S.pushShadow(mt))}),S.setupLights();const zt=new Set;return et.traverse(function(mt){if(!(mt.isMesh||mt.isPoints||mt.isLine||mt.isSprite))return;const te=mt.material;if(te)if(Array.isArray(te))for(let me=0;me<te.length;me++){const ze=te[me];zn(ze,Tt,mt),zt.add(ze)}else zn(te,Tt,mt),zt.add(te)}),S=M.pop(),zt},this.compileAsync=function(et,gt,Tt=null){const zt=this.compile(et,gt,Tt);return new Promise(mt=>{function te(){if(zt.forEach(function(me){jt.get(me).currentProgram.isReady()&&zt.delete(me)}),zt.size===0){mt(et);return}setTimeout(te,10)}It.get("KHR_parallel_shader_compile")!==null?te():setTimeout(te,10)})};let Mn=null;function Yi(et){Mn&&Mn(et)}function Br(){ts.stop()}function Dh(){ts.start()}const ts=new QW;ts.setAnimationLoop(Yi),typeof self<"u"&&ts.setContext(self),this.setAnimationLoop=function(et){Mn=et,Jt.setAnimationLoop(et),et===null?ts.stop():ts.start()},Jt.addEventListener("sessionstart",Br),Jt.addEventListener("sessionend",Dh),this.render=function(et,gt){if(gt!==void 0&&gt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;if(et.matrixWorldAutoUpdate===!0&&et.updateMatrixWorld(),gt.parent===null&&gt.matrixWorldAutoUpdate===!0&&gt.updateMatrixWorld(),Jt.enabled===!0&&Jt.isPresenting===!0&&(Jt.cameraAutoUpdate===!0&&Jt.updateCamera(gt),gt=Jt.getCamera()),et.isScene===!0&&et.onBeforeRender(w,et,gt,z),S=ke.get(et,M.length),S.init(gt),M.push(S),xt.multiplyMatrices(gt.projectionMatrix,gt.matrixWorldInverse),ft.setFromProjectionMatrix(xt,Vs,gt.reversedDepth),dt=this.localClippingEnabled,Mt=pe.init(this.clippingPlanes,dt),_=Gt.get(et,T.length),_.init(),T.push(_),Jt.enabled===!0&&Jt.isPresenting===!0){const te=w.xr.getDepthSensingMesh();te!==null&&Vu(te,gt,-1/0,w.sortObjects)}Vu(et,gt,0,w.sortObjects),_.finish(),w.sortObjects===!0&&_.sort(Q,nt),Xt=Jt.enabled===!1||Jt.isPresenting===!1||Jt.hasDepthSensing()===!1,Xt&&Be.addToRenderList(_,et),this.info.render.frame++,Mt===!0&&pe.beginShadows();const Tt=S.state.shadowsArray;Pe.render(Tt,et,gt),Mt===!0&&pe.endShadows(),this.info.autoReset===!0&&this.info.reset();const zt=_.opaque,mt=_.transmissive;if(S.setupLights(),gt.isArrayCamera){const te=gt.cameras;if(mt.length>0)for(let me=0,ze=te.length;me<ze;me++){const be=te[me];af(zt,mt,et,be)}Xt&&Be.render(et);for(let me=0,ze=te.length;me<ze;me++){const be=te[me];To(_,et,be,be.viewport)}}else mt.length>0&&af(zt,mt,et,gt),Xt&&Be.render(et),To(_,et,gt);z!==null&&R===0&&(ie.updateMultisampleRenderTarget(z),ie.updateRenderTargetMipmap(z)),et.isScene===!0&&et.onAfterRender(w,et,gt),At.resetDefaultState(),N=-1,O=null,M.pop(),M.length>0?(S=M[M.length-1],Mt===!0&&pe.setGlobalState(w.clippingPlanes,S.state.camera)):S=null,T.pop(),T.length>0?_=T[T.length-1]:_=null};function Vu(et,gt,Tt,zt){if(et.visible===!1)return;if(et.layers.test(gt.layers)){if(et.isGroup)Tt=et.renderOrder;else if(et.isLOD)et.autoUpdate===!0&&et.update(gt);else if(et.isLight)S.pushLight(et),et.castShadow&&S.pushShadow(et);else if(et.isSprite){if(!et.frustumCulled||ft.intersectsSprite(et)){zt&&Ct.setFromMatrixPosition(et.matrixWorld).applyMatrix4(xt);const me=bt.update(et),ze=et.material;ze.visible&&_.push(et,me,ze,Tt,Ct.z,null)}}else if((et.isMesh||et.isLine||et.isPoints)&&(!et.frustumCulled||ft.intersectsObject(et))){const me=bt.update(et),ze=et.material;if(zt&&(et.boundingSphere!==void 0?(et.boundingSphere===null&&et.computeBoundingSphere(),Ct.copy(et.boundingSphere.center)):(me.boundingSphere===null&&me.computeBoundingSphere(),Ct.copy(me.boundingSphere.center)),Ct.applyMatrix4(et.matrixWorld).applyMatrix4(xt)),Array.isArray(ze)){const be=me.groups;for(let Ze=0,sn=be.length;Ze<sn;Ze++){const Ke=be[Ze],Nn=ze[Ke.materialIndex];Nn&&Nn.visible&&_.push(et,me,Nn,Tt,Ct.z,Ke)}}else ze.visible&&_.push(et,me,ze,Tt,Ct.z,null)}}const te=et.children;for(let me=0,ze=te.length;me<ze;me++)Vu(te[me],gt,Tt,zt)}function To(et,gt,Tt,zt){const mt=et.opaque,te=et.transmissive,me=et.transparent;S.setupLightsView(Tt),Mt===!0&&pe.setGlobalState(w.clippingPlanes,Tt),zt&&Bt.viewport(U.copy(zt)),mt.length>0&&Ja(mt,gt,Tt),te.length>0&&Ja(te,gt,Tt),me.length>0&&Ja(me,gt,Tt),Bt.buffers.depth.setTest(!0),Bt.buffers.depth.setMask(!0),Bt.buffers.color.setMask(!0),Bt.setPolygonOffset(!1)}function af(et,gt,Tt,zt){if((Tt.isScene===!0?Tt.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[zt.id]===void 0&&(S.state.transmissionRenderTarget[zt.id]=new qc(1,1,{generateMipmaps:!0,type:It.has("EXT_color_buffer_half_float")||It.has("EXT_color_buffer_float")?m_:Nl,minFilter:Rl,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Qn.workingColorSpace}));const te=S.state.transmissionRenderTarget[zt.id],me=zt.viewport||U;te.setSize(me.z*w.transmissionResolutionScale,me.w*w.transmissionResolutionScale);const ze=w.getRenderTarget(),be=w.getActiveCubeFace(),Ze=w.getActiveMipmapLevel();w.setRenderTarget(te),w.getClearColor(W),Z=w.getClearAlpha(),Z<1&&w.setClearColor(16777215,.5),w.clear(),Xt&&Be.render(Tt);const sn=w.toneMapping;w.toneMapping=kc;const Ke=zt.viewport;if(zt.viewport!==void 0&&(zt.viewport=void 0),S.setupLightsView(zt),Mt===!0&&pe.setGlobalState(w.clippingPlanes,zt),Ja(et,Tt,zt),ie.updateMultisampleRenderTarget(te),ie.updateRenderTargetMipmap(te),It.has("WEBGL_multisampled_render_to_texture")===!1){let Nn=!1;for(let ui=0,Mi=gt.length;ui<Mi;ui++){const ci=gt[ui],Bn=ci.object,He=ci.geometry,Ii=ci.material,Zn=ci.group;if(Ii.side===bu&&Bn.layers.test(zt.layers)){const Ur=Ii.side;Ii.side=jo,Ii.needsUpdate=!0,Mo(Bn,Tt,zt,He,Ii,Zn),Ii.side=Ur,Ii.needsUpdate=!0,Nn=!0}}Nn===!0&&(ie.updateMultisampleRenderTarget(te),ie.updateRenderTargetMipmap(te))}w.setRenderTarget(ze,be,Ze),w.setClearColor(W,Z),Ke!==void 0&&(zt.viewport=Ke),w.toneMapping=sn}function Ja(et,gt,Tt){const zt=gt.isScene===!0?gt.overrideMaterial:null;for(let mt=0,te=et.length;mt<te;mt++){const me=et[mt],ze=me.object,be=me.geometry,Ze=me.group;let sn=me.material;sn.allowOverride===!0&&zt!==null&&(sn=zt),ze.layers.test(Tt.layers)&&Mo(ze,gt,Tt,be,sn,Ze)}}function Mo(et,gt,Tt,zt,mt,te){et.onBeforeRender(w,gt,Tt,zt,mt,te),et.modelViewMatrix.multiplyMatrices(Tt.matrixWorldInverse,et.matrixWorld),et.normalMatrix.getNormalMatrix(et.modelViewMatrix),mt.onBeforeRender(w,gt,Tt,zt,et,te),mt.transparent===!0&&mt.side===bu&&mt.forceSinglePass===!1?(mt.side=jo,mt.needsUpdate=!0,w.renderBufferDirect(Tt,gt,zt,mt,et,te),mt.side=Yc,mt.needsUpdate=!0,w.renderBufferDirect(Tt,gt,zt,mt,et,te),mt.side=bu):w.renderBufferDirect(Tt,gt,zt,mt,et,te),et.onAfterRender(w,gt,Tt,zt,mt,te)}function pa(et,gt,Tt){gt.isScene!==!0&&(gt=Wt);const zt=jt.get(et),mt=S.state.lights,te=S.state.shadowsArray,me=mt.state.version,ze=Ft.getParameters(et,mt.state,te,gt,Tt),be=Ft.getProgramCacheKey(ze);let Ze=zt.programs;zt.environment=et.isMeshStandardMaterial?gt.environment:null,zt.fog=gt.fog,zt.envMap=(et.isMeshStandardMaterial?nn:Xe).get(et.envMap||zt.environment),zt.envMapRotation=zt.environment!==null&&et.envMap===null?gt.environmentRotation:et.envMapRotation,Ze===void 0&&(et.addEventListener("dispose",Kt),Ze=new Map,zt.programs=Ze);let sn=Ze.get(be);if(sn!==void 0){if(zt.currentProgram===sn&&zt.lightsStateVersion===me)return wr(et,ze),sn}else ze.uniforms=Ft.getUniforms(et),et.onBeforeCompile(ze,w),sn=Ft.acquireProgram(ze,be),Ze.set(be,sn),zt.uniforms=ze.uniforms;const Ke=zt.uniforms;return(!et.isShaderMaterial&&!et.isRawShaderMaterial||et.clipping===!0)&&(Ke.clippingPlanes=pe.uniform),wr(et,ze),zt.needsLights=hm(et),zt.lightsStateVersion=me,zt.needsLights&&(Ke.ambientLightColor.value=mt.state.ambient,Ke.lightProbe.value=mt.state.probe,Ke.directionalLights.value=mt.state.directional,Ke.directionalLightShadows.value=mt.state.directionalShadow,Ke.spotLights.value=mt.state.spot,Ke.spotLightShadows.value=mt.state.spotShadow,Ke.rectAreaLights.value=mt.state.rectArea,Ke.ltc_1.value=mt.state.rectAreaLTC1,Ke.ltc_2.value=mt.state.rectAreaLTC2,Ke.pointLights.value=mt.state.point,Ke.pointLightShadows.value=mt.state.pointShadow,Ke.hemisphereLights.value=mt.state.hemi,Ke.directionalShadowMap.value=mt.state.directionalShadowMap,Ke.directionalShadowMatrix.value=mt.state.directionalShadowMatrix,Ke.spotShadowMap.value=mt.state.spotShadowMap,Ke.spotLightMatrix.value=mt.state.spotLightMatrix,Ke.spotLightMap.value=mt.state.spotLightMap,Ke.pointShadowMap.value=mt.state.pointShadowMap,Ke.pointShadowMatrix.value=mt.state.pointShadowMatrix),zt.currentProgram=sn,zt.uniformsList=null,sn}function In(et){if(et.uniformsList===null){const gt=et.currentProgram.getUniforms();et.uniformsList=Zw.seqWithValue(gt.seq,et.uniforms)}return et.uniformsList}function wr(et,gt){const Tt=jt.get(et);Tt.outputColorSpace=gt.outputColorSpace,Tt.batching=gt.batching,Tt.batchingColor=gt.batchingColor,Tt.instancing=gt.instancing,Tt.instancingColor=gt.instancingColor,Tt.instancingMorph=gt.instancingMorph,Tt.skinning=gt.skinning,Tt.morphTargets=gt.morphTargets,Tt.morphNormals=gt.morphNormals,Tt.morphColors=gt.morphColors,Tt.morphTargetsCount=gt.morphTargetsCount,Tt.numClippingPlanes=gt.numClippingPlanes,Tt.numIntersection=gt.numClipIntersection,Tt.vertexAlphas=gt.vertexAlphas,Tt.vertexTangents=gt.vertexTangents,Tt.toneMapping=gt.toneMapping}function Ks(et,gt,Tt,zt,mt){gt.isScene!==!0&&(gt=Wt),ie.resetTextureUnits();const te=gt.fog,me=zt.isMeshStandardMaterial?gt.environment:null,ze=z===null?w.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:qa,be=(zt.isMeshStandardMaterial?nn:Xe).get(zt.envMap||me),Ze=zt.vertexColors===!0&&!!Tt.attributes.color&&Tt.attributes.color.itemSize===4,sn=!!Tt.attributes.tangent&&(!!zt.normalMap||zt.anisotropy>0),Ke=!!Tt.morphAttributes.position,Nn=!!Tt.morphAttributes.normal,ui=!!Tt.morphAttributes.color;let Mi=kc;zt.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(Mi=w.toneMapping);const ci=Tt.morphAttributes.position||Tt.morphAttributes.normal||Tt.morphAttributes.color,Bn=ci!==void 0?ci.length:0,He=jt.get(zt),Ii=S.state.lights;if(Mt===!0&&(dt===!0||et!==O)){const dr=et===O&&zt.id===N;pe.setState(zt,et,dr)}let Zn=!1;zt.version===He.__version?(He.needsLights&&He.lightsStateVersion!==Ii.state.version||He.outputColorSpace!==ze||mt.isBatchedMesh&&He.batching===!1||!mt.isBatchedMesh&&He.batching===!0||mt.isBatchedMesh&&He.batchingColor===!0&&mt.colorTexture===null||mt.isBatchedMesh&&He.batchingColor===!1&&mt.colorTexture!==null||mt.isInstancedMesh&&He.instancing===!1||!mt.isInstancedMesh&&He.instancing===!0||mt.isSkinnedMesh&&He.skinning===!1||!mt.isSkinnedMesh&&He.skinning===!0||mt.isInstancedMesh&&He.instancingColor===!0&&mt.instanceColor===null||mt.isInstancedMesh&&He.instancingColor===!1&&mt.instanceColor!==null||mt.isInstancedMesh&&He.instancingMorph===!0&&mt.morphTexture===null||mt.isInstancedMesh&&He.instancingMorph===!1&&mt.morphTexture!==null||He.envMap!==be||zt.fog===!0&&He.fog!==te||He.numClippingPlanes!==void 0&&(He.numClippingPlanes!==pe.numPlanes||He.numIntersection!==pe.numIntersection)||He.vertexAlphas!==Ze||He.vertexTangents!==sn||He.morphTargets!==Ke||He.morphNormals!==Nn||He.morphColors!==ui||He.toneMapping!==Mi||He.morphTargetsCount!==Bn)&&(Zn=!0):(Zn=!0,He.__version=zt.version);let Ur=He.currentProgram;Zn===!0&&(Ur=pa(zt,gt,mt));let Qs=!1,hr=!1,Hu=!1;const Fn=Ur.getUniforms(),Kr=He.uniforms;if(Bt.useProgram(Ur.program)&&(Qs=!0,hr=!0,Hu=!0),zt.id!==N&&(N=zt.id,hr=!0),Qs||O!==et){Bt.buffers.depth.getReversed()&&et.reversedDepth!==!0&&(et._reversedDepth=!0,et.updateProjectionMatrix()),Fn.setValue(at,"projectionMatrix",et.projectionMatrix),Fn.setValue(at,"viewMatrix",et.matrixWorldInverse);const er=Fn.map.cameraPosition;er!==void 0&&er.setValue(at,Lt.setFromMatrixPosition(et.matrixWorld)),Nt.logarithmicDepthBuffer&&Fn.setValue(at,"logDepthBufFC",2/(Math.log(et.far+1)/Math.LN2)),(zt.isMeshPhongMaterial||zt.isMeshToonMaterial||zt.isMeshLambertMaterial||zt.isMeshBasicMaterial||zt.isMeshStandardMaterial||zt.isShaderMaterial)&&Fn.setValue(at,"isOrthographic",et.isOrthographicCamera===!0),O!==et&&(O=et,hr=!0,Hu=!0)}if(mt.isSkinnedMesh){Fn.setOptional(at,mt,"bindMatrix"),Fn.setOptional(at,mt,"bindMatrixInverse");const dr=mt.skeleton;dr&&(dr.boneTexture===null&&dr.computeBoneTexture(),Fn.setValue(at,"boneTexture",dr.boneTexture,ie))}mt.isBatchedMesh&&(Fn.setOptional(at,mt,"batchingTexture"),Fn.setValue(at,"batchingTexture",mt._matricesTexture,ie),Fn.setOptional(at,mt,"batchingIdTexture"),Fn.setValue(at,"batchingIdTexture",mt._indirectTexture,ie),Fn.setOptional(at,mt,"batchingColorTexture"),mt._colorsTexture!==null&&Fn.setValue(at,"batchingColorTexture",mt._colorsTexture,ie));const va=Tt.morphAttributes;if((va.position!==void 0||va.normal!==void 0||va.color!==void 0)&&ne.update(mt,Tt,Ur),(hr||He.receiveShadow!==mt.receiveShadow)&&(He.receiveShadow=mt.receiveShadow,Fn.setValue(at,"receiveShadow",mt.receiveShadow)),zt.isMeshGouraudMaterial&&zt.envMap!==null&&(Kr.envMap.value=be,Kr.flipEnvMap.value=be.isCubeTexture&&be.isRenderTargetTexture===!1?-1:1),zt.isMeshStandardMaterial&&zt.envMap===null&&gt.environment!==null&&(Kr.envMapIntensity.value=gt.environmentIntensity),hr&&(Fn.setValue(at,"toneMappingExposure",w.toneMappingExposure),He.needsLights&&Rh(Kr,Hu),te&&zt.fog===!0&&ee.refreshFogUniforms(Kr,te),ee.refreshMaterialUniforms(Kr,zt,Y,j,S.state.transmissionRenderTarget[et.id]),Zw.upload(at,In(He),Kr,ie)),zt.isShaderMaterial&&zt.uniformsNeedUpdate===!0&&(Zw.upload(at,In(He),Kr,ie),zt.uniformsNeedUpdate=!1),zt.isSpriteMaterial&&Fn.setValue(at,"center",mt.center),Fn.setValue(at,"modelViewMatrix",mt.modelViewMatrix),Fn.setValue(at,"normalMatrix",mt.normalMatrix),Fn.setValue(at,"modelMatrix",mt.matrixWorld),zt.isShaderMaterial||zt.isRawShaderMaterial){const dr=zt.uniformsGroups;for(let er=0,of=dr.length;er<of;er++){const Oa=dr[er];de.update(Oa,Ur),de.bind(Oa,Ur)}}return Ur}function Rh(et,gt){et.ambientLightColor.needsUpdate=gt,et.lightProbe.needsUpdate=gt,et.directionalLights.needsUpdate=gt,et.directionalLightShadows.needsUpdate=gt,et.pointLights.needsUpdate=gt,et.pointLightShadows.needsUpdate=gt,et.spotLights.needsUpdate=gt,et.spotLightShadows.needsUpdate=gt,et.rectAreaLights.needsUpdate=gt,et.hemisphereLights.needsUpdate=gt}function hm(et){return et.isMeshLambertMaterial||et.isMeshToonMaterial||et.isMeshPhongMaterial||et.isMeshStandardMaterial||et.isShadowMaterial||et.isShaderMaterial&&et.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return R},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(et,gt,Tt){const zt=jt.get(et);zt.__autoAllocateDepthBuffer=et.resolveDepthBuffer===!1,zt.__autoAllocateDepthBuffer===!1&&(zt.__useRenderToTexture=!1),jt.get(et.texture).__webglTexture=gt,jt.get(et.depthTexture).__webglTexture=zt.__autoAllocateDepthBuffer?void 0:Tt,zt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(et,gt){const Tt=jt.get(et);Tt.__webglFramebuffer=gt,Tt.__useDefaultFramebuffer=gt===void 0};const X_=at.createFramebuffer();this.setRenderTarget=function(et,gt=0,Tt=0){z=et,C=gt,R=Tt;let zt=!0,mt=null,te=!1,me=!1;if(et){const be=jt.get(et);if(be.__useDefaultFramebuffer!==void 0)Bt.bindFramebuffer(at.FRAMEBUFFER,null),zt=!1;else if(be.__webglFramebuffer===void 0)ie.setupRenderTarget(et);else if(be.__hasExternalTextures)ie.rebindTextures(et,jt.get(et.texture).__webglTexture,jt.get(et.depthTexture).__webglTexture);else if(et.depthBuffer){const Ke=et.depthTexture;if(be.__boundDepthTexture!==Ke){if(Ke!==null&&jt.has(Ke)&&(et.width!==Ke.image.width||et.height!==Ke.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ie.setupDepthRenderbuffer(et)}}const Ze=et.texture;(Ze.isData3DTexture||Ze.isDataArrayTexture||Ze.isCompressedArrayTexture)&&(me=!0);const sn=jt.get(et).__webglFramebuffer;et.isWebGLCubeRenderTarget?(Array.isArray(sn[gt])?mt=sn[gt][Tt]:mt=sn[gt],te=!0):et.samples>0&&ie.useMultisampledRTT(et)===!1?mt=jt.get(et).__webglMultisampledFramebuffer:Array.isArray(sn)?mt=sn[Tt]:mt=sn,U.copy(et.viewport),F.copy(et.scissor),V=et.scissorTest}else U.copy(q).multiplyScalar(Y).floor(),F.copy($).multiplyScalar(Y).floor(),V=st;if(Tt!==0&&(mt=X_),Bt.bindFramebuffer(at.FRAMEBUFFER,mt)&&zt&&Bt.drawBuffers(et,mt),Bt.viewport(U),Bt.scissor(F),Bt.setScissorTest(V),te){const be=jt.get(et.texture);at.framebufferTexture2D(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_CUBE_MAP_POSITIVE_X+gt,be.__webglTexture,Tt)}else if(me){const be=gt;for(let Ze=0;Ze<et.textures.length;Ze++){const sn=jt.get(et.textures[Ze]);at.framebufferTextureLayer(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0+Ze,sn.__webglTexture,Tt,be)}}else if(et!==null&&Tt!==0){const be=jt.get(et.texture);at.framebufferTexture2D(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,be.__webglTexture,Tt)}N=-1},this.readRenderTargetPixels=function(et,gt,Tt,zt,mt,te,me,ze=0){if(!(et&&et.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let be=jt.get(et).__webglFramebuffer;if(et.isWebGLCubeRenderTarget&&me!==void 0&&(be=be[me]),be){Bt.bindFramebuffer(at.FRAMEBUFFER,be);try{const Ze=et.textures[ze],sn=Ze.format,Ke=Ze.type;if(!Nt.textureFormatReadable(sn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Nt.textureTypeReadable(Ke)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}gt>=0&&gt<=et.width-zt&&Tt>=0&&Tt<=et.height-mt&&(et.textures.length>1&&at.readBuffer(at.COLOR_ATTACHMENT0+ze),at.readPixels(gt,Tt,zt,mt,ot.convert(sn),ot.convert(Ke),te))}finally{const Ze=z!==null?jt.get(z).__webglFramebuffer:null;Bt.bindFramebuffer(at.FRAMEBUFFER,Ze)}}},this.readRenderTargetPixelsAsync=async function(et,gt,Tt,zt,mt,te,me,ze=0){if(!(et&&et.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let be=jt.get(et).__webglFramebuffer;if(et.isWebGLCubeRenderTarget&&me!==void 0&&(be=be[me]),be)if(gt>=0&&gt<=et.width-zt&&Tt>=0&&Tt<=et.height-mt){Bt.bindFramebuffer(at.FRAMEBUFFER,be);const Ze=et.textures[ze],sn=Ze.format,Ke=Ze.type;if(!Nt.textureFormatReadable(sn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Nt.textureTypeReadable(Ke))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Nn=at.createBuffer();at.bindBuffer(at.PIXEL_PACK_BUFFER,Nn),at.bufferData(at.PIXEL_PACK_BUFFER,te.byteLength,at.STREAM_READ),et.textures.length>1&&at.readBuffer(at.COLOR_ATTACHMENT0+ze),at.readPixels(gt,Tt,zt,mt,ot.convert(sn),ot.convert(Ke),0);const ui=z!==null?jt.get(z).__webglFramebuffer:null;Bt.bindFramebuffer(at.FRAMEBUFFER,ui);const Mi=at.fenceSync(at.SYNC_GPU_COMMANDS_COMPLETE,0);return at.flush(),await jet(at,Mi,4),at.bindBuffer(at.PIXEL_PACK_BUFFER,Nn),at.getBufferSubData(at.PIXEL_PACK_BUFFER,0,te),at.deleteBuffer(Nn),at.deleteSync(Mi),te}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(et,gt=null,Tt=0){const zt=Math.pow(2,-Tt),mt=Math.floor(et.image.width*zt),te=Math.floor(et.image.height*zt),me=gt!==null?gt.x:0,ze=gt!==null?gt.y:0;ie.setTexture2D(et,0),at.copyTexSubImage2D(at.TEXTURE_2D,Tt,0,0,me,ze,mt,te),Bt.unbindTexture()};const Lh=at.createFramebuffer(),Gl=at.createFramebuffer();this.copyTextureToTexture=function(et,gt,Tt=null,zt=null,mt=0,te=null){te===null&&(mt!==0?(nb("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),te=mt,mt=0):te=0);let me,ze,be,Ze,sn,Ke,Nn,ui,Mi;const ci=et.isCompressedTexture?et.mipmaps[te]:et.image;if(Tt!==null)me=Tt.max.x-Tt.min.x,ze=Tt.max.y-Tt.min.y,be=Tt.isBox3?Tt.max.z-Tt.min.z:1,Ze=Tt.min.x,sn=Tt.min.y,Ke=Tt.isBox3?Tt.min.z:0;else{const va=Math.pow(2,-mt);me=Math.floor(ci.width*va),ze=Math.floor(ci.height*va),et.isDataArrayTexture?be=ci.depth:et.isData3DTexture?be=Math.floor(ci.depth*va):be=1,Ze=0,sn=0,Ke=0}zt!==null?(Nn=zt.x,ui=zt.y,Mi=zt.z):(Nn=0,ui=0,Mi=0);const Bn=ot.convert(gt.format),He=ot.convert(gt.type);let Ii;gt.isData3DTexture?(ie.setTexture3D(gt,0),Ii=at.TEXTURE_3D):gt.isDataArrayTexture||gt.isCompressedArrayTexture?(ie.setTexture2DArray(gt,0),Ii=at.TEXTURE_2D_ARRAY):(ie.setTexture2D(gt,0),Ii=at.TEXTURE_2D),at.pixelStorei(at.UNPACK_FLIP_Y_WEBGL,gt.flipY),at.pixelStorei(at.UNPACK_PREMULTIPLY_ALPHA_WEBGL,gt.premultiplyAlpha),at.pixelStorei(at.UNPACK_ALIGNMENT,gt.unpackAlignment);const Zn=at.getParameter(at.UNPACK_ROW_LENGTH),Ur=at.getParameter(at.UNPACK_IMAGE_HEIGHT),Qs=at.getParameter(at.UNPACK_SKIP_PIXELS),hr=at.getParameter(at.UNPACK_SKIP_ROWS),Hu=at.getParameter(at.UNPACK_SKIP_IMAGES);at.pixelStorei(at.UNPACK_ROW_LENGTH,ci.width),at.pixelStorei(at.UNPACK_IMAGE_HEIGHT,ci.height),at.pixelStorei(at.UNPACK_SKIP_PIXELS,Ze),at.pixelStorei(at.UNPACK_SKIP_ROWS,sn),at.pixelStorei(at.UNPACK_SKIP_IMAGES,Ke);const Fn=et.isDataArrayTexture||et.isData3DTexture,Kr=gt.isDataArrayTexture||gt.isData3DTexture;if(et.isDepthTexture){const va=jt.get(et),dr=jt.get(gt),er=jt.get(va.__renderTarget),of=jt.get(dr.__renderTarget);Bt.bindFramebuffer(at.READ_FRAMEBUFFER,er.__webglFramebuffer),Bt.bindFramebuffer(at.DRAW_FRAMEBUFFER,of.__webglFramebuffer);for(let Oa=0;Oa<be;Oa++)Fn&&(at.framebufferTextureLayer(at.READ_FRAMEBUFFER,at.COLOR_ATTACHMENT0,jt.get(et).__webglTexture,mt,Ke+Oa),at.framebufferTextureLayer(at.DRAW_FRAMEBUFFER,at.COLOR_ATTACHMENT0,jt.get(gt).__webglTexture,te,Mi+Oa)),at.blitFramebuffer(Ze,sn,me,ze,Nn,ui,me,ze,at.DEPTH_BUFFER_BIT,at.NEAREST);Bt.bindFramebuffer(at.READ_FRAMEBUFFER,null),Bt.bindFramebuffer(at.DRAW_FRAMEBUFFER,null)}else if(mt!==0||et.isRenderTargetTexture||jt.has(et)){const va=jt.get(et),dr=jt.get(gt);Bt.bindFramebuffer(at.READ_FRAMEBUFFER,Lh),Bt.bindFramebuffer(at.DRAW_FRAMEBUFFER,Gl);for(let er=0;er<be;er++)Fn?at.framebufferTextureLayer(at.READ_FRAMEBUFFER,at.COLOR_ATTACHMENT0,va.__webglTexture,mt,Ke+er):at.framebufferTexture2D(at.READ_FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,va.__webglTexture,mt),Kr?at.framebufferTextureLayer(at.DRAW_FRAMEBUFFER,at.COLOR_ATTACHMENT0,dr.__webglTexture,te,Mi+er):at.framebufferTexture2D(at.DRAW_FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,dr.__webglTexture,te),mt!==0?at.blitFramebuffer(Ze,sn,me,ze,Nn,ui,me,ze,at.COLOR_BUFFER_BIT,at.NEAREST):Kr?at.copyTexSubImage3D(Ii,te,Nn,ui,Mi+er,Ze,sn,me,ze):at.copyTexSubImage2D(Ii,te,Nn,ui,Ze,sn,me,ze);Bt.bindFramebuffer(at.READ_FRAMEBUFFER,null),Bt.bindFramebuffer(at.DRAW_FRAMEBUFFER,null)}else Kr?et.isDataTexture||et.isData3DTexture?at.texSubImage3D(Ii,te,Nn,ui,Mi,me,ze,be,Bn,He,ci.data):gt.isCompressedArrayTexture?at.compressedTexSubImage3D(Ii,te,Nn,ui,Mi,me,ze,be,Bn,ci.data):at.texSubImage3D(Ii,te,Nn,ui,Mi,me,ze,be,Bn,He,ci):et.isDataTexture?at.texSubImage2D(at.TEXTURE_2D,te,Nn,ui,me,ze,Bn,He,ci.data):et.isCompressedTexture?at.compressedTexSubImage2D(at.TEXTURE_2D,te,Nn,ui,ci.width,ci.height,Bn,ci.data):at.texSubImage2D(at.TEXTURE_2D,te,Nn,ui,me,ze,Bn,He,ci);at.pixelStorei(at.UNPACK_ROW_LENGTH,Zn),at.pixelStorei(at.UNPACK_IMAGE_HEIGHT,Ur),at.pixelStorei(at.UNPACK_SKIP_PIXELS,Qs),at.pixelStorei(at.UNPACK_SKIP_ROWS,hr),at.pixelStorei(at.UNPACK_SKIP_IMAGES,Hu),te===0&&gt.generateMipmaps&&at.generateMipmap(Ii),Bt.unbindTexture()},this.initRenderTarget=function(et){jt.get(et).__webglFramebuffer===void 0&&ie.setupRenderTarget(et)},this.initTexture=function(et){et.isCubeTexture?ie.setTextureCube(et,0):et.isData3DTexture?ie.setTexture3D(et,0):et.isDataArrayTexture||et.isCompressedArrayTexture?ie.setTexture2DArray(et,0):ie.setTexture2D(et,0),Bt.unbindTexture()},this.resetState=function(){C=0,R=0,z=null,Bt.reset(),At.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Vs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=Qn._getDrawingBufferColorSpace(t),e.unpackColorSpace=Qn._getUnpackColorSpace()}}const uut=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:W3,AddEquation:Bd,AddOperation:DX,AdditiveAnimationBlendMode:$3,AdditiveBlending:uO,AgXToneMapping:OX,AlphaFormat:K3,AlwaysCompare:KX,AlwaysDepth:SE,AlwaysStencilFunc:dO,AmbientLight:UW,AnimationAction:ZW,AnimationClip:K0,AnimationLoader:bit,AnimationMixer:jit,AnimationObjectGroup:qit,AnimationUtils:yit,ArcCurve:hW,ArrayCamera:WW,ArrowHelper:Srt,AttachedBindMode:hO,Audio:YW,AudioAnalyser:Bit,AudioContext:Rz,AudioListener:Oit,AudioLoader:Lit,AxesHelper:xrt,BackSide:jo,BasicDepthPacking:kX,BasicShadowMap:uX,BatchedMesh:uW,Bone:z2,BooleanKeyframeTrack:em,Box2:rrt,Box3:Wa,Box3Helper:yrt,BoxGeometry:tm,BoxHelper:mrt,BufferAttribute:xi,BufferGeometry:Ln,BufferGeometryLoader:GW,ByteType:Y3,Cache:Pc,Camera:N2,CameraHelper:grt,CanvasTexture:knt,CapsuleGeometry:H2,CatmullRomCurve3:dW,CineonToneMapping:IX,CircleGeometry:k2,ClampToEdgeWrapping:Us,Clock:Lz,Color:Me,ColorKeyframeTrack:Mz,ColorManagement:Qn,CompressedArrayTexture:Vnt,CompressedCubeTexture:Hnt,CompressedTexture:V2,CompressedTextureLoader:Tit,ConeGeometry:Yb,ConstantAlphaFactor:wX,ConstantColorFactor:MX,Controls:Trt,CubeCamera:rW,CubeReflectionMapping:vh,CubeRefractionMapping:ip,CubeTexture:Fb,CubeTextureLoader:Mit,CubeUVReflectionMapping:g_,CubicBezierCurve:vz,CubicBezierCurve3:pW,CubicInterpolant:IW,CullFaceBack:lO,CullFaceFront:lX,CullFaceFrontBack:Ktt,CullFaceNone:sX,Curve:zu,CurvePath:gW,CustomBlending:cX,CustomToneMapping:NX,CylinderGeometry:Wb,Cylindrical:irt,Data3DTexture:I2,DataArrayTexture:L2,DataTexture:Fc,DataTextureLoader:Ait,DataUtils:cnt,DecrementStencilOp:set,DecrementWrapStencilOp:cet,DefaultLoadingManager:PW,DepthFormat:k0,DepthStencilFormat:F0,DepthTexture:hz,DetachedBindMode:zX,DirectionalLight:Dz,DirectionalLightHelper:vrt,DiscreteInterpolant:NW,DodecahedronGeometry:F2,DoubleSide:bu,DstAlphaFactor:_X,DstColorFactor:xX,DynamicCopyUsage:wet,DynamicDrawUsage:_et,DynamicReadUsage:Tet,EdgesGeometry:fW,EllipseCurve:G2,EqualCompare:YX,EqualDepth:bE,EqualStencilFunc:pet,EquirectangularReflectionMapping:K1,EquirectangularRefractionMapping:Q1,Euler:qs,EventDispatcher:tf,ExternalTexture:dz,ExtrudeGeometry:X2,FileLoader:Lu,Float16BufferAttribute:mnt,Float32BufferAttribute:Ge,FloatType:gs,Fog:P2,FogExp2:O2,FramebufferTexture:Unt,FrontSide:Yc,Frustum:y_,FrustumArray:B2,GLBufferAttribute:trt,GLSL1:Cet,GLSL3:pO,GreaterCompare:qX,GreaterDepth:ME,GreaterEqualCompare:jX,GreaterEqualDepth:TE,GreaterEqualStencilFunc:yet,GreaterStencilFunc:get,GridHelper:drt,Group:th,HalfFloatType:m_,HemisphereLight:BW,HemisphereLightHelper:hrt,IcosahedronGeometry:W2,ImageBitmapLoader:XW,ImageLoader:ob,ImageUtils:tW,IncrementStencilOp:oet,IncrementWrapStencilOp:uet,InstancedBufferAttribute:zg,InstancedBufferGeometry:FW,InstancedInterleavedBuffer:$it,InstancedMesh:uz,Int16BufferAttribute:vnt,Int32BufferAttribute:gnt,Int8BufferAttribute:hnt,IntType:M2,InterleavedBuffer:Gb,InterleavedBufferAttribute:ap,Interpolant:S_,InterpolateDiscrete:G0,InterpolateLinear:X0,InterpolateSmooth:Yw,InterpolationSamplingMode:Let,InterpolationSamplingType:Ret,InvertStencilOp:fet,KeepStencilOp:eg,KeyframeTrack:Vl,LOD:lW,LatheGeometry:Y2,Layers:q0,LessCompare:WX,LessDepth:xE,LessEqualCompare:ez,LessEqualDepth:Pg,LessEqualStencilFunc:vet,LessStencilFunc:det,Light:pp,LightProbe:kW,Line:mh,Line3:srt,LineBasicMaterial:bo,LineCurve:gz,LineCurve3:vW,LineDashedMaterial:DW,LineLoop:cz,LineSegments:Pu,LinearFilter:xr,LinearInterpolant:Tz,LinearMipMapLinearFilter:tet,LinearMipMapNearestFilter:$tt,LinearMipmapLinearFilter:Rl,LinearMipmapNearestFilter:D0,LinearSRGBColorSpace:qa,LinearToneMapping:RX,LinearTransfer:$1,Loader:$o,LoaderUtils:Zd,LoadingManager:Az,LoopOnce:BX,LoopPingPong:VX,LoopRepeat:UX,MOUSE:$v,Material:sa,MaterialLoader:$2,MathUtils:QX,Matrix2:Pz,Matrix3:Rn,Matrix4:un,MaxEquation:pX,Mesh:Nr,MeshBasicMaterial:Hs,MeshDepthMaterial:Sz,MeshDistanceMaterial:xz,MeshLambertMaterial:EW,MeshMatcapMaterial:CW,MeshNormalMaterial:wW,MeshPhongMaterial:MW,MeshPhysicalMaterial:Ul,MeshStandardMaterial:jb,MeshToonMaterial:AW,MinEquation:dX,MirroredRepeatWrapping:U0,MixOperation:CX,MultiplyBlending:fO,MultiplyOperation:Hb,NearestFilter:oa,NearestMipMapLinearFilter:Jtt,NearestMipMapNearestFilter:Qtt,NearestMipmapLinearFilter:pg,NearestMipmapNearestFilter:T2,NeutralToneMapping:PX,NeverCompare:XX,NeverDepth:_E,NeverStencilFunc:het,NoBlending:oh,NoColorSpace:Qf,NoToneMapping:kc,NormalAnimationBlendMode:R2,NormalBlending:Ag,NotEqualCompare:ZX,NotEqualDepth:AE,NotEqualStencilFunc:met,NumberKeyframeTrack:Ug,Object3D:oi,ObjectLoader:Dit,ObjectSpaceNormalMap:GX,OctahedronGeometry:qb,OneFactor:gX,OneMinusConstantAlphaFactor:EX,OneMinusConstantColorFactor:AX,OneMinusDstAlphaFactor:SX,OneMinusDstColorFactor:bX,OneMinusSrcAlphaFactor:yE,OneMinusSrcColorFactor:yX,OrthographicCamera:lh,PCFShadowMap:x2,PCFSoftShadowMap:w1,PMREMGenerator:bO,Path:rC,PerspectiveCamera:Sr,Plane:Kf,PlaneGeometry:__,PlaneHelper:_rt,PointLight:Cz,PointLightHelper:crt,Points:fz,PointsMaterial:U2,PolarGridHelper:prt,PolyhedronGeometry:dp,PositionalAudio:zit,PropertyBinding:li,PropertyMixer:qW,QuadraticBezierCurve:mz,QuadraticBezierCurve3:yz,Quaternion:Ra,QuaternionKeyframeTrack:Vg,QuaternionLinearInterpolant:OW,RED_GREEN_RGTC2_Format:JE,RED_RGTC1_Format:KE,REVISION:S2,RGBADepthPacking:FX,RGBAFormat:_o,RGBAIntegerFormat:D2,RGBA_ASTC_10x10_Format:XE,RGBA_ASTC_10x5_Format:kE,RGBA_ASTC_10x6_Format:FE,RGBA_ASTC_10x8_Format:GE,RGBA_ASTC_12x10_Format:WE,RGBA_ASTC_12x12_Format:YE,RGBA_ASTC_4x4_Format:NE,RGBA_ASTC_5x4_Format:OE,RGBA_ASTC_5x5_Format:PE,RGBA_ASTC_6x5_Format:zE,RGBA_ASTC_6x6_Format:BE,RGBA_ASTC_8x5_Format:UE,RGBA_ASTC_8x6_Format:VE,RGBA_ASTC_8x8_Format:HE,RGBA_BPTC_Format:qE,RGBA_ETC2_EAC_Format:IE,RGBA_PVRTC_2BPPV1_Format:DE,RGBA_PVRTC_4BPPV1_Format:CE,RGBA_S3TC_DXT1_Format:C1,RGBA_S3TC_DXT3_Format:D1,RGBA_S3TC_DXT5_Format:R1,RGBDepthPacking:net,RGBFormat:Q3,RGBIntegerFormat:eet,RGB_BPTC_SIGNED_Format:ZE,RGB_BPTC_UNSIGNED_Format:jE,RGB_ETC1_Format:RE,RGB_ETC2_Format:LE,RGB_PVRTC_2BPPV1_Format:EE,RGB_PVRTC_4BPPV1_Format:wE,RGB_S3TC_DXT1_Format:E1,RGDepthPacking:iet,RGFormat:J3,RGIntegerFormat:C2,RawShaderMaterial:TW,Ray:$g,Raycaster:jW,RectAreaLight:VW,RedFormat:E2,RedIntegerFormat:kb,ReinhardToneMapping:LX,RenderTarget:iz,RenderTarget3D:Kit,RepeatWrapping:rp,ReplaceStencilOp:aet,ReverseSubtractEquation:hX,RingGeometry:q2,SIGNED_RED_GREEN_RGTC2_Format:$E,SIGNED_RED_RGTC1_Format:QE,SRGBColorSpace:Ir,SRGBTransfer:Di,Scene:oz,ShaderChunk:Hn,ShaderLib:xu,ShaderMaterial:Ru,ShadowMaterial:bW,Shape:Eg,ShapeGeometry:Z2,ShapePath:brt,ShapeUtils:Tu,ShortType:q3,Skeleton:Xb,SkeletonHelper:urt,SkinnedMesh:lz,Source:Hd,Sphere:La,SphereGeometry:Zb,Spherical:SO,SphericalHarmonics3:HW,SplineCurve:_z,SpotLight:Ez,SpotLightHelper:lrt,Sprite:sW,SpriteMaterial:sz,SrcAlphaFactor:mE,SrcAlphaSaturateFactor:TX,SrcColorFactor:mX,StaticCopyUsage:Aet,StaticDrawUsage:tb,StaticReadUsage:bet,StereoCamera:Iit,StreamCopyUsage:Eet,StreamDrawUsage:xet,StreamReadUsage:Met,StringKeyframeTrack:nm,SubtractEquation:fX,SubtractiveBlending:cO,TOUCH:tg,TangentSpaceNormalMap:hp,TetrahedronGeometry:j2,Texture:tr,TextureLoader:zW,TextureUtils:Crt,Timer:ert,TimestampQuery:Det,TorusGeometry:K2,TorusKnotGeometry:Q2,Triangle:Ud,TriangleFanDrawMode:tC,TriangleStripDrawMode:tz,TrianglesDrawMode:HX,TubeGeometry:J2,UVMapping:b2,Uint16BufferAttribute:rz,Uint32BufferAttribute:az,Uint8BufferAttribute:dnt,Uint8ClampedBufferAttribute:pnt,Uniform:Oz,UniformsGroup:Jit,UniformsLib:we,UniformsUtils:iW,UnsignedByteType:Nl,UnsignedInt101111Type:j3,UnsignedInt248Type:H0,UnsignedInt5999Type:Z3,UnsignedIntType:gh,UnsignedShort4444Type:A2,UnsignedShort5551Type:w2,UnsignedShortType:V0,VSMShadowMap:_u,Vector2:Zt,Vector3:it,Vector4:hi,VectorKeyframeTrack:Hg,VideoFrameTexture:Bnt,VideoTexture:cW,WebGL3DRenderTarget:tnt,WebGLArrayRenderTarget:$et,WebGLCoordinateSystem:Vs,WebGLCubeRenderTarget:aW,WebGLRenderTarget:qc,WebGLRenderer:iY,WebGLUtils:nY,WebGPUCoordinateSystem:W0,WebXRController:qw,WireframeGeometry:xW,WrapAroundEnding:J1,ZeroCurvatureEnding:vg,ZeroFactor:vX,ZeroSlopeEnding:gg,ZeroStencilOp:ret,createCanvasElement:$X},Symbol.toStringTag,{value:"Module"}));var _L={exports:{}},SL={},xL={exports:{}},bL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aH;function cut(){if(aH)return bL;aH=1;var i=v_();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var e=typeof Object.is=="function"?Object.is:t,n=i.useState,r=i.useEffect,a=i.useLayoutEffect,o=i.useDebugValue;function s(f,h){var p=h(),g=n({inst:{value:p,getSnapshot:h}}),m=g[0].inst,_=g[1];return a(function(){m.value=p,m.getSnapshot=h,l(m)&&_({inst:m})},[f,p,h]),r(function(){return l(m)&&_({inst:m}),f(function(){l(m)&&_({inst:m})})},[f]),o(p),p}function l(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!e(f,p)}catch{return!0}}function u(f,h){return h()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return bL.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:c,bL}var oH;function fut(){return oH||(oH=1,xL.exports=cut()),xL.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sH;function hut(){if(sH)return SL;sH=1;var i=v_(),t=fut();function e(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=i.useRef,o=i.useEffect,s=i.useMemo,l=i.useDebugValue;return SL.useSyncExternalStoreWithSelector=function(u,c,f,h,p){var g=a(null);if(g.current===null){var m={hasValue:!1,value:null};g.current=m}else m=g.current;g=s(function(){function S(C){if(!T){if(T=!0,M=C,C=h(C),p!==void 0&&m.hasValue){var R=m.value;if(p(R,C))return w=R}return w=C}if(R=w,n(M,C))return R;var z=h(C);return p!==void 0&&p(R,z)?(M=C,R):(M=C,w=z)}var T=!1,M,w,D=f===void 0?null:f;return[function(){return S(c())},D===null?void 0:function(){return S(D())}]},[c,f,h,p]);var _=r(u,g[0],g[1]);return o(function(){m.hasValue=!0,m.value=_},[_]),l(_),_},SL}var lH;function dut(){return lH||(lH=1,_L.exports=hut()),_L.exports}var put=dut();const vut=_2(put),{useSyncExternalStoreWithSelector:gut}=vut,mut=i=>i;function yut(i,t=mut,e){const n=gut(i.subscribe,i.getState,i.getInitialState,t,e);return u1.useDebugValue(n),n}const uH=(i,t)=>{const e=oX(i),n=(r,a=t)=>yut(e,r,a);return Object.assign(n,e),n},_ut=((i,t)=>i?uH(i,t):uH);var TL={exports:{}},ML={exports:{}},AL={exports:{}},wL={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cH;function Sut(){return cH||(cH=1,(function(i){function t(H,j){var Y=H.length;H.push(j);t:for(;0<Y;){var Q=Y-1>>>1,nt=H[Q];if(0<r(nt,j))H[Q]=j,H[Y]=nt,Y=Q;else break t}}function e(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var j=H[0],Y=H.pop();if(Y!==j){H[0]=Y;t:for(var Q=0,nt=H.length,q=nt>>>1;Q<q;){var $=2*(Q+1)-1,st=H[$],ft=$+1,Mt=H[ft];if(0>r(st,Y))ft<nt&&0>r(Mt,st)?(H[Q]=Mt,H[ft]=Y,Q=ft):(H[Q]=st,H[$]=Y,Q=$);else if(ft<nt&&0>r(Mt,Y))H[Q]=Mt,H[ft]=Y,Q=ft;else break t}}return j}function r(H,j){var Y=H.sortIndex-j.sortIndex;return Y!==0?Y:H.id-j.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();i.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var j=e(u);j!==null;){if(j.callback===null)n(u);else if(j.startTime<=H)n(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=e(u)}}function w(H){if(m=!1,M(H),!g)if(e(l)!==null)g=!0,W();else{var j=e(u);j!==null&&Z(w,j.startTime-H)}}var D=!1,C=-1,R=5,z=-1;function N(){return!(i.unstable_now()-z<R)}function O(){if(D){var H=i.unstable_now();z=H;var j=!0;try{t:{g=!1,m&&(m=!1,S(C),C=-1),p=!0;var Y=h;try{e:{for(M(H),f=e(l);f!==null&&!(f.expirationTime>H&&N());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var nt=Q(f.expirationTime<=H);if(H=i.unstable_now(),typeof nt=="function"){f.callback=nt,M(H),j=!0;break e}f===e(l)&&n(l),M(H)}else n(l);f=e(l)}if(f!==null)j=!0;else{var q=e(u);q!==null&&Z(w,q.startTime-H),j=!1}}break t}finally{f=null,h=Y,p=!1}j=void 0}}finally{j?U():D=!1}}}var U;if(typeof T=="function")U=function(){T(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=O,U=function(){V.postMessage(null)}}else U=function(){_(O,0)};function W(){D||(D=!0,U())}function Z(H,j){C=_(function(){H(i.unstable_now())},j)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_continueExecution=function(){g||p||(g=!0,W())},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return h},i.unstable_getFirstCallbackNode=function(){return e(l)},i.unstable_next=function(H){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var Y=h;h=j;try{return H()}finally{h=Y}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(H,j){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=h;h=H;try{return j()}finally{h=Y}},i.unstable_scheduleCallback=function(H,j,Y){var Q=i.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Q+Y:Q):Y=Q,H){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Y+nt,H={id:c++,callback:j,priorityLevel:H,startTime:Y,expirationTime:nt,sortIndex:-1},Y>Q?(H.sortIndex=Y,t(u,H),e(l)===null&&H===e(u)&&(m?(S(C),C=-1):m=!0,Z(w,Y-Q))):(H.sortIndex=nt,t(l,H),g||p||(g=!0,W())),H},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(H){var j=h;return function(){var Y=h;h=j;try{return H.apply(this,arguments)}finally{h=Y}}}})(wL)),wL}var fH;function rY(){return fH||(fH=1,AL.exports=Sut()),AL.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hH;function xut(){return hH||(hH=1,(function(i){i.exports=function(t){function e(y,x,E,I){return new gS(y,x,E,I)}function n(){}function r(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)x+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(y){return y===null||typeof y!="object"?null:(y=TS&&y[TS]||y["@@iterator"],typeof y=="function"?y:null)}function o(y){if(y==null)return null;if(typeof y=="function")return y.$$typeof===xf?null:y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case qh:return"Fragment";case bs:return"Portal";case bS:return"Profiler";case xS:return"StrictMode";case Vm:return"Suspense";case ac:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case al:return(y.displayName||"Context")+".Provider";case rc:return(y._context.displayName||"Context")+".Consumer";case Zh:var x=y.render;return y=y.displayName,y||(y=x.displayName||x.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case Fp:return x=y.displayName||null,x!==null?x:o(y.type)||"Memo";case Ts:x=y._payload,y=y._init;try{return o(y(x))}catch{}}return null}function s(y){if(Hm===void 0)try{throw Error()}catch(E){var x=E.stack.trim().match(/\n( *(at )?)/);Hm=x&&x[1]||"",MS=-1<E.stack.indexOf(`
    at`)?" (<anonymous>)":-1<E.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hm+y+MS}function l(y,x){if(!y||oc)return"";oc=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var I={DetermineComponentFrameRoot:function(){try{if(x){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(Sn){var De=Sn}Reflect.construct(y,[],Ae)}else{try{Ae.call()}catch(Sn){De=Sn}y.call(Ae.prototype)}}else{try{throw Error()}catch(Sn){De=Sn}(Ae=y())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(Sn){if(Sn&&De&&typeof Sn.stack=="string")return[Sn.stack,De.stack]}return[null,null]}};I.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(I.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(I.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=I.DetermineComponentFrameRoot(),tt=k[0],ut=k[1];if(tt&&ut){var St=tt.split(`
`),qt=ut.split(`
`);for(B=I=0;I<St.length&&!St[I].includes("DetermineComponentFrameRoot");)I++;for(;B<qt.length&&!qt[B].includes("DetermineComponentFrameRoot");)B++;if(I===St.length||B===qt.length)for(I=St.length-1,B=qt.length-1;1<=I&&0<=B&&St[I]!==qt[B];)B--;for(;1<=I&&0<=B;I--,B--)if(St[I]!==qt[B]){if(I!==1||B!==1)do if(I--,B--,0>B||St[I]!==qt[B]){var ve=`
`+St[I].replace(" at new "," at ");return y.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",y.displayName)),ve}while(1<=I&&0<=B);break}}}finally{oc=!1,Error.prepareStackTrace=E}return(E=y?y.displayName||y.name:"")?s(E):""}function u(y){switch(y.tag){case 26:case 27:case 5:return s(y.type);case 16:return s("Lazy");case 13:return s("Suspense");case 19:return s("SuspenseList");case 0:case 15:return y=l(y.type,!1),y;case 11:return y=l(y.type.render,!1),y;case 1:return y=l(y.type,!0),y;default:return""}}function c(y){try{var x="";do x+=u(y),y=y.return;while(y);return x}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}function f(y){var x=y,E=y;if(y.alternate)for(;x.return;)x=x.return;else{y=x;do x=y,(x.flags&4098)!==0&&(E=x.return),y=x.return;while(y)}return x.tag===3?E:null}function h(y){if(f(y)!==y)throw Error(r(188))}function p(y){var x=y.alternate;if(!x){if(x=f(y),x===null)throw Error(r(188));return x!==y?null:y}for(var E=y,I=x;;){var B=E.return;if(B===null)break;var k=B.alternate;if(k===null){if(I=B.return,I!==null){E=I;continue}break}if(B.child===k.child){for(k=B.child;k;){if(k===E)return h(B),y;if(k===I)return h(B),x;k=k.sibling}throw Error(r(188))}if(E.return!==I.return)E=B,I=k;else{for(var tt=!1,ut=B.child;ut;){if(ut===E){tt=!0,E=B,I=k;break}if(ut===I){tt=!0,I=B,E=k;break}ut=ut.sibling}if(!tt){for(ut=k.child;ut;){if(ut===E){tt=!0,E=k,I=B;break}if(ut===I){tt=!0,I=k,E=B;break}ut=ut.sibling}if(!tt)throw Error(r(189))}}if(E.alternate!==I)throw Error(r(190))}if(E.tag!==3)throw Error(r(188));return E.stateNode.current===E?y:x}function g(y){var x=y.tag;if(x===5||x===26||x===27||x===6)return y;for(y=y.child;y!==null;){if(x=g(y),x!==null)return x;y=y.sibling}return null}function m(y){var x=y.tag;if(x===5||x===26||x===27||x===6)return y;for(y=y.child;y!==null;){if(y.tag!==4&&(x=m(y),x!==null))return x;y=y.sibling}return null}function _(y){return{current:y}}function S(y){0>iu||(y.current=Qp[iu],Qp[iu]=null,iu--)}function T(y,x){iu++,Qp[iu]=y.current,y.current=x}function M(y){return y>>>=0,y===0?32:31-(Jp(y)/fM|0)|0}function w(y){var x=y&42;if(x!==0)return x;switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return y&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return y}}function D(y,x){var E=y.pendingLanes;if(E===0)return 0;var I=0,B=y.suspendedLanes,k=y.pingedLanes,tt=y.warmLanes;y=y.finishedLanes!==0;var ut=E&134217727;return ut!==0?(E=ut&~B,E!==0?I=w(E):(k&=ut,k!==0?I=w(k):y||(tt=ut&~tt,tt!==0&&(I=w(tt))))):(ut=E&~B,ut!==0?I=w(ut):k!==0?I=w(k):y||(tt=E&~tt,tt!==0&&(I=w(tt)))),I===0?0:x!==0&&x!==I&&(x&B)===0&&(B=I&-I,tt=x&-x,B>=tt||B===32&&(tt&4194176)!==0)?x:I}function C(y,x){return(y.pendingLanes&~(y.suspendedLanes&~y.pingedLanes)&x)===0}function R(y,x){switch(y){case 1:case 2:case 4:case 8:return x+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z(){var y=Jh;return Jh<<=1,(Jh&4194176)===0&&(Jh=128),y}function N(){var y=$p;return $p<<=1,($p&62914560)===0&&($p=4194304),y}function O(y){for(var x=[],E=0;31>E;E++)x.push(y);return x}function U(y,x){y.pendingLanes|=x,x!==268435456&&(y.suspendedLanes=0,y.pingedLanes=0,y.warmLanes=0)}function F(y,x,E,I,B,k){var tt=y.pendingLanes;y.pendingLanes=E,y.suspendedLanes=0,y.pingedLanes=0,y.warmLanes=0,y.expiredLanes&=E,y.entangledLanes&=E,y.errorRecoveryDisabledLanes&=E,y.shellSuspendCounter=0;var ut=y.entanglements,St=y.expirationTimes,qt=y.hiddenUpdates;for(E=tt&~E;0<E;){var ve=31-io(E),Ae=1<<ve;ut[ve]=0,St[ve]=-1;var De=qt[ve];if(De!==null)for(qt[ve]=null,ve=0;ve<De.length;ve++){var Sn=De[ve];Sn!==null&&(Sn.lane&=-536870913)}E&=~Ae}I!==0&&V(y,I,0),k!==0&&B===0&&y.tag!==0&&(y.suspendedLanes|=k&~(tt&~x))}function V(y,x,E){y.pendingLanes|=x,y.suspendedLanes&=~x;var I=31-io(x);y.entangledLanes|=x,y.entanglements[I]=y.entanglements[I]|1073741824|E&4194218}function W(y,x){var E=y.entangledLanes|=x;for(y=y.entanglements;E;){var I=31-io(E),B=1<<I;B&x|y[I]&x&&(y[I]|=x),E&=~B}}function Z(y){return y&=-y,2<y?8<y?(y&134217727)!==0?32:268435456:8:2}function H(y){if(ro&&typeof ro.onCommitFiberRoot=="function")try{ro.onCommitFiberRoot(td,y,void 0,(y.current.flags&128)===128)}catch{}}function j(y){if(typeof vM=="function"&&ex(y),ro&&typeof ro.setStrictMode=="function")try{ro.setStrictMode(td,y)}catch{}}function Y(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}function Q(y,x){if(typeof y=="object"&&y!==null){var E=iy.get(y);return E!==void 0?E:(x={value:y,source:x,stack:c(x)},iy.set(y,x),x)}return{value:y,source:x,stack:c(x)}}function nt(y,x){Hi[ji++]=nv,Hi[ji++]=ev,ev=y,nv=x}function q(y,x,E){Io[No++]=cl,Io[No++]=is,Io[No++]=Ms,Ms=y;var I=cl;y=is;var B=32-io(I)-1;I&=~(1<<B),E+=1;var k=32-io(x)+B;if(30<k){var tt=B-B%5;k=(I&(1<<tt)-1).toString(32),I>>=tt,B-=tt,cl=1<<32-io(x)+B|E<<B|I,is=k+y}else cl=1<<k|E<<B|I,is=y}function $(y){y.return!==null&&(nt(y,1),q(y,1,0))}function st(y){for(;y===ev;)ev=Hi[--ji],Hi[ji]=null,nv=Hi[--ji],Hi[ji]=null;for(;y===Ms;)Ms=Io[--No],Io[No]=null,is=Io[--No],Io[No]=null,cl=Io[--No],Io[No]=null}function ft(y,x){T(As,x),T(iv,y),T(Gr,null),y=bf(x),S(Gr),T(Gr,y)}function Mt(){S(Gr),S(iv),S(As)}function dt(y){y.memoizedState!==null&&T(ed,y);var x=Gr.current,E=XT(x,y.type);x!==E&&(T(iv,y),T(Gr,E))}function xt(y){iv.current===y&&(S(Gr),S(iv)),ed.current===y&&(S(ed),sl?hn._currentValue=no:hn._currentValue2=no)}function Lt(y){var x=Error(r(418,""));throw at(Q(x,y)),rv}function Ct(y,x){if(!Ua)throw Error(r(175));WD(y.stateNode,y.type,y.memoizedProps,x,y)||Lt(y)}function Wt(y){for(xa=y.return;xa;)switch(xa.tag){case 3:case 27:rs=!0;return;case 5:case 13:rs=!1;return;default:xa=xa.return}}function Xt(y){if(!Ua||y!==xa)return!1;if(!ni)return Wt(y),ni=!0,!1;var x=!1;if(ea?y.tag!==3&&y.tag!==27&&(y.tag!==5||oM(y.type)&&!uc(y.type,y.memoizedProps))&&(x=!0):y.tag!==3&&(y.tag!==5||oM(y.type)&&!uc(y.type,y.memoizedProps))&&(x=!0),x&&ia&&Lt(y),Wt(y),y.tag===13){if(!Ua)throw Error(r(316));if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));ia=rM(y)}else ia=xa?FS(y.stateNode):null;return!0}function ae(){Ua&&(ia=xa=null,ni=!1)}function at(y){Oo===null?Oo=[y]:Oo.push(y)}function wt(){for(var y=fc,x=nd=fc=0;x<y;){var E=Po[x];Po[x++]=null;var I=Po[x];Po[x++]=null;var B=Po[x];Po[x++]=null;var k=Po[x];if(Po[x++]=null,I!==null&&B!==null){var tt=I.pending;tt===null?B.next=B:(B.next=tt.next,tt.next=B),I.pending=B}k!==0&&oe(E,B,k)}}function It(y,x,E,I){Po[fc++]=y,Po[fc++]=x,Po[fc++]=E,Po[fc++]=I,nd|=I,y.lanes|=I,y=y.alternate,y!==null&&(y.lanes|=I)}function Nt(y,x,E,I){return It(y,x,E,I),jt(y)}function Bt(y,x){return It(y,null,null,x),jt(y)}function oe(y,x,E){y.lanes|=E;var I=y.alternate;I!==null&&(I.lanes|=E);for(var B=!1,k=y.return;k!==null;)k.childLanes|=E,I=k.alternate,I!==null&&(I.childLanes|=E),k.tag===22&&(y=k.stateNode,y===null||y._visibility&1||(B=!0)),y=k,k=k.return;B&&x!==null&&y.tag===3&&(k=y.stateNode,B=31-io(E),k=k.hiddenUpdates,y=k[B],y===null?k[B]=[x]:y.push(x),x.lane=E|536870912)}function jt(y){if(50<Nf)throw Nf=0,ka=null,Error(r(185));for(var x=y.return;x!==null;)y=x,x=y.return;return y.tag===3?y.stateNode:null}function ie(y){y!==wf&&y.next===null&&(wf===null?id=wf=y:wf=wf.next=y),ov=!0,av||(av=!0,Ft(nn))}function Xe(y,x){if(!ws&&ov){ws=!0;do for(var E=!1,I=id;I!==null;){if(y!==0){var B=I.pendingLanes;if(B===0)var k=0;else{var tt=I.suspendedLanes,ut=I.pingedLanes;k=(1<<31-io(42|y)+1)-1,k&=B&~(tt&~ut),k=k&201326677?k&201326677|1:k?k|2:0}k!==0&&(E=!0,bt(I,k))}else k=Un,k=D(I,I===kn?k:0),(k&3)===0||C(I,k)||(E=!0,bt(I,k));I=I.next}while(E);ws=!1}}function nn(){ov=av=!1;var y=0;hc!==0&&(cc()&&(y=hc),hc=0);for(var x=na(),E=null,I=id;I!==null;){var B=I.next,k=rt(I,x);k===0?(I.next=null,E===null?id=B:E.next=B,B===null&&(wf=E)):(E=I,(y!==0||(k&3)!==0)&&(ov=!0)),I=B}Xe(y)}function rt(y,x){for(var E=y.suspendedLanes,I=y.pingedLanes,B=y.expirationTimes,k=y.pendingLanes&-62914561;0<k;){var tt=31-io(k),ut=1<<tt,St=B[tt];St===-1?((ut&E)===0||(ut&I)!==0)&&(B[tt]=R(ut,x)):St<=x&&(y.expiredLanes|=ut),k&=~ut}if(x=kn,E=Un,E=D(y,y===x?E:0),I=y.callbackNode,E===0||y===x&&wi===2||y.cancelPendingCommit!==null)return I!==null&&I!==null&&tv(I),y.callbackNode=null,y.callbackPriority=0;if((E&3)===0||C(y,E)){if(x=E&-E,x===y.callbackPriority)return x;switch(I!==null&&tv(I),Z(E)){case 2:case 8:E=pM;break;case 32:E=ey;break;case 268435456:E=ny;break;default:E=ey}return I=K.bind(null,y),E=$h(E,I),y.callbackPriority=x,y.callbackNode=E,x}return I!==null&&I!==null&&tv(I),y.callbackPriority=2,y.callbackNode=null,2}function K(y,x){var E=y.callbackNode;if(kr()&&y.callbackNode!==E)return null;var I=Un;return I=D(y,y===kn?I:0),I===0?null:(Bp(y,I,x),rt(y,na()),y.callbackNode!=null&&y.callbackNode===E?K.bind(null,y):null)}function bt(y,x){if(kr())return null;Bp(y,x,!0)}function Ft(y){pr?Xm(function(){($e&6)!==0?$h(tx,y):y()}):$h(tx,y)}function ee(){return hc===0&&(hc=z()),hc}function Gt(y,x){if(sv===null){var E=sv=[];ry=0,ao=ee(),dc={status:"pending",value:void 0,then:function(I){E.push(I)}}}return ry++,x.then(ke,ke),x}function ke(){if(--ry===0&&sv!==null){dc!==null&&(dc.status="fulfilled");var y=sv;sv=null,ao=0,dc=null;for(var x=0;x<y.length;x++)(0,y[x])()}}function pe(y,x){var E=[],I={status:"pending",value:null,reason:null,then:function(B){E.push(B)}};return y.then(function(){I.status="fulfilled",I.value=x;for(var B=0;B<E.length;B++)(0,E[B])(x)},function(B){for(I.status="rejected",I.reason=B,B=0;B<E.length;B++)(0,E[B])(void 0)}),I}function Pe(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Be(y,x){y=y.updateQueue,x.updateQueue===y&&(x.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,callbacks:null})}function ne(y){return{lane:y,tag:0,payload:null,callback:null,next:null}}function he(y,x,E){var I=y.updateQueue;if(I===null)return null;if(I=I.shared,($e&2)!==0){var B=I.pending;return B===null?x.next=x:(x.next=B.next,B.next=x),I.pending=x,x=jt(y),oe(y,null,E),x}return It(y,I,x,E),jt(y)}function Ve(y,x,E){if(x=x.updateQueue,x!==null&&(x=x.shared,(E&4194176)!==0)){var I=x.lanes;I&=y.pendingLanes,E|=I,x.lanes=E,W(y,E)}}function ot(y,x){var E=y.updateQueue,I=y.alternate;if(I!==null&&(I=I.updateQueue,E===I)){var B=null,k=null;if(E=E.firstBaseUpdate,E!==null){do{var tt={lane:E.lane,tag:E.tag,payload:E.payload,callback:null,next:null};k===null?B=k=tt:k=k.next=tt,E=E.next}while(E!==null);k===null?B=k=x:k=k.next=x}else B=k=x;E={baseState:I.baseState,firstBaseUpdate:B,lastBaseUpdate:k,shared:I.shared,callbacks:I.callbacks},y.updateQueue=E;return}y=E.lastBaseUpdate,y===null?E.firstBaseUpdate=x:y.next=x,E.lastBaseUpdate=x}function At(){if(rd){var y=dc;if(y!==null)throw y}}function de(y,x,E,I){rd=!1;var B=y.updateQueue;ru=!1;var k=B.firstBaseUpdate,tt=B.lastBaseUpdate,ut=B.shared.pending;if(ut!==null){B.shared.pending=null;var St=ut,qt=St.next;St.next=null,tt===null?k=qt:tt.next=qt,tt=St;var ve=y.alternate;ve!==null&&(ve=ve.updateQueue,ut=ve.lastBaseUpdate,ut!==tt&&(ut===null?ve.firstBaseUpdate=qt:ut.next=qt,ve.lastBaseUpdate=St))}if(k!==null){var Ae=B.baseState;tt=0,ve=qt=St=null,ut=k;do{var De=ut.lane&-536870913,Sn=De!==ut.lane;if(Sn?(Un&De)===De:(I&De)===De){De!==0&&De===ao&&(rd=!0),ve!==null&&(ve=ve.next={lane:0,tag:ut.tag,payload:ut.payload,callback:null,next:null});t:{var uo=y,fv=ut;De=x;var Of=E;switch(fv.tag){case 1:if(uo=fv.payload,typeof uo=="function"){Ae=uo.call(Of,Ae,De);break t}Ae=uo;break t;case 3:uo.flags=uo.flags&-65537|128;case 0:if(uo=fv.payload,De=typeof uo=="function"?uo.call(Of,Ae,De):uo,De==null)break t;Ae=Sf({},Ae,De);break t;case 2:ru=!0}}De=ut.callback,De!==null&&(y.flags|=64,Sn&&(y.flags|=8192),Sn=B.callbacks,Sn===null?B.callbacks=[De]:Sn.push(De))}else Sn={lane:De,tag:ut.tag,payload:ut.payload,callback:ut.callback,next:null},ve===null?(qt=ve=Sn,St=Ae):ve=ve.next=Sn,tt|=De;if(ut=ut.next,ut===null){if(ut=B.shared.pending,ut===null)break;Sn=ut,ut=Sn.next,Sn.next=null,B.lastBaseUpdate=Sn,B.shared.pending=null}}while(!0);ve===null&&(St=Ae),B.baseState=St,B.firstBaseUpdate=qt,B.lastBaseUpdate=ve,k===null&&(B.shared.lanes=0),Vo|=tt,y.lanes=tt,y.memoizedState=Ae}}function lt(y,x){if(typeof y!="function")throw Error(r(191,y));y.call(x)}function Jt(y,x){var E=y.callbacks;if(E!==null)for(y.callbacks=null,y=0;y<E.length;y++)lt(E[y],x)}function ce(y,x){if(Lo(y,x))return!0;if(typeof y!="object"||y===null||typeof x!="object"||x===null)return!1;var E=Object.keys(y),I=Object.keys(x);if(E.length!==I.length)return!1;for(I=0;I<E.length;I++){var B=E[I];if(!lv.call(x,B)||!Lo(y[B],x[B]))return!1}return!0}function Se(y){return y=y.status,y==="fulfilled"||y==="rejected"}function re(){}function Kt(y,x,E){switch(E=y[E],E===void 0?y.push(x):E!==x&&(x.then(re,re),x=E),x.status){case"fulfilled":return x.value;case"rejected":throw y=x.reason,y===_i?Error(r(483)):y;default:if(typeof x.status=="string")x.then(re,re);else{if(y=kn,y!==null&&100<y.shellSuspendCounter)throw Error(r(482));y=x,y.status="pending",y.then(function(I){if(x.status==="pending"){var B=x;B.status="fulfilled",B.value=I}},function(I){if(x.status==="pending"){var B=x;B.status="rejected",B.reason=I}})}switch(x.status){case"fulfilled":return x.value;case"rejected":throw y=x.reason,y===_i?Error(r(483)):y}throw Ef=x,_i}}function xe(){if(Ef===null)throw Error(r(459));var y=Ef;return Ef=null,y}function qe(y){var x=as;return as+=1,fl===null&&(fl=[]),Kt(fl,y,x)}function zn(y,x){x=x.props.ref,y.ref=x!==void 0?x:null}function Mn(y,x){throw x.$$typeof===SS?Error(r(525)):(y=Object.prototype.toString.call(x),Error(r(31,y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":y)))}function Yi(y){var x=y._init;return x(y._payload)}function Br(y){function x(Ot,yt){if(y){var Ut=Ot.deletions;Ut===null?(Ot.deletions=[yt],Ot.flags|=16):Ut.push(yt)}}function E(Ot,yt){if(!y)return null;for(;yt!==null;)x(Ot,yt),yt=yt.sibling;return null}function I(Ot){for(var yt=new Map;Ot!==null;)Ot.key!==null?yt.set(Ot.key,Ot):yt.set(Ot.index,Ot),Ot=Ot.sibling;return yt}function B(Ot,yt){return Ot=_a(Ot,yt),Ot.index=0,Ot.sibling=null,Ot}function k(Ot,yt,Ut){return Ot.index=Ut,y?(Ut=Ot.alternate,Ut!==null?(Ut=Ut.index,Ut<yt?(Ot.flags|=33554434,yt):Ut):(Ot.flags|=33554434,yt)):(Ot.flags|=1048576,yt)}function tt(Ot){return y&&Ot.alternate===null&&(Ot.flags|=33554434),Ot}function ut(Ot,yt,Ut,fe){return yt===null||yt.tag!==6?(yt=ic(Ut,Ot.mode,fe),yt.return=Ot,yt):(yt=B(yt,Ut),yt.return=Ot,yt)}function St(Ot,yt,Ut,fe){var je=Ut.type;return je===qh?ve(Ot,yt,Ut.props.children,fe,Ut.key):yt!==null&&(yt.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Ts&&Yi(je)===yt.type)?(yt=B(yt,Ut.props),zn(yt,Ut),yt.return=Ot,yt):(yt=es(Ut.type,Ut.key,Ut.props,null,Ot.mode,fe),zn(yt,Ut),yt.return=Ot,yt)}function qt(Ot,yt,Ut,fe){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==Ut.containerInfo||yt.stateNode.implementation!==Ut.implementation?(yt=Yh(Ut,Ot.mode,fe),yt.return=Ot,yt):(yt=B(yt,Ut.children||[]),yt.return=Ot,yt)}function ve(Ot,yt,Ut,fe,je){return yt===null||yt.tag!==7?(yt=Jl(Ut,Ot.mode,fe,je),yt.return=Ot,yt):(yt=B(yt,Ut),yt.return=Ot,yt)}function Ae(Ot,yt,Ut){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return yt=ic(""+yt,Ot.mode,Ut),yt.return=Ot,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case $l:return Ut=es(yt.type,yt.key,yt.props,null,Ot.mode,Ut),zn(Ut,yt),Ut.return=Ot,Ut;case bs:return yt=Yh(yt,Ot.mode,Ut),yt.return=Ot,yt;case Ts:var fe=yt._init;return yt=fe(yt._payload),Ae(Ot,yt,Ut)}if(sc(yt)||a(yt))return yt=Jl(yt,Ot.mode,Ut,null),yt.return=Ot,yt;if(typeof yt.then=="function")return Ae(Ot,qe(yt),Ut);if(yt.$$typeof===al)return Ae(Ot,Ip(Ot,yt),Ut);Mn(Ot,yt)}return null}function De(Ot,yt,Ut,fe){var je=yt!==null?yt.key:null;if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return je!==null?null:ut(Ot,yt,""+Ut,fe);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case $l:return Ut.key===je?St(Ot,yt,Ut,fe):null;case bs:return Ut.key===je?qt(Ot,yt,Ut,fe):null;case Ts:return je=Ut._init,Ut=je(Ut._payload),De(Ot,yt,Ut,fe)}if(sc(Ut)||a(Ut))return je!==null?null:ve(Ot,yt,Ut,fe,null);if(typeof Ut.then=="function")return De(Ot,yt,qe(Ut),fe);if(Ut.$$typeof===al)return De(Ot,yt,Ip(Ot,Ut),fe);Mn(Ot,Ut)}return null}function Sn(Ot,yt,Ut,fe,je){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Ot=Ot.get(Ut)||null,ut(yt,Ot,""+fe,je);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case $l:return Ot=Ot.get(fe.key===null?Ut:fe.key)||null,St(yt,Ot,fe,je);case bs:return Ot=Ot.get(fe.key===null?Ut:fe.key)||null,qt(yt,Ot,fe,je);case Ts:var Oi=fe._init;return fe=Oi(fe._payload),Sn(Ot,yt,Ut,fe,je)}if(sc(fe)||a(fe))return Ot=Ot.get(Ut)||null,ve(yt,Ot,fe,je,null);if(typeof fe.then=="function")return Sn(Ot,yt,Ut,qe(fe),je);if(fe.$$typeof===al)return Sn(Ot,yt,Ut,Ip(yt,fe),je);Mn(yt,fe)}return null}function uo(Ot,yt,Ut,fe){for(var je=null,Oi=null,dn=yt,ri=yt=0,Dr=null;dn!==null&&ri<Ut.length;ri++){dn.index>ri?(Dr=dn,dn=null):Dr=dn.sibling;var ai=De(Ot,dn,Ut[ri],fe);if(ai===null){dn===null&&(dn=Dr);break}y&&dn&&ai.alternate===null&&x(Ot,dn),yt=k(ai,yt,ri),Oi===null?je=ai:Oi.sibling=ai,Oi=ai,dn=Dr}if(ri===Ut.length)return E(Ot,dn),ni&&nt(Ot,ri),je;if(dn===null){for(;ri<Ut.length;ri++)dn=Ae(Ot,Ut[ri],fe),dn!==null&&(yt=k(dn,yt,ri),Oi===null?je=dn:Oi.sibling=dn,Oi=dn);return ni&&nt(Ot,ri),je}for(dn=I(dn);ri<Ut.length;ri++)Dr=Sn(dn,Ot,ri,Ut[ri],fe),Dr!==null&&(y&&Dr.alternate!==null&&dn.delete(Dr.key===null?ri:Dr.key),yt=k(Dr,yt,ri),Oi===null?je=Dr:Oi.sibling=Dr,Oi=Dr);return y&&dn.forEach(function(fu){return x(Ot,fu)}),ni&&nt(Ot,ri),je}function fv(Ot,yt,Ut,fe){if(Ut==null)throw Error(r(151));for(var je=null,Oi=null,dn=yt,ri=yt=0,Dr=null,ai=Ut.next();dn!==null&&!ai.done;ri++,ai=Ut.next()){dn.index>ri?(Dr=dn,dn=null):Dr=dn.sibling;var fu=De(Ot,dn,ai.value,fe);if(fu===null){dn===null&&(dn=Dr);break}y&&dn&&fu.alternate===null&&x(Ot,dn),yt=k(fu,yt,ri),Oi===null?je=fu:Oi.sibling=fu,Oi=fu,dn=Dr}if(ai.done)return E(Ot,dn),ni&&nt(Ot,ri),je;if(dn===null){for(;!ai.done;ri++,ai=Ut.next())ai=Ae(Ot,ai.value,fe),ai!==null&&(yt=k(ai,yt,ri),Oi===null?je=ai:Oi.sibling=ai,Oi=ai);return ni&&nt(Ot,ri),je}for(dn=I(dn);!ai.done;ri++,ai=Ut.next())ai=Sn(dn,Ot,ri,ai.value,fe),ai!==null&&(y&&ai.alternate!==null&&dn.delete(ai.key===null?ri:ai.key),yt=k(ai,yt,ri),Oi===null?je=ai:Oi.sibling=ai,Oi=ai);return y&&dn.forEach(function(dy){return x(Ot,dy)}),ni&&nt(Ot,ri),je}function Of(Ot,yt,Ut,fe){if(typeof Ut=="object"&&Ut!==null&&Ut.type===qh&&Ut.key===null&&(Ut=Ut.props.children),typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case $l:t:{for(var je=Ut.key;yt!==null;){if(yt.key===je){if(je=Ut.type,je===qh){if(yt.tag===7){E(Ot,yt.sibling),fe=B(yt,Ut.props.children),fe.return=Ot,Ot=fe;break t}}else if(yt.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Ts&&Yi(je)===yt.type){E(Ot,yt.sibling),fe=B(yt,Ut.props),zn(fe,Ut),fe.return=Ot,Ot=fe;break t}E(Ot,yt);break}else x(Ot,yt);yt=yt.sibling}Ut.type===qh?(fe=Jl(Ut.props.children,Ot.mode,fe,Ut.key),fe.return=Ot,Ot=fe):(fe=es(Ut.type,Ut.key,Ut.props,null,Ot.mode,fe),zn(fe,Ut),fe.return=Ot,Ot=fe)}return tt(Ot);case bs:t:{for(je=Ut.key;yt!==null;){if(yt.key===je)if(yt.tag===4&&yt.stateNode.containerInfo===Ut.containerInfo&&yt.stateNode.implementation===Ut.implementation){E(Ot,yt.sibling),fe=B(yt,Ut.children||[]),fe.return=Ot,Ot=fe;break t}else{E(Ot,yt);break}else x(Ot,yt);yt=yt.sibling}fe=Yh(Ut,Ot.mode,fe),fe.return=Ot,Ot=fe}return tt(Ot);case Ts:return je=Ut._init,Ut=je(Ut._payload),Of(Ot,yt,Ut,fe)}if(sc(Ut))return uo(Ot,yt,Ut,fe);if(a(Ut)){if(je=a(Ut),typeof je!="function")throw Error(r(150));return Ut=je.call(Ut),fv(Ot,yt,Ut,fe)}if(typeof Ut.then=="function")return Of(Ot,yt,qe(Ut),fe);if(Ut.$$typeof===al)return Of(Ot,yt,Ip(Ot,Ut),fe);Mn(Ot,Ut)}return typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint"?(Ut=""+Ut,yt!==null&&yt.tag===6?(E(Ot,yt.sibling),fe=B(yt,Ut),fe.return=Ot,Ot=fe):(E(Ot,yt),fe=ic(Ut,Ot.mode,fe),fe.return=Ot,Ot=fe),tt(Ot)):E(Ot,yt)}return function(Ot,yt,Ut,fe){try{as=0;var je=Of(Ot,yt,Ut,fe);return fl=null,je}catch(dn){if(dn===_i)throw dn;var Oi=e(29,dn,null,Ot.mode);return Oi.lanes=fe,Oi.return=Ot,Oi}finally{}}}function Dh(y,x){y=Es,T(zo,y),T(hl,x),Es=y|x.baseLanes}function ts(){T(zo,Es),T(hl,hl.current)}function Vu(){Es=zo.current,S(hl),S(zo)}function To(y){var x=y.alternate;T(vr,vr.current&1),T(Bo,y),os===null&&(x===null||hl.current!==null||x.memoizedState!==null)&&(os=y)}function af(y){if(y.tag===22){if(T(vr,vr.current),T(Bo,y),os===null){var x=y.alternate;x!==null&&x.memoizedState!==null&&(os=y)}}else Ja()}function Ja(){T(vr,vr.current),T(Bo,Bo.current)}function Mo(y){S(Bo),os===y&&(os=null),S(vr)}function pa(y){for(var x=y;x!==null;){if(x.tag===13){var E=x.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||jm(E)||Kp(E)))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===y)break;for(;x.sibling===null;){if(x.return===null||x.return===y)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}function In(){throw Error(r(321))}function wr(y,x){if(x===null)return!1;for(var E=0;E<x.length&&E<y.length;E++)if(!Lo(y[E],x[E]))return!1;return!0}function Ks(y,x,E,I,B,k){return dl=k,Cn=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,on.H=y===null||y.memoizedState===null?gr:ba,au=!1,k=E(I,B),au=!1,ki&&(k=hm(x,E,I,B)),Rh(y),k}function Rh(y){on.H=ii;var x=fi!==null&&fi.next!==null;if(dl=0,ir=fi=Cn=null,ss=!1,Ki=0,ad=null,x)throw Error(r(300));y===null||rr||(y=y.dependencies,y!==null&&Yu(y)&&(rr=!0))}function hm(y,x,E,I){Cn=y;var B=0;do{if(ki&&(ad=null),Ki=0,ki=!1,25<=B)throw Error(r(301));if(B+=1,ir=fi=null,y.updateQueue!=null){var k=y.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}on.H=vc,k=x(E,I)}while(ki);return k}function X_(){var y=on.H,x=y.useState()[0];return x=typeof x.then=="function"?zt(x):x,y=y.useState()[0],(fi!==null?fi.memoizedState:null)!==y&&(Cn.flags|=1024),x}function Lh(){var y=uv!==0;return uv=0,y}function Gl(y,x,E){x.updateQueue=y.updateQueue,x.flags&=-2053,y.lanes&=~E}function et(y){if(ss){for(y=y.memoizedState;y!==null;){var x=y.queue;x!==null&&(x.pending=null),y=y.next}ss=!1}dl=0,ir=fi=Cn=null,ki=!1,Ki=uv=0,ad=null}function gt(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Cn.memoizedState=ir=y:ir=ir.next=y,ir}function Tt(){if(fi===null){var y=Cn.alternate;y=y!==null?y.memoizedState:null}else y=fi.next;var x=ir===null?Cn.memoizedState:ir.next;if(x!==null)ir=x,fi=y;else{if(y===null)throw Cn.alternate===null?Error(r(467)):Error(r(310));fi=y,y={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},ir===null?Cn.memoizedState=ir=y:ir=ir.next=y}return ir}function zt(y){var x=Ki;return Ki+=1,ad===null&&(ad=[]),y=Kt(ad,y,x),x=Cn,(ir===null?x.memoizedState:ir.next)===null&&(x=x.alternate,on.H=x===null||x.memoizedState===null?gr:ba),y}function mt(y){if(y!==null&&typeof y=="object"){if(typeof y.then=="function")return zt(y);if(y.$$typeof===al)return Jr(y)}throw Error(r(438,String(y)))}function te(y){var x=null,E=Cn.updateQueue;if(E!==null&&(x=E.memoCache),x==null){var I=Cn.alternate;I!==null&&(I=I.updateQueue,I!==null&&(I=I.memoCache,I!=null&&(x={data:I.data.map(function(B){return B.slice()}),index:0})))}if(x==null&&(x={data:[],index:0}),E===null&&(E=oy(),Cn.updateQueue=E),E.memoCache=x,E=x.data[x.index],E===void 0)for(E=x.data[x.index]=Array(y),I=0;I<y;I++)E[I]=GT;return x.index++,E}function me(y,x){return typeof x=="function"?x(y):x}function ze(y){var x=Tt();return be(x,fi,y)}function be(y,x,E){var I=y.queue;if(I===null)throw Error(r(311));I.lastRenderedReducer=E;var B=y.baseQueue,k=I.pending;if(k!==null){if(B!==null){var tt=B.next;B.next=k.next,k.next=tt}x.baseQueue=B=k,I.pending=null}if(k=y.baseState,B===null)y.memoizedState=k;else{x=B.next;var ut=tt=null,St=null,qt=x,ve=!1;do{var Ae=qt.lane&-536870913;if(Ae!==qt.lane?(Un&Ae)===Ae:(dl&Ae)===Ae){var De=qt.revertLane;if(De===0)St!==null&&(St=St.next={lane:0,revertLane:0,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null}),Ae===ao&&(ve=!0);else if((dl&De)===De){qt=qt.next,De===ao&&(ve=!0);continue}else Ae={lane:0,revertLane:qt.revertLane,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null},St===null?(ut=St=Ae,tt=k):St=St.next=Ae,Cn.lanes|=De,Vo|=De;Ae=qt.action,au&&E(k,Ae),k=qt.hasEagerState?qt.eagerState:E(k,Ae)}else De={lane:Ae,revertLane:qt.revertLane,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null},St===null?(ut=St=De,tt=k):St=St.next=De,Cn.lanes|=Ae,Vo|=Ae;qt=qt.next}while(qt!==null&&qt!==x);if(St===null?tt=k:St.next=ut,!Lo(k,y.memoizedState)&&(rr=!0,ve&&(E=dc,E!==null)))throw E;y.memoizedState=k,y.baseState=tt,y.baseQueue=St,I.lastRenderedState=k}return B===null&&(I.lanes=0),[y.memoizedState,I.dispatch]}function Ze(y){var x=Tt(),E=x.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=y;var I=E.dispatch,B=E.pending,k=x.memoizedState;if(B!==null){E.pending=null;var tt=B=B.next;do k=y(k,tt.action),tt=tt.next;while(tt!==B);Lo(k,x.memoizedState)||(rr=!0),x.memoizedState=k,x.baseQueue===null&&(x.baseState=k),E.lastRenderedState=k}return[k,I]}function sn(y,x,E){var I=Cn,B=Tt(),k=ni;if(k){if(E===void 0)throw Error(r(407));E=E()}else E=x();var tt=!Lo((fi||B).memoizedState,E);if(tt&&(B.memoizedState=E,rr=!0),B=B.queue,bp(ui.bind(null,I,B,y),[y]),B.getSnapshot!==x||tt||ir!==null&&ir.memoizedState.tag&1){if(I.flags|=2048,Oa(9,Nn.bind(null,I,B,E,x),{destroy:void 0},null),kn===null)throw Error(r(349));k||(dl&60)!==0||Ke(I,x,E)}return E}function Ke(y,x,E){y.flags|=16384,y={getSnapshot:x,value:E},x=Cn.updateQueue,x===null?(x=oy(),Cn.updateQueue=x,x.stores=[y]):(E=x.stores,E===null?x.stores=[y]:E.push(y))}function Nn(y,x,E,I){x.value=E,x.getSnapshot=I,Mi(x)&&ci(y)}function ui(y,x,E){return E(function(){Mi(x)&&ci(y)})}function Mi(y){var x=y.getSnapshot;y=y.value;try{var E=x();return!Lo(y,E)}catch{return!0}}function ci(y){var x=Bt(y,2);x!==null&&ya(x,y,2)}function Bn(y){var x=gt();if(typeof y=="function"){var E=y;if(y=E(),au){j(!0);try{E()}finally{j(!1)}}}return x.memoizedState=x.baseState=y,x.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:me,lastRenderedState:y},x}function He(y,x,E,I){return y.baseState=E,be(y,fi,typeof I=="function"?I:me)}function Ii(y,x,E,I,B){if(cf(y))throw Error(r(485));if(y=x.action,y!==null){var k={payload:B,action:y,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(tt){k.listeners.push(tt)}};on.T!==null?E(!0):k.isTransition=!1,I(k),E=x.pending,E===null?(k.next=x.pending=k,Zn(x,k)):(k.next=E.next,x.pending=E.next=k)}}function Zn(y,x){var E=x.action,I=x.payload,B=y.state;if(x.isTransition){var k=on.T,tt={};on.T=tt;try{var ut=E(B,I),St=on.S;St!==null&&St(tt,ut),Ur(y,x,ut)}catch(qt){hr(y,x,qt)}finally{on.T=k}}else try{k=E(B,I),Ur(y,x,k)}catch(qt){hr(y,x,qt)}}function Ur(y,x,E){E!==null&&typeof E=="object"&&typeof E.then=="function"?E.then(function(I){Qs(y,x,I)},function(I){return hr(y,x,I)}):Qs(y,x,E)}function Qs(y,x,E){x.status="fulfilled",x.value=E,Hu(x),y.state=E,x=y.pending,x!==null&&(E=x.next,E===x?y.pending=null:(E=E.next,x.next=E,Zn(y,E)))}function hr(y,x,E){var I=y.pending;if(y.pending=null,I!==null){I=I.next;do x.status="rejected",x.reason=E,Hu(x),x=x.next;while(x!==I)}y.action=null}function Hu(y){y=y.listeners;for(var x=0;x<y.length;x++)(0,y[x])()}function Fn(y,x){return x}function Kr(y,x){if(ni){var E=kn.formState;if(E!==null){t:{var I=Cn;if(ni){if(ia){var B=KT(ia,rs);if(B){ia=FS(B),I=QT(B);break t}}Lt(I)}I=!1}I&&(x=E[0])}}E=gt(),E.memoizedState=E.baseState=x,I={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:x},E.queue=I,E=mm.bind(null,Cn,I),I.dispatch=E,I=Bn(!1);var k=ym.bind(null,Cn,!1,I.queue);return I=gt(),B={state:x,dispatch:null,action:y,pending:null},I.queue=B,E=Ii.bind(null,Cn,B,k,E),B.dispatch=E,I.memoizedState=y,[x,E,!1]}function va(y){var x=Tt();return dr(x,fi,y)}function dr(y,x,E){x=be(y,x,Fn)[0],y=ze(me)[0],x=typeof x=="object"&&x!==null&&typeof x.then=="function"?zt(x):x;var I=Tt(),B=I.queue,k=B.dispatch;return E!==I.memoizedState&&(Cn.flags|=2048,Oa(9,er.bind(null,B,E),{destroy:void 0},null)),[x,k,y]}function er(y,x){y.action=x}function of(y){var x=Tt(),E=fi;if(E!==null)return dr(x,E,y);Tt(),x=x.memoizedState,E=Tt();var I=E.queue.dispatch;return E.memoizedState=y,[x,I,!1]}function Oa(y,x,E,I){return y={tag:y,create:x,inst:E,deps:I,next:null},x=Cn.updateQueue,x===null&&(x=oy(),Cn.updateQueue=x),E=x.lastEffect,E===null?x.lastEffect=y.next=y:(I=E.next,E.next=y,y.next=I,x.lastEffect=y),y}function sf(){return Tt().memoizedState}function dm(y,x,E,I){var B=gt();Cn.flags|=y,B.memoizedState=Oa(1|x,E,{destroy:void 0},I===void 0?null:I)}function xp(y,x,E,I){var B=Tt();I=I===void 0?null:I;var k=B.memoizedState.inst;fi!==null&&I!==null&&wr(I,fi.memoizedState.deps)?B.memoizedState=Oa(x,E,k,I):(Cn.flags|=y,B.memoizedState=Oa(1|x,E,k,I))}function W_(y,x){dm(8390656,8,y,x)}function bp(y,x){xp(2048,8,y,x)}function yT(y,x){return xp(4,2,y,x)}function _T(y,x){return xp(4,4,y,x)}function Tp(y,x){if(typeof x=="function"){y=y();var E=x(y);return function(){typeof E=="function"?E():x(null)}}if(x!=null)return y=y(),x.current=y,function(){x.current=null}}function Js(y,x,E){E=E!=null?E.concat([y]):null,xp(4,4,Tp.bind(null,x,y),E)}function Mp(){}function pm(y,x){var E=Tt();x=x===void 0?null:x;var I=E.memoizedState;return x!==null&&wr(x,I[1])?I[0]:(E.memoizedState=[y,x],y)}function lf(y,x){var E=Tt();x=x===void 0?null:x;var I=E.memoizedState;if(x!==null&&wr(x,I[1]))return I[0];if(I=y(),au){j(!0);try{y()}finally{j(!1)}}return E.memoizedState=[I,x],I}function ku(y,x,E){return E===void 0||(dl&1073741824)!==0?y.memoizedState=x:(y.memoizedState=E,y=el(),Cn.lanes|=y,Vo|=y,E)}function Y_(y,x,E,I){return Lo(E,x)?E:hl.current!==null?(y=ku(y,E,I),Lo(y,x)||(rr=!0),y):(dl&42)===0?(rr=!0,y.memoizedState=E):(y=el(),Cn.lanes|=y,Vo|=y,x)}function vm(y,x,E,I,B){var k=Er();Sa(k!==0&&8>k?k:8);var tt=on.T,ut={};on.T=ut,ym(y,!1,x,E);try{var St=B(),qt=on.S;if(qt!==null&&qt(ut,St),St!==null&&typeof St=="object"&&typeof St.then=="function"){var ve=pe(St,I);Gu(y,x,ve,Ba(y))}else Gu(y,x,I,Ba(y))}catch(Ae){Gu(y,x,{then:function(){},status:"rejected",reason:Ae},Ba())}finally{Sa(k),on.T=tt}}function q_(y){var x=y.memoizedState;if(x!==null)return x;x={memoizedState:no,baseState:no,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:me,lastRenderedState:no},next:null};var E={};return x.next={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:me,lastRenderedState:E},next:null},y.memoizedState=x,y=y.alternate,y!==null&&(y.memoizedState=x),x}function uf(){return Jr(hn)}function $s(){return Tt().memoizedState}function gm(){return Tt().memoizedState}function Ap(y){for(var x=y.return;x!==null;){switch(x.tag){case 24:case 3:var E=Ba();y=ne(E);var I=he(x,y,E);I!==null&&(ya(I,x,E),Ve(I,x,E)),x={cache:Tm()},y.payload=x;return}x=x.return}}function Fu(y,x,E){var I=Ba();E={lane:I,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null},cf(y)?wp(x,E):(E=Nt(y,x,E,I),E!==null&&(ya(E,y,I),Z_(E,x,I)))}function mm(y,x,E){var I=Ba();Gu(y,x,E,I)}function Gu(y,x,E,I){var B={lane:I,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null};if(cf(y))wp(x,B);else{var k=y.alternate;if(y.lanes===0&&(k===null||k.lanes===0)&&(k=x.lastRenderedReducer,k!==null))try{var tt=x.lastRenderedState,ut=k(tt,E);if(B.hasEagerState=!0,B.eagerState=ut,Lo(ut,tt))return It(y,x,B,0),kn===null&&wt(),!1}catch{}finally{}if(E=Nt(y,x,B,I),E!==null)return ya(E,y,I),Z_(E,x,I),!0}return!1}function ym(y,x,E,I){if(I={lane:2,revertLane:ee(),action:I,hasEagerState:!1,eagerState:null,next:null},cf(y)){if(x)throw Error(r(479))}else x=Nt(y,E,I,2),x!==null&&ya(x,y,2)}function cf(y){var x=y.alternate;return y===Cn||x!==null&&x===Cn}function wp(y,x){ki=ss=!0;var E=y.pending;E===null?x.next=x:(x.next=E.next,E.next=x),y.pending=x}function Z_(y,x,E){if((E&4194176)!==0){var I=x.lanes;I&=y.pendingLanes,E|=I,x.lanes=E,W(y,E)}}function ga(y,x,E,I){x=y.memoizedState,E=E(I,x),E=E==null?x:Sf({},x,E),y.memoizedState=E,y.lanes===0&&(y.updateQueue.baseState=E)}function Xu(y,x,E,I,B,k,tt){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(I,k,tt):x.prototype&&x.prototype.isPureReactComponent?!ce(E,I)||!ce(B,k):!0}function Ep(y,x,E,I){y=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(E,I),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(E,I),x.state!==y&&sy.enqueueReplaceState(x,x.state,null)}function _s(y,x){var E=x;if("ref"in x){E={};for(var I in x)I!=="ref"&&(E[I]=x[I])}if(y=y.defaultProps){E===x&&(E=Sf({},E));for(var B in y)E[B]===void 0&&(E[B]=y[B])}return E}function _m(y,x){try{var E=y.onUncaughtError;E(x.value,{componentStack:x.stack})}catch(I){setTimeout(function(){throw I})}}function Sm(y,x,E){try{var I=y.onCaughtError;I(E.value,{componentStack:E.stack,errorBoundary:x.tag===1?x.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function Cp(y,x,E){return E=ne(E),E.tag=3,E.payload={element:null},E.callback=function(){_m(y,x)},E}function Ih(y){return y=ne(y),y.tag=3,y}function Dp(y,x,E,I){var B=E.type.getDerivedStateFromError;if(typeof B=="function"){var k=I.value;y.payload=function(){return B(k)},y.callback=function(){Sm(x,E,I)}}var tt=E.stateNode;tt!==null&&typeof tt.componentDidCatch=="function"&&(y.callback=function(){Sm(x,E,I),typeof B!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var ut=I.stack;this.componentDidCatch(I.value,{componentStack:ut!==null?ut:""})})}function ST(y,x,E,I,B){if(E.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){if(x=E.alternate,x!==null&&ff(x,E,B,!0),E=Bo.current,E!==null){switch(E.tag){case 13:return os===null?eo():E.alternate===null&&ti===0&&(ti=3),E.flags&=-257,E.flags|=65536,E.lanes=B,I===ay?E.flags|=16384:(x=E.updateQueue,x===null?E.updateQueue=new Set([I]):x.add(I),Bm(y,I,B)),!1;case 22:return E.flags|=65536,I===ay?E.flags|=16384:(x=E.updateQueue,x===null?(x={transitions:null,markerInstances:null,retryQueue:new Set([I])},E.updateQueue=x):(E=x.retryQueue,E===null?x.retryQueue=new Set([I]):E.add(I)),Bm(y,I,B)),!1}throw Error(r(435,E.tag))}return Bm(y,I,B),eo(),!1}if(ni)return x=Bo.current,x!==null?((x.flags&65536)===0&&(x.flags|=256),x.flags|=65536,x.lanes=B,I!==rv&&(y=Error(r(422),{cause:I}),at(Q(y,E)))):(I!==rv&&(x=Error(r(423),{cause:I}),at(Q(x,E))),y=y.current.alternate,y.flags|=65536,B&=-B,y.lanes|=B,I=Q(I,E),B=Cp(y.stateNode,I,B),ot(y,B),ti!==4&&(ti=2)),!1;var k=Error(r(520),{cause:I});if(k=Q(k,E),sd===null?sd=[k]:sd.push(k),ti!==4&&(ti=2),x===null)return!0;I=Q(I,E),E=x;do{switch(E.tag){case 3:return E.flags|=65536,y=B&-B,E.lanes|=y,y=Cp(E.stateNode,I,y),ot(E,y),!1;case 1:if(x=E.type,k=E.stateNode,(E.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ko===null||!ko.has(k))))return E.flags|=65536,B&=-B,E.lanes|=B,B=Ih(B),Dp(B,y,E,I),ot(E,B),!1}E=E.return}while(E!==null);return!1}function Qr(y,x,E,I){x.child=y===null?ix(x,null,E,I):pc(x,y.child,E,I)}function xT(y,x,E,I,B){E=E.render;var k=x.ref;if("ref"in I){var tt={};for(var ut in I)ut!=="ref"&&(tt[ut]=I[ut])}else tt=I;return hf(x),I=Ks(y,x,E,tt,k,B),ut=Lh(),y!==null&&!rr?(Gl(y,x,B),Xl(y,x,B)):(ni&&ut&&$(x),x.flags|=1,Qr(y,x,I,B),x.child)}function bT(y,x,E,I,B){if(y===null){var k=E.type;return typeof k=="function"&&!Kl(k)&&k.defaultProps===void 0&&E.compare===null?(x.tag=15,x.type=k,xm(y,x,k,I,B)):(y=es(E.type,null,I,x,x.mode,B),y.ref=x.ref,y.return=x,x.child=y)}if(k=y.child,!eS(y,B)){var tt=k.memoizedProps;if(E=E.compare,E=E!==null?E:ce,E(tt,I)&&y.ref===x.ref)return Xl(y,x,B)}return x.flags|=1,y=_a(k,I),y.ref=x.ref,y.return=x,x.child=y}function xm(y,x,E,I,B){if(y!==null){var k=y.memoizedProps;if(ce(k,I)&&y.ref===x.ref)if(rr=!1,x.pendingProps=I=k,eS(y,B))(y.flags&131072)!==0&&(rr=!0);else return x.lanes=y.lanes,Xl(y,x,B)}return j_(y,x,E,I,B)}function TT(y,x,E){var I=x.pendingProps,B=I.children,k=(x.stateNode._pendingVisibility&2)!==0,tt=y!==null?y.memoizedState:null;if(Rp(y,x),I.mode==="hidden"||k){if((x.flags&128)!==0){if(I=tt!==null?tt.baseLanes|E:E,y!==null){for(B=x.child=y.child,k=0;B!==null;)k=k|B.lanes|B.childLanes,B=B.sibling;x.childLanes=k&~I}else x.childLanes=0,x.child=null;return MT(y,x,I,E)}if((E&536870912)!==0)x.memoizedState={baseLanes:0,cachePool:null},y!==null&&Mm(x,tt!==null?tt.cachePool:null),tt!==null?Dh(x,tt):ts(),af(x);else return x.lanes=x.childLanes=536870912,MT(y,x,tt!==null?tt.baseLanes|E:E,E)}else tt!==null?(Mm(x,tt.cachePool),Dh(x,tt),Ja(),x.memoizedState=null):(y!==null&&Mm(x,null),ts(),Ja());return Qr(y,x,B,E),x.child}function MT(y,x,E,I){var B=qu();return B=B===null?null:{parent:sl?pi._currentValue:pi._currentValue2,pool:B},x.memoizedState={baseLanes:E,cachePool:B},y!==null&&Mm(x,null),ts(),af(x),y!==null&&ff(y,x,I,!0),null}function Rp(y,x){var E=x.ref;if(E===null)y!==null&&y.ref!==null&&(x.flags|=2097664);else{if(typeof E!="function"&&typeof E!="object")throw Error(r(284));(y===null||y.ref!==E)&&(x.flags|=2097664)}}function j_(y,x,E,I,B){return hf(x),E=Ks(y,x,E,I,void 0,B),I=Lh(),y!==null&&!rr?(Gl(y,x,B),Xl(y,x,B)):(ni&&I&&$(x),x.flags|=1,Qr(y,x,E,B),x.child)}function AT(y,x,E,I,B,k){return hf(x),x.updateQueue=null,E=hm(x,I,E,B),Rh(y),I=Lh(),y!==null&&!rr?(Gl(y,x,k),Xl(y,x,k)):(ni&&I&&$(x),x.flags|=1,Qr(y,x,E,k),x.child)}function K_(y,x,E,I,B){if(hf(x),x.stateNode===null){var k=Af,tt=E.contextType;typeof tt=="object"&&tt!==null&&(k=Jr(tt)),k=new E(I,k),x.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=sy,x.stateNode=k,k._reactInternals=x,k=x.stateNode,k.props=I,k.state=x.memoizedState,k.refs={},Pe(x),tt=E.contextType,k.context=typeof tt=="object"&&tt!==null?Jr(tt):Af,k.state=x.memoizedState,tt=E.getDerivedStateFromProps,typeof tt=="function"&&(ga(x,E,tt,I),k.state=x.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(tt=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),tt!==k.state&&sy.enqueueReplaceState(k,k.state,null),de(x,I,k,B),At(),k.state=x.memoizedState),typeof k.componentDidMount=="function"&&(x.flags|=4194308),I=!0}else if(y===null){k=x.stateNode;var ut=x.memoizedProps,St=_s(E,ut);k.props=St;var qt=k.context,ve=E.contextType;tt=Af,typeof ve=="object"&&ve!==null&&(tt=Jr(ve));var Ae=E.getDerivedStateFromProps;ve=typeof Ae=="function"||typeof k.getSnapshotBeforeUpdate=="function",ut=x.pendingProps!==ut,ve||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ut||qt!==tt)&&Ep(x,k,I,tt),ru=!1;var De=x.memoizedState;k.state=De,de(x,I,k,B),At(),qt=x.memoizedState,ut||De!==qt||ru?(typeof Ae=="function"&&(ga(x,E,Ae,I),qt=x.memoizedState),(St=ru||Xu(x,E,St,I,De,qt,tt))?(ve||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(x.flags|=4194308)):(typeof k.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=I,x.memoizedState=qt),k.props=I,k.state=qt,k.context=tt,I=St):(typeof k.componentDidMount=="function"&&(x.flags|=4194308),I=!1)}else{k=x.stateNode,Be(y,x),tt=x.memoizedProps,ve=_s(E,tt),k.props=ve,Ae=x.pendingProps,De=k.context,qt=E.contextType,St=Af,typeof qt=="object"&&qt!==null&&(St=Jr(qt)),ut=E.getDerivedStateFromProps,(qt=typeof ut=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(tt!==Ae||De!==St)&&Ep(x,k,I,St),ru=!1,De=x.memoizedState,k.state=De,de(x,I,k,B),At();var Sn=x.memoizedState;tt!==Ae||De!==Sn||ru||y!==null&&y.dependencies!==null&&Yu(y.dependencies)?(typeof ut=="function"&&(ga(x,E,ut,I),Sn=x.memoizedState),(ve=ru||Xu(x,E,ve,I,De,Sn,St)||y!==null&&y.dependencies!==null&&Yu(y.dependencies))?(qt||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(I,Sn,St),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(I,Sn,St)),typeof k.componentDidUpdate=="function"&&(x.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof k.componentDidUpdate!="function"||tt===y.memoizedProps&&De===y.memoizedState||(x.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||tt===y.memoizedProps&&De===y.memoizedState||(x.flags|=1024),x.memoizedProps=I,x.memoizedState=Sn),k.props=I,k.state=Sn,k.context=St,I=ve):(typeof k.componentDidUpdate!="function"||tt===y.memoizedProps&&De===y.memoizedState||(x.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||tt===y.memoizedProps&&De===y.memoizedState||(x.flags|=1024),I=!1)}return k=I,Rp(y,x),I=(x.flags&128)!==0,k||I?(k=x.stateNode,E=I&&typeof E.getDerivedStateFromError!="function"?null:k.render(),x.flags|=1,y!==null&&I?(x.child=pc(x,y.child,null,B),x.child=pc(x,null,E,B)):Qr(y,x,E,B),x.memoizedState=k.state,y=x.child):y=Xl(y,x,B),y}function wT(y,x,E,I){return ae(),x.flags|=256,Qr(y,x,E,I),x.child}function Q_(y){return{baseLanes:y,cachePool:LT()}}function J_(y,x,E){return y=y!==null?y.childLanes&~E:0,x&&(y|=lo),y}function ET(y,x,E){var I=x.pendingProps,B=!1,k=(x.flags&128)!==0,tt;if((tt=k)||(tt=y!==null&&y.memoizedState===null?!1:(vr.current&2)!==0),tt&&(B=!0,x.flags&=-129),tt=(x.flags&32)!==0,x.flags&=-33,y===null){if(ni){if(B?To(x):Ja(),ni){var ut=ia,St;(St=ut)&&(ut=nM(ut,rs),ut!==null?(x.memoizedState={dehydrated:ut,treeContext:Ms!==null?{id:cl,overflow:is}:null,retryLane:536870912},St=e(18,null,null,0),St.stateNode=ut,St.return=x,x.child=St,xa=x,ia=null,St=!0):St=!1),St||Lt(x)}if(ut=x.memoizedState,ut!==null&&(ut=ut.dehydrated,ut!==null))return Kp(ut)?x.lanes=16:x.lanes=536870912,null;Mo(x)}return ut=I.children,I=I.fallback,B?(Ja(),B=x.mode,ut=$_({mode:"hidden",children:ut},B),I=Jl(I,B,E,null),ut.return=x,I.return=x,ut.sibling=I,x.child=ut,B=x.child,B.memoizedState=Q_(E),B.childLanes=J_(y,tt,E),x.memoizedState=Ta,I):(To(x),Lp(x,ut))}if(St=y.memoizedState,St!==null&&(ut=St.dehydrated,ut!==null)){if(k)x.flags&256?(To(x),x.flags&=-257,x=tS(y,x,E)):x.memoizedState!==null?(Ja(),x.child=y.child,x.flags|=128,x=null):(Ja(),B=I.fallback,ut=x.mode,I=$_({mode:"visible",children:I.children},ut),B=Jl(B,ut,E,null),B.flags|=2,I.return=x,B.return=x,I.sibling=B,x.child=I,pc(x,y.child,null,E),I=x.child,I.memoizedState=Q_(E),I.childLanes=J_(y,tt,E),x.memoizedState=Ta,x=B);else if(To(x),Kp(ut))tt=jT(ut).digest,I=Error(r(419)),I.stack="",I.digest=tt,at({value:I,source:null,stack:null}),x=tS(y,x,E);else if(rr||ff(y,x,E,!1),tt=(E&y.childLanes)!==0,rr||tt){if(tt=kn,tt!==null){if(I=E&-E,(I&42)!==0)I=1;else switch(I){case 2:I=1;break;case 8:I=4;break;case 32:I=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:I=64;break;case 268435456:I=134217728;break;default:I=0}if(I=(I&(tt.suspendedLanes|E))!==0?0:I,I!==0&&I!==St.retryLane)throw St.retryLane=I,Bt(y,I),ya(tt,y,I),mM}jm(ut)||eo(),x=tS(y,x,E)}else jm(ut)?(x.flags|=128,x.child=y.child,x=yf.bind(null,y),XD(ut,x),x=null):(y=St.treeContext,Ua&&(ia=$T(ut),xa=x,ni=!0,Oo=null,rs=!1,y!==null&&(Io[No++]=cl,Io[No++]=is,Io[No++]=Ms,cl=y.id,is=y.overflow,Ms=x)),x=Lp(x,I.children),x.flags|=4096);return x}return B?(Ja(),B=I.fallback,ut=x.mode,St=y.child,k=St.sibling,I=_a(St,{mode:"hidden",children:I.children}),I.subtreeFlags=St.subtreeFlags&31457280,k!==null?B=_a(k,B):(B=Jl(B,ut,E,null),B.flags|=2),B.return=x,I.return=x,I.sibling=B,x.child=I,I=B,B=x.child,ut=y.child.memoizedState,ut===null?ut=Q_(E):(St=ut.cachePool,St!==null?(k=sl?pi._currentValue:pi._currentValue2,St=St.parent!==k?{parent:k,pool:k}:St):St=LT(),ut={baseLanes:ut.baseLanes|E,cachePool:St}),B.memoizedState=ut,B.childLanes=J_(y,tt,E),x.memoizedState=Ta,I):(To(x),E=y.child,y=E.sibling,E=_a(E,{mode:"visible",children:I.children}),E.return=x,E.sibling=null,y!==null&&(tt=x.deletions,tt===null?(x.deletions=[y],x.flags|=16):tt.push(y)),x.child=E,x.memoizedState=null,E)}function Lp(y,x){return x=$_({mode:"visible",children:x},y.mode),x.return=y,y.child=x}function $_(y,x){return Um(y,x,0,null)}function tS(y,x,E){return pc(x,y.child,null,E),y=Lp(x,x.pendingProps.children),y.flags|=2,x.memoizedState=null,y}function CT(y,x,E){y.lanes|=x;var I=y.alternate;I!==null&&(I.lanes|=x),nS(y.return,x,E)}function bm(y,x,E,I,B){var k=y.memoizedState;k===null?y.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:I,tail:E,tailMode:B}:(k.isBackwards=x,k.rendering=null,k.renderingStartTime=0,k.last=I,k.tail=E,k.tailMode=B)}function DT(y,x,E){var I=x.pendingProps,B=I.revealOrder,k=I.tail;if(Qr(y,x,I.children,E),I=vr.current,(I&2)!==0)I=I&1|2,x.flags|=128;else{if(y!==null&&(y.flags&128)!==0)t:for(y=x.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&CT(y,E,x);else if(y.tag===19)CT(y,E,x);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===x)break t;for(;y.sibling===null;){if(y.return===null||y.return===x)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}I&=1}switch(T(vr,I),B){case"forwards":for(E=x.child,B=null;E!==null;)y=E.alternate,y!==null&&pa(y)===null&&(B=E),E=E.sibling;E=B,E===null?(B=x.child,x.child=null):(B=E.sibling,E.sibling=null),bm(x,!1,B,E,k);break;case"backwards":for(E=null,B=x.child,x.child=null;B!==null;){if(y=B.alternate,y!==null&&pa(y)===null){x.child=B;break}y=B.sibling,B.sibling=E,E=B,B=y}bm(x,!0,E,null,k);break;case"together":bm(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function Xl(y,x,E){if(y!==null&&(x.dependencies=y.dependencies),Vo|=x.lanes,(E&x.childLanes)===0)if(y!==null){if(ff(y,x,E,!1),(E&x.childLanes)===0)return null}else return null;if(y!==null&&x.child!==y.child)throw Error(r(153));if(x.child!==null){for(y=x.child,E=_a(y,y.pendingProps),x.child=E,E.return=x;y.sibling!==null;)y=y.sibling,E=E.sibling=_a(y,y.pendingProps),E.return=x;E.sibling=null}return x.child}function eS(y,x){return(y.lanes&x)!==0?!0:(y=y.dependencies,!!(y!==null&&Yu(y)))}function kD(y,x,E){switch(x.tag){case 3:ft(x,x.stateNode.containerInfo),Wu(x,pi,y.memoizedState.cache),ae();break;case 27:case 5:dt(x);break;case 4:ft(x,x.stateNode.containerInfo);break;case 10:Wu(x,x.type,x.memoizedProps.value);break;case 13:var I=x.memoizedState;if(I!==null)return I.dehydrated!==null?(To(x),x.flags|=128,null):(E&x.child.childLanes)!==0?ET(y,x,E):(To(x),y=Xl(y,x,E),y!==null?y.sibling:null);To(x);break;case 19:var B=(y.flags&128)!==0;if(I=(E&x.childLanes)!==0,I||(ff(y,x,E,!1),I=(E&x.childLanes)!==0),B){if(I)return DT(y,x,E);x.flags|=128}if(B=x.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),T(vr,vr.current),I)break;return null;case 22:case 23:return x.lanes=0,TT(y,x,E);case 24:Wu(x,pi,y.memoizedState.cache)}return Xl(y,x,E)}function RT(y,x,E){if(y!==null)if(y.memoizedProps!==x.pendingProps)rr=!0;else{if(!eS(y,E)&&(x.flags&128)===0)return rr=!1,kD(y,x,E);rr=(y.flags&131072)!==0}else rr=!1,ni&&(x.flags&1048576)!==0&&q(x,nv,x.index);switch(x.lanes=0,x.tag){case 16:t:{y=x.pendingProps;var I=x.elementType,B=I._init;if(I=B(I._payload),x.type=I,typeof I=="function")Kl(I)?(y=_s(I,y),x.tag=1,x=K_(null,x,I,y,E)):(x.tag=0,x=j_(null,x,I,y,E));else{if(I!=null){if(B=I.$$typeof,B===Zh){x.tag=11,x=xT(null,x,I,y,E);break t}else if(B===Fp){x.tag=14,x=bT(null,x,I,y,E);break t}}throw x=o(I)||I,Error(r(306,x,""))}}return x;case 0:return j_(y,x,x.type,x.pendingProps,E);case 1:return I=x.type,B=_s(I,x.pendingProps),K_(y,x,I,B,E);case 3:t:{if(ft(x,x.stateNode.containerInfo),y===null)throw Error(r(387));var k=x.pendingProps;B=x.memoizedState,I=B.element,Be(y,x),de(x,k,null,E);var tt=x.memoizedState;if(k=tt.cache,Wu(x,pi,k),k!==B.cache&&iS(x,[pi],E,!0),At(),k=tt.element,Ua&&B.isDehydrated)if(B={element:k,isDehydrated:!1,cache:tt.cache},x.updateQueue.baseState=B,x.memoizedState=B,x.flags&256){x=wT(y,x,k,E);break t}else if(k!==I){I=Q(Error(r(424)),x),at(I),x=wT(y,x,k,E);break t}else for(Ua&&(ia=JT(x.stateNode.containerInfo),xa=x,ni=!0,Oo=null,rs=!0),E=ix(x,null,k,E),x.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(ae(),k===I){x=Xl(y,x,E);break t}Qr(y,x,k,E)}x=x.child}return x;case 26:if(Ro)return Rp(y,x),y===null?(E=ty(x.type,null,x.pendingProps,null))?x.memoizedState=E:ni||(x.stateNode=YD(x.type,x.pendingProps,As.current,x)):x.memoizedState=ty(x.type,y.memoizedProps,x.pendingProps,y.memoizedState),null;case 27:if(ea)return dt(x),y===null&&ea&&ni&&(I=x.stateNode=$S(x.type,x.pendingProps,As.current,Gr.current,!1),xa=x,rs=!0,ia=Km(I)),I=x.pendingProps.children,y!==null||ni?Qr(y,x,I,E):x.child=pc(x,null,I,E),Rp(y,x),x.child;case 5:return y===null&&ni&&(sM(x.type,x.pendingProps,Gr.current),(B=I=ia)&&(I=tM(I,x.type,x.pendingProps,rs),I!==null?(x.stateNode=I,xa=x,ia=Km(I),rs=!1,B=!0):B=!1),B||Lt(x)),dt(x),B=x.type,k=x.pendingProps,tt=y!==null?y.memoizedProps:null,I=k.children,uc(B,k)?I=null:tt!==null&&uc(B,tt)&&(x.flags|=32),x.memoizedState!==null&&(B=Ks(y,x,X_,null,null,E),sl?hn._currentValue=B:hn._currentValue2=B),Rp(y,x),Qr(y,x,I,E),x.child;case 6:return y===null&&ni&&(lM(x.pendingProps,Gr.current),(y=E=ia)&&(E=eM(E,x.pendingProps,rs),E!==null?(x.stateNode=E,xa=x,ia=null,y=!0):y=!1),y||Lt(x)),null;case 13:return ET(y,x,E);case 4:return ft(x,x.stateNode.containerInfo),I=x.pendingProps,y===null?x.child=pc(x,null,I,E):Qr(y,x,I,E),x.child;case 11:return xT(y,x,x.type,x.pendingProps,E);case 7:return Qr(y,x,x.pendingProps,E),x.child;case 8:return Qr(y,x,x.pendingProps.children,E),x.child;case 12:return Qr(y,x,x.pendingProps.children,E),x.child;case 10:return I=x.pendingProps,Wu(x,x.type,I.value),Qr(y,x,I.children,E),x.child;case 9:return B=x.type._context,I=x.pendingProps.children,hf(x),B=Jr(B),I=I(B),x.flags|=1,Qr(y,x,I,E),x.child;case 14:return bT(y,x,x.type,x.pendingProps,E);case 15:return xm(y,x,x.type,x.pendingProps,E);case 19:return DT(y,x,E);case 22:return TT(y,x,E);case 24:return hf(x),I=Jr(pi),y===null?(B=qu(),B===null&&(B=kn,k=Tm(),B.pooledCache=k,k.refCount++,k!==null&&(B.pooledCacheLanes|=E),B=k),x.memoizedState={parent:I,cache:B},Pe(x),Wu(x,pi,B)):((y.lanes&E)!==0&&(Be(y,x),de(x,null,null,E),At()),B=y.memoizedState,k=x.memoizedState,B.parent!==I?(B={parent:I,cache:I},x.memoizedState=B,x.lanes===0&&(x.memoizedState=x.updateQueue.baseState=B),Wu(x,pi,I)):(I=k.cache,Wu(x,pi,I),I!==B.cache&&iS(x,[pi],E,!0))),Qr(y,x,x.pendingProps.children,E),x.child;case 29:throw x.pendingProps}throw Error(r(156,x.tag))}function Wu(y,x,E){sl?(T(oo,x._currentValue),x._currentValue=E):(T(oo,x._currentValue2),x._currentValue2=E)}function Wl(y){var x=oo.current;sl?y._currentValue=x:y._currentValue2=x,S(oo)}function nS(y,x,E){for(;y!==null;){var I=y.alternate;if((y.childLanes&x)!==x?(y.childLanes|=x,I!==null&&(I.childLanes|=x)):I!==null&&(I.childLanes&x)!==x&&(I.childLanes|=x),y===E)break;y=y.return}}function iS(y,x,E,I){var B=y.child;for(B!==null&&(B.return=y);B!==null;){var k=B.dependencies;if(k!==null){var tt=B.child;k=k.firstContext;t:for(;k!==null;){var ut=k;k=B;for(var St=0;St<x.length;St++)if(ut.context===x[St]){k.lanes|=E,ut=k.alternate,ut!==null&&(ut.lanes|=E),nS(k.return,E,y),I||(tt=null);break t}k=ut.next}}else if(B.tag===18){if(tt=B.return,tt===null)throw Error(r(341));tt.lanes|=E,k=tt.alternate,k!==null&&(k.lanes|=E),nS(tt,E,y),tt=null}else tt=B.child;if(tt!==null)tt.return=B;else for(tt=B;tt!==null;){if(tt===y){tt=null;break}if(B=tt.sibling,B!==null){B.return=tt.return,tt=B;break}tt=tt.return}B=tt}}function ff(y,x,E,I){y=null;for(var B=x,k=!1;B!==null;){if(!k){if((B.flags&524288)!==0)k=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var tt=B.alternate;if(tt===null)throw Error(r(387));if(tt=tt.memoizedProps,tt!==null){var ut=B.type;Lo(B.pendingProps.value,tt.value)||(y!==null?y.push(ut):y=[ut])}}else if(B===ed.current){if(tt=B.alternate,tt===null)throw Error(r(387));tt.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(y!==null?y.push(hn):y=[hn])}B=B.return}y!==null&&iS(x,y,E,I),x.flags|=262144}function Yu(y){for(y=y.firstContext;y!==null;){var x=y.context;if(!Lo(sl?x._currentValue:x._currentValue2,y.memoizedValue))return!0;y=y.next}return!1}function hf(y){gc=y,Qi=null,y=y.dependencies,y!==null&&(y.firstContext=null)}function Jr(y){return rS(gc,y)}function Ip(y,x){return gc===null&&hf(y),rS(y,x)}function rS(y,x){var E=sl?x._currentValue:x._currentValue2;if(x={context:x,memoizedValue:E,next:null},Qi===null){if(y===null)throw Error(r(308));Qi=x,y.dependencies={lanes:0,firstContext:x},y.flags|=524288}else Qi=Qi.next=x;return E}function Tm(){return{controller:new yM,data:new Map,refCount:0}}function Nh(y){y.refCount--,y.refCount===0&&ou(Cf,function(){y.controller.abort()})}function qu(){var y=su.current;return y!==null?y:kn.pooledCache}function Mm(y,x){x===null?T(su,su.current):T(su,x.pool)}function LT(){var y=qu();return y===null?null:{parent:sl?pi._currentValue:pi._currentValue2,pool:y}}function Ao(y){y.flags|=4}function aS(y,x){if(y!==null&&y.child===x.child)return!1;if((x.flags&16)!==0)return!0;for(y=x.child;y!==null;){if((y.flags&13878)!==0||(y.subtreeFlags&13878)!==0)return!0;y=y.sibling}return!1}function Am(y,x,E,I){if(ta)for(E=x.child;E!==null;){if(E.tag===5||E.tag===6)ol(y,E.stateNode);else if(!(E.tag===4||ea&&E.tag===27)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===x)break;for(;E.sibling===null;){if(E.return===null||E.return===x)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else if(Co)for(var B=x.child;B!==null;){if(B.tag===5){var k=B.stateNode;E&&I&&(k=HS(k,B.type,B.memoizedProps)),ol(y,k)}else if(B.tag===6)k=B.stateNode,E&&I&&(k=kS(k,B.memoizedProps)),ol(y,k);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)k=B.child,k!==null&&(k.return=B),Am(y,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===x)break;for(;B.sibling===null;){if(B.return===null||B.return===x)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function Oh(y,x,E,I){if(Co)for(var B=x.child;B!==null;){if(B.tag===5){var k=B.stateNode;E&&I&&(k=HS(k,B.type,B.memoizedProps)),US(y,k)}else if(B.tag===6)k=B.stateNode,E&&I&&(k=kS(k,B.memoizedProps)),US(y,k);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)k=B.child,k!==null&&(k.return=B),Oh(y,B,!(B.memoizedProps!==null&&B.memoizedProps.mode==="manual"),!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===x)break;for(;B.sibling===null;){if(B.return===null||B.return===x)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function Ph(y,x){if(Co&&aS(y,x)){y=x.stateNode;var E=y.containerInfo,I=Zm();Oh(I,x,!1,!1),y.pendingChildren=I,Ao(x),ZT(E,I)}}function oS(y,x,E,I){if(ta)y.memoizedProps!==I&&Ao(x);else if(Co){var B=y.stateNode,k=y.memoizedProps;if((y=aS(y,x))||k!==I){var tt=Gr.current;k=BS(B,E,k,I,!y,null),k===B?x.stateNode=B:(tu(k,E,I,tt)&&Ao(x),x.stateNode=k,y?Am(k,x,!1,!1):Ao(x))}else x.stateNode=B}}function zh(y,x,E){if(WT(x,E)){if(y.flags|=16777216,!eu(x,E))if(Up())y.flags|=8192;else throw Ef=ay,nx}else y.flags&=-16777217}function sS(y,x){if(uM(x)){if(y.flags|=16777216,!QS(x))if(Up())y.flags|=8192;else throw Ef=ay,nx}else y.flags&=-16777217}function Np(y,x){x!==null&&(y.flags|=4),y.flags&16384&&(x=y.tag!==22?N():536870912,y.lanes|=x,uu|=x)}function df(y,x){if(!ni)switch(y.tailMode){case"hidden":x=y.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?y.tail=null:E.sibling=null;break;case"collapsed":E=y.tail;for(var I=null;E!==null;)E.alternate!==null&&(I=E),E=E.sibling;I===null?x||y.tail===null?y.tail=null:y.tail.sibling=null:I.sibling=null}}function Ui(y){var x=y.alternate!==null&&y.alternate.child===y.child,E=0,I=0;if(x)for(var B=y.child;B!==null;)E|=B.lanes|B.childLanes,I|=B.subtreeFlags&31457280,I|=B.flags&31457280,B.return=y,B=B.sibling;else for(B=y.child;B!==null;)E|=B.lanes|B.childLanes,I|=B.subtreeFlags,I|=B.flags,B.return=y,B=B.sibling;return y.subtreeFlags|=I,y.childLanes=E,x}function IT(y,x,E){var I=x.pendingProps;switch(st(x),x.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ui(x),null;case 1:return Ui(x),null;case 3:return E=x.stateNode,I=null,y!==null&&(I=y.memoizedState.cache),x.memoizedState.cache!==I&&(x.flags|=2048),Wl(pi),Mt(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(y===null||y.child===null)&&(Xt(x)?Ao(x):y===null||y.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,Oo!==null&&(ql(Oo),Oo=null))),Ph(y,x),Ui(x),null;case 26:if(Ro){E=x.type;var B=x.memoizedState;return y===null?(Ao(x),B!==null?(Ui(x),sS(x,B)):(Ui(x),zh(x,E,I))):B?B!==y.memoizedState?(Ao(x),Ui(x),sS(x,B)):(Ui(x),x.flags&=-16777217):(ta?y.memoizedProps!==I&&Ao(x):oS(y,x,E,I),Ui(x),zh(x,E,I)),null}case 27:if(ea){if(xt(x),E=As.current,B=x.type,y!==null&&x.stateNode!=null)ta?y.memoizedProps!==I&&Ao(x):oS(y,x,B,I);else{if(!I){if(x.stateNode===null)throw Error(r(166));return Ui(x),null}y=Gr.current,Xt(x)?Ct(x,y):(y=$S(B,I,E,y,!0),x.stateNode=y,Ao(x))}return Ui(x),null}case 5:if(xt(x),E=x.type,y!==null&&x.stateNode!=null)oS(y,x,E,I);else{if(!I){if(x.stateNode===null)throw Error(r(166));return Ui(x),null}y=Gr.current,Xt(x)?Ct(x,y):(B=wS(E,I,As.current,y,x),Am(B,x,!1,!1),x.stateNode=B,tu(B,E,I,y)&&Ao(x))}return Ui(x),zh(x,x.type,x.pendingProps),null;case 6:if(y&&x.stateNode!=null)E=y.memoizedProps,ta?E!==I&&Ao(x):Co&&(E!==I?(x.stateNode=Fm(I,As.current,Gr.current,x),Ao(x)):x.stateNode=y.stateNode);else{if(typeof I!="string"&&x.stateNode===null)throw Error(r(166));if(y=As.current,E=Gr.current,Xt(x)){if(!Ua)throw Error(r(176));if(y=x.stateNode,E=x.memoizedProps,I=null,B=xa,B!==null)switch(B.tag){case 27:case 5:I=B.memoizedProps}iM(y,E,x,I)||Lt(x)}else x.stateNode=Fm(I,y,E,x)}return Ui(x),null;case 13:if(I=x.memoizedState,y===null||y.memoizedState!==null&&y.memoizedState.dehydrated!==null){if(B=Xt(x),I!==null&&I.dehydrated!==null){if(y===null){if(!B)throw Error(r(318));if(!Ua)throw Error(r(344));if(B=x.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(r(317));Kh(B,x)}else ae(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;Ui(x),B=!1}else Oo!==null&&(ql(Oo),Oo=null),B=!0;if(!B)return x.flags&256?(Mo(x),x):(Mo(x),null)}if(Mo(x),(x.flags&128)!==0)return x.lanes=E,x;if(E=I!==null,y=y!==null&&y.memoizedState!==null,E){I=x.child,B=null,I.alternate!==null&&I.alternate.memoizedState!==null&&I.alternate.memoizedState.cachePool!==null&&(B=I.alternate.memoizedState.cachePool.pool);var k=null;I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(k=I.memoizedState.cachePool.pool),k!==B&&(I.flags|=2048)}return E!==y&&E&&(x.child.flags|=8192),Np(x,x.updateQueue),Ui(x),null;case 4:return Mt(),Ph(y,x),y===null&&DS(x.stateNode.containerInfo),Ui(x),null;case 10:return Wl(x.type),Ui(x),null;case 19:if(S(vr),B=x.memoizedState,B===null)return Ui(x),null;if(I=(x.flags&128)!==0,k=B.rendering,k===null)if(I)df(B,!1);else{if(ti!==0||y!==null&&(y.flags&128)!==0)for(y=x.child;y!==null;){if(k=pa(y),k!==null){for(x.flags|=128,df(B,!1),y=k.updateQueue,x.updateQueue=y,Np(x,y),x.subtreeFlags=0,y=E,E=x.child;E!==null;)Ql(E,y),E=E.sibling;return T(vr,vr.current&1|2),x.child}y=y.sibling}B.tail!==null&&na()>Wi&&(x.flags|=128,I=!0,df(B,!1),x.lanes=4194304)}else{if(!I)if(y=pa(k),y!==null){if(x.flags|=128,I=!0,y=y.updateQueue,x.updateQueue=y,Np(x,y),df(B,!0),B.tail===null&&B.tailMode==="hidden"&&!k.alternate&&!ni)return Ui(x),null}else 2*na()-B.renderingStartTime>Wi&&E!==536870912&&(x.flags|=128,I=!0,df(B,!1),x.lanes=4194304);B.isBackwards?(k.sibling=x.child,x.child=k):(y=B.last,y!==null?y.sibling=k:x.child=k,B.last=k)}return B.tail!==null?(x=B.tail,B.rendering=x,B.tail=x.sibling,B.renderingStartTime=na(),x.sibling=null,y=vr.current,T(vr,I?y&1|2:y&1),x):(Ui(x),null);case 22:case 23:return Mo(x),Vu(),I=x.memoizedState!==null,y!==null?y.memoizedState!==null!==I&&(x.flags|=8192):I&&(x.flags|=8192),I?(E&536870912)!==0&&(x.flags&128)===0&&(Ui(x),x.subtreeFlags&6&&(x.flags|=8192)):Ui(x),E=x.updateQueue,E!==null&&Np(x,E.retryQueue),E=null,y!==null&&y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(E=y.memoizedState.cachePool.pool),I=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(I=x.memoizedState.cachePool.pool),I!==E&&(x.flags|=2048),y!==null&&S(su),null;case 24:return E=null,y!==null&&(E=y.memoizedState.cache),x.memoizedState.cache!==E&&(x.flags|=2048),Wl(pi),Ui(x),null;case 25:return null}throw Error(r(156,x.tag))}function NT(y,x){switch(st(x),x.tag){case 1:return y=x.flags,y&65536?(x.flags=y&-65537|128,x):null;case 3:return Wl(pi),Mt(),y=x.flags,(y&65536)!==0&&(y&128)===0?(x.flags=y&-65537|128,x):null;case 26:case 27:case 5:return xt(x),null;case 13:if(Mo(x),y=x.memoizedState,y!==null&&y.dehydrated!==null){if(x.alternate===null)throw Error(r(340));ae()}return y=x.flags,y&65536?(x.flags=y&-65537|128,x):null;case 19:return S(vr),null;case 4:return Mt(),null;case 10:return Wl(x.type),null;case 22:case 23:return Mo(x),Vu(),y!==null&&S(su),y=x.flags,y&65536?(x.flags=y&-65537|128,x):null;case 24:return Wl(pi),null;case 25:return null;default:return null}}function lS(y,x){switch(st(x),x.tag){case 3:Wl(pi),Mt();break;case 26:case 27:case 5:xt(x);break;case 4:Mt();break;case 13:Mo(x);break;case 19:S(vr);break;case 10:Wl(x.type);break;case 22:case 23:Mo(x),Vu(),y!==null&&S(su);break;case 24:Wl(pi)}}function Op(y,x){try{var E=x.updateQueue,I=E!==null?E.lastEffect:null;if(I!==null){var B=I.next;E=B;do{if((E.tag&y)===y){I=void 0;var k=E.create,tt=E.inst;I=k(),tt.destroy=I}E=E.next}while(E!==B)}}catch(ut){Xn(x,x.return,ut)}}function Zu(y,x,E){try{var I=x.updateQueue,B=I!==null?I.lastEffect:null;if(B!==null){var k=B.next;I=k;do{if((I.tag&y)===y){var tt=I.inst,ut=tt.destroy;if(ut!==void 0){tt.destroy=void 0,B=x;var St=E;try{ut()}catch(qt){Xn(B,St,qt)}}}I=I.next}while(I!==k)}}catch(qt){Xn(x,x.return,qt)}}function OT(y){var x=y.updateQueue;if(x!==null){var E=y.stateNode;try{Jt(x,E)}catch(I){Xn(y,y.return,I)}}}function PT(y,x,E){E.props=_s(y.type,y.memoizedProps),E.state=y.memoizedState;try{E.componentWillUnmount()}catch(I){Xn(y,x,I)}}function pf(y,x){try{var E=y.ref;if(E!==null){var I=y.stateNode;switch(y.tag){case 26:case 27:case 5:var B=jh(I);break;default:B=I}typeof E=="function"?y.refCleanup=E(B):E.current=B}}catch(k){Xn(y,x,k)}}function Vi(y,x){var E=y.ref,I=y.refCleanup;if(E!==null)if(typeof I=="function")try{I()}catch(B){Xn(y,x,B)}finally{y.refCleanup=null,y=y.alternate,y!=null&&(y.refCleanup=null)}else if(typeof E=="function")try{E(null)}catch(B){Xn(y,x,B)}else E.current=null}function Bh(y){var x=y.type,E=y.memoizedProps,I=y.stateNode;try{GD(I,x,E,y)}catch(B){Xn(y,y.return,B)}}function uS(y,x,E){try{NS(y.stateNode,y.type,E,x,y)}catch(I){Xn(y,y.return,I)}}function cS(y){return y.tag===5||y.tag===3||(Ro?y.tag===26:!1)||(ea?y.tag===27:!1)||y.tag===4}function wm(y){t:for(;;){for(;y.sibling===null;){if(y.return===null||cS(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&(!ea||y.tag!==27)&&y.tag!==18;){if(y.flags&2||y.child===null||y.tag===4)continue t;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function Em(y,x,E){var I=y.tag;if(I===5||I===6)y=y.stateNode,x?PS(E,y,x):YT(E,y);else if(!(I===4||ea&&I===27)&&(y=y.child,y!==null))for(Em(y,x,E),y=y.sibling;y!==null;)Em(y,x,E),y=y.sibling}function Uh(y,x,E){var I=y.tag;if(I===5||I===6)y=y.stateNode,x?OS(E,y,x):IS(E,y);else if(!(I===4||ea&&I===27)&&(y=y.child,y!==null))for(Uh(y,x,E),y=y.sibling;y!==null;)Uh(y,x,E),y=y.sibling}function zT(y,x,E){y=y.containerInfo;try{VS(y,E)}catch(I){Xn(x,x.return,I)}}function Vh(y,x){for(lc(y.containerInfo),Ji=x;Ji!==null;)if(y=Ji,x=y.child,(y.subtreeFlags&1028)!==0&&x!==null)x.return=y,Ji=x;else for(;Ji!==null;){y=Ji;var E=y.alternate;switch(x=y.flags,y.tag){case 0:break;case 11:case 15:break;case 1:if((x&1024)!==0&&E!==null){x=void 0;var I=y,B=E.memoizedProps;E=E.memoizedState;var k=I.stateNode;try{var tt=_s(I.type,B,I.elementType===I.type);x=k.getSnapshotBeforeUpdate(tt,E),k.__reactInternalSnapshotBeforeUpdate=x}catch(ut){Xn(I,I.return,ut)}}break;case 3:(x&1024)!==0&&ta&&qm(y.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((x&1024)!==0)throw Error(r(163))}if(x=y.sibling,x!==null){x.return=y.return,Ji=x;break}Ji=y.return}return tt=Df,Df=!1,tt}function Cm(y,x,E){var I=E.flags;switch(E.tag){case 0:case 11:case 15:tl(y,E),I&4&&Op(5,E);break;case 1:if(tl(y,E),I&4)if(y=E.stateNode,x===null)try{y.componentDidMount()}catch(ut){Xn(E,E.return,ut)}else{var B=_s(E.type,x.memoizedProps);x=x.memoizedState;try{y.componentDidUpdate(B,x,y.__reactInternalSnapshotBeforeUpdate)}catch(ut){Xn(E,E.return,ut)}}I&64&&OT(E),I&512&&pf(E,E.return);break;case 3:if(tl(y,E),I&64&&(I=E.updateQueue,I!==null)){if(y=null,E.child!==null)switch(E.child.tag){case 27:case 5:y=jh(E.child.stateNode);break;case 1:y=E.child.stateNode}try{Jt(I,y)}catch(ut){Xn(E,E.return,ut)}}break;case 26:if(Ro){tl(y,E),I&512&&pf(E,E.return);break}case 27:case 5:tl(y,E),x===null&&I&4&&Bh(E),I&512&&pf(E,E.return);break;case 12:tl(y,E);break;case 13:tl(y,E),I&4&&ju(y,E);break;case 22:if(B=E.memoizedState!==null||Cr,!B){x=x!==null&&x.memoizedState!==null||Xi;var k=Cr,tt=Xi;Cr=B,(Xi=x)&&!tt?Qu(y,E,(E.subtreeFlags&8772)!==0):tl(y,E),Cr=k,Xi=tt}I&512&&(E.memoizedProps.mode==="manual"?pf(E,E.return):Vi(E,E.return));break;default:tl(y,E)}}function Hh(y){var x=y.alternate;x!==null&&(y.alternate=null,Hh(x)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(x=y.stateNode,x!==null&&RS(x)),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}function wo(y,x,E){for(E=E.child;E!==null;)Dm(y,x,E),E=E.sibling}function Dm(y,x,E){if(ro&&typeof ro.onCommitFiberUnmount=="function")try{ro.onCommitFiberUnmount(td,E)}catch{}switch(E.tag){case 26:if(Ro){Xi||Vi(E,x),wo(y,x,E),E.memoizedState?YS(E.memoizedState):E.stateNode&&jS(E.stateNode);break}case 27:if(ea){Xi||Vi(E,x);var I=ar,B=so;ar=E.stateNode,wo(y,x,E),cM(E.stateNode),ar=I,so=B;break}case 5:Xi||Vi(E,x);case 6:if(ta){if(I=ar,B=so,ar=null,wo(y,x,E),ar=I,so=B,ar!==null)if(so)try{nr(ar,E.stateNode)}catch(k){Xn(E,x,k)}else try{Va(ar,E.stateNode)}catch(k){Xn(E,x,k)}}else wo(y,x,E);break;case 18:ta&&ar!==null&&(so?GS(ar,E.stateNode):aM(ar,E.stateNode));break;case 4:ta?(I=ar,B=so,ar=E.stateNode.containerInfo,so=!0,wo(y,x,E),ar=I,so=B):(Co&&zT(E.stateNode,E,Zm()),wo(y,x,E));break;case 0:case 11:case 14:case 15:Xi||Zu(2,E,x),Xi||Zu(4,E,x),wo(y,x,E);break;case 1:Xi||(Vi(E,x),I=E.stateNode,typeof I.componentWillUnmount=="function"&&PT(E,x,I)),wo(y,x,E);break;case 21:wo(y,x,E);break;case 22:Xi||Vi(E,x),Xi=(I=Xi)||E.memoizedState!==null,wo(y,x,E),Xi=I;break;default:wo(y,x,E)}}function ju(y,x){if(Ua&&x.memoizedState===null&&(y=x.alternate,y!==null&&(y=y.memoizedState,y!==null&&(y=y.dehydrated,y!==null))))try{Jm(y)}catch(E){Xn(x,x.return,E)}}function kh(y){switch(y.tag){case 13:case 19:var x=y.stateNode;return x===null&&(x=y.stateNode=new od),x;case 22:return y=y.stateNode,x=y._retryCache,x===null&&(x=y._retryCache=new od),x;default:throw Error(r(435,y.tag))}}function Pp(y,x){var E=kh(y);x.forEach(function(I){var B=vS.bind(null,y,I);E.has(I)||(E.add(I),I.then(B,B))})}function Pa(y,x){var E=x.deletions;if(E!==null)for(var I=0;I<E.length;I++){var B=E[I],k=y,tt=x;if(ta){var ut=tt;t:for(;ut!==null;){switch(ut.tag){case 27:case 5:ar=ut.stateNode,so=!1;break t;case 3:ar=ut.stateNode.containerInfo,so=!0;break t;case 4:ar=ut.stateNode.containerInfo,so=!0;break t}ut=ut.return}if(ar===null)throw Error(r(160));Dm(k,tt,B),ar=null,so=!1}else Dm(k,tt,B);k=B.alternate,k!==null&&(k.return=null),B.return=null}if(x.subtreeFlags&13878)for(x=x.child;x!==null;)Ku(x,y),x=x.sibling}function Ku(y,x){var E=y.alternate,I=y.flags;switch(y.tag){case 0:case 11:case 14:case 15:Pa(x,y),$a(y),I&4&&(Zu(3,y,y.return),Op(3,y),Zu(5,y,y.return));break;case 1:Pa(x,y),$a(y),I&512&&(Xi||E===null||Vi(E,E.return)),I&64&&Cr&&(y=y.updateQueue,y!==null&&(I=y.callbacks,I!==null&&(E=y.shared.hiddenCallbacks,y.shared.hiddenCallbacks=E===null?I:E.concat(I))));break;case 26:if(Ro){var B=Ha;Pa(x,y),$a(y),I&512&&(Xi||E===null||Vi(E,E.return)),I&4&&(I=E!==null?E.memoizedState:null,x=y.memoizedState,E===null?x===null?y.stateNode===null?y.stateNode=qS(B,y.type,y.memoizedProps,y):ZS(B,y.type,y.stateNode):y.stateNode=WS(B,x,y.memoizedProps):I!==x?(I===null?E.stateNode!==null&&jS(E.stateNode):YS(I),x===null?ZS(B,y.type,y.stateNode):WS(B,x,y.memoizedProps)):x===null&&y.stateNode!==null&&uS(y,y.memoizedProps,E.memoizedProps));break}case 27:if(ea&&I&4&&y.alternate===null){B=y.stateNode;var k=y.memoizedProps;try{qD(B),ZD(y.type,k,B,y)}catch(ve){Xn(y,y.return,ve)}}case 5:if(Pa(x,y),$a(y),I&512&&(Xi||E===null||Vi(E,E.return)),ta){if(y.flags&32){x=y.stateNode;try{Zp(x)}catch(ve){Xn(y,y.return,ve)}}I&4&&y.stateNode!=null&&(x=y.memoizedProps,uS(y,x,E!==null?E.memoizedProps:x)),I&1024&&(mc=!0)}break;case 6:if(Pa(x,y),$a(y),I&4&&ta){if(y.stateNode===null)throw Error(r(162));I=y.memoizedProps,E=E!==null?E.memoizedProps:I,x=y.stateNode;try{qT(x,E,I)}catch(ve){Xn(y,y.return,ve)}}break;case 3:if(Ro?(KS(),B=Ha,Ha=$m(x.containerInfo),Pa(x,y),Ha=B):Pa(x,y),$a(y),I&4){if(ta&&Ua&&E!==null&&E.memoizedState.isDehydrated)try{Qm(x.containerInfo)}catch(ve){Xn(y,y.return,ve)}if(Co){I=x.containerInfo,E=x.pendingChildren;try{VS(I,E)}catch(ve){Xn(y,y.return,ve)}}}mc&&(mc=!1,fS(y));break;case 4:Ro?(E=Ha,Ha=$m(y.stateNode.containerInfo),Pa(x,y),$a(y),Ha=E):(Pa(x,y),$a(y)),I&4&&Co&&zT(y.stateNode,y,y.stateNode.pendingChildren);break;case 12:Pa(x,y),$a(y);break;case 13:Pa(x,y),$a(y),y.child.flags&8192&&y.memoizedState!==null!=(E!==null&&E.memoizedState!==null)&&(pl=na()),I&4&&(I=y.updateQueue,I!==null&&(y.updateQueue=null,Pp(y,I)));break;case 22:I&512&&(Xi||E===null||Vi(E,E.return)),B=y.memoizedState!==null;var tt=E!==null&&E.memoizedState!==null,ut=Cr,St=Xi;if(Cr=ut||B,Xi=St||tt,Pa(x,y),Xi=St,Cr=ut,$a(y),x=y.stateNode,x._current=y,x._visibility&=-3,x._visibility|=x._pendingVisibility&2,I&8192&&(x._visibility=B?x._visibility&-2:x._visibility|1,B&&(x=Cr||Xi,E===null||tt||x||Fh(y)),ta&&(y.memoizedProps===null||y.memoizedProps.mode!=="manual"))){t:if(E=null,ta)for(x=y;;){if(x.tag===5||Ro&&x.tag===26||ea&&x.tag===27){if(E===null){tt=E=x;try{k=tt.stateNode,B?jp(k):zS(tt.stateNode,tt.memoizedProps)}catch(ve){Xn(tt,tt.return,ve)}}}else if(x.tag===6){if(E===null){tt=x;try{var qt=tt.stateNode;B?Ym(qt):nu(qt,tt.memoizedProps)}catch(ve){Xn(tt,tt.return,ve)}}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===y)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===y)break t;for(;x.sibling===null;){if(x.return===null||x.return===y)break t;E===x&&(E=null),x=x.return}E===x&&(E=null),x.sibling.return=x.return,x=x.sibling}}I&4&&(I=y.updateQueue,I!==null&&(E=I.retryQueue,E!==null&&(I.retryQueue=null,Pp(y,E))));break;case 19:Pa(x,y),$a(y),I&4&&(I=y.updateQueue,I!==null&&(y.updateQueue=null,Pp(y,I)));break;case 21:break;default:Pa(x,y),$a(y)}}function $a(y){var x=y.flags;if(x&2){try{if(ta&&(!ea||y.tag!==27)){t:{for(var E=y.return;E!==null;){if(cS(E)){var I=E;break t}E=E.return}throw Error(r(160))}switch(I.tag){case 27:if(ea){var B=I.stateNode,k=wm(y);Uh(y,k,B);break}case 5:var tt=I.stateNode;I.flags&32&&(Zp(tt),I.flags&=-33);var ut=wm(y);Uh(y,ut,tt);break;case 3:case 4:var St=I.stateNode.containerInfo,qt=wm(y);Em(y,qt,St);break;default:throw Error(r(161))}}}catch(ve){Xn(y,y.return,ve)}y.flags&=-3}x&4096&&(y.flags&=-4097)}function fS(y){if(y.subtreeFlags&1024)for(y=y.child;y!==null;){var x=y;fS(x),x.tag===5&&x.flags&1024&&Ai(x.stateNode),y=y.sibling}}function tl(y,x){if(x.subtreeFlags&8772)for(x=x.child;x!==null;)Cm(y,x.alternate,x),x=x.sibling}function Fh(y){for(y=y.child;y!==null;){var x=y;switch(x.tag){case 0:case 11:case 14:case 15:Zu(4,x,x.return),Fh(x);break;case 1:Vi(x,x.return);var E=x.stateNode;typeof E.componentWillUnmount=="function"&&PT(x,x.return,E),Fh(x);break;case 26:case 27:case 5:Vi(x,x.return),Fh(x);break;case 22:Vi(x,x.return),x.memoizedState===null&&Fh(x);break;default:Fh(x)}y=y.sibling}}function Qu(y,x,E){for(E=E&&(x.subtreeFlags&8772)!==0,x=x.child;x!==null;){var I=x.alternate,B=y,k=x,tt=k.flags;switch(k.tag){case 0:case 11:case 15:Qu(B,k,E),Op(4,k);break;case 1:if(Qu(B,k,E),I=k,B=I.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(qt){Xn(I,I.return,qt)}if(I=k,B=I.updateQueue,B!==null){var ut=I.stateNode;try{var St=B.shared.hiddenCallbacks;if(St!==null)for(B.shared.hiddenCallbacks=null,B=0;B<St.length;B++)lt(St[B],ut)}catch(qt){Xn(I,I.return,qt)}}E&&tt&64&&OT(k),pf(k,k.return);break;case 26:case 27:case 5:Qu(B,k,E),E&&I===null&&tt&4&&Bh(k),pf(k,k.return);break;case 12:Qu(B,k,E);break;case 13:Qu(B,k,E),E&&tt&4&&ju(B,k);break;case 22:k.memoizedState===null&&Qu(B,k,E),pf(k,k.return);break;default:Qu(B,k,E)}x=x.sibling}}function hS(y,x){var E=null;y!==null&&y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(E=y.memoizedState.cachePool.pool),y=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(y=x.memoizedState.cachePool.pool),y!==E&&(y!=null&&y.refCount++,E!=null&&Nh(E))}function Rm(y,x){y=null,x.alternate!==null&&(y=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==y&&(x.refCount++,y!=null&&Nh(y))}function Yl(y,x,E,I){if(x.subtreeFlags&10256)for(x=x.child;x!==null;)Lm(y,x,E,I),x=x.sibling}function Lm(y,x,E,I){var B=x.flags;switch(x.tag){case 0:case 11:case 15:Yl(y,x,E,I),B&2048&&Op(9,x);break;case 3:Yl(y,x,E,I),B&2048&&(y=null,x.alternate!==null&&(y=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==y&&(x.refCount++,y!=null&&Nh(y)));break;case 12:if(B&2048){Yl(y,x,E,I),y=x.stateNode;try{var k=x.memoizedProps,tt=k.id,ut=k.onPostCommit;typeof ut=="function"&&ut(tt,x.alternate===null?"mount":"update",y.passiveEffectDuration,-0)}catch(St){Xn(x,x.return,St)}}else Yl(y,x,E,I);break;case 23:break;case 22:k=x.stateNode,x.memoizedState!==null?k._visibility&4?Yl(y,x,E,I):Ju(y,x):k._visibility&4?Yl(y,x,E,I):(k._visibility|=4,ma(y,x,E,I,(x.subtreeFlags&10256)!==0)),B&2048&&hS(x.alternate,x);break;case 24:Yl(y,x,E,I),B&2048&&Rm(x.alternate,x);break;default:Yl(y,x,E,I)}}function ma(y,x,E,I,B){for(B=B&&(x.subtreeFlags&10256)!==0,x=x.child;x!==null;){var k=y,tt=x,ut=E,St=I,qt=tt.flags;switch(tt.tag){case 0:case 11:case 15:ma(k,tt,ut,St,B),Op(8,tt);break;case 23:break;case 22:var ve=tt.stateNode;tt.memoizedState!==null?ve._visibility&4?ma(k,tt,ut,St,B):Ju(k,tt):(ve._visibility|=4,ma(k,tt,ut,St,B)),B&&qt&2048&&hS(tt.alternate,tt);break;case 24:ma(k,tt,ut,St,B),B&&qt&2048&&Rm(tt.alternate,tt);break;default:ma(k,tt,ut,St,B)}x=x.sibling}}function Ju(y,x){if(x.subtreeFlags&10256)for(x=x.child;x!==null;){var E=y,I=x,B=I.flags;switch(I.tag){case 22:Ju(E,I),B&2048&&hS(I.alternate,I);break;case 24:Ju(E,I),B&2048&&Rm(I.alternate,I);break;default:Ju(E,I)}x=x.sibling}}function Vr(y){if(y.subtreeFlags&Rf)for(y=y.child;y!==null;)vf(y),y=y.sibling}function vf(y){switch(y.tag){case 26:Vr(y),y.flags&Rf&&(y.memoizedState!==null?JS(Ha,y.memoizedState,y.memoizedProps):qi(y.type,y.memoizedProps));break;case 5:Vr(y),y.flags&Rf&&qi(y.type,y.memoizedProps);break;case 3:case 4:if(Ro){var x=Ha;Ha=$m(y.stateNode.containerInfo),Vr(y),Ha=x}else Vr(y);break;case 22:y.memoizedState===null&&(x=y.alternate,x!==null&&x.memoizedState!==null?(x=Rf,Rf=16777216,Vr(y),Rf=x):Vr(y));break;default:Vr(y)}}function Im(y){var x=y.alternate;if(x!==null&&(y=x.child,y!==null)){x.child=null;do x=y.sibling,y.sibling=null,y=x;while(y!==null)}}function $u(y){var x=y.deletions;if((y.flags&16)!==0){if(x!==null)for(var E=0;E<x.length;E++){var I=x[E];Ji=I,tc(I,y)}Im(y)}if(y.subtreeFlags&10256)for(y=y.child;y!==null;)zp(y),y=y.sibling}function zp(y){switch(y.tag){case 0:case 11:case 15:$u(y),y.flags&2048&&Zu(9,y,y.return);break;case 3:$u(y);break;case 12:$u(y);break;case 22:var x=y.stateNode;y.memoizedState!==null&&x._visibility&4&&(y.return===null||y.return.tag!==13)?(x._visibility&=-5,Gh(y)):$u(y);break;default:$u(y)}}function Gh(y){var x=y.deletions;if((y.flags&16)!==0){if(x!==null)for(var E=0;E<x.length;E++){var I=x[E];Ji=I,tc(I,y)}Im(y)}for(y=y.child;y!==null;){switch(x=y,x.tag){case 0:case 11:case 15:Zu(8,x,x.return),Gh(x);break;case 22:E=x.stateNode,E._visibility&4&&(E._visibility&=-5,Gh(x));break;default:Gh(x)}y=y.sibling}}function tc(y,x){for(;Ji!==null;){var E=Ji;switch(E.tag){case 0:case 11:case 15:Zu(8,E,x);break;case 23:case 22:if(E.memoizedState!==null&&E.memoizedState.cachePool!==null){var I=E.memoizedState.cachePool.pool;I!=null&&I.refCount++}break;case 24:Nh(E.memoizedState.cache)}if(I=E.child,I!==null)I.return=E,Ji=I;else t:for(E=y;Ji!==null;){I=Ji;var B=I.sibling,k=I.return;if(Hh(I),I===E){Ji=null;break t}if(B!==null){B.return=k,Ji=B;break t}Ji=k}}}function Nm(y){var x=CS(y);if(x!=null){if(typeof x.memoizedProps["data-testname"]!="string")throw Error(r(364));return x}if(y=Mf(y),y===null)throw Error(r(362));return y.stateNode.current}function Xh(y,x){var E=y.tag;switch(x.$$typeof){case cv:if(y.type===x.value)return!0;break;case cy:t:{for(x=x.value,y=[y,0],E=0;E<y.length;){var I=y[E++],B=I.tag,k=y[E++],tt=x[k];if(B!==5&&B!==26&&B!==27||!ul(I)){for(;tt!=null&&Xh(I,tt);)k++,tt=x[k];if(k===x.length){x=!0;break t}else for(I=I.child;I!==null;)y.push(I,k),I=I.sibling}}x=!1}return x;case fy:if((E===5||E===26||E===27)&&FD(y.stateNode,x.value))return!0;break;case vi:if((E===5||E===6||E===26||E===27)&&(y=qp(y),y!==null&&0<=y.indexOf(x.value)))return!0;break;case $n:if((E===5||E===26||E===27)&&(y=y.memoizedProps["data-testname"],typeof y=="string"&&y.toLowerCase()===x.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function ec(y){switch(y.$$typeof){case cv:return"<"+(o(y.value)||"Unknown")+">";case cy:return":has("+(ec(y)||"")+")";case fy:return'[role="'+y.value+'"]';case vi:return'"'+y.value+'"';case $n:return'[data-testname="'+y.value+'"]';default:throw Error(r(365))}}function BT(y,x){var E=[];y=[y,0];for(var I=0;I<y.length;){var B=y[I++],k=B.tag,tt=y[I++],ut=x[tt];if(k!==5&&k!==26&&k!==27||!ul(B)){for(;ut!=null&&Xh(B,ut);)tt++,ut=x[tt];if(tt===x.length)E.push(B);else for(B=B.child;B!==null;)y.push(B,tt),B=B.sibling}}return E}function za(y,x){if(!ll)throw Error(r(363));y=Nm(y),y=BT(y,x),x=[],y=Array.from(y);for(var E=0;E<y.length;){var I=y[E++],B=I.tag;if(B===5||B===26||B===27)ul(I)||x.push(I.stateNode);else for(I=I.child;I!==null;)y.push(I),I=I.sibling}return x}function Ba(){if(($e&2)!==0&&Un!==0)return Un&-Un;if(on.T!==null){var y=ao;return y!==0?y:ee()}return ns()}function el(){lo===0&&(lo=(Un&536870912)===0||ni?z():536870912);var y=Bo.current;return y!==null&&(y.flags|=32),lo}function ya(y,x,E){(y===kn&&wi===2||y.cancelPendingCommit!==null)&&(xs(y,0),Ss(y,Un,lo,!1)),U(y,E),(($e&2)===0||y!==kn)&&(y===kn&&(($e&2)===0&&(Cs|=E),ti===4&&Ss(y,Un,lo,!1)),ie(y))}function Bp(y,x,E){if(($e&6)!==0)throw Error(r(327));var I=!E&&(x&60)===0&&(x&y.expiredLanes)===0||C(y,x),B=I?rl(y,x):nl(y,x,!0),k=I;do{if(B===0){Uo&&!I&&Ss(y,x,0,!1);break}else if(B===6)Ss(y,x,0,!gi);else{if(E=y.current.alternate,k&&!UT(E)){B=nl(y,x,!1),k=!1;continue}if(B===2){if(k=x,y.errorRecoveryDisabledLanes&k)var tt=0;else tt=y.pendingLanes&-536870913,tt=tt!==0?tt:tt&536870912?536870912:0;if(tt!==0){x=tt;t:{var ut=y;B=sd;var St=Ua&&ut.current.memoizedState.isDehydrated;if(St&&(xs(ut,tt).flags|=256),tt=nl(ut,tt,!1),tt!==2){if(lu&&!St){ut.errorRecoveryDisabledLanes|=k,Cs|=k,B=4;break t}k=Ho,Ho=B,k!==null&&ql(k)}B=tt}if(k=!1,B!==2)continue}}if(B===1){xs(y,0),Ss(y,x,0,!0);break}t:{switch(I=y,B){case 0:case 1:throw Error(r(345));case 4:if((x&4194176)===x){Ss(I,x,lo,!gi);break t}break;case 2:Ho=null;break;case 3:case 5:break;default:throw Error(r(329))}if(I.finishedWork=E,I.finishedLanes=x,(x&62914560)===x&&(k=pl+300-na(),10<k)){if(Ss(I,x,lo,!gi),D(I,0)!==0)break t;I.timeoutHandle=ES(Om.bind(null,I,E,Ho,Ds,ld,x,lo,Cs,uu,gi,2,-0,0),k);break t}Om(I,E,Ho,Ds,ld,x,lo,Cs,uu,gi,0,-0,0)}}break}while(!0);ie(y)}function ql(y){Ho===null?Ho=y:Ho.push.apply(Ho,y)}function Om(y,x,E,I,B,k,tt,ut,St,qt,ve,Ae,De){var Sn=x.subtreeFlags;if((Sn&8192||(Sn&16785408)===16785408)&&(Do(),vf(x),x=Gm(),x!==null)){y.cancelPendingCommit=x(Ni.bind(null,y,E,I,B,tt,ut,St,1,Ae,De)),Ss(y,k,tt,!qt);return}Ni(y,E,I,B,tt,ut,St,ve,Ae,De)}function UT(y){for(var x=y;;){var E=x.tag;if((E===0||E===11||E===15)&&x.flags&16384&&(E=x.updateQueue,E!==null&&(E=E.stores,E!==null)))for(var I=0;I<E.length;I++){var B=E[I],k=B.getSnapshot;B=B.value;try{if(!Lo(k(),B))return!1}catch{return!1}}if(E=x.child,x.subtreeFlags&16384&&E!==null)E.return=x,x=E;else{if(x===y)break;for(;x.sibling===null;){if(x.return===null||x.return===y)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Ss(y,x,E,I){x&=~Ma,x&=~Cs,y.suspendedLanes|=x,y.pingedLanes&=~x,I&&(y.warmLanes|=x),I=y.expirationTimes;for(var B=x;0<B;){var k=31-io(B),tt=1<<k;I[k]=-1,B&=~tt}E!==0&&V(y,E,x)}function dS(){return($e&6)===0?(Xe(0),!1):!0}function to(){if(bn!==null){if(wi===0)var y=bn.return;else y=bn,Qi=gc=null,et(y),fl=null,as=0,y=bn;for(;y!==null;)lS(y.alternate,y),y=y.return;bn=null}}function xs(y,x){y.finishedWork=null,y.finishedLanes=0;var E=y.timeoutHandle;E!==Tf&&(y.timeoutHandle=Tf,Yp(E)),E=y.cancelPendingCommit,E!==null&&(y.cancelPendingCommit=null,E()),to(),kn=y,bn=E=_a(y.current,null),Un=x,wi=0,or=null,gi=!1,Uo=C(y,x),lu=!1,uu=lo=Ma=Cs=Vo=ti=0,Ho=sd=null,ld=!1,(x&8)!==0&&(x|=x&32);var I=y.entangledLanes;if(I!==0)for(y=y.entanglements,I&=x;0<I;){var B=31-io(I),k=1<<B;x|=y[B],I&=~k}return Es=x,wt(),E}function gf(y,x){Cn=null,on.H=ii,x===_i?(x=xe(),wi=3):x===nx?(x=xe(),wi=4):wi=x===mM?8:x!==null&&typeof x=="object"&&typeof x.then=="function"?6:1,or=x,bn===null&&(ti=1,_m(y,Q(x,y.current)))}function Up(){var y=Bo.current;return y===null?!0:(Un&4194176)===Un?os===null:(Un&62914560)===Un||(Un&536870912)!==0?y===os:!1}function Wh(){var y=on.H;return on.H=ii,y===null?ii:y}function Eo(){var y=on.A;return on.A=uy,y}function eo(){ti=4,gi||(Un&4194176)!==Un&&Bo.current!==null||(Uo=!0),(Vo&134217727)===0&&(Cs&134217727)===0||kn===null||Ss(kn,Un,lo,!1)}function nl(y,x,E){var I=$e;$e|=2;var B=Wh(),k=Eo();(kn!==y||Un!==x)&&(Ds=null,xs(y,x)),x=!1;var tt=ti;t:do try{if(wi!==0&&bn!==null){var ut=bn,St=or;switch(wi){case 8:to(),tt=6;break t;case 3:case 2:case 6:Bo.current===null&&(x=!0);var qt=wi;if(wi=0,or=null,nc(y,ut,St,qt),E&&Uo){tt=0;break t}break;default:qt=wi,wi=0,or=null,nc(y,ut,St,qt)}}il(),tt=ti;break}catch(ve){gf(y,ve)}while(!0);return x&&y.shellSuspendCounter++,Qi=gc=null,$e=I,on.H=B,on.A=k,bn===null&&(kn=null,Un=0,wt()),tt}function il(){for(;bn!==null;)pS(bn)}function rl(y,x){var E=$e;$e|=2;var I=Wh(),B=Eo();kn!==y||Un!==x?(Ds=null,Wi=na()+500,xs(y,x)):Uo=C(y,x);t:do try{if(wi!==0&&bn!==null){x=bn;var k=or;e:switch(wi){case 1:wi=0,or=null,nc(y,x,k,1);break;case 2:if(Se(k)){wi=0,or=null,Pm(x);break}x=function(){wi===2&&kn===y&&(wi=7),ie(y)},k.then(x,x);break t;case 3:wi=7;break t;case 4:wi=5;break t;case 7:Se(k)?(wi=0,or=null,Pm(x)):(wi=0,or=null,nc(y,x,k,7));break;case 5:var tt=null;switch(bn.tag){case 26:tt=bn.memoizedState;case 5:case 27:var ut=bn,St=ut.type,qt=ut.pendingProps;if(tt?QS(tt):eu(St,qt)){wi=0,or=null;var ve=ut.sibling;if(ve!==null)bn=ve;else{var Ae=ut.return;Ae!==null?(bn=Ae,Vp(Ae)):bn=null}break e}}wi=0,or=null,nc(y,x,k,5);break;case 6:wi=0,or=null,nc(y,x,k,6);break;case 8:to(),ti=6;break t;default:throw Error(r(462))}}Zl();break}catch(De){gf(y,De)}while(!0);return Qi=gc=null,on.H=I,on.A=B,$e=E,bn!==null?0:(kn=null,Un=0,wt(),ti)}function Zl(){for(;bn!==null&&!hM();)pS(bn)}function pS(y){var x=RT(y.alternate,y,Es);y.memoizedProps=y.pendingProps,x===null?Vp(y):bn=x}function Pm(y){var x=y,E=x.alternate;switch(x.tag){case 15:case 0:x=AT(E,x,x.pendingProps,x.type,void 0,Un);break;case 11:x=AT(E,x,x.pendingProps,x.type.render,x.ref,Un);break;case 5:et(x);default:lS(E,x),x=bn=Ql(x,Es),x=RT(E,x,Es)}y.memoizedProps=y.pendingProps,x===null?Vp(y):bn=x}function nc(y,x,E,I){Qi=gc=null,et(x),fl=null,as=0;var B=x.return;try{if(ST(y,B,x,E,Un)){ti=1,_m(y,Q(E,y.current)),bn=null;return}}catch(k){if(B!==null)throw bn=B,k;ti=1,_m(y,Q(E,y.current)),bn=null;return}x.flags&32768?(ni||I===1?y=!0:Uo||(Un&536870912)!==0?y=!1:(gi=y=!0,(I===2||I===3||I===6)&&(I=Bo.current,I!==null&&I.tag===13&&(I.flags|=16384))),Hr(x,y)):Vp(x)}function Vp(y){var x=y;do{if((x.flags&32768)!==0){Hr(x,gi);return}y=x.return;var E=IT(x.alternate,x,Es);if(E!==null){bn=E;return}if(x=x.sibling,x!==null){bn=x;return}bn=x=y}while(x!==null);ti===0&&(ti=5)}function Hr(y,x){do{var E=NT(y.alternate,y);if(E!==null){E.flags&=32767,bn=E;return}if(E=y.return,E!==null&&(E.flags|=32768,E.subtreeFlags=0,E.deletions=null),!x&&(y=y.sibling,y!==null)){bn=y;return}bn=y=E}while(y!==null);ti=6,bn=null}function Ni(y,x,E,I,B,k,tt,ut,St,qt){var ve=on.T,Ae=Er();try{Sa(2),on.T=null,jn(y,x,E,I,Ae,B,k,tt,ut,St,qt)}finally{on.T=ve,Sa(Ae)}}function jn(y,x,E,I,B,k,tt,ut){do kr();while(cu!==null);if(($e&6)!==0)throw Error(r(327));var St=y.finishedWork;if(I=y.finishedLanes,St===null)return null;if(y.finishedWork=null,y.finishedLanes=0,St===y.current)throw Error(r(177));y.callbackNode=null,y.callbackPriority=0,y.cancelPendingCommit=null;var qt=St.lanes|St.childLanes;if(qt|=nd,F(y,I,qt,k,tt,ut),y===kn&&(bn=kn=null,Un=0),(St.subtreeFlags&10256)===0&&(St.flags&10256)===0||ls||(ls=!0,hy=qt,If=E,Hp(ey,function(){return kr(),null})),E=(St.flags&15990)!==0,(St.subtreeFlags&15990)!==0||E?(E=on.T,on.T=null,k=Er(),Sa(2),tt=$e,$e|=4,Vh(y,St),Ku(St,y),AS(y.containerInfo),y.current=St,Cm(y,St.alternate,St),dM(),$e=tt,Sa(k),on.T=E):y.current=St,ls?(ls=!1,cu=y,Lf=I):jl(y,qt),qt=y.pendingLanes,qt===0&&(ko=null),H(St.stateNode),ie(y),x!==null)for(B=y.onRecoverableError,St=0;St<x.length;St++)qt=x[St],B(qt.value,{componentStack:qt.stack});return(Lf&3)!==0&&kr(),qt=y.pendingLanes,(I&4194218)!==0&&(qt&42)!==0?y===ka?Nf++:(Nf=0,ka=y):Nf=0,Xe(0),null}function jl(y,x){(y.pooledCacheLanes&=x)===0&&(x=y.pooledCache,x!=null&&(y.pooledCache=null,Nh(x)))}function kr(){if(cu!==null){var y=cu,x=hy;hy=0;var E=Z(Lf),I=32>E?32:E;E=on.T;var B=Er();try{if(Sa(I),on.T=null,cu===null)var k=!1;else{I=If,If=null;var tt=cu,ut=Lf;if(cu=null,Lf=0,($e&6)!==0)throw Error(r(331));var St=$e;if($e|=4,zp(tt.current),Lm(tt,tt.current,ut,I),$e=St,Xe(0,!1),ro&&typeof ro.onPostCommitFiberRoot=="function")try{ro.onPostCommitFiberRoot(td,tt)}catch{}k=!0}return k}finally{Sa(B),on.T=E,jl(y,x)}}return!1}function zm(y,x,E){x=Q(E,x),x=Cp(y.stateNode,x,2),y=he(y,x,2),y!==null&&(U(y,2),ie(y))}function Xn(y,x,E){if(y.tag===3)zm(y,y,E);else for(;x!==null;){if(x.tag===3){zm(x,y,E);break}else if(x.tag===1){var I=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(ko===null||!ko.has(I))){y=Q(E,y),E=Ih(2),I=he(x,E,2),I!==null&&(Dp(E,I,x,y),U(I,2),ie(I));break}}x=x.return}}function Bm(y,x,E){var I=y.pingCache;if(I===null){I=y.pingCache=new Wn;var B=new Set;I.set(x,B)}else B=I.get(x),B===void 0&&(B=new Set,I.set(x,B));B.has(E)||(lu=!0,B.add(E),y=VT.bind(null,y,x,E),x.then(y,y))}function VT(y,x,E){var I=y.pingCache;I!==null&&I.delete(x),y.pingedLanes|=y.suspendedLanes&E,y.warmLanes&=~E,kn===y&&(Un&E)===E&&(ti===4||ti===3&&(Un&62914560)===Un&&300>na()-pl?($e&2)===0&&xs(y,0):Ma|=E,uu===Un&&(uu=0)),ie(y)}function mf(y,x){x===0&&(x=N()),y=Bt(y,x),y!==null&&(U(y,x),ie(y))}function yf(y){var x=y.memoizedState,E=0;x!==null&&(E=x.retryLane),mf(y,E)}function vS(y,x){var E=0;switch(y.tag){case 13:var I=y.stateNode,B=y.memoizedState;B!==null&&(E=B.retryLane);break;case 19:I=y.stateNode;break;case 22:I=y.stateNode._retryCache;break;default:throw Error(r(314))}I!==null&&I.delete(x),mf(y,E)}function Hp(y,x){return $h(y,x)}function gS(y,x,E,I){this.tag=y,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kl(y){return y=y.prototype,!(!y||!y.isReactComponent)}function _a(y,x){var E=y.alternate;return E===null?(E=e(y.tag,x,y.key,y.mode),E.elementType=y.elementType,E.type=y.type,E.stateNode=y.stateNode,E.alternate=y,y.alternate=E):(E.pendingProps=x,E.type=y.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=y.flags&31457280,E.childLanes=y.childLanes,E.lanes=y.lanes,E.child=y.child,E.memoizedProps=y.memoizedProps,E.memoizedState=y.memoizedState,E.updateQueue=y.updateQueue,x=y.dependencies,E.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},E.sibling=y.sibling,E.index=y.index,E.ref=y.ref,E.refCleanup=y.refCleanup,E}function Ql(y,x){y.flags&=31457282;var E=y.alternate;return E===null?(y.childLanes=0,y.lanes=x,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,x=E.dependencies,y.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),y}function es(y,x,E,I,B,k){var tt=0;if(I=y,typeof y=="function")Kl(y)&&(tt=1);else if(typeof y=="string")tt=Ro&&ea?XS(y,E,Gr.current)?26:Qh(y)?27:5:Ro?XS(y,E,Gr.current)?26:5:ea&&Qh(y)?27:5;else t:switch(y){case qh:return Jl(E.children,B,k,x);case xS:tt=8,B|=24;break;case bS:return y=e(12,E,x,B|2),y.elementType=bS,y.lanes=k,y;case Vm:return y=e(13,E,x,B),y.elementType=Vm,y.lanes=k,y;case ac:return y=e(19,E,x,B),y.elementType=ac,y.lanes=k,y;case Gp:return Um(E,B,k,x);default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case FT:case al:tt=10;break t;case rc:tt=9;break t;case Zh:tt=11;break t;case Fp:tt=14;break t;case Ts:tt=16,I=null;break t}tt=29,E=Error(r(130,y===null?"null":typeof y,"")),I=null}return x=e(tt,E,x,B),x.elementType=y,x.type=I,x.lanes=k,x}function Jl(y,x,E,I){return y=e(7,y,I,x),y.lanes=E,y}function Um(y,x,E,I){y=e(22,y,I,x),y.elementType=Gp,y.lanes=E;var B={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var k=B._current;if(k===null)throw Error(r(456));if((B._pendingVisibility&2)===0){var tt=Bt(k,2);tt!==null&&(B._pendingVisibility|=2,ya(tt,k,2))}},attach:function(){var k=B._current;if(k===null)throw Error(r(456));if((B._pendingVisibility&2)!==0){var tt=Bt(k,2);tt!==null&&(B._pendingVisibility&=-3,ya(tt,k,2))}}};return y.stateNode=B,y}function ic(y,x,E){return y=e(6,y,null,x),y.lanes=E,y}function Yh(y,x,E){return x=e(4,y.children!==null?y.children:[],y.key,x),x.lanes=E,x.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},x}function _f(y,x,E,I,B,k,tt,ut){this.tag=1,this.containerInfo=y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Tf,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=I,this.onUncaughtError=B,this.onCaughtError=k,this.onRecoverableError=tt,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ut,this.incompleteTransitions=new Map}function Fr(y,x,E,I,B,k,tt,ut,St,qt,ve,Ae){return y=new _f(y,x,E,tt,ut,St,qt,Ae),x=1,k===!0&&(x|=24),k=e(3,null,null,x),y.current=k,k.stateNode=y,x=Tm(),x.refCount++,y.pooledCache=x,x.refCount++,k.memoizedState={element:I,isDehydrated:E,cache:x},Pe(k),y}function kp(y){return y?(y=Af,y):Af}function mS(y){var x=y._reactInternals;if(x===void 0)throw typeof y.render=="function"?Error(r(188)):(y=Object.keys(y).join(","),Error(r(268,y)));return y=p(x),y=y!==null?g(y):null,y===null?null:jh(y.stateNode)}function HT(y,x,E,I,B,k){B=kp(B),I.context===null?I.context=B:I.pendingContext=B,I=ne(x),I.payload={element:E},k=k===void 0?null:k,k!==null&&(I.callback=k),E=he(y,I,x),E!==null&&(ya(E,y,x),Ve(E,y,x))}function kT(y,x){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var E=y.retryLane;y.retryLane=E!==0&&E<x?E:x}}function yS(y,x){kT(y,x),(y=y.alternate)&&kT(y,x)}var Je={},_S=v_(),$r=rY(),Sf=Object.assign,SS=Symbol.for("react.element"),$l=Symbol.for("react.transitional.element"),bs=Symbol.for("react.portal"),qh=Symbol.for("react.fragment"),xS=Symbol.for("react.strict_mode"),bS=Symbol.for("react.profiler"),FT=Symbol.for("react.provider"),rc=Symbol.for("react.consumer"),al=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),Vm=Symbol.for("react.suspense"),ac=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),Gp=Symbol.for("react.offscreen"),GT=Symbol.for("react.memo_cache_sentinel"),TS=Symbol.iterator,xf=Symbol.for("react.client.reference"),on=_S.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Hm,MS,oc=!1,sc=Array.isArray,km=t.rendererVersion,Xp=t.rendererPackageName,Wp=t.extraDevToolsConfig,jh=t.getPublicInstance,bf=t.getRootHostContext,XT=t.getChildHostContext,lc=t.prepareForCommit,AS=t.resetAfterCommit,wS=t.createInstance,ol=t.appendInitialChild,tu=t.finalizeInitialChildren,uc=t.shouldSetTextContent,Fm=t.createTextInstance,ES=t.scheduleTimeout,Yp=t.cancelTimeout,Tf=t.noTimeout,sl=t.isPrimaryRenderer;t.warnsIfNotActing;var ta=t.supportsMutation,Co=t.supportsPersistence,Ua=t.supportsHydration,CS=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var DS=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var Sa=t.setCurrentUpdatePriority,Er=t.getCurrentUpdatePriority,ns=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var cc=t.shouldAttemptEagerTransition,RS=t.detachDeletedInstance;t.requestPostPaintCallback;var WT=t.maySuspendCommit,eu=t.preloadInstance,Do=t.startSuspendingCommit,qi=t.suspendInstance,Gm=t.waitForCommitToBeReady,no=t.NotPendingTransition,hn=t.HostTransitionContext,Ai=t.resetFormInstance;t.bindToConsole;var pr=t.supportsMicrotasks,Xm=t.scheduleMicrotask,ll=t.supportsTestSelectors,Mf=t.findFiberRoot,Wm=t.getBoundingRect,qp=t.getTextContent,ul=t.isHiddenSubtree,FD=t.matchAccessibilityRole,Zi=t.setFocusIfFocusable,LS=t.setupIntersectionObserver,IS=t.appendChild,YT=t.appendChildToContainer,qT=t.commitTextUpdate,GD=t.commitMount,NS=t.commitUpdate,OS=t.insertBefore,PS=t.insertInContainerBefore,Va=t.removeChild,nr=t.removeChildFromContainer,Zp=t.resetTextContent,jp=t.hideInstance,Ym=t.hideTextInstance,zS=t.unhideInstance,nu=t.unhideTextInstance,qm=t.clearContainer,BS=t.cloneInstance,Zm=t.createContainerChildSet,US=t.appendChildToContainerChildSet,ZT=t.finalizeContainerChildren,VS=t.replaceContainerChildren,HS=t.cloneHiddenInstance,kS=t.cloneHiddenTextInstance,jm=t.isSuspenseInstancePending,Kp=t.isSuspenseInstanceFallback,jT=t.getSuspenseInstanceFallbackErrorDetails,XD=t.registerSuspenseInstanceRetry,KT=t.canHydrateFormStateMarker,QT=t.isFormStateMarkerMatching,FS=t.getNextHydratableSibling,Km=t.getFirstHydratableChild,JT=t.getFirstHydratableChildWithinContainer,$T=t.getFirstHydratableChildWithinSuspenseInstance,tM=t.canHydrateInstance,eM=t.canHydrateTextInstance,nM=t.canHydrateSuspenseInstance,WD=t.hydrateInstance,iM=t.hydrateTextInstance,Kh=t.hydrateSuspenseInstance,rM=t.getNextHydratableInstanceAfterSuspenseInstance,Qm=t.commitHydratedContainer,Jm=t.commitHydratedSuspenseInstance,aM=t.clearSuspenseBoundary,GS=t.clearSuspenseBoundaryFromContainer,oM=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var sM=t.validateHydratableInstance,lM=t.validateHydratableTextInstance,Ro=t.supportsResources,XS=t.isHostHoistableType,$m=t.getHoistableRoot,ty=t.getResource,WS=t.acquireResource,YS=t.releaseResource,qS=t.hydrateHoistable,ZS=t.mountHoistable,jS=t.unmountHoistable,YD=t.createHoistableInstance,KS=t.prepareToCommitHoistables,uM=t.mayResourceSuspendCommit,QS=t.preloadResource,JS=t.suspendResource,ea=t.supportsSingletons,$S=t.resolveSingletonInstance,qD=t.clearSingleton,ZD=t.acquireSingletonInstance,cM=t.releaseSingletonInstance,Qh=t.isHostSingletonType,Qp=[],iu=-1,Af={},io=Math.clz32?Math.clz32:M,Jp=Math.log,fM=Math.LN2,Jh=128,$p=4194304,$h=$r.unstable_scheduleCallback,tv=$r.unstable_cancelCallback,hM=$r.unstable_shouldYield,dM=$r.unstable_requestPaint,na=$r.unstable_now,tx=$r.unstable_ImmediatePriority,pM=$r.unstable_UserBlockingPriority,ey=$r.unstable_NormalPriority,ny=$r.unstable_IdlePriority,vM=$r.log,ex=$r.unstable_setDisableYieldValue,td=null,ro=null,Lo=typeof Object.is=="function"?Object.is:Y,iy=new WeakMap,Hi=[],ji=0,ev=null,nv=0,Io=[],No=0,Ms=null,cl=1,is="",Gr=_(null),iv=_(null),As=_(null),ed=_(null),xa=null,ia=null,ni=!1,Oo=null,rs=!1,rv=Error(r(519)),Po=[],fc=0,nd=0,id=null,wf=null,av=!1,ov=!1,ws=!1,hc=0,sv=null,ry=0,ao=0,dc=null,ru=!1,rd=!1,lv=Object.prototype.hasOwnProperty,_i=Error(r(460)),nx=Error(r(474)),ay={then:function(){}},Ef=null,fl=null,as=0,pc=Br(!0),ix=Br(!1),hl=_(null),zo=_(0),Bo=_(null),os=null,vr=_(0),dl=0,Cn=null,fi=null,ir=null,ss=!1,ki=!1,au=!1,uv=0,Ki=0,ad=null,gM=0,oy=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},ii={readContext:Jr,use:mt,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useInsertionEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useSyncExternalStore:In,useId:In};ii.useCacheRefresh=In,ii.useMemoCache=In,ii.useHostTransitionStatus=In,ii.useFormState=In,ii.useActionState=In,ii.useOptimistic=In;var gr={readContext:Jr,use:mt,useCallback:function(y,x){return gt().memoizedState=[y,x===void 0?null:x],y},useContext:Jr,useEffect:W_,useImperativeHandle:function(y,x,E){E=E!=null?E.concat([y]):null,dm(4194308,4,Tp.bind(null,x,y),E)},useLayoutEffect:function(y,x){return dm(4194308,4,y,x)},useInsertionEffect:function(y,x){dm(4,2,y,x)},useMemo:function(y,x){var E=gt();x=x===void 0?null:x;var I=y();if(au){j(!0);try{y()}finally{j(!1)}}return E.memoizedState=[I,x],I},useReducer:function(y,x,E){var I=gt();if(E!==void 0){var B=E(x);if(au){j(!0);try{E(x)}finally{j(!1)}}}else B=x;return I.memoizedState=I.baseState=B,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:B},I.queue=y,y=y.dispatch=Fu.bind(null,Cn,y),[I.memoizedState,y]},useRef:function(y){var x=gt();return y={current:y},x.memoizedState=y},useState:function(y){y=Bn(y);var x=y.queue,E=mm.bind(null,Cn,x);return x.dispatch=E,[y.memoizedState,E]},useDebugValue:Mp,useDeferredValue:function(y,x){var E=gt();return ku(E,y,x)},useTransition:function(){var y=Bn(!1);return y=vm.bind(null,Cn,y.queue,!0,!1),gt().memoizedState=y,[!1,y]},useSyncExternalStore:function(y,x,E){var I=Cn,B=gt();if(ni){if(E===void 0)throw Error(r(407));E=E()}else{if(E=x(),kn===null)throw Error(r(349));(Un&60)!==0||Ke(I,x,E)}B.memoizedState=E;var k={value:E,getSnapshot:x};return B.queue=k,W_(ui.bind(null,I,k,y),[y]),I.flags|=2048,Oa(9,Nn.bind(null,I,k,E,x),{destroy:void 0},null),E},useId:function(){var y=gt(),x=kn.identifierPrefix;if(ni){var E=is,I=cl;E=(I&~(1<<32-io(I)-1)).toString(32)+E,x=":"+x+"R"+E,E=uv++,0<E&&(x+="H"+E.toString(32)),x+=":"}else E=gM++,x=":"+x+"r"+E.toString(32)+":";return y.memoizedState=x},useCacheRefresh:function(){return gt().memoizedState=Ap.bind(null,Cn)}};gr.useMemoCache=te,gr.useHostTransitionStatus=uf,gr.useFormState=Kr,gr.useActionState=Kr,gr.useOptimistic=function(y){var x=gt();x.memoizedState=x.baseState=y;var E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return x.queue=E,x=ym.bind(null,Cn,!0,E),E.dispatch=x,[y,x]};var ba={readContext:Jr,use:mt,useCallback:pm,useContext:Jr,useEffect:bp,useImperativeHandle:Js,useInsertionEffect:yT,useLayoutEffect:_T,useMemo:lf,useReducer:ze,useRef:sf,useState:function(){return ze(me)},useDebugValue:Mp,useDeferredValue:function(y,x){var E=Tt();return Y_(E,fi.memoizedState,y,x)},useTransition:function(){var y=ze(me)[0],x=Tt().memoizedState;return[typeof y=="boolean"?y:zt(y),x]},useSyncExternalStore:sn,useId:$s};ba.useCacheRefresh=gm,ba.useMemoCache=te,ba.useHostTransitionStatus=uf,ba.useFormState=va,ba.useActionState=va,ba.useOptimistic=function(y,x){var E=Tt();return He(E,fi,y,x)};var vc={readContext:Jr,use:mt,useCallback:pm,useContext:Jr,useEffect:bp,useImperativeHandle:Js,useInsertionEffect:yT,useLayoutEffect:_T,useMemo:lf,useReducer:Ze,useRef:sf,useState:function(){return Ze(me)},useDebugValue:Mp,useDeferredValue:function(y,x){var E=Tt();return fi===null?ku(E,y,x):Y_(E,fi.memoizedState,y,x)},useTransition:function(){var y=Ze(me)[0],x=Tt().memoizedState;return[typeof y=="boolean"?y:zt(y),x]},useSyncExternalStore:sn,useId:$s};vc.useCacheRefresh=gm,vc.useMemoCache=te,vc.useHostTransitionStatus=uf,vc.useFormState=of,vc.useActionState=of,vc.useOptimistic=function(y,x){var E=Tt();return fi!==null?He(E,fi,y,x):(E.baseState=y,[y,E.queue.dispatch])};var sy={isMounted:function(y){return(y=y._reactInternals)?f(y)===y:!1},enqueueSetState:function(y,x,E){y=y._reactInternals;var I=Ba(),B=ne(I);B.payload=x,E!=null&&(B.callback=E),x=he(y,B,I),x!==null&&(ya(x,y,I),Ve(x,y,I))},enqueueReplaceState:function(y,x,E){y=y._reactInternals;var I=Ba(),B=ne(I);B.tag=1,B.payload=x,E!=null&&(B.callback=E),x=he(y,B,I),x!==null&&(ya(x,y,I),Ve(x,y,I))},enqueueForceUpdate:function(y,x){y=y._reactInternals;var E=Ba(),I=ne(E);I.tag=2,x!=null&&(I.callback=x),x=he(y,I,E),x!==null&&(ya(x,y,E),Ve(x,y,E))}},rx=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},mM=Error(r(461)),rr=!1,Ta={dehydrated:null,treeContext:null,retryLane:0},oo=_(null),gc=null,Qi=null,yM=typeof AbortController<"u"?AbortController:function(){var y=[],x=this.signal={aborted:!1,addEventListener:function(E,I){y.push(I)}};this.abort=function(){x.aborted=!0,y.forEach(function(E){return E()})}},ou=$r.unstable_scheduleCallback,Cf=$r.unstable_NormalPriority,pi={$$typeof:al,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ly=on.S;on.S=function(y,x){typeof x=="object"&&x!==null&&typeof x.then=="function"&&Gt(y,x),ly!==null&&ly(y,x)};var su=_(null),Cr=!1,Xi=!1,mc=!1,od=typeof WeakSet=="function"?WeakSet:Set,Ji=null,Df=!1,ar=null,so=!1,Ha=null,Rf=8192,uy={getCacheForType:function(y){var x=Jr(pi),E=x.data.get(y);return E===void 0&&(E=y(),x.data.set(y,E)),E}},cv=0,cy=1,fy=2,$n=3,vi=4;if(typeof Symbol=="function"&&Symbol.for){var Dn=Symbol.for;cv=Dn("selector.component"),cy=Dn("selector.has_pseudo_class"),fy=Dn("selector.role"),$n=Dn("selector.test_id"),vi=Dn("selector.text")}var Wn=typeof WeakMap=="function"?WeakMap:Map,$e=0,kn=null,bn=null,Un=0,wi=0,or=null,gi=!1,Uo=!1,lu=!1,Es=0,ti=0,Vo=0,Cs=0,Ma=0,lo=0,uu=0,sd=null,Ho=null,ld=!1,pl=0,Wi=1/0,Ds=null,ko=null,ls=!1,cu=null,Lf=0,hy=0,If=null,Nf=0,ka=null;return Je.attemptContinuousHydration=function(y){if(y.tag===13){var x=Bt(y,67108864);x!==null&&ya(x,y,67108864),yS(y,67108864)}},Je.attemptHydrationAtCurrentPriority=function(y){if(y.tag===13){var x=Ba(),E=Bt(y,x);E!==null&&ya(E,y,x),yS(y,x)}},Je.attemptSynchronousHydration=function(y){switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=w(y.pendingLanes);if(x!==0){for(y.pendingLanes|=2,y.entangledLanes|=2;x;){var E=1<<31-io(x);y.entanglements[1]|=E,x&=~E}ie(y),($e&6)===0&&(Wi=na()+500,Xe(0))}}break;case 13:x=Bt(y,2),x!==null&&ya(x,y,2),dS(),yS(y,2)}},Je.batchedUpdates=function(y,x){return y(x)},Je.createComponentSelector=function(y){return{$$typeof:cv,value:y}},Je.createContainer=function(y,x,E,I,B,k,tt,ut,St,qt){return Fr(y,x,!1,null,E,I,k,tt,ut,St,qt,null)},Je.createHasPseudoClassSelector=function(y){return{$$typeof:cy,value:y}},Je.createHydrationContainer=function(y,x,E,I,B,k,tt,ut,St,qt,ve,Ae,De){return y=Fr(E,I,!0,y,B,k,ut,St,qt,ve,Ae,De),y.context=kp(null),E=y.current,I=Ba(),B=ne(I),B.callback=x??null,he(E,B,I),y.current.lanes=I,U(y,I),ie(y),y},Je.createPortal=function(y,x,E){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:I==null?null:""+I,children:y,containerInfo:x,implementation:E}},Je.createRoleSelector=function(y){return{$$typeof:fy,value:y}},Je.createTestNameSelector=function(y){return{$$typeof:$n,value:y}},Je.createTextSelector=function(y){return{$$typeof:vi,value:y}},Je.defaultOnCaughtError=function(y){console.error(y)},Je.defaultOnRecoverableError=function(y){rx(y)},Je.defaultOnUncaughtError=function(y){rx(y)},Je.deferredUpdates=function(y){var x=on.T,E=Er();try{return Sa(32),on.T=null,y()}finally{Sa(E),on.T=x}},Je.discreteUpdates=function(y,x,E,I,B){var k=on.T,tt=Er();try{return Sa(2),on.T=null,y(x,E,I,B)}finally{Sa(tt),on.T=k,$e===0&&(Wi=na()+500)}},Je.findAllNodes=za,Je.findBoundingRects=function(y,x){if(!ll)throw Error(r(363));x=za(y,x),y=[];for(var E=0;E<x.length;E++)y.push(Wm(x[E]));for(x=y.length-1;0<x;x--){E=y[x];for(var I=E.x,B=I+E.width,k=E.y,tt=k+E.height,ut=x-1;0<=ut;ut--)if(x!==ut){var St=y[ut],qt=St.x,ve=qt+St.width,Ae=St.y,De=Ae+St.height;if(I>=qt&&k>=Ae&&B<=ve&&tt<=De){y.splice(x,1);break}else if(I!==qt||E.width!==St.width||De<k||Ae>tt){if(!(k!==Ae||E.height!==St.height||ve<I||qt>B)){qt>I&&(St.width+=qt-I,St.x=I),ve<B&&(St.width=B-qt),y.splice(x,1);break}}else{Ae>k&&(St.height+=Ae-k,St.y=k),De<tt&&(St.height=tt-Ae),y.splice(x,1);break}}}return y},Je.findHostInstance=mS,Je.findHostInstanceWithNoPortals=function(y){return y=p(y),y=y!==null?m(y):null,y===null?null:jh(y.stateNode)},Je.findHostInstanceWithWarning=function(y){return mS(y)},Je.flushPassiveEffects=kr,Je.flushSyncFromReconciler=function(y){var x=$e;$e|=1;var E=on.T,I=Er();try{if(Sa(2),on.T=null,y)return y()}finally{Sa(I),on.T=E,$e=x,($e&6)===0&&Xe(0)}},Je.flushSyncWork=dS,Je.focusWithin=function(y,x){if(!ll)throw Error(r(363));for(y=Nm(y),x=BT(y,x),x=Array.from(x),y=0;y<x.length;){var E=x[y++],I=E.tag;if(!ul(E)){if((I===5||I===26||I===27)&&Zi(E.stateNode))return!0;for(E=E.child;E!==null;)x.push(E),E=E.sibling}}return!1},Je.getFindAllNodesFailureDescription=function(y,x){if(!ll)throw Error(r(363));var E=0,I=[];y=[Nm(y),0];for(var B=0;B<y.length;){var k=y[B++],tt=k.tag,ut=y[B++],St=x[ut];if((tt!==5&&tt!==26&&tt!==27||!ul(k))&&(Xh(k,St)&&(I.push(ec(St)),ut++,ut>E&&(E=ut)),ut<x.length))for(k=k.child;k!==null;)y.push(k,ut),k=k.sibling}if(E<x.length){for(y=[];E<x.length;E++)y.push(ec(x[E]));return`findAllNodes was able to match part of the selector:
  `+(I.join(" > ")+`

No matching component was found for:
  `)+y.join(" > ")}return null},Je.getPublicRootInstance=function(y){if(y=y.current,!y.child)return null;switch(y.child.tag){case 27:case 5:return jh(y.child.stateNode);default:return y.child.stateNode}},Je.injectIntoDevTools=function(){var y={bundleType:0,version:km,rendererPackageName:Xp,currentDispatcherRef:on,findFiberByHostInstance:CS,reconcilerVersion:"19.0.0"};if(Wp!==null&&(y.rendererConfig=Wp),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")y=!1;else{var x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(x.isDisabled||!x.supportsFiber)y=!0;else{try{td=x.inject(y),ro=x}catch{}y=!!x.checkDCE}}return y},Je.isAlreadyRendering=function(){return!1},Je.observeVisibleRects=function(y,x,E,I){if(!ll)throw Error(r(363));y=za(y,x);var B=LS(y,E,I).disconnect;return{disconnect:function(){B()}}},Je.shouldError=function(){return null},Je.shouldSuspend=function(){return!1},Je.startHostTransition=function(y,x,E,I){if(y.tag!==5)throw Error(r(476));var B=q_(y).queue;vm(y,B,x,no,E===null?n:function(){var k=q_(y).next.queue;return Gu(y,k,{},Ba()),E(I)})},Je.updateContainer=function(y,x,E,I){var B=x.current,k=Ba();return HT(B,k,y,x,E,I),k},Je.updateContainerSync=function(y,x,E,I){return x.tag===0&&kr(),HT(x.current,2,y,x,E,I),2},Je},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(ML)),ML.exports}var dH;function but(){return dH||(dH=1,TL.exports=xut()),TL.exports}var Tut=but();const Mut=_2(Tut);var pH=rY();function Bz(i,t,e){if(!i)return;if(e(i)===!0)return i;let n=t?i.return:i.child;for(;n;){const r=Bz(n,t,e);if(r)return r;n=t?null:n.sibling}}function aY(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const Uz=aY(vn.createContext(null));let oY=class extends vn.Component{render(){return vn.createElement(Uz.Provider,{value:this._reactInternals},this.props.children)}};function sY(){const i=vn.useContext(Uz);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=vn.useId();return vn.useMemo(()=>{for(const e of[i,i?.alternate]){if(!e)continue;const n=Bz(e,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===t)return!0;a=a.next}});if(n)return n}},[i,t])}const Aut=Symbol.for("react.context"),wut=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===Aut;function Eut(){const i=sY(),[t]=vn.useState(()=>new Map);t.clear();let e=i;for(;e;){const n=e.type;wut(n)&&n!==Uz&&!t.has(n)&&t.set(n,vn.use(aY(n))),e=e.return}return t}function Cut(){const i=Eut();return vn.useMemo(()=>Array.from(i.keys()).reduce((t,e)=>n=>vn.createElement(t,null,vn.createElement(e.Provider,{...n,value:i.get(e)})),t=>vn.createElement(oY,{...t})),[i])}function lY(i){let t=i.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const uY=i=>i&&i.isOrthographicCamera,Dut=i=>i&&i.hasOwnProperty("current"),Rut=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),Kb=((i,t)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?vn.useLayoutEffect:vn.useEffect;function cY(i){const t=vn.useRef(i);return Kb(()=>void(t.current=i),[i]),t}function Lut(){const i=sY(),t=Cut();return vn.useMemo(()=>({children:e})=>{const r=!!Bz(i,!0,a=>a.type===vn.StrictMode)?vn.StrictMode:vn.Fragment;return Os.jsx(r,{children:Os.jsx(t,{children:e})})},[i,t])}function Iut({set:i}){return Kb(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const Nut=(i=>(i=class extends vn.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function fY(i){var t;const e=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],e),i[1]):i}function Hy(i){var t;return(t=i.__r3f)==null?void 0:t.root.getState()}const sr={obj:i=>i===Object(i)&&!sr.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,t,{arrays:e="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof t||!!i!=!!t)return!1;if(sr.str(i)||sr.num(i)||sr.boo(i))return i===t;const a=sr.obj(i);if(a&&n==="reference")return i===t;const o=sr.arr(i);if(o&&e==="reference")return i===t;if((o||a)&&i===t)return!0;let s;for(s in i)if(!(s in t))return!1;if(a&&e==="shallow"&&n==="shallow"){for(s in r?t:i)if(!sr.equ(i[s],t[s],{strict:r,objects:"reference"}))return!1}else for(s in r?t:i)if(i[s]!==t[s])return!1;if(sr.und(s)){if(o&&i.length===0&&t.length===0||a&&Object.keys(i).length===0&&Object.keys(t).length===0)return!0;if(i!==t)return!1}return!0}};function Out(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const t in i){const e=i[t];e?.type!=="Scene"&&(e==null||e.dispose==null||e.dispose())}}const hY=["children","key","ref"];function Put(i){const t={};for(const e in i)hY.includes(e)||(t[e]=i[e]);return t}function aC(i,t,e,n){const r=i;let a=r?.__r3f;return a||(a={root:t,type:e,parent:null,children:[],props:Put(n),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function sb(i,t){if(!t.includes("-"))return{root:i,key:t,target:i[t]};if(t in i)return{root:i,key:t,target:i[t]};let e=i;const n=t.split("-");for(const r of n){if(typeof e!="object"||e===null){if(e!==void 0){const a=n.slice(n.indexOf(r)).join("-");return{root:e,key:a,target:void 0}}return{root:i,key:t,target:void 0}}t=r,i=e,e=e[t]}return{root:i,key:t,target:e}}const vH=/-\d+$/;function oC(i,t){if(sr.str(t.props.attach)){if(vH.test(t.props.attach)){const r=t.props.attach.replace(vH,""),{root:a,key:o}=sb(i.object,r);Array.isArray(a[o])||(a[o]=[])}const{root:e,key:n}=sb(i.object,t.props.attach);t.previousAttach=e[n],e[n]=t.object}else sr.fun(t.props.attach)&&(t.previousAttach=t.props.attach(i.object,t.object))}function sC(i,t){if(sr.str(t.props.attach)){const{root:e,key:n}=sb(i.object,t.props.attach),r=t.previousAttach;r===void 0?delete e[n]:e[n]=r}else t.previousAttach==null||t.previousAttach(i.object,t.object);delete t.previousAttach}const MO=[...hY,"args","dispose","attach","object","onUpdate","dispose"],gH=new Map;function zut(i){let t=gH.get(i.constructor);try{t||(t=new i.constructor,gH.set(i.constructor,t))}catch{}return t}function But(i,t){const e={};for(const n in t)if(!MO.includes(n)&&!sr.equ(t[n],i.props[n])){e[n]=t[n];for(const r in t)r.startsWith(`${n}-`)&&(e[r]=t[r])}for(const n in i.props){if(MO.includes(n)||t.hasOwnProperty(n))continue;const{root:r,key:a}=sb(i.object,n);if(r.constructor&&r.constructor.length===0){const o=zut(r);sr.und(o)||(e[a]=o[a])}else e[a]=0}return e}const Uut=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Vut=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Vd(i,t){var e;const n=i.__r3f,r=n&&lY(n).getState(),a=n?.eventCount;for(const s in t){let l=t[s];if(MO.includes(s))continue;if(n&&Vut.test(s)){typeof l=="function"?n.handlers[s]=l:delete n.handlers[s],n.eventCount=Object.keys(n.handlers).length;continue}if(l===void 0)continue;let{root:u,key:c,target:f}=sb(i,s);if(f===void 0&&(typeof u!="object"||u===null))throw Error(`R3F: Cannot set "${s}". Ensure it is an object before setting "${c}".`);if(f instanceof q0&&l instanceof q0)f.mask=l.mask;else if(f instanceof Me&&Rut(l))f.set(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof f.copy=="function"&&l!=null&&l.constructor&&f.constructor===l.constructor)f.copy(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&Array.isArray(l))typeof f.fromArray=="function"?f.fromArray(l):f.set(...l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof l=="number")typeof f.setScalar=="function"?f.setScalar(l):f.set(l);else{var o;u[c]=l,r&&!r.linear&&Uut.includes(c)&&(o=u[c])!=null&&o.isTexture&&u[c].format===_o&&u[c].type===Nl&&(u[c].colorSpace=Ir)}}if(n!=null&&n.parent&&r!=null&&r.internal&&(e=n.object)!=null&&e.isObject3D&&a!==n.eventCount){const s=n.object,l=r.internal.interaction.indexOf(s);l>-1&&r.internal.interaction.splice(l,1),n.eventCount&&s.raycast!==null&&r.internal.interaction.push(s)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&b_(n),i}function b_(i){var t;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const e=(t=i.root)==null||t.getState==null?void 0:t.getState();e&&e.internal.frames===0&&e.invalidate()}function Hut(i,t){i.manual||(uY(i)?(i.left=t.width/-2,i.right=t.width/2,i.top=t.height/2,i.bottom=t.height/-2):i.aspect=t.width/t.height,i.updateProjectionMatrix())}const hs=i=>i?.isObject3D;function CA(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function dY(i,t,e,n){const r=e.get(t);r&&(e.delete(t),e.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function kut(i,t){const{internal:e}=i.getState();e.interaction=e.interaction.filter(n=>n!==t),e.initialHits=e.initialHits.filter(n=>n!==t),e.hovered.forEach((n,r)=>{(n.eventObject===t||n.object===t)&&e.hovered.delete(r)}),e.capturedMap.forEach((n,r)=>{dY(e.capturedMap,t,n,r)})}function Fut(i){function t(l){const{internal:u}=i.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function e(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function n(l,u){const c=i.getState(),f=new Set,h=[],p=u?u(c.internal.interaction):c.internal.interaction;for(let S=0;S<p.length;S++){const T=Hy(p[S]);T&&(T.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(S){const T=Hy(S);if(!T||!T.events.enabled||T.raycaster.camera===null)return[];if(T.raycaster.camera===void 0){var M;T.events.compute==null||T.events.compute(l,T,(M=T.previousRoot)==null?void 0:M.getState()),T.raycaster.camera===void 0&&(T.raycaster.camera=null)}return T.raycaster.camera?T.raycaster.intersectObject(S,!0):[]}let m=p.flatMap(g).sort((S,T)=>{const M=Hy(S.object),w=Hy(T.object);return!M||!w?S.distance-T.distance:w.events.priority-M.events.priority||S.distance-T.distance}).filter(S=>{const T=CA(S);return f.has(T)?!1:(f.add(T),!0)});c.events.filter&&(m=c.events.filter(m,c));for(const S of m){let T=S.object;for(;T;){var _;(_=T.__r3f)!=null&&_.eventCount&&h.push({...S,eventObject:T}),T=T.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let S of c.internal.capturedMap.get(l.pointerId).values())f.has(CA(S.intersection))||h.push(S.intersection);return h}function r(l,u,c,f){if(l.length){const h={stopped:!1};for(const p of l){let g=Hy(p.object);if(g||p.object.traverseAncestors(m=>{const _=Hy(m);if(_)return g=_,!1}),g){const{raycaster:m,pointer:_,camera:S,internal:T}=g,M=new it(_.x,_.y,0).unproject(S),w=N=>{var O,U;return(O=(U=T.capturedMap.get(N))==null?void 0:U.has(p.eventObject))!=null?O:!1},D=N=>{const O={intersection:p,target:u.target};T.capturedMap.has(N)?T.capturedMap.get(N).set(p.eventObject,O):T.capturedMap.set(N,new Map([[p.eventObject,O]])),u.target.setPointerCapture(N)},C=N=>{const O=T.capturedMap.get(N);O&&dY(T.capturedMap,p.eventObject,O,N)};let R={};for(let N in u){let O=u[N];typeof O!="function"&&(R[N]=O)}let z={...p,...R,pointer:_,intersections:l,stopped:h.stopped,delta:c,unprojectedPoint:M,ray:m.ray,camera:S,stopPropagation(){const N="pointerId"in u&&T.capturedMap.get(u.pointerId);if((!N||N.has(p.eventObject))&&(z.stopped=h.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(O=>O.eventObject===p.eventObject))){const O=l.slice(0,l.indexOf(p));a([...O,p])}},target:{hasPointerCapture:w,setPointerCapture:D,releasePointerCapture:C},currentTarget:{hasPointerCapture:w,setPointerCapture:D,releasePointerCapture:C},nativeEvent:u};if(f(z),h.stopped===!0)break}}}return l}function a(l){const{internal:u}=i.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f;if(u.hovered.delete(CA(c)),h!=null&&h.eventCount){const p=h.handlers,g={...c,intersections:l};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:c}=i.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),a([]))})}}return function(c){const{onPointerMissed:f,internal:h}=i.getState();h.lastEvent.current=c;const p=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=n(c,p?e:void 0),S=g?t(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=_.map(M=>M.eventObject)),g&&!_.length&&S<=2&&(o(c,h.interaction),f&&f(c)),p&&a(_);function T(M){const w=M.eventObject,D=w.__r3f;if(!(D!=null&&D.eventCount))return;const C=D.handlers;if(p){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const R=CA(M),z=h.hovered.get(R);z?z.stopped&&M.stopPropagation():(h.hovered.set(R,M),C.onPointerOver==null||C.onPointerOver(M),C.onPointerEnter==null||C.onPointerEnter(M))}C.onPointerMove==null||C.onPointerMove(M)}else{const R=C[l];R?(!g||h.initialHits.includes(w))&&(o(c,h.interaction.filter(z=>!h.initialHits.includes(z))),R(M)):g&&h.initialHits.includes(w)&&o(c,h.interaction.filter(z=>!h.initialHits.includes(z)))}}r(_,c,S,T)}}return{handlePointer:s}}const mH=i=>!!(i!=null&&i.render),pY=vn.createContext(null),Gut=(i,t)=>{const e=_ut((s,l)=>{const u=new it,c=new it,f=new it;function h(S=l().camera,T=c,M=l().size){const{width:w,height:D,top:C,left:R}=M,z=w/D;T.isVector3?f.copy(T):f.set(...T);const N=S.getWorldPosition(u).distanceTo(f);if(uY(S))return{width:w/S.zoom,height:D/S.zoom,top:C,left:R,factor:1,distance:N,aspect:z};{const O=S.fov*Math.PI/180,U=2*Math.tan(O/2)*N,F=U*(w/D);return{width:F,height:U,top:C,left:R,factor:w/F,distance:N,aspect:z}}}let p;const g=S=>s(T=>({performance:{...T.performance,current:S}})),m=new Zt;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>i(l(),S),advance:(S,T)=>t(S,T,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Lz,pointer:m,mouse:m,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=l();p&&clearTimeout(p),S.performance.current!==S.performance.min&&g(S.performance.min),p=setTimeout(()=>g(l().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:S=>s(T=>({...T,events:{...T.events,...S}})),setSize:(S,T,M=0,w=0)=>{const D=l().camera,C={width:S,height:T,top:M,left:w};s(R=>({size:C,viewport:{...R.viewport,...h(D,c,C)}}))},setDpr:S=>s(T=>{const M=fY(S);return{viewport:{...T.viewport,dpr:M,initialDpr:T.viewport.initialDpr||M}}}),setFrameloop:(S="always")=>{const T=l().clock;T.stop(),T.elapsedTime=0,S!=="never"&&(T.start(),T.elapsedTime=0),s(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:vn.createRef(),active:!1,frames:0,priority:0,subscribe:(S,T,M)=>{const w=l().internal;return w.priority=w.priority+(T>0?1:0),w.subscribers.push({ref:S,priority:T,store:M}),w.subscribers=w.subscribers.sort((D,C)=>D.priority-C.priority),()=>{const D=l().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(T>0?1:0),D.subscribers=D.subscribers.filter(C=>C.ref!==S))}}}}}),n=e.getState();let r=n.size,a=n.viewport.dpr,o=n.camera;return e.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:c,set:f}=e.getState();if(l.width!==r.width||l.height!==r.height||u.dpr!==a){r=l,a=u.dpr,Hut(s,l),u.dpr>0&&c.setPixelRatio(u.dpr);const h=typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,h)}s!==o&&(o=s,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(s)}})))}),e.subscribe(s=>i(s)),e};function vY(){const i=vn.useContext(pY);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function Td(i=e=>e,t){return vY()(i,t)}function Xut(i,t=0){const e=vY(),n=e.getState().internal.subscribe,r=cY(i);return Kb(()=>n(r,t,e),[t,n,e]),null}function Wut(i){const t=Mut(i);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:vn.version}),t}const gY=0,Q0={},Yut=/^three(?=[A-Z])/,eD=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let qut=0;const Zut=i=>typeof i=="function";function jut(i){if(Zut(i)){const t=`${qut++}`;return Q0[t]=i,t}else Object.assign(Q0,i)}function mY(i,t){const e=eD(i),n=Q0[e];if(i!=="primitive"&&!n)throw new Error(`R3F: ${e} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function Kut(i,t,e){var n;return i=eD(i)in Q0?i:i.replace(Yut,""),mY(i,t),i==="primitive"&&(n=t.object)!=null&&n.__r3f&&delete t.object.__r3f,aC(t.object,e,i,t)}function Qut(i){if(!i.isHidden){var t;i.props.attach&&(t=i.parent)!=null&&t.object?sC(i.parent,i):hs(i.object)&&(i.object.visible=!1),i.isHidden=!0,b_(i)}}function yY(i){if(i.isHidden){var t;i.props.attach&&(t=i.parent)!=null&&t.object?oC(i.parent,i):hs(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,b_(i)}}function Vz(i,t,e){const n=t.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!t.object){var r,a;const o=Q0[eD(t.type)];t.object=(r=t.props.object)!=null?r:new o(...(a=t.props.args)!=null?a:[]),t.object.__r3f=t}if(Vd(t.object,t.props),t.props.attach)oC(i,t);else if(hs(t.object)&&hs(i.object)){const o=i.object.children.indexOf(e?.object);if(e&&o!==-1){const s=i.object.children.indexOf(t.object);if(s!==-1){i.object.children.splice(s,1);const l=s<o?o-1:o;i.object.children.splice(l,0,t.object)}else t.object.parent=i.object,i.object.children.splice(o,0,t.object),t.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:t.object})}else i.object.add(t.object)}for(const o of t.children)Vz(t,o);b_(t)}}function EL(i,t){t&&(t.parent=i,i.children.push(t),Vz(i,t))}function yH(i,t,e){if(!t||!e)return;t.parent=i;const n=i.children.indexOf(e);n!==-1?i.children.splice(n,0,t):i.children.push(t),Vz(i,t,e)}function _Y(i){if(typeof i.dispose=="function"){const t=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():pH.unstable_scheduleCallback(pH.unstable_IdlePriority,t)}}function AO(i,t,e){if(!t)return;t.parent=null;const n=i.children.indexOf(t);n!==-1&&i.children.splice(n,1),t.props.attach?sC(i,t):hs(t.object)&&hs(i.object)&&(i.object.remove(t.object),kut(lY(t),t.object));const r=t.props.dispose!==null&&e!==!1;for(let a=t.children.length-1;a>=0;a--){const o=t.children[a];AO(t,o,r)}t.children.length=0,delete t.object.__r3f,r&&t.type!=="primitive"&&t.object.type!=="Scene"&&_Y(t.object),e===void 0&&b_(t)}function Jut(i,t){for(const e of[i,i.alternate])if(e!==null)if(typeof e.ref=="function"){e.refCleanup==null||e.refCleanup();const n=e.ref(t);typeof n=="function"&&(e.refCleanup=n)}else e.ref&&(e.ref.current=t)}const jw=[];function $ut(){for(const[e]of jw){const n=e.parent;if(n){e.props.attach?sC(n,e):hs(e.object)&&hs(n.object)&&n.object.remove(e.object);for(const r of e.children)r.props.attach?sC(e,r):hs(r.object)&&hs(e.object)&&e.object.remove(r.object)}e.isHidden&&yY(e),e.object.__r3f&&delete e.object.__r3f,e.type!=="primitive"&&_Y(e.object)}for(const[e,n,r]of jw){e.props=n;const a=e.parent;if(a){var i,t;const o=Q0[eD(e.type)];e.object=(i=e.props.object)!=null?i:new o(...(t=e.props.args)!=null?t:[]),e.object.__r3f=e,Jut(r,e.object),Vd(e.object,e.props),e.props.attach?oC(a,e):hs(e.object)&&hs(a.object)&&a.object.add(e.object);for(const s of e.children)s.props.attach?oC(e,s):hs(s.object)&&hs(e.object)&&e.object.add(s.object);b_(e)}}jw.length=0}const CL=()=>{},_H={};let DA=gY;const tct=0,ect=4,wO=Wut({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Kut,removeChild:AO,appendChild:EL,appendInitialChild:EL,insertBefore:yH,appendChildToContainer(i,t){const e=i.getState().scene.__r3f;!t||!e||EL(e,t)},removeChildFromContainer(i,t){const e=i.getState().scene.__r3f;!t||!e||AO(e,t)},insertInContainerBefore(i,t,e){const n=i.getState().scene.__r3f;!t||!e||!n||yH(n,t,e)},getRootHostContext:()=>_H,getChildHostContext:()=>_H,commitUpdate(i,t,e,n,r){var a,o,s;mY(t,n);let l=!1;if((i.type==="primitive"&&e.object!==n.object||((a=n.args)==null?void 0:a.length)!==((o=e.args)==null?void 0:o.length)||(s=n.args)!=null&&s.some((c,f)=>{var h;return c!==((h=e.args)==null?void 0:h[f])}))&&(l=!0),l)jw.push([i,{...n},r]);else{const c=But(i,n);Object.keys(c).length&&(Object.assign(i.props,c),Vd(i.object,c))}(r.sibling===null||(r.flags&ect)===tct)&&$ut()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i?.object,prepareForCommit:()=>null,preparePortalMount:i=>aC(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Qut,unhideInstance:yY,createTextInstance:CL,hideTextInstance:CL,unhideTextInstance:CL,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:vn.createContext(null),setCurrentUpdatePriority(i){DA=i},getCurrentUpdatePriority(){return DA},resolveUpdatePriority(){var i;if(DA!==gY)return DA;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ww.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ww.ContinuousEventPriority;default:return Ww.DefaultEventPriority}},resetFormInstance(){}}),kg=new Map,ky={objects:"shallow",strict:!1};function nct(i,t){if(!t&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:e,height:n,top:r,left:a}=i.parentElement.getBoundingClientRect();return{width:e,height:n,top:r,left:a}}else if(!t&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function ict(i){const t=kg.get(i),e=t?.fiber,n=t?.store;t&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=n||Gut(DO,xH),o=e||wO.createContainer(a,Ww.ConcurrentRoot,null,!1,null,"",r,r,r,null);t||kg.set(i,{fiber:o,store:a});let s,l,u=!1,c=null;return{async configure(f={}){let h;c=new Promise(q=>h=q);let{gl:p,size:g,scene:m,events:_,onCreated:S,shadows:T=!1,linear:M=!1,flat:w=!1,legacy:D=!1,orthographic:C=!1,frameloop:R="always",dpr:z=[1,2],performance:N,raycaster:O,camera:U,onPointerMissed:F}=f,V=a.getState(),W=V.gl;if(!V.gl){const q={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},$=typeof p=="function"?await p(q):p;mH($)?W=$:W=new iY({...q,...p}),V.set({gl:W})}let Z=V.raycaster;Z||V.set({raycaster:Z=new jW});const{params:H,...j}=O||{};if(sr.equ(j,Z,ky)||Vd(Z,{...j}),sr.equ(H,Z.params,ky)||Vd(Z,{params:{...Z.params,...H}}),!V.camera||V.camera===l&&!sr.equ(l,U,ky)){l=U;const q=U?.isCamera,$=q?U:C?new lh(0,0,0,0,.1,1e3):new Sr(75,0,.1,1e3);q||($.position.z=5,U&&(Vd($,U),$.manual||("aspect"in U||"left"in U||"right"in U||"bottom"in U||"top"in U)&&($.manual=!0,$.updateProjectionMatrix())),!V.camera&&!(U!=null&&U.rotation)&&$.lookAt(0,0,0)),V.set({camera:$}),Z.camera=$}if(!V.scene){let q;m!=null&&m.isScene?(q=m,aC(q,a,"",{})):(q=new oz,aC(q,a,"",{}),m&&Vd(q,m)),V.set({scene:q})}_&&!V.events.handlers&&V.set({events:_(a)});const Y=nct(i,g);if(sr.equ(Y,V.size,ky)||V.setSize(Y.width,Y.height,Y.top,Y.left),z&&V.viewport.dpr!==fY(z)&&V.setDpr(z),V.frameloop!==R&&V.setFrameloop(R),V.onPointerMissed||V.set({onPointerMissed:F}),N&&!sr.equ(N,V.performance,ky)&&V.set(q=>({performance:{...q.performance,...N}})),!V.xr){var Q;const q=(ft,Mt)=>{const dt=a.getState();dt.frameloop!=="never"&&xH(ft,!0,dt,Mt)},$=()=>{const ft=a.getState();ft.gl.xr.enabled=ft.gl.xr.isPresenting,ft.gl.xr.setAnimationLoop(ft.gl.xr.isPresenting?q:null),ft.gl.xr.isPresenting||DO(ft)},st={connect(){const ft=a.getState().gl;ft.xr.addEventListener("sessionstart",$),ft.xr.addEventListener("sessionend",$)},disconnect(){const ft=a.getState().gl;ft.xr.removeEventListener("sessionstart",$),ft.xr.removeEventListener("sessionend",$)}};typeof((Q=W.xr)==null?void 0:Q.addEventListener)=="function"&&st.connect(),V.set({xr:st})}if(W.shadowMap){const q=W.shadowMap.enabled,$=W.shadowMap.type;if(W.shadowMap.enabled=!!T,sr.boo(T))W.shadowMap.type=w1;else if(sr.str(T)){var nt;const st={basic:uX,percentage:x2,soft:w1,variance:_u};W.shadowMap.type=(nt=st[T])!=null?nt:w1}else sr.obj(T)&&Object.assign(W.shadowMap,T);(q!==W.shadowMap.enabled||$!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}return Qn.enabled=!D,u||(W.outputColorSpace=M?qa:Ir,W.toneMapping=w?kc:W3),V.legacy!==D&&V.set(()=>({legacy:D})),V.linear!==M&&V.set(()=>({linear:M})),V.flat!==w&&V.set(()=>({flat:w})),p&&!sr.fun(p)&&!mH(p)&&!sr.equ(p,W,ky)&&Vd(W,p),s=S,u=!0,h(),this},render(f){return!u&&!c&&this.configure(),c.then(()=>{wO.updateContainer(Os.jsx(rct,{store:a,children:f,onCreated:s,rootElement:i}),o,null,()=>{})}),a},unmount(){SY(i)}}}function rct({store:i,children:t,onCreated:e,rootElement:n}){return Kb(()=>{const r=i.getState();r.set(a=>({internal:{...a.internal,active:!0}})),e&&e(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),Os.jsx(pY.Provider,{value:i,children:t})}function SY(i,t){const e=kg.get(i),n=e?.fiber;if(n){const r=e?.store.getState();r&&(r.internal.active=!1),wO.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var a,o,s,l;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=r.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Out(r.scene),kg.delete(i)}catch{}},500)})}}const act=new Set,oct=new Set,sct=new Set;function DL(i,t){if(i.size)for(const{callback:e}of i.values())e(t)}function O1(i,t){switch(i){case"before":return DL(act,t);case"after":return DL(oct,t);case"tail":return DL(sct,t)}}let RL,LL;function EO(i,t,e){let n=t.clock.getDelta();t.frameloop==="never"&&typeof i=="number"&&(n=i-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=i),RL=t.internal.subscribers;for(let r=0;r<RL.length;r++)LL=RL[r],LL.ref.current(LL.store.getState(),n,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let lC=!1,CO=!1,IL,SH,Fy;function xY(i){SH=requestAnimationFrame(xY),lC=!0,IL=0,O1("before",i),CO=!0;for(const e of kg.values()){var t;Fy=e.store.getState(),Fy.internal.active&&(Fy.frameloop==="always"||Fy.internal.frames>0)&&!((t=Fy.gl.xr)!=null&&t.isPresenting)&&(IL+=EO(i,Fy))}if(CO=!1,O1("after",i),IL===0)return O1("tail",i),lC=!1,cancelAnimationFrame(SH)}function DO(i,t=1){var e;if(!i)return kg.forEach(n=>DO(n.store.getState(),t));(e=i.gl.xr)!=null&&e.isPresenting||!i.internal.active||i.frameloop==="never"||(t>1?i.internal.frames=Math.min(60,i.internal.frames+t):CO?i.internal.frames=2:i.internal.frames=1,lC||(lC=!0,requestAnimationFrame(xY)))}function xH(i,t=!0,e,n){if(t&&O1("before",i),e)EO(i,e,n);else for(const r of kg.values())EO(i,r.store.getState());t&&O1("after",i)}const NL={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function lct(i){const{handlePointer:t}=Fut(i);return{priority:1,enabled:!0,compute(e,n,r){n.pointer.set(e.offsetX/n.size.width*2-1,-(e.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(NL).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var e;const{events:n,internal:r}=i.getState();(e=r.lastEvent)!=null&&e.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:e=>{const{set:n,events:r}=i.getState();if(r.disconnect==null||r.disconnect(),n(a=>({events:{...a.events,connected:e}})),r.handlers)for(const a in r.handlers){const o=r.handlers[a],[s,l]=NL[a];e.addEventListener(s,o,{passive:l})}},disconnect:()=>{const{set:e,events:n}=i.getState();if(n.connected){if(n.handlers)for(const r in n.handlers){const a=n.handlers[r],[o]=NL[r];n.connected.removeEventListener(o,a)}e(r=>({events:{...r.events,connected:void 0}}))}}}}function bH(i,t){let e;return(...n)=>{window.clearTimeout(e),e=window.setTimeout(()=>i(...n),t)}}function uct({debounce:i,scroll:t,polyfill:e,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=e||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=vn.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=vn.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=i?typeof i=="number"?i:i.scroll:null,u=i?typeof i=="number"?i:i.resize:null,c=vn.useRef(!1);vn.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,h,p]=vn.useMemo(()=>{const S=()=>{if(!s.current.element)return;const{left:T,top:M,width:w,height:D,bottom:C,right:R,x:z,y:N}=s.current.element.getBoundingClientRect(),O={left:T,top:M,width:w,height:D,bottom:C,right:R,x:z,y:N};s.current.element instanceof HTMLElement&&n&&(O.height=s.current.element.offsetHeight,O.width=s.current.element.offsetWidth),Object.freeze(O),c.current&&!dct(s.current.lastBounds,O)&&o(s.current.lastBounds=O)};return[S,u?bH(S,u):S,l?bH(S,l):S]},[o,n,l,u]);function g(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",p,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function m(){s.current.element&&(s.current.resizeObserver=new r(p),s.current.resizeObserver.observe(s.current.element),t&&s.current.scrollContainers&&s.current.scrollContainers.forEach(S=>S.addEventListener("scroll",p,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const _=S=>{!S||S===s.current.element||(g(),s.current.element=S,s.current.scrollContainers=bY(S),m())};return fct(p,!!t),cct(h),vn.useEffect(()=>{g(),m()},[t,p,h]),vn.useEffect(()=>g,[]),[_,a,f]}function cct(i){vn.useEffect(()=>{const t=i;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[i])}function fct(i,t){vn.useEffect(()=>{if(t){const e=i;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[i,t])}function bY(i){const t=[];if(!i||i===document.body)return t;const{overflow:e,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[e,n,r].some(a=>a==="auto"||a==="scroll")&&t.push(i),[...t,...bY(i.parentElement)]}const hct=["x","y","top","bottom","left","right","width","height"],dct=(i,t)=>hct.every(e=>i[e]===t[e]);function pct({ref:i,children:t,fallback:e,resize:n,style:r,gl:a,events:o=lct,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:p,frameloop:g,dpr:m,performance:_,raycaster:S,camera:T,scene:M,onPointerMissed:w,onCreated:D,...C}){vn.useMemo(()=>jut(uut),[]);const R=Lut(),[z,N]=uct({scroll:!0,debounce:{scroll:50,resize:0},...n}),O=vn.useRef(null),U=vn.useRef(null);vn.useImperativeHandle(i,()=>O.current);const F=cY(w),[V,W]=vn.useState(!1),[Z,H]=vn.useState(!1);if(V)throw V;if(Z)throw Z;const j=vn.useRef(null);Kb(()=>{const Q=O.current;if(N.width>0&&N.height>0&&Q){j.current||(j.current=ict(Q));async function nt(){await j.current.configure({gl:a,scene:M,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:p,frameloop:g,dpr:m,performance:_,raycaster:S,camera:T,size:N,onPointerMissed:(...q)=>F.current==null?void 0:F.current(...q),onCreated:q=>{q.events.connect==null||q.events.connect(s?Dut(s)?s.current:s:U.current),l&&q.setEvents({compute:($,st)=>{const ft=$[l+"X"],Mt=$[l+"Y"];st.pointer.set(ft/st.size.width*2-1,-(Mt/st.size.height)*2+1),st.raycaster.setFromCamera(st.pointer,st.camera)}}),D?.(q)}}),j.current.render(Os.jsx(R,{children:Os.jsx(Nut,{set:H,children:Os.jsx(vn.Suspense,{fallback:Os.jsx(Iut,{set:W}),children:t??null})})}))}nt()}}),vn.useEffect(()=>{const Q=O.current;if(Q)return()=>SY(Q)},[]);const Y=s?"none":"auto";return Os.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...r},...C,children:Os.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:Os.jsx("canvas",{ref:O,style:{display:"block"},children:e})})})}function MIt(i){return Os.jsx(oY,{children:Os.jsx(pct,{...i})})}function TH(i,t){if(t===HX)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(t===tC||t===tz){let e=i.getIndex();if(e===null){const o=[],s=i.getAttribute("position");if(s!==void 0){for(let l=0;l<s.count;l++)o.push(l);i.setIndex(o),e=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const n=e.count-2,r=[];if(t===tC)for(let o=1;o<=n;o++)r.push(e.getX(0)),r.push(e.getX(o)),r.push(e.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(r.push(e.getX(o)),r.push(e.getX(o+1)),r.push(e.getX(o+2))):(r.push(e.getX(o+2)),r.push(e.getX(o+1)),r.push(e.getX(o)));r.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=i.clone();return a.setIndex(r),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),i}class AIt extends $o{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new _ct(e)}),this.register(function(e){return new Sct(e)}),this.register(function(e){return new Dct(e)}),this.register(function(e){return new Rct(e)}),this.register(function(e){return new Lct(e)}),this.register(function(e){return new bct(e)}),this.register(function(e){return new Tct(e)}),this.register(function(e){return new Mct(e)}),this.register(function(e){return new Act(e)}),this.register(function(e){return new yct(e)}),this.register(function(e){return new wct(e)}),this.register(function(e){return new xct(e)}),this.register(function(e){return new Cct(e)}),this.register(function(e){return new Ect(e)}),this.register(function(e){return new gct(e)}),this.register(function(e){return new Ict(e)}),this.register(function(e){return new Nct(e)})}load(t,e,n,r){const a=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=Zd.extractUrlBase(t);o=Zd.resolveURL(u,this.path)}else o=Zd.extractUrlBase(t);this.manager.itemStart(t);const s=function(u){r?r(u):console.error(u),a.manager.itemError(t),a.manager.itemEnd(t)},l=new Lu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(u){try{a.parse(u,o,function(c){e(c),a.manager.itemEnd(t)},s)}catch(c){s(c)}},n,s)}setDRACOLoader(t){return this.dracoLoader=t,this}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,n,r){let a;const o={},s={},l=new TextDecoder;if(typeof t=="string")a=JSON.parse(t);else if(t instanceof ArrayBuffer)if(l.decode(new Uint8Array(t,0,4))===TY){try{o[Jn.KHR_BINARY_GLTF]=new Oct(t)}catch(f){r&&r(f);return}a=JSON.parse(o[Jn.KHR_BINARY_GLTF].content)}else a=JSON.parse(l.decode(t));else a=t;if(a.asset===void 0||a.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new qct(a,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const f=this.pluginCallbacks[c](u);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[f.name]=f,o[f.name]=!0}if(a.extensionsUsed)for(let c=0;c<a.extensionsUsed.length;++c){const f=a.extensionsUsed[c],h=a.extensionsRequired||[];switch(f){case Jn.KHR_MATERIALS_UNLIT:o[f]=new mct;break;case Jn.KHR_DRACO_MESH_COMPRESSION:o[f]=new Pct(a,this.dracoLoader);break;case Jn.KHR_TEXTURE_TRANSFORM:o[f]=new zct;break;case Jn.KHR_MESH_QUANTIZATION:o[f]=new Bct;break;default:h.indexOf(f)>=0&&s[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(o),u.setPlugins(s),u.parse(n,r)}parseAsync(t,e){const n=this;return new Promise(function(r,a){n.parse(t,e,r,a)})}}function vct(){let i={};return{get:function(t){return i[t]},add:function(t,e){i[t]=e},remove:function(t){delete i[t]},removeAll:function(){i={}}}}const Jn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class gct{constructor(t){this.parser=t,this.name=Jn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let n=0,r=e.length;n<r;n++){const a=e[n];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(t){const e=this.parser,n="light:"+t;let r=e.cache.get(n);if(r)return r;const a=e.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[t];let u;const c=new Me(16777215);l.color!==void 0&&c.setRGB(l.color[0],l.color[1],l.color[2],qa);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new Dz(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new Cz(c),u.distance=f;break;case"spot":u=new Ez(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),Rc(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=e.createUniqueName(l.name||"light_"+t),r=Promise.resolve(u),e.cache.add(n,r),r}getDependency(t,e){if(t==="light")return this._loadLight(e)}createNodeAttachment(t){const e=this,n=this.parser,a=n.json.nodes[t],s=(a.extensions&&a.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(l){return n._getNodeRef(e.cache,s,l)})}}class mct{constructor(){this.name=Jn.KHR_MATERIALS_UNLIT}getMaterialType(){return Hs}extendParams(t,e,n){const r=[];t.color=new Me(1,1,1),t.opacity=1;const a=e.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const o=a.baseColorFactor;t.color.setRGB(o[0],o[1],o[2],qa),t.opacity=o[3]}a.baseColorTexture!==void 0&&r.push(n.assignTexture(t,"map",a.baseColorTexture,Ir))}return Promise.all(r)}}class yct{constructor(t){this.parser=t,this.name=Jn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name].emissiveStrength;return a!==void 0&&(e.emissiveIntensity=a),Promise.resolve()}}class _ct{constructor(t){this.parser=t,this.name=Jn.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ul}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(e.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&a.push(n.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&a.push(n.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(a.push(n.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const s=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new Zt(s,s)}return Promise.all(a)}}class Sct{constructor(t){this.parser=t,this.name=Jn.KHR_MATERIALS_DISPERSION}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ul}extendMaterialParams(t,e){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return e.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class xct{constructor(t){this.parser=t,this.name=Jn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ul}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(e.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&a.push(n.assignTexture(e,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(e.iridescenceIOR=o.iridescenceIor),e.iridescenceThicknessRange===void 0&&(e.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(e.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(e.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&a.push(n.assignTexture(e,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(a)}}class bct{constructor(t){this.parser=t,this.name=Jn.KHR_MATERIALS_SHEEN}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ul}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[];e.sheenColor=new Me(0,0,0),e.sheenRoughness=0,e.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const s=o.sheenColorFactor;e.sheenColor.setRGB(s[0],s[1],s[2],qa)}return o.sheenRoughnessFactor!==void 0&&(e.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&a.push(n.assignTexture(e,"sheenColorMap",o.sheenColorTexture,Ir)),o.sheenRoughnessTexture!==void 0&&a.push(n.assignTexture(e,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(a)}}class Tct{constructor(t){this.parser=t,this.name=Jn.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ul}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(e.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&a.push(n.assignTexture(e,"transmissionMap",o.transmissionTexture)),Promise.all(a)}}class Mct{constructor(t){this.parser=t,this.name=Jn.KHR_MATERIALS_VOLUME}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ul}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];e.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&a.push(n.assignTexture(e,"thicknessMap",o.thicknessTexture)),e.attenuationDistance=o.attenuationDistance||1/0;const s=o.attenuationColor||[1,1,1];return e.attenuationColor=new Me().setRGB(s[0],s[1],s[2],qa),Promise.all(a)}}class Act{constructor(t){this.parser=t,this.name=Jn.KHR_MATERIALS_IOR}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ul}extendMaterialParams(t,e){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return e.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class wct{constructor(t){this.parser=t,this.name=Jn.KHR_MATERIALS_SPECULAR}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ul}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];e.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&a.push(n.assignTexture(e,"specularIntensityMap",o.specularTexture));const s=o.specularColorFactor||[1,1,1];return e.specularColor=new Me().setRGB(s[0],s[1],s[2],qa),o.specularColorTexture!==void 0&&a.push(n.assignTexture(e,"specularColorMap",o.specularColorTexture,Ir)),Promise.all(a)}}class Ect{constructor(t){this.parser=t,this.name=Jn.EXT_MATERIALS_BUMP}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ul}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return e.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&a.push(n.assignTexture(e,"bumpMap",o.bumpTexture)),Promise.all(a)}}class Cct{constructor(t){this.parser=t,this.name=Jn.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ul}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(e.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(e.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&a.push(n.assignTexture(e,"anisotropyMap",o.anisotropyTexture)),Promise.all(a)}}class Dct{constructor(t){this.parser=t,this.name=Jn.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,n=e.json,r=n.textures[t];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],o=e.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,a.source,o)}}class Rct{constructor(t){this.parser=t,this.name=Jn.EXT_TEXTURE_WEBP}loadTexture(t){const e=this.name,n=this.parser,r=n.json,a=r.textures[t];if(!a.extensions||!a.extensions[e])return null;const o=a.extensions[e],s=r.images[o.source];let l=n.textureLoader;if(s.uri){const u=n.options.manager.getHandler(s.uri);u!==null&&(l=u)}return n.loadTextureImage(t,o.source,l)}}class Lct{constructor(t){this.parser=t,this.name=Jn.EXT_TEXTURE_AVIF}loadTexture(t){const e=this.name,n=this.parser,r=n.json,a=r.textures[t];if(!a.extensions||!a.extensions[e])return null;const o=a.extensions[e],s=r.images[o.source];let l=n.textureLoader;if(s.uri){const u=n.options.manager.getHandler(s.uri);u!==null&&(l=u)}return n.loadTextureImage(t,o.source,l)}}class Ict{constructor(t){this.name=Jn.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(s){const l=r.byteOffset||0,u=r.byteLength||0,c=r.count,f=r.byteStride,h=new Uint8Array(s,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,h,r.mode,r.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(p),c,f,h,r.mode,r.filter),p})})}else return null}}class Nct{constructor(t){this.name=Jn.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const e=this.parser.json,n=e.nodes[t];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const r=e.meshes[n.mesh];for(const u of r.primitives)if(u.mode!==bl.TRIANGLES&&u.mode!==bl.TRIANGLE_STRIP&&u.mode!==bl.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=n.extensions[this.name].attributes,s=[],l={};for(const u in o)s.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return s.length<1?null:(s.push(this.parser.createNodeMesh(t)),Promise.all(s).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],h=u[0].count,p=[];for(const g of f){const m=new un,_=new it,S=new Ra,T=new it(1,1,1),M=new uz(g.geometry,g.material,h);for(let w=0;w<h;w++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&S.fromBufferAttribute(l.ROTATION,w),l.SCALE&&T.fromBufferAttribute(l.SCALE,w),M.setMatrixAt(w,m.compose(_,S,T));for(const w in l)if(w==="_COLOR_0"){const D=l[w];M.instanceColor=new zg(D.array,D.itemSize,D.normalized)}else w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&g.geometry.setAttribute(w,l[w]);oi.prototype.copy.call(M,g),this.parser.assignFinalMaterial(M),p.push(M)}return c.isGroup?(c.clear(),c.add(...p),c):p[0]}))}}const TY="glTF",Rx=12,MH={JSON:1313821514,BIN:5130562};class Oct{constructor(t){this.name=Jn.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,Rx),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==TY)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Rx,a=new DataView(t,Rx);let o=0;for(;o<r;){const s=a.getUint32(o,!0);o+=4;const l=a.getUint32(o,!0);if(o+=4,l===MH.JSON){const u=new Uint8Array(t,Rx+o,s);this.content=n.decode(u)}else if(l===MH.BIN){const u=Rx+o;this.body=t.slice(u,u+s)}o+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Pct{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Jn.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const n=this.json,r=this.dracoLoader,a=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,s={},l={},u={};for(const c in o){const f=RO[c]||c.toLowerCase();s[f]=o[c]}for(const c in t.attributes){const f=RO[c]||c.toLowerCase();if(o[c]!==void 0){const h=n.accessors[t.attributes[c]],p=L0[h.componentType];u[f]=p.name,l[f]=h.normalized===!0}}return e.getDependency("bufferView",a).then(function(c){return new Promise(function(f,h){r.decodeDracoFile(c,function(p){for(const g in p.attributes){const m=p.attributes[g],_=l[g];_!==void 0&&(m.normalized=_)}f(p)},s,u,qa,h)})})}}class zct{constructor(){this.name=Jn.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return(e.texCoord===void 0||e.texCoord===t.channel)&&e.offset===void 0&&e.rotation===void 0&&e.scale===void 0||(t=t.clone(),e.texCoord!==void 0&&(t.channel=e.texCoord),e.offset!==void 0&&t.offset.fromArray(e.offset),e.rotation!==void 0&&(t.rotation=e.rotation),e.scale!==void 0&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class Bct{constructor(){this.name=Jn.KHR_MESH_QUANTIZATION}}class MY extends S_{constructor(t,e,n,r){super(t,e,n,r)}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=t*r*3+r;for(let o=0;o!==r;o++)e[o]=n[a+o];return e}interpolate_(t,e,n,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=s*2,u=s*3,c=r-e,f=(n-e)/c,h=f*f,p=h*f,g=t*u,m=g-u,_=-2*p+3*h,S=p-h,T=1-_,M=S-h+f;for(let w=0;w!==s;w++){const D=o[m+w+s],C=o[m+w+l]*c,R=o[g+w+s],z=o[g+w]*c;a[w]=T*D+M*C+_*R+S*z}return a}}const Uct=new Ra;class Vct extends MY{interpolate_(t,e,n,r){const a=super.interpolate_(t,e,n,r);return Uct.fromArray(a).normalize().toArray(a),a}}const bl={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},L0={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},AH={9728:oa,9729:xr,9984:T2,9985:D0,9986:pg,9987:Rl},wH={33071:Us,33648:U0,10497:rp},OL={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},RO={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Md={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Hct={CUBICSPLINE:void 0,LINEAR:X0,STEP:G0},PL={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function kct(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new jb({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Yc})),i.DefaultMaterial}function wv(i,t,e){for(const n in e.extensions)i[n]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=e.extensions[n])}function Rc(i,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(i.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Fct(i,t,e){let n=!1,r=!1,a=!1;for(let u=0,c=t.length;u<c;u++){const f=t[u];if(f.POSITION!==void 0&&(n=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(a=!0),n&&r&&a)break}if(!n&&!r&&!a)return Promise.resolve(i);const o=[],s=[],l=[];for(let u=0,c=t.length;u<c;u++){const f=t[u];if(n){const h=f.POSITION!==void 0?e.getDependency("accessor",f.POSITION):i.attributes.position;o.push(h)}if(r){const h=f.NORMAL!==void 0?e.getDependency("accessor",f.NORMAL):i.attributes.normal;s.push(h)}if(a){const h=f.COLOR_0!==void 0?e.getDependency("accessor",f.COLOR_0):i.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],h=u[2];return n&&(i.morphAttributes.position=c),r&&(i.morphAttributes.normal=f),a&&(i.morphAttributes.color=h),i.morphTargetsRelative=!0,i})}function Gct(i,t){if(i.updateMorphTargets(),t.weights!==void 0)for(let e=0,n=t.weights.length;e<n;e++)i.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(i.morphTargetInfluences.length===e.length){i.morphTargetDictionary={};for(let n=0,r=e.length;n<r;n++)i.morphTargetDictionary[e[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Xct(i){let t;const e=i.extensions&&i.extensions[Jn.KHR_DRACO_MESH_COMPRESSION];if(e?t="draco:"+e.bufferView+":"+e.indices+":"+zL(e.attributes):t=i.indices+":"+zL(i.attributes)+":"+i.mode,i.targets!==void 0)for(let n=0,r=i.targets.length;n<r;n++)t+=":"+zL(i.targets[n]);return t}function zL(i){let t="";const e=Object.keys(i).sort();for(let n=0,r=e.length;n<r;n++)t+=e[n]+":"+i[e[n]]+";";return t}function LO(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Wct(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":i.search(/\.ktx2($|\?)/i)>0||i.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const Yct=new un;class qct{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new vct,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=-1,a=!1,o=-1;if(typeof navigator<"u"){const s=navigator.userAgent;n=/^((?!chrome|android).)*safari/i.test(s)===!0;const l=s.match(/Version\/(\d+)/);r=n&&l?parseInt(l[1],10):-1,a=s.indexOf("Firefox")>-1,o=a?s.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||n&&r<17||a&&o<98?this.textureLoader=new zW(this.options.manager):this.textureLoader=new XW(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Lu(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const n=this,r=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const s={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:n,userData:{}};return wv(a,s,r),Rc(s,r),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(s)})).then(function(){for(const l of s.scenes)l.updateMatrixWorld();t(s)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[];for(let r=0,a=e.length;r<a;r++){const o=e[r].joints;for(let s=0,l=o.length;s<l;s++)t[o[s]].isBone=!0}for(let r=0,a=t.length;r<a;r++){const o=t[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(t,e){e!==void 0&&(t.refs[e]===void 0&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,n){if(t.refs[e]<=1)return n;const r=n.clone(),a=(o,s)=>{const l=this.associations.get(o);l!=null&&this.associations.set(s,l);for(const[u,c]of o.children.entries())a(c,s.children[u])};return a(n,r),r.name+="_instance_"+t.uses[e]++,r}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let n=0;n<e.length;n++){const r=t(e[n]);if(r)return r}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const n=[];for(let r=0;r<e.length;r++){const a=t(e[r]);a&&n.push(a)}return n}getDependency(t,e){const n=t+":"+e;let r=this.cache.get(n);if(!r){switch(t){case"scene":r=this.loadScene(e);break;case"node":r=this._invokeOne(function(a){return a.loadNode&&a.loadNode(e)});break;case"mesh":r=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(e)});break;case"accessor":r=this.loadAccessor(e);break;case"bufferView":r=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(e)});break;case"buffer":r=this.loadBuffer(e);break;case"material":r=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(e)});break;case"texture":r=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(e)});break;case"skin":r=this.loadSkin(e);break;case"animation":r=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(e)});break;case"camera":r=this.loadCamera(e);break;default:if(r=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(t,e)}),!r)throw new Error("Unknown type: "+t);break}this.cache.add(n,r)}return r}getDependencies(t){let e=this.cache.get(t);if(!e){const n=this,r=this.json[t+(t==="mesh"?"es":"s")]||[];e=Promise.all(r.map(function(a,o){return n.getDependency(t,o)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],n=this.fileLoader;if(e.type&&e.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(e.uri===void 0&&t===0)return Promise.resolve(this.extensions[Jn.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(a,o){n.load(Zd.resolveURL(e.uri,r.path),a,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(n){const r=e.byteLength||0,a=e.byteOffset||0;return n.slice(a,a+r)})}loadAccessor(t){const e=this,n=this.json,r=this.json.accessors[t];if(r.bufferView===void 0&&r.sparse===void 0){const o=OL[r.type],s=L0[r.componentType],l=r.normalized===!0,u=new s(r.count*o);return Promise.resolve(new xi(u,o,l))}const a=[];return r.bufferView!==void 0?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),r.sparse!==void 0&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(o){const s=o[0],l=OL[r.type],u=L0[r.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,h=r.byteOffset||0,p=r.bufferView!==void 0?n.bufferViews[r.bufferView].byteStride:void 0,g=r.normalized===!0;let m,_;if(p&&p!==f){const S=Math.floor(h/p),T="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+S+":"+r.count;let M=e.cache.get(T);M||(m=new u(s,S*p,r.count*p/c),M=new Gb(m,p/c),e.cache.add(T,M)),_=new ap(M,l,h%p/c,g)}else s===null?m=new u(r.count*l):m=new u(s,h,r.count*l),_=new xi(m,l,g);if(r.sparse!==void 0){const S=OL.SCALAR,T=L0[r.sparse.indices.componentType],M=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,D=new T(o[1],M,r.sparse.count*S),C=new u(o[2],w,r.sparse.count*l);s!==null&&(_=new xi(_.array.slice(),_.itemSize,_.normalized)),_.normalized=!1;for(let R=0,z=D.length;R<z;R++){const N=D[R];if(_.setX(N,C[R*l]),l>=2&&_.setY(N,C[R*l+1]),l>=3&&_.setZ(N,C[R*l+2]),l>=4&&_.setW(N,C[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}_.normalized=g}return _})}loadTexture(t){const e=this.json,n=this.options,a=e.textures[t].source,o=e.images[a];let s=this.textureLoader;if(o.uri){const l=n.manager.getHandler(o.uri);l!==null&&(s=l)}return this.loadTextureImage(t,a,s)}loadTextureImage(t,e,n){const r=this,a=this.json,o=a.textures[t],s=a.images[e],l=(s.uri||s.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(e,n).then(function(c){c.flipY=!1,c.name=o.name||s.name||"",c.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(c.name=s.uri);const h=(a.samplers||{})[o.sampler]||{};return c.magFilter=AH[h.magFilter]||xr,c.minFilter=AH[h.minFilter]||Rl,c.wrapS=wH[h.wrapS]||rp,c.wrapT=wH[h.wrapT]||rp,c.generateMipmaps=!c.isCompressedTexture&&c.minFilter!==oa&&c.minFilter!==xr,r.associations.set(c,{textures:t}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(t,e){const n=this,r=this.json,a=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(f=>f.clone());const o=r.images[t],s=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=n.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const h=new Blob([f],{type:o.mimeType});return l=s.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(h,p){let g=h;e.isImageBitmapLoader===!0&&(g=function(m){const _=new tr(m);_.needsUpdate=!0,h(_)}),e.load(Zd.resolveURL(f,a.path),g,void 0,p)})}).then(function(f){return u===!0&&s.revokeObjectURL(l),Rc(f,o),f.userData.mimeType=o.mimeType||Wct(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[t]=c,c}assignTexture(t,e,n,r){const a=this;return this.getDependency("texture",n.index).then(function(o){if(!o)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(o=o.clone(),o.channel=n.texCoord),a.extensions[Jn.KHR_TEXTURE_TRANSFORM]){const s=n.extensions!==void 0?n.extensions[Jn.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const l=a.associations.get(o);o=a.extensions[Jn.KHR_TEXTURE_TRANSFORM].extendTexture(o,s),a.associations.set(o,l)}}return r!==void 0&&(o.colorSpace=r),t[e]=o,o})}assignFinalMaterial(t){const e=t.geometry;let n=t.material;const r=e.attributes.tangent===void 0,a=e.attributes.color!==void 0,o=e.attributes.normal===void 0;if(t.isPoints){const s="PointsMaterial:"+n.uuid;let l=this.cache.get(s);l||(l=new U2,sa.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(s,l)),n=l}else if(t.isLine){const s="LineBasicMaterial:"+n.uuid;let l=this.cache.get(s);l||(l=new bo,sa.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(s,l)),n=l}if(r||a||o){let s="ClonedMaterial:"+n.uuid+":";r&&(s+="derivative-tangents:"),a&&(s+="vertex-colors:"),o&&(s+="flat-shading:");let l=this.cache.get(s);l||(l=n.clone(),a&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(s,l),this.associations.set(l,this.associations.get(n))),n=l}t.material=n}getMaterialType(){return jb}loadMaterial(t){const e=this,n=this.json,r=this.extensions,a=n.materials[t];let o;const s={},l=a.extensions||{},u=[];if(l[Jn.KHR_MATERIALS_UNLIT]){const f=r[Jn.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(s,a,e))}else{const f=a.pbrMetallicRoughness||{};if(s.color=new Me(1,1,1),s.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;s.color.setRGB(h[0],h[1],h[2],qa),s.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(e.assignTexture(s,"map",f.baseColorTexture,Ir)),s.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,s.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(e.assignTexture(s,"metalnessMap",f.metallicRoughnessTexture)),u.push(e.assignTexture(s,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(t)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(t,s)})))}a.doubleSided===!0&&(s.side=bu);const c=a.alphaMode||PL.OPAQUE;if(c===PL.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,c===PL.MASK&&(s.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&o!==Hs&&(u.push(e.assignTexture(s,"normalMap",a.normalTexture)),s.normalScale=new Zt(1,1),a.normalTexture.scale!==void 0)){const f=a.normalTexture.scale;s.normalScale.set(f,f)}if(a.occlusionTexture!==void 0&&o!==Hs&&(u.push(e.assignTexture(s,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&o!==Hs){const f=a.emissiveFactor;s.emissive=new Me().setRGB(f[0],f[1],f[2],qa)}return a.emissiveTexture!==void 0&&o!==Hs&&u.push(e.assignTexture(s,"emissiveMap",a.emissiveTexture,Ir)),Promise.all(u).then(function(){const f=new o(s);return a.name&&(f.name=a.name),Rc(f,a),e.associations.set(f,{materials:t}),a.extensions&&wv(r,f,a),f})}createUniqueName(t){const e=li.sanitizeNodeName(t||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(t){const e=this,n=this.extensions,r=this.primitiveCache;function a(s){return n[Jn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,e).then(function(l){return EH(l,s,e)})}const o=[];for(let s=0,l=t.length;s<l;s++){const u=t[s],c=Xct(u),f=r[c];if(f)o.push(f.promise);else{let h;u.extensions&&u.extensions[Jn.KHR_DRACO_MESH_COMPRESSION]?h=a(u):h=EH(new Ln,u,e),r[c]={primitive:u,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(t){const e=this,n=this.json,r=this.extensions,a=n.meshes[t],o=a.primitives,s=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?kct(this.cache):this.getDependency("material",o[l].material);s.push(c)}return s.push(e.loadGeometries(o)),Promise.all(s).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let p=0,g=c.length;p<g;p++){const m=c[p],_=o[p];let S;const T=u[p];if(_.mode===bl.TRIANGLES||_.mode===bl.TRIANGLE_STRIP||_.mode===bl.TRIANGLE_FAN||_.mode===void 0)S=a.isSkinnedMesh===!0?new lz(m,T):new Nr(m,T),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),_.mode===bl.TRIANGLE_STRIP?S.geometry=TH(S.geometry,tz):_.mode===bl.TRIANGLE_FAN&&(S.geometry=TH(S.geometry,tC));else if(_.mode===bl.LINES)S=new Pu(m,T);else if(_.mode===bl.LINE_STRIP)S=new mh(m,T);else if(_.mode===bl.LINE_LOOP)S=new cz(m,T);else if(_.mode===bl.POINTS)S=new fz(m,T);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(S.geometry.morphAttributes).length>0&&Gct(S,a),S.name=e.createUniqueName(a.name||"mesh_"+t),Rc(S,a),_.extensions&&wv(r,S,_),e.assignFinalMaterial(S),f.push(S)}for(let p=0,g=f.length;p<g;p++)e.associations.set(f[p],{meshes:t,primitives:p});if(f.length===1)return a.extensions&&wv(r,f[0],a),f[0];const h=new th;a.extensions&&wv(r,h,a),e.associations.set(h,{meshes:t});for(let p=0,g=f.length;p<g;p++)h.add(f[p]);return h})}loadCamera(t){let e;const n=this.json.cameras[t],r=n[n.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?e=new Sr(QX.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):n.type==="orthographic"&&(e=new lh(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),Rc(e,n),Promise.resolve(e)}loadSkin(t){const e=this.json.skins[t],n=[];for(let r=0,a=e.joints.length;r<a;r++)n.push(this._loadNodeShallow(e.joints[r]));return e.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",e.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(r){const a=r.pop(),o=r,s=[],l=[];for(let u=0,c=o.length;u<c;u++){const f=o[u];if(f){s.push(f);const h=new un;a!==null&&h.fromArray(a.array,u*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[u])}return new Xb(s,l)})}loadAnimation(t){const e=this.json,n=this,r=e.animations[t],a=r.name?r.name:"animation_"+t,o=[],s=[],l=[],u=[],c=[];for(let f=0,h=r.channels.length;f<h;f++){const p=r.channels[f],g=r.samplers[p.sampler],m=p.target,_=m.node,S=r.parameters!==void 0?r.parameters[g.input]:g.input,T=r.parameters!==void 0?r.parameters[g.output]:g.output;m.node!==void 0&&(o.push(this.getDependency("node",_)),s.push(this.getDependency("accessor",S)),l.push(this.getDependency("accessor",T)),u.push(g),c.push(m))}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(l),Promise.all(u),Promise.all(c)]).then(function(f){const h=f[0],p=f[1],g=f[2],m=f[3],_=f[4],S=[];for(let M=0,w=h.length;M<w;M++){const D=h[M],C=p[M],R=g[M],z=m[M],N=_[M];if(D===void 0)continue;D.updateMatrix&&D.updateMatrix();const O=n._createAnimationTracks(D,C,R,z,N);if(O)for(let U=0;U<O.length;U++)S.push(O[U])}const T=new K0(a,void 0,S);return Rc(T,r),T})}createNodeMesh(t){const e=this.json,n=this,r=e.nodes[t];return r.mesh===void 0?null:n.getDependency("mesh",r.mesh).then(function(a){const o=n._getNodeRef(n.meshCache,r.mesh,a);return r.weights!==void 0&&o.traverse(function(s){if(s.isMesh)for(let l=0,u=r.weights.length;l<u;l++)s.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(t){const e=this.json,n=this,r=e.nodes[t],a=n._loadNodeShallow(t),o=[],s=r.children||[];for(let u=0,c=s.length;u<c;u++)o.push(n.getDependency("node",s[u]));const l=r.skin===void 0?Promise.resolve(null):n.getDependency("skin",r.skin);return Promise.all([a,Promise.all(o),l]).then(function(u){const c=u[0],f=u[1],h=u[2];h!==null&&c.traverse(function(p){p.isSkinnedMesh&&p.bind(h,Yct)});for(let p=0,g=f.length;p<g;p++)c.add(f[p]);return c})}_loadNodeShallow(t){const e=this.json,n=this.extensions,r=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const a=e.nodes[t],o=a.name?r.createUniqueName(a.name):"",s=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(t)});return l&&s.push(l),a.camera!==void 0&&s.push(r.getDependency("camera",a.camera).then(function(u){return r._getNodeRef(r.cameraCache,a.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(t)}).forEach(function(u){s.push(u)}),this.nodeCache[t]=Promise.all(s).then(function(u){let c;if(a.isBone===!0?c=new z2:u.length>1?c=new th:u.length===1?c=u[0]:c=new oi,c!==u[0])for(let f=0,h=u.length;f<h;f++)c.add(u[f]);if(a.name&&(c.userData.name=a.name,c.name=o),Rc(c,a),a.extensions&&wv(n,c,a),a.matrix!==void 0){const f=new un;f.fromArray(a.matrix),c.applyMatrix4(f)}else a.translation!==void 0&&c.position.fromArray(a.translation),a.rotation!==void 0&&c.quaternion.fromArray(a.rotation),a.scale!==void 0&&c.scale.fromArray(a.scale);if(!r.associations.has(c))r.associations.set(c,{});else if(a.mesh!==void 0&&r.meshCache.refs[a.mesh]>1){const f=r.associations.get(c);r.associations.set(c,{...f})}return r.associations.get(c).nodes=t,c}),this.nodeCache[t]}loadScene(t){const e=this.extensions,n=this.json.scenes[t],r=this,a=new th;n.name&&(a.name=r.createUniqueName(n.name)),Rc(a,n),n.extensions&&wv(e,a,n);const o=n.nodes||[],s=[];for(let l=0,u=o.length;l<u;l++)s.push(r.getDependency("node",o[l]));return Promise.all(s).then(function(l){for(let c=0,f=l.length;c<f;c++)a.add(l[c]);const u=c=>{const f=new Map;for(const[h,p]of r.associations)(h instanceof sa||h instanceof tr)&&f.set(h,p);return c.traverse(h=>{const p=r.associations.get(h);p!=null&&f.set(h,p)}),f};return r.associations=u(a),a})}_createAnimationTracks(t,e,n,r,a){const o=[],s=t.name?t.name:t.uuid,l=[];Md[a.path]===Md.weights?t.traverse(function(h){h.morphTargetInfluences&&l.push(h.name?h.name:h.uuid)}):l.push(s);let u;switch(Md[a.path]){case Md.weights:u=Ug;break;case Md.rotation:u=Vg;break;case Md.translation:case Md.scale:u=Hg;break;default:switch(n.itemSize){case 1:u=Ug;break;case 2:case 3:default:u=Hg;break}break}const c=r.interpolation!==void 0?Hct[r.interpolation]:X0,f=this._getArrayFromAccessor(n);for(let h=0,p=l.length;h<p;h++){const g=new u(l[h]+"."+Md[a.path],e.array,f,c);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),o.push(g)}return o}_getArrayFromAccessor(t){let e=t.array;if(t.normalized){const n=LO(e.constructor),r=new Float32Array(e.length);for(let a=0,o=e.length;a<o;a++)r[a]=e[a]*n;e=r}return e}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(n){const r=this instanceof Vg?Vct:MY;return new r(this.times,this.values,this.getValueSize()/3,n)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Zct(i,t,e){const n=t.attributes,r=new Wa;if(n.POSITION!==void 0){const s=e.json.accessors[n.POSITION],l=s.min,u=s.max;if(l!==void 0&&u!==void 0){if(r.set(new it(l[0],l[1],l[2]),new it(u[0],u[1],u[2])),s.normalized){const c=LO(L0[s.componentType]);r.min.multiplyScalar(c),r.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=t.targets;if(a!==void 0){const s=new it,l=new it;for(let u=0,c=a.length;u<c;u++){const f=a[u];if(f.POSITION!==void 0){const h=e.json.accessors[f.POSITION],p=h.min,g=h.max;if(p!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),h.normalized){const m=LO(L0[h.componentType]);l.multiplyScalar(m)}s.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(s)}i.boundingBox=r;const o=new La;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,i.boundingSphere=o}function EH(i,t,e){const n=t.attributes,r=[];function a(o,s){return e.getDependency("accessor",o).then(function(l){i.setAttribute(s,l)})}for(const o in n){const s=RO[o]||o.toLowerCase();s in i.attributes||r.push(a(n[o],s))}if(t.indices!==void 0&&!i.index){const o=e.getDependency("accessor",t.indices).then(function(s){i.setIndex(s)});r.push(o)}return Qn.workingColorSpace!==qa&&"COLOR_0"in n&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Qn.workingColorSpace}" not supported.`),Rc(i,t),Zct(i,t,e),Promise.all(r).then(function(){return t.targets!==void 0?Fct(i,t.targets,e):i})}function IO(){return IO=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},IO.apply(null,arguments)}function jct(i,t){let e;try{e=i()}catch{return}return{getItem:r=>{var a;const o=l=>l===null?null:JSON.parse(l,void 0),s=(a=e.getItem(r))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(r,a)=>e.setItem(r,JSON.stringify(a,void 0)),removeItem:r=>e.removeItem(r)}}const NO=i=>t=>{try{const e=i(t);return e instanceof Promise?e:{then(n){return NO(n)(e)},catch(n){return this}}}catch(e){return{then(n){return this},catch(n){return NO(n)(e)}}}},Kct=(i,t)=>(e,n,r)=>{let a={storage:jct(()=>localStorage),partialize:m=>m,version:0,merge:(m,_)=>({..._,...m}),...t},o=!1;const s=new Set,l=new Set;let u=a.storage;if(!u)return i((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),e(...m)},n,r);const c=()=>{const m=a.partialize({...n()});return u.setItem(a.name,{state:m,version:a.version})},f=r.setState;r.setState=(m,_)=>(f(m,_),c());const h=i((...m)=>(e(...m),c()),n,r);r.getInitialState=()=>h;let p;const g=()=>{var m,_;if(!u)return;o=!1,s.forEach(T=>{var M;return T((M=n())!=null?M:h)});const S=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(m=n())!=null?m:h))||void 0;return NO(u.getItem.bind(u))(a.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==a.version){if(a.migrate){const M=a.migrate(T.state,T.version);return M instanceof Promise?M.then(w=>[!0,w]):[!0,M]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var M;const[w,D]=T;if(p=a.merge(D,(M=n())!=null?M:h),e(p,!0),w)return c()}).then(()=>{S?.(p,void 0),p=n(),o=!0,l.forEach(T=>T(p))}).catch(T=>{S?.(void 0,T)})};return r.persist={setOptions:m=>{a={...a,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(s.add(m),()=>{s.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},a.skipHydration||g(),p||h},wIt=Kct;var Qct=Object.defineProperty,Jct=(i,t,e)=>t in i?Qct(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,$ct=(i,t,e)=>(Jct(i,t+"",e),e);class tft{constructor(){$ct(this,"_listeners")}addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const n=this._listeners;return n[t]!==void 0&&n[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const r=this._listeners[t];if(r!==void 0){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const n=this._listeners[t.type];if(n!==void 0){t.target=this;const r=n.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,t);t.target=null}}}var eft=Object.defineProperty,nft=(i,t,e)=>t in i?eft(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,ln=(i,t,e)=>(nft(i,typeof t!="symbol"?t+"":t,e),e);const RA=new $g,CH=new Kf,ift=Math.cos(70*(Math.PI/180)),DH=(i,t)=>(i%t+t)%t;let rft=class extends tft{constructor(t,e){super(),ln(this,"object"),ln(this,"domElement"),ln(this,"enabled",!0),ln(this,"target",new it),ln(this,"minDistance",0),ln(this,"maxDistance",1/0),ln(this,"minZoom",0),ln(this,"maxZoom",1/0),ln(this,"minPolarAngle",0),ln(this,"maxPolarAngle",Math.PI),ln(this,"minAzimuthAngle",-1/0),ln(this,"maxAzimuthAngle",1/0),ln(this,"enableDamping",!1),ln(this,"dampingFactor",.05),ln(this,"enableZoom",!0),ln(this,"zoomSpeed",1),ln(this,"enableRotate",!0),ln(this,"rotateSpeed",1),ln(this,"enablePan",!0),ln(this,"panSpeed",1),ln(this,"screenSpacePanning",!0),ln(this,"keyPanSpeed",7),ln(this,"zoomToCursor",!1),ln(this,"autoRotate",!1),ln(this,"autoRotateSpeed",2),ln(this,"reverseOrbit",!1),ln(this,"reverseHorizontalOrbit",!1),ln(this,"reverseVerticalOrbit",!1),ln(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ln(this,"mouseButtons",{LEFT:$v.ROTATE,MIDDLE:$v.DOLLY,RIGHT:$v.PAN}),ln(this,"touches",{ONE:tg.ROTATE,TWO:tg.DOLLY_PAN}),ln(this,"target0"),ln(this,"position0"),ln(this,"zoom0"),ln(this,"_domElementKeyEvents",null),ln(this,"getPolarAngle"),ln(this,"getAzimuthalAngle"),ln(this,"setPolarAngle"),ln(this,"setAzimuthalAngle"),ln(this,"getDistance"),ln(this,"getZoomScale"),ln(this,"listenToKeyEvents"),ln(this,"stopListenToKeyEvents"),ln(this,"saveState"),ln(this,"reset"),ln(this,"update"),ln(this,"connect"),ln(this,"dispose"),ln(this,"dollyIn"),ln(this,"dollyOut"),ln(this,"getScale"),ln(this,"setScale"),this.object=t,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ot=>{let At=DH(ot,2*Math.PI),de=c.phi;de<0&&(de+=2*Math.PI),At<0&&(At+=2*Math.PI);let lt=Math.abs(At-de);2*Math.PI-lt<lt&&(At<de?At+=2*Math.PI:de+=2*Math.PI),f.phi=At-de,n.update()},this.setAzimuthalAngle=ot=>{let At=DH(ot,2*Math.PI),de=c.theta;de<0&&(de+=2*Math.PI),At<0&&(At+=2*Math.PI);let lt=Math.abs(At-de);2*Math.PI-lt<lt&&(At<de?At+=2*Math.PI:de+=2*Math.PI),f.theta=At-de,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=ot=>{ot.addEventListener("keydown",Gt),this._domElementKeyEvents=ot},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Gt),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),l=s.NONE},this.update=(()=>{const ot=new it,At=new it(0,1,0),de=new Ra().setFromUnitVectors(t.up,At),lt=de.clone().invert(),Jt=new it,ce=new Ra,Se=2*Math.PI;return function(){const Kt=n.object.position;de.setFromUnitVectors(t.up,At),lt.copy(de).invert(),ot.copy(Kt).sub(n.target),ot.applyQuaternion(de),c.setFromVector3(ot),n.autoRotate&&l===s.NONE&&W(F()),n.enableDamping?(c.theta+=f.theta*n.dampingFactor,c.phi+=f.phi*n.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let xe=n.minAzimuthAngle,qe=n.maxAzimuthAngle;isFinite(xe)&&isFinite(qe)&&(xe<-Math.PI?xe+=Se:xe>Math.PI&&(xe-=Se),qe<-Math.PI?qe+=Se:qe>Math.PI&&(qe-=Se),xe<=qe?c.theta=Math.max(xe,Math.min(qe,c.theta)):c.theta=c.theta>(xe+qe)/2?Math.max(xe,c.theta):Math.min(qe,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(p,n.dampingFactor):n.target.add(p),n.zoomToCursor&&N||n.object.isOrthographicCamera?c.radius=st(c.radius):c.radius=st(c.radius*h),ot.setFromSpherical(c),ot.applyQuaternion(lt),Kt.copy(n.target).add(ot),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,p.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),p.set(0,0,0));let zn=!1;if(n.zoomToCursor&&N){let Mn=null;if(n.object instanceof Sr&&n.object.isPerspectiveCamera){const Yi=ot.length();Mn=st(Yi*h);const Br=Yi-Mn;n.object.position.addScaledVector(R,Br),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const Yi=new it(z.x,z.y,0);Yi.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix(),zn=!0;const Br=new it(z.x,z.y,0);Br.unproject(n.object),n.object.position.sub(Br).add(Yi),n.object.updateMatrixWorld(),Mn=ot.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Mn!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Mn).add(n.object.position):(RA.origin.copy(n.object.position),RA.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(RA.direction))<ift?t.lookAt(n.target):(CH.setFromNormalAndCoplanarPoint(n.object.up,n.target),RA.intersectPlane(CH,n.target))))}else n.object instanceof lh&&n.object.isOrthographicCamera&&(zn=h!==1,zn&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix()));return h=1,N=!1,zn||Jt.distanceToSquared(n.object.position)>u||8*(1-ce.dot(n.object.quaternion))>u?(n.dispatchEvent(r),Jt.copy(n.object.position),ce.copy(n.object.quaternion),zn=!1,!0):!1}})(),this.connect=ot=>{n.domElement=ot,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Pe),n.domElement.addEventListener("pointerdown",nn),n.domElement.addEventListener("pointercancel",K),n.domElement.addEventListener("wheel",ee)},this.dispose=()=>{var ot,At,de,lt,Jt,ce;n.domElement&&(n.domElement.style.touchAction="auto"),(ot=n.domElement)==null||ot.removeEventListener("contextmenu",Pe),(At=n.domElement)==null||At.removeEventListener("pointerdown",nn),(de=n.domElement)==null||de.removeEventListener("pointercancel",K),(lt=n.domElement)==null||lt.removeEventListener("wheel",ee),(Jt=n.domElement)==null||Jt.ownerDocument.removeEventListener("pointermove",rt),(ce=n.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",K),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Gt)};const n=this,r={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,c=new SO,f=new SO;let h=1;const p=new it,g=new Zt,m=new Zt,_=new Zt,S=new Zt,T=new Zt,M=new Zt,w=new Zt,D=new Zt,C=new Zt,R=new it,z=new Zt;let N=!1;const O=[],U={};function F(){return 2*Math.PI/60/60*n.autoRotateSpeed}function V(){return Math.pow(.95,n.zoomSpeed)}function W(ot){n.reverseOrbit||n.reverseHorizontalOrbit?f.theta+=ot:f.theta-=ot}function Z(ot){n.reverseOrbit||n.reverseVerticalOrbit?f.phi+=ot:f.phi-=ot}const H=(()=>{const ot=new it;return function(de,lt){ot.setFromMatrixColumn(lt,0),ot.multiplyScalar(-de),p.add(ot)}})(),j=(()=>{const ot=new it;return function(de,lt){n.screenSpacePanning===!0?ot.setFromMatrixColumn(lt,1):(ot.setFromMatrixColumn(lt,0),ot.crossVectors(n.object.up,ot)),ot.multiplyScalar(de),p.add(ot)}})(),Y=(()=>{const ot=new it;return function(de,lt){const Jt=n.domElement;if(Jt&&n.object instanceof Sr&&n.object.isPerspectiveCamera){const ce=n.object.position;ot.copy(ce).sub(n.target);let Se=ot.length();Se*=Math.tan(n.object.fov/2*Math.PI/180),H(2*de*Se/Jt.clientHeight,n.object.matrix),j(2*lt*Se/Jt.clientHeight,n.object.matrix)}else Jt&&n.object instanceof lh&&n.object.isOrthographicCamera?(H(de*(n.object.right-n.object.left)/n.object.zoom/Jt.clientWidth,n.object.matrix),j(lt*(n.object.top-n.object.bottom)/n.object.zoom/Jt.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Q(ot){n.object instanceof Sr&&n.object.isPerspectiveCamera||n.object instanceof lh&&n.object.isOrthographicCamera?h=ot:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function nt(ot){Q(h/ot)}function q(ot){Q(h*ot)}function $(ot){if(!n.zoomToCursor||!n.domElement)return;N=!0;const At=n.domElement.getBoundingClientRect(),de=ot.clientX-At.left,lt=ot.clientY-At.top,Jt=At.width,ce=At.height;z.x=de/Jt*2-1,z.y=-(lt/ce)*2+1,R.set(z.x,z.y,1).unproject(n.object).sub(n.object.position).normalize()}function st(ot){return Math.max(n.minDistance,Math.min(n.maxDistance,ot))}function ft(ot){g.set(ot.clientX,ot.clientY)}function Mt(ot){$(ot),w.set(ot.clientX,ot.clientY)}function dt(ot){S.set(ot.clientX,ot.clientY)}function xt(ot){m.set(ot.clientX,ot.clientY),_.subVectors(m,g).multiplyScalar(n.rotateSpeed);const At=n.domElement;At&&(W(2*Math.PI*_.x/At.clientHeight),Z(2*Math.PI*_.y/At.clientHeight)),g.copy(m),n.update()}function Lt(ot){D.set(ot.clientX,ot.clientY),C.subVectors(D,w),C.y>0?nt(V()):C.y<0&&q(V()),w.copy(D),n.update()}function Ct(ot){T.set(ot.clientX,ot.clientY),M.subVectors(T,S).multiplyScalar(n.panSpeed),Y(M.x,M.y),S.copy(T),n.update()}function Wt(ot){$(ot),ot.deltaY<0?q(V()):ot.deltaY>0&&nt(V()),n.update()}function Xt(ot){let At=!1;switch(ot.code){case n.keys.UP:Y(0,n.keyPanSpeed),At=!0;break;case n.keys.BOTTOM:Y(0,-n.keyPanSpeed),At=!0;break;case n.keys.LEFT:Y(n.keyPanSpeed,0),At=!0;break;case n.keys.RIGHT:Y(-n.keyPanSpeed,0),At=!0;break}At&&(ot.preventDefault(),n.update())}function ae(){if(O.length==1)g.set(O[0].pageX,O[0].pageY);else{const ot=.5*(O[0].pageX+O[1].pageX),At=.5*(O[0].pageY+O[1].pageY);g.set(ot,At)}}function at(){if(O.length==1)S.set(O[0].pageX,O[0].pageY);else{const ot=.5*(O[0].pageX+O[1].pageX),At=.5*(O[0].pageY+O[1].pageY);S.set(ot,At)}}function wt(){const ot=O[0].pageX-O[1].pageX,At=O[0].pageY-O[1].pageY,de=Math.sqrt(ot*ot+At*At);w.set(0,de)}function It(){n.enableZoom&&wt(),n.enablePan&&at()}function Nt(){n.enableZoom&&wt(),n.enableRotate&&ae()}function Bt(ot){if(O.length==1)m.set(ot.pageX,ot.pageY);else{const de=Ve(ot),lt=.5*(ot.pageX+de.x),Jt=.5*(ot.pageY+de.y);m.set(lt,Jt)}_.subVectors(m,g).multiplyScalar(n.rotateSpeed);const At=n.domElement;At&&(W(2*Math.PI*_.x/At.clientHeight),Z(2*Math.PI*_.y/At.clientHeight)),g.copy(m)}function oe(ot){if(O.length==1)T.set(ot.pageX,ot.pageY);else{const At=Ve(ot),de=.5*(ot.pageX+At.x),lt=.5*(ot.pageY+At.y);T.set(de,lt)}M.subVectors(T,S).multiplyScalar(n.panSpeed),Y(M.x,M.y),S.copy(T)}function jt(ot){const At=Ve(ot),de=ot.pageX-At.x,lt=ot.pageY-At.y,Jt=Math.sqrt(de*de+lt*lt);D.set(0,Jt),C.set(0,Math.pow(D.y/w.y,n.zoomSpeed)),nt(C.y),w.copy(D)}function ie(ot){n.enableZoom&&jt(ot),n.enablePan&&oe(ot)}function Xe(ot){n.enableZoom&&jt(ot),n.enableRotate&&Bt(ot)}function nn(ot){var At,de;n.enabled!==!1&&(O.length===0&&((At=n.domElement)==null||At.ownerDocument.addEventListener("pointermove",rt),(de=n.domElement)==null||de.ownerDocument.addEventListener("pointerup",K)),Be(ot),ot.pointerType==="touch"?ke(ot):bt(ot))}function rt(ot){n.enabled!==!1&&(ot.pointerType==="touch"?pe(ot):Ft(ot))}function K(ot){var At,de,lt;ne(ot),O.length===0&&((At=n.domElement)==null||At.releasePointerCapture(ot.pointerId),(de=n.domElement)==null||de.ownerDocument.removeEventListener("pointermove",rt),(lt=n.domElement)==null||lt.ownerDocument.removeEventListener("pointerup",K)),n.dispatchEvent(o),l=s.NONE}function bt(ot){let At;switch(ot.button){case 0:At=n.mouseButtons.LEFT;break;case 1:At=n.mouseButtons.MIDDLE;break;case 2:At=n.mouseButtons.RIGHT;break;default:At=-1}switch(At){case $v.DOLLY:if(n.enableZoom===!1)return;Mt(ot),l=s.DOLLY;break;case $v.ROTATE:if(ot.ctrlKey||ot.metaKey||ot.shiftKey){if(n.enablePan===!1)return;dt(ot),l=s.PAN}else{if(n.enableRotate===!1)return;ft(ot),l=s.ROTATE}break;case $v.PAN:if(ot.ctrlKey||ot.metaKey||ot.shiftKey){if(n.enableRotate===!1)return;ft(ot),l=s.ROTATE}else{if(n.enablePan===!1)return;dt(ot),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&n.dispatchEvent(a)}function Ft(ot){if(n.enabled!==!1)switch(l){case s.ROTATE:if(n.enableRotate===!1)return;xt(ot);break;case s.DOLLY:if(n.enableZoom===!1)return;Lt(ot);break;case s.PAN:if(n.enablePan===!1)return;Ct(ot);break}}function ee(ot){n.enabled===!1||n.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(ot.preventDefault(),n.dispatchEvent(a),Wt(ot),n.dispatchEvent(o))}function Gt(ot){n.enabled===!1||n.enablePan===!1||Xt(ot)}function ke(ot){switch(he(ot),O.length){case 1:switch(n.touches.ONE){case tg.ROTATE:if(n.enableRotate===!1)return;ae(),l=s.TOUCH_ROTATE;break;case tg.PAN:if(n.enablePan===!1)return;at(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(n.touches.TWO){case tg.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;It(),l=s.TOUCH_DOLLY_PAN;break;case tg.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Nt(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&n.dispatchEvent(a)}function pe(ot){switch(he(ot),l){case s.TOUCH_ROTATE:if(n.enableRotate===!1)return;Bt(ot),n.update();break;case s.TOUCH_PAN:if(n.enablePan===!1)return;oe(ot),n.update();break;case s.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;ie(ot),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Xe(ot),n.update();break;default:l=s.NONE}}function Pe(ot){n.enabled!==!1&&ot.preventDefault()}function Be(ot){O.push(ot)}function ne(ot){delete U[ot.pointerId];for(let At=0;At<O.length;At++)if(O[At].pointerId==ot.pointerId){O.splice(At,1);return}}function he(ot){let At=U[ot.pointerId];At===void 0&&(At=new Zt,U[ot.pointerId]=At),At.set(ot.pageX,ot.pageY)}function Ve(ot){const At=ot.pointerId===O[0].pointerId?O[1]:O[0];return U[At.pointerId]}this.dollyIn=(ot=V())=>{q(ot),n.update()},this.dollyOut=(ot=V())=>{nt(ot),n.update()},this.getScale=()=>h,this.setScale=ot=>{Q(ot),n.update()},this.getZoomScale=()=>V(),e!==void 0&&this.connect(e),this.update()}};const CIt=vn.forwardRef(({makeDefault:i,camera:t,regress:e,domElement:n,enableDamping:r=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l,...u},c)=>{const f=Td(C=>C.invalidate),h=Td(C=>C.camera),p=Td(C=>C.gl),g=Td(C=>C.events),m=Td(C=>C.setEvents),_=Td(C=>C.set),S=Td(C=>C.get),T=Td(C=>C.performance),M=t||h,w=n||g.connected||p.domElement,D=vn.useMemo(()=>new rft(M),[M]);return Xut(()=>{D.enabled&&D.update()},-1),vn.useEffect(()=>(a&&D.connect(a===!0?w:a),D.connect(w),()=>void D.dispose()),[a,w,e,D,f]),vn.useEffect(()=>{const C=N=>{f(),e&&T.regress(),o&&o(N)},R=N=>{s&&s(N)},z=N=>{l&&l(N)};return D.addEventListener("change",C),D.addEventListener("start",R),D.addEventListener("end",z),()=>{D.removeEventListener("start",R),D.removeEventListener("end",z),D.removeEventListener("change",C)}},[o,s,l,D,f,m]),vn.useEffect(()=>{if(i){const C=S().controls;return _({controls:D}),()=>_({controls:C})}},[i,D]),vn.createElement("primitive",IO({ref:c,object:D,enableDamping:r},u))});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var OO=function(i,t){return OO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},OO(i,t)};function ht(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");OO(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var RH=function(){return RH=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},RH.apply(this,arguments)};function DIt(i,t,e,n){function r(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):r(c.value).then(s,l)}u((n=n.apply(i,[])).next())})}function RIt(i,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,r,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,r&&(a=u[0]&2?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){e.label=u[1];break}if(u[0]===6&&e.label<a[1]){e.label=a[1],a=u;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(u);break}a[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(i,e)}catch(c){u=[6,c],r=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var aft=(function(){function i(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return i})(),oft=(function(){function i(){this.browser=new aft,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return i})(),xn=new oft;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(xn.wxa=!0,xn.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?xn.worker=!0:!xn.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(xn.node=!0,xn.svgSupported=!0):sft(navigator.userAgent,xn);function sft(i,t){var e=t.browser,n=i.match(/Firefox\/([\d.]+)/),r=i.match(/MSIE\s([\d.]+)/)||i.match(/Trident\/.+?rv:(([\d.]+))/),a=i.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(i);n&&(e.firefox=!0,e.version=n[1]),r&&(e.ie=!0,e.version=r[1]),a&&(e.edge=!0,e.version=a[1],e.newEdge=+a[1].split(".")[0]>18),o&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11);var s=t.domSupported=typeof document<"u";if(s){var l=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in l||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}}var Hz=12,AY="sans-serif",yh=Hz+"px "+AY,lft=20,uft=100,cft="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function fft(i){var t={};if(typeof JSON>"u")return t;for(var e=0;e<i.length;e++){var n=String.fromCharCode(e+32),r=(i.charCodeAt(e)-lft)/uft;t[n]=r}return t}var hft=fft(cft),ys={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var i,t;return function(e,n){if(!i){var r=ys.createCanvas();i=r&&r.getContext("2d")}if(i)return t!==n&&(t=i.font=n||yh),i.measureText(e);e=e||"",n=n||yh;var a=/((?:\d+)?\.?\d*)px/.exec(n),o=a&&+a[1]||Hz,s=0;if(n.indexOf("mono")>=0)s=o*e.length;else for(var l=0;l<e.length;l++){var u=hft[e[l]];s+=u==null?o:u*o}return{width:s}}})(),loadImage:function(i,t,e){var n=new Image;return n.onload=t,n.onerror=e,n.src=i,n}};function wY(i){for(var t in ys)i[t]&&(ys[t]=i[t])}var EY=Ol(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(i,t){return i["[object "+t+"]"]=!0,i},{}),CY=Ol(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(i,t){return i["[object "+t+"Array]"]=!0,i},{}),T_=Object.prototype.toString,nD=Array.prototype,dft=nD.forEach,pft=nD.filter,kz=nD.slice,vft=nD.map,LH=(function(){}).constructor,LA=LH?LH.prototype:null,Fz="__proto__",gft=2311;function Gz(){return gft++}function iD(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];typeof console<"u"&&console.error.apply(console,i)}function Ee(i){if(i==null||typeof i!="object")return i;var t=i,e=T_.call(i);if(e==="[object Array]"){if(!I0(i)){t=[];for(var n=0,r=i.length;n<r;n++)t[n]=Ee(i[n])}}else if(CY[e]){if(!I0(i)){var a=i.constructor;if(a.from)t=a.from(i);else{t=new a(i.length);for(var n=0,r=i.length;n<r;n++)t[n]=i[n]}}}else if(!EY[e]&&!I0(i)&&!Fg(i)){t={};for(var o in i)i.hasOwnProperty(o)&&o!==Fz&&(t[o]=Ee(i[o]))}return t}function en(i,t,e){if(!Le(t)||!Le(i))return e?Ee(t):i;for(var n in t)if(t.hasOwnProperty(n)&&n!==Fz){var r=i[n],a=t[n];Le(a)&&Le(r)&&!Vt(a)&&!Vt(r)&&!Fg(a)&&!Fg(r)&&!PO(a)&&!PO(r)&&!I0(a)&&!I0(r)?en(r,a,e):(e||!(n in i))&&(i[n]=Ee(t[n]))}return i}function rD(i,t){for(var e=i[0],n=1,r=i.length;n<r;n++)e=en(e,i[n],t);return e}function Rt(i,t){if(Object.assign)Object.assign(i,t);else for(var e in t)t.hasOwnProperty(e)&&e!==Fz&&(i[e]=t[e]);return i}function Re(i,t,e){for(var n=Tn(t),r=0,a=n.length;r<a;r++){var o=n[r];(e?t[o]!=null:i[o]==null)&&(i[o]=t[o])}return i}var mft=ys.createCanvas;function tn(i,t){if(i){if(i.indexOf)return i.indexOf(t);for(var e=0,n=i.length;e<n;e++)if(i[e]===t)return e}return-1}function Xz(i,t){var e=i.prototype;function n(){}n.prototype=t.prototype,i.prototype=new n;for(var r in e)e.hasOwnProperty(r)&&(i.prototype[r]=e[r]);i.prototype.constructor=i,i.superClass=t}function fr(i,t,e){if(i="prototype"in i?i.prototype:i,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r];a!=="constructor"&&(e?t[a]!=null:i[a]==null)&&(i[a]=t[a])}else Re(i,t,e)}function Za(i){return!i||typeof i=="string"?!1:typeof i.length=="number"}function G(i,t,e){if(i&&t)if(i.forEach&&i.forEach===dft)i.forEach(t,e);else if(i.length===+i.length)for(var n=0,r=i.length;n<r;n++)t.call(e,i[n],n,i);else for(var a in i)i.hasOwnProperty(a)&&t.call(e,i[a],a,i)}function kt(i,t,e){if(!i)return[];if(!t)return aD(i);if(i.map&&i.map===vft)return i.map(t,e);for(var n=[],r=0,a=i.length;r<a;r++)n.push(t.call(e,i[r],r,i));return n}function Ol(i,t,e,n){if(i&&t){for(var r=0,a=i.length;r<a;r++)e=t.call(n,e,i[r],r,i);return e}}function Gn(i,t,e){if(!i)return[];if(!t)return aD(i);if(i.filter&&i.filter===pft)return i.filter(t,e);for(var n=[],r=0,a=i.length;r<a;r++)t.call(e,i[r],r,i)&&n.push(i[r]);return n}function vp(i,t,e){if(i&&t){for(var n=0,r=i.length;n<r;n++)if(t.call(e,i[n],n,i))return i[n]}}function Tn(i){if(!i)return[];if(Object.keys)return Object.keys(i);var t=[];for(var e in i)i.hasOwnProperty(e)&&t.push(e);return t}function yft(i,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return function(){return i.apply(t,e.concat(kz.call(arguments)))}}var ue=LA&&Te(LA.bind)?LA.call.bind(LA.bind):yft;function Qe(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return i.apply(this,t.concat(kz.call(arguments)))}}function Vt(i){return Array.isArray?Array.isArray(i):T_.call(i)==="[object Array]"}function Te(i){return typeof i=="function"}function le(i){return typeof i=="string"}function uC(i){return T_.call(i)==="[object String]"}function En(i){return typeof i=="number"}function Le(i){var t=typeof i;return t==="function"||!!i&&t==="object"}function PO(i){return!!EY[T_.call(i)]}function Qo(i){return!!CY[T_.call(i)]}function Fg(i){return typeof i=="object"&&typeof i.nodeType=="number"&&typeof i.ownerDocument=="object"}function Qb(i){return i.colorStops!=null}function DY(i){return i.image!=null}function RY(i){return T_.call(i)==="[object RegExp]"}function Ya(i){return i!==i}function Da(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=0,n=i.length;e<n;e++)if(i[e]!=null)return i[e]}function _e(i,t){return i??t}function ms(i,t,e){return i??t??e}function aD(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return kz.apply(i,t)}function Jb(i){if(typeof i=="number")return[i,i,i,i];var t=i.length;return t===2?[i[0],i[1],i[0],i[1]]:t===3?[i[0],i[1],i[2],i[1]]:i}function ja(i,t){if(!i)throw new Error(t)}function ks(i){return i==null?null:typeof i.trim=="function"?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var LY="__ec_primitive__";function lb(i){i[LY]=!0}function I0(i){return i[LY]}var _ft=(function(){function i(){this.data={}}return i.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},i.prototype.has=function(t){return this.data.hasOwnProperty(t)},i.prototype.get=function(t){return this.data[t]},i.prototype.set=function(t,e){return this.data[t]=e,this},i.prototype.keys=function(){return Tn(this.data)},i.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},i})(),IY=typeof Map=="function";function Sft(){return IY?new Map:new _ft}var NY=(function(){function i(t){var e=Vt(t);this.data=Sft();var n=this;t instanceof i?t.each(r):t&&G(t,r);function r(a,o){e?n.set(a,o):n.set(o,a)}}return i.prototype.hasKey=function(t){return this.data.has(t)},i.prototype.get=function(t){return this.data.get(t)},i.prototype.set=function(t,e){return this.data.set(t,e),e},i.prototype.each=function(t,e){this.data.forEach(function(n,r){t.call(e,n,r)})},i.prototype.keys=function(){var t=this.data.keys();return IY?Array.from(t):t},i.prototype.removeKey=function(t){this.data.delete(t)},i})();function ye(i){return new NY(i)}function J0(i,t){for(var e=new i.constructor(i.length+t.length),n=0;n<i.length;n++)e[n]=i[n];for(var r=i.length,n=0;n<t.length;n++)e[n+r]=t[n];return e}function $b(i,t){var e;if(Object.create)e=Object.create(i);else{var n=function(){};n.prototype=i,e=new n}return t&&Rt(e,t),e}function Wz(i){var t=i.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function ge(i,t){return i.hasOwnProperty(t)}function ur(){}var P1=180/Math.PI,xft=Number.EPSILON||Math.pow(2,-52);const bft=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:xft,HashMap:NY,RADIAN_TO_DEGREE:P1,assert:ja,bind:ue,clone:Ee,concatArray:J0,createCanvas:mft,createHashMap:ye,createObject:$b,curry:Qe,defaults:Re,disableUserSelect:Wz,each:G,eqNaN:Ya,extend:Rt,filter:Gn,find:vp,guid:Gz,hasOwn:ge,indexOf:tn,inherits:Xz,isArray:Vt,isArrayLike:Za,isBuiltInObject:PO,isDom:Fg,isFunction:Te,isGradientObject:Qb,isImagePatternObject:DY,isNumber:En,isObject:Le,isPrimitive:I0,isRegExp:RY,isString:le,isStringSafe:uC,isTypedArray:Qo,keys:Tn,logError:iD,map:kt,merge:en,mergeAll:rD,mixin:fr,noop:ur,normalizeCssArray:Jb,reduce:Ol,retrieve:Da,retrieve2:_e,retrieve3:ms,setAsPrimitive:lb,slice:aD,trim:ks},Symbol.toStringTag,{value:"Module"}));function gp(i,t){return i==null&&(i=0),t==null&&(t=0),[i,t]}function go(i,t){return i[0]=t[0],i[1]=t[1],i}function Gc(i){return[i[0],i[1]]}function oD(i,t,e){return i[0]=t,i[1]=e,i}function zO(i,t,e){return i[0]=t[0]+e[0],i[1]=t[1]+e[1],i}function cC(i,t,e,n){return i[0]=t[0]+e[0]*n,i[1]=t[1]+e[1]*n,i}function kd(i,t,e){return i[0]=t[0]-e[0],i[1]=t[1]-e[1],i}function ub(i){return Math.sqrt(Yz(i))}var Tft=ub;function Yz(i){return i[0]*i[0]+i[1]*i[1]}var Mft=Yz;function Aft(i,t,e){return i[0]=t[0]*e[0],i[1]=t[1]*e[1],i}function wft(i,t,e){return i[0]=t[0]/e[0],i[1]=t[1]/e[1],i}function Eft(i,t){return i[0]*t[0]+i[1]*t[1]}function z1(i,t,e){return i[0]=t[0]*e,i[1]=t[1]*e,i}function im(i,t){var e=ub(t);return e===0?(i[0]=0,i[1]=0):(i[0]=t[0]/e,i[1]=t[1]/e),i}function fC(i,t){return Math.sqrt((i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1]))}var eh=fC;function OY(i,t){return(i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1])}var jd=OY;function Cft(i,t){return i[0]=-t[0],i[1]=-t[1],i}function B1(i,t,e,n){return i[0]=t[0]+n*(e[0]-t[0]),i[1]=t[1]+n*(e[1]-t[1]),i}function cr(i,t,e){var n=t[0],r=t[1];return i[0]=e[0]*n+e[2]*r+e[4],i[1]=e[1]*n+e[3]*r+e[5],i}function nh(i,t,e){return i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i}function ih(i,t,e){return i[0]=Math.max(t[0],e[0]),i[1]=Math.max(t[1],e[1]),i}const Dft=Object.freeze(Object.defineProperty({__proto__:null,add:zO,applyTransform:cr,clone:Gc,copy:go,create:gp,dist:eh,distSquare:jd,distance:fC,distanceSquare:OY,div:wft,dot:Eft,len:ub,lenSquare:Yz,length:Tft,lengthSquare:Mft,lerp:B1,max:ih,min:nh,mul:Aft,negate:Cft,normalize:im,scale:z1,scaleAndAdd:cC,set:oD,sub:kd},Symbol.toStringTag,{value:"Module"}));var Gy=(function(){function i(t,e){this.target=t,this.topTarget=e&&e.topTarget}return i})(),Rft=(function(){function i(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return i.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Gy(e,t),"dragstart",t.event))},i.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,a=n-this._x,o=r-this._y;this._x=n,this._y=r,e.drift(a,o,t),this.handler.dispatchToElement(new Gy(e,t),"drag",t.event);var s=this.handler.findHover(n,r,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Gy(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new Gy(s,t),"dragenter",t.event))}},i.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Gy(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Gy(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},i})(),Hl=(function(){function i(t){t&&(this._$eventProcessor=t)}return i.prototype.on=function(t,e,n,r){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof e=="function"&&(r=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;e!=null&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),a[t]||(a[t]=[]);for(var s=0;s<a[t].length;s++)if(a[t][s].h===n)return this;var l={h:n,query:e,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},u=a[t].length-1,c=a[t][u];return c&&c.callAtLast?a[t].splice(u,0,l):a[t].push(l),this},i.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},i.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],a=0,o=n[t].length;a<o;a++)n[t][a].h!==e&&r.push(n[t][a]);n[t]=r}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},i.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],a=this._$eventProcessor;if(r)for(var o=e.length,s=r.length,l=0;l<s;l++){var u=r[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},i.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],a=this._$eventProcessor;if(r)for(var o=e.length,s=e[o-1],l=r.length,u=0;u<l;u++){var c=r[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(t,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,e[0]);break;case 2:c.h.call(s,e[0],e[1]);break;default:c.h.apply(s,e.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},i})(),Lft=Math.log(2);function BO(i,t,e,n,r,a){var o=n+"-"+r,s=i.length;if(a.hasOwnProperty(o))return a[o];if(t===1){var l=Math.round(Math.log((1<<s)-1&~r)/Lft);return i[e][l]}for(var u=n|1<<e,c=e+1;n&1<<c;)c++;for(var f=0,h=0,p=0;h<s;h++){var g=1<<h;g&r||(f+=(p%2?-1:1)*i[e][h]*BO(i,t-1,c,u,r|g,a),p++)}return a[o]=f,f}function IH(i,t){var e=[[i[0],i[1],1,0,0,0,-t[0]*i[0],-t[0]*i[1]],[0,0,0,i[0],i[1],1,-t[1]*i[0],-t[1]*i[1]],[i[2],i[3],1,0,0,0,-t[2]*i[2],-t[2]*i[3]],[0,0,0,i[2],i[3],1,-t[3]*i[2],-t[3]*i[3]],[i[4],i[5],1,0,0,0,-t[4]*i[4],-t[4]*i[5]],[0,0,0,i[4],i[5],1,-t[5]*i[4],-t[5]*i[5]],[i[6],i[7],1,0,0,0,-t[6]*i[6],-t[6]*i[7]],[0,0,0,i[6],i[7],1,-t[7]*i[6],-t[7]*i[7]]],n={},r=BO(e,8,0,0,0,n);if(r!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*BO(e,7,o===0?1:0,1<<o,1<<s,n)/r*t[o];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var hC="___zrEVENTSAVED",BL=[];function Ift(i,t,e,n,r){return UO(BL,t,n,r,!0)&&UO(i,e,BL[0],BL[1])}function Nft(i,t){i&&e(i),t&&e(t);function e(n){var r=n[hC];r&&(r.clearMarkers&&r.clearMarkers(),delete n[hC])}}function UO(i,t,e,n,r){if(t.getBoundingClientRect&&xn.domSupported&&!PY(t)){var a=t[hC]||(t[hC]={}),o=Oft(t,a),s=Pft(o,a,r);if(s)return s(i,e,n),!0}return!1}function Oft(i,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var n=["left","right"],r=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,l=a%2,u=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",r[u]+":0",n[1-l]+":auto",r[1-u]+":auto",""].join("!important;"),i.appendChild(o),e.push(o)}return t.clearMarkers=function(){G(e,function(c){c.parentNode&&c.parentNode.removeChild(c)})},e}function Pft(i,t,e){for(var n=e?"invTrans":"trans",r=t[n],a=t.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=i[u].getBoundingClientRect(),f=2*u,h=c.left,p=c.top;o.push(h,p),l=l&&a&&h===a[f]&&p===a[f+1],s.push(i[u].offsetLeft,i[u].offsetTop)}return l&&r?r:(t.srcCoords=o,t[n]=e?IH(s,o):IH(o,s))}function PY(i){return i.nodeName.toUpperCase()==="CANVAS"}var zft=/([&<>"'])/g,Bft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function yo(i){return i==null?"":(i+"").replace(zft,function(t,e){return Bft[e]})}var Uft=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,UL=[],Vft=xn.browser.firefox&&+xn.browser.version.split(".")[0]<39;function VO(i,t,e,n){return e=e||{},n?NH(i,t,e):Vft&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):NH(i,t,e),e}function NH(i,t,e){if(xn.domSupported&&i.getBoundingClientRect){var n=t.clientX,r=t.clientY;if(PY(i)){var a=i.getBoundingClientRect();e.zrX=n-a.left,e.zrY=r-a.top;return}else if(UO(UL,i,n,r)){e.zrX=UL[0],e.zrY=UL[1];return}}e.zrX=e.zrY=0}function qz(i){return i||window.event}function Tl(i,t,e){if(t=qz(t),t.zrX!=null)return t;var n=t.type,r=n&&n.indexOf("touch")>=0;if(r){var o=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&VO(i,o,t,e)}else{VO(i,t,t,e);var a=Hft(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&Uft.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function Hft(i){var t=i.wheelDelta;if(t)return t;var e=i.deltaX,n=i.deltaY;if(e==null||n==null)return t;var r=Math.abs(n!==0?n:e),a=n>0?-1:n<0?1:e>0?-1:1;return 3*r*a}function HO(i,t,e,n){i.addEventListener(t,e,n)}function kft(i,t,e,n){i.removeEventListener(t,e,n)}var _h=function(i){i.preventDefault(),i.stopPropagation(),i.cancelBubble=!0};function OH(i){return i.which===2||i.which===3}var Fft=(function(){function i(){this._track=[]}return i.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},i.prototype.clear=function(){return this._track.length=0,this},i.prototype._doTrack=function(t,e,n){var r=t.touches;if(r){for(var a={points:[],touches:[],target:e,event:t},o=0,s=r.length;o<s;o++){var l=r[o],u=VO(n,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},i.prototype._recognize=function(t){for(var e in VL)if(VL.hasOwnProperty(e)){var n=VL[e](this._track,t);if(n)return n}},i})();function PH(i){var t=i[1][0]-i[0][0],e=i[1][1]-i[0][1];return Math.sqrt(t*t+e*e)}function Gft(i){return[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]}var VL={pinch:function(i,t){var e=i.length;if(e){var n=(i[e-1]||{}).points,r=(i[e-2]||{}).points||n;if(r&&r.length>1&&n&&n.length>1){var a=PH(n)/PH(r);!isFinite(a)&&(a=1),t.pinchScale=a;var o=Gft(n);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:i[0].target,event:t}}}}};function la(){return[1,0,0,1,0,0]}function tT(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,i}function eT(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i}function wu(i,t,e){var n=t[0]*e[0]+t[2]*e[1],r=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],o=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return i[0]=n,i[1]=r,i[2]=a,i[3]=o,i[4]=s,i[5]=l,i}function Iu(i,t,e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4]+e[0],i[5]=t[5]+e[1],i}function wh(i,t,e,n){n===void 0&&(n=[0,0]);var r=t[0],a=t[2],o=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(e),f=Math.cos(e);return i[0]=r*f+s*c,i[1]=-r*c+s*f,i[2]=a*f+l*c,i[3]=-a*c+f*l,i[4]=f*(o-n[0])+c*(u-n[1])+n[0],i[5]=f*(u-n[1])-c*(o-n[0])+n[1],i}function sD(i,t,e){var n=e[0],r=e[1];return i[0]=t[0]*n,i[1]=t[1]*r,i[2]=t[2]*n,i[3]=t[3]*r,i[4]=t[4]*n,i[5]=t[5]*r,i}function Pl(i,t){var e=t[0],n=t[2],r=t[4],a=t[1],o=t[3],s=t[5],l=e*o-a*n;return l?(l=1/l,i[0]=o*l,i[1]=-a*l,i[2]=-n*l,i[3]=e*l,i[4]=(n*s-o*r)*l,i[5]=(a*r-e*s)*l,i):null}function zY(i){var t=la();return eT(t,i),t}const Xft=Object.freeze(Object.defineProperty({__proto__:null,clone:zY,copy:eT,create:la,identity:tT,invert:Pl,mul:wu,rotate:wh,scale:sD,translate:Iu},Symbol.toStringTag,{value:"Module"}));var Ne=(function(){function i(t,e){this.x=t||0,this.y=e||0}return i.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.set=function(t,e){return this.x=t,this.y=e,this},i.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},i.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},i.prototype.scale=function(t){this.x*=t,this.y*=t},i.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},i.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},i.prototype.dot=function(t){return this.x*t.x+this.y*t.y},i.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},i.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},i.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},i.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},i.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},i.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},i.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},i.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},i.set=function(t,e,n){t.x=e,t.y=n},i.copy=function(t,e){t.x=e.x,t.y=e.y},i.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.lenSquare=function(t){return t.x*t.x+t.y*t.y},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},i.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},i.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},i.scaleAndAdd=function(t,e,n,r){t.x=e.x+n.x*r,t.y=e.y+n.y*r},i.lerp=function(t,e,n,r){var a=1-r;t.x=a*e.x+r*n.x,t.y=a*e.y+r*n.y},i})(),yg=Math.min,b0=Math.max,kO=Math.abs,zH=["x","y"],Wft=["width","height"],Ev=new Ne,Cv=new Ne,Dv=new Ne,Rv=new Ne,Ps=BY(),d1=Ps.minTv,FO=Ps.maxTv,U1=[0,0],Oe=(function(){function i(t,e,n,r){i.set(this,t,e,n,r)}return i.set=function(t,e,n,r,a){return r<0&&(e=e+r,r=-r),a<0&&(n=n+a,a=-a),t.x=e,t.y=n,t.width=r,t.height=a,t},i.prototype.union=function(t){var e=yg(t.x,this.x),n=yg(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=b0(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=b0(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},i.prototype.applyTransform=function(t){i.applyTransform(this,this,t)},i.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,r=t.height/e.height,a=la();return Iu(a,a,[-e.x,-e.y]),sD(a,a,[n,r]),Iu(a,a,[t.x,t.y]),a},i.prototype.intersect=function(t,e,n){return i.intersect(this,t,e,n)},i.intersect=function(t,e,n,r){n&&Ne.set(n,0,0);var a=r&&r.outIntersectRect||null,o=r&&r.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!t||!e)return!1;t instanceof i||(t=i.set(Yft,t.x,t.y,t.width,t.height)),e instanceof i||(e=i.set(qft,e.x,e.y,e.width,e.height));var s=!!n;Ps.reset(r,s);var l=Ps.touchThreshold,u=t.x+l,c=t.x+t.width-l,f=t.y+l,h=t.y+t.height-l,p=e.x+l,g=e.x+e.width-l,m=e.y+l,_=e.y+e.height-l;if(u>c||f>h||p>g||m>_)return!1;var S=!(c<p||g<u||h<m||_<f);return(s||a)&&(U1[0]=1/0,U1[1]=0,BH(u,c,p,g,0,s,a,o),BH(f,h,m,_,1,s,a,o),s&&Ne.copy(n,S?Ps.useDir?Ps.dirMinTv:d1:FO)),S},i.contain=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},i.prototype.contain=function(t,e){return i.contain(this,t,e)},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.copy=function(t){i.copy(this,t)},i.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},i.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},i.prototype.isZero=function(){return this.width===0||this.height===0},i.create=function(t){return new i(t.x,t.y,t.width,t.height)},i.copy=function(t,e){return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t},i.applyTransform=function(t,e,n){if(!n){t!==e&&i.copy(t,e);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0],a=n[3],o=n[4],s=n[5];t.x=e.x*r+o,t.y=e.y*a+s,t.width=e.width*r,t.height=e.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Ev.x=Dv.x=e.x,Ev.y=Rv.y=e.y,Cv.x=Rv.x=e.x+e.width,Cv.y=Dv.y=e.y+e.height,Ev.transform(n),Rv.transform(n),Cv.transform(n),Dv.transform(n),t.x=yg(Ev.x,Cv.x,Dv.x,Rv.x),t.y=yg(Ev.y,Cv.y,Dv.y,Rv.y);var l=b0(Ev.x,Cv.x,Dv.x,Rv.x),u=b0(Ev.y,Cv.y,Dv.y,Rv.y);t.width=l-t.x,t.height=u-t.y},i})(),Yft=new Oe(0,0,0,0),qft=new Oe(0,0,0,0);function BH(i,t,e,n,r,a,o,s){var l=kO(t-e),u=kO(n-i),c=yg(l,u),f=zH[r],h=zH[1-r],p=Wft[r];t<e||n<i?l<u?(a&&(FO[f]=-l),s&&(o[f]=t,o[p]=0)):(a&&(FO[f]=u),s&&(o[f]=i,o[p]=0)):(o&&(o[f]=b0(i,e),o[p]=yg(t,n)-o[f]),a&&(c<U1[0]||Ps.useDir)&&(U1[0]=yg(c,U1[0]),(l<u||!Ps.bidirectional)&&(d1[f]=l,d1[h]=0,Ps.useDir&&Ps.calcDirMTV()),(l>=u||!Ps.bidirectional)&&(d1[f]=-u,d1[h]=0,Ps.useDir&&Ps.calcDirMTV())))}function BY(){var i=0,t=new Ne,e=new Ne,n={minTv:new Ne,maxTv:new Ne,useDir:!1,dirMinTv:new Ne,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,o){n.touchThreshold=0,a&&a.touchThreshold!=null&&(n.touchThreshold=b0(0,a.touchThreshold)),n.negativeSize=!1,o&&(n.minTv.set(1/0,1/0),n.maxTv.set(0,0),n.useDir=!1,a&&a.direction!=null&&(n.useDir=!0,n.dirMinTv.copy(n.minTv),e.copy(n.minTv),i=a.direction,n.bidirectional=a.bidirectional==null||!!a.bidirectional,n.bidirectional||t.set(Math.cos(i),Math.sin(i))))},calcDirMTV:function(){var a=n.minTv,o=n.dirMinTv,s=a.y*a.y+a.x*a.x,l=Math.sin(i),u=Math.cos(i),c=l*a.y+u*a.x;if(r(c)){r(a.x)&&r(a.y)&&o.set(0,0);return}if(e.x=s*u/c,e.y=s*l/c,r(e.x)&&r(e.y)){o.set(0,0);return}(n.bidirectional||t.dot(e)>0)&&e.len()<o.len()&&o.copy(e)}};function r(a){return kO(a)<1e-10}return n}var UY="silent";function Zft(i,t,e){return{type:i,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:jft}}function jft(){_h(this.event)}var Kft=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.handler=null,e}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t})(Hl),Lx=(function(){function i(t,e){this.x=t,this.y=e}return i})(),Qft=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],HL=new Oe(0,0,0,0),VY=(function(i){ht(t,i);function t(e,n,r,a,o){var s=i.call(this)||this;return s._hovered=new Lx(0,0),s.storage=e,s.painter=n,s.painterRoot=a,s._pointerSize=o,r=r||new Kft,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new Rft(s),s}return t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(G(Qft,function(n){e.on&&e.on(n,this[n],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var n=e.zrX,r=e.zrY,a=HY(this,n,r),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=a?new Lx(n,r):this.findHover(n,r),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(l,"mousemove",e),u&&u!==s&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var n=e.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Lx(0,0)},t.prototype.dispatch=function(e,n){var r=this[e];r&&r.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var n=this.proxy;n.setCursor&&n.setCursor(e)},t.prototype.dispatchToElement=function(e,n,r){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var o="on"+n,s=Zft(n,e,r);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(n,s)}))}},t.prototype.findHover=function(e,n,r){var a=this.storage.getDisplayList(),o=new Lx(e,n);if(UH(a,o,e,n,r),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new Oe(e-u,n-u,l,l),f=a.length-1;f>=0;f--){var h=a[f];h!==r&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(HL.copy(h.getBoundingRect()),h.transform&&HL.applyTransform(h.transform),HL.intersect(c)&&s.push(h))}if(s.length)for(var p=4,g=Math.PI/12,m=Math.PI*2,_=0;_<u;_+=p)for(var S=0;S<m;S+=g){var T=e+_*Math.cos(S),M=n+_*Math.sin(S);if(UH(s,o,T,M,r),o.target)return o}}return o},t.prototype.processGesture=function(e,n){this._gestureMgr||(this._gestureMgr=new Fft);var r=this._gestureMgr;n==="start"&&r.clear();var a=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(n==="end"&&r.clear(),a){var o=a.type;e.gestureEvent=o;var s=new Lx;s.target=a.target,this.dispatchToElement(s,o,a.event)}},t})(Hl);G(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(i){VY.prototype[i]=function(t){var e=t.zrX,n=t.zrY,r=HY(this,e,n),a,o;if((i!=="mouseup"||!r)&&(a=this.findHover(e,n),o=a.target),i==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(i==="mouseup")this._upEl=o;else if(i==="click"){if(this._downEl!==this._upEl||!this._downPoint||eh(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,i,t)}});function Jft(i,t,e){if(i[i.rectHover?"rectContain":"contain"](t,e)){for(var n=i,r=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(t,e))return!1}n.silent&&(r=!0);var s=n.__hostTarget;n=s?n.ignoreHostSilent?null:s:n.parent}return r?UY:!0}return!1}function UH(i,t,e,n,r){for(var a=i.length-1;a>=0;a--){var o=i[a],s=void 0;if(o!==r&&!o.ignore&&(s=Jft(o,e,n))&&(!t.topTarget&&(t.topTarget=o),s!==UY)){t.target=o;break}}}function HY(i,t,e){var n=i.painter;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var kY=32,Ix=7;function $ft(i){for(var t=0;i>=kY;)t|=i&1,i>>=1;return i+t}function VH(i,t,e,n){var r=t+1;if(r===e)return 1;if(n(i[r++],i[t])<0){for(;r<e&&n(i[r],i[r-1])<0;)r++;tht(i,t,r)}else for(;r<e&&n(i[r],i[r-1])>=0;)r++;return r-t}function tht(i,t,e){for(e--;t<e;){var n=i[t];i[t++]=i[e],i[e--]=n}}function HH(i,t,e,n,r){for(n===t&&n++;n<e;n++){for(var a=i[n],o=t,s=n,l;o<s;)l=o+s>>>1,r(a,i[l])<0?s=l:o=l+1;var u=n-o;switch(u){case 3:i[o+3]=i[o+2];case 2:i[o+2]=i[o+1];case 1:i[o+1]=i[o];break;default:for(;u>0;)i[o+u]=i[o+u-1],u--}i[o]=a}}function kL(i,t,e,n,r,a){var o=0,s=0,l=1;if(a(i,t[e+r])>0){for(s=n-r;l<s&&a(i,t[e+r+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}else{for(s=r+1;l<s&&a(i,t[e+r-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=r-l,l=r-u}for(o++;o<l;){var c=o+(l-o>>>1);a(i,t[e+c])>0?o=c+1:l=c}return l}function FL(i,t,e,n,r,a){var o=0,s=0,l=1;if(a(i,t[e+r])<0){for(s=r+1;l<s&&a(i,t[e+r-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=r-l,l=r-u}else{for(s=n-r;l<s&&a(i,t[e+r+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}for(o++;o<l;){var c=o+(l-o>>>1);a(i,t[e+c])<0?l=c:o=c+1}return l}function eht(i,t){var e=Ix,n,r,a=0,o=[];n=[],r=[];function s(p,g){n[a]=p,r[a]=g,a+=1}function l(){for(;a>1;){var p=a-2;if(p>=1&&r[p-1]<=r[p]+r[p+1]||p>=2&&r[p-2]<=r[p]+r[p-1])r[p-1]<r[p+1]&&p--;else if(r[p]>r[p+1])break;c(p)}}function u(){for(;a>1;){var p=a-2;p>0&&r[p-1]<r[p+1]&&p--,c(p)}}function c(p){var g=n[p],m=r[p],_=n[p+1],S=r[p+1];r[p]=m+S,p===a-3&&(n[p+1]=n[p+2],r[p+1]=r[p+2]),a--;var T=FL(i[_],i,g,m,0,t);g+=T,m-=T,m!==0&&(S=kL(i[g+m-1],i,_,S,S-1,t),S!==0&&(m<=S?f(g,m,_,S):h(g,m,_,S)))}function f(p,g,m,_){var S=0;for(S=0;S<g;S++)o[S]=i[p+S];var T=0,M=m,w=p;if(i[w++]=i[M++],--_===0){for(S=0;S<g;S++)i[w+S]=o[T+S];return}if(g===1){for(S=0;S<_;S++)i[w+S]=i[M+S];i[w+_]=o[T];return}for(var D=e,C,R,z;;){C=0,R=0,z=!1;do if(t(i[M],o[T])<0){if(i[w++]=i[M++],R++,C=0,--_===0){z=!0;break}}else if(i[w++]=o[T++],C++,R=0,--g===1){z=!0;break}while((C|R)<D);if(z)break;do{if(C=FL(i[M],o,T,g,0,t),C!==0){for(S=0;S<C;S++)i[w+S]=o[T+S];if(w+=C,T+=C,g-=C,g<=1){z=!0;break}}if(i[w++]=i[M++],--_===0){z=!0;break}if(R=kL(o[T],i,M,_,0,t),R!==0){for(S=0;S<R;S++)i[w+S]=i[M+S];if(w+=R,M+=R,_-=R,_===0){z=!0;break}}if(i[w++]=o[T++],--g===1){z=!0;break}D--}while(C>=Ix||R>=Ix);if(z)break;D<0&&(D=0),D+=2}if(e=D,e<1&&(e=1),g===1){for(S=0;S<_;S++)i[w+S]=i[M+S];i[w+_]=o[T]}else{if(g===0)throw new Error;for(S=0;S<g;S++)i[w+S]=o[T+S]}}function h(p,g,m,_){var S=0;for(S=0;S<_;S++)o[S]=i[m+S];var T=p+g-1,M=_-1,w=m+_-1,D=0,C=0;if(i[w--]=i[T--],--g===0){for(D=w-(_-1),S=0;S<_;S++)i[D+S]=o[S];return}if(_===1){for(w-=g,T-=g,C=w+1,D=T+1,S=g-1;S>=0;S--)i[C+S]=i[D+S];i[w]=o[M];return}for(var R=e;;){var z=0,N=0,O=!1;do if(t(o[M],i[T])<0){if(i[w--]=i[T--],z++,N=0,--g===0){O=!0;break}}else if(i[w--]=o[M--],N++,z=0,--_===1){O=!0;break}while((z|N)<R);if(O)break;do{if(z=g-FL(o[M],i,p,g,g-1,t),z!==0){for(w-=z,T-=z,g-=z,C=w+1,D=T+1,S=z-1;S>=0;S--)i[C+S]=i[D+S];if(g===0){O=!0;break}}if(i[w--]=o[M--],--_===1){O=!0;break}if(N=_-kL(i[T],o,0,_,_-1,t),N!==0){for(w-=N,M-=N,_-=N,C=w+1,D=M+1,S=0;S<N;S++)i[C+S]=o[D+S];if(_<=1){O=!0;break}}if(i[w--]=i[T--],--g===0){O=!0;break}R--}while(z>=Ix||N>=Ix);if(O)break;R<0&&(R=0),R+=2}if(e=R,e<1&&(e=1),_===1){for(w-=g,T-=g,C=w+1,D=T+1,S=g-1;S>=0;S--)i[C+S]=i[D+S];i[w]=o[M]}else{if(_===0)throw new Error;for(D=w-(_-1),S=0;S<_;S++)i[D+S]=o[S]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function Kw(i,t,e,n){e||(e=0),n||(n=i.length);var r=n-e;if(!(r<2)){var a=0;if(r<kY){a=VH(i,e,n,t),HH(i,e,n,e+a,t);return}var o=eht(i,t),s=$ft(r);do{if(a=VH(i,e,n,t),a<s){var l=r;l>s&&(l=s),HH(i,e,e+l,e+a,t),a=l}o.pushRun(e,a),o.mergeRuns(),r-=a,e+=a}while(r!==0);o.forceMergeRuns()}}var zs=1,p1=2,g0=4,kH=!1;function GL(){kH||(kH=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function FH(i,t){return i.zlevel===t.zlevel?i.z===t.z?i.z2-t.z2:i.z-t.z:i.zlevel-t.zlevel}var nht=(function(){function i(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=FH}return i.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},i.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(e),n},i.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,a=e.length;r<a;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,Kw(n,FH)},i.prototype._updateAndAddDisplayable=function(t,e,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath(),a=e&&e.length,o=0,s=t.__clipPaths;if(!t.ignoreClip&&(a||r)){if(s||(s=t.__clipPaths=[]),a)for(var l=0;l<e.length;l++)s[o++]=e[l];for(var u=r,c=t;u;)u.parent=c,u.updateTransform(),s[o++]=u,c=u,u=u.getClipPath()}if(s&&(s.length=o),t.childrenRef){for(var f=t.childrenRef(),h=0;h<f.length;h++){var p=f[h];t.__dirty&&(p.__dirty|=zs),this._updateAndAddDisplayable(p,s,n)}t.__dirty=0}else{var g=t;isNaN(g.z)&&(GL(),g.z=0),isNaN(g.z2)&&(GL(),g.z2=0),isNaN(g.zlevel)&&(GL(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var m=t.getDecalElement&&t.getDecalElement();m&&this._updateAndAddDisplayable(m,s,n);var _=t.getTextGuideLine();_&&this._updateAndAddDisplayable(_,s,n);var S=t.getTextContent();S&&this._updateAndAddDisplayable(S,s,n)}},i.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},i.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);return}var r=tn(this._roots,t);r>=0&&this._roots.splice(r,1)},i.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},i.prototype.getRoots=function(){return this._roots},i.prototype.dispose=function(){this._displayList=null,this._roots=null},i})(),dC;dC=xn.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(i){return setTimeout(i,16)};var V1={linear:function(i){return i},quadraticIn:function(i){return i*i},quadraticOut:function(i){return i*(2-i)},quadraticInOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)},cubicIn:function(i){return i*i*i},cubicOut:function(i){return--i*i*i+1},cubicInOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)},quarticIn:function(i){return i*i*i*i},quarticOut:function(i){return 1- --i*i*i*i},quarticInOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)},quinticIn:function(i){return i*i*i*i*i},quinticOut:function(i){return--i*i*i*i*i+1},quinticInOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)},sinusoidalIn:function(i){return 1-Math.cos(i*Math.PI/2)},sinusoidalOut:function(i){return Math.sin(i*Math.PI/2)},sinusoidalInOut:function(i){return .5*(1-Math.cos(Math.PI*i))},exponentialIn:function(i){return i===0?0:Math.pow(1024,i-1)},exponentialOut:function(i){return i===1?1:1-Math.pow(2,-10*i)},exponentialInOut:function(i){return i===0?0:i===1?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(-Math.pow(2,-10*(i-1))+2)},circularIn:function(i){return 1-Math.sqrt(1-i*i)},circularOut:function(i){return Math.sqrt(1- --i*i)},circularInOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)},elasticIn:function(i){var t,e=.1,n=.4;return i===0?0:i===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/n)))},elasticOut:function(i){var t,e=.1,n=.4;return i===0?0:i===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*i)*Math.sin((i-t)*(2*Math.PI)/n)+1)},elasticInOut:function(i){var t,e=.1,n=.4;return i===0?0:i===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),(i*=2)<1?-.5*(e*Math.pow(2,10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/n)):e*Math.pow(2,-10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/n)*.5+1)},backIn:function(i){var t=1.70158;return i*i*((t+1)*i-t)},backOut:function(i){var t=1.70158;return--i*i*((t+1)*i+t)+1},backInOut:function(i){var t=2.5949095;return(i*=2)<1?.5*(i*i*((t+1)*i-t)):.5*((i-=2)*i*((t+1)*i+t)+2)},bounceIn:function(i){return 1-V1.bounceOut(1-i)},bounceOut:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},bounceInOut:function(i){return i<.5?V1.bounceIn(i*2)*.5:V1.bounceOut(i*2-1)*.5+.5}},IA=Math.pow,Kd=Math.sqrt,pC=1e-8,FY=1e-4,GH=Kd(3),NA=1/3,Ic=gp(),El=gp(),N0=gp();function Fd(i){return i>-pC&&i<pC}function GY(i){return i>pC||i<-pC}function ra(i,t,e,n,r){var a=1-r;return a*a*(a*i+3*r*t)+r*r*(r*n+3*a*e)}function XH(i,t,e,n,r){var a=1-r;return 3*(((t-i)*a+2*(e-t)*r)*a+(n-e)*r*r)}function vC(i,t,e,n,r,a){var o=n+3*(t-e)-i,s=3*(e-t*2+i),l=3*(t-i),u=i-r,c=s*s-3*o*l,f=s*l-9*o*u,h=l*l-3*s*u,p=0;if(Fd(c)&&Fd(f))if(Fd(s))a[0]=0;else{var g=-l/s;g>=0&&g<=1&&(a[p++]=g)}else{var m=f*f-4*c*h;if(Fd(m)){var _=f/c,g=-s/o+_,S=-_/2;g>=0&&g<=1&&(a[p++]=g),S>=0&&S<=1&&(a[p++]=S)}else if(m>0){var T=Kd(m),M=c*s+1.5*o*(-f+T),w=c*s+1.5*o*(-f-T);M<0?M=-IA(-M,NA):M=IA(M,NA),w<0?w=-IA(-w,NA):w=IA(w,NA);var g=(-s-(M+w))/(3*o);g>=0&&g<=1&&(a[p++]=g)}else{var D=(2*c*s-3*o*f)/(2*Kd(c*c*c)),C=Math.acos(D)/3,R=Kd(c),z=Math.cos(C),g=(-s-2*R*z)/(3*o),S=(-s+R*(z+GH*Math.sin(C)))/(3*o),N=(-s+R*(z-GH*Math.sin(C)))/(3*o);g>=0&&g<=1&&(a[p++]=g),S>=0&&S<=1&&(a[p++]=S),N>=0&&N<=1&&(a[p++]=N)}}return p}function XY(i,t,e,n,r){var a=6*e-12*t+6*i,o=9*t+3*n-3*i-9*e,s=3*t-3*i,l=0;if(Fd(o)){if(GY(a)){var u=-s/a;u>=0&&u<=1&&(r[l++]=u)}}else{var c=a*a-4*o*s;if(Fd(c))r[0]=-a/(2*o);else if(c>0){var f=Kd(c),u=(-a+f)/(2*o),h=(-a-f)/(2*o);u>=0&&u<=1&&(r[l++]=u),h>=0&&h<=1&&(r[l++]=h)}}return l}function op(i,t,e,n,r,a){var o=(t-i)*r+i,s=(e-t)*r+t,l=(n-e)*r+e,u=(s-o)*r+o,c=(l-s)*r+s,f=(c-u)*r+u;a[0]=i,a[1]=o,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=n}function WY(i,t,e,n,r,a,o,s,l,u,c){var f,h=.005,p=1/0,g,m,_,S;Ic[0]=l,Ic[1]=u;for(var T=0;T<1;T+=.05)El[0]=ra(i,e,r,o,T),El[1]=ra(t,n,a,s,T),_=jd(Ic,El),_<p&&(f=T,p=_);p=1/0;for(var M=0;M<32&&!(h<FY);M++)g=f-h,m=f+h,El[0]=ra(i,e,r,o,g),El[1]=ra(t,n,a,s,g),_=jd(El,Ic),g>=0&&_<p?(f=g,p=_):(N0[0]=ra(i,e,r,o,m),N0[1]=ra(t,n,a,s,m),S=jd(N0,Ic),m<=1&&S<p?(f=m,p=S):h*=.5);return c&&(c[0]=ra(i,e,r,o,f),c[1]=ra(t,n,a,s,f)),Kd(p)}function iht(i,t,e,n,r,a,o,s,l){for(var u=i,c=t,f=0,h=1/l,p=1;p<=l;p++){var g=p*h,m=ra(i,e,r,o,g),_=ra(t,n,a,s,g),S=m-u,T=_-c;f+=Math.sqrt(S*S+T*T),u=m,c=_}return f}function Ca(i,t,e,n){var r=1-n;return r*(r*i+2*n*t)+n*n*e}function GO(i,t,e,n){return 2*((1-n)*(t-i)+n*(e-t))}function rht(i,t,e,n,r){var a=i-2*t+e,o=2*(t-i),s=i-n,l=0;if(Fd(a)){if(GY(o)){var u=-s/o;u>=0&&u<=1&&(r[l++]=u)}}else{var c=o*o-4*a*s;if(Fd(c)){var u=-o/(2*a);u>=0&&u<=1&&(r[l++]=u)}else if(c>0){var f=Kd(c),u=(-o+f)/(2*a),h=(-o-f)/(2*a);u>=0&&u<=1&&(r[l++]=u),h>=0&&h<=1&&(r[l++]=h)}}return l}function YY(i,t,e){var n=i+e-2*t;return n===0?.5:(i-t)/n}function cb(i,t,e,n,r){var a=(t-i)*n+i,o=(e-t)*n+t,s=(o-a)*n+a;r[0]=i,r[1]=a,r[2]=s,r[3]=s,r[4]=o,r[5]=e}function qY(i,t,e,n,r,a,o,s,l){var u,c=.005,f=1/0;Ic[0]=o,Ic[1]=s;for(var h=0;h<1;h+=.05){El[0]=Ca(i,e,r,h),El[1]=Ca(t,n,a,h);var p=jd(Ic,El);p<f&&(u=h,f=p)}f=1/0;for(var g=0;g<32&&!(c<FY);g++){var m=u-c,_=u+c;El[0]=Ca(i,e,r,m),El[1]=Ca(t,n,a,m);var p=jd(El,Ic);if(m>=0&&p<f)u=m,f=p;else{N0[0]=Ca(i,e,r,_),N0[1]=Ca(t,n,a,_);var S=jd(N0,Ic);_<=1&&S<f?(u=_,f=S):c*=.5}}return l&&(l[0]=Ca(i,e,r,u),l[1]=Ca(t,n,a,u)),Kd(f)}function aht(i,t,e,n,r,a,o){for(var s=i,l=t,u=0,c=1/o,f=1;f<=o;f++){var h=f*c,p=Ca(i,e,r,h),g=Ca(t,n,a,h),m=p-s,_=g-l;u+=Math.sqrt(m*m+_*_),s=p,l=g}return u}var oht=/cubic-bezier\(([0-9,\.e ]+)\)/;function Zz(i){var t=i&&oht.exec(i);if(t){var e=t[1].split(","),n=+ks(e[0]),r=+ks(e[1]),a=+ks(e[2]),o=+ks(e[3]);if(isNaN(n+r+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:vC(0,n,a,1,l,s)&&ra(0,r,o,1,s[0])}}}var sht=(function(){function i(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||ur,this.ondestroy=t.ondestroy||ur,this.onrestart=t.onrestart||ur,t.easing&&this.setEasing(t.easing)}return i.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var n=this._life,r=t-this._startTime-this._pausedTime,a=r/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var l=r%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1},i.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Te(t)?t:V1[t]||Zz(t)},i})(),ZY=(function(){function i(t){this.value=t}return i})(),lht=(function(){function i(){this._len=0}return i.prototype.insert=function(t){var e=new ZY(t);return this.insertEntry(e),e},i.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i.prototype.len=function(){return this._len},i.prototype.clear=function(){this.head=this.tail=null,this._len=0},i})(),$0=(function(){function i(t){this._list=new lht,this._maxSize=10,this._map={},this._maxSize=t}return i.prototype.put=function(t,e){var n=this._list,r=this._map,a=null;if(r[t]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete r[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new ZY(e),s.key=t,n.insertEntry(s),r[t]=s}return a},i.prototype.get=function(t){var e=this._map[t],n=this._list;if(e!=null)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},i.prototype.clear=function(){this._list.clear(),this._map={}},i.prototype.len=function(){return this._list.len()},i})(),WH={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Eu(i){return i=Math.round(i),i<0?0:i>255?255:i}function uht(i){return i=Math.round(i),i<0?0:i>360?360:i}function fb(i){return i<0?0:i>1?1:i}function Qw(i){var t=i;return t.length&&t.charAt(t.length-1)==="%"?Eu(parseFloat(t)/100*255):Eu(parseInt(t,10))}function uh(i){var t=i;return t.length&&t.charAt(t.length-1)==="%"?fb(parseFloat(t)/100):fb(parseFloat(t))}function XL(i,t,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?i+(t-i)*e*6:e*2<1?t:e*3<2?i+(t-i)*(2/3-e)*6:i}function Gd(i,t,e){return i+(t-i)*e}function xl(i,t,e,n,r){return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function XO(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i}var jY=new $0(20),OA=null;function Xy(i,t){OA&&XO(OA,t),OA=jY.put(i,OA||t.slice())}function So(i,t){if(i){t=t||[];var e=jY.get(i);if(e)return XO(t,e);i=i+"";var n=i.replace(/ /g,"").toLowerCase();if(n in WH)return XO(t,WH[n]),Xy(i,t),t;var r=n.length;if(n.charAt(0)==="#"){if(r===4||r===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){xl(t,0,0,0,1);return}return xl(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,r===5?parseInt(n.slice(4),16)/15:1),Xy(i,t),t}else if(r===7||r===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){xl(t,0,0,0,1);return}return xl(t,(a&16711680)>>16,(a&65280)>>8,a&255,r===9?parseInt(n.slice(7),16)/255:1),Xy(i,t),t}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===r){var l=n.substr(0,o),u=n.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?xl(t,+u[0],+u[1],+u[2],1):xl(t,0,0,0,1);c=uh(u.pop());case"rgb":if(u.length>=3)return xl(t,Qw(u[0]),Qw(u[1]),Qw(u[2]),u.length===3?c:uh(u[3])),Xy(i,t),t;xl(t,0,0,0,1);return;case"hsla":if(u.length!==4){xl(t,0,0,0,1);return}return u[3]=uh(u[3]),WO(u,t),Xy(i,t),t;case"hsl":if(u.length!==3){xl(t,0,0,0,1);return}return WO(u,t),Xy(i,t),t;default:return}}xl(t,0,0,0,1)}}function WO(i,t){var e=(parseFloat(i[0])%360+360)%360/360,n=uh(i[1]),r=uh(i[2]),a=r<=.5?r*(n+1):r+n-r*n,o=r*2-a;return t=t||[],xl(t,Eu(XL(o,a,e+1/3)*255),Eu(XL(o,a,e)*255),Eu(XL(o,a,e-1/3)*255),1),i.length===4&&(t[3]=i[3]),t}function cht(i){if(i){var t=i[0]/255,e=i[1]/255,n=i[2]/255,r=Math.min(t,e,n),a=Math.max(t,e,n),o=a-r,s=(a+r)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(a+r):u=o/(2-a-r);var c=((a-t)/6+o/2)/o,f=((a-e)/6+o/2)/o,h=((a-n)/6+o/2)/o;t===a?l=h-f:e===a?l=1/3+c-h:n===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var p=[l*360,u,s];return i[3]!=null&&p.push(i[3]),p}}function gC(i,t){var e=So(i);if(e){for(var n=0;n<3;n++)t<0?e[n]=e[n]*(1-t)|0:e[n]=(255-e[n])*t+e[n]|0,e[n]>255?e[n]=255:e[n]<0&&(e[n]=0);return Ll(e,e.length===4?"rgba":"rgb")}}function fht(i){var t=So(i);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function H1(i,t,e){if(!(!(t&&t.length)||!(i>=0&&i<=1))){e=e||[];var n=i*(t.length-1),r=Math.floor(n),a=Math.ceil(n),o=t[r],s=t[a],l=n-r;return e[0]=Eu(Gd(o[0],s[0],l)),e[1]=Eu(Gd(o[1],s[1],l)),e[2]=Eu(Gd(o[2],s[2],l)),e[3]=fb(Gd(o[3],s[3],l)),e}}var hht=H1;function jz(i,t,e){if(!(!(t&&t.length)||!(i>=0&&i<=1))){var n=i*(t.length-1),r=Math.floor(n),a=Math.ceil(n),o=So(t[r]),s=So(t[a]),l=n-r,u=Ll([Eu(Gd(o[0],s[0],l)),Eu(Gd(o[1],s[1],l)),Eu(Gd(o[2],s[2],l)),fb(Gd(o[3],s[3],l))],"rgba");return e?{color:u,leftIndex:r,rightIndex:a,value:n}:u}}var dht=jz;function ch(i,t,e,n){var r=So(i);if(i)return r=cht(r),t!=null&&(r[0]=uht(Te(t)?t(r[0]):t)),e!=null&&(r[1]=uh(Te(e)?e(r[1]):e)),n!=null&&(r[2]=uh(Te(n)?n(r[2]):n)),Ll(WO(r),"rgba")}function hb(i,t){var e=So(i);if(e&&t!=null)return e[3]=fb(t),Ll(e,"rgba")}function Ll(i,t){if(!(!i||!i.length)){var e=i[0]+","+i[1]+","+i[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(e+=","+i[3]),t+"("+e+")"}}function db(i,t){var e=So(i);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}function pht(){return Ll([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var YH=new $0(100);function mC(i){if(le(i)){var t=YH.get(i);return t||(t=gC(i,-.1),YH.put(i,t)),t}else if(Qb(i)){var e=Rt({},i);return e.colorStops=kt(i.colorStops,function(n){return{offset:n.offset,color:gC(n.color,-.1)}}),e}return i}const vht=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:H1,fastMapToColor:hht,lerp:jz,lift:gC,liftColor:mC,lum:db,mapToColor:dht,modifyAlpha:hb,modifyHSL:ch,parse:So,parseCssFloat:uh,parseCssInt:Qw,random:pht,stringify:Ll,toHex:fht},Symbol.toStringTag,{value:"Module"}));var yC=Math.round;function pb(i){var t;if(!i||i==="transparent")i="none";else if(typeof i=="string"&&i.indexOf("rgba")>-1){var e=So(i);e&&(i="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}return{color:i,opacity:t??1}}var qH=1e-4;function Xd(i){return i<qH&&i>-qH}function PA(i){return yC(i*1e3)/1e3}function YO(i){return yC(i*1e4)/1e4}function ght(i){return"matrix("+PA(i[0])+","+PA(i[1])+","+PA(i[2])+","+PA(i[3])+","+YO(i[4])+","+YO(i[5])+")"}var mht={left:"start",right:"end",center:"middle",middle:"middle"};function yht(i,t,e){return e==="top"?i+=t/2:e==="bottom"&&(i-=t/2),i}function _ht(i){return i&&(i.shadowBlur||i.shadowOffsetX||i.shadowOffsetY)}function Sht(i){var t=i.style,e=i.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}function KY(i){return i&&!!i.image}function xht(i){return i&&!!i.svgElement}function Kz(i){return KY(i)||xht(i)}function QY(i){return i.type==="linear"}function JY(i){return i.type==="radial"}function $Y(i){return i&&(i.type==="linear"||i.type==="radial")}function lD(i){return"url(#"+i+")"}function tq(i){var t=i.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function eq(i){var t=i.x||0,e=i.y||0,n=(i.rotation||0)*P1,r=_e(i.scaleX,1),a=_e(i.scaleY,1),o=i.skewX||0,s=i.skewY||0,l=[];return(t||e)&&l.push("translate("+t+"px,"+e+"px)"),n&&l.push("rotate("+n+")"),(r!==1||a!==1)&&l.push("scale("+r+","+a+")"),(o||s)&&l.push("skew("+yC(o*P1)+"deg, "+yC(s*P1)+"deg)"),l.join(" ")}var bht=(function(){return xn.hasGlobalWindow&&Te(window.btoa)?function(i){return window.btoa(unescape(encodeURIComponent(i)))}:typeof Buffer<"u"?function(i){return Buffer.from(i).toString("base64")}:function(i){return null}})(),qO=Array.prototype.slice;function Zf(i,t,e){return(t-i)*e+i}function WL(i,t,e,n){for(var r=t.length,a=0;a<r;a++)i[a]=Zf(t[a],e[a],n);return i}function Tht(i,t,e,n){for(var r=t.length,a=r&&t[0].length,o=0;o<r;o++){i[o]||(i[o]=[]);for(var s=0;s<a;s++)i[o][s]=Zf(t[o][s],e[o][s],n)}return i}function zA(i,t,e,n){for(var r=t.length,a=0;a<r;a++)i[a]=t[a]+e[a]*n;return i}function ZH(i,t,e,n){for(var r=t.length,a=r&&t[0].length,o=0;o<r;o++){i[o]||(i[o]=[]);for(var s=0;s<a;s++)i[o][s]=t[o][s]+e[o][s]*n}return i}function Mht(i,t){for(var e=i.length,n=t.length,r=e>n?t:i,a=Math.min(e,n),o=r[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(e,n);s++)r.push({offset:o.offset,color:o.color.slice()})}function Aht(i,t,e){var n=i,r=t;if(!(!n.push||!r.push)){var a=n.length,o=r.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var l=a;l<o;l++)n.push(e===1?r[l]:qO.call(r[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(e===1)isNaN(n[l])&&(n[l]=r[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=r[l][c])}}function k1(i){if(Za(i)){var t=i.length;if(Za(i[0])){for(var e=[],n=0;n<t;n++)e.push(qO.call(i[n]));return e}return qO.call(i)}return i}function Jw(i){return i[0]=Math.floor(i[0])||0,i[1]=Math.floor(i[1])||0,i[2]=Math.floor(i[2])||0,i[3]=i[3]==null?1:i[3],"rgba("+i.join(",")+")"}function wht(i){return Za(i&&i[0])?2:1}var BA=0,$w=1,nq=2,v1=3,ZO=4,jO=5,jH=6;function KH(i){return i===ZO||i===jO}function UA(i){return i===$w||i===nq}var Nx=[0,0,0,0],Eht=(function(){function i(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return i.prototype.isFinished=function(){return this._finished},i.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},i.prototype.needsAnimate=function(){return this.keyframes.length>=1},i.prototype.getAdditiveTrack=function(){return this._additiveTrack},i.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var r=this.keyframes,a=r.length,o=!1,s=jH,l=e;if(Za(e)){var u=wht(e);s=u,(u===1&&!En(e[0])||u===2&&!En(e[0][0]))&&(o=!0)}else if(En(e)&&!Ya(e))s=BA;else if(le(e))if(!isNaN(+e))s=BA;else{var c=So(e);c&&(l=c,s=v1)}else if(Qb(e)){var f=Rt({},l);f.colorStops=kt(e.colorStops,function(p){return{offset:p.offset,color:So(p.color)}}),QY(e)?s=ZO:JY(e)&&(s=jO),l=f}a===0?this.valType=s:(s!==this.valType||s===jH)&&(o=!0),this.discrete=this.discrete||o;var h={time:t,value:l,rawValue:e,percent:0};return n&&(h.easing=n,h.easingFunc=Te(n)?n:V1[n]||Zz(n)),r.push(h),h},i.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(m,_){return m.time-_.time});for(var r=this.valType,a=n.length,o=n[a-1],s=this.discrete,l=UA(r),u=KH(r),c=0;c<a;c++){var f=n[c],h=f.value,p=o.value;f.percent=f.time/t,s||(l&&c!==a-1?Aht(h,p,r):u&&Mht(h.colorStops,p.colorStops))}if(!s&&r!==jO&&e&&this.needsAnimate()&&e.needsAnimate()&&r===e.valType&&!e._finished){this._additiveTrack=e;for(var g=n[0].value,c=0;c<a;c++)r===BA?n[c].additiveValue=n[c].value-g:r===v1?n[c].additiveValue=zA([],n[c].value,g,-1):UA(r)&&(n[c].additiveValue=r===$w?zA([],n[c].value,g,-1):ZH([],n[c].value,g,-1))}},i.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,r=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=a===v1,c,f=this._lastFr,h=Math.min,p,g;if(s===1)p=g=o[0];else{if(e<0)c=0;else if(e<this._lastFrP){var m=h(f+1,s-1);for(c=m;c>=0&&!(o[c].percent<=e);c--);c=h(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>e);c++);c=h(c-1,s-2)}g=o[c+1],p=o[c]}if(p&&g){this._lastFr=c,this._lastFrP=e;var _=g.percent-p.percent,S=_===0?1:h((e-p.percent)/_,1);g.easingFunc&&(S=g.easingFunc(S));var T=n?this._additiveValue:u?Nx:t[l];if((UA(a)||u)&&!T&&(T=this._additiveValue=[]),this.discrete)t[l]=S<1?p.rawValue:g.rawValue;else if(UA(a))a===$w?WL(T,p[r],g[r],S):Tht(T,p[r],g[r],S);else if(KH(a)){var M=p[r],w=g[r],D=a===ZO;t[l]={type:D?"linear":"radial",x:Zf(M.x,w.x,S),y:Zf(M.y,w.y,S),colorStops:kt(M.colorStops,function(R,z){var N=w.colorStops[z];return{offset:Zf(R.offset,N.offset,S),color:Jw(WL([],R.color,N.color,S))}}),global:w.global},D?(t[l].x2=Zf(M.x2,w.x2,S),t[l].y2=Zf(M.y2,w.y2,S)):t[l].r=Zf(M.r,w.r,S)}else if(u)WL(T,p[r],g[r],S),n||(t[l]=Jw(T));else{var C=Zf(p[r],g[r],S);n?this._additiveValue=C:t[l]=C}n&&this._addToTarget(t)}}},i.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,r=this._additiveValue;e===BA?t[n]=t[n]+r:e===v1?(So(t[n],Nx),zA(Nx,Nx,r,1),t[n]=Jw(Nx)):e===$w?zA(t[n],t[n],r,1):e===nq&&ZH(t[n],t[n],r,1)},i})(),Qz=(function(){function i(t,e,n,r){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r){iD("Can' use additive animation on looped animation.");return}this._additiveAnimators=r,this._allowDiscrete=n}return i.prototype.getMaxTime=function(){return this._maxTime},i.prototype.getDelay=function(){return this._delay},i.prototype.getLoop=function(){return this._loop},i.prototype.getTarget=function(){return this._target},i.prototype.changeTarget=function(t){this._target=t},i.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,Tn(e),n)},i.prototype.whenWithKeys=function(t,e,n,r){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],l=a[s];if(!l){l=a[s]=new Eht(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,h=f[f.length-1];u=h&&h.value,c.valType===v1&&u&&(u=Jw(u))}else u=this._target[s];if(u==null)continue;t>0&&l.addKeyframe(0,k1(u),r),this._trackKeys.push(s)}l.addKeyframe(t,k1(e[s]),r)}return this._maxTime=Math.max(this._maxTime,t),this},i.prototype.pause=function(){this._clip.pause(),this._paused=!0},i.prototype.resume=function(){this._clip.resume(),this._paused=!1},i.prototype.isPaused=function(){return!!this._paused},i.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},i.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},i.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},i.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},i.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var a=n[r].getTrack(t);a&&(e=a)}return e},i.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],r=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(e._target[s.propName]=f.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var h=new sht({life:r,loop:this._loop,delay:this._delay||0,onframe:function(p){e._started=2;var g=e._additiveAnimators;if(g){for(var m=!1,_=0;_<g.length;_++)if(g[_]._clip){m=!0;break}m||(e._additiveAnimators=null)}for(var _=0;_<n.length;_++)n[_].step(e._target,p);var S=e._onframeCbs;if(S)for(var _=0;_<S.length;_++)S[_](e._target,p)},ondestroy:function(){e._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),t&&h.setEasing(t)}else this._doneCallback();return this}},i.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},i.prototype.delay=function(t){return this._delay=t,this},i.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},i.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},i.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},i.prototype.getClip=function(){return this._clip},i.prototype.getTrack=function(t){return this._tracks[t]},i.prototype.getTracks=function(){var t=this;return kt(this._trackKeys,function(e){return t._tracks[e]})},i.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,a=0;a<t.length;a++){var o=n[t[a]];o&&!o.isFinished()&&(e?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<r.length;a++)if(!n[r[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},i.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var a=e[r],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[n?0:s.length-1];l&&(t[a]=k1(l.rawValue))}}}},i.prototype.__changeFinalValue=function(t,e){e=e||Tn(t);for(var n=0;n<e.length;n++){var r=e[n],a=this._tracks[r];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,t[r]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},i})();function T0(){return new Date().getTime()}var Cht=(function(i){ht(t,i);function t(e){var n=i.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var n=e.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(e){if(e.animation){var n=e.prev,r=e.next;n?n.next=r:this._head=r,r?r.prev=n:this._tail=n,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var n=e.getClip();n&&this.removeClip(n),e.animation=null},t.prototype.update=function(e){for(var n=T0()-this._pausedTime,r=n-this._time,a=this._head;a;){var o=a.next,s=a.step(n,r);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,e||(this.trigger("frame",r),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function n(){e._running&&(dC(n),!e._paused&&e.update())}dC(n)},t.prototype.start=function(){this._running||(this._time=T0(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=T0(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=T0()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var n=e.next;e.prev=e.next=e.animation=null,e=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,n){n=n||{},this.start();var r=new Qz(e,n.loop);return this.addAnimator(r),r},t})(Hl),Dht=300,YL=xn.domSupported,qL=(function(){var i=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=kt(i,function(r){var a=r.replace("mouse","pointer");return e.hasOwnProperty(a)?a:r});return{mouse:i,touch:t,pointer:n}})(),QH={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},JH=!1;function KO(i){var t=i.pointerType;return t==="pen"||t==="touch"}function Rht(i){i.touching=!0,i.touchTimer!=null&&(clearTimeout(i.touchTimer),i.touchTimer=null),i.touchTimer=setTimeout(function(){i.touching=!1,i.touchTimer=null},700)}function ZL(i){i&&(i.zrByTouch=!0)}function Lht(i,t){return Tl(i.dom,new Iht(i,t),!0)}function iq(i,t){for(var e=t,n=!1;e&&e.nodeType!==9&&!(n=e.domBelongToZr||e!==t&&e===i.painterRoot);)e=e.parentNode;return n}var Iht=(function(){function i(t,e){this.stopPropagation=ur,this.stopImmediatePropagation=ur,this.preventDefault=ur,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return i})(),mu={mousedown:function(i){i=Tl(this.dom,i),this.__mayPointerCapture=[i.zrX,i.zrY],this.trigger("mousedown",i)},mousemove:function(i){i=Tl(this.dom,i);var t=this.__mayPointerCapture;t&&(i.zrX!==t[0]||i.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",i)},mouseup:function(i){i=Tl(this.dom,i),this.__togglePointerCapture(!1),this.trigger("mouseup",i)},mouseout:function(i){i=Tl(this.dom,i);var t=i.toElement||i.relatedTarget;iq(this,t)||(this.__pointerCapturing&&(i.zrEventControl="no_globalout"),this.trigger("mouseout",i))},wheel:function(i){JH=!0,i=Tl(this.dom,i),this.trigger("mousewheel",i)},mousewheel:function(i){JH||(i=Tl(this.dom,i),this.trigger("mousewheel",i))},touchstart:function(i){i=Tl(this.dom,i),ZL(i),this.__lastTouchMoment=new Date,this.handler.processGesture(i,"start"),mu.mousemove.call(this,i),mu.mousedown.call(this,i)},touchmove:function(i){i=Tl(this.dom,i),ZL(i),this.handler.processGesture(i,"change"),mu.mousemove.call(this,i)},touchend:function(i){i=Tl(this.dom,i),ZL(i),this.handler.processGesture(i,"end"),mu.mouseup.call(this,i),+new Date-+this.__lastTouchMoment<Dht&&mu.click.call(this,i)},pointerdown:function(i){mu.mousedown.call(this,i)},pointermove:function(i){KO(i)||mu.mousemove.call(this,i)},pointerup:function(i){mu.mouseup.call(this,i)},pointerout:function(i){KO(i)||mu.mouseout.call(this,i)}};G(["click","dblclick","contextmenu"],function(i){mu[i]=function(t){t=Tl(this.dom,t),this.trigger(i,t)}});var QO={pointermove:function(i){KO(i)||QO.mousemove.call(this,i)},pointerup:function(i){QO.mouseup.call(this,i)},mousemove:function(i){this.trigger("mousemove",i)},mouseup:function(i){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",i),t&&(i.zrEventControl="only_globalout",this.trigger("mouseout",i))}};function Nht(i,t){var e=t.domHandlers;xn.pointerEventsSupported?G(qL.pointer,function(n){tE(t,n,function(r){e[n].call(i,r)})}):(xn.touchEventsSupported&&G(qL.touch,function(n){tE(t,n,function(r){e[n].call(i,r),Rht(t)})}),G(qL.mouse,function(n){tE(t,n,function(r){r=qz(r),t.touching||e[n].call(i,r)})}))}function Oht(i,t){xn.pointerEventsSupported?G(QH.pointer,e):xn.touchEventsSupported||G(QH.mouse,e);function e(n){function r(a){a=qz(a),iq(i,a.target)||(a=Lht(i,a),t.domHandlers[n].call(i,a))}tE(t,n,r,{capture:!0})}}function tE(i,t,e,n){i.mounted[t]=e,i.listenerOpts[t]=n,HO(i.domTarget,t,e,n)}function jL(i){var t=i.mounted;for(var e in t)t.hasOwnProperty(e)&&kft(i.domTarget,e,t[e],i.listenerOpts[e]);i.mounted={}}var $H=(function(){function i(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return i})(),Pht=(function(i){ht(t,i);function t(e,n){var r=i.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=n,r._localHandlerScope=new $H(e,mu),YL&&(r._globalHandlerScope=new $H(document,QO)),Nht(r,r._localHandlerScope),r}return t.prototype.dispose=function(){jL(this._localHandlerScope),YL&&jL(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,YL&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var n=this._globalHandlerScope;e?Oht(this,n):jL(n)}},t})(Hl),rq=1;xn.hasGlobalWindow&&(rq=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var _C=rq,JO=.4,$O="#333",tP="#ccc",zht="#eee",tk=tT,ek=5e-5;function Lv(i){return i>ek||i<-ek}var Iv=[],Wy=[],KL=la(),QL=Math.abs,rh=(function(){function i(){}return i.prototype.getLocalTransform=function(t){return i.getLocalTransform(this,t)},i.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},i.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},i.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},i.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},i.prototype.needLocalTransform=function(){return Lv(this.rotation)||Lv(this.x)||Lv(this.y)||Lv(this.scaleX-1)||Lv(this.scaleY-1)||Lv(this.skewX)||Lv(this.skewY)},i.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;if(!(e||t)){n&&(tk(n),this.invTransform=null);return}n=n||la(),e?this.getLocalTransform(n):tk(n),t&&(e?wu(n,t,n):eT(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},i.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(Iv);var n=Iv[0]<0?-1:1,r=Iv[1]<0?-1:1,a=((Iv[0]-n)*e+n)/Iv[0]||0,o=((Iv[1]-r)*e+r)/Iv[1]||0;t[0]*=a,t[1]*=a,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||la(),Pl(this.invTransform,t)},i.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},i.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),a=Math.PI/2+r-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},i.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||la(),wu(Wy,t.invTransform,e),e=Wy);var n=this.originX,r=this.originY;(n||r)&&(KL[4]=n,KL[5]=r,wu(Wy,e,KL),Wy[4]-=n,Wy[5]-=r,e=Wy),this.setLocalTransform(e)}},i.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},i.prototype.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&cr(n,n,r),n},i.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&cr(n,n,r),n},i.prototype.getLineScale=function(){var t=this.transform;return t&&QL(t[0]-1)>1e-10&&QL(t[3]-1)>1e-10?Math.sqrt(QL(t[0]*t[3]-t[2]*t[1])):1},i.prototype.copyTransform=function(t){SC(this,t)},i.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,r=t.originY||0,a=t.scaleX,o=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,f=t.y,h=t.skewX?Math.tan(t.skewX):0,p=t.skewY?Math.tan(-t.skewY):0;if(n||r||s||l){var g=n+s,m=r+l;e[4]=-g*a-h*m*o,e[5]=-m*o-p*g*a}else e[4]=e[5]=0;return e[0]=a,e[3]=o,e[1]=p*a,e[2]=h*o,u&&wh(e,e,u),e[4]+=n+c,e[5]+=r+f,e},i.initDefaultProps=(function(){var t=i.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0})(),i})(),Zc=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function SC(i,t){for(var e=0;e<Zc.length;e++){var n=Zc[e];i[n]=t[n]}}function Xc(i){VA||(VA=new $0(100)),i=i||yh;var t=VA.get(i);return t||(t={font:i,strWidthCache:new $0(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:ys.measureText("国",i).width,asciiCharWidth:ys.measureText("a",i).width},VA.put(i,t)),t}var VA;function Bht(i){if(!(JL>=nk)){i=i||yh;for(var t=[],e=+new Date,n=0;n<=127;n++)t[n]=ys.measureText(String.fromCharCode(n),i).width;var r=+new Date-e;return r>16?JL=nk:r>2&&JL++,t}}var JL=0,nk=5;function aq(i,t){return i.asciiWidthMapTried||(i.asciiWidthMap=Bht(i.font),i.asciiWidthMapTried=!0),0<=t&&t<=127?i.asciiWidthMap!=null?i.asciiWidthMap[t]:i.asciiCharWidth:i.stWideCharWidth}function Wc(i,t){var e=i.strWidthCache,n=e.get(t);return n==null&&(n=ys.measureText(t,i.font).width,e.put(t,n)),n}function ik(i,t,e,n){var r=Wc(Xc(t),i),a=nT(t),o=t_(0,r,e),s=Cg(0,a,n),l=new Oe(o,s,r,a);return l}function uD(i,t,e,n){var r=((i||"")+"").split(`
`),a=r.length;if(a===1)return ik(r[0],t,e,n);for(var o=new Oe(0,0,0,0),s=0;s<r.length;s++){var l=ik(r[s],t,e,n);s===0?o.copy(l):o.union(l)}return o}function t_(i,t,e,n){return e==="right"?n?i+=t:i-=t:e==="center"&&(n?i+=t/2:i-=t/2),i}function Cg(i,t,e,n){return e==="middle"?n?i+=t/2:i-=t/2:e==="bottom"&&(n?i+=t:i-=t),i}function nT(i){return Xc(i).stWideCharWidth}function Nu(i,t){return typeof i=="string"?i.lastIndexOf("%")>=0?parseFloat(i)/100*t:parseFloat(i):i}function xC(i,t,e){var n=t.position||"inside",r=t.distance!=null?t.distance:5,a=e.height,o=e.width,s=a/2,l=e.x,u=e.y,c="left",f="top";if(n instanceof Array)l+=Nu(n[0],e.width),u+=Nu(n[1],e.height),c=null,f=null;else switch(n){case"left":l-=r,u+=s,c="right",f="middle";break;case"right":l+=r+o,u+=s,f="middle";break;case"top":l+=o/2,u-=r,c="center",f="bottom";break;case"bottom":l+=o/2,u+=a+r,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=r,u+=s,f="middle";break;case"insideRight":l+=o-r,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=r,c="center";break;case"insideBottom":l+=o/2,u+=a-r,c="center",f="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=o-r,u+=r,c="right";break;case"insideBottomLeft":l+=r,u+=a-r,f="bottom";break;case"insideBottomRight":l+=o-r,u+=a-r,c="right",f="bottom";break}return i=i||{},i.x=l,i.y=u,i.align=c,i.verticalAlign=f,i}var $L="__zr_normal__",tI=Zc.concat(["ignore"]),Uht=Ol(Zc,function(i,t){return i[t]=!0,i},{ignore:!1}),Yy={},Vht=new Oe(0,0,0,0),HA=[],cD=(function(){function i(t){this.id=Gz(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return i.prototype._init=function(t){this.attr(t)},i.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},i.prototype.beforeUpdate=function(){},i.prototype.afterUpdate=function(){},i.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},i.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,a=e.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=r?this:null;var u=!1;a.copyTransform(e);var c=n.position!=null,f=n.autoOverflowArea,h=void 0;if((f||c)&&(h=Vht,n.layoutRect?h.copy(n.layoutRect):h.copy(this.getBoundingRect()),r||h.applyTransform(this.transform)),c){this.calculateTextPosition?this.calculateTextPosition(Yy,n,h):xC(Yy,n,h),a.x=Yy.x,a.y=Yy.y,o=Yy.align,s=Yy.verticalAlign;var p=n.origin;if(p&&n.rotation!=null){var g=void 0,m=void 0;p==="center"?(g=h.width*.5,m=h.height*.5):(g=Nu(p[0],h.width),m=Nu(p[1],h.height)),u=!0,a.originX=-a.x+g+(r?0:h.x),a.originY=-a.y+m+(r?0:h.y)}}n.rotation!=null&&(a.rotation=n.rotation);var _=n.offset;_&&(a.x+=_[0],a.y+=_[1],u||(a.originX=-_[0],a.originY=-_[1]));var S=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(f){var T=S.overflowRect=S.overflowRect||new Oe(0,0,0,0);a.getLocalTransform(HA),Pl(HA,HA),Oe.copy(T,h),T.applyTransform(HA)}else S.overflowRect=null;var M=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,w=void 0,D=void 0,C=void 0;M&&this.canBeInsideText()?(w=n.insideFill,D=n.insideStroke,(w==null||w==="auto")&&(w=this.getInsideTextFill()),(D==null||D==="auto")&&(D=this.getInsideTextStroke(w),C=!0)):(w=n.outsideFill,D=n.outsideStroke,(w==null||w==="auto")&&(w=this.getOutsideFill()),(D==null||D==="auto")&&(D=this.getOutsideStroke(w),C=!0)),w=w||"#000",(w!==S.fill||D!==S.stroke||C!==S.autoStroke||o!==S.align||s!==S.verticalAlign)&&(l=!0,S.fill=w,S.stroke=D,S.autoStroke=C,S.align=o,S.verticalAlign=s,e.setDefaultTextStyle(S)),e.__dirty|=zs,l&&e.dirtyStyle(!0)}},i.prototype.canBeInsideText=function(){return!0},i.prototype.getInsideTextFill=function(){return"#fff"},i.prototype.getInsideTextStroke=function(t){return"#000"},i.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?tP:$O},i.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n=typeof e=="string"&&So(e);n||(n=[255,255,255,1]);for(var r=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*r+(a?0:255)*(1-r);return n[3]=1,Ll(n,"rgba")},i.prototype.traverse=function(t,e){},i.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},Rt(this.extra,e)):this[t]=e},i.prototype.hide=function(){this.ignore=!0,this.markRedraw()},i.prototype.show=function(){this.ignore=!1,this.markRedraw()},i.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(Le(t))for(var n=t,r=Tn(n),a=0;a<r.length;a++){var o=r[a];this.attrKV(o,t[o])}return this.markRedraw(),this},i.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],a=r.__fromStateTransition;if(!(r.getLoop()||a&&a!==$L)){var o=r.targetName,s=o?e[o]:e;r.saveTo(s)}}},i.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,tI)},i.prototype._savePrimaryToNormal=function(t,e,n){for(var r=0;r<n.length;r++){var a=n[r];t[a]!=null&&!(a in e)&&(e[a]=this[a])}},i.prototype.hasState=function(){return this.currentStates.length>0},i.prototype.getState=function(t){return this.states[t]},i.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},i.prototype.clearStates=function(t){this.useState($L,!1,t)},i.prototype.useState=function(t,e,n,r){var a=t===$L,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,l=this.stateTransition;if(!(tn(s,t)>=0&&(e||s.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!a){iD("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||r);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,e,!n&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,h=this._textGuide;return f&&f.useState(t,e,n,c),h&&h.useState(t,e,n,c),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~zs),u}}},i.prototype.useStates=function(t,e,n){if(!t.length)this.clearStates();else{var r=[],a=this.currentStates,o=t.length,s=o===a.length;if(s){for(var l=0;l<o;l++)if(t[l]!==a[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&r.push(c)}var f=r[o-1],h=!!(f&&f.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(r),g=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(t.join(","),p,this._normalState,!1,!e&&!this.__inHover&&g&&g.duration>0,g);var m=this._textContent,_=this._textGuide;m&&m.useStates(t,e,h),_&&_.useStates(t,e,h),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~zs)}},i.prototype.isSilent=function(){for(var t=this;t;){if(t.silent)return!0;var e=t.__hostTarget;t=e?t.ignoreHostSilent?null:e:t.parent}return!1},i.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},i.prototype.removeState=function(t){var e=tn(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},i.prototype.replaceState=function(t,e,n){var r=this.currentStates.slice(),a=tn(r,t),o=tn(r,e)>=0;a>=0?o?r.splice(a,1):r[a]=e:n&&!o&&r.push(e),this.useStates(r)},i.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},i.prototype._mergeStates=function(t){for(var e={},n,r=0;r<t.length;r++){var a=t[r];Rt(e,a),a.textConfig&&(n=n||{},Rt(n,a.textConfig))}return n&&(e.textConfig=n),e},i.prototype._applyStateObj=function(t,e,n,r,a,o){var s=!(e&&r);e&&e.textConfig?(this.textConfig=Rt({},r?this.textConfig:n.textConfig),Rt(this.textConfig,e.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<tI.length;c++){var f=tI[c],h=a&&Uht[f];e&&e[f]!=null?h?(u=!0,l[f]=e[f]):this[f]=e[f]:s&&n[f]!=null&&(h?(u=!0,l[f]=n[f]):this[f]=n[f])}if(!a)for(var c=0;c<this.animators.length;c++){var p=this.animators[c],g=p.targetName;p.getLoop()||p.__changeFinalValue(g?(e||n)[g]:e||n)}u&&this._transitionState(t,l,o)},i.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},i.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},i.prototype.getClipPath=function(){return this._clipPath},i.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},i.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},i.prototype.getTextContent=function(){return this._textContent},i.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new rh,this._attachComponent(t),this._textContent=t,this.markRedraw())},i.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Rt(this.textConfig,t),this.markRedraw()},i.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},i.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},i.prototype.getTextGuideLine=function(){return this._textGuide},i.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},i.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},i.prototype.markRedraw=function(){this.__dirty|=zs;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},i.prototype.dirty=function(){this.markRedraw()},i.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},i.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},i.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},i.prototype.animate=function(t,e,n){var r=t?this[t]:this,a=new Qz(r,e,n);return t&&(a.targetName=t),this.addAnimator(a,t),a},i.prototype.addAnimator=function(t,e){var n=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var a=r.animators,o=tn(a,t);o>=0&&a.splice(o,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},i.prototype.updateDuringAnimation=function(t){this.markRedraw()},i.prototype.stopAnimation=function(t,e){for(var n=this.animators,r=n.length,a=[],o=0;o<r;o++){var s=n[o];!t||t===s.scope?s.stop(e):a.push(s)}return this.animators=a,this},i.prototype.animateTo=function(t,e,n){eI(this,t,e,n)},i.prototype.animateFrom=function(t,e,n){eI(this,t,e,n,!0)},i.prototype._transitionState=function(t,e,n,r){for(var a=eI(this,e,n,r),o=0;o<a.length;o++)a[o].__fromStateTransition=t},i.prototype.getBoundingRect=function(){return null},i.prototype.getPaintRect=function(){return null},i.initDefaultProps=(function(){var t=i.prototype;t.type="element",t.name="",t.ignore=t.silent=t.ignoreHostSilent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=zs;function e(n,r,a,o){Object.defineProperty(t,n,{get:function(){if(!this[r]){var l=this[r]=[];s(this,l)}return this[r]},set:function(l){this[a]=l[0],this[o]=l[1],this[r]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))})(),i})();fr(cD,Hl);fr(cD,rh);function eI(i,t,e,n,r){e=e||{};var a=[];oq(i,"",i,t,e,n,a,r);var o=a.length,s=!1,l=e.done,u=e.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),a.length>0&&e.during&&a[0].during(function(g,m){e.during(m)});for(var h=0;h<a.length;h++){var p=a[h];c&&p.done(c),f&&p.aborted(f),e.force&&p.duration(e.duration),p.start(e.easing)}return a}function nI(i,t,e){for(var n=0;n<e;n++)i[n]=t[n]}function Hht(i){return Za(i[0])}function kht(i,t,e){if(Za(t[e]))if(Za(i[e])||(i[e]=[]),Qo(t[e])){var n=t[e].length;i[e].length!==n&&(i[e]=new t[e].constructor(n),nI(i[e],t[e],n))}else{var r=t[e],a=i[e],o=r.length;if(Hht(r))for(var s=r[0].length,l=0;l<o;l++)a[l]?nI(a[l],r[l],s):a[l]=Array.prototype.slice.call(r[l]);else nI(a,r,o);a.length=r.length}else i[e]=t[e]}function Fht(i,t){return i===t||Za(i)&&Za(t)&&Ght(i,t)}function Ght(i,t){var e=i.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(i[n]!==t[n])return!1;return!0}function oq(i,t,e,n,r,a,o,s){for(var l=Tn(n),u=r.duration,c=r.delay,f=r.additive,h=r.setToFinal,p=!Le(a),g=i.animators,m=[],_=0;_<l.length;_++){var S=l[_],T=n[S];if(T!=null&&e[S]!=null&&(p||a[S]))if(Le(T)&&!Za(T)&&!Qb(T)){if(t){s||(e[S]=T,i.updateDuringAnimation(t));continue}oq(i,S,e[S],T,r,a&&a[S],o,s)}else m.push(S);else s||(e[S]=T,i.updateDuringAnimation(t),m.push(S))}var M=m.length;if(!f&&M)for(var w=0;w<g.length;w++){var D=g[w];if(D.targetName===t){var C=D.stopTracks(m);if(C){var R=tn(g,D);g.splice(R,1)}}}if(r.force||(m=Gn(m,function(U){return!Fht(n[U],e[U])}),M=m.length),M>0||r.force&&!o.length){var z=void 0,N=void 0,O=void 0;if(s){N={},h&&(z={});for(var w=0;w<M;w++){var S=m[w];N[S]=e[S],h?z[S]=n[S]:e[S]=n[S]}}else if(h){O={};for(var w=0;w<M;w++){var S=m[w];O[S]=k1(e[S]),kht(e,n,S)}}var D=new Qz(e,!1,!1,f?Gn(g,function(F){return F.targetName===t}):null);D.targetName=t,r.scope&&(D.scope=r.scope),h&&z&&D.whenWithKeys(0,z,m),O&&D.whenWithKeys(0,O,m),D.whenWithKeys(u??500,s?N:n,m).delay(c||0),i.addAnimator(D,t),o.push(D)}}var Ce=(function(i){ht(t,i);function t(e){var n=i.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var n=this._children,r=0;r<n.length;r++)if(n[r].name===e)return n[r]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,n){if(e&&e!==this&&e.parent!==this&&n&&n.parent===this){var r=this._children,a=r.indexOf(n);a>=0&&(r.splice(a,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,n){var r=tn(this._children,e);return r>=0&&this.replaceAt(n,r),this},t.prototype.replaceAt=function(e,n){var r=this._children,a=r[n];if(e&&e!==this&&e.parent!==this&&e!==a){r[n]=e,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var n=this.__zr;n&&n!==e.__zr&&e.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(e){var n=this.__zr,r=this._children,a=tn(r,e);return a<0?this:(r.splice(a,1),e.parent=null,n&&e.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var e=this._children,n=this.__zr,r=0;r<e.length;r++){var a=e[r];n&&a.removeSelfFromZr(n),a.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,n){for(var r=this._children,a=0;a<r.length;a++){var o=r[a];e.call(n,o,a)}return this},t.prototype.traverse=function(e,n){for(var r=0;r<this._children.length;r++){var a=this._children[r],o=e.call(n,a);a.isGroup&&!o&&a.traverse(e,n)}return this},t.prototype.addSelfToZr=function(e){i.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){i.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.removeSelfFromZr(e)}},t.prototype.getBoundingRect=function(e){for(var n=new Oe(0,0,0,0),r=e||this._children,a=[],o=null,s=0;s<r.length;s++){var l=r[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(Oe.applyTransform(n,u,c),o=o||n.clone(),o.union(n)):(o=o||u.clone(),o.union(u))}}return o||n},t})(cD);Ce.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var eE={},_g={};function Xht(i){delete _g[i]}function Wht(i){if(!i)return!1;if(typeof i=="string")return db(i,1)<JO;if(i.colorStops){for(var t=i.colorStops,e=0,n=t.length,r=0;r<n;r++)e+=db(t[r].color,1);return e/=n,e<JO}return!1}var Yht=(function(){function i(t,e,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new nht,o=n.renderer||"canvas";eE[o]||(o=Tn(eE)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new eE[o](e,a,n,t),l=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var u=!xn.node&&!xn.worker&&!l?new Pht(s.getViewportRoot(),s.root):null,c=n.useCoarsePointer,f=c==null||c==="auto"?xn.touchEventsSupported:!!c,h=44,p;f&&(p=_e(n.pointerSize,h)),this.handler=new VY(a,s,u,s.root,p),this.animation=new Cht({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return i.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},i.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},i.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},i.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=Wht(t))},i.prototype.getBackgroundColor=function(){return this._backgroundColor},i.prototype.setDarkMode=function(t){this._darkMode=t},i.prototype.isDarkMode=function(){return this._darkMode},i.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},i.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},i.prototype.flush=function(){this._disposed||this._flush(!1)},i.prototype._flush=function(t){var e,n=T0();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=T0();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},i.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},i.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},i.prototype.refreshHover=function(){this._needsRefreshHover=!0},i.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},i.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},i.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},i.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},i.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},i.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},i.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},i.prototype.on=function(t,e,n){return this._disposed||this.handler.on(t,e,n),this},i.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},i.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},i.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Ce&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},i.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,Xht(this.id))},i})();function eP(i,t){var e=new Yht(Gz(),i,t);return _g[e.id]=e,e}function qht(i){i.dispose()}function Zht(){for(var i in _g)_g.hasOwnProperty(i)&&_g[i].dispose();_g={}}function jht(i){return _g[i]}function sq(i,t){eE[i]=t}var nP;function lq(i){if(typeof nP=="function")return nP(i)}function uq(i){nP=i}var Kht="6.0.0";const Qht=Object.freeze(Object.defineProperty({__proto__:null,dispose:qht,disposeAll:Zht,getElementSSRData:lq,getInstance:jht,init:eP,registerPainter:sq,registerSSRDataGetter:uq,version:Kht},Symbol.toStringTag,{value:"Module"}));var rk=1e-4,cq=20;function Jht(i){return i.replace(/^\s+|\s+$/g,"")}var Ys=Math.min,br=Math.max,zc=Math.abs;function Yn(i,t,e,n){var r=t[0],a=t[1],o=e[0],s=e[1],l=a-r,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(n)if(l>0){if(i<=r)return o;if(i>=a)return s}else{if(i>=r)return o;if(i<=a)return s}else{if(i===r)return o;if(i===a)return s}return(i-r)/l*u+o}var se=$ht;function $ht(i,t,e){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%";break}return bC(i,t,e)}function bC(i,t,e){return le(i)?Jht(i).match(/%$/)?parseFloat(i)/100*t+(e||0):parseFloat(i):i==null?NaN:+i}function Tr(i,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),cq),i=(+i).toFixed(t),e?i:+i}function Fs(i){return i.sort(function(t,e){return t-e}),i}function Mu(i){if(i=+i,isNaN(i))return 0;if(i>1e-14){for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(i*t)/t===i)return e}return fq(i)}function fq(i){var t=i.toString().toLowerCase(),e=t.indexOf("e"),n=e>0?+t.slice(e+1):0,r=e>0?e:t.length,a=t.indexOf("."),o=a<0?0:r-1-a;return Math.max(0,o-n)}function Jz(i,t){var e=Math.log,n=Math.LN10,r=Math.floor(e(i[1]-i[0])/n),a=Math.round(e(zc(t[1]-t[0]))/n),o=Math.min(Math.max(-r+a,0),20);return isFinite(o)?o:20}function tdt(i,t,e){if(!i[t])return 0;var n=hq(i,e);return n[t]||0}function hq(i,t){var e=Ol(i,function(p,g){return p+(isNaN(g)?0:g)},0);if(e===0)return[];for(var n=Math.pow(10,t),r=kt(i,function(p){return(isNaN(p)?0:p)/e*n*100}),a=n*100,o=kt(r,function(p){return Math.floor(p)}),s=Ol(o,function(p,g){return p+g},0),l=kt(r,function(p,g){return p-o[g]});s<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,h=l.length;f<h;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return kt(o,function(p){return p/n})}function edt(i,t){var e=Math.max(Mu(i),Mu(t)),n=i+t;return e>cq?n:Tr(n,e)}var iP=9007199254740991;function $z(i){var t=Math.PI*2;return(i%t+t)%t}function e_(i){return i>-rk&&i<rk}var ndt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ef(i){if(i instanceof Date)return i;if(le(i)){var t=ndt.exec(i);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(i==null)return new Date(NaN);return new Date(Math.round(i))}function dq(i){return Math.pow(10,fD(i))}function fD(i){if(i===0)return 0;var t=Math.floor(Math.log(i)/Math.LN10);return i/Math.pow(10,t)>=10&&t++,t}function tB(i,t){var e=fD(i),n=Math.pow(10,e),r=i/n,a;return t?r<1.5?a=1:r<2.5?a=2:r<4?a=3:r<7?a=5:a=10:r<1?a=1:r<2?a=2:r<3?a=3:r<5?a=5:a=10,i=a*n,e>=-20?+i.toFixed(e<0?-e:0):i}function nE(i,t){var e=(i.length-1)*t+1,n=Math.floor(e),r=+i[n-1],a=e-n;return a?r+a*(i[n]-r):r}function rP(i){i.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,e=1,n=0;n<i.length;){for(var r=i[n].interval,a=i[n].close,o=0;o<2;o++)r[o]<=t&&(r[o]=t,a[o]=o?1:1-e),t=r[o],e=a[o];r[0]===r[1]&&a[0]*a[1]!==1?i.splice(n,1):n++}return i;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function jc(i){var t=parseFloat(i);return t==i&&(t!==0||!le(i)||i.indexOf("x")<=0)?t:NaN}function eB(i){return!isNaN(jc(i))}function pq(){return Math.round(Math.random()*9)}function vq(i,t){return t===0?i:vq(t,i%t)}function ak(i,t){return i==null?t:t==null?i:i*t/vq(i,t)}var idt="[ECharts] ",rdt=typeof console<"u"&&console.warn&&console.log;function adt(i,t,e){rdt&&console[i](idt+t)}function gq(i,t){adt("error",i)}function qn(i){throw new Error(i)}function ok(i,t,e){return(t-i)*e+i}var mq="series\0",yq="\0_ec_\0";function bi(i){return i instanceof Array?i:i==null?[]:[i]}function Gg(i,t,e){if(i){i[t]=i[t]||{},i.emphasis=i.emphasis||{},i.emphasis[t]=i.emphasis[t]||{};for(var n=0,r=e.length;n<r;n++){var a=e[n];!i.emphasis[t].hasOwnProperty(a)&&i[t].hasOwnProperty(a)&&(i.emphasis[t][a]=i[t][a])}}}var sk=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function M_(i){return Le(i)&&!Vt(i)&&!(i instanceof Date)?i.value:i}function odt(i){return Le(i)&&!(i instanceof Array)}function _q(i,t,e){var n=e==="normalMerge",r=e==="replaceMerge",a=e==="replaceAll";i=i||[],t=(t||[]).slice();var o=ye();G(t,function(l,u){if(!Le(l)){t[u]=null;return}});var s=sdt(i,o,e);return(n||r)&&ldt(s,i,o,t),n&&udt(s,t),n||r?cdt(s,t,r):a&&fdt(s,t),hdt(s),s}function sdt(i,t,e){var n=[];if(e==="replaceAll")return n;for(var r=0;r<i.length;r++){var a=i[r];a&&a.id!=null&&t.set(a.id,r),n.push({existing:e==="replaceMerge"||vb(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function ldt(i,t,e,n){G(n,function(r,a){if(!(!r||r.id==null)){var o=F1(r.id),s=e.get(o);if(s!=null){var l=i[s];ja(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=r,l.existing=t[s],n[a]=null}}})}function udt(i,t){G(t,function(e,n){if(!(!e||e.name==null))for(var r=0;r<i.length;r++){var a=i[r].existing;if(!i[r].newOption&&a&&(a.id==null||e.id==null)&&!vb(e)&&!vb(a)&&Sq("name",a,e)){i[r].newOption=e,t[n]=null;return}}})}function cdt(i,t,e){G(t,function(n){if(n){for(var r,a=0;(r=i[a])&&(r.newOption||vb(r.existing)||r.existing&&n.id!=null&&!Sq("id",n,r.existing));)a++;r?(r.newOption=n,r.brandNew=e):i.push({newOption:n,brandNew:e,existing:null,keyInfo:null}),a++}})}function fdt(i,t){G(t,function(e){i.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function hdt(i){var t=ye();G(i,function(e){var n=e.existing;n&&t.set(n.id,e)}),G(i,function(e){var n=e.newOption;ja(!n||n.id==null||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})}),G(i,function(e,n){var r=e.existing,a=e.newOption,o=e.keyInfo;if(Le(a)){if(o.name=a.name!=null?F1(a.name):r?r.name:mq+n,r)o.id=F1(r.id);else if(a.id!=null)o.id=F1(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(t.get(o.id))}t.set(o.id,e)}})}function Sq(i,t,e){var n=Yr(t[i],null),r=Yr(e[i],null);return n!=null&&r!=null&&n===r}function F1(i){return Yr(i,"")}function Yr(i,t){return i==null?t:le(i)?i:En(i)||uC(i)?i+"":t}function nB(i){var t=i.name;return!!(t&&t.indexOf(mq))}function vb(i){return i&&i.id!=null&&F1(i.id).indexOf(yq)===0}function ddt(i){return yq+i}function pdt(i,t,e){G(i,function(n){var r=n.newOption;Le(r)&&(n.keyInfo.mainType=t,n.keyInfo.subType=vdt(t,r,n.existing,e))})}function vdt(i,t,e,n){var r=t.type?t.type:e?e.subType:n.determineSubType(i,t);return r}function gdt(i,t){var e={},n={};return r(i||[],e),r(t||[],n,e),[a(e),a(n)];function r(o,s,l){for(var u=0,c=o.length;u<c;u++){var f=Yr(o[u].seriesId,null);if(f==null)return;for(var h=bi(o[u].dataIndex),p=l&&l[f],g=0,m=h.length;g<m;g++){var _=h[g];p&&p[_]?p[_]=null:(s[f]||(s[f]={}))[_]=1}}}function a(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&o[u]!=null)if(s)l.push(+u);else{var c=a(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Xg(i,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Vt(t.dataIndex)?kt(t.dataIndex,function(e){return i.indexOfRawIndex(e)}):i.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Vt(t.name)?kt(t.name,function(e){return i.indexOfName(e)}):i.indexOfName(t.name)}function gn(){var i="__ec_inner_"+mdt++;return function(t){return t[i]||(t[i]={})}}var mdt=pq();function O0(i,t,e){var n=iB(t,e),r=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,s=o,l=e?e.defaultMainType:null;return!r&&l&&a.set(l,{}),a.each(function(u,c){var f=A_(i,c,u,{useDefault:l===c,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function iB(i,t){var e;if(le(i)){var n={};n[i+"Index"]=0,e=n}else e=i;var r=ye(),a={},o=!1;return G(e,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||t&&t.includeMainTypes&&tn(t.includeMainTypes,c)<0)){o=o||!!c;var h=r.get(c)||r.set(c,{});h[f]=s}}),{mainTypeSpecified:o,queryOptionMap:r,others:a}}var $i={useDefault:!0,enableAll:!1,enableNone:!1},ydt={useDefault:!1,enableAll:!0,enableNone:!0};function A_(i,t,e,n){n=n||$i;var r=e.index,a=e.id,o=e.name,s={models:null,specified:r!=null||a!=null||o!=null};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=i.getComponent(t))?[l]:[],s}if(r==="none"||r===!1){if(n.enableNone)return s.models=[],s;r=-1}return r==="all"&&(n.enableAll?r=a=o=null:r=-1),s.models=i.queryComponents({mainType:t,index:r,id:a,name:o}),s}function xq(i,t,e){i.setAttribute?i.setAttribute(t,e):i[t]=e}function _dt(i,t){return i.getAttribute?i.getAttribute(t):i[t]}function Sdt(i){return i==="auto"?xn.domSupported?"html":"richText":i||"html"}function aP(i,t){var e=ye(),n=[];return G(i,function(r){var a=t(r);(e.get(a)||(n.push(a),e.set(a,[]))).push(r)}),{keys:n,buckets:e}}function bq(i,t,e,n,r){var a=t==null||t==="auto";if(n==null)return n;if(En(n)){var o=ok(e||0,n,r);return Tr(o,a?Math.max(Mu(e||0),Mu(n)):t)}else{if(le(n))return r<1?e:n;for(var s=[],l=e,u=n,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var h=i.getDimensionInfo(f);if(h&&h.type==="ordinal")s[f]=(r<1&&l?l:u)[f];else{var p=l&&l[f]?l[f]:0,g=u[f],o=ok(p,g,r);s[f]=Tr(o,a?Math.max(Mu(p),Mu(g)):t)}}return s}}var Qd=(function(){function i(){}return i.prototype.reset=function(t,e,n,r){return this._list=t,this._step=r=r||1,this._idx=e,this._end=n??(r>0?t.length:0),this.item=null,this.key=NaN,this},i.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},i})();function iI(i){i.option=i.parentModel=i.ecModel=null}var xdt=".",Nv="___EC__COMPONENT__CONTAINER___",Tq="___EC__EXTENDED_CLASS___";function Bc(i){var t={main:"",sub:""};if(i){var e=i.split(xdt);t.main=e[0]||"",t.sub=e[1]||""}return t}function bdt(i){ja(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i),'componentType "'+i+'" illegal')}function Tdt(i){return!!(i&&i[Tq])}function rB(i,t){i.$constructor=i,i.extend=function(e){var n=this,r;return Mdt(n)?r=(function(a){ht(o,a);function o(){return a.apply(this,arguments)||this}return o})(n):(r=function(){(e.$constructor||n).apply(this,arguments)},Xz(r,this)),Rt(r.prototype,e),r[Tq]=!0,r.extend=this.extend,r.superCall=Edt,r.superApply=Cdt,r.superClass=n,r}}function Mdt(i){return Te(i)&&/^class\s/.test(Function.prototype.toString.call(i))}function Mq(i,t){i.extend=t.extend}var Adt=Math.round(Math.random()*10);function wdt(i){var t=["__\0is_clz",Adt++].join("_");i.prototype[t]=!0,i.isInstance=function(e){return!!(e&&e[t])}}function Edt(i,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return this.superClass.prototype[t].apply(i,e)}function Cdt(i,t,e){return this.superClass.prototype[t].apply(i,e)}function hD(i){var t={};i.registerClass=function(n){var r=n.type||n.prototype.type;if(r){bdt(r),n.prototype.type=r;var a=Bc(r);if(!a.sub)t[a.main]=n;else if(a.sub!==Nv){var o=e(a);o[a.sub]=n}}return n},i.getClass=function(n,r,a){var o=t[n];if(o&&o[Nv]&&(o=r?o[r]:null),a&&!o)throw new Error(r?"Component "+n+"."+(r||"")+" is used but not imported.":n+".type should be specified.");return o},i.getClassesByMainType=function(n){var r=Bc(n),a=[],o=t[r.main];return o&&o[Nv]?G(o,function(s,l){l!==Nv&&a.push(s)}):a.push(o),a},i.hasClass=function(n){var r=Bc(n);return!!t[r.main]},i.getAllClassMainTypes=function(){var n=[];return G(t,function(r,a){n.push(a)}),n},i.hasSubTypes=function(n){var r=Bc(n),a=t[r.main];return a&&a[Nv]};function e(n){var r=t[n.main];return(!r||!r[Nv])&&(r=t[n.main]={},r[Nv]=!0),r}}function Wg(i,t){for(var e=0;e<i.length;e++)i[e][1]||(i[e][1]=i[e][0]);return t=t||!1,function(n,r,a){for(var o={},s=0;s<i.length;s++){var l=i[s][1];if(!(r&&tn(r,l)>=0||a&&tn(a,l)<0)){var u=n.getShallow(l,t);u!=null&&(o[i[s][0]]=u)}}return o}}var Ddt=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Rdt=Wg(Ddt),Ldt=(function(){function i(){}return i.prototype.getAreaStyle=function(t,e){return Rdt(this,t,e)},i})(),oP=new $0(50);function Idt(i){if(typeof i=="string"){var t=oP.get(i);return t&&t.image}else return i}function aB(i,t,e,n,r){if(i)if(typeof i=="string"){if(t&&t.__zrImageSrc===i||!e)return t;var a=oP.get(i),o={hostEl:e,cb:n,cbPayload:r};return a?(t=a.image,!dD(t)&&a.pending.push(o)):(t=ys.loadImage(i,lk,lk),t.__zrImageSrc=i,oP.put(i,t.__cachedImgObj={image:t,pending:[o]})),t}else return i;else return t}function lk(){var i=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<i.pending.length;t++){var e=i.pending[t],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}i.pending.length=0}function dD(i){return i&&i.width&&i.height}var rI=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Ndt(i,t,e,n,r){var a={};return Aq(a,i,t,e,n,r),a.text}function Aq(i,t,e,n,r,a){if(!e){i.text="",i.isTruncated=!1;return}var o=(t+"").split(`
`);a=wq(e,n,r,a);for(var s=!1,l={},u=0,c=o.length;u<c;u++)Eq(l,o[u],a),o[u]=l.textLine,s=s||l.isTruncated;i.text=o.join(`
`),i.isTruncated=s}function wq(i,t,e,n){n=n||{};var r=Rt({},n);e=_e(e,"..."),r.maxIterations=_e(n.maxIterations,2);var a=r.minChar=_e(n.minChar,0),o=r.fontMeasureInfo=Xc(t),s=o.asciiCharWidth;r.placeholder=_e(n.placeholder,"");for(var l=i=Math.max(0,i-1),u=0;u<a&&l>=s;u++)l-=s;var c=Wc(o,e);return c>l&&(e="",c=0),l=i-c,r.ellipsis=e,r.ellipsisWidth=c,r.contentWidth=l,r.containerWidth=i,r}function Eq(i,t,e){var n=e.containerWidth,r=e.contentWidth,a=e.fontMeasureInfo;if(!n){i.textLine="",i.isTruncated=!1;return}var o=Wc(a,t);if(o<=n){i.textLine=t,i.isTruncated=!1;return}for(var s=0;;s++){if(o<=r||s>=e.maxIterations){t+=e.ellipsis;break}var l=s===0?Odt(t,r,a):o>0?Math.floor(t.length*r/o):0;t=t.substr(0,l),o=Wc(a,t)}t===""&&(t=e.placeholder),i.textLine=t,i.isTruncated=!0}function Odt(i,t,e){for(var n=0,r=0,a=i.length;r<a&&n<t;r++)n+=aq(e,i.charCodeAt(r));return r}function Pdt(i,t,e,n){var r=oB(i),a=t.overflow,o=t.padding,s=o?o[1]+o[3]:0,l=o?o[0]+o[2]:0,u=t.font,c=a==="truncate",f=nT(u),h=_e(t.lineHeight,f),p=t.lineOverflow==="truncate",g=!1,m=t.width;m==null&&e!=null&&(m=e-s);var _=t.height;_==null&&n!=null&&(_=n-l);var S;m!=null&&(a==="break"||a==="breakAll")?S=r?Cq(r,t.font,m,a==="breakAll",0).lines:[]:S=r?r.split(`
`):[];var T=S.length*h;if(_==null&&(_=T),T>_&&p){var M=Math.floor(_/h);g=g||S.length>M,S=S.slice(0,M),T=S.length*h}if(r&&c&&m!=null)for(var w=wq(m,u,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),D={},C=0;C<S.length;C++)Eq(D,S[C],w),S[C]=D.textLine,g=g||D.isTruncated;for(var R=_,z=0,N=Xc(u),C=0;C<S.length;C++)z=Math.max(Wc(N,S[C]),z);m==null&&(m=z);var O=m;return R+=l,O+=s,{lines:S,height:_,outerWidth:O,outerHeight:R,lineHeight:h,calculatedLineHeight:f,contentWidth:z,contentHeight:T,width:m,isTruncated:g}}var zdt=(function(){function i(){}return i})(),uk=(function(){function i(t){this.tokens=[],t&&(this.tokens=t)}return i})(),Bdt=(function(){function i(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return i})();function Udt(i,t,e,n,r){var a=new Bdt,o=oB(i);if(!o)return a;var s=t.padding,l=s?s[1]+s[3]:0,u=s?s[0]+s[2]:0,c=t.width;c==null&&e!=null&&(c=e-l);var f=t.height;f==null&&n!=null&&(f=n-u);for(var h=t.overflow,p=(h==="break"||h==="breakAll")&&c!=null?{width:c,accumWidth:0,breakAll:h==="breakAll"}:null,g=rI.lastIndex=0,m;(m=rI.exec(o))!=null;){var _=m.index;_>g&&aI(a,o.substring(g,_),t,p),aI(a,m[2],t,p,m[1]),g=rI.lastIndex}g<o.length&&aI(a,o.substring(g,o.length),t,p);var S=[],T=0,M=0,w=h==="truncate",D=t.lineOverflow==="truncate",C={};function R(dt,xt,Lt){dt.width=xt,dt.lineHeight=Lt,T+=Lt,M=Math.max(M,xt)}t:for(var z=0;z<a.lines.length;z++){for(var N=a.lines[z],O=0,U=0,F=0;F<N.tokens.length;F++){var V=N.tokens[F],W=V.styleName&&t.rich[V.styleName]||{},Z=V.textPadding=W.padding,H=Z?Z[1]+Z[3]:0,j=V.font=W.font||t.font;V.contentHeight=nT(j);var Y=_e(W.height,V.contentHeight);if(V.innerHeight=Y,Z&&(Y+=Z[0]+Z[2]),V.height=Y,V.lineHeight=ms(W.lineHeight,t.lineHeight,Y),V.align=W&&W.align||r,V.verticalAlign=W&&W.verticalAlign||"middle",D&&f!=null&&T+V.lineHeight>f){var Q=a.lines.length;F>0?(N.tokens=N.tokens.slice(0,F),R(N,U,O),a.lines=a.lines.slice(0,z+1)):a.lines=a.lines.slice(0,z),a.isTruncated=a.isTruncated||a.lines.length<Q;break t}var nt=W.width,q=nt==null||nt==="auto";if(typeof nt=="string"&&nt.charAt(nt.length-1)==="%")V.percentWidth=nt,S.push(V),V.contentWidth=Wc(Xc(j),V.text);else{if(q){var $=W.backgroundColor,st=$&&$.image;st&&(st=Idt(st),dD(st)&&(V.width=Math.max(V.width,st.width*Y/st.height)))}var ft=w&&c!=null?c-U:null;ft!=null&&ft<V.width?!q||ft<H?(V.text="",V.width=V.contentWidth=0):(Aq(C,V.text,ft-H,j,t.ellipsis,{minChar:t.truncateMinChar}),V.text=C.text,a.isTruncated=a.isTruncated||C.isTruncated,V.width=V.contentWidth=Wc(Xc(j),V.text)):V.contentWidth=Wc(Xc(j),V.text)}V.width+=H,U+=V.width,W&&(O=Math.max(O,V.lineHeight))}R(N,U,O)}a.outerWidth=a.width=_e(c,M),a.outerHeight=a.height=_e(f,T),a.contentHeight=T,a.contentWidth=M,a.outerWidth+=l,a.outerHeight+=u;for(var z=0;z<S.length;z++){var V=S[z],Mt=V.percentWidth;V.width=parseInt(Mt,10)/100*a.width}return a}function aI(i,t,e,n,r){var a=t==="",o=r&&e.rich[r]||{},s=i.lines,l=o.font||e.font,u=!1,c,f;if(n){var h=o.padding,p=h?h[1]+h[3]:0;if(o.width!=null&&o.width!=="auto"){var g=Nu(o.width,n.width)+p;s.length>0&&g+n.accumWidth>n.width&&(c=t.split(`
`),u=!0),n.accumWidth=g}else{var m=Cq(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=m.accumWidth+p,f=m.linesWidths,c=m.lines}}c||(c=t.split(`
`));for(var _=Xc(l),S=0;S<c.length;S++){var T=c[S],M=new zdt;if(M.styleName=r,M.text=T,M.isLineHolder=!T&&!a,typeof o.width=="number"?M.width=o.width:M.width=f?f[S]:Wc(_,T),!S&&!u){var w=(s[s.length-1]||(s[0]=new uk)).tokens,D=w.length;D===1&&w[0].isLineHolder?w[0]=M:(T||!D||a)&&w.push(M)}else s.push(new uk([M]))}}function Vdt(i){var t=i.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var Hdt=Ol(",&?/;] ".split(""),function(i,t){return i[t]=!0,i},{});function kdt(i){return Vdt(i)?!!Hdt[i]:!0}function Cq(i,t,e,n,r){for(var a=[],o=[],s="",l="",u=0,c=0,f=Xc(t),h=0;h<i.length;h++){var p=i.charAt(h);if(p===`
`){l&&(s+=l,c+=u),a.push(s),o.push(c),s="",l="",u=0,c=0;continue}var g=aq(f,p.charCodeAt(0)),m=n?!1:!kdt(p);if(a.length?c+g>e:r+c+g>e){c?(s||l)&&(m?(s||(s=l,l="",u=0,c=u),a.push(s),o.push(c-u),l+=p,u+=g,s="",c=u):(l&&(s+=l,l="",u=0),a.push(s),o.push(c),s=p,c=g)):m?(a.push(l),o.push(u),l=p,u=g):(a.push(p),o.push(g));continue}c+=g,m?(l+=p,u+=g):(l&&(s+=l,l="",u=0),s+=p)}return l&&(s+=l),s&&(a.push(s),o.push(c)),a.length===1&&(c+=r),{accumWidth:c,lines:a,linesWidths:o}}function ck(i,t,e,n,r,a){if(i.baseX=e,i.baseY=n,i.outerWidth=i.outerHeight=null,!!t){var o=t.width*2,s=t.height*2;Oe.set(fk,t_(e,o,r),Cg(n,s,a),o,s),Oe.intersect(t,fk,null,hk);var l=hk.outIntersectRect;i.outerWidth=l.width,i.outerHeight=l.height,i.baseX=t_(l.x,l.width,r,!0),i.baseY=Cg(l.y,l.height,a,!0)}}var fk=new Oe(0,0,0,0),hk={outIntersectRect:{},clamp:!0};function oB(i){return i!=null?i+="":i=""}function Fdt(i){var t=oB(i.text),e=i.font,n=Wc(Xc(e),t),r=nT(e);return sP(i,n,r,null)}function sP(i,t,e,n){var r=new Oe(t_(i.x||0,t,i.textAlign),Cg(i.y||0,e,i.textBaseline),t,e),a=n??(Dq(i)?i.lineWidth:0);return a>0&&(r.x-=a/2,r.y-=a/2,r.width+=a,r.height+=a),r}function Dq(i){var t=i.stroke;return t!=null&&t!=="none"&&i.lineWidth>0}var lP="__zr_style_"+Math.round(Math.random()*10),Dg={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},pD={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Dg[lP]=!0;var dk=["z","z2","invisible"],Gdt=["invisible"],zl=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype._init=function(e){for(var n=Tn(e),r=0;r<n.length;r++){var a=n[r];a==="style"?this.useStyle(e[a]):i.prototype.attrKV.call(this,a,e[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,n,r,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Xdt(this,e,n)||o&&!o[0]&&!o[3])return!1;if(r&&this.__clipPaths&&this.__clipPaths.length){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(e,n){return this.rectContain(e,n)},t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.rectContain=function(e,n){var r=this.transformCoordToLocal(e,n),a=this.getBoundingRect();return a.contain(r[0],r[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,r=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Oe(0,0,0,0)),n?Oe.applyTransform(e,r,n):e.copy(r),(o||s||l)&&(e.width+=o*2+Math.abs(s),e.height+=o*2+Math.abs(l),e.x=Math.min(e.x,e.x+s-o),e.y=Math.min(e.y,e.y+l-o));var u=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-u),e.y=Math.floor(e.y-u),e.width=Math.ceil(e.width+1+u*2),e.height=Math.ceil(e.height+1+u*2))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Oe(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,n){e!=="style"?i.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,n){return typeof e=="string"?this.style[e]=n:Rt(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=p1,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&p1)},t.prototype.styleUpdated=function(){this.__dirty&=~p1},t.prototype.createStyle=function(e){return $b(Dg,e)},t.prototype.useStyle=function(e){e[lP]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[lP]},t.prototype._innerSaveToNormal=function(e){i.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,dk)},t.prototype._applyStateObj=function(e,n,r,a,o,s){i.prototype._applyStateObj.call(this,e,n,r,a,o,s);var l=!(n&&a),u;if(n&&n.style?o?a?u=n.style:(u=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:r.style),this._mergeStyle(u,n.style)):l&&(u=r.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=Tn(c),h=0;h<f.length;h++){var p=f[h];p in u&&(u[p]=u[p],this.style[p]=c[p])}for(var g=Tn(u),h=0;h<g.length;h++){var p=g[h];this.style[p]=this.style[p]}this._transitionState(e,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var m=this.__inHover?Gdt:dk,h=0;h<m.length;h++){var p=m[h];n&&n[p]!=null?this[p]=n[p]:l&&r[p]!=null&&(this[p]=r[p])}},t.prototype._mergeStates=function(e){for(var n=i.prototype._mergeStates.call(this,e),r,a=0;a<e.length;a++){var o=e[a];o.style&&(r=r||{},this._mergeStyle(r,o.style))}return r&&(n.style=r),n},t.prototype._mergeStyle=function(e,n){return Rt(e,n),e},t.prototype.getAnimationStyleProps=function(){return pD},t.initDefaultProps=(function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=zs|p1})(),t})(cD),oI=new Oe(0,0,0,0),sI=new Oe(0,0,0,0);function Xdt(i,t,e){return oI.copy(i.getBoundingRect()),i.transform&&oI.applyTransform(i.transform),sI.width=t,sI.height=e,!oI.intersect(sI)}var ds=Math.min,ps=Math.max,lI=Math.sin,uI=Math.cos,Ov=Math.PI*2,kA=gp(),FA=gp(),GA=gp();function vD(i,t,e){if(i.length!==0){for(var n=i[0],r=n[0],a=n[0],o=n[1],s=n[1],l=1;l<i.length;l++)n=i[l],r=ds(r,n[0]),a=ps(a,n[0]),o=ds(o,n[1]),s=ps(s,n[1]);t[0]=r,t[1]=o,e[0]=a,e[1]=s}}function pk(i,t,e,n,r,a){r[0]=ds(i,e),r[1]=ds(t,n),a[0]=ps(i,e),a[1]=ps(t,n)}var vk=[],gk=[];function Wdt(i,t,e,n,r,a,o,s,l,u){var c=XY,f=ra,h=c(i,e,r,o,vk);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var p=0;p<h;p++){var g=f(i,e,r,o,vk[p]);l[0]=ds(g,l[0]),u[0]=ps(g,u[0])}h=c(t,n,a,s,gk);for(var p=0;p<h;p++){var m=f(t,n,a,s,gk[p]);l[1]=ds(m,l[1]),u[1]=ps(m,u[1])}l[0]=ds(i,l[0]),u[0]=ps(i,u[0]),l[0]=ds(o,l[0]),u[0]=ps(o,u[0]),l[1]=ds(t,l[1]),u[1]=ps(t,u[1]),l[1]=ds(s,l[1]),u[1]=ps(s,u[1])}function Ydt(i,t,e,n,r,a,o,s){var l=YY,u=Ca,c=ps(ds(l(i,e,r),1),0),f=ps(ds(l(t,n,a),1),0),h=u(i,e,r,c),p=u(t,n,a,f);o[0]=ds(i,r,h),o[1]=ds(t,a,p),s[0]=ps(i,r,h),s[1]=ps(t,a,p)}function qdt(i,t,e,n,r,a,o,s,l){var u=nh,c=ih,f=Math.abs(r-a);if(f%Ov<1e-4&&f>1e-4){s[0]=i-e,s[1]=t-n,l[0]=i+e,l[1]=t+n;return}if(kA[0]=uI(r)*e+i,kA[1]=lI(r)*n+t,FA[0]=uI(a)*e+i,FA[1]=lI(a)*n+t,u(s,kA,FA),c(l,kA,FA),r=r%Ov,r<0&&(r=r+Ov),a=a%Ov,a<0&&(a=a+Ov),r>a&&!o?a+=Ov:r<a&&o&&(r+=Ov),o){var h=a;a=r,r=h}for(var p=0;p<a;p+=Math.PI/2)p>r&&(GA[0]=uI(p)*e+i,GA[1]=lI(p)*n+t,u(s,GA,s),c(l,GA,l))}var Ei={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Pv=[],zv=[],xc=[],Ad=[],bc=[],Tc=[],cI=Math.min,fI=Math.max,Bv=Math.cos,Uv=Math.sin,Gf=Math.abs,uP=Math.PI,Nd=uP*2,hI=typeof Float32Array<"u",Ox=[];function dI(i){var t=Math.round(i/uP*1e8)/1e8;return t%2*uP}function gD(i,t){var e=dI(i[0]);e<0&&(e+=Nd);var n=e-i[0],r=i[1];r+=n,!t&&r-e>=Nd?r=e+Nd:t&&e-r>=Nd?r=e-Nd:!t&&e>r?r=e+(Nd-dI(e-r)):t&&e<r&&(r=e-(Nd-dI(r-e))),i[0]=e,i[1]=r}var Kc=(function(){function i(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return i.prototype.increaseVersion=function(){this._version++},i.prototype.getVersion=function(){return this._version},i.prototype.setScale=function(t,e,n){n=n||0,n>0&&(this._ux=Gf(n/_C/t)||0,this._uy=Gf(n/_C/e)||0)},i.prototype.setDPR=function(t){this.dpr=t},i.prototype.setContext=function(t){this._ctx=t},i.prototype.getContext=function(){return this._ctx},i.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},i.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},i.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Ei.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},i.prototype.lineTo=function(t,e){var n=Gf(t-this._xi),r=Gf(e-this._yi),a=n>this._ux||r>this._uy;if(this.addData(Ei.L,t,e),this._ctx&&a&&this._ctx.lineTo(t,e),a)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+r*r;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},i.prototype.bezierCurveTo=function(t,e,n,r,a,o){return this._drawPendingPt(),this.addData(Ei.C,t,e,n,r,a,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,r,a,o),this._xi=a,this._yi=o,this},i.prototype.quadraticCurveTo=function(t,e,n,r){return this._drawPendingPt(),this.addData(Ei.Q,t,e,n,r),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,r),this._xi=n,this._yi=r,this},i.prototype.arc=function(t,e,n,r,a,o){this._drawPendingPt(),Ox[0]=r,Ox[1]=a,gD(Ox,o),r=Ox[0],a=Ox[1];var s=a-r;return this.addData(Ei.A,t,e,n,n,r,s,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,r,a,o),this._xi=Bv(a)*n+t,this._yi=Uv(a)*n+e,this},i.prototype.arcTo=function(t,e,n,r,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,r,a),this},i.prototype.rect=function(t,e,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,r),this.addData(Ei.R,t,e,n,r),this},i.prototype.closePath=function(){this._drawPendingPt(),this.addData(Ei.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},i.prototype.fill=function(t){t&&t.fill(),this.toStatic()},i.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},i.prototype.len=function(){return this._len},i.prototype.setData=function(t){if(this._saveData){var e=t.length;!(this.data&&this.data.length===e)&&hI&&(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e}},i.prototype.appendPath=function(t){if(this._saveData){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,a=0;a<e;a++)n+=t[a].len();var o=this.data;if(hI&&(o instanceof Float32Array||!o)&&(this.data=new Float32Array(r+n),r>0&&o))for(var s=0;s<r;s++)this.data[s]=o[s];for(var a=0;a<e;a++)for(var l=t[a].data,s=0;s<l.length;s++)this.data[r++]=l[s];this._len=r}},i.prototype.addData=function(t,e,n,r,a,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},i.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},i.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},i.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,hI&&this._len>11&&(this.data=new Float32Array(t)))}},i.prototype.getBoundingRect=function(){xc[0]=xc[1]=bc[0]=bc[1]=Number.MAX_VALUE,Ad[0]=Ad[1]=Tc[0]=Tc[1]=-Number.MAX_VALUE;var t=this.data,e=0,n=0,r=0,a=0,o;for(o=0;o<this._len;){var s=t[o++],l=o===1;switch(l&&(e=t[o],n=t[o+1],r=e,a=n),s){case Ei.M:e=r=t[o++],n=a=t[o++],bc[0]=r,bc[1]=a,Tc[0]=r,Tc[1]=a;break;case Ei.L:pk(e,n,t[o],t[o+1],bc,Tc),e=t[o++],n=t[o++];break;case Ei.C:Wdt(e,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],bc,Tc),e=t[o++],n=t[o++];break;case Ei.Q:Ydt(e,n,t[o++],t[o++],t[o],t[o+1],bc,Tc),e=t[o++],n=t[o++];break;case Ei.A:var u=t[o++],c=t[o++],f=t[o++],h=t[o++],p=t[o++],g=t[o++]+p;o+=1;var m=!t[o++];l&&(r=Bv(p)*f+u,a=Uv(p)*h+c),qdt(u,c,f,h,p,g,m,bc,Tc),e=Bv(g)*f+u,n=Uv(g)*h+c;break;case Ei.R:r=e=t[o++],a=n=t[o++];var _=t[o++],S=t[o++];pk(r,a,r+_,a+S,bc,Tc);break;case Ei.Z:e=r,n=a;break}nh(xc,xc,bc),ih(Ad,Ad,Tc)}return o===0&&(xc[0]=xc[1]=Ad[0]=Ad[1]=0),new Oe(xc[0],xc[1],Ad[0]-xc[0],Ad[1]-xc[1])},i.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,r=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,h=0;h<e;){var p=t[h++],g=h===1;g&&(a=t[h],o=t[h+1],s=a,l=o);var m=-1;switch(p){case Ei.M:a=s=t[h++],o=l=t[h++];break;case Ei.L:{var _=t[h++],S=t[h++],T=_-a,M=S-o;(Gf(T)>n||Gf(M)>r||h===e-1)&&(m=Math.sqrt(T*T+M*M),a=_,o=S);break}case Ei.C:{var w=t[h++],D=t[h++],_=t[h++],S=t[h++],C=t[h++],R=t[h++];m=iht(a,o,w,D,_,S,C,R,10),a=C,o=R;break}case Ei.Q:{var w=t[h++],D=t[h++],_=t[h++],S=t[h++];m=aht(a,o,w,D,_,S,10),a=_,o=S;break}case Ei.A:var z=t[h++],N=t[h++],O=t[h++],U=t[h++],F=t[h++],V=t[h++],W=V+F;h+=1,g&&(s=Bv(F)*O+z,l=Uv(F)*U+N),m=fI(O,U)*cI(Nd,Math.abs(V)),a=Bv(W)*O+z,o=Uv(W)*U+N;break;case Ei.R:{s=a=t[h++],l=o=t[h++];var Z=t[h++],H=t[h++];m=Z*2+H*2;break}case Ei.Z:{var T=s-a,M=l-o;m=Math.sqrt(T*T+M*M),a=s,o=l;break}}m>=0&&(u[f++]=m,c+=m)}return this._pathLen=c,c},i.prototype.rebuildPath=function(t,e){var n=this.data,r=this._ux,a=this._uy,o=this._len,s,l,u,c,f,h,p=e<1,g,m,_=0,S=0,T,M=0,w,D;if(!(p&&(this._pathSegLen||this._calculateLength(),g=this._pathSegLen,m=this._pathLen,T=e*m,!T)))t:for(var C=0;C<o;){var R=n[C++],z=C===1;switch(z&&(u=n[C],c=n[C+1],s=u,l=c),R!==Ei.L&&M>0&&(t.lineTo(w,D),M=0),R){case Ei.M:s=u=n[C++],l=c=n[C++],t.moveTo(u,c);break;case Ei.L:{f=n[C++],h=n[C++];var N=Gf(f-u),O=Gf(h-c);if(N>r||O>a){if(p){var U=g[S++];if(_+U>T){var F=(T-_)/U;t.lineTo(u*(1-F)+f*F,c*(1-F)+h*F);break t}_+=U}t.lineTo(f,h),u=f,c=h,M=0}else{var V=N*N+O*O;V>M&&(w=f,D=h,M=V)}break}case Ei.C:{var W=n[C++],Z=n[C++],H=n[C++],j=n[C++],Y=n[C++],Q=n[C++];if(p){var U=g[S++];if(_+U>T){var F=(T-_)/U;op(u,W,H,Y,F,Pv),op(c,Z,j,Q,F,zv),t.bezierCurveTo(Pv[1],zv[1],Pv[2],zv[2],Pv[3],zv[3]);break t}_+=U}t.bezierCurveTo(W,Z,H,j,Y,Q),u=Y,c=Q;break}case Ei.Q:{var W=n[C++],Z=n[C++],H=n[C++],j=n[C++];if(p){var U=g[S++];if(_+U>T){var F=(T-_)/U;cb(u,W,H,F,Pv),cb(c,Z,j,F,zv),t.quadraticCurveTo(Pv[1],zv[1],Pv[2],zv[2]);break t}_+=U}t.quadraticCurveTo(W,Z,H,j),u=H,c=j;break}case Ei.A:var nt=n[C++],q=n[C++],$=n[C++],st=n[C++],ft=n[C++],Mt=n[C++],dt=n[C++],xt=!n[C++],Lt=$>st?$:st,Ct=Gf($-st)>.001,Wt=ft+Mt,Xt=!1;if(p){var U=g[S++];_+U>T&&(Wt=ft+Mt*(T-_)/U,Xt=!0),_+=U}if(Ct&&t.ellipse?t.ellipse(nt,q,$,st,dt,ft,Wt,xt):t.arc(nt,q,Lt,ft,Wt,xt),Xt)break t;z&&(s=Bv(ft)*$+nt,l=Uv(ft)*st+q),u=Bv(Wt)*$+nt,c=Uv(Wt)*st+q;break;case Ei.R:s=u=n[C],l=c=n[C+1],f=n[C++],h=n[C++];var ae=n[C++],at=n[C++];if(p){var U=g[S++];if(_+U>T){var wt=T-_;t.moveTo(f,h),t.lineTo(f+cI(wt,ae),h),wt-=ae,wt>0&&t.lineTo(f+ae,h+cI(wt,at)),wt-=at,wt>0&&t.lineTo(f+fI(ae-wt,0),h+at),wt-=ae,wt>0&&t.lineTo(f,h+fI(at-wt,0));break t}_+=U}t.rect(f,h,ae,at);break;case Ei.Z:if(p){var U=g[S++];if(_+U>T){var F=(T-_)/U;t.lineTo(u*(1-F)+s*F,c*(1-F)+l*F);break t}_+=U}t.closePath(),u=s,c=l}}},i.prototype.clone=function(){var t=new i,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},i.prototype.canSave=function(){return!!this._saveData},i.CMD=Ei,i.initDefaultProps=(function(){var t=i.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0})(),i})();function Pd(i,t,e,n,r,a,o){if(r===0)return!1;var s=r,l=0,u=i;if(o>t+s&&o>n+s||o<t-s&&o<n-s||a>i+s&&a>e+s||a<i-s&&a<e-s)return!1;if(i!==e)l=(t-n)/(i-e),u=(i*n-e*t)/(i-e);else return Math.abs(a-i)<=s/2;var c=l*a-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function Zdt(i,t,e,n,r,a,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>t+f&&c>n+f&&c>a+f&&c>s+f||c<t-f&&c<n-f&&c<a-f&&c<s-f||u>i+f&&u>e+f&&u>r+f&&u>o+f||u<i-f&&u<e-f&&u<r-f&&u<o-f)return!1;var h=WY(i,t,e,n,r,a,o,s,u,c,null);return h<=f/2}function Rq(i,t,e,n,r,a,o,s,l){if(o===0)return!1;var u=o;if(l>t+u&&l>n+u&&l>a+u||l<t-u&&l<n-u&&l<a-u||s>i+u&&s>e+u&&s>r+u||s<i-u&&s<e-u&&s<r-u)return!1;var c=qY(i,t,e,n,r,a,s,l,null);return c<=u/2}var mk=Math.PI*2;function Gs(i){return i%=mk,i<0&&(i+=mk),i}var Px=Math.PI*2;function jdt(i,t,e,n,r,a,o,s,l){if(o===0)return!1;var u=o;s-=i,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>e||c+u<e)return!1;if(Math.abs(n-r)%Px<1e-4)return!0;if(a){var f=n;n=Gs(r),r=Gs(f)}else n=Gs(n),r=Gs(r);n>r&&(r+=Px);var h=Math.atan2(l,s);return h<0&&(h+=Px),h>=n&&h<=r||h+Px>=n&&h+Px<=r}function jf(i,t,e,n,r,a){if(a>t&&a>n||a<t&&a<n||n===t)return 0;var o=(a-t)/(n-t),s=n<t?1:-1;(o===1||o===0)&&(s=n<t?.5:-.5);var l=o*(e-i)+i;return l===r?1/0:l>r?s:0}var wd=Kc.CMD,Vv=Math.PI*2,Kdt=1e-4;function Qdt(i,t){return Math.abs(i-t)<Kdt}var Wo=[-1,-1,-1],Al=[-1,-1];function Jdt(){var i=Al[0];Al[0]=Al[1],Al[1]=i}function $dt(i,t,e,n,r,a,o,s,l,u){if(u>t&&u>n&&u>a&&u>s||u<t&&u<n&&u<a&&u<s)return 0;var c=vC(t,n,a,s,u,Wo);if(c===0)return 0;for(var f=0,h=-1,p=void 0,g=void 0,m=0;m<c;m++){var _=Wo[m],S=_===0||_===1?.5:1,T=ra(i,e,r,o,_);T<l||(h<0&&(h=XY(t,n,a,s,Al),Al[1]<Al[0]&&h>1&&Jdt(),p=ra(t,n,a,s,Al[0]),h>1&&(g=ra(t,n,a,s,Al[1]))),h===2?_<Al[0]?f+=p<t?S:-S:_<Al[1]?f+=g<p?S:-S:f+=s<g?S:-S:_<Al[0]?f+=p<t?S:-S:f+=s<p?S:-S)}return f}function tpt(i,t,e,n,r,a,o,s){if(s>t&&s>n&&s>a||s<t&&s<n&&s<a)return 0;var l=rht(t,n,a,s,Wo);if(l===0)return 0;var u=YY(t,n,a);if(u>=0&&u<=1){for(var c=0,f=Ca(t,n,a,u),h=0;h<l;h++){var p=Wo[h]===0||Wo[h]===1?.5:1,g=Ca(i,e,r,Wo[h]);g<o||(Wo[h]<u?c+=f<t?p:-p:c+=a<f?p:-p)}return c}else{var p=Wo[0]===0||Wo[0]===1?.5:1,g=Ca(i,e,r,Wo[0]);return g<o?0:a<t?p:-p}}function ept(i,t,e,n,r,a,o,s){if(s-=t,s>e||s<-e)return 0;var l=Math.sqrt(e*e-s*s);Wo[0]=-l,Wo[1]=l;var u=Math.abs(n-r);if(u<1e-4)return 0;if(u>=Vv-1e-4){n=0,r=Vv;var c=a?1:-1;return o>=Wo[0]+i&&o<=Wo[1]+i?c:0}if(n>r){var f=n;n=r,r=f}n<0&&(n+=Vv,r+=Vv);for(var h=0,p=0;p<2;p++){var g=Wo[p];if(g+i>o){var m=Math.atan2(s,g),c=a?1:-1;m<0&&(m=Vv+m),(m>=n&&m<=r||m+Vv>=n&&m+Vv<=r)&&(m>Math.PI/2&&m<Math.PI*1.5&&(c=-c),h+=c)}}return h}function Lq(i,t,e,n,r){for(var a=i.data,o=i.len(),s=0,l=0,u=0,c=0,f=0,h,p,g=0;g<o;){var m=a[g++],_=g===1;switch(m===wd.M&&g>1&&(e||(s+=jf(l,u,c,f,n,r))),_&&(l=a[g],u=a[g+1],c=l,f=u),m){case wd.M:c=a[g++],f=a[g++],l=c,u=f;break;case wd.L:if(e){if(Pd(l,u,a[g],a[g+1],t,n,r))return!0}else s+=jf(l,u,a[g],a[g+1],n,r)||0;l=a[g++],u=a[g++];break;case wd.C:if(e){if(Zdt(l,u,a[g++],a[g++],a[g++],a[g++],a[g],a[g+1],t,n,r))return!0}else s+=$dt(l,u,a[g++],a[g++],a[g++],a[g++],a[g],a[g+1],n,r)||0;l=a[g++],u=a[g++];break;case wd.Q:if(e){if(Rq(l,u,a[g++],a[g++],a[g],a[g+1],t,n,r))return!0}else s+=tpt(l,u,a[g++],a[g++],a[g],a[g+1],n,r)||0;l=a[g++],u=a[g++];break;case wd.A:var S=a[g++],T=a[g++],M=a[g++],w=a[g++],D=a[g++],C=a[g++];g+=1;var R=!!(1-a[g++]);h=Math.cos(D)*M+S,p=Math.sin(D)*w+T,_?(c=h,f=p):s+=jf(l,u,h,p,n,r);var z=(n-S)*w/M+S;if(e){if(jdt(S,T,w,D,D+C,R,t,z,r))return!0}else s+=ept(S,T,w,D,D+C,R,z,r);l=Math.cos(D+C)*M+S,u=Math.sin(D+C)*w+T;break;case wd.R:c=l=a[g++],f=u=a[g++];var N=a[g++],O=a[g++];if(h=c+N,p=f+O,e){if(Pd(c,f,h,f,t,n,r)||Pd(h,f,h,p,t,n,r)||Pd(h,p,c,p,t,n,r)||Pd(c,p,c,f,t,n,r))return!0}else s+=jf(h,f,h,p,n,r),s+=jf(c,p,c,f,n,r);break;case wd.Z:if(e){if(Pd(l,u,c,f,t,n,r))return!0}else s+=jf(l,u,c,f,n,r);l=c,u=f;break}}return!e&&!Qdt(u,f)&&(s+=jf(l,u,c,f,n,r)||0),s!==0}function npt(i,t,e){return Lq(i,0,!1,t,e)}function ipt(i,t,e,n){return Lq(i,t,!0,e,n)}var TC=Re({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Dg),rpt={style:Re({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},pD.style)},pI=Zc.concat(["invisible","culling","z","z2","zlevel","parent"]),_n=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.update=function(){var e=this;i.prototype.update.call(this);var n=this.style;if(n.decal){var r=this._decalEl=this._decalEl||new t;r.buildPath===t.prototype.buildPath&&(r.buildPath=function(l){e.buildPath(l,e.shape)}),r.silent=!0;var a=r.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<pI.length;++s)r[pI[s]]=this[pI[s]];r.__dirty|=zs}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var n=Tn(e);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var a=0;a<n.length;a++){var o=n[a],s=e[o];o==="style"?this.style?Rt(this.style,s):this.useStyle(s):o==="shape"?Rt(this.shape,s):i.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if(le(e)){var n=db(e,0);return n>.5?$O:n>.2?zht:tP}else if(e)return tP}return $O},t.prototype.getInsideTextStroke=function(e){var n=this.style.fill;if(le(n)){var r=this.__zr,a=!!(r&&r.isDarkMode()),o=db(e,0)<JO;if(a===o)return n}},t.prototype.buildPath=function(e,n,r){},t.prototype.pathUpdated=function(){this.__dirty&=~g0},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new Kc(!1)},t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return!(n==null||n==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var e=this._rect,n=this.style,r=!e;if(r){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&g0)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),e=o.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||r){s.copy(e);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return e},t.prototype.contain=function(e,n){var r=this.transformCoordToLocal(e,n),a=this.getBoundingRect(),o=this.style;if(e=r[0],n=r[1],a.contain(e,n)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),ipt(s,l/u,e,n)))return!0}if(this.hasFill())return npt(s,e,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=g0,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,n){e==="shape"?this.setShape(n):i.prototype.attrKV.call(this,e,n)},t.prototype.setShape=function(e,n){var r=this.shape;return r||(r=this.shape={}),typeof e=="string"?r[e]=n:Rt(r,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&g0)},t.prototype.createStyle=function(e){return $b(TC,e)},t.prototype._innerSaveToNormal=function(e){i.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=Rt({},this.shape))},t.prototype._applyStateObj=function(e,n,r,a,o,s){i.prototype._applyStateObj.call(this,e,n,r,a,o,s);var l=!(n&&a),u;if(n&&n.shape?o?a?u=n.shape:(u=Rt({},r.shape),Rt(u,n.shape)):(u=Rt({},a?this.shape:r.shape),Rt(u,n.shape)):l&&(u=r.shape),u)if(o){this.shape=Rt({},this.shape);for(var c={},f=Tn(u),h=0;h<f.length;h++){var p=f[h];typeof u[p]=="object"?this.shape[p]=u[p]:c[p]=u[p]}this._transitionState(e,{shape:c},s)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var n=i.prototype._mergeStates.call(this,e),r,a=0;a<e.length;a++){var o=e[a];o.shape&&(r=r||{},this._mergeStyle(r,o.shape))}return r&&(n.shape=r),n},t.prototype.getAnimationStyleProps=function(){return rpt},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=(function(a){ht(o,a);function o(s){var l=a.call(this,s)||this;return e.init&&e.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return Ee(e.style)},o.prototype.getDefaultShape=function(){return Ee(e.shape)},o})(t);for(var r in e)typeof e[r]=="function"&&(n.prototype[r]=e[r]);return n},t.initDefaultProps=(function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=zs|p1|g0})(),t})(zl),apt=Re({strokeFirst:!0,font:yh,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},TC),n_=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.hasStroke=function(){return Dq(this.style)},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(e){return $b(apt,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){return this._rect||(this._rect=Fdt(this.style)),this._rect},t.initDefaultProps=(function(){var e=t.prototype;e.dirtyRectTolerance=10})(),t})(zl);n_.prototype.type="tspan";var opt=Re({x:0,y:0},Dg),spt={style:Re({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},pD.style)};function lpt(i){return!!(i&&typeof i!="string"&&i.width&&i.height)}var da=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return $b(opt,e)},t.prototype._getSize=function(e){var n=this.style,r=n[e];if(r!=null)return r;var a=lpt(n.image)?n.image:this.__image;if(!a)return 0;var o=e==="width"?"height":"width",s=n[o];return s==null?a[e]:a[e]/a[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return spt},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Oe(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t})(zl);da.prototype.type="image";function upt(i,t){var e=t.x,n=t.y,r=t.width,a=t.height,o=t.r,s,l,u,c;r<0&&(e=e+r,r=-r),a<0&&(n=n+a,a=-a),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>r&&(f=s+l,s*=r/f,l*=r/f),u+c>r&&(f=u+c,u*=r/f,c*=r/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),s+c>a&&(f=s+c,s*=a/f,c*=a/f),i.moveTo(e+s,n),i.lineTo(e+r-l,n),l!==0&&i.arc(e+r-l,n+l,l,-Math.PI/2,0),i.lineTo(e+r,n+a-u),u!==0&&i.arc(e+r-u,n+a-u,u,0,Math.PI/2),i.lineTo(e+c,n+a),c!==0&&i.arc(e+c,n+a-c,c,Math.PI/2,Math.PI),i.lineTo(e,n+s),s!==0&&i.arc(e+s,n+s,s,Math.PI,Math.PI*1.5)}var M0=Math.round;function mD(i,t,e){if(t){var n=t.x1,r=t.x2,a=t.y1,o=t.y2;i.x1=n,i.x2=r,i.y1=a,i.y2=o;var s=e&&e.lineWidth;return s&&(M0(n*2)===M0(r*2)&&(i.x1=i.x2=Xs(n,s,!0)),M0(a*2)===M0(o*2)&&(i.y1=i.y2=Xs(a,s,!0))),i}}function Iq(i,t,e){if(t){var n=t.x,r=t.y,a=t.width,o=t.height;i.x=n,i.y=r,i.width=a,i.height=o;var s=e&&e.lineWidth;return s&&(i.x=Xs(n,s,!0),i.y=Xs(r,s,!0),i.width=Math.max(Xs(n+a,s,!1)-i.x,a===0?0:1),i.height=Math.max(Xs(r+o,s,!1)-i.y,o===0?0:1)),i}}function Xs(i,t,e){if(!t)return i;var n=M0(i*2);return(n+M0(t))%2===0?n/2:(n+(e?1:-1))/2}var cpt=(function(){function i(){this.x=0,this.y=0,this.width=0,this.height=0}return i})(),fpt={},cn=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new cpt},t.prototype.buildPath=function(e,n){var r,a,o,s;if(this.subPixelOptimize){var l=Iq(fpt,n,this.style);r=l.x,a=l.y,o=l.width,s=l.height,l.r=n.r,n=l}else r=n.x,a=n.y,o=n.width,s=n.height;n.r?upt(e,n):e.rect(r,a,o,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t})(_n);cn.prototype.type="rect";var yk={fill:"#000"},_k=2,Mc={},hpt={style:Re({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},pD.style)},wn=(function(i){ht(t,i);function t(e){var n=i.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=yk,n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){i.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):i.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):i.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),i.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,vpt(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){i.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},t.prototype.removeSelfFromZr=function(e){i.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Oe(0,0,0,0),n=this._children,r=[],a=null,o=0;o<n.length;o++){var s=n[o],l=s.getBoundingRect(),u=s.getLocalTransform(r);u?(e.copy(l),e.applyTransform(u),a=a||e.clone(),a.union(e)):(a=a||l.clone(),a.union(l))}this._rect=a||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||yk},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,n){if(!n)return e;var r=n.rich,a=e.rich||r&&{};return Rt(e,n),r&&a?(this._mergeRich(a,r),e.rich=a):a&&(e.rich=a),e},t.prototype._mergeRich=function(e,n){for(var r=Tn(n),a=0;a<r.length;a++){var o=r[a];e[o]=e[o]||{},Rt(e[o],n[o])}},t.prototype.getAnimationStyleProps=function(){return hpt},t.prototype._getOrCreateChild=function(e){var n=this._children[this._childCursor];return(!n||!(n instanceof e))&&(n=new e),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var e=this.style,n=e.font||yh,r=e.padding,a=this._defaultStyle,o=e.x||0,s=e.y||0,l=e.align||a.align||"left",u=e.verticalAlign||a.verticalAlign||"top";ck(Mc,a.overflowRect,o,s,l,u),o=Mc.baseX,s=Mc.baseY;var c=wk(e),f=Pdt(c,e,Mc.outerWidth,Mc.outerHeight),h=vI(e),p=!!e.backgroundColor,g=f.outerHeight,m=f.outerWidth,_=f.lines,S=f.lineHeight;this.isTruncated=!!f.isTruncated;var T=o,M=Cg(s,f.contentHeight,u);if(h||r){var w=t_(o,m,l),D=Cg(s,g,u);h&&this._renderBackground(e,e,w,D,m,g)}M+=S/2,r&&(T=Ak(o,l,r),u==="top"?M+=r[0]:u==="bottom"&&(M-=r[2]));for(var C=0,R=!1,z=!1,N=Mk("fill"in e?e.fill:(z=!0,a.fill)),O=Tk("stroke"in e?e.stroke:!p&&(!a.autoStroke||z)?(C=_k,R=!0,a.stroke):null),U=e.textShadowBlur>0,F=0;F<_.length;F++){var V=this._getOrCreateChild(n_),W=V.createStyle();V.useStyle(W),W.text=_[F],W.x=T,W.y=M,W.textAlign=l,W.textBaseline="middle",W.opacity=e.opacity,W.strokeFirst=!0,U&&(W.shadowBlur=e.textShadowBlur||0,W.shadowColor=e.textShadowColor||"transparent",W.shadowOffsetX=e.textShadowOffsetX||0,W.shadowOffsetY=e.textShadowOffsetY||0),W.stroke=O,W.fill=N,O&&(W.lineWidth=e.lineWidth||C,W.lineDash=e.lineDash,W.lineDashOffset=e.lineDashOffset||0),W.font=n,xk(W,e),M+=S,V.setBoundingRect(sP(W,f.contentWidth,f.calculatedLineHeight,R?0:null))}},t.prototype._updateRichTexts=function(){var e=this.style,n=this._defaultStyle,r=e.align||n.align,a=e.verticalAlign||n.verticalAlign,o=e.x||0,s=e.y||0;ck(Mc,n.overflowRect,o,s,r,a),o=Mc.baseX,s=Mc.baseY;var l=wk(e),u=Udt(l,e,Mc.outerWidth,Mc.outerHeight,r),c=u.width,f=u.outerWidth,h=u.outerHeight,p=e.padding;this.isTruncated=!!u.isTruncated;var g=t_(o,f,r),m=Cg(s,h,a),_=g,S=m;p&&(_+=p[3],S+=p[0]);var T=_+c;vI(e)&&this._renderBackground(e,e,g,m,f,h);for(var M=!!e.backgroundColor,w=0;w<u.lines.length;w++){for(var D=u.lines[w],C=D.tokens,R=C.length,z=D.lineHeight,N=D.width,O=0,U=_,F=T,V=R-1,W=void 0;O<R&&(W=C[O],!W.align||W.align==="left");)this._placeToken(W,e,z,S,U,"left",M),N-=W.width,U+=W.width,O++;for(;V>=0&&(W=C[V],W.align==="right");)this._placeToken(W,e,z,S,F,"right",M),N-=W.width,F-=W.width,V--;for(U+=(c-(U-_)-(T-F)-N)/2;O<=V;)W=C[O],this._placeToken(W,e,z,S,U+W.width/2,"center",M),U+=W.width,O++;S+=z}},t.prototype._placeToken=function(e,n,r,a,o,s,l){var u=n.rich[e.styleName]||{};u.text=e.text;var c=e.verticalAlign,f=a+r/2;c==="top"?f=a+e.height/2:c==="bottom"&&(f=a+r-e.height/2);var h=!e.isLineHolder&&vI(u);h&&this._renderBackground(u,n,s==="right"?o-e.width:s==="center"?o-e.width/2:o,f-e.height/2,e.width,e.height);var p=!!u.backgroundColor,g=e.textPadding;g&&(o=Ak(o,s,g),f-=e.height/2-g[0]-e.innerHeight/2);var m=this._getOrCreateChild(n_),_=m.createStyle();m.useStyle(_);var S=this._defaultStyle,T=!1,M=0,w=!1,D=Mk("fill"in u?u.fill:"fill"in n?n.fill:(T=!0,S.fill)),C=Tk("stroke"in u?u.stroke:"stroke"in n?n.stroke:!p&&!l&&(!S.autoStroke||T)?(M=_k,w=!0,S.stroke):null),R=u.textShadowBlur>0||n.textShadowBlur>0;_.text=e.text,_.x=o,_.y=f,R&&(_.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,_.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",_.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,_.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),_.textAlign=s,_.textBaseline="middle",_.font=e.font||yh,_.opacity=ms(u.opacity,n.opacity,1),xk(_,u),C&&(_.lineWidth=ms(u.lineWidth,n.lineWidth,M),_.lineDash=_e(u.lineDash,n.lineDash),_.lineDashOffset=n.lineDashOffset||0,_.stroke=C),D&&(_.fill=D),m.setBoundingRect(sP(_,e.contentWidth,e.contentHeight,w?0:null))},t.prototype._renderBackground=function(e,n,r,a,o,s){var l=e.backgroundColor,u=e.borderWidth,c=e.borderColor,f=l&&l.image,h=l&&!f,p=e.borderRadius,g=this,m,_;if(h||e.lineHeight||u&&c){m=this._getOrCreateChild(cn),m.useStyle(m.createStyle()),m.style.fill=null;var S=m.shape;S.x=r,S.y=a,S.width=o,S.height=s,S.r=p,m.dirtyShape()}if(h){var T=m.style;T.fill=l||null,T.fillOpacity=_e(e.fillOpacity,1)}else if(f){_=this._getOrCreateChild(da),_.onload=function(){g.dirtyStyle()};var M=_.style;M.image=l.image,M.x=r,M.y=a,M.width=o,M.height=s}if(u&&c){var T=m.style;T.lineWidth=u,T.stroke=c,T.strokeOpacity=_e(e.strokeOpacity,1),T.lineDash=e.borderDash,T.lineDashOffset=e.borderDashOffset||0,m.strokeContainThreshold=0,m.hasFill()&&m.hasStroke()&&(T.strokeFirst=!0,T.lineWidth*=2)}var w=(m||_).style;w.shadowBlur=e.shadowBlur||0,w.shadowColor=e.shadowColor||"transparent",w.shadowOffsetX=e.shadowOffsetX||0,w.shadowOffsetY=e.shadowOffsetY||0,w.opacity=ms(e.opacity,n.opacity,1)},t.makeFont=function(e){var n="";return Oq(e)&&(n=[e.fontStyle,e.fontWeight,Nq(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),n&&ks(n)||e.textFont||e.font},t})(zl),dpt={left:!0,right:1,center:1},ppt={top:1,bottom:1,middle:1},Sk=["fontStyle","fontWeight","fontSize","fontFamily"];function Nq(i){return typeof i=="string"&&(i.indexOf("px")!==-1||i.indexOf("rem")!==-1||i.indexOf("em")!==-1)?i:isNaN(+i)?Hz+"px":i+"px"}function xk(i,t){for(var e=0;e<Sk.length;e++){var n=Sk[e],r=t[n];r!=null&&(i[n]=r)}}function Oq(i){return i.fontSize!=null||i.fontFamily||i.fontWeight}function vpt(i){return bk(i),G(i.rich,bk),i}function bk(i){if(i){i.font=wn.makeFont(i);var t=i.align;t==="middle"&&(t="center"),i.align=t==null||dpt[t]?t:"left";var e=i.verticalAlign;e==="center"&&(e="middle"),i.verticalAlign=e==null||ppt[e]?e:"top";var n=i.padding;n&&(i.padding=Jb(i.padding))}}function Tk(i,t){return i==null||t<=0||i==="transparent"||i==="none"?null:i.image||i.colorStops?"#000":i}function Mk(i){return i==null||i==="none"?null:i.image||i.colorStops?"#000":i}function Ak(i,t,e){return t==="right"?i-e[1]:t==="center"?i+e[3]/2-e[1]/2:i+e[3]}function wk(i){var t=i.text;return t!=null&&(t+=""),t}function vI(i){return!!(i.backgroundColor||i.lineHeight||i.borderWidth&&i.borderColor)}var Ue=gn(),cP=function(i,t,e,n){if(n){var r=Ue(n);r.dataIndex=e,r.dataType=t,r.seriesIndex=i,r.ssrType="chart",n.type==="group"&&n.traverse(function(a){var o=Ue(a);o.seriesIndex=i,o.dataIndex=e,o.dataType=t,o.ssrType="chart"})}},Ek=1,Ck={},Pq=gn(),sB=gn(),lB=0,iT=1,yD=2,Jo=["emphasis","blur","select"],gb=["normal","emphasis","blur","select"],w_=10,gpt=9,Rg="highlight",iE="downplay",MC="select",fP="unselect",AC="toggleSelect",uB="selectchanged";function qy(i){return i!=null&&i!=="none"}function _D(i,t,e){i.onHoverStateChange&&(i.hoverState||0)!==e&&i.onHoverStateChange(t),i.hoverState=e}function zq(i){_D(i,"emphasis",yD)}function Bq(i){i.hoverState===yD&&_D(i,"normal",lB)}function cB(i){_D(i,"blur",iT)}function Uq(i){i.hoverState===iT&&_D(i,"normal",lB)}function mpt(i){i.selected=!0}function ypt(i){i.selected=!1}function Dk(i,t,e){t(i,e)}function Eh(i,t,e){Dk(i,t,e),i.isGroup&&i.traverse(function(n){Dk(n,t,e)})}function wC(i,t){switch(t){case"emphasis":i.hoverState=yD;break;case"normal":i.hoverState=lB;break;case"blur":i.hoverState=iT;break;case"select":i.selected=!0}}function _pt(i,t,e,n){for(var r=i.style,a={},o=0;o<t.length;o++){var s=t[o],l=r[s];a[s]=l??(n&&n[s])}for(var o=0;o<i.animators.length;o++){var u=i.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(e)<0&&u.targetName==="style"&&u.saveTo(a,t)}return a}function Spt(i,t,e,n){var r=e&&tn(e,"select")>=0,a=!1;if(i instanceof _n){var o=Pq(i),s=r&&o.selectFill||o.normalFill,l=r&&o.selectStroke||o.normalStroke;if(qy(s)||qy(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(a=!0,n=Rt({},n),u=Rt({},u),u.fill=s):!qy(u.fill)&&qy(s)?(a=!0,n=Rt({},n),u=Rt({},u),u.fill=mC(s)):!qy(u.stroke)&&qy(l)&&(a||(n=Rt({},n),u=Rt({},u)),u.stroke=mC(l)),n.style=u}}if(n&&n.z2==null){a||(n=Rt({},n));var c=i.z2EmphasisLift;n.z2=i.z2+(c??w_)}return n}function xpt(i,t,e){if(e&&e.z2==null){e=Rt({},e);var n=i.z2SelectLift;e.z2=i.z2+(n??gpt)}return e}function bpt(i,t,e){var n=tn(i.currentStates,t)>=0,r=i.style.opacity,a=n?null:_pt(i,["opacity"],t,{opacity:1});e=e||{};var o=e.style||{};return o.opacity==null&&(e=Rt({},e),o=Rt({opacity:n?r:a.opacity*.1},o),e.style=o),e}function gI(i,t){var e=this.states[i];if(this.style){if(i==="emphasis")return Spt(this,i,t,e);if(i==="blur")return bpt(this,i,e);if(i==="select")return xpt(this,i,e)}return e}function Yg(i){i.stateProxy=gI;var t=i.getTextContent(),e=i.getTextGuideLine();t&&(t.stateProxy=gI),e&&(e.stateProxy=gI)}function Rk(i,t){!Fq(i,t)&&!i.__highByOuter&&Eh(i,zq)}function Lk(i,t){!Fq(i,t)&&!i.__highByOuter&&Eh(i,Bq)}function Sh(i,t){i.__highByOuter|=1<<(t||0),Eh(i,zq)}function xh(i,t){!(i.__highByOuter&=~(1<<(t||0)))&&Eh(i,Bq)}function Vq(i){Eh(i,cB)}function fB(i){Eh(i,Uq)}function Hq(i){Eh(i,mpt)}function kq(i){Eh(i,ypt)}function Fq(i,t){return i.__highDownSilentOnTouch&&t.zrByTouch}function Gq(i){var t=i.getModel(),e=[],n=[];t.eachComponent(function(r,a){var o=sB(a),s=r==="series",l=s?i.getViewOfSeriesModel(a):i.getViewOfComponentModel(a);!s&&n.push(l),o.isBlured&&(l.group.traverse(function(u){Uq(u)}),s&&e.push(a)),o.isBlured=!1}),G(n,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(e,!1,t)})}function hP(i,t,e,n){var r=n.getModel();e=e||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var h=u.getItemGraphicEl(c[f]);h&&fB(h)}}if(i!=null&&!(!t||t==="none")){var o=r.getSeriesByIndex(i),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&s?f===s:c;if(!(e==="series"&&!c||e==="coordinateSystem"&&!h||t==="series"&&c)){var p=n.getViewOfSeriesModel(u);if(p.group.traverse(function(_){_.__highByOuter&&c&&t==="self"||cB(_)}),Za(t))a(u.getData(),t);else if(Le(t))for(var g=Tn(t),m=0;m<g.length;m++)a(u.getData(g[m]),t[g[m]]);l.push(u),sB(u).isBlured=!0}}),r.eachComponent(function(u,c){if(u!=="series"){var f=n.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,r)}})}}function dP(i,t,e){if(!(i==null||t==null)){var n=e.getModel().getComponent(i,t);if(n){sB(n).isBlured=!0;var r=e.getViewOfComponentModel(n);!r||!r.focusBlurEnabled||r.group.traverse(function(a){cB(a)})}}}function Tpt(i,t,e){var n=i.seriesIndex,r=i.getData(t.dataType);if(r){var a=Xg(r,t);a=(Vt(a)?a[0]:a)||0;var o=r.getItemGraphicEl(a);if(!o)for(var s=r.count(),l=0;!o&&l<s;)o=r.getItemGraphicEl(l++);if(o){var u=Ue(o);hP(n,u.focus,u.blurScope,e)}else{var c=i.get(["emphasis","focus"]),f=i.get(["emphasis","blurScope"]);c!=null&&hP(n,c,f,e)}}}function hB(i,t,e,n){var r={focusSelf:!1,dispatchers:null};if(i==null||i==="series"||t==null||e==null)return r;var a=n.getModel().getComponent(i,t);if(!a)return r;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return r;for(var s=o.findHighDownDispatchers(e),l,u=0;u<s.length;u++)if(Ue(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function Mpt(i,t,e){var n=Ue(i),r=hB(n.componentMainType,n.componentIndex,n.componentHighDownName,e),a=r.dispatchers,o=r.focusSelf;a?(o&&dP(n.componentMainType,n.componentIndex,e),G(a,function(s){return Rk(s,t)})):(hP(n.seriesIndex,n.focus,n.blurScope,e),n.focus==="self"&&dP(n.componentMainType,n.componentIndex,e),Rk(i,t))}function Apt(i,t,e){Gq(e);var n=Ue(i),r=hB(n.componentMainType,n.componentIndex,n.componentHighDownName,e).dispatchers;r?G(r,function(a){return Lk(a,t)}):Lk(i,t)}function wpt(i,t,e){if(vP(t)){var n=t.dataType,r=i.getData(n),a=Xg(r,t);Vt(a)||(a=[a]),i[t.type===AC?"toggleSelect":t.type===MC?"select":"unselect"](a,n)}}function Ik(i){var t=i.getAllData();G(t,function(e){var n=e.data,r=e.type;n.eachItemGraphicEl(function(a,o){i.isSelected(o,r)?Hq(a):kq(a)})})}function Ept(i){var t=[];return i.eachSeries(function(e){var n=e.getAllData();G(n,function(r){r.data;var a=r.type,o=e.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:e.seriesIndex};a!=null&&(s.dataType=a),t.push(s)}})}),t}function Jd(i,t,e){Sg(i,!0),Eh(i,Yg),pP(i,t,e)}function Cpt(i){Sg(i,!1)}function Fi(i,t,e,n){n?Cpt(i):Jd(i,t,e)}function pP(i,t,e){var n=Ue(i);t!=null?(n.focus=t,n.blurScope=e):n.focus&&(n.focus=null)}var Nk=["emphasis","blur","select"],Dpt={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function qr(i,t,e,n){e=e||"itemStyle";for(var r=0;r<Nk.length;r++){var a=Nk[r],o=t.getModel([a,e]),s=i.ensureState(a);s.style=n?n(o):o[Dpt[e]]()}}function Sg(i,t){var e=t===!1,n=i;i.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=i.highDownSilentOnTouch),(!e||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!e)}function mb(i){return!!(i&&i.__highDownDispatcher)}function Rpt(i,t,e){var n=Ue(i);n.componentMainType=t.mainType,n.componentIndex=t.componentIndex,n.componentHighDownName=e}function Lpt(i){var t=Ck[i];return t==null&&Ek<=32&&(t=Ck[i]=Ek++),t}function vP(i){var t=i.type;return t===MC||t===fP||t===AC}function Ok(i){var t=i.type;return t===Rg||t===iE}function Ipt(i){var t=Pq(i);t.normalFill=i.style.fill,t.normalStroke=i.style.stroke;var e=i.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}var Zy=Kc.CMD,Npt=[[],[],[]],Pk=Math.sqrt,Opt=Math.atan2;function Xq(i,t){if(t){var e=i.data,n=i.len(),r,a,o,s,l,u,c=Zy.M,f=Zy.C,h=Zy.L,p=Zy.R,g=Zy.A,m=Zy.Q;for(o=0,s=0;o<n;){switch(r=e[o++],s=o,a=0,r){case c:a=1;break;case h:a=1;break;case f:a=3;break;case m:a=2;break;case g:var _=t[4],S=t[5],T=Pk(t[0]*t[0]+t[1]*t[1]),M=Pk(t[2]*t[2]+t[3]*t[3]),w=Opt(-t[1]/M,t[0]/T);e[o]*=T,e[o++]+=_,e[o]*=M,e[o++]+=S,e[o++]*=T,e[o++]*=M,e[o++]+=w,e[o++]+=w,o+=2,s=o;break;case p:u[0]=e[o++],u[1]=e[o++],cr(u,u,t),e[s++]=u[0],e[s++]=u[1],u[0]+=e[o++],u[1]+=e[o++],cr(u,u,t),e[s++]=u[0],e[s++]=u[1]}for(l=0;l<a;l++){var D=Npt[l];D[0]=e[o++],D[1]=e[o++],cr(D,D,t),e[s++]=D[0],e[s++]=D[1]}}i.increaseVersion()}}var mI=Math.sqrt,XA=Math.sin,WA=Math.cos,zx=Math.PI;function zk(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function gP(i,t){return(i[0]*t[0]+i[1]*t[1])/(zk(i)*zk(t))}function Bk(i,t){return(i[0]*t[1]<i[1]*t[0]?-1:1)*Math.acos(gP(i,t))}function Uk(i,t,e,n,r,a,o,s,l,u,c){var f=l*(zx/180),h=WA(f)*(i-e)/2+XA(f)*(t-n)/2,p=-1*XA(f)*(i-e)/2+WA(f)*(t-n)/2,g=h*h/(o*o)+p*p/(s*s);g>1&&(o*=mI(g),s*=mI(g));var m=(r===a?-1:1)*mI((o*o*(s*s)-o*o*(p*p)-s*s*(h*h))/(o*o*(p*p)+s*s*(h*h)))||0,_=m*o*p/s,S=m*-s*h/o,T=(i+e)/2+WA(f)*_-XA(f)*S,M=(t+n)/2+XA(f)*_+WA(f)*S,w=Bk([1,0],[(h-_)/o,(p-S)/s]),D=[(h-_)/o,(p-S)/s],C=[(-1*h-_)/o,(-1*p-S)/s],R=Bk(D,C);if(gP(D,C)<=-1&&(R=zx),gP(D,C)>=1&&(R=0),R<0){var z=Math.round(R/zx*1e6)/1e6;R=zx*2+z%2*zx}c.addData(u,T,M,o,s,w,R,f,a)}var Ppt=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,zpt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Bpt(i){var t=new Kc;if(!i)return t;var e=0,n=0,r=e,a=n,o,s=Kc.CMD,l=i.match(Ppt);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),h=void 0,p=c.match(zpt)||[],g=p.length,m=0;m<g;m++)p[m]=parseFloat(p[m]);for(var _=0;_<g;){var S=void 0,T=void 0,M=void 0,w=void 0,D=void 0,C=void 0,R=void 0,z=e,N=n,O=void 0,U=void 0;switch(f){case"l":e+=p[_++],n+=p[_++],h=s.L,t.addData(h,e,n);break;case"L":e=p[_++],n=p[_++],h=s.L,t.addData(h,e,n);break;case"m":e+=p[_++],n+=p[_++],h=s.M,t.addData(h,e,n),r=e,a=n,f="l";break;case"M":e=p[_++],n=p[_++],h=s.M,t.addData(h,e,n),r=e,a=n,f="L";break;case"h":e+=p[_++],h=s.L,t.addData(h,e,n);break;case"H":e=p[_++],h=s.L,t.addData(h,e,n);break;case"v":n+=p[_++],h=s.L,t.addData(h,e,n);break;case"V":n=p[_++],h=s.L,t.addData(h,e,n);break;case"C":h=s.C,t.addData(h,p[_++],p[_++],p[_++],p[_++],p[_++],p[_++]),e=p[_-2],n=p[_-1];break;case"c":h=s.C,t.addData(h,p[_++]+e,p[_++]+n,p[_++]+e,p[_++]+n,p[_++]+e,p[_++]+n),e+=p[_-2],n+=p[_-1];break;case"S":S=e,T=n,O=t.len(),U=t.data,o===s.C&&(S+=e-U[O-4],T+=n-U[O-3]),h=s.C,z=p[_++],N=p[_++],e=p[_++],n=p[_++],t.addData(h,S,T,z,N,e,n);break;case"s":S=e,T=n,O=t.len(),U=t.data,o===s.C&&(S+=e-U[O-4],T+=n-U[O-3]),h=s.C,z=e+p[_++],N=n+p[_++],e+=p[_++],n+=p[_++],t.addData(h,S,T,z,N,e,n);break;case"Q":z=p[_++],N=p[_++],e=p[_++],n=p[_++],h=s.Q,t.addData(h,z,N,e,n);break;case"q":z=p[_++]+e,N=p[_++]+n,e+=p[_++],n+=p[_++],h=s.Q,t.addData(h,z,N,e,n);break;case"T":S=e,T=n,O=t.len(),U=t.data,o===s.Q&&(S+=e-U[O-4],T+=n-U[O-3]),e=p[_++],n=p[_++],h=s.Q,t.addData(h,S,T,e,n);break;case"t":S=e,T=n,O=t.len(),U=t.data,o===s.Q&&(S+=e-U[O-4],T+=n-U[O-3]),e+=p[_++],n+=p[_++],h=s.Q,t.addData(h,S,T,e,n);break;case"A":M=p[_++],w=p[_++],D=p[_++],C=p[_++],R=p[_++],z=e,N=n,e=p[_++],n=p[_++],h=s.A,Uk(z,N,e,n,C,R,M,w,D,h,t);break;case"a":M=p[_++],w=p[_++],D=p[_++],C=p[_++],R=p[_++],z=e,N=n,e+=p[_++],n+=p[_++],h=s.A,Uk(z,N,e,n,C,R,M,w,D,h,t);break}}(f==="z"||f==="Z")&&(h=s.Z,t.addData(h),e=r,n=a),o=h}return t.toStatic(),t}var Wq=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.applyTransform=function(e){},t})(_n);function Yq(i){return i.setData!=null}function qq(i,t){var e=Bpt(i),n=Rt({},t);return n.buildPath=function(r){var a=Yq(r);if(a&&r.canSave()){r.appendPath(e);var o=r.getContext();o&&r.rebuildPath(o,1)}else{var o=a?r.getContext():r;o&&e.rebuildPath(o,1)}},n.applyTransform=function(r){Xq(e,r),this.dirtyShape()},n}function Zq(i,t){return new Wq(qq(i,t))}function Upt(i,t){var e=qq(i,t),n=(function(r){ht(a,r);function a(o){var s=r.call(this,o)||this;return s.applyTransform=e.applyTransform,s.buildPath=e.buildPath,s}return a})(Wq);return n}function Vpt(i,t){for(var e=[],n=i.length,r=0;r<n;r++){var a=i[r];e.push(a.getUpdatedPathProxy(!0))}var o=new _n(t);return o.createPathProxy(),o.buildPath=function(s){if(Yq(s)){s.appendPath(e);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function dB(i,t){t=t||{};var e=new _n;return i.shape&&e.setShape(i.shape),e.setStyle(i.style),t.bakeTransform?Xq(e.path,i.getComputedTransform()):t.toLocal?e.setLocalTransform(i.getComputedTransform()):e.copyTransform(i),e.buildPath=i.buildPath,e.applyTransform=e.applyTransform,e.z=i.z,e.z2=i.z2,e.zlevel=i.zlevel,e}var Hpt=(function(){function i(){this.cx=0,this.cy=0,this.r=0}return i})(),nf=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Hpt},t.prototype.buildPath=function(e,n){e.moveTo(n.cx+n.r,n.cy),e.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t})(_n);nf.prototype.type="circle";var kpt=(function(){function i(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return i})(),rT=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new kpt},t.prototype.buildPath=function(e,n){var r=.5522848,a=n.cx,o=n.cy,s=n.rx,l=n.ry,u=s*r,c=l*r;e.moveTo(a-s,o),e.bezierCurveTo(a-s,o-c,a-u,o-l,a,o-l),e.bezierCurveTo(a+u,o-l,a+s,o-c,a+s,o),e.bezierCurveTo(a+s,o+c,a+u,o+l,a,o+l),e.bezierCurveTo(a-u,o+l,a-s,o+c,a-s,o),e.closePath()},t})(_n);rT.prototype.type="ellipse";var jq=Math.PI,yI=jq*2,Hv=Math.sin,jy=Math.cos,Fpt=Math.acos,vo=Math.atan2,Vk=Math.abs,G1=Math.sqrt,g1=Math.max,Ac=Math.min,gu=1e-4;function Gpt(i,t,e,n,r,a,o,s){var l=e-i,u=n-t,c=o-r,f=s-a,h=f*l-c*u;if(!(h*h<gu))return h=(c*(t-a)-f*(i-r))/h,[i+h*l,t+h*u]}function YA(i,t,e,n,r,a,o){var s=i-e,l=t-n,u=(o?a:-a)/G1(s*s+l*l),c=u*l,f=-u*s,h=i+c,p=t+f,g=e+c,m=n+f,_=(h+g)/2,S=(p+m)/2,T=g-h,M=m-p,w=T*T+M*M,D=r-a,C=h*m-g*p,R=(M<0?-1:1)*G1(g1(0,D*D*w-C*C)),z=(C*M-T*R)/w,N=(-C*T-M*R)/w,O=(C*M+T*R)/w,U=(-C*T+M*R)/w,F=z-_,V=N-S,W=O-_,Z=U-S;return F*F+V*V>W*W+Z*Z&&(z=O,N=U),{cx:z,cy:N,x0:-c,y0:-f,x1:z*(r/D-1),y1:N*(r/D-1)}}function Xpt(i){var t;if(Vt(i)){var e=i.length;if(!e)return i;e===1?t=[i[0],i[0],0,0]:e===2?t=[i[0],i[0],i[1],i[1]]:e===3?t=i.concat(i[2]):t=i}else t=[i,i,i,i];return t}function Wpt(i,t){var e,n=g1(t.r,0),r=g1(t.r0||0,0),a=n>0,o=r>0;if(!(!a&&!o)){if(a||(n=r,r=0),r>n){var s=n;n=r,r=s}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,f=t.cy,h=!!t.clockwise,p=Vk(u-l),g=p>yI&&p%yI;if(g>gu&&(p=g),!(n>gu))i.moveTo(c,f);else if(p>yI-gu)i.moveTo(c+n*jy(l),f+n*Hv(l)),i.arc(c,f,n,l,u,!h),r>gu&&(i.moveTo(c+r*jy(u),f+r*Hv(u)),i.arc(c,f,r,u,l,h));else{var m=void 0,_=void 0,S=void 0,T=void 0,M=void 0,w=void 0,D=void 0,C=void 0,R=void 0,z=void 0,N=void 0,O=void 0,U=void 0,F=void 0,V=void 0,W=void 0,Z=n*jy(l),H=n*Hv(l),j=r*jy(u),Y=r*Hv(u),Q=p>gu;if(Q){var nt=t.cornerRadius;nt&&(e=Xpt(nt),m=e[0],_=e[1],S=e[2],T=e[3]);var q=Vk(n-r)/2;if(M=Ac(q,S),w=Ac(q,T),D=Ac(q,m),C=Ac(q,_),N=R=g1(M,w),O=z=g1(D,C),(R>gu||z>gu)&&(U=n*jy(u),F=n*Hv(u),V=r*jy(l),W=r*Hv(l),p<jq)){var $=Gpt(Z,H,V,W,U,F,j,Y);if($){var st=Z-$[0],ft=H-$[1],Mt=U-$[0],dt=F-$[1],xt=1/Hv(Fpt((st*Mt+ft*dt)/(G1(st*st+ft*ft)*G1(Mt*Mt+dt*dt)))/2),Lt=G1($[0]*$[0]+$[1]*$[1]);N=Ac(R,(n-Lt)/(xt+1)),O=Ac(z,(r-Lt)/(xt-1))}}}if(!Q)i.moveTo(c+Z,f+H);else if(N>gu){var Ct=Ac(S,N),Wt=Ac(T,N),Xt=YA(V,W,Z,H,n,Ct,h),ae=YA(U,F,j,Y,n,Wt,h);i.moveTo(c+Xt.cx+Xt.x0,f+Xt.cy+Xt.y0),N<R&&Ct===Wt?i.arc(c+Xt.cx,f+Xt.cy,N,vo(Xt.y0,Xt.x0),vo(ae.y0,ae.x0),!h):(Ct>0&&i.arc(c+Xt.cx,f+Xt.cy,Ct,vo(Xt.y0,Xt.x0),vo(Xt.y1,Xt.x1),!h),i.arc(c,f,n,vo(Xt.cy+Xt.y1,Xt.cx+Xt.x1),vo(ae.cy+ae.y1,ae.cx+ae.x1),!h),Wt>0&&i.arc(c+ae.cx,f+ae.cy,Wt,vo(ae.y1,ae.x1),vo(ae.y0,ae.x0),!h))}else i.moveTo(c+Z,f+H),i.arc(c,f,n,l,u,!h);if(!(r>gu)||!Q)i.lineTo(c+j,f+Y);else if(O>gu){var Ct=Ac(m,O),Wt=Ac(_,O),Xt=YA(j,Y,U,F,r,-Wt,h),ae=YA(Z,H,V,W,r,-Ct,h);i.lineTo(c+Xt.cx+Xt.x0,f+Xt.cy+Xt.y0),O<z&&Ct===Wt?i.arc(c+Xt.cx,f+Xt.cy,O,vo(Xt.y0,Xt.x0),vo(ae.y0,ae.x0),!h):(Wt>0&&i.arc(c+Xt.cx,f+Xt.cy,Wt,vo(Xt.y0,Xt.x0),vo(Xt.y1,Xt.x1),!h),i.arc(c,f,r,vo(Xt.cy+Xt.y1,Xt.cx+Xt.x1),vo(ae.cy+ae.y1,ae.cx+ae.x1),h),Ct>0&&i.arc(c+ae.cx,f+ae.cy,Ct,vo(ae.y1,ae.x1),vo(ae.y0,ae.x0),!h))}else i.lineTo(c+j,f+Y),i.arc(c,f,r,u,l,h)}i.closePath()}}}var Ypt=(function(){function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return i})(),Ka=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Ypt},t.prototype.buildPath=function(e,n){Wpt(e,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t})(_n);Ka.prototype.type="sector";var qpt=(function(){function i(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return i})(),E_=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new qpt},t.prototype.buildPath=function(e,n){var r=n.cx,a=n.cy,o=Math.PI*2;e.moveTo(r+n.r,a),e.arc(r,a,n.r,0,o,!1),e.moveTo(r+n.r0,a),e.arc(r,a,n.r0,0,o,!0)},t})(_n);E_.prototype.type="ring";function Zpt(i,t,e,n){var r=[],a=[],o=[],s=[],l,u,c,f;if(n){c=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,p=i.length;h<p;h++)nh(c,c,i[h]),ih(f,f,i[h]);nh(c,c,n[0]),ih(f,f,n[1])}for(var h=0,p=i.length;h<p;h++){var g=i[h];if(e)l=i[h?h-1:p-1],u=i[(h+1)%p];else if(h===0||h===p-1){r.push(Gc(i[h]));continue}else l=i[h-1],u=i[h+1];kd(a,u,l),z1(a,a,t);var m=fC(g,l),_=fC(g,u),S=m+_;S!==0&&(m/=S,_/=S),z1(o,a,-m),z1(s,a,_);var T=zO([],g,o),M=zO([],g,s);n&&(ih(T,T,c),nh(T,T,f),ih(M,M,c),nh(M,M,f)),r.push(T),r.push(M)}return e&&r.push(r.shift()),r}function Kq(i,t,e){var n=t.smooth,r=t.points;if(r&&r.length>=2){if(n){var a=Zpt(r,n,e,t.smoothConstraint);i.moveTo(r[0][0],r[0][1]);for(var o=r.length,s=0;s<(e?o:o-1);s++){var l=a[s*2],u=a[s*2+1],c=r[(s+1)%o];i.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{i.moveTo(r[0][0],r[0][1]);for(var s=1,f=r.length;s<f;s++)i.lineTo(r[s][0],r[s][1])}e&&i.closePath()}}var jpt=(function(){function i(){this.points=null,this.smooth=0,this.smoothConstraint=null}return i})(),Qa=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new jpt},t.prototype.buildPath=function(e,n){Kq(e,n,!0)},t})(_n);Qa.prototype.type="polygon";var Kpt=(function(){function i(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return i})(),Ia=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Kpt},t.prototype.buildPath=function(e,n){Kq(e,n,!1)},t})(_n);Ia.prototype.type="polyline";var Qpt={},Jpt=(function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return i})(),Mr=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Jpt},t.prototype.buildPath=function(e,n){var r,a,o,s;if(this.subPixelOptimize){var l=mD(Qpt,n,this.style);r=l.x1,a=l.y1,o=l.x2,s=l.y2}else r=n.x1,a=n.y1,o=n.x2,s=n.y2;var u=n.percent;u!==0&&(e.moveTo(r,a),u<1&&(o=r*(1-u)+o*u,s=a*(1-u)+s*u),e.lineTo(o,s))},t.prototype.pointAt=function(e){var n=this.shape;return[n.x1*(1-e)+n.x2*e,n.y1*(1-e)+n.y2*e]},t})(_n);Mr.prototype.type="line";var cs=[],$pt=(function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return i})();function Hk(i,t,e){var n=i.cpx2,r=i.cpy2;return n!=null||r!=null?[(e?XH:ra)(i.x1,i.cpx1,i.cpx2,i.x2,t),(e?XH:ra)(i.y1,i.cpy1,i.cpy2,i.y2,t)]:[(e?GO:Ca)(i.x1,i.cpx1,i.x2,t),(e?GO:Ca)(i.y1,i.cpy1,i.y2,t)]}var C_=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $pt},t.prototype.buildPath=function(e,n){var r=n.x1,a=n.y1,o=n.x2,s=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,f=n.cpy2,h=n.percent;h!==0&&(e.moveTo(r,a),c==null||f==null?(h<1&&(cb(r,l,o,h,cs),l=cs[1],o=cs[2],cb(a,u,s,h,cs),u=cs[1],s=cs[2]),e.quadraticCurveTo(l,u,o,s)):(h<1&&(op(r,l,c,o,h,cs),l=cs[1],c=cs[2],o=cs[3],op(a,u,f,s,h,cs),u=cs[1],f=cs[2],s=cs[3]),e.bezierCurveTo(l,u,c,f,o,s)))},t.prototype.pointAt=function(e){return Hk(this.shape,e,!1)},t.prototype.tangentAt=function(e){var n=Hk(this.shape,e,!0);return im(n,n)},t})(_n);C_.prototype.type="bezier-curve";var tvt=(function(){function i(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return i})(),aT=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new tvt},t.prototype.buildPath=function(e,n){var r=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(s),f=Math.sin(s);e.moveTo(c*o+r,f*o+a),e.arc(r,a,o,s,l,!u)},t})(_n);aT.prototype.type="arc";var oT=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="compound",e}return t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,n=this.shapeChanged(),r=0;r<e.length;r++)n=n||e[r].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],n=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(n[0],n[1],e[r].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,n){for(var r=n.paths||[],a=0;a<r.length;a++)r[a].buildPath(e,r[a].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],n=0;n<e.length;n++)e[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),_n.prototype.getBoundingRect.call(this)},t})(_n),Qq=(function(){function i(t){this.colorStops=t||[]}return i.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},i})(),rm=(function(i){ht(t,i);function t(e,n,r,a,o,s){var l=i.call(this,o)||this;return l.x=e??0,l.y=n??0,l.x2=r??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return t})(Qq),pB=(function(i){ht(t,i);function t(e,n,r,a,o){var s=i.call(this,a)||this;return s.x=e??.5,s.y=n??.5,s.r=r??.5,s.type="radial",s.global=o||!1,s}return t})(Qq),_I=Math.min,evt=Math.max,qA=Math.abs,kv=[0,0],Fv=[0,0],Ea=BY(),ZA=Ea.minTv,jA=Ea.maxTv,Jq=(function(){function i(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Ne;for(var n=0;n<2;n++)this._axes[n]=new Ne;t&&this.fromBoundingRect(t,e)}return i.prototype.fromBoundingRect=function(t,e){var n=this._corners,r=this._axes,a=t.x,o=t.y,s=a+t.width,l=o+t.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,l),n[3].set(a,l),e)for(var u=0;u<4;u++)n[u].transform(e);Ne.sub(r[0],n[1],n[0]),Ne.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize();for(var u=0;u<2;u++)this._origin[u]=r[u].dot(n[0])},i.prototype.intersect=function(t,e,n){var r=!0,a=!e;return e&&Ne.set(e,0,0),Ea.reset(n,!a),!this._intersectCheckOneSide(this,t,a,1)&&(r=!1,a)||!this._intersectCheckOneSide(t,this,a,-1)&&(r=!1,a)||!a&&!Ea.negativeSize&&Ne.copy(e,r?Ea.useDir?Ea.dirMinTv:ZA:jA),r},i.prototype._intersectCheckOneSide=function(t,e,n,r){for(var a=!0,o=0;o<2;o++){var s=t._axes[o];if(t._getProjMinMaxOnAxis(o,t._corners,kv),t._getProjMinMaxOnAxis(o,e._corners,Fv),Ea.negativeSize||kv[1]<Fv[0]||kv[0]>Fv[1]){if(a=!1,Ea.negativeSize||n)return a;var l=qA(Fv[0]-kv[1]),u=qA(kv[0]-Fv[1]);_I(l,u)>jA.len()&&(l<u?Ne.scale(jA,s,-l*r):Ne.scale(jA,s,u*r))}else if(!n){var l=qA(Fv[0]-kv[1]),u=qA(kv[0]-Fv[1]);(Ea.useDir||_I(l,u)<ZA.len())&&((l<u||!Ea.bidirectional)&&(Ne.scale(ZA,s,l*r),Ea.useDir&&Ea.calcDirMTV()),(l>=u||!Ea.bidirectional)&&(Ne.scale(ZA,s,-u*r),Ea.useDir&&Ea.calcDirMTV()))}}return a},i.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var r=this._axes[t],a=this._origin,o=e[0].dot(r)+a[t],s=o,l=o,u=1;u<e.length;u++){var c=e[u].dot(r)+a[t];s=_I(c,s),l=evt(c,l)}n[0]=s+Ea.touchThreshold,n[1]=l-Ea.touchThreshold,Ea.negativeSize=n[1]<n[0]},i})(),nvt=[],$q=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,n){n?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,n){n=n||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var n=this._cursor;n<this._displayables.length;n++)e&&e(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)e&&e(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var n=this._displayables[e];n.parent=this,n.update(),n.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var n=this._temporaryDisplayables[e];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Oe(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var r=this._displayables[n],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(nvt)),e.union(a)}this._rect=e}return this._rect},t.prototype.contain=function(e,n){var r=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(a.contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(e,n))return!0}return!1},t})(zl),tZ=gn();function D_(i,t,e,n,r){var a;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();a=o&&o.animation}var s=t&&t.isAnimationEnabled(),l=i==="update";if(s){var u=void 0,c=void 0,f=void 0;n?(u=_e(n.duration,200),c=_e(n.easing,"cubicOut"),f=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),f=t.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),Te(f)&&(f=f(e,r)),Te(u)&&(u=u(e));var h={duration:u||0,delay:f,easing:c};return h}else return null}function vB(i,t,e,n,r,a,o){var s=!1,l;Te(r)?(o=a,a=r,r=null):Le(r)&&(a=r.cb,o=r.during,s=r.isFrom,l=r.removeOpt,r=r.dataIndex);var u=i==="leave";u||t.stopAnimation("leave");var c=D_(i,n,r,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,r):null);if(c&&c.duration>0){var f=c.duration,h=c.delay,p=c.easing,g={duration:f,delay:h||0,easing:p,done:a,force:!!a||!!o,setToFinal:!u,scope:i,during:o};s?t.animateFrom(e,g):t.animateTo(e,g)}else t.stopAnimation(),!s&&t.attr(e),o&&o(1),a&&a()}function Pn(i,t,e,n,r,a){vB("update",i,t,e,n,r,a)}function Li(i,t,e,n,r,a){vB("enter",i,t,e,n,r,a)}function P0(i){if(!i.__zr)return!0;for(var t=0;t<i.animators.length;t++){var e=i.animators[t];if(e.scope==="leave")return!0}return!1}function sp(i,t,e,n,r,a){P0(i)||vB("leave",i,t,e,n,r,a)}function kk(i,t,e,n){i.removeTextContent(),i.removeTextGuideLine(),sp(i,{style:{opacity:0}},t,e,n)}function fh(i,t,e){function n(){i.parent&&i.parent.remove(i)}i.isGroup?i.traverse(function(r){r.isGroup||kk(r,t,e,n)}):kk(i,t,e,n)}function Bl(i){tZ(i).oldStyle=i.style}function ivt(i){return tZ(i).oldStyle}var mP={},We=["x","y"],Pr=["width","height"];function eZ(i){return _n.extend(i)}var rvt=Upt;function nZ(i,t){return rvt(i,t)}function kl(i,t){mP[i]=t}function yb(i){if(mP.hasOwnProperty(i))return mP[i]}function i_(i,t,e,n){var r=Zq(i,t);return e&&(n==="center"&&(e=iZ(e,r.getBoundingRect())),mB(r,e)),r}function gB(i,t,e){var n=new da({style:{image:i,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){if(e==="center"){var a={width:r.width,height:r.height};n.setStyle(iZ(t,a))}}});return n}function iZ(i,t){var e=t.width/t.height,n=i.height*e,r;n<=i.width?r=i.height:(n=i.width,r=n/e);var a=i.x+i.width/2,o=i.y+i.height/2;return{x:a-n/2,y:o-r/2,width:n,height:r}}var Bs=Vpt;function mB(i,t){if(i.applyTransform){var e=i.getBoundingRect(),n=e.calculateTransform(t);i.applyTransform(n)}}function r_(i,t){return mD(i,i,{lineWidth:t}),i}function avt(i,t){return Iq(i,i,t),i}var rE=Xs;function $d(i,t){for(var e=tT([]);i&&i!==t;)wu(e,i.getLocalTransform(),e),i=i.parent;return e}function Cu(i,t,e){return t&&!Za(t)&&(t=rh.getLocalTransform(t)),e&&(t=Pl([],t)),cr([],i,t)}function SD(i,t,e){var n=t[4]===0||t[5]===0||t[0]===0?1:zc(2*t[4]/t[0]),r=t[4]===0||t[5]===0||t[2]===0?1:zc(2*t[4]/t[2]),a=[i==="left"?-n:i==="right"?n:0,i==="top"?-r:i==="bottom"?r:0];return a=Cu(a,t,e),zc(a[0])>zc(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Fk(i){return!i.isGroup}function ovt(i){return i.shape!=null}function sT(i,t,e){if(!i||!t)return;function n(o){var s={};return o.traverse(function(l){Fk(l)&&l.anid&&(s[l.anid]=l)}),s}function r(o){var s={x:o.x,y:o.y,rotation:o.rotation};return ovt(o)&&(s.shape=Ee(o.shape)),s}var a=n(i);t.traverse(function(o){if(Fk(o)&&o.anid){var s=a[o.anid];if(s){var l=r(o);o.attr(r(s)),Pn(o,l,e,Ue(o).dataIndex)}}})}function yB(i,t){return kt(i,function(e){var n=e[0];n=br(n,t.x),n=Ys(n,t.x+t.width);var r=e[1];return r=br(r,t.y),r=Ys(r,t.y+t.height),[n,r]})}function rZ(i,t){var e=br(i.x,t.x),n=Ys(i.x+i.width,t.x+t.width),r=br(i.y,t.y),a=Ys(i.y+i.height,t.y+t.height);if(n>=e&&a>=r)return{x:e,y:r,width:n-e,height:a-r}}function R_(i,t,e){var n=Rt({rectHover:!0},t),r=n.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},i)return i.indexOf("image://")===0?(r.image=i.slice(8),Re(r,e),new da(n)):i_(i.replace("path://",""),n,e,"center")}function m1(i,t,e,n,r){for(var a=0,o=r[r.length-1];a<r.length;a++){var s=r[a];if(aZ(i,t,e,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function aZ(i,t,e,n,r,a,o,s){var l=e-i,u=n-t,c=o-r,f=s-a,h=SI(c,f,l,u);if(svt(h))return!1;var p=i-r,g=t-a,m=SI(p,g,l,u)/h;if(m<0||m>1)return!1;var _=SI(p,g,c,f)/h;return!(_<0||_>1)}function SI(i,t,e,n){return i*n-e*t}function svt(i){return i<=1e-6&&i>=-1e-6}function qg(i,t,e,n,r){return t==null||(En(t)?Gi[0]=Gi[1]=Gi[2]=Gi[3]=t:(Gi[0]=t[0],Gi[1]=t[1],Gi[2]=t[2],Gi[3]=t[3]),n&&(Gi[0]=br(0,Gi[0]),Gi[1]=br(0,Gi[1]),Gi[2]=br(0,Gi[2]),Gi[3]=br(0,Gi[3])),e&&(Gi[0]=-Gi[0],Gi[1]=-Gi[1],Gi[2]=-Gi[2],Gi[3]=-Gi[3]),Gk(i,Gi,"x","width",3,1,r&&r[0]||0),Gk(i,Gi,"y","height",0,2,r&&r[1]||0)),i}var Gi=[0,0,0,0];function Gk(i,t,e,n,r,a,o){var s=t[a]+t[r],l=i[n];i[n]+=s,o=br(0,Ys(o,l)),i[n]<o?(i[n]=o,i[e]+=t[r]>=0?-t[r]:t[a]>=0?l+t[a]:zc(s)>1e-8?(l-o)*t[r]/s:0):i[e]-=t[r]}function Ch(i){var t=i.itemTooltipOption,e=i.componentModel,n=i.itemName,r=le(t)?{formatter:t}:t,a=e.mainType,o=e.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var l=i.formatterParamsExtra;l&&G(Tn(l),function(c){ge(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=Ue(i.el);u.componentMainType=a,u.componentIndex=o,u.tooltipConfig={name:n,option:Re({content:n,encodeHTMLContent:!0,formatterParams:s},r)}}function yP(i,t){var e;i.isGroup&&(e=t(i)),e||i.traverse(t)}function mp(i,t){if(i)if(Vt(i))for(var e=0;e<i.length;e++)yP(i[e],t);else yP(i,t)}function _B(i){return!i||zc(i[1])<KA&&zc(i[2])<KA||zc(i[0])<KA&&zc(i[3])<KA}var KA=1e-5;function _b(i,t){return i?Oe.copy(i,t):t.clone()}function SB(i,t){return t?eT(i||la(),t):void 0}function Zg(i){return{z:i.get("z")||0,zlevel:i.get("zlevel")||0}}function oZ(i){var t=-1/0,e=1/0;yP(i,function(a){n(a),n(a.getTextContent()),n(a.getTextGuideLine())});function n(a){if(!(!a||a.isGroup)){var o=a.currentStates;if(o.length)for(var s=0;s<o.length;s++)r(a.states[o[s]]);r(a)}}function r(a){if(a){var o=a.z2;o>t&&(t=o),o<e&&(e=o)}}return e>t&&(e=t=0),{min:e,max:t}}function xD(i,t,e){sZ(i,t,e,-1/0)}function sZ(i,t,e,n){if(i.ignoreModelZ)return n;var r=i.getTextContent(),a=i.getTextGuideLine(),o=i.isGroup;if(o)for(var s=i.childrenRef(),l=0;l<s.length;l++)n=br(sZ(s[l],t,e,n),n);else i.z=t,i.zlevel=e,n=br(i.z2||0,n);if(r&&(r.z=t,r.zlevel=e,isFinite(n)&&(r.z2=n+2)),a){var u=i.textGuideLineConfig;a.z=t,a.zlevel=e,isFinite(n)&&(a.z2=n+(u&&u.showAbove?1:-1))}return n}kl("circle",nf);kl("ellipse",rT);kl("sector",Ka);kl("ring",E_);kl("polygon",Qa);kl("polyline",Ia);kl("rect",cn);kl("line",Mr);kl("bezierCurve",C_);kl("arc",aT);const am=Object.freeze(Object.defineProperty({__proto__:null,Arc:aT,BezierCurve:C_,BoundingRect:Oe,Circle:nf,CompoundPath:oT,Ellipse:rT,Group:Ce,Image:da,IncrementalDisplayable:$q,Line:Mr,LinearGradient:rm,OrientedBoundingRect:Jq,Path:_n,Point:Ne,Polygon:Qa,Polyline:Ia,RadialGradient:pB,Rect:cn,Ring:E_,Sector:Ka,Text:wn,WH:Pr,XY:We,applyTransform:Cu,calcZ2Range:oZ,clipPointsByRect:yB,clipRectByRect:rZ,createIcon:R_,ensureCopyRect:_b,ensureCopyTransform:SB,expandOrShrinkRect:qg,extendPath:nZ,extendShape:eZ,getShapeClass:yb,getTransform:$d,groupTransition:sT,initProps:Li,isBoundingRectAxisAligned:_B,isElementRemoved:P0,lineLineIntersect:aZ,linePolygonIntersect:m1,makeImage:gB,makePath:i_,mergePath:Bs,registerShape:kl,removeElement:sp,removeElementWithFadeOut:fh,resizePath:mB,retrieveZInfo:Zg,setTooltipConfig:Ch,subPixelOptimize:rE,subPixelOptimizeLine:r_,subPixelOptimizeRect:avt,transformDirection:SD,traverseElements:mp,traverseUpdateZ:xD,updateProps:Pn},Symbol.toStringTag,{value:"Module"}));var bD={};function lZ(i,t){for(var e=0;e<Jo.length;e++){var n=Jo[e],r=t[n],a=i.ensureState(n);a.style=a.style||{},a.style.text=r}var o=i.currentStates.slice();i.clearStates(!0),i.setStyle({text:t.normal}),i.useStates(o,!0)}function _P(i,t,e){var n=i.labelFetcher,r=i.labelDataIndex,a=i.labelDimIndex,o=t.normal,s;n&&(s=n.getFormattedLabel(r,"normal",null,a,o&&o.get("formatter"),e!=null?{interpolatedValue:e}:null)),s==null&&(s=Te(i.defaultText)?i.defaultText(r,i,e):i.defaultText);for(var l={normal:s},u=0;u<Jo.length;u++){var c=Jo[u],f=t[c];l[c]=_e(n?n.getFormattedLabel(r,c,null,a,f&&f.get("formatter")):null,s)}return l}function ha(i,t,e,n){e=e||bD;for(var r=i instanceof wn,a=!1,o=0;o<gb.length;o++){var s=t[gb[o]];if(s&&s.getShallow("show")){a=!0;break}}var l=r?i:i.getTextContent();if(a){r||(l||(l=new wn,i.setTextContent(l)),i.stateProxy&&(l.stateProxy=i.stateProxy));var u=_P(e,t),c=t.normal,f=!!c.getShallow("show"),h=Si(c,n&&n.normal,e,!1,!r);h.text=u.normal,r||i.setTextConfig(EC(c,e,!1));for(var o=0;o<Jo.length;o++){var p=Jo[o],s=t[p];if(s){var g=l.ensureState(p),m=!!_e(s.getShallow("show"),f);if(m!==f&&(g.ignore=!m),g.style=Si(s,n&&n[p],e,!0,!r),g.style.text=u[p],!r){var _=i.ensureState(p);_.textConfig=EC(s,e,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!f,l.useStyle(h),l.dirty(),e.enableTextSetter&&(L_(l).setLabelText=function(S){var T=_P(e,t,S);lZ(l,T)})}else l&&(l.ignore=!0);i.dirty()}function Zr(i,t){t=t||"label";for(var e={normal:i.getModel(t)},n=0;n<Jo.length;n++){var r=Jo[n];e[r]=i.getModel([r,t])}return e}function Si(i,t,e,n,r){var a={};return lvt(a,i,e,n,r),t&&Rt(a,t),a}function EC(i,t,e){t=t||{};var n={},r,a=i.getShallow("rotate"),o=_e(i.getShallow("distance"),e?null:5),s=i.getShallow("offset");return r=i.getShallow("position")||(e?null:"inside"),r==="outside"&&(r=t.defaultOutsidePosition||"top"),r!=null&&(n.position=r),s!=null&&(n.offset=s),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=i.get("color")==="inherit"?t.inheritColor||null:"auto",t.autoOverflowArea!=null&&(n.autoOverflowArea=t.autoOverflowArea),t.layoutRect!=null&&(n.layoutRect=t.layoutRect),n}function lvt(i,t,e,n,r){e=e||bD;var a=t.ecModel,o=a&&a.option.textStyle,s=uvt(t),l;if(s){l={};var u="richInheritPlainLabel",c=_e(t.get(u),a?a.get(u):void 0);for(var f in s)if(s.hasOwnProperty(f)){var h=t.getModel(["rich",f]);qk(l[f]={},h,o,t,c,e,n,r,!1,!0)}}l&&(i.rich=l);var p=t.get("overflow");p&&(i.overflow=p);var g=t.get("lineOverflow");g&&(i.lineOverflow=g);var m=i,_=t.get("minMargin");if(_!=null)_=En(_)?_/2:0,m.margin=[_,_,_,_],m.__marginType=A0.minMargin;else{var S=t.get("textMargin");S!=null&&(m.margin=Jb(S),m.__marginType=A0.textMargin)}qk(i,t,o,null,null,e,n,r,!0,!1)}function uvt(i){for(var t;i&&i!==i.ecModel;){var e=(i.option||bD).rich;if(e){t=t||{};for(var n=Tn(e),r=0;r<n.length;r++){var a=n[r];t[a]=1}}i=i.parentModel}return t}var Xk=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Wk=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],Yk=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function qk(i,t,e,n,r,a,o,s,l,u){e=!o&&e||bD;var c=a&&a.inheritColor,f=t.getShallow("color"),h=t.getShallow("textBorderColor"),p=_e(t.getShallow("opacity"),e.opacity);(f==="inherit"||f==="auto")&&(c?f=c:f=null),(h==="inherit"||h==="auto")&&(c?h=c:h=null),s||(f=f||e.color,h=h||e.textBorderColor),f!=null&&(i.fill=f),h!=null&&(i.stroke=h);var g=_e(t.getShallow("textBorderWidth"),e.textBorderWidth);g!=null&&(i.lineWidth=g);var m=_e(t.getShallow("textBorderType"),e.textBorderType);m!=null&&(i.lineDash=m);var _=_e(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);_!=null&&(i.lineDashOffset=_),!o&&p==null&&!u&&(p=a&&a.defaultOpacity),p!=null&&(i.opacity=p),!o&&!s&&i.fill==null&&a.inheritColor&&(i.fill=a.inheritColor);for(var S=0;S<Xk.length;S++){var T=Xk[S],M=r!==!1&&n?ms(t.getShallow(T),n.getShallow(T),e[T]):_e(t.getShallow(T),e[T]);M!=null&&(i[T]=M)}for(var S=0;S<Wk.length;S++){var T=Wk[S],M=t.getShallow(T);M!=null&&(i[T]=M)}if(i.verticalAlign==null){var w=t.getShallow("baseline");w!=null&&(i.verticalAlign=w)}if(!l||!a.disableBox){for(var S=0;S<Yk.length;S++){var T=Yk[S],M=t.getShallow(T);M!=null&&(i[T]=M)}var D=t.getShallow("borderType");D!=null&&(i.borderDash=D),(i.backgroundColor==="auto"||i.backgroundColor==="inherit")&&c&&(i.backgroundColor=c),(i.borderColor==="auto"||i.borderColor==="inherit")&&c&&(i.borderColor=c)}}function xB(i,t){var e=t&&t.getModel("textStyle");return ks([i.fontStyle||e&&e.getShallow("fontStyle")||"",i.fontWeight||e&&e.getShallow("fontWeight")||"",(i.fontSize||e&&e.getShallow("fontSize")||12)+"px",i.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var L_=gn();function uZ(i,t,e,n){if(i){var r=L_(i);r.prevValue=r.value,r.value=e;var a=t.normal;r.valueAnimation=a.get("valueAnimation"),r.valueAnimation&&(r.precision=a.get("precision"),r.defaultInterpolatedText=n,r.statesModels=t)}}function cZ(i,t,e,n,r){var a=L_(i);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,s=_e(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=bq(e,a.precision,s,l,c);a.interpolatedValue=c===1?null:f;var h=_P({labelDataIndex:t,labelFetcher:r,defaultText:o?o(f):f+""},a.statesModels,f);lZ(i,h)}i.percent=0,(a.prevValue==null?Li:Pn)(i,{percent:1},n,t,null,u)}var A0={minMargin:1,textMargin:2},cvt=["textStyle","color"],xI=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],bI=new wn,fvt=(function(){function i(){}return i.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(cvt):null)},i.prototype.getFont=function(){return xB({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},i.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<xI.length;n++)e[xI[n]]=this.getShallow(xI[n]);return bI.useStyle(e),bI.update(),bI.getBoundingRect()},i})(),fZ=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],hvt=Wg(fZ),dvt=(function(){function i(){}return i.prototype.getLineStyle=function(t){return hvt(this,t)},i})(),hZ=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],pvt=Wg(hZ),vvt=(function(){function i(){}return i.prototype.getItemStyle=function(t,e){return pvt(this,t,e)},i})(),yn=(function(){function i(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return i.prototype.init=function(t,e,n){},i.prototype.mergeOption=function(t,e){en(this.option,t,!0)},i.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},i.prototype.getShallow=function(t,e){var n=this.option,r=n==null?n:n[t];if(r==null&&!e){var a=this.parentModel;a&&(r=a.getShallow(t))}return r},i.prototype.getModel=function(t,e){var n=t!=null,r=n?this.parsePath(t):null,a=n?this._doGet(r):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),new i(a,e,this.ecModel)},i.prototype.isEmpty=function(){return this.option==null},i.prototype.restoreData=function(){},i.prototype.clone=function(){var t=this.constructor;return new t(Ee(this.option))},i.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},i.prototype.resolveParentPath=function(t){return t},i.prototype.isAnimationEnabled=function(){if(!xn.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},i.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var r=0;r<t.length&&!(t[r]&&(n=n&&typeof n=="object"?n[t[r]]:null,n==null));r++);return n==null&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},i})();rB(yn);wdt(yn);fr(yn,dvt);fr(yn,vvt);fr(yn,Ldt);fr(yn,fvt);var gvt=Math.round(Math.random()*10);function I_(i){return[i||"",gvt++].join("_")}function mvt(i){var t={};i.registerSubTypeDefaulter=function(e,n){var r=Bc(e);t[r.main]=n},i.determineSubType=function(e,n){var r=n.type;if(!r){var a=Bc(e).main;i.hasSubTypes(e)&&t[a]&&(r=t[a](n))}return r}}function yvt(i,t){i.topologicalTravel=function(a,o,s,l){if(!a.length)return;var u=e(o),c=u.graph,f=u.noEntryList,h={};for(G(a,function(T){h[T]=!0});f.length;){var p=f.pop(),g=c[p],m=!!h[p];m&&(s.call(l,p,g.originalDeps.slice()),delete h[p]),G(g.successor,m?S:_)}G(h,function(){var T="";throw new Error(T)});function _(T){c[T].entryCount--,c[T].entryCount===0&&f.push(T)}function S(T){h[T]=!0,_(T)}};function e(a){var o={},s=[];return G(a,function(l){var u=n(o,l),c=u.originalDeps=t(l),f=r(c,a);u.entryCount=f.length,u.entryCount===0&&s.push(l),G(f,function(h){tn(u.predecessor,h)<0&&u.predecessor.push(h);var p=n(o,h);tn(p.successor,h)<0&&p.successor.push(l)})}),{graph:o,noEntryList:s}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function r(a,o){var s=[];return G(a,function(l){tn(o,l)>=0&&s.push(l)}),s}}function yp(i,t){return en(en({},i,!0),t,!0)}const _vt={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Svt={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var CC="ZH",bB="EN",z0=bB,aE={},TB={},dZ=xn.domSupported?(function(){var i=(document.documentElement.lang||navigator.language||navigator.browserLanguage||z0).toUpperCase();return i.indexOf(CC)>-1?CC:z0})():z0;function MB(i,t){i=i.toUpperCase(),TB[i]=new yn(t),aE[i]=t}function xvt(i){if(le(i)){var t=aE[i.toUpperCase()]||{};return i===CC||i===bB?Ee(t):en(Ee(t),Ee(aE[z0]),!1)}else return en(Ee(i),Ee(aE[z0]),!1)}function SP(i){return TB[i]}function bvt(){return TB[z0]}MB(bB,_vt);MB(CC,Svt);var xP=null;function Tvt(i){xP||(xP=i)}function Or(){return xP}var AB=1e3,wB=AB*60,X1=wB*60,Dl=X1*24,Zk=Dl*365,Mvt={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},oE={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},Avt="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",QA="{yyyy}-{MM}-{dd}",jk={year:"{yyyy}",month:"{yyyy}-{MM}",day:QA,hour:QA+" "+oE.hour,minute:QA+" "+oE.minute,second:QA+" "+oE.second,millisecond:Avt},Ns=["year","month","day","hour","minute","second","millisecond"],wvt=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Evt(i){return!le(i)&&!Te(i)?Cvt(i):i}function Cvt(i){i=i||{};var t={},e=!0;return G(Ns,function(n){e&&(e=i[n]==null)}),G(Ns,function(n,r){var a=i[n];t[n]={};for(var o=null,s=r;s>=0;s--){var l=Ns[s],u=Le(a)&&!Vt(a)?a[l]:a,c=void 0;Vt(u)?(c=u.slice(),o=c[0]||""):le(u)?(o=u,c=[o]):(o==null?o=oE[n]:Mvt[l].test(o)||(o=t[l][l][0]+" "+o),c=[o],e&&(c[1]="{primary|"+o+"}")),t[n][l]=c}}),t}function Yo(i,t){return i+="","0000".substr(0,t-i.length)+i}function W1(i){switch(i){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return i}}function Dvt(i){return i===W1(i)}function Rvt(i){switch(i){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function lT(i,t,e,n){var r=ef(i),a=r[pZ(e)](),o=r[EB(e)]()+1,s=Math.floor((o-1)/3)+1,l=r[CB(e)](),u=r["get"+(e?"UTC":"")+"Day"](),c=r[DB(e)](),f=(c-1)%12+1,h=r[RB(e)](),p=r[LB(e)](),g=r[IB(e)](),m=c>=12?"pm":"am",_=m.toUpperCase(),S=n instanceof yn?n:SP(n||dZ)||bvt(),T=S.getModel("time"),M=T.get("month"),w=T.get("monthAbbr"),D=T.get("dayOfWeek"),C=T.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,m+"").replace(/{A}/g,_+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Yo(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,M[o-1]).replace(/{MMM}/g,w[o-1]).replace(/{MM}/g,Yo(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Yo(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,D[u]).replace(/{ee}/g,C[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Yo(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Yo(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Yo(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,Yo(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,Yo(g,3)).replace(/{S}/g,g+"")}function Lvt(i,t,e,n,r){var a=null;if(le(e))a=e;else if(Te(e)){var o={time:i.time,level:i.time.level},s=Or();s&&s.makeAxisLabelFormatterParamBreak(o,i.break),a=e(i.value,t,o)}else{var l=i.time;if(l){var u=e[l.lowerTimeUnit][l.upperTimeUnit];a=u[Math.min(l.level,u.length-1)]||""}else{var c=w0(i.value,r);a=e[c][c][0]}}return lT(new Date(i.value),a,r,n)}function w0(i,t){var e=ef(i),n=e[EB(t)]()+1,r=e[CB(t)](),a=e[DB(t)](),o=e[RB(t)](),s=e[LB(t)](),l=e[IB(t)](),u=l===0,c=u&&s===0,f=c&&o===0,h=f&&a===0,p=h&&r===1,g=p&&n===1;return g?"year":p?"month":h?"day":f?"hour":c?"minute":u?"second":"millisecond"}function DC(i,t,e){switch(t){case"year":i[vZ(e)](0);case"month":i[gZ(e)](1);case"day":i[mZ(e)](0);case"hour":i[yZ(e)](0);case"minute":i[_Z(e)](0);case"second":i[SZ(e)](0)}return i}function pZ(i){return i?"getUTCFullYear":"getFullYear"}function EB(i){return i?"getUTCMonth":"getMonth"}function CB(i){return i?"getUTCDate":"getDate"}function DB(i){return i?"getUTCHours":"getHours"}function RB(i){return i?"getUTCMinutes":"getMinutes"}function LB(i){return i?"getUTCSeconds":"getSeconds"}function IB(i){return i?"getUTCMilliseconds":"getMilliseconds"}function Ivt(i){return i?"setUTCFullYear":"setFullYear"}function vZ(i){return i?"setUTCMonth":"setMonth"}function gZ(i){return i?"setUTCDate":"setDate"}function mZ(i){return i?"setUTCHours":"setHours"}function yZ(i){return i?"setUTCMinutes":"setMinutes"}function _Z(i){return i?"setUTCSeconds":"setSeconds"}function SZ(i){return i?"setUTCMilliseconds":"setMilliseconds"}function Nvt(i,t,e,n,r,a,o,s){var l=new wn({style:{text:i,font:t,align:e,verticalAlign:n,padding:r,rich:a,overflow:o?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function NB(i){if(!eB(i))return le(i)?i:"-";var t=(i+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function OB(i,t){return i=(i||"").toLowerCase().replace(/-(.)/g,function(e,n){return n.toUpperCase()}),t&&i&&(i=i.charAt(0).toUpperCase()+i.slice(1)),i}var N_=Jb;function bP(i,t,e){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function r(c){return c&&ks(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=t==="time",s=i instanceof Date;if(o||s){var l=o?ef(i):i;if(isNaN(+l)){if(s)return"-"}else return lT(l,n,e)}if(t==="ordinal")return uC(i)?r(i):En(i)&&a(i)?i+"":"-";var u=jc(i);return a(u)?NB(u):uC(i)?r(i):typeof i=="boolean"?i+"":"-"}var Kk=["a","b","c","d","e","f","g"],TI=function(i,t){return"{"+i+(t??"")+"}"};function PB(i,t,e){Vt(t)||(t=[t]);var n=t.length;if(!n)return"";for(var r=t[0].$vars||[],a=0;a<r.length;a++){var o=Kk[a];i=i.replace(TI(o),TI(o,0))}for(var s=0;s<n;s++)for(var l=0;l<r.length;l++){var u=t[s][r[l]];i=i.replace(TI(Kk[l],s),e?yo(u):u)}return i}function Ovt(i,t,e){return G(t,function(n,r){i=i.replace("{"+r+"}",n)}),i}function xZ(i,t){var e=le(i)?{color:i,extraCssText:t}:i||{},n=e.color,r=e.type;t=e.extraCssText;var a=e.renderMode||"html";if(!n)return"";if(a==="html")return r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+yo(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+yo(n)+";"+(t||"")+'"></span>';var o=e.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Pvt(i,t,e){(i==="week"||i==="month"||i==="quarter"||i==="half-year"||i==="year")&&(i=`MM-dd
yyyy`);var n=ef(t),r=e?"getUTC":"get",a=n[r+"FullYear"](),o=n[r+"Month"]()+1,s=n[r+"Date"](),l=n[r+"Hours"](),u=n[r+"Minutes"](),c=n[r+"Seconds"](),f=n[r+"Milliseconds"]();return i=i.replace("MM",Yo(o,2)).replace("M",o).replace("yyyy",a).replace("yy",Yo(a%100+"",2)).replace("dd",Yo(s,2)).replace("d",s).replace("hh",Yo(l,2)).replace("h",l).replace("mm",Yo(u,2)).replace("m",u).replace("ss",Yo(c,2)).replace("s",c).replace("SSS",Yo(f,3)),i}function zvt(i){return i&&i.charAt(0).toUpperCase()+i.substr(1)}function jg(i,t){return t=t||"transparent",le(i)?i:Le(i)&&i.colorStops&&(i.colorStops[0]||{}).color||t}function RC(i,t){if(t==="_blank"||t==="blank"){var e=window.open();e.opener=null,e.location.href=i}else window.open(i,t)}var sE={},MI={},O_=(function(){function i(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return i.prototype.create=function(t,e){this._nonSeriesBoxMasterList=n(sE),this._normalMasterList=n(MI);function n(r,a){var o=[];return G(r,function(s,l){var u=s.create(t,e);o=o.concat(u||[])}),o}},i.prototype.update=function(t,e){G(this._normalMasterList,function(n){n.update&&n.update(t,e)})},i.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},i.register=function(t,e){if(t==="matrix"||t==="calendar"){sE[t]=e;return}MI[t]=e},i.get=function(t){return MI[t]||sE[t]},i})();function Bvt(i){return!!sE[i]}var TP={coord:1,coord2:2};function Uvt(i){bZ.set(i.fullType,{getCoord2:void 0}).getCoord2=i.getCoord2}var bZ=ye();function Vvt(i){var t=i.getShallow("coord",!0),e=TP.coord;if(t==null){var n=bZ.get(i.type);n&&n.getCoord2&&(e=TP.coord2,t=n.getCoord2(i))}return{coord:t,from:e}}var Nc={none:0,dataCoordSys:1,boxCoordSys:2};function TZ(i,t){var e=i.getShallow("coordinateSystem"),n=i.getShallow("coordinateSystemUsage",!0),r=Nc.none;if(e){var a=i.mainType==="series";n==null&&(n=a?"data":"box"),n==="data"?(r=Nc.dataCoordSys,a||(r=Nc.none)):n==="box"&&(r=Nc.boxCoordSys,!a&&!Bvt(e)&&(r=Nc.none))}return{coordSysType:e,kind:r}}function uT(i){var t=i.targetModel,e=i.coordSysType,n=i.coordSysProvider,r=i.isDefaultDataCoordSys;i.allowNotFound;var a=TZ(t),o=a.kind,s=a.coordSysType;if(r&&o!==Nc.dataCoordSys&&(o=Nc.dataCoordSys,s=e),o===Nc.none||s!==e)return!1;var l=n(e,t);return l?(o===Nc.dataCoordSys?t.coordinateSystem=l:t.boxCoordinateSystem=l,!0):!1}var MZ=function(i,t){var e=t.getReferringComponents(i,$i).models[0];return e&&e.coordinateSystem},lE=G,AZ=["left","right","top","bottom","width","height"],xg=[["width","left","right"],["height","top","bottom"]];function zB(i,t,e,n,r){var a=0,o=0;n==null&&(n=1/0),r==null&&(r=1/0);var s=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),f=t.childAt(u+1),h=f&&f.getBoundingRect(),p,g;if(i==="horizontal"){var m=c.width+(h?-h.x+c.x:0);p=a+m,p>n||l.newline?(a=0,p=m,o+=s+e,s=c.height):s=Math.max(s,c.height)}else{var _=c.height+(h?-h.y+c.y:0);g=o+_,g>r||l.newline?(a+=s+e,o=0,g=_,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),i==="horizontal"?a=p+e:o=g+e)})}var Lg=zB;Qe(zB,"vertical");Qe(zB,"horizontal");function wZ(i,t){return{left:i.getShallow("left",t),top:i.getShallow("top",t),right:i.getShallow("right",t),bottom:i.getShallow("bottom",t),width:i.getShallow("width",t),height:i.getShallow("height",t)}}function Hvt(i,t){var e=jr(i,t,{enableLayoutOnlyByCenter:!0}),n=i.getBoxLayoutParams(),r,a;if(e.type===y1.point)a=e.refPoint,r=Bi(n,{width:t.getWidth(),height:t.getHeight()});else{var o=i.get("center"),s=Vt(o)?o:[o,o];r=Bi(n,e.refContainer),a=e.boxCoordFrom===TP.coord2?e.refPoint:[se(s[0],r.width)+r.x,se(s[1],r.height)+r.y]}return{viewRect:r,center:a}}function EZ(i,t){var e=Hvt(i,t),n=e.viewRect,r=e.center,a=i.get("radius");Vt(a)||(a=[0,a]);var o=se(n.width,t.getWidth()),s=se(n.height,t.getHeight()),l=Math.min(o,s),u=se(a[0],l/2),c=se(a[1],l/2);return{cx:r[0],cy:r[1],r0:u,r:c,viewRect:n}}function Bi(i,t,e){e=N_(e||0);var n=t.width,r=t.height,a=se(i.left,n),o=se(i.top,r),s=se(i.right,n),l=se(i.bottom,r),u=se(i.width,n),c=se(i.height,r),f=e[2]+e[0],h=e[1]+e[3],p=i.aspect;switch(isNaN(u)&&(u=n-s-h-a),isNaN(c)&&(c=r-l-f-o),p!=null&&(isNaN(u)&&isNaN(c)&&(p>n/r?u=n*.8:c=r*.8),isNaN(u)&&(u=p*c),isNaN(c)&&(c=u/p)),isNaN(a)&&(a=n-s-u-h),isNaN(o)&&(o=r-l-c-f),i.left||i.right){case"center":a=n/2-u/2-e[3];break;case"right":a=n-u-h;break}switch(i.top||i.bottom){case"middle":case"center":o=r/2-c/2-e[0];break;case"bottom":o=r-c-f;break}a=a||0,o=o||0,isNaN(u)&&(u=n-h-a-(s||0)),isNaN(c)&&(c=r-f-o-(l||0));var g=new Oe((t.x||0)+a+e[3],(t.y||0)+o+e[0],u,c);return g.margin=e,g}function CZ(i,t,e){var n=i.getShallow("preserveAspect",!0);if(!n)return t;var r=t.width/t.height;if(Math.abs(Math.atan(e)-Math.atan(r))<1e-9)return t;var a=i.getShallow("preserveAspectAlign",!0),o=i.getShallow("preserveAspectVerticalAlign",!0),s={width:t.width,height:t.height},l=n==="cover";return r>e&&!l||r<e&&l?(s.width=t.height*e,a==="left"?s.left=0:a==="right"?s.right=0:s.left="center"):(s.height=t.width/e,o==="top"?s.top=0:o==="bottom"?s.bottom=0:s.top="middle"),Bi(s,t)}var y1={rect:1,point:2};function jr(i,t,e){var n,r,a,o=i.boxCoordinateSystem,s;if(o){var l=Vvt(i),u=l.coord,c=l.from;if(o.dataToLayout){a=y1.rect,s=c;var f=o.dataToLayout(u);n=f.contentRect||f.rect}else e&&e.enableLayoutOnlyByCenter&&o.dataToPoint&&(a=y1.point,s=c,r=o.dataToPoint(u))}return a==null&&(a=y1.rect),a===y1.rect&&(n||(n={x:0,y:0,width:t.getWidth(),height:t.getHeight()}),r=[n.x+n.width/2,n.y+n.height/2]),{type:a,refContainer:n,refPoint:r,boxCoordFrom:s}}function TD(i,t,e,n,r,a){var o=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if(a=a||i,a.x=i.x,a.y=i.y,!o&&!s)return!1;var u;if(l==="raw")u=i.type==="group"?new Oe(0,0,+t.width||0,+t.height||0):i.getBoundingRect();else if(u=i.getBoundingRect(),i.needLocalTransform()){var c=i.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=Bi(Re({width:u.width,height:u.height},t),e,n),h=o?f.x-u.x:0,p=s?f.y-u.y:0;return l==="raw"?(a.x=h,a.y=p):(a.x+=h,a.y+=p),a===i&&i.markRedraw(),!0}function kvt(i,t){return i[xg[t][0]]!=null||i[xg[t][1]]!=null&&i[xg[t][2]]!=null}function Sb(i){var t=i.layoutMode||i.constructor.layoutMode;return Le(t)?t:t?{type:t}:null}function Qc(i,t,e){var n=e&&e.ignoreSize;!Vt(n)&&(n=[n,n]);var r=o(xg[0],0),a=o(xg[1],1);l(xg[0],i,r),l(xg[1],i,a);function o(u,c){var f={},h=0,p={},g=0,m=2;if(lE(u,function(T){p[T]=i[T]}),lE(u,function(T){ge(t,T)&&(f[T]=p[T]=t[T]),s(f,T)&&h++,s(p,T)&&g++}),n[c])return s(t,u[1])?p[u[2]]=null:s(t,u[2])&&(p[u[1]]=null),p;if(g===m||!h)return p;if(h>=m)return f;for(var _=0;_<u.length;_++){var S=u[_];if(!ge(f,S)&&ge(i,S)){f[S]=i[S];break}}return f}function s(u,c){return u[c]!=null&&u[c]!=="auto"}function l(u,c,f){lE(u,function(h){c[h]=f[h]})}}function om(i){return DZ({},i)}function DZ(i,t){return t&&i&&lE(AZ,function(e){ge(t,e)&&(i[e]=t[e])}),i}var Fvt=gn(),pn=(function(i){ht(t,i);function t(e,n,r){var a=i.call(this,e,n,r)||this;return a.uid=I_("ec_cpt_model"),a}return t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r)},t.prototype.mergeDefaultAndTheme=function(e,n){var r=Sb(this),a=r?om(e):{},o=n.getTheme();en(e,o.get(this.mainType)),en(e,this.getDefaultOption()),r&&Qc(e,a,r)},t.prototype.mergeOption=function(e,n){en(this.option,e,!0);var r=Sb(this);r&&Qc(this.option,e,r)},t.prototype.optionUpdated=function(e,n){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!Tdt(e))return e.defaultOption;var n=Fvt(this);if(!n.defaultOption){for(var r=[],a=e;a;){var o=a.prototype.defaultOption;o&&r.push(o),a=a.superClass}for(var s={},l=r.length-1;l>=0;l--)s=en(s,r[l],!0);n.defaultOption=s}return n.defaultOption},t.prototype.getReferringComponents=function(e,n){var r=e+"Index",a=e+"Id";return A_(this.ecModel,e,{index:this.get(r,!0),id:this.get(a,!0)},n)},t.prototype.getBoxLayoutParams=function(){return wZ(this,!1)},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=(function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0})(),t})(yn);Mq(pn,yn);hD(pn);mvt(pn);yvt(pn,Gvt);function Gvt(i){var t=[];return G(pn.getClassesByMainType(i),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=kt(t,function(e){return Bc(e).main}),i!=="dataset"&&tn(t,"dataset")<=0&&t.unshift("dataset"),t}var vt={color:{},darkColor:{},size:{}},yr=vt.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};Rt(yr,{primary:yr.neutral80,secondary:yr.neutral70,tertiary:yr.neutral60,quaternary:yr.neutral50,disabled:yr.neutral20,border:yr.neutral30,borderTint:yr.neutral20,borderShade:yr.neutral40,background:yr.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:yr.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:yr.neutral70,axisLineTint:yr.neutral40,axisTick:yr.neutral70,axisTickMinor:yr.neutral60,axisLabel:yr.neutral70,axisSplitLine:yr.neutral15,axisMinorSplitLine:yr.neutral05});for(var Gv in yr)if(yr.hasOwnProperty(Gv)){var Qk=yr[Gv];Gv==="theme"?vt.darkColor.theme=yr.theme.slice():Gv==="highlight"?vt.darkColor.highlight="rgba(255,231,130,0.4)":Gv.indexOf("accent")===0?vt.darkColor[Gv]=ch(Qk,null,function(i){return i*.5},function(i){return Math.min(1,1.3-i)}):vt.darkColor[Gv]=ch(Qk,null,function(i){return i*.9},function(i){return 1-Math.pow(i,1.5)})}vt.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var RZ="";typeof navigator<"u"&&(RZ=navigator.platform||"");var Ky="rgba(0, 0, 0, 0.2)",LZ=vt.color.theme[0],Xvt=ch(LZ,null,null,.9);const Wvt={darkMode:"auto",colorBy:"series",color:vt.color.theme,gradientColor:[Xvt,LZ],aria:{decal:{decals:[{color:Ky,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Ky,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Ky,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Ky,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Ky,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Ky,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:RZ.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var IZ=ye(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Zs="original",Na="arrayRows",js="objectRows",Bu="keyedColumns",tp="typedArray",NZ="unknown",Du="column",sm="row",Ga={Must:1,Might:2,Not:3},OZ=gn();function Yvt(i){OZ(i).datasetMap=ye()}function PZ(i,t,e){var n={},r=UB(t);if(!r||!i)return n;var a=[],o=[],s=t.ecModel,l=OZ(s).datasetMap,u=r.uid+"_"+e.seriesLayoutBy,c,f;i=i.slice(),G(i,function(m,_){var S=Le(m)?m:i[_]={name:m};S.type==="ordinal"&&c==null&&(c=_,f=g(S)),n[S.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});G(i,function(m,_){var S=m.name,T=g(m);if(c==null){var M=h.valueWayDim;p(n[S],M,T),p(o,M,T),h.valueWayDim+=T}else if(c===_)p(n[S],0,T),p(a,0,T);else{var M=h.categoryWayDim;p(n[S],M,T),p(o,M,T),h.categoryWayDim+=T}});function p(m,_,S){for(var T=0;T<S;T++)m.push(_+T)}function g(m){var _=m.dimsDef;return _?_.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function BB(i,t,e){var n={},r=UB(i);if(!r)return n;var a=t.sourceFormat,o=t.dimensionsDefine,s;(a===js||a===Bu)&&G(o,function(c,f){(Le(c)?c.name:c)==="name"&&(s=f)});var l=(function(){for(var c={},f={},h=[],p=0,g=Math.min(5,e);p<g;p++){var m=BZ(t.data,a,t.seriesLayoutBy,o,t.startIndex,p);h.push(m);var _=m===Ga.Not;if(_&&c.v==null&&p!==s&&(c.v=p),(c.n==null||c.n===c.v||!_&&h[c.n]===Ga.Not)&&(c.n=p),S(c)&&h[c.n]!==Ga.Not)return c;_||(m===Ga.Might&&f.v==null&&p!==s&&(f.v=p),(f.n==null||f.n===f.v)&&(f.n=p))}function S(T){return T.v!=null&&T.n!=null}return S(c)?c:S(f)?f:null})();if(l){n.value=[l.v];var u=s??l.n;n.itemName=[u],n.seriesName=[u]}return n}function UB(i){var t=i.get("data",!0);if(!t)return A_(i.ecModel,"dataset",{index:i.get("datasetIndex",!0),id:i.get("datasetId",!0)},$i).models[0]}function qvt(i){return!i.get("transform",!0)&&!i.get("fromTransformResult",!0)?[]:A_(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},$i).models}function zZ(i,t){return BZ(i.data,i.sourceFormat,i.seriesLayoutBy,i.dimensionsDefine,i.startIndex,t)}function BZ(i,t,e,n,r,a){var o,s=5;if(Qo(i))return Ga.Not;var l,u;if(n){var c=n[a];Le(c)?(l=c.name,u=c.type):le(c)&&(l=c)}if(u!=null)return u==="ordinal"?Ga.Must:Ga.Not;if(t===Na){var f=i;if(e===sm){for(var h=f[a],p=0;p<(h||[]).length&&p<s;p++)if((o=w(h[r+p]))!=null)return o}else for(var p=0;p<f.length&&p<s;p++){var g=f[r+p];if(g&&(o=w(g[a]))!=null)return o}}else if(t===js){var m=i;if(!l)return Ga.Not;for(var p=0;p<m.length&&p<s;p++){var _=m[p];if(_&&(o=w(_[l]))!=null)return o}}else if(t===Bu){var S=i;if(!l)return Ga.Not;var h=S[l];if(!h||Qo(h))return Ga.Not;for(var p=0;p<h.length&&p<s;p++)if((o=w(h[p]))!=null)return o}else if(t===Zs)for(var T=i,p=0;p<T.length&&p<s;p++){var _=T[p],M=M_(_);if(!Vt(M))return Ga.Not;if((o=w(M[a]))!=null)return o}function w(D){var C=le(D);if(D!=null&&Number.isFinite(Number(D))&&D!=="")return C?Ga.Might:Ga.Not;if(C&&D!=="-")return Ga.Must}return Ga.Not}var MP=ye();function Zvt(i,t){ja(MP.get(i)==null&&t),MP.set(i,t)}function jvt(i,t,e){var n=MP.get(t);if(!n)return e;var r=n(i);return r?e.concat(r):e}var Jk=gn(),Kvt=gn(),VB=(function(){function i(){}return i.prototype.getColorFromPalette=function(t,e,n){var r=bi(this.get("color",!0)),a=this.get("colorLayer",!0);return UZ(this,Jk,r,a,t,e,n)},i.prototype.clearColorPalette=function(){Jvt(this,Jk)},i})();function AP(i,t,e,n){var r=bi(i.get(["aria","decal","decals"]));return UZ(i,Kvt,r,null,t,e,n)}function Qvt(i,t){for(var e=i.length,n=0;n<e;n++)if(i[n].length>t)return i[n];return i[e-1]}function UZ(i,t,e,n,r,a,o){a=a||i;var s=t(a),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var c=o==null||!n?e:Qvt(n,o);if(c=c||e,!(!c||!c.length)){var f=c[l];return r&&(u[r]=f),s.paletteIdx=(l+1)%c.length,f}}function Jvt(i,t){t(i).paletteIdx=0,t(i).paletteNameMap={}}var JA,Bx,$k,tF="\0_ec_inner",$vt=1,HB=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(e,n,r,a,o,s){a=a||{},this.option=null,this._theme=new yn(a),this._locale=new yn(o),this._optionManager=s},t.prototype.setOption=function(e,n,r){var a=iF(n);this._optionManager.setOption(e,r,a),this._resetOption(null,a)},t.prototype.resetOption=function(e,n){return this._resetOption(e,iF(n))},t.prototype._resetOption=function(e,n){var r=!1,a=this._optionManager;if(!e||e==="recreate"){var o=a.mountOption(e==="recreate");!this.option||e==="recreate"?$k(this,o):(this.restoreData(),this._mergeOption(o,n)),r=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var s=a.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,n))}if(!e||e==="recreate"||e==="media"){var l=a.getMediaOption(this);l.length&&G(l,function(u){r=!0,this._mergeOption(u,n)},this)}return r},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,n){var r=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=ye(),u=n&&n.replaceMergeMainTypeMap;Yvt(this),G(e,function(f,h){f!=null&&(pn.hasClass(h)?h&&(s.push(h),l.set(h,!0)):r[h]=r[h]==null?Ee(f):en(r[h],f,!0))}),u&&u.each(function(f,h){pn.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),pn.topologicalTravel(s,pn.getAllClassMainTypes(),c,this);function c(f){var h=jvt(this,f,bi(e[f])),p=a.get(f),g=p?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",m=_q(p,h,g);pdt(m,f,pn),r[f]=null,a.set(f,null),o.set(f,0);var _=[],S=[],T=0,M;G(m,function(w,D){var C=w.existing,R=w.newOption;if(!R)C&&(C.mergeOption({},this),C.optionUpdated({},!1));else{var z=f==="series",N=pn.getClass(f,w.keyInfo.subType,!z);if(!N)return;if(f==="tooltip"){if(M)return;M=!0}if(C&&C.constructor===N)C.name=w.keyInfo.name,C.mergeOption(R,this),C.optionUpdated(R,!1);else{var O=Rt({componentIndex:D},w.keyInfo);C=new N(R,this,this,O),Rt(C,O),w.brandNew&&(C.__requireNewView=!0),C.init(R,this,this),C.optionUpdated(null,!0)}}C?(_.push(C.option),S.push(C),T++):(_.push(void 0),S.push(void 0))},this),r[f]=_,a.set(f,S),o.set(f,T),f==="series"&&JA(this)}this._seriesIndices||JA(this)},t.prototype.getOption=function(){var e=Ee(this.option);return G(e,function(n,r){if(pn.hasClass(r)){for(var a=bi(n),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!vb(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,e[r]=a}}),delete e[tF],e},t.prototype.setTheme=function(e){this._theme=new yn(e),this._resetOption("recreate",null)},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,n){var r=this._componentsMap.get(e);if(r){var a=r[n||0];if(a)return a;if(n==null){for(var o=0;o<r.length;o++)if(r[o])return r[o]}}},t.prototype.queryComponents=function(e){var n=e.mainType;if(!n)return[];var r=e.index,a=e.id,o=e.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var l;return r!=null?(l=[],G(bi(r),function(u){s[u]&&l.push(s[u])})):a!=null?l=eF("id",a,s):o!=null?l=eF("name",o,s):l=Gn(s,function(u){return!!u}),nF(l,e)},t.prototype.findComponents=function(e){var n=e.query,r=e.mainType,a=s(n),o=a?this.queryComponents(a):Gn(this._componentsMap.get(r),function(u){return!!u});return l(nF(o,e));function s(u){var c=r+"Index",f=r+"Id",h=r+"Name";return u&&(u[c]!=null||u[f]!=null||u[h]!=null)?{mainType:r,index:u[c],id:u[f],name:u[h]}:null}function l(u){return e.filter?Gn(u,e.filter):u}},t.prototype.eachComponent=function(e,n,r){var a=this._componentsMap;if(Te(e)){var o=n,s=e;a.each(function(f,h){for(var p=0;f&&p<f.length;p++){var g=f[p];g&&s.call(o,h,g,g.componentIndex)}})}else for(var l=le(e)?a.get(e):Le(e)?this.findComponents(e):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(r,c,c.componentIndex)}},t.prototype.getSeriesByName=function(e){var n=Yr(e,null);return Gn(this._componentsMap.get("series"),function(r){return!!r&&n!=null&&r.name===n})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Gn(this._componentsMap.get("series"),function(n){return!!n&&n.subType===e})},t.prototype.getSeries=function(){return Gn(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,n){Bx(this),G(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];e.call(n,a,r)},this)},t.prototype.eachRawSeries=function(e,n){G(this._componentsMap.get("series"),function(r){r&&e.call(n,r,r.componentIndex)})},t.prototype.eachSeriesByType=function(e,n,r){Bx(this),G(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===e&&n.call(r,o,a)},this)},t.prototype.eachRawSeriesByType=function(e,n,r){return G(this.getSeriesByType(e),n,r)},t.prototype.isSeriesFiltered=function(e){return Bx(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,n){Bx(this);var r=[];G(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];e.call(n,o,a)&&r.push(a)},this),this._seriesIndices=r,this._seriesIndicesMap=ye(r)},t.prototype.restoreData=function(e){JA(this);var n=this._componentsMap,r=[];n.each(function(a,o){pn.hasClass(o)&&r.push(o)}),pn.topologicalTravel(r,pn.getAllClassMainTypes(),function(a){G(n.get(a),function(o){o&&(a!=="series"||!tgt(o,e))&&o.restoreData()})})},t.internalField=(function(){JA=function(e){var n=e._seriesIndices=[];G(e._componentsMap.get("series"),function(r){r&&n.push(r.componentIndex)}),e._seriesIndicesMap=ye(n)},Bx=function(e){},$k=function(e,n){e.option={},e.option[tF]=$vt,e._componentsMap=ye({series:[]}),e._componentsCount=ye();var r=n.aria;Le(r)&&r.enabled==null&&(r.enabled=!0),egt(n,e._theme.option),en(n,Wvt,!1),e._mergeOption(n,null)}})(),t})(yn);function tgt(i,t){if(t){var e=t.seriesIndex,n=t.seriesId,r=t.seriesName;return e!=null&&i.componentIndex!==e||n!=null&&i.id!==n||r!=null&&i.name!==r}}function egt(i,t){var e=i.color&&!i.colorLayer;G(t,function(n,r){r==="colorLayer"&&e||r==="color"&&i.color||pn.hasClass(r)||(typeof n=="object"?i[r]=i[r]?en(i[r],n,!1):Ee(n):i[r]==null&&(i[r]=n))})}function eF(i,t,e){if(Vt(t)){var n=ye();return G(t,function(a){if(a!=null){var o=Yr(a,null);o!=null&&n.set(a,!0)}}),Gn(e,function(a){return a&&n.get(a[i])})}else{var r=Yr(t,null);return Gn(e,function(a){return a&&r!=null&&a[i]===r})}}function nF(i,t){return t.hasOwnProperty("subType")?Gn(i,function(e){return e&&e.subType===t.subType}):i}function iF(i){var t=ye();return i&&G(bi(i.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}fr(HB,VB);var ngt=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],VZ=(function(){function i(t){G(ngt,function(e){this[e]=ue(t[e],t)},this)}return i})(),igt=/^(min|max)?(.+)$/,rgt=(function(){function i(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return i.prototype.setOption=function(t,e,n){t&&(G(bi(t.series),function(o){o&&o.data&&Qo(o.data)&&lb(o.data)}),G(bi(t.dataset),function(o){o&&o.source&&Qo(o.source)&&lb(o.source)})),t=Ee(t);var r=this._optionBackup,a=agt(t,e,!r);this._newBaseOption=a.baseOption,r?(a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},i.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Ee(t?e.baseOption:this._newBaseOption)},i.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=Ee(n[r.getCurrentIndex()]))}return e},i.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!r.length&&!a)return s;for(var l=0,u=r.length;l<u;l++)ogt(r[l].query,e,n)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!lgt(o,this._currentMediaIndices)&&(s=kt(o,function(c){return Ee(c===-1?a.option:r[c].option)})),this._currentMediaIndices=o,s},i})();function agt(i,t,e){var n=[],r,a,o=i.baseOption,s=i.timeline,l=i.options,u=i.media,c=!!i.media,f=!!(l||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((f||c)&&(i.options=i.media=null),a=i),c&&Vt(u)&&G(u,function(p){p&&p.option&&(p.query?n.push(p):r||(r=p))}),h(a),G(l,function(p){return h(p)}),G(n,function(p){return h(p.option)});function h(p){G(t,function(g){g(p,e)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:r,mediaList:n}}function ogt(i,t,e){var n={width:t,height:e,aspectratio:t/e},r=!0;return G(i,function(a,o){var s=o.match(igt);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();sgt(n[u],a,l)||(r=!1)}}),r}function sgt(i,t,e){return e==="min"?i>=t:e==="max"?i<=t:i===t}function lgt(i,t){return i.join(",")===t.join(",")}var vu=G,xb=Le,rF=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function AI(i){var t=i&&i.itemStyle;if(t)for(var e=0,n=rF.length;e<n;e++){var r=rF[e],a=t.normal,o=t.emphasis;a&&a[r]&&(i[r]=i[r]||{},i[r].normal?en(i[r].normal,a[r]):i[r].normal=a[r],a[r]=null),o&&o[r]&&(i[r]=i[r]||{},i[r].emphasis?en(i[r].emphasis,o[r]):i[r].emphasis=o[r],o[r]=null)}}function mo(i,t,e){if(i&&i[t]&&(i[t].normal||i[t].emphasis)){var n=i[t].normal,r=i[t].emphasis;n&&(e?(i[t].normal=i[t].emphasis=null,Re(i[t],n)):i[t]=n),r&&(i.emphasis=i.emphasis||{},i.emphasis[t]=r,r.focus&&(i.emphasis.focus=r.focus),r.blurScope&&(i.emphasis.blurScope=r.blurScope))}}function _1(i){mo(i,"itemStyle"),mo(i,"lineStyle"),mo(i,"areaStyle"),mo(i,"label"),mo(i,"labelLine"),mo(i,"upperLabel"),mo(i,"edgeLabel")}function Lr(i,t){var e=xb(i)&&i[t],n=xb(e)&&e.textStyle;if(n)for(var r=0,a=sk.length;r<a;r++){var o=sk[r];n.hasOwnProperty(o)&&(e[o]=n[o])}}function Ml(i){i&&(_1(i),Lr(i,"label"),i.emphasis&&Lr(i.emphasis,"label"))}function ugt(i){if(xb(i)){AI(i),_1(i),Lr(i,"label"),Lr(i,"upperLabel"),Lr(i,"edgeLabel"),i.emphasis&&(Lr(i.emphasis,"label"),Lr(i.emphasis,"upperLabel"),Lr(i.emphasis,"edgeLabel"));var t=i.markPoint;t&&(AI(t),Ml(t));var e=i.markLine;e&&(AI(e),Ml(e));var n=i.markArea;n&&Ml(n);var r=i.data;if(i.type==="graph"){r=r||i.nodes;var a=i.links||i.edges;if(a&&!Qo(a))for(var o=0;o<a.length;o++)Ml(a[o]);G(i.categories,function(u){_1(u)})}if(r&&!Qo(r))for(var o=0;o<r.length;o++)Ml(r[o]);if(t=i.markPoint,t&&t.data)for(var s=t.data,o=0;o<s.length;o++)Ml(s[o]);if(e=i.markLine,e&&e.data)for(var l=e.data,o=0;o<l.length;o++)Vt(l[o])?(Ml(l[o][0]),Ml(l[o][1])):Ml(l[o]);i.type==="gauge"?(Lr(i,"axisLabel"),Lr(i,"title"),Lr(i,"detail")):i.type==="treemap"?(mo(i.breadcrumb,"itemStyle"),G(i.levels,function(u){_1(u)})):i.type==="tree"&&_1(i.leaves)}}function Xf(i){return Vt(i)?i:i?[i]:[]}function aF(i){return(Vt(i)?i[0]:i)||{}}function cgt(i,t){vu(Xf(i.series),function(n){xb(n)&&ugt(n)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),vu(e,function(n){vu(Xf(i[n]),function(r){r&&(Lr(r,"axisLabel"),Lr(r.axisPointer,"label"))})}),vu(Xf(i.parallel),function(n){var r=n&&n.parallelAxisDefault;Lr(r,"axisLabel"),Lr(r&&r.axisPointer,"label")}),vu(Xf(i.calendar),function(n){mo(n,"itemStyle"),Lr(n,"dayLabel"),Lr(n,"monthLabel"),Lr(n,"yearLabel")}),vu(Xf(i.radar),function(n){Lr(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),vu(Xf(i.geo),function(n){xb(n)&&(Ml(n),vu(Xf(n.regions),function(r){Ml(r)}))}),vu(Xf(i.timeline),function(n){Ml(n),mo(n,"label"),mo(n,"itemStyle"),mo(n,"controlStyle",!0);var r=n.data;Vt(r)&&G(r,function(a){Le(a)&&(mo(a,"label"),mo(a,"itemStyle"))})}),vu(Xf(i.toolbox),function(n){mo(n,"iconStyle"),vu(n.feature,function(r){mo(r,"iconStyle")})}),Lr(aF(i.axisPointer),"label"),Lr(aF(i.tooltip).axisPointer,"label")}function fgt(i,t){for(var e=t.split(","),n=i,r=0;r<e.length&&(n=n&&n[e[r]],n!=null);r++);return n}function hgt(i,t,e,n){for(var r=t.split(","),a=i,o,s=0;s<r.length-1;s++)o=r[s],a[o]==null&&(a[o]={}),a=a[o];a[r[s]]==null&&(a[r[s]]=e)}function oF(i){i&&G(dgt,function(t){t[0]in i&&!(t[1]in i)&&(i[t[1]]=i[t[0]])})}var dgt=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],pgt=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],wI=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Ux(i){var t=i&&i.itemStyle;if(t)for(var e=0;e<wI.length;e++){var n=wI[e][1],r=wI[e][0];t[n]!=null&&(t[r]=t[n])}}function sF(i){i&&i.alignTo==="edge"&&i.margin!=null&&i.edgeDistance==null&&(i.edgeDistance=i.margin)}function lF(i){i&&i.downplay&&!i.blur&&(i.blur=i.downplay)}function vgt(i){i&&i.focusNodeAdjacency!=null&&(i.emphasis=i.emphasis||{},i.emphasis.focus==null&&(i.emphasis.focus="adjacency"))}function HZ(i,t){if(i)for(var e=0;e<i.length;e++)t(i[e]),i[e]&&HZ(i[e].children,t)}function kZ(i,t){cgt(i,t),i.series=bi(i.series),G(i.series,function(e){if(Le(e)){var n=e.type;if(n==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(n==="pie"||n==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),sF(e.label);var r=e.data;if(r&&!Qo(r))for(var a=0;a<r.length;a++)sF(r[a]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(n==="gauge"){var o=fgt(e,"pointer.color");o!=null&&hgt(e,"itemStyle.color",o)}else if(n==="bar"){Ux(e),Ux(e.backgroundStyle),Ux(e.emphasis);var r=e.data;if(r&&!Qo(r))for(var a=0;a<r.length;a++)typeof r[a]=="object"&&(Ux(r[a]),Ux(r[a]&&r[a].emphasis))}else if(n==="sunburst"){var s=e.highlightPolicy;s&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),lF(e),HZ(e.data,lF)}else n==="graph"||n==="sankey"?vgt(e):n==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Re(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),oF(e)}}),i.dataRange&&(i.visualMap=i.dataRange),G(pgt,function(e){var n=i[e];n&&(Vt(n)||(n=[n]),G(n,function(r){oF(r)}))})}function ggt(i){var t=ye();i.eachSeries(function(e){var n=e.get("stack");if(n){var r=t.get(n)||t.set(n,[]),a=e.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;r.push(o)}}),t.each(function(e){if(e.length!==0){var n=e[0].seriesModel,r=n.get("stackOrder")||"seriesAsc";r==="seriesDesc"&&e.reverse(),G(e,function(a,o){a.data.setCalculationInfo("stackedOnSeries",o>0?e[o-1].seriesModel:null)}),mgt(e)}})}function mgt(i){G(i,function(t,e){var n=[],r=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(u,c,f){var h=o.get(t.stackedDimension,f);if(isNaN(h))return r;var p,g;s?g=o.getRawIndex(f):p=o.get(t.stackedByDimension,f);for(var m=NaN,_=e-1;_>=0;_--){var S=i[_];if(s||(g=S.data.rawIndexOf(S.stackedByDimension,p)),g>=0){var T=S.data.getByRawIndex(S.stackResultDimension,g);if(l==="all"||l==="positive"&&T>0||l==="negative"&&T<0||l==="samesign"&&h>=0&&T>0||l==="samesign"&&h<=0&&T<0){h=edt(h,T),m=T;break}}}return n[0]=h,n[1]=m,n})})}var MD=(function(){function i(t){this.data=t.data||(t.sourceFormat===Bu?{}:[]),this.sourceFormat=t.sourceFormat||NZ,this.seriesLayoutBy=t.seriesLayoutBy||Du,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var r=e[n];r.type==null&&zZ(this,n)===Ga.Must&&(r.type="ordinal")}}return i})();function kB(i){return i instanceof MD}function wP(i,t,e){e=e||FZ(i);var n=t.seriesLayoutBy,r=_gt(i,e,n,t.sourceHeader,t.dimensions),a=new MD({data:i,sourceFormat:e,seriesLayoutBy:n,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Ee(t)});return a}function FB(i){return new MD({data:i,sourceFormat:Qo(i)?tp:Zs})}function ygt(i){return new MD({data:i.data,sourceFormat:i.sourceFormat,seriesLayoutBy:i.seriesLayoutBy,dimensionsDefine:Ee(i.dimensionsDefine),startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount})}function FZ(i){var t=NZ;if(Qo(i))t=tp;else if(Vt(i)){i.length===0&&(t=Na);for(var e=0,n=i.length;e<n;e++){var r=i[e];if(r!=null){if(Vt(r)||Qo(r)){t=Na;break}else if(Le(r)){t=js;break}}}}else if(Le(i)){for(var a in i)if(ge(i,a)&&Za(i[a])){t=Bu;break}}return t}function _gt(i,t,e,n,r){var a,o;if(!i)return{dimensionsDefine:uF(r),startIndex:o,dimensionsDetectedCount:a};if(t===Na){var s=i;n==="auto"||n==null?cF(function(u){u!=null&&u!=="-"&&(le(u)?o==null&&(o=1):o=0)},e,s,10):o=En(n)?n:n?1:0,!r&&o===1&&(r=[],cF(function(u,c){r[c]=u!=null?u+"":""},e,s,1/0)),a=r?r.length:e===sm?s.length:s[0]?s[0].length:null}else if(t===js)r||(r=Sgt(i));else if(t===Bu)r||(r=[],G(i,function(u,c){r.push(c)}));else if(t===Zs){var l=M_(i[0]);a=Vt(l)&&l.length||1}return{startIndex:o,dimensionsDefine:uF(r),dimensionsDetectedCount:a}}function Sgt(i){for(var t=0,e;t<i.length&&!(e=i[t++]););if(e)return Tn(e)}function uF(i){if(i){var t=ye();return kt(i,function(e,n){e=Le(e)?e:{name:e};var r={name:e.name,displayName:e.displayName,type:e.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var a=t.get(r.name);return a?r.name+="-"+a.count++:t.set(r.name,{count:1}),r})}}function cF(i,t,e,n){if(t===sm)for(var r=0;r<e.length&&r<n;r++)i(e[r]?e[r][0]:null,r);else for(var a=e[0]||[],r=0;r<a.length&&r<n;r++)i(a[r],r)}function GZ(i){var t=i.sourceFormat;return t===js||t===Bu}var Xv,Wv,Yv,qv,fF,hF,XZ=(function(){function i(t,e){var n=kB(t)?t:FB(t);this._source=n;var r=this._data=n.data,a=n.sourceFormat;n.seriesLayoutBy,a===tp&&(this._offset=0,this._dimSize=e,this._data=r),hF(this,r,n)}return i.prototype.getSource=function(){return this._source},i.prototype.count=function(){return 0},i.prototype.getItem=function(t,e){},i.prototype.appendData=function(t){},i.prototype.clean=function(){},i.protoInitialize=(function(){var t=i.prototype;t.pure=!1,t.persistent=!0})(),i.internalField=(function(){var t;hF=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,h=l.dimensionsDefine,p=fF[GB(u,c)];if(Rt(o,p),u===tp)o.getItem=e,o.count=r,o.fillStorage=n;else{var g=WZ(u,c);o.getItem=ue(g,null,s,f,h);var m=YZ(u,c);o.count=ue(m,null,s,f,h)}};var e=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},n=function(o,s,l,u){for(var c=this._data,f=this._dimSize,h=0;h<f;h++){for(var p=u[h],g=p[0]==null?1/0:p[0],m=p[1]==null?-1/0:p[1],_=s-o,S=l[h],T=0;T<_;T++){var M=c[T*f+h];S[o+T]=M,M<g&&(g=M),M>m&&(m=M)}p[0]=g,p[1]=m}},r=function(){return this._data?this._data.length/this._dimSize:0};fF=(t={},t[Na+"_"+Du]={pure:!0,appendData:a},t[Na+"_"+sm]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[js]={pure:!0,appendData:a},t[Bu]={pure:!0,appendData:function(o){var s=this._data;G(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},t[Zs]={appendData:a},t[tp]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}})(),i})(),$A=function(i){Vt(i)||gq("series.data or dataset.source must be an array.")};Xv={},Xv[Na+"_"+Du]=$A,Xv[Na+"_"+sm]=$A,Xv[js]=$A,Xv[Bu]=function(i,t){for(var e=0;e<t.length;e++){var n=t[e].name;n==null&&gq("dimension name must not be null/undefined.")}},Xv[Zs]=$A;var dF=function(i,t,e,n){return i[n]},xgt=(Wv={},Wv[Na+"_"+Du]=function(i,t,e,n){return i[n+t]},Wv[Na+"_"+sm]=function(i,t,e,n,r){n+=t;for(var a=r||[],o=i,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[n]:null}return a},Wv[js]=dF,Wv[Bu]=function(i,t,e,n,r){for(var a=r||[],o=0;o<e.length;o++){var s=e[o].name,l=s!=null?i[s]:null;a[o]=l?l[n]:null}return a},Wv[Zs]=dF,Wv);function WZ(i,t){var e=xgt[GB(i,t)];return e}var pF=function(i,t,e){return i.length},bgt=(Yv={},Yv[Na+"_"+Du]=function(i,t,e){return Math.max(0,i.length-t)},Yv[Na+"_"+sm]=function(i,t,e){var n=i[0];return n?Math.max(0,n.length-t):0},Yv[js]=pF,Yv[Bu]=function(i,t,e){var n=e[0].name,r=n!=null?i[n]:null;return r?r.length:0},Yv[Zs]=pF,Yv);function YZ(i,t){var e=bgt[GB(i,t)];return e}var EI=function(i,t,e){return i[t]},Tgt=(qv={},qv[Na]=EI,qv[js]=function(i,t,e){return i[e]},qv[Bu]=EI,qv[Zs]=function(i,t,e){var n=M_(i);return n instanceof Array?n[t]:n},qv[tp]=EI,qv);function qZ(i){var t=Tgt[i];return t}function GB(i,t){return i===Na?i+"_"+t:i}function a_(i,t,e){if(i){var n=i.getRawDataItem(t);if(n!=null){var r=i.getStore(),a=r.getSource().sourceFormat;if(e!=null){var o=i.getDimensionIndex(e),s=r.getDimensionProperty(o);return qZ(a)(n,o,s)}else{var l=n;return a===Zs&&(l=M_(n)),l}}}}var Mgt=/\{@(.+?)\}/g,AD=(function(){function i(){}return i.prototype.getDataParams=function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),a=n.getRawIndex(t),o=n.getName(t),s=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),u=l&&l[n.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,h=f==="series",p=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:a,data:s,dataType:e,value:r,color:u,borderColor:c,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},i.prototype.getFormattedLabel=function(t,e,n,r,a,o){e=e||"normal";var s=this.getData(n),l=this.getDataParams(t,n);if(o&&(l.value=o.interpolatedValue),r!=null&&Vt(l.value)&&(l.value=l.value[r]),!a){var u=s.getItemModel(t);a=u.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(Te(a))return l.status=e,l.dimensionIndex=r,a(l);if(le(a)){var c=PB(a,l);return c.replace(Mgt,function(f,h){var p=h.length,g=h;g.charAt(0)==="["&&g.charAt(p-1)==="]"&&(g=+g.slice(1,p-1));var m=a_(s,t,g);if(o&&Vt(o.interpolatedValue)){var _=s.getDimensionIndex(g);_>=0&&(m=o.interpolatedValue[_])}return m!=null?m+"":""})}},i.prototype.getRawValue=function(t,e){return a_(this.getData(e),t)},i.prototype.formatTooltip=function(t,e,n){},i})();function vF(i){var t,e;return Le(i)?i.type&&(e=i):t=i,{text:t,frag:e}}function Y1(i){return new Agt(i)}var Agt=(function(){function i(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return i.prototype.perform=function(t){var e=this._upstream,n=t&&t.skip;if(this._dirty&&e){var r=this.context;r.data=r.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(o!==l||s!==u)&&(a="reset");function c(T){return!(T>=1)&&(T=1),T}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=l,this._modDataCount=u;var h=t&&t.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,g=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!n&&(f||p<g)){var m=this._progress;if(Vt(m))for(var _=0;_<m.length;_++)this._doProgress(m[_],p,g,l,u);else this._doProgress(m,p,g,l,u)}this._dueIndex=g;var S=this._settedOutputEnd!=null?this._settedOutputEnd:g;this._outputDueEnd=S}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},i.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},i.prototype._doProgress=function(t,e,n,r,a){gF.reset(e,n,r,a),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:gF.next},this.context)},i.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,n;!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(n=e.forceFirstProgress,e=e.progress),Vt(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},i.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},i.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},i.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},i.prototype.getUpstream=function(){return this._upstream},i.prototype.getDownstream=function(){return this._downstream},i.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},i})(),gF=(function(){var i,t,e,n,r,a={reset:function(l,u,c,f){t=l,i=u,e=c,n=f,r=Math.ceil(n/e),a.next=e>1&&n>0?s:o}};return a;function o(){return t<i?t++:null}function s(){var l=t%r*e+Math.ceil(t/r),u=t>=i?null:l<n?l:t;return t++,u}})();function ep(i,t){var e=t&&t.type;return e==="ordinal"?i:(e==="time"&&!En(i)&&i!=null&&i!=="-"&&(i=+ef(i)),i==null||i===""?NaN:Number(i))}var wgt=ye({number:function(i){return parseFloat(i)},time:function(i){return+ef(i)},trim:function(i){return le(i)?ks(i):i}});function ZZ(i){return wgt.get(i)}var jZ={lt:function(i,t){return i<t},lte:function(i,t){return i<=t},gt:function(i,t){return i>t},gte:function(i,t){return i>=t}},Egt=(function(){function i(t,e){if(!En(e)){var n="";qn(n)}this._opFn=jZ[t],this._rvalFloat=jc(e)}return i.prototype.evaluate=function(t){return En(t)?this._opFn(t,this._rvalFloat):this._opFn(jc(t),this._rvalFloat)},i})(),KZ=(function(){function i(t,e){var n=t==="desc";this._resultLT=n?1:-1,e==null&&(e=n?"min":"max"),this._incomparable=e==="min"?-1/0:1/0}return i.prototype.evaluate=function(t,e){var n=En(t)?t:jc(t),r=En(e)?e:jc(e),a=isNaN(n),o=isNaN(r);if(a&&(n=this._incomparable),o&&(r=this._incomparable),a&&o){var s=le(t),l=le(e);s&&(n=l?t:0),l&&(r=s?e:0)}return n<r?this._resultLT:n>r?-this._resultLT:0},i})(),Cgt=(function(){function i(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=jc(e)}return i.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(e=jc(t)===this._rvalFloat)}return this._isEQ?e:!e},i})();function Dgt(i,t){return i==="eq"||i==="ne"?new Cgt(i==="eq",t):ge(jZ,i)?new Egt(i,t):null}var Rgt=(function(){function i(){}return i.prototype.getRawData=function(){throw new Error("not supported")},i.prototype.getRawDataItem=function(t){throw new Error("not supported")},i.prototype.cloneRawData=function(){},i.prototype.getDimensionInfo=function(t){},i.prototype.cloneAllDimensionInfo=function(){},i.prototype.count=function(){},i.prototype.retrieveValue=function(t,e){},i.prototype.retrieveValueFromItem=function(t,e){},i.prototype.convertValue=function(t,e){return ep(t,e)},i})();function Lgt(i,t){var e=new Rgt,n=i.data,r=e.sourceFormat=i.sourceFormat,a=i.startIndex,o="";i.seriesLayoutBy!==Du&&qn(o);var s=[],l={},u=i.dimensionsDefine;if(u)G(u,function(m,_){var S=m.name,T={index:_,name:S,displayName:m.displayName};if(s.push(T),S!=null){var M="";ge(l,S)&&qn(M),l[S]=T}});else for(var c=0;c<i.dimensionsDetectedCount;c++)s.push({index:c});var f=WZ(r,Du);t.__isBuiltIn&&(e.getRawDataItem=function(m){return f(n,a,s,m)},e.getRawData=ue(Igt,null,i)),e.cloneRawData=ue(Ngt,null,i);var h=YZ(r,Du);e.count=ue(h,null,n,a,s);var p=qZ(r);e.retrieveValue=function(m,_){var S=f(n,a,s,m);return g(S,_)};var g=e.retrieveValueFromItem=function(m,_){if(m!=null){var S=s[_];if(S)return p(m,_,S.name)}};return e.getDimensionInfo=ue(Ogt,null,s,l),e.cloneAllDimensionInfo=ue(Pgt,null,s),e}function Igt(i){var t=i.sourceFormat;if(!XB(t)){var e="";qn(e)}return i.data}function Ngt(i){var t=i.sourceFormat,e=i.data;if(!XB(t)){var n="";qn(n)}if(t===Na){for(var r=[],a=0,o=e.length;a<o;a++)r.push(e[a].slice());return r}else if(t===js){for(var r=[],a=0,o=e.length;a<o;a++)r.push(Rt({},e[a]));return r}}function Ogt(i,t,e){if(e!=null){if(En(e)||!isNaN(e)&&!ge(t,e))return i[e];if(ge(t,e))return t[e]}}function Pgt(i){return Ee(i)}var QZ=ye();function zgt(i){i=Ee(i);var t=i.type,e="";t||qn(e);var n=t.split(":");n.length!==2&&qn(e);var r=!1;n[0]==="echarts"&&(t=n[1],r=!0),i.__isBuiltIn=r,QZ.set(t,i)}function Bgt(i,t,e){var n=bi(i),r=n.length,a="";r||qn(a);for(var o=0,s=r;o<s;o++){var l=n[o];t=Ugt(l,t),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function Ugt(i,t,e,n){var r="";t.length||qn(r),Le(i)||qn(r);var a=i.type,o=QZ.get(a);o||qn(r);var s=kt(t,function(u){return Lgt(u,o)}),l=bi(o.transform({upstream:s[0],upstreamList:s,config:Ee(i.config)}));return kt(l,function(u,c){var f="";Le(u)||qn(f),u.data||qn(f);var h=FZ(u.data);XB(h)||qn(f);var p,g=t[0];if(g&&c===0&&!u.dimensions){var m=g.startIndex;m&&(u.data=g.data.slice(0,m).concat(u.data)),p={seriesLayoutBy:Du,sourceHeader:m,dimensions:g.metaRawOption.dimensions}}else p={seriesLayoutBy:Du,sourceHeader:0,dimensions:u.dimensions};return wP(u.data,p,null)})}function XB(i){return i===Na||i===js}var wD="undefined",Vgt=typeof Uint32Array===wD?Array:Uint32Array,Hgt=typeof Uint16Array===wD?Array:Uint16Array,JZ=typeof Int32Array===wD?Array:Int32Array,mF=typeof Float64Array===wD?Array:Float64Array,$Z={float:mF,int:JZ,ordinal:Array,number:Array,time:mF},CI;function Qy(i){return i>65535?Vgt:Hgt}function Jy(){return[1/0,-1/0]}function kgt(i){var t=i.constructor;return t===Array?i.slice():new t(i)}function yF(i,t,e,n,r){var a=$Z[e||"float"];if(r){var o=i[t],s=o&&o.length;if(s!==n){for(var l=new a(n),u=0;u<s;u++)l[u]=o[u];i[t]=l}}else i[t]=new a(n)}var EP=(function(){function i(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ye()}return i.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),a=this.defaultDimValueGetter=CI[r.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],GZ(r),this._dimensions=kt(e,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,t.count())},i.prototype.getProvider=function(){return this._provider},i.prototype.getSource=function(){return this._provider.getSource()},i.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,r=this._dimensions,a=n.get(t);if(a!=null){if(r[a].type===e)return a}else a=r.length;return r[a]={type:e},n.set(t,a),this._chunks[a]=new $Z[e||"float"](this._rawCount),this._rawExtent[a]=Jy(),a},i.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],r=this._dimensions[t],a=this._rawExtent,o=r.ordinalOffset||0,s=n.length;o===0&&(a[t]=Jy());for(var l=a[t],u=o;u<s;u++){var c=n[u]=e.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}r.ordinalMeta=e,r.ordinalOffset=s,r.type="ordinal"},i.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],n=e.ordinalMeta;return n},i.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},i.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},i.prototype.appendValues=function(t,e){for(var n=this._chunks,r=this._dimensions,a=r.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e||0),u=0;u<a;u++){var c=r[u];yF(n,u,c.type,l,!0)}for(var f=[],h=s;h<l;h++)for(var p=h-s,g=0;g<a;g++){var c=r[g],m=CI.arrayRows.call(this,t[p]||f,c.property,p,g);n[g][h]=m;var _=o[g];m<_[0]&&(_[0]=m),m>_[1]&&(_[1]=m)}return this._rawCount=this._count=l,{start:s,end:l}},i.prototype._initDataFromProvider=function(t,e,n){for(var r=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=kt(o,function(T){return T.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=Jy()),yF(a,c,f.type,e,n)}if(r.fillStorage)r.fillStorage(t,e,a,l);else for(var h=[],p=t;p<e;p++){h=r.getItem(p,h);for(var g=0;g<s;g++){var m=a[g],_=this._dimValueGetter(h,u[g],p,g);m[p]=_;var S=l[g];_<S[0]&&(S[0]=_),_>S[1]&&(S[1]=_)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},i.prototype.count=function(){return this._count},i.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},i.prototype.getValues=function(t,e){var n=[],r=[];if(e==null){e=t,t=[];for(var a=0;a<this._dimensions.length;a++)r.push(a)}else r=t;for(var a=0,o=r.length;a<o;a++)n.push(this.get(r[a],e));return n},i.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},i.prototype.getSum=function(t){var e=this._chunks[t],n=0;if(e)for(var r=0,a=this.count();r<a;r++){var o=this.get(t,r);isNaN(o)||(n+=o)}return n},i.prototype.getMedian=function(t){var e=[];this.each([t],function(a){isNaN(a)||e.push(a)});var n=e.sort(function(a,o){return a-o}),r=this.count();return r===0?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},i.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(n!=null&&n<this._count&&n===t)return t;for(var r=0,a=this._count-1;r<=a;){var o=(r+a)/2|0;if(e[o]<t)r=o+1;else if(e[o]>t)a=o-1;else return o}return-1},i.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,r=this._count;if(n===Array){t=new n(r);for(var a=0;a<r;a++)t[a]=e[a]}else t=new n(e.buffer,0,r)}else{var n=Qy(this._rawCount);t=new n(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},i.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),r=n.count(),a=Qy(n._rawCount),o=new a(r),s=[],l=t.length,u=0,c=t[0],f=n._chunks,h=0;h<r;h++){var p=void 0,g=n.getRawIndex(h);if(l===0)p=e(h);else if(l===1){var m=f[c][g];p=e(m,h)}else{for(var _=0;_<l;_++)s[_]=f[t[_]][g];s[_]=h,p=e.apply(null,s)}p&&(o[u++]=g)}return u<r&&(n._indices=o),n._count=u,n._extent=[],n._updateGetRawIdx(),n},i.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var r=Tn(t),a=r.length;if(!a)return this;var o=e.count(),s=Qy(e._rawCount),l=new s(o),u=0,c=r[0],f=t[c][0],h=t[c][1],p=e._chunks,g=!1;if(!e._indices){var m=0;if(a===1){for(var _=p[r[0]],S=0;S<n;S++){var T=_[S];(T>=f&&T<=h||isNaN(T))&&(l[u++]=m),m++}g=!0}else if(a===2){for(var _=p[r[0]],M=p[r[1]],w=t[r[1]][0],D=t[r[1]][1],S=0;S<n;S++){var T=_[S],C=M[S];(T>=f&&T<=h||isNaN(T))&&(C>=w&&C<=D||isNaN(C))&&(l[u++]=m),m++}g=!0}}if(!g)if(a===1)for(var S=0;S<o;S++){var R=e.getRawIndex(S),T=p[r[0]][R];(T>=f&&T<=h||isNaN(T))&&(l[u++]=R)}else for(var S=0;S<o;S++){for(var z=!0,R=e.getRawIndex(S),N=0;N<a;N++){var O=r[N],T=p[O][R];(T<t[O][0]||T>t[O][1])&&(z=!1)}z&&(l[u++]=e.getRawIndex(S))}return u<o&&(e._indices=l),e._count=u,e._extent=[],e._updateGetRawIdx(),e},i.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},i.prototype.modify=function(t,e){this._updateDims(this,t,e)},i.prototype._updateDims=function(t,e,n){for(var r=t._chunks,a=[],o=e.length,s=t.count(),l=[],u=t._rawExtent,c=0;c<e.length;c++)u[e[c]]=Jy();for(var f=0;f<s;f++){for(var h=t.getRawIndex(f),p=0;p<o;p++)l[p]=r[e[p]][h];l[o]=f;var g=n&&n.apply(null,l);if(g!=null){typeof g!="object"&&(a[0]=g,g=a);for(var c=0;c<g.length;c++){var m=e[c],_=g[c],S=u[m],T=r[m];T&&(T[h]=_),_<S[0]&&(S[0]=_),_>S[1]&&(S[1]=_)}}}},i.prototype.lttbDownSample=function(t,e){var n=this.clone([t],!0),r=n._chunks,a=r[t],o=this.count(),s=0,l=Math.floor(1/e),u=this.getRawIndex(0),c,f,h,p=new(Qy(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));p[s++]=u;for(var g=1;g<o-1;g+=l){for(var m=Math.min(g+l,o-1),_=Math.min(g+l*2,o),S=(_+m)/2,T=0,M=m;M<_;M++){var w=this.getRawIndex(M),D=a[w];isNaN(D)||(T+=D)}T/=_-m;var C=g,R=Math.min(g+l,o),z=g-1,N=a[u];c=-1,h=C;for(var O=-1,U=0,M=C;M<R;M++){var w=this.getRawIndex(M),D=a[w];if(isNaN(D)){U++,O<0&&(O=w);continue}f=Math.abs((z-S)*(D-N)-(z-M)*(T-N)),f>c&&(c=f,h=w)}U>0&&U<R-C&&(p[s++]=Math.min(O,h),h=Math.max(O,h)),p[s++]=h,u=h}return p[s++]=this.getRawIndex(o-1),n._count=s,n._indices=p,n.getRawIndex=this._getRawIdx,n},i.prototype.minmaxDownSample=function(t,e){for(var n=this.clone([t],!0),r=n._chunks,a=Math.floor(1/e),o=r[t],s=this.count(),l=new(Qy(this._rawCount))(Math.ceil(s/a)*2),u=0,c=0;c<s;c+=a){var f=c,h=o[this.getRawIndex(f)],p=c,g=o[this.getRawIndex(p)],m=a;c+a>s&&(m=s-c);for(var _=0;_<m;_++){var S=this.getRawIndex(c+_),T=o[S];T<h&&(h=T,f=c+_),T>g&&(g=T,p=c+_)}var M=this.getRawIndex(f),w=this.getRawIndex(p);f<p?(l[u++]=M,l[u++]=w):(l[u++]=w,l[u++]=M)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},i.prototype.downSample=function(t,e,n,r){for(var a=this.clone([t],!0),o=a._chunks,s=[],l=Math.floor(1/e),u=o[t],c=this.count(),f=a._rawExtent[t]=Jy(),h=new(Qy(this._rawCount))(Math.ceil(c/l)),p=0,g=0;g<c;g+=l){l>c-g&&(l=c-g,s.length=l);for(var m=0;m<l;m++){var _=this.getRawIndex(g+m);s[m]=u[_]}var S=n(s),T=this.getRawIndex(Math.min(g+r(s,S)||0,c-1));u[T]=S,S<f[0]&&(f[0]=S),S>f[1]&&(f[1]=S),h[p++]=T}return a._count=p,a._indices=h,a._updateGetRawIdx(),a},i.prototype.each=function(t,e){if(this._count)for(var n=t.length,r=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:e(a);break;case 1:e(r[t[0]][s],a);break;case 2:e(r[t[0]][s],r[t[1]][s],a);break;default:for(var l=0,u=[];l<n;l++)u[l]=r[t[l]][s];u[l]=a,e.apply(null,u)}}},i.prototype.getDataExtent=function(t){var e=this._chunks[t],n=Jy();if(!e)return n;var r=this.count(),a=!this._indices,o;if(a)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=n;for(var s=o[0],l=o[1],u=0;u<r;u++){var c=this.getRawIndex(u),f=e[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[t]=o,o},i.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],r=this._chunks,a=0;a<r.length;a++)n.push(r[a][e]);return n},i.prototype.clone=function(t,e){var n=new i,r=this._chunks,a=t&&Ol(t,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<r.length;o++)n._chunks[o]=a[o]?kgt(r[o]):r[o];else n._chunks=r;return this._copyCommonProps(n),e||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},i.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Ee(this._extent),t._rawExtent=Ee(this._rawExtent)},i.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var r=0;r<n;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},i.prototype._getRawIdxIdentity=function(t){return t},i.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},i.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},i.internalField=(function(){function t(e,n,r,a){return ep(e[a],this._dimensions[a])}CI={arrayRows:t,objectRows:function(e,n,r,a){return ep(e[n],this._dimensions[a])},keyedColumns:t,original:function(e,n,r,a){var o=e&&(e.value==null?e:e.value);return ep(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(e,n,r,a){return e[a]}}})(),i})(),tj=(function(){function i(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return i.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},i.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},i.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},i.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},i.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,e=this._getUpstreamSourceManagers(),n=!!e.length,r,a;if(tw(t)){var o=t,s=void 0,l=void 0,u=void 0;if(n){var c=e[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else s=o.get("data",!0),l=Qo(s)?tp:Zs,a=[];var f=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},p=_e(f.seriesLayoutBy,h.seriesLayoutBy)||null,g=_e(f.sourceHeader,h.sourceHeader),m=_e(f.dimensions,h.dimensions),_=p!==h.seriesLayoutBy||!!g!=!!h.sourceHeader||m;r=_?[wP(s,{seriesLayoutBy:p,sourceHeader:g,dimensions:m},l)]:[]}else{var S=t;if(n){var T=this._applyTransform(e);r=T.sourceList,a=T.upstreamSignList}else{var M=S.get("source",!0);r=[wP(M,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(r,a)},i.prototype._applyTransform=function(t){var e=this._sourceHost,n=e.get("transform",!0),r=e.get("fromTransformResult",!0);if(r!=null){var a="";t.length!==1&&SF(a)}var o,s=[],l=[];return G(t,function(u){u.prepareSource();var c=u.getSource(r||0),f="";r!=null&&!c&&SF(f),s.push(c),l.push(u._getVersionSign())}),n?o=Bgt(n,s,{datasetIndex:e.componentIndex}):r!=null&&(o=[ygt(s[0])]),{sourceList:o,upstreamSignList:l}},i.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},i.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},i.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},i.prototype._innerGetDataStore=function(t,e,n){var r=0,a=this._storeList,o=a[r];o||(o=a[r]={});var s=o[n];if(!s){var l=this._getUpstreamSourceManagers()[0];tw(this._sourceHost)&&l?s=l._innerGetDataStore(t,e,n):(s=new EP,s.initData(new XZ(e,t.length),t)),o[n]=s}return s},i.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(tw(t)){var e=UB(t);return e?[e.getSourceManager()]:[]}else return kt(qvt(t),function(n){return n.getSourceManager()})},i.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,e,n,r;if(tw(t))e=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),r=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),r=a.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:n,dimensions:r}},i})();function _F(i){var t=i.option.transform;t&&lb(i.option.transform)}function tw(i){return i.mainType==="series"}function SF(i){throw new Error(i)}var Fgt="line-height:1";function ej(i){var t=i.lineHeight;return t==null?Fgt:"line-height:"+yo(t+"")+"px"}function nj(i,t){var e=i.color||vt.color.tertiary,n=i.fontSize||12,r=i.fontWeight||"400",a=i.color||vt.color.secondary,o=i.fontSize||14,s=i.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+yo(n+"")+"px;color:"+yo(e)+";font-weight:"+yo(r+""),valueStyle:"font-size:"+yo(o+"")+"px;color:"+yo(a)+";font-weight:"+yo(s+"")}:{nameStyle:{fontSize:n,fill:e,fontWeight:r},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var Ggt=[0,10,20,30],Xgt=["",`
`,`

`,`


`];function zr(i,t){return t.type=i,t}function CP(i){return i.type==="section"}function ij(i){return CP(i)?Wgt:Ygt}function rj(i){if(CP(i)){var t=0,e=i.blocks.length,n=e>1||e>0&&!i.noHeader;return G(i.blocks,function(r){var a=rj(r);a>=t&&(t=a+ +(n&&(!a||CP(r)&&!r.noHeader)))}),t}return 0}function Wgt(i,t,e,n){var r=t.noHeader,a=qgt(rj(t)),o=[],s=t.blocks||[];ja(!s||Vt(s)),s=s||[];var l=i.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(ge(u,l)){var c=new KZ(u[l],null);s.sort(function(m,_){return c.evaluate(m.sortParam,_.sortParam)})}else l==="seriesDesc"&&s.reverse()}G(s,function(m,_){var S=t.valueFormatter,T=ij(m)(S?Rt(Rt({},i),{valueFormatter:S}):i,m,_>0?a.html:0,n);T!=null&&o.push(T)});var f=i.renderMode==="richText"?o.join(a.richText):DP(n,o.join(""),r?e:a.html);if(r)return f;var h=bP(t.header,"ordinal",i.useUTC),p=nj(n,i.renderMode).nameStyle,g=ej(n);return i.renderMode==="richText"?aj(i,h,p)+a.richText+f:DP(n,'<div style="'+p+";"+g+';">'+yo(h)+"</div>"+f,e)}function Ygt(i,t,e,n){var r=i.renderMode,a=t.noName,o=t.noValue,s=!t.markerType,l=t.name,u=i.useUTC,c=t.valueFormatter||i.valueFormatter||function(w){return w=Vt(w)?w:[w],kt(w,function(D,C){return bP(D,Vt(p)?p[C]:p,u)})};if(!(a&&o)){var f=s?"":i.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||vt.color.secondary,r),h=a?"":bP(l,"ordinal",u),p=t.valueType,g=o?[]:c(t.value,t.dataIndex),m=!s||!a,_=!s&&a,S=nj(n,r),T=S.nameStyle,M=S.valueStyle;return r==="richText"?(s?"":f)+(a?"":aj(i,h,T))+(o?"":Kgt(i,g,m,_,M)):DP(n,(s?"":f)+(a?"":Zgt(h,!s,T))+(o?"":jgt(g,m,_,M)),e)}}function xF(i,t,e,n,r,a){if(i){var o=ij(i),s={useUTC:r,renderMode:e,orderMode:n,markupStyleCreator:t,valueFormatter:i.valueFormatter};return o(s,i,0,a)}}function qgt(i){return{html:Ggt[i],richText:Xgt[i]}}function DP(i,t,e){var n='<div style="clear:both"></div>',r="margin: "+e+"px 0 0",a=ej(i);return'<div style="'+r+";"+a+';">'+t+n+"</div>"}function Zgt(i,t,e){var n=t?"margin-left:2px":"";return'<span style="'+e+";"+n+'">'+yo(i)+"</span>"}function jgt(i,t,e,n){var r=e?"10px":"20px",a=t?"float:right;margin-left:"+r:"";return i=Vt(i)?i:[i],'<span style="'+a+";"+n+'">'+kt(i,function(o){return yo(o)}).join("&nbsp;&nbsp;")+"</span>"}function aj(i,t,e){return i.markupStyleCreator.wrapRichTextStyle(t,e)}function Kgt(i,t,e,n,r){var a=[r],o=n?10:20;return e&&a.push({padding:[0,0,0,o],align:"right"}),i.markupStyleCreator.wrapRichTextStyle(Vt(t)?t.join("  "):t,a)}function oj(i,t){var e=i.getData().getItemVisual(t,"style"),n=e[i.visualDrawType];return jg(n)}function sj(i,t){var e=i.get("padding");return e??(t==="richText"?[8,10]:10)}var DI=(function(){function i(){this.richTextStyles={},this._nextStyleNameId=pq()}return i.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},i.prototype.makeTooltipMarker=function(t,e,n){var r=n==="richText"?this._generateStyleName():null,a=xZ({color:e,type:t,renderMode:n,markerId:r});return le(a)?a:(this.richTextStyles[r]=a.style,a.content)},i.prototype.wrapRichTextStyle=function(t,e){var n={};Vt(e)?G(e,function(a){return Rt(n,a)}):Rt(n,e);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+t+"}"},i})();function lj(i){var t=i.series,e=i.dataIndex,n=i.multipleSeries,r=t.getData(),a=r.mapDimensionsAll("defaultedTooltip"),o=a.length,s=t.getRawValue(e),l=Vt(s),u=oj(t,e),c,f,h,p;if(o>1||l&&!o){var g=Qgt(s,t,e,a,u);c=g.inlineValues,f=g.inlineValueTypes,h=g.blocks,p=g.inlineValues[0]}else if(o){var m=r.getDimensionInfo(a[0]);p=c=a_(r,e,a[0]),f=m.type}else p=c=l?s[0]:s;var _=nB(t),S=_&&t.name||"",T=r.getName(e),M=n?S:T;return zr("section",{header:S,noHeader:n||!_,sortParam:p,blocks:[zr("nameValue",{markerType:"item",markerColor:u,name:M,noName:!ks(M),value:c,valueType:f,dataIndex:e})].concat(h||[])})}function Qgt(i,t,e,n,r){var a=t.getData(),o=Ol(i,function(f,h,p){var g=a.getDimensionInfo(p);return f=f||g&&g.tooltip!==!1&&g.displayName!=null},!1),s=[],l=[],u=[];n.length?G(n,function(f){c(a_(a,e,f),f)}):G(i,c);function c(f,h){var p=a.getDimensionInfo(h);!p||p.otherDims.tooltip===!1||(o?u.push(zr("nameValue",{markerType:"subItem",markerColor:r,name:p.displayName,value:f,valueType:p.type})):(s.push(f),l.push(p.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Ed=gn();function ew(i,t){return i.getName(t)||i.getId(t)}var uE="__universalTransitionEnabled",di=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return t.prototype.init=function(e,n,r){this.seriesIndex=this.componentIndex,this.dataTask=Y1({count:$gt,reset:tmt}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r);var a=Ed(this).sourceManager=new tj(this);a.prepareSource();var o=this.getInitialData(e,r);TF(o,this),this.dataTask.context.data=o,Ed(this).dataBeforeProcessed=o,bF(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,n){var r=Sb(this),a=r?om(e):{},o=this.subType;pn.hasClass(o)&&(o+="Series"),en(e,n.getTheme().get(this.subType)),en(e,this.getDefaultOption()),Gg(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&Qc(e,a,r)},t.prototype.mergeOption=function(e,n){e=en(this.option,e,!0),this.fillDataTextStyle(e.data);var r=Sb(this);r&&Qc(this.option,e,r);var a=Ed(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(e,n);TF(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Ed(this).dataBeforeProcessed=o,bF(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(e){if(e&&!Qo(e))for(var n=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&Gg(e[r],"label",n)},t.prototype.getInitialData=function(e,n){},t.prototype.appendData=function(e){var n=this.getRawData();n.appendData(e.data)},t.prototype.getData=function(e){var n=RP(this);if(n){var r=n.context.data;return e==null||!r.getLinkedData?r:r.getLinkedData(e)}else return Ed(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var n=RP(this);if(n){var r=n.context;r.outputData=e,n!==this.dataTask&&(r.data=e)}Ed(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return ye(e)},t.prototype.getSourceManager=function(){return Ed(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Ed(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.indicesOfNearest=function(e,n,r,a){var o=this.getData(),s=this.coordinateSystem,l=s&&s.getAxis(e);if(!s||!l)return[];var u=l.dataToCoord(r);a==null&&(a=1/0);var c=[],f=1/0,h=-1,p=0;return o.each(n,function(g,m){var _=l.dataToCoord(g),S=u-_,T=Math.abs(S);T<=a&&((T<f||T===f&&S>=0&&h<0)&&(f=T,h=S,p=0),S===h&&(c[p++]=m))}),c.length=p,c},t.prototype.formatTooltip=function(e,n,r){return lj({series:this,dataIndex:e,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(xn.node&&!(e&&e.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,n,r){var a=this.ecModel,o=VB.prototype.getColorFromPalette.call(this,e,n,r);return o||(o=a.getColorFromPalette(e,n,r)),o},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,n){this._innerSelect(this.getData(n),e)},t.prototype.unselect=function(e,n){var r=this.option.selectedMap;if(r){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||r==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<e.length;s++){var l=e[s],u=ew(o,l);r[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(e,n){for(var r=[],a=0;a<e.length;a++)r[0]=e[a],this.isSelected(e[a],n)?this.unselect(r,n):this.select(r,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,n=Tn(e),r=[],a=0;a<n.length;a++){var o=e[n[a]];o>=0&&r.push(o)}return r},t.prototype.isSelected=function(e,n){var r=this.option.selectedMap;if(!r)return!1;var a=this.getData(n);return(r==="all"||r[ew(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[uE])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,n){var r,a,o=this.option,s=o.selectedMode,l=n.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Le(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=n[c],h=ew(e,f);u[h]=!0,this._selectedDataIndicesMap[h]=e.getRawIndex(f)}}else if(s==="single"||s===!0){var p=n[l-1],h=ew(e,p);o.selectedMap=(r={},r[h]=!0,r),this._selectedDataIndicesMap=(a={},a[h]=e.getRawIndex(p),a)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var n=[];e.hasItemOption&&e.each(function(r){var a=e.getRawDataItem(r);a&&a.selected&&n.push(r)}),n.length>0&&this._innerSelect(e,n)}},t.registerClass=function(e){return pn.registerClass(e)},t.protoInitialize=(function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"})(),t})(pn);fr(di,AD);fr(di,VB);Mq(di,pn);function bF(i){var t=i.name;nB(i)||(i.name=Jgt(i)||t)}function Jgt(i){var t=i.getRawData(),e=t.mapDimensionsAll("seriesName"),n=[];return G(e,function(r){var a=t.getDimensionInfo(r);a.displayName&&n.push(a.displayName)}),n.join(" ")}function $gt(i){return i.model.getRawData().count()}function tmt(i){var t=i.model;return t.setData(t.getRawData().cloneShallow()),emt}function emt(i,t){t.outputData&&i.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function TF(i,t){G(J0(i.CHANGABLE_METHODS,i.DOWNSAMPLE_METHODS),function(e){i.wrapMethod(e,Qe(nmt,t))})}function nmt(i,t){var e=RP(i);return e&&e.setOutputEnd((t||this).count()),t}function RP(i){var t=(i.ecModel||{}).scheduler,e=t&&t.getPipeline(i.uid);if(e){var n=e.currentTask;if(n){var r=n.agentStubMap;r&&(n=r.get(i.uid))}return n}}var Ti=(function(){function i(){this.group=new Ce,this.uid=I_("viewComponent")}return i.prototype.init=function(t,e){},i.prototype.render=function(t,e,n,r){},i.prototype.dispose=function(t,e){},i.prototype.updateView=function(t,e,n,r){},i.prototype.updateLayout=function(t,e,n,r){},i.prototype.updateVisual=function(t,e,n,r){},i.prototype.toggleBlurSeries=function(t,e,n){},i.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},i})();rB(Ti);hD(Ti);function P_(){var i=gn();return function(t){var e=i(t),n=t.pipelineContext,r=!!e.large,a=!!e.progressiveRender,o=e.large=!!(n&&n.large),s=e.progressiveRender=!!(n&&n.progressiveRender);return(r!==o||a!==s)&&"reset"}}var uj=gn(),imt=P_(),si=(function(){function i(){this.group=new Ce,this.uid=I_("viewChart"),this.renderTask=Y1({plan:rmt,reset:amt}),this.renderTask.context={view:this}}return i.prototype.init=function(t,e){},i.prototype.render=function(t,e,n,r){},i.prototype.highlight=function(t,e,n,r){var a=t.getData(r&&r.dataType);a&&AF(a,r,"emphasis")},i.prototype.downplay=function(t,e,n,r){var a=t.getData(r&&r.dataType);a&&AF(a,r,"normal")},i.prototype.remove=function(t,e){this.group.removeAll()},i.prototype.dispose=function(t,e){},i.prototype.updateView=function(t,e,n,r){this.render(t,e,n,r)},i.prototype.updateLayout=function(t,e,n,r){this.render(t,e,n,r)},i.prototype.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},i.prototype.eachRendered=function(t){mp(this.group,t)},i.markUpdateMethod=function(t,e){uj(t).updateMethod=e},i.protoInitialize=(function(){var t=i.prototype;t.type="chart"})(),i})();function MF(i,t,e){i&&mb(i)&&(t==="emphasis"?Sh:xh)(i,e)}function AF(i,t,e){var n=Xg(i,t),r=t&&t.highlightKey!=null?Lpt(t.highlightKey):null;n!=null?G(bi(n),function(a){MF(i.getItemGraphicEl(a),e,r)}):i.eachItemGraphicEl(function(a){MF(a,e,r)})}rB(si);hD(si);function rmt(i){return imt(i.model)}function amt(i){var t=i.model,e=i.ecModel,n=i.api,r=i.payload,a=t.pipelineContext.progressiveRender,o=i.view,s=r&&uj(r).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](t,e,n,r),omt[l]}var omt={incrementalPrepareRender:{progress:function(i,t){t.view.incrementalRender(i,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(i,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},LC="\0__throttleOriginMethod",wF="\0__throttleRate",EF="\0__throttleType";function ED(i,t,e){var n,r=0,a=0,o=null,s,l,u,c;t=t||0;function f(){a=new Date().getTime(),o=null,i.apply(l,u||[])}var h=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];n=new Date().getTime(),l=this,u=p;var m=c||t,_=c||e;c=null,s=n-(_?r:a)-m,clearTimeout(o),_?o=setTimeout(f,m):s>=0?f():o=setTimeout(f,-s),r=n};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.debounceNextCall=function(p){c=p},h}function z_(i,t,e,n){var r=i[t];if(r){var a=r[LC]||r,o=r[EF],s=r[wF];if(s!==e||o!==n){if(e==null||!n)return i[t]=a;r=i[t]=ED(a,e,n==="debounce"),r[LC]=a,r[EF]=n,r[wF]=e}return r}}function bb(i,t){var e=i[t];e&&e[LC]&&(e.clear&&e.clear(),i[t]=e[LC])}var CF=gn(),DF={itemStyle:Wg(hZ,!0),lineStyle:Wg(fZ,!0)},smt={lineStyle:"stroke",itemStyle:"fill"};function cj(i,t){var e=i.visualStyleMapper||DF[t];return e||(console.warn("Unknown style type '"+t+"'."),DF.itemStyle)}function fj(i,t){var e=i.visualDrawType||smt[t];return e||(console.warn("Unknown style type '"+t+"'."),"fill")}var lmt={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){var e=i.getData(),n=i.visualStyleAccessPath||"itemStyle",r=i.getModel(n),a=cj(i,n),o=a(r),s=r.getShallow("decal");s&&(e.setVisual("decal",s),s.dirty=!0);var l=fj(i,n),u=o[l],c=Te(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var h=i.getColorFromPalette(i.name,null,t.getSeriesCount());o[l]||(o[l]=h,e.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||Te(o.fill)?h:o.fill,o.stroke=o.stroke==="auto"||Te(o.stroke)?h:o.stroke}if(e.setVisual("style",o),e.setVisual("drawType",l),!t.isSeriesFiltered(i)&&c)return e.setVisual("colorFromPalette",!1),{dataEach:function(p,g){var m=i.getDataParams(g),_=Rt({},o);_[l]=c(m),p.setItemVisual(g,"style",_)}}}},Vx=new yn,umt={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){if(!(i.ignoreStyleOnData||t.isSeriesFiltered(i))){var e=i.getData(),n=i.visualStyleAccessPath||"itemStyle",r=cj(i,n),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[n]){Vx.option=l[n];var u=r(Vx),c=o.ensureUniqueItemVisual(s,"style");Rt(c,u),Vx.option.decal&&(o.setItemVisual(s,"decal",Vx.option.decal),Vx.option.decal.dirty=!0),a in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},cmt={performRawSeries:!0,overallReset:function(i){var t=ye();i.eachSeries(function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+n,a=t.get(r);a||(a={},t.set(r,a)),CF(e).scope=a}}),i.eachSeries(function(e){if(!(e.isColorBySeries()||i.isSeriesFiltered(e))){var n=e.getRawData(),r={},a=e.getData(),o=CF(e).scope,s=e.visualStyleAccessPath||"itemStyle",l=fj(e,s);a.each(function(u){var c=a.getRawIndex(u);r[c]=u}),n.each(function(u){var c=r[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var h=a.ensureUniqueItemVisual(c,"style"),p=n.getName(u)||u+"",g=n.count();h[l]=e.getColorFromPalette(p,o,g)}})}})}},nw=Math.PI;function fmt(i,t){t=t||{},Re(t,{text:"loading",textColor:vt.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:vt.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Ce,n=new cn({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(n);var r=new wn({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new cn({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});e.add(a);var o;return t.showSpinner&&(o=new aT({shape:{startAngle:-nw/2,endAngle:-nw/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:nw*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:nw*3/2}).delay(300).start("circularInOut"),e.add(o)),e.resize=function(){var s=r.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(i.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),c=i.getHeight()/2;t.showSpinner&&o.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:i.getWidth(),height:i.getHeight()})},e.resize(),e}var hj=(function(){function i(t,e,n,r){this._stageTaskMap=ye(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return i.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(n){var r=n.overallTask;r&&r.dirty()})},i.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,a=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex,o=a?n.step:null,s=r&&r.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},i.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},i.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData(),a=r.count(),o=n.progressiveEnabled&&e.incrementalPrepareRender&&a>=n.threshold,s=t.get("large")&&a>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:l,large:s}},i.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=ye();t.eachSeries(function(r){var a=r.getProgressive(),o=r.uid;n.set(o,{id:o,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:a&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(r,r.dataTask)})},i.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;G(this._allHandlers,function(r){var a=t.get(r.uid)||t.set(r.uid,{}),o="";ja(!(r.reset&&r.overallReset),o),r.reset&&this._createSeriesStageTask(r,a,e,n),r.overallReset&&this._createOverallStageTask(r,a,e,n)},this)},i.prototype.prepareView=function(t,e,n,r){var a=t.renderTask,o=a.context;o.model=e,o.ecModel=n,o.api=r,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},i.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},i.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},i.prototype._performStageTasks=function(t,e,n,r){r=r||{};var a=!1,o=this;G(t,function(l,u){if(!(r.visualType&&r.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,h=c.overallTask;if(h){var p,g=h.agentStubMap;g.each(function(_){s(r,_)&&(_.dirty(),p=!0)}),p&&h.dirty(),o.updatePayload(h,n);var m=o.getPerformArgs(h,r.block);g.each(function(_){_.perform(m)}),h.perform(m)&&(a=!0)}else f&&f.each(function(_,S){s(r,_)&&_.dirty();var T=o.getPerformArgs(_,r.block);T.skip=!l.performRawSeries&&e.isSeriesFiltered(_.context.model),o.updatePayload(_,n),_.perform(T)&&(a=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},i.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(n){e=n.dataTask.perform()||e}),this.unfinished=e||this.unfinished},i.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},i.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},i.prototype._createSeriesStageTask=function(t,e,n,r){var a=this,o=e.seriesTaskMap,s=e.seriesTaskMap=ye(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,r).each(c);function c(f){var h=f.uid,p=s.set(h,o&&o.get(h)||Y1({plan:gmt,reset:mmt,count:_mt}));p.context={model:f,ecModel:n,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(f,p)}},i.prototype._createOverallStageTask=function(t,e,n,r){var a=this,o=e.overallTask=e.overallTask||Y1({reset:hmt});o.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=ye(),u=t.seriesType,c=t.getTargetSeries,f=!0,h=!1,p="";ja(!t.createOnAllSeries,p),u?n.eachRawSeriesByType(u,g):c?c(n,r).each(g):(f=!1,G(n.getSeries(),g));function g(m){var _=m.uid,S=l.set(_,s&&s.get(_)||(h=!0,Y1({reset:dmt,onDirty:vmt})));S.context={model:m,overallProgress:f},S.agent=o,S.__block=f,a._pipe(m,S)}h&&o.dirty()},i.prototype._pipe=function(t,e){var n=t.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},i.wrapStageHandler=function(t,e){return Te(t)&&(t={overallReset:t,seriesType:Smt(t)}),t.uid=I_("stageHandler"),e&&(t.visualType=e),t},i})();function hmt(i){i.overallReset(i.ecModel,i.api,i.payload)}function dmt(i){return i.overallProgress&&pmt}function pmt(){this.agent.dirty(),this.getDownstream().dirty()}function vmt(){this.agent&&this.agent.dirty()}function gmt(i){return i.plan?i.plan(i.model,i.ecModel,i.api,i.payload):null}function mmt(i){i.useClearVisual&&i.data.clearAllVisual();var t=i.resetDefines=bi(i.reset(i.model,i.ecModel,i.api,i.payload));return t.length>1?kt(t,function(e,n){return dj(n)}):ymt}var ymt=dj(0);function dj(i){return function(t,e){var n=e.data,r=e.resetDefines[i];if(r&&r.dataEach)for(var a=t.start;a<t.end;a++)r.dataEach(n,a);else r&&r.progress&&r.progress(t,n)}}function _mt(i){return i.data.count()}function Smt(i){IC=null;try{i(Tb,pj)}catch{}return IC}var Tb={},pj={},IC;vj(Tb,HB);vj(pj,VZ);Tb.eachSeriesByType=Tb.eachRawSeriesByType=function(i){IC=i};Tb.eachComponent=function(i){i.mainType==="series"&&i.subType&&(IC=i.subType)};function vj(i,t){for(var e in t.prototype)i[e]=ur}var Ie=vt.darkColor,xmt=Ie.background,Hx=function(){return{axisLine:{lineStyle:{color:Ie.axisLine}},splitLine:{lineStyle:{color:Ie.axisSplitLine}},splitArea:{areaStyle:{color:[Ie.backgroundTint,Ie.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:Ie.axisMinorSplitLine}},axisLabel:{color:Ie.axisLabel},axisName:{}}},RF={label:{color:Ie.secondary},itemStyle:{borderColor:Ie.borderTint},dividerLineStyle:{color:Ie.border}},gj={darkMode:!0,color:Ie.theme,backgroundColor:xmt,axisPointer:{lineStyle:{color:Ie.border},crossStyle:{color:Ie.borderShade},label:{color:Ie.tertiary}},legend:{textStyle:{color:Ie.secondary},pageTextStyle:{color:Ie.tertiary}},textStyle:{color:Ie.secondary},title:{textStyle:{color:Ie.primary},subtextStyle:{color:Ie.quaternary}},toolbox:{iconStyle:{borderColor:Ie.accent50}},tooltip:{backgroundColor:Ie.neutral20,defaultBorderColor:Ie.border,textStyle:{color:Ie.tertiary}},dataZoom:{borderColor:Ie.accent10,textStyle:{color:Ie.tertiary},brushStyle:{color:Ie.backgroundTint},handleStyle:{color:Ie.neutral00,borderColor:Ie.accent20},moveHandleStyle:{color:Ie.accent40},emphasis:{handleStyle:{borderColor:Ie.accent50}},dataBackground:{lineStyle:{color:Ie.accent30},areaStyle:{color:Ie.accent20}},selectedDataBackground:{lineStyle:{color:Ie.accent50},areaStyle:{color:Ie.accent30}}},visualMap:{textStyle:{color:Ie.secondary},handleStyle:{borderColor:Ie.neutral30}},timeline:{lineStyle:{color:Ie.accent10},label:{color:Ie.tertiary},controlStyle:{color:Ie.accent30,borderColor:Ie.accent30}},calendar:{itemStyle:{color:Ie.neutral00,borderColor:Ie.neutral20},dayLabel:{color:Ie.tertiary},monthLabel:{color:Ie.secondary},yearLabel:{color:Ie.secondary}},matrix:{x:RF,y:RF,backgroundColor:{borderColor:Ie.axisLine},body:{itemStyle:{borderColor:Ie.borderTint}}},timeAxis:Hx(),logAxis:Hx(),valueAxis:Hx(),categoryAxis:Hx(),line:{symbol:"circle"},graph:{color:Ie.theme},gauge:{title:{color:Ie.secondary},axisLine:{lineStyle:{color:[[1,Ie.neutral05]]}},axisLabel:{color:Ie.axisLabel},detail:{color:Ie.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:Ie.background}},radar:(function(){var i=Hx();return i.axisName={color:Ie.axisLabel},i.axisLine.lineStyle.color=Ie.neutral20,i})(),treemap:{breadcrumb:{itemStyle:{color:Ie.neutral20,textStyle:{color:Ie.secondary}},emphasis:{itemStyle:{color:Ie.neutral30}}}},sunburst:{itemStyle:{borderColor:Ie.background}},map:{itemStyle:{borderColor:Ie.border,areaColor:Ie.neutral10},label:{color:Ie.tertiary},emphasis:{label:{color:Ie.primary},itemStyle:{areaColor:Ie.highlight}},select:{label:{color:Ie.primary},itemStyle:{areaColor:Ie.highlight}}},geo:{itemStyle:{borderColor:Ie.border,areaColor:Ie.neutral10},emphasis:{label:{color:Ie.primary},itemStyle:{areaColor:Ie.highlight}},select:{label:{color:Ie.primary},itemStyle:{color:Ie.highlight}}}};gj.categoryAxis.splitLine.show=!1;var bmt=(function(){function i(){}return i.prototype.normalizeQuery=function(t){var e={},n={},r={};if(le(t)){var a=Bc(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};G(t,function(l,u){for(var c=!1,f=0;f<o.length;f++){var h=o[f],p=u.lastIndexOf(h);if(p>0&&p===u.length-h.length){var g=u.slice(0,p);g!=="data"&&(e.mainType=g,e[h.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(r[u]=l)})}return{cptQuery:e,dataQuery:n,otherQuery:r}},i.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,r,a));function c(f,h,p,g){return f[p]==null||h[g||p]===f[p]}},i.prototype.afterTrigger=function(){this.eventInfo=null},i})(),LP=["symbol","symbolSize","symbolRotate","symbolOffset"],LF=LP.concat(["symbolKeepAspect"]),Tmt={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){var e=i.getData();if(i.legendIcon&&e.setVisual("legendIcon",i.legendIcon),!i.hasSymbolVisual)return;for(var n={},r={},a=!1,o=0;o<LP.length;o++){var s=LP[o],l=i.get(s);Te(l)?(a=!0,r[s]=l):n[s]=l}if(n.symbol=n.symbol||i.defaultSymbol,e.setVisual(Rt({legendIcon:i.legendIcon||n.symbol,symbolKeepAspect:i.get("symbolKeepAspect")},n)),t.isSeriesFiltered(i))return;var u=Tn(r);function c(f,h){for(var p=i.getRawValue(h),g=i.getDataParams(h),m=0;m<u.length;m++){var _=u[m];f.setItemVisual(h,_,r[_](p,g))}}return{dataEach:a?c:null}}},Mmt={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){if(!i.hasSymbolVisual||t.isSeriesFiltered(i))return;var e=i.getData();function n(r,a){for(var o=r.getItemModel(a),s=0;s<LF.length;s++){var l=LF[s],u=o.getShallow(l,!0);u!=null&&r.setItemVisual(a,l,u)}}return{dataEach:e.hasItemOption?n:null}}};function WB(i,t,e){switch(e){case"color":var n=i.getItemVisual(t,"style");return n[i.getVisual("drawType")];case"opacity":return i.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getItemVisual(t,e)}}function cT(i,t){switch(t){case"color":var e=i.getVisual("style");return e[i.getVisual("drawType")];case"opacity":return i.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getVisual(t)}}function mj(i,t,e,n){switch(e){case"color":var r=i.ensureUniqueItemVisual(t,"style");r[i.getVisual("drawType")]=n,i.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":i.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":i.setItemVisual(t,e,n);break}}function yj(i,t){function e(n,r){var a=[];return n.eachComponent({mainType:"series",subType:i,query:r},function(o){a.push(o.seriesIndex)}),a}G([[i+"ToggleSelect","toggleSelect"],[i+"Select","select"],[i+"UnSelect","unselect"]],function(n){t(n[0],function(r,a,o){r=Rt({},r),o.dispatchAction(Rt(r,{type:n[1],seriesIndex:e(a,r)}))})})}function $y(i,t,e,n,r){var a=i+t;e.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=r.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),h=Xg(f,r.fromActionPayload);e.trigger(a,{type:a,seriesId:o.id,name:Vt(h)?f.getName(h[0]):f.getName(h),selected:le(l)?l:Rt({},l)})}})}function Amt(i,t,e){i.on("selectchanged",function(n){var r=e.getModel();n.isFromClick?($y("map","selectchanged",t,r,n),$y("pie","selectchanged",t,r,n)):n.fromAction==="select"?($y("map","selected",t,r,n),$y("pie","selected",t,r,n)):n.fromAction==="unselect"&&($y("map","unselected",t,r,n),$y("pie","unselected",t,r,n))})}function bg(i,t,e){for(var n;i&&!(t(i)&&(n=i,e));)i=i.__hostTarget||i.parent;return n}var wmt=Math.round(Math.random()*9),Emt=typeof Object.defineProperty=="function",Cmt=(function(){function i(){this._id="__ec_inner_"+wmt++}return i.prototype.get=function(t){return this._guard(t)[this._id]},i.prototype.set=function(t,e){var n=this._guard(t);return Emt?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},i.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},i.prototype.has=function(t){return!!this._guard(t)[this._id]},i.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},i})(),Dmt=_n.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,t){var e=t.cx,n=t.cy,r=t.width/2,a=t.height/2;i.moveTo(e,n-a),i.lineTo(e+r,n+a),i.lineTo(e-r,n+a),i.closePath()}}),Rmt=_n.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,t){var e=t.cx,n=t.cy,r=t.width/2,a=t.height/2;i.moveTo(e,n-a),i.lineTo(e+r,n),i.lineTo(e,n+a),i.lineTo(e-r,n),i.closePath()}}),Lmt=_n.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,t){var e=t.x,n=t.y,r=t.width/5*3,a=Math.max(r,t.height),o=r/2,s=o*o/(a-o),l=n-a+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),h=Math.cos(u),p=o*.6,g=o*.7;i.moveTo(e-c,l+s),i.arc(e,l,o,Math.PI-u,Math.PI*2+u),i.bezierCurveTo(e+c-f*p,l+s+h*p,e,n-g,e,n),i.bezierCurveTo(e,n-g,e-c+f*p,l+s+h*p,e-c,l+s),i.closePath()}}),Imt=_n.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,t){var e=t.height,n=t.width,r=t.x,a=t.y,o=n/3*2;i.moveTo(r,a),i.lineTo(r+o,a+e),i.lineTo(r,a+e/4*3),i.lineTo(r-o,a+e),i.lineTo(r,a),i.closePath()}}),Nmt={line:Mr,rect:cn,roundRect:cn,square:cn,circle:nf,diamond:Rmt,pin:Lmt,arrow:Imt,triangle:Dmt},Omt={line:function(i,t,e,n,r){r.x1=i,r.y1=t+n/2,r.x2=i+e,r.y2=t+n/2},rect:function(i,t,e,n,r){r.x=i,r.y=t,r.width=e,r.height=n},roundRect:function(i,t,e,n,r){r.x=i,r.y=t,r.width=e,r.height=n,r.r=Math.min(e,n)/4},square:function(i,t,e,n,r){var a=Math.min(e,n);r.x=i,r.y=t,r.width=a,r.height=a},circle:function(i,t,e,n,r){r.cx=i+e/2,r.cy=t+n/2,r.r=Math.min(e,n)/2},diamond:function(i,t,e,n,r){r.cx=i+e/2,r.cy=t+n/2,r.width=e,r.height=n},pin:function(i,t,e,n,r){r.x=i+e/2,r.y=t+n/2,r.width=e,r.height=n},arrow:function(i,t,e,n,r){r.x=i+e/2,r.y=t+n/2,r.width=e,r.height=n},triangle:function(i,t,e,n,r){r.cx=i+e/2,r.cy=t+n/2,r.width=e,r.height=n}},NC={};G(Nmt,function(i,t){NC[t]=new i});var Pmt=_n.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(i,t,e){var n=xC(i,t,e),r=this.shape;return r&&r.symbolType==="pin"&&t.position==="inside"&&(n.y=e.y+e.height*.4),n},buildPath:function(i,t,e){var n=t.symbolType;if(n!=="none"){var r=NC[n];r||(n="rect",r=NC[n]),Omt[n](t.x,t.y,t.width,t.height,r.shape),r.buildPath(i,r.shape,e)}}});function zmt(i,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=i,e.fill=t||vt.color.neutral00,e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=i:e.fill=i,this.markRedraw()}}function Ar(i,t,e,n,r,a,o){var s=i.indexOf("empty")===0;s&&(i=i.substr(5,1).toLowerCase()+i.substr(6));var l;return i.indexOf("image://")===0?l=gB(i.slice(8),new Oe(t,e,n,r),o?"center":"cover"):i.indexOf("path://")===0?l=i_(i.slice(7),{},new Oe(t,e,n,r),o?"center":"cover"):l=new Pmt({shape:{symbolType:i,x:t,y:e,width:n,height:r}}),l.__isEmptyBrush=s,l.setColor=zmt,a&&l.setColor(a),l}function B_(i){return Vt(i)||(i=[+i,+i]),[i[0]||0,i[1]||0]}function lm(i,t){if(i!=null)return Vt(i)||(i=[i,i]),[se(i[0],t[0])||0,se(_e(i[1],i[0]),t[1])||0]}function Tg(i){return isFinite(i)}function Bmt(i,t,e){var n=t.x==null?0:t.x,r=t.x2==null?1:t.x2,a=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(n=n*e.width+e.x,r=r*e.width+e.x,a=a*e.height+e.y,o=o*e.height+e.y),n=Tg(n)?n:0,r=Tg(r)?r:1,a=Tg(a)?a:0,o=Tg(o)?o:0;var s=i.createLinearGradient(n,a,r,o);return s}function Umt(i,t,e){var n=e.width,r=e.height,a=Math.min(n,r),o=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(o=o*n+e.x,s=s*r+e.y,l=l*a),o=Tg(o)?o:.5,s=Tg(s)?s:.5,l=l>=0&&Tg(l)?l:.5;var u=i.createRadialGradient(o,s,0,o,s,l);return u}function IP(i,t,e){for(var n=t.type==="radial"?Umt(i,t,e):Bmt(i,t,e),r=t.colorStops,a=0;a<r.length;a++)n.addColorStop(r[a].offset,r[a].color);return n}function Vmt(i,t){if(i===t||!i&&!t)return!1;if(!i||!t||i.length!==t.length)return!0;for(var e=0;e<i.length;e++)if(i[e]!==t[e])return!0;return!1}function iw(i){return parseInt(i,10)}function E0(i,t,e){var n=["width","height"][t],r=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(e[n]!=null&&e[n]!=="auto")return parseFloat(e[n]);var s=document.defaultView.getComputedStyle(i);return(i[r]||iw(s[n])||iw(i.style[n]))-(iw(s[a])||0)-(iw(s[o])||0)|0}function Hmt(i,t){return!i||i==="solid"||!(t>0)?null:i==="dashed"?[4*t,2*t]:i==="dotted"?[t]:En(i)?[i]:Vt(i)?i:null}function YB(i){var t=i.style,e=t.lineDash&&t.lineWidth>0&&Hmt(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(e){var r=t.strokeNoScale&&i.getLineScale?i.getLineScale():1;r&&r!==1&&(e=kt(e,function(a){return a/r}),n/=r)}return[e,n]}var kmt=new Kc(!0);function OC(i){var t=i.stroke;return!(t==null||t==="none"||!(i.lineWidth>0))}function IF(i){return typeof i=="string"&&i!=="none"}function PC(i){var t=i.fill;return t!=null&&t!=="none"}function NF(i,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=i.globalAlpha;i.globalAlpha=t.fillOpacity*t.opacity,i.fill(),i.globalAlpha=e}else i.fill()}function OF(i,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=i.globalAlpha;i.globalAlpha=t.strokeOpacity*t.opacity,i.stroke(),i.globalAlpha=e}else i.stroke()}function NP(i,t,e){var n=aB(t.image,t.__image,e);if(dD(n)){var r=i.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*P1),a.scaleSelf(t.scaleX||1,t.scaleY||1),r.setTransform(a)}return r}}function Fmt(i,t,e,n){var r,a=OC(e),o=PC(e),s=e.strokePercent,l=s<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||kmt,f=t.__dirty;if(!n){var h=e.fill,p=e.stroke,g=o&&!!h.colorStops,m=a&&!!p.colorStops,_=o&&!!h.image,S=a&&!!p.image,T=void 0,M=void 0,w=void 0,D=void 0,C=void 0;(g||m)&&(C=t.getBoundingRect()),g&&(T=f?IP(i,h,C):t.__canvasFillGradient,t.__canvasFillGradient=T),m&&(M=f?IP(i,p,C):t.__canvasStrokeGradient,t.__canvasStrokeGradient=M),_&&(w=f||!t.__canvasFillPattern?NP(i,h,t):t.__canvasFillPattern,t.__canvasFillPattern=w),S&&(D=f||!t.__canvasStrokePattern?NP(i,p,t):t.__canvasStrokePattern,t.__canvasStrokePattern=D),g?i.fillStyle=T:_&&(w?i.fillStyle=w:o=!1),m?i.strokeStyle=M:S&&(D?i.strokeStyle=D:a=!1)}var R=t.getGlobalScale();c.setScale(R[0],R[1],t.segmentIgnoreThreshold);var z,N;i.setLineDash&&e.lineDash&&(r=YB(t),z=r[0],N=r[1]);var O=!0;(u||f&g0)&&(c.setDPR(i.dpr),l?c.setContext(null):(c.setContext(i),O=!1),c.reset(),t.buildPath(c,t.shape,n),c.toStatic(),t.pathUpdated()),O&&c.rebuildPath(i,l?s:1),z&&(i.setLineDash(z),i.lineDashOffset=N),n||(e.strokeFirst?(a&&OF(i,e),o&&NF(i,e)):(o&&NF(i,e),a&&OF(i,e))),z&&i.setLineDash([])}function Gmt(i,t,e){var n=t.__image=aB(e.image,t.__image,t,t.onload);if(!(!n||!dD(n))){var r=e.x||0,a=e.y||0,o=t.getWidth(),s=t.getHeight(),l=n.width/n.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=n.width,s=n.height),e.sWidth&&e.sHeight){var u=e.sx||0,c=e.sy||0;i.drawImage(n,u,c,e.sWidth,e.sHeight,r,a,o,s)}else if(e.sx&&e.sy){var u=e.sx,c=e.sy,f=o-u,h=s-c;i.drawImage(n,u,c,f,h,r,a,o,s)}else i.drawImage(n,r,a,o,s)}}function Xmt(i,t,e){var n,r=e.text;if(r!=null&&(r+=""),r){i.font=e.font||yh,i.textAlign=e.textAlign,i.textBaseline=e.textBaseline;var a=void 0,o=void 0;i.setLineDash&&e.lineDash&&(n=YB(t),a=n[0],o=n[1]),a&&(i.setLineDash(a),i.lineDashOffset=o),e.strokeFirst?(OC(e)&&i.strokeText(r,e.x,e.y),PC(e)&&i.fillText(r,e.x,e.y)):(PC(e)&&i.fillText(r,e.x,e.y),OC(e)&&i.strokeText(r,e.x,e.y)),a&&i.setLineDash([])}}var PF=["shadowBlur","shadowOffsetX","shadowOffsetY"],zF=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function _j(i,t,e,n,r){var a=!1;if(!n&&(e=e||{},t===e))return!1;if(n||t.opacity!==e.opacity){vs(i,r),a=!0;var o=Math.max(Math.min(t.opacity,1),0);i.globalAlpha=isNaN(o)?Dg.opacity:o}(n||t.blend!==e.blend)&&(a||(vs(i,r),a=!0),i.globalCompositeOperation=t.blend||Dg.blend);for(var s=0;s<PF.length;s++){var l=PF[s];(n||t[l]!==e[l])&&(a||(vs(i,r),a=!0),i[l]=i.dpr*(t[l]||0))}return(n||t.shadowColor!==e.shadowColor)&&(a||(vs(i,r),a=!0),i.shadowColor=t.shadowColor||Dg.shadowColor),a}function BF(i,t,e,n,r){var a=Mb(t,r.inHover),o=n?null:e&&Mb(e,r.inHover)||{};if(a===o)return!1;var s=_j(i,a,o,n,r);if((n||a.fill!==o.fill)&&(s||(vs(i,r),s=!0),IF(a.fill)&&(i.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(vs(i,r),s=!0),IF(a.stroke)&&(i.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(vs(i,r),s=!0),i.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);i.lineWidth!==u&&(s||(vs(i,r),s=!0),i.lineWidth=u)}for(var c=0;c<zF.length;c++){var f=zF[c],h=f[0];(n||a[h]!==o[h])&&(s||(vs(i,r),s=!0),i[h]=a[h]||f[1])}return s}function Wmt(i,t,e,n,r){return _j(i,Mb(t,r.inHover),e&&Mb(e,r.inHover),n,r)}function Sj(i,t){var e=t.transform,n=i.dpr||1;e?i.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):i.setTransform(n,0,0,n,0,0)}function Ymt(i,t,e){for(var n=!1,r=0;r<i.length;r++){var a=i[r];n=n||a.isZeroArea(),Sj(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}e.allClipped=n}function qmt(i,t){return i&&t?i[0]!==t[0]||i[1]!==t[1]||i[2]!==t[2]||i[3]!==t[3]||i[4]!==t[4]||i[5]!==t[5]:!(!i&&!t)}var UF=1,VF=2,HF=3,kF=4;function Zmt(i){var t=PC(i),e=OC(i);return!(i.lineDash||!(+t^+e)||t&&typeof i.fill!="string"||e&&typeof i.stroke!="string"||i.strokePercent<1||i.strokeOpacity<1||i.fillOpacity<1)}function vs(i,t){t.batchFill&&i.fill(),t.batchStroke&&i.stroke(),t.batchFill="",t.batchStroke=""}function Mb(i,t){return t&&i.__hoverStyle||i.style}function qB(i,t){Mg(i,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Mg(i,t,e,n){var r=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){t.__dirty&=~zs,t.__isRendered=!1;return}var a=t.__clipPaths,o=e.prevElClipPaths,s=!1,l=!1;if((!o||Vmt(a,o))&&(o&&o.length&&(vs(i,e),i.restore(),l=s=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(vs(i,e),i.save(),Ymt(a,i,e),s=!0),e.prevElClipPaths=a),e.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=e.prevEl;u||(l=s=!0);var c=t instanceof _n&&t.autoBatch&&Zmt(t.style);s||qmt(r,u.transform)?(vs(i,e),Sj(i,t)):c||vs(i,e);var f=Mb(t,e.inHover);t instanceof _n?(e.lastDrawType!==UF&&(l=!0,e.lastDrawType=UF),BF(i,t,u,l,e),(!c||!e.batchFill&&!e.batchStroke)&&i.beginPath(),Fmt(i,t,f,c),c&&(e.batchFill=f.fill||"",e.batchStroke=f.stroke||"")):t instanceof n_?(e.lastDrawType!==HF&&(l=!0,e.lastDrawType=HF),BF(i,t,u,l,e),Xmt(i,t,f)):t instanceof da?(e.lastDrawType!==VF&&(l=!0,e.lastDrawType=VF),Wmt(i,t,u,l,e),Gmt(i,t,f)):t.getTemporalDisplayables&&(e.lastDrawType!==kF&&(l=!0,e.lastDrawType=kF),jmt(i,t,e)),c&&n&&vs(i,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}function jmt(i,t,e){var n=t.getDisplayables(),r=t.getTemporalDisplayables();i.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},o,s;for(o=t.getCursor(),s=n.length;o<s;o++){var l=n[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Mg(i,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=r.length;u<c;u++){var l=r[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Mg(i,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,i.restore()}var RI=new Cmt,FF=new $0(100),GF=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function o_(i,t){if(i==="none")return null;var e=t.getDevicePixelRatio(),n=t.getZr(),r=n.painter.type==="svg";i.dirty&&RI.delete(i);var a=RI.get(i);if(a)return a;var o=Re(i,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=r?1:1/e,RI.set(i,s),i.dirty=!1,s;function l(u){for(var c=[e],f=!0,h=0;h<GF.length;++h){var p=o[GF[h]];if(p!=null&&!Vt(p)&&!le(p)&&!En(p)&&typeof p!="boolean"){f=!1;break}c.push(p)}var g;if(f){g=c.join(",")+(r?"-svg":"");var m=FF.get(g);m&&(r?u.svgElement=m:u.image=m)}var _=bj(o.dashArrayX),S=Kmt(o.dashArrayY),T=xj(o.symbol),M=Qmt(_),w=Tj(S),D=!r&&ys.createCanvas(),C=r&&{tag:"g",attrs:{},key:"dcl",children:[]},R=N(),z;D&&(D.width=R.width*e,D.height=R.height*e,z=D.getContext("2d")),O(),f&&FF.put(g,D||C),u.image=D,u.svgElement=C,u.svgWidth=R.width,u.svgHeight=R.height;function N(){for(var U=1,F=0,V=M.length;F<V;++F)U=ak(U,M[F]);for(var W=1,F=0,V=T.length;F<V;++F)W=ak(W,T[F].length);U*=W;var Z=w*M.length*T.length;return{width:Math.max(1,Math.min(U,o.maxTileWidth)),height:Math.max(1,Math.min(Z,o.maxTileHeight))}}function O(){z&&(z.clearRect(0,0,D.width,D.height),o.backgroundColor&&(z.fillStyle=o.backgroundColor,z.fillRect(0,0,D.width,D.height)));for(var U=0,F=0;F<S.length;++F)U+=S[F];if(U<=0)return;for(var V=-w,W=0,Z=0,H=0;V<R.height;){if(W%2===0){for(var j=Z/2%T.length,Y=0,Q=0,nt=0;Y<R.width*2;){for(var q=0,F=0;F<_[H].length;++F)q+=_[H][F];if(q<=0)break;if(Q%2===0){var $=(1-o.symbolSize)*.5,st=Y+_[H][Q]*$,ft=V+S[W]*$,Mt=_[H][Q]*o.symbolSize,dt=S[W]*o.symbolSize,xt=nt/2%T[j].length;Lt(st,ft,Mt,dt,T[j][xt])}Y+=_[H][Q],++nt,++Q,Q===_[H].length&&(Q=0)}++H,H===_.length&&(H=0)}V+=S[W],++Z,++W,W===S.length&&(W=0)}function Lt(Ct,Wt,Xt,ae,at){var wt=r?1:e,It=Ar(at,Ct*wt,Wt*wt,Xt*wt,ae*wt,o.color,o.symbolKeepAspect);if(r){var Nt=n.painter.renderOneToVNode(It);Nt&&C.children.push(Nt)}else qB(z,It)}}}}function xj(i){if(!i||i.length===0)return[["rect"]];if(le(i))return[[i]];for(var t=!0,e=0;e<i.length;++e)if(!le(i[e])){t=!1;break}if(t)return xj([i]);for(var n=[],e=0;e<i.length;++e)le(i[e])?n.push([i[e]]):n.push(i[e]);return n}function bj(i){if(!i||i.length===0)return[[0,0]];if(En(i)){var t=Math.ceil(i);return[[t,t]]}for(var e=!0,n=0;n<i.length;++n)if(!En(i[n])){e=!1;break}if(e)return bj([i]);for(var r=[],n=0;n<i.length;++n)if(En(i[n])){var t=Math.ceil(i[n]);r.push([t,t])}else{var t=kt(i[n],function(s){return Math.ceil(s)});t.length%2===1?r.push(t.concat(t)):r.push(t)}return r}function Kmt(i){if(!i||typeof i=="object"&&i.length===0)return[0,0];if(En(i)){var t=Math.ceil(i);return[t,t]}var e=kt(i,function(n){return Math.ceil(n)});return i.length%2?e.concat(e):e}function Qmt(i){return kt(i,function(t){return Tj(t)})}function Tj(i){for(var t=0,e=0;e<i.length;++e)t+=i[e];return i.length%2===1?t*2:t}function Jmt(i,t){i.eachRawSeries(function(e){if(!i.isSeriesFiltered(e)){var n=e.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var l=n.ensureUniqueItemVisual(o,"style");l.decal=o_(s,t)}});var r=n.getVisual("decal");if(r){var a=n.getVisual("style");a.decal=o_(r,t)}}})}var yu=new Hl,Mj={};function $mt(i,t){Mj[i]=t}function Aj(i){return Mj[i]}var wj={};function Ej(i,t){wj[i]=t}function tyt(i){return wj[i]}var eyt="6.0.0",nyt={zrender:"6.0.0"},iyt=1,ryt=800,ayt=900,oyt=1e3,syt=2e3,lyt=5e3,Cj=1e3,uyt=1100,ZB=2e3,Dj=3e3,cyt=4e3,CD=4500,fyt=4600,hyt=5e3,dyt=6e3,Rj=7e3,Lj={PROCESSOR:{FILTER:oyt,SERIES_FILTER:ryt,STATISTIC:lyt},VISUAL:{LAYOUT:Cj,PROGRESSIVE_LAYOUT:uyt,GLOBAL:ZB,CHART:Dj,POST_CHART_LAYOUT:fyt,COMPONENT:cyt,BRUSH:hyt,CHART_ITEM:CD,ARIA:dyt,DECAL:Rj}},Wr="__flagInMainProcess",rw="__mainProcessVersion",wa="__pendingUpdate",LI="__needsUpdateStatus",XF=/^[a-zA-Z0-9_]+$/,II="__connectUpdateStatus",WF=0,pyt=1,vyt=2;function Ij(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isDisposed()){this.id;return}return Oj(this,i,t)}}function Nj(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Oj(this,i,t)}}function Oj(i,t,e){return e[0]=e[0]&&e[0].toLowerCase(),Hl.prototype[t].apply(i,e)}var Pj=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t})(Hl),zj=Pj.prototype;zj.on=Nj("on");zj.off=Nj("off");var Zv,NI,aw,Wf,ow,OI,PI,t0,e0,YF,qF,zI,ZF,sw,jF,Bj,yl,KF,n0,zC=(function(i){ht(t,i);function t(e,n,r){var a=i.call(this,new bmt)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],r=r||{},a._dom=e;var o="canvas",s="auto",l=!1;a[rw]=1,r.ssr&&uq(function(h){var p=Ue(h),g=p.dataIndex;if(g!=null){var m=ye();return m.set("series_index",p.seriesIndex),m.set("data_index",g),p.ssrType&&m.set("ssr_type",p.ssrType),m}});var u=a._zr=eP(e,{renderer:r.renderer||o,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:_e(r.useDirtyRect,l),useCoarsePointer:_e(r.useCoarsePointer,s),pointerSize:r.pointerSize});a._ssr=r.ssr,a._throttledZrFlush=ED(ue(u.flush,u),17),a._updateTheme(n),a._locale=xvt(r.locale||dZ),a._coordSysMgr=new O_;var c=a._api=jF(a);function f(h,p){return h.__prio-p.__prio}return Kw(UC,f),Kw(zP,f),a._scheduler=new hj(a,c,zP,UC),a._messageCenter=new Pj,a._initEvents(),a.resize=ue(a.resize,a),u.animation.on("frame",a._onframe,a),YF(u,a),qF(u,a),lb(a),a}return t.prototype._onframe=function(){if(!this._disposed){KF(this);var e=this._scheduler;if(this[wa]){var n=this[wa].silent;this[Wr]=!0,n0(this);try{Zv(this),Wf.update.call(this,null,this[wa].updateParams)}catch(l){throw this[Wr]=!1,this[wa]=null,l}this._zr.flush(),this[Wr]=!1,this[wa]=null,t0.call(this,n),e0.call(this,n)}else if(e.unfinished){var r=iyt,a=this._model,o=this._api;e.unfinished=!1;do{var s=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),OI(this,a),e.performVisualTasks(a),sw(this,this._model,o,"remain",{}),r-=+new Date-s}while(r>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,n,r){if(!this[Wr]){if(this._disposed){this.id;return}var a,o,s;if(Le(n)&&(r=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[Wr]=!0,n0(this),!this._model||n){var l=new rgt(this._api),u=this._theme,c=this._model=new HB;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(e,{replaceMerge:o},BP);var f={seriesTransition:s,optionChanged:!0};if(r)this[wa]={silent:a,updateParams:f},this[Wr]=!1,this.getZr().wakeUp();else{try{Zv(this),Wf.update.call(this,null,f)}catch(h){throw this[wa]=null,this[Wr]=!1,h}this._ssr||this._zr.flush(),this[wa]=null,this[Wr]=!1,t0.call(this,a),e0.call(this,a)}}},t.prototype.setTheme=function(e,n){if(!this[Wr]){if(this._disposed){this.id;return}var r=this._model;if(r){var a=n&&n.silent,o=null;this[wa]&&(a==null&&(a=this[wa].silent),o=this[wa].updateParams,this[wa]=null),this[Wr]=!0,n0(this);try{this._updateTheme(e),r.setTheme(this._theme),Zv(this),Wf.update.call(this,{type:"setTheme"},o)}catch(s){throw this[Wr]=!1,s}this[Wr]=!1,t0.call(this,a),e0.call(this,a)}}},t.prototype._updateTheme=function(e){le(e)&&(e=Uj[e]),e&&(e=Ee(e),e&&kZ(e,!0),this._theme=e)},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||xn.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){e=e||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){e=e||{};var n=this._zr.painter;return n.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){var e=this._zr,n=e.storage.getDisplayList();return G(n,function(r){r.stopAnimation(null,!0)}),e.painter.toDataURL()},t.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e=e||{};var n=e.excludeComponents,r=this._model,a=[],o=this;G(n,function(l){r.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return G(a,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var n=e.type==="svg",r=this.group,a=Math.min,o=Math.max,s=1/0;if(VC[r]){var l=s,u=s,c=-s,f=-s,h=[],p=e&&e.pixelRatio||this.getDevicePixelRatio();G(Ig,function(M,w){if(M.group===r){var D=n?M.getZr().painter.getSvgDom().innerHTML:M.renderToCanvas(Ee(e)),C=M.getDom().getBoundingClientRect();l=a(C.left,l),u=a(C.top,u),c=o(C.right,c),f=o(C.bottom,f),h.push({dom:D,left:C.left,top:C.top})}}),l*=p,u*=p,c*=p,f*=p;var g=c-l,m=f-u,_=ys.createCanvas(),S=eP(_,{renderer:n?"svg":"canvas"});if(S.resize({width:g,height:m}),n){var T="";return G(h,function(M){var w=M.left-l,D=M.top-u;T+='<g transform="translate('+w+","+D+')">'+M.dom+"</g>"}),S.painter.getSvgRoot().innerHTML=T,e.connectedBackgroundColor&&S.painter.setBackgroundColor(e.connectedBackgroundColor),S.refreshImmediately(),S.painter.toDataURL()}else return e.connectedBackgroundColor&&S.add(new cn({shape:{x:0,y:0,width:g,height:m},style:{fill:e.connectedBackgroundColor}})),G(h,function(M){var w=new da({style:{x:M.left*p-l,y:M.top*p-u,image:M.dom}});S.add(w)}),S.refreshImmediately(),_.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,n,r){return ow(this,"convertToPixel",e,n,r)},t.prototype.convertToLayout=function(e,n,r){return ow(this,"convertToLayout",e,n,r)},t.prototype.convertFromPixel=function(e,n,r){return ow(this,"convertFromPixel",e,n,r)},t.prototype.containPixel=function(e,n){if(this._disposed){this.id;return}var r=this._model,a,o=O0(r,e);return G(o,function(s,l){l.indexOf("Models")>=0&&G(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(n,u))}},this)},this),!!a},t.prototype.getVisual=function(e,n){var r=this._model,a=O0(r,e,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return l!=null?WB(s,l,n):cT(s,n)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;G(gyt,function(r){var a=function(o){var s=e.getModel(),l=o.target,u,c=r==="globalout";if(c?u={}:l&&bg(l,function(m){var _=Ue(m);if(_&&_.dataIndex!=null){var S=_.dataModel||s.getSeriesByIndex(_.seriesIndex);return u=S&&S.getDataParams(_.dataIndex,_.dataType,l)||{},!0}else if(_.eventData)return u=Rt({},_.eventData),!0},!0),u){var f=u.componentType,h=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",h=u.seriesIndex);var p=f&&h!=null&&s.getComponent(f,h),g=p&&e[p.mainType==="series"?"_chartsMap":"_componentsMap"][p.__viewId];u.event=o,u.type=r,e._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:p,view:g},e.trigger(r,u)}};a.zrEventfulCallAtLast=!0,e._zr.on(r,a,e)});var n=this._messageCenter;G(PP,function(r,a){n.on(a,function(o){e.trigger(a,o)})}),Amt(n,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var e=this.getDom();e&&xq(this.getDom(),KB,"");var n=this,r=n._api,a=n._model;G(n._componentsViews,function(o){o.dispose(a,r)}),G(n._chartsViews,function(o){o.dispose(a,r)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Ig[n.id]},t.prototype.resize=function(e){if(!this[Wr]){if(this._disposed){this.id;return}this._zr.resize(e);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var r=n.resetOption("media"),a=e&&e.silent;this[wa]&&(a==null&&(a=this[wa].silent),r=!0,this[wa]=null),this[Wr]=!0,n0(this);try{r&&Zv(this),Wf.update.call(this,{type:"resize",animation:Rt({duration:0},e&&e.animation)})}catch(o){throw this[Wr]=!1,o}this[Wr]=!1,t0.call(this,a),e0.call(this,a)}}},t.prototype.showLoading=function(e,n){if(this._disposed){this.id;return}if(Le(e)&&(n=e,e=""),e=e||"default",this.hideLoading(),!!UP[e]){var r=UP[e](this._api,n),a=this._zr;this._loadingFX=r,a.add(r)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var n=Rt({},e);return n.type=OP[e.type],n},t.prototype.dispatchAction=function(e,n){if(this._disposed){this.id;return}if(Le(n)||(n={silent:!!n}),!!BC[e.type]&&this._model){if(this[Wr]){this._pendingActions.push(e);return}var r=n.silent;PI.call(this,e,r);var a=n.flush;a?this._zr.flush():a!==!1&&xn.browser.weChat&&this._throttledZrFlush(),t0.call(this,r),e0.call(this,r)}},t.prototype.updateLabelLayout=function(){yu.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){this.id;return}var n=e.seriesIndex,r=this.getModel(),a=r.getSeriesByIndex(n);a.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=(function(){Zv=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),NI(f,!0),NI(f,!1),h.plan()},NI=function(f,h){for(var p=f._model,g=f._scheduler,m=h?f._componentsViews:f._chartsViews,_=h?f._componentsMap:f._chartsMap,S=f._zr,T=f._api,M=0;M<m.length;M++)m[M].__alive=!1;h?p.eachComponent(function(C,R){C!=="series"&&w(R)}):p.eachSeries(w);function w(C){var R=C.__requireNewView;C.__requireNewView=!1;var z="_ec_"+C.id+"_"+C.type,N=!R&&_[z];if(!N){var O=Bc(C.type),U=h?Ti.getClass(O.main,O.sub):si.getClass(O.sub);N=new U,N.init(p,T),_[z]=N,m.push(N),S.add(N.group)}C.__viewId=N.__id=z,N.__alive=!0,N.__model=C,N.group.__ecComponentInfo={mainType:C.mainType,index:C.componentIndex},!h&&g.prepareView(N,C,p,T)}for(var M=0;M<m.length;){var D=m[M];D.__alive?M++:(!h&&D.renderTask.dispose(),S.remove(D.group),D.dispose(p,T),m.splice(M,1),_[D.__id]===D&&delete _[D.__id],D.__id=D.group.__ecComponentInfo=null)}},aw=function(f,h,p,g,m){var _=f._model;if(_.setUpdatePayload(p),!g){G([].concat(f._componentsViews).concat(f._chartsViews),D);return}var S={};S[g+"Id"]=p[g+"Id"],S[g+"Index"]=p[g+"Index"],S[g+"Name"]=p[g+"Name"];var T={mainType:g,query:S};m&&(T.subType=m);var M=p.excludeSeriesId,w;M!=null&&(w=ye(),G(bi(M),function(C){var R=Yr(C,null);R!=null&&w.set(R,!0)})),_&&_.eachComponent(T,function(C){var R=w&&w.get(C.id)!=null;if(!R)if(Ok(p))if(C instanceof di)p.type===Rg&&!p.notBlur&&!C.get(["emphasis","disabled"])&&Tpt(C,p,f._api);else{var z=hB(C.mainType,C.componentIndex,p.name,f._api),N=z.focusSelf,O=z.dispatchers;p.type===Rg&&N&&!p.notBlur&&dP(C.mainType,C.componentIndex,f._api),O&&G(O,function(U){p.type===Rg?Sh(U):xh(U)})}else vP(p)&&C instanceof di&&(wpt(C,p,f._api),Ik(C),yl(f))},f),_&&_.eachComponent(T,function(C){var R=w&&w.get(C.id)!=null;R||D(f[g==="series"?"_chartsMap":"_componentsMap"][C.__viewId])},f);function D(C){C&&C.__alive&&C[h]&&C[h](C.__model,_,f._api,p)}},Wf={prepareAndUpdate:function(f){Zv(this),Wf.update.call(this,f,f&&{optionChanged:f.newOption!=null})},update:function(f,h){var p=this._model,g=this._api,m=this._zr,_=this._coordSysMgr,S=this._scheduler;if(p){p.setUpdatePayload(f),S.restoreData(p,f),S.performSeriesTasks(p),_.create(p,g),S.performDataProcessorTasks(p,f),OI(this,p),_.update(p,g),n(p),S.performVisualTasks(p,f);var T=p.get("backgroundColor")||"transparent";m.setBackgroundColor(T);var M=p.get("darkMode");M!=null&&M!=="auto"&&m.setDarkMode(M),zI(this,p,g,f,h),yu.trigger("afterupdate",p,g)}},updateTransform:function(f){var h=this,p=this._model,g=this._api;if(p){p.setUpdatePayload(f);var m=[];p.eachComponent(function(S,T){if(S!=="series"){var M=h.getViewOfComponentModel(T);if(M&&M.__alive)if(M.updateTransform){var w=M.updateTransform(T,p,g,f);w&&w.update&&m.push(M)}else m.push(M)}});var _=ye();p.eachSeries(function(S){var T=h._chartsMap[S.__viewId];if(T.updateTransform){var M=T.updateTransform(S,p,g,f);M&&M.update&&_.set(S.uid,1)}else _.set(S.uid,1)}),n(p),this._scheduler.performVisualTasks(p,f,{setDirty:!0,dirtyMap:_}),sw(this,p,g,f,{},_),yu.trigger("afterupdate",p,g)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),si.markUpdateMethod(f,"updateView"),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),zI(this,h,this._api,f,{}),yu.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,p=this._model;p&&(p.setUpdatePayload(f),p.eachSeries(function(g){g.getData().clearAllVisual()}),si.markUpdateMethod(f,"updateVisual"),n(p),this._scheduler.performVisualTasks(p,f,{visualType:"visual",setDirty:!0}),p.eachComponent(function(g,m){if(g!=="series"){var _=h.getViewOfComponentModel(m);_&&_.__alive&&_.updateVisual(m,p,h._api,f)}}),p.eachSeries(function(g){var m=h._chartsMap[g.__viewId];m.updateVisual(g,p,h._api,f)}),yu.trigger("afterupdate",p,this._api))},updateLayout:function(f){Wf.update.call(this,f)}};function e(f,h,p,g,m){if(f._disposed){f.id;return}for(var _=f._model,S=f._coordSysMgr.getCoordinateSystems(),T,M=O0(_,p),w=0;w<S.length;w++){var D=S[w];if(D[h]&&(T=D[h](_,M,g,m))!=null)return T}}ow=e,OI=function(f,h){var p=f._chartsMap,g=f._scheduler;h.eachSeries(function(m){g.updateStreamModes(m,p[m.__viewId])})},PI=function(f,h){var p=this,g=this.getModel(),m=f.type,_=f.escapeConnect,S=BC[m],T=(S.update||"update").split(":"),M=T.pop(),w=T[0]!=null&&Bc(T[0]);this[Wr]=!0,n0(this);var D=[f],C=!1;f.batch&&(C=!0,D=kt(f.batch,function(H){return H=Re(Rt({},H),f),H.batch=null,H}));var R=[],z,N=[],O=S.nonRefinedEventType,U=vP(f),F=Ok(f);if(F&&Gq(this._api),G(D,function(H){var j=S.action(H,g,p._api);if(S.refineEvent?N.push(j):z=j,z=z||Rt({},H),z.type=O,R.push(z),F){var Y=iB(f),Q=Y.queryOptionMap,nt=Y.mainTypeSpecified,q=nt?Q.keys()[0]:"series";aw(p,M,H,q),yl(p)}else U?(aw(p,M,H,"series"),yl(p)):w&&aw(p,M,H,w.main,w.sub)}),M!=="none"&&!F&&!U&&!w)try{this[wa]?(Zv(this),Wf.update.call(this,f),this[wa]=null):Wf[M].call(this,f)}catch(H){throw this[Wr]=!1,H}if(C?z={type:O,escapeConnect:_,batch:R}:z=R[0],this[Wr]=!1,!h){var V=void 0;if(S.refineEvent){var W=S.refineEvent(N,f,g,this._api).eventContent;ja(Le(W)),V=Re({type:S.refinedEventType},W),V.fromAction=f.type,V.fromActionPayload=f,V.escapeConnect=!0}var Z=this._messageCenter;Z.trigger(z.type,z),V&&Z.trigger(V.type,V)}},t0=function(f){for(var h=this._pendingActions;h.length;){var p=h.shift();PI.call(this,p,f)}},e0=function(f){!f&&this.trigger("updated")},YF=function(f,h){f.on("rendered",function(p){h.trigger("rendered",p),f.animation.isFinished()&&!h[wa]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},qF=function(f,h){f.on("mouseover",function(p){var g=p.target,m=bg(g,mb);m&&(Mpt(m,p,h._api),yl(h))}).on("mouseout",function(p){var g=p.target,m=bg(g,mb);m&&(Apt(m,p,h._api),yl(h))}).on("click",function(p){var g=p.target,m=bg(g,function(T){return Ue(T).dataIndex!=null},!0);if(m){var _=m.selected?"unselect":"select",S=Ue(m);h._api.dispatchAction({type:_,dataType:S.dataType,dataIndexInside:S.dataIndex,seriesIndex:S.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function r(f){var h=[],p=[],g=!1;if(f.eachComponent(function(T,M){var w=M.get("zlevel")||0,D=M.get("z")||0,C=M.getZLevelKey();g=g||!!C,(T==="series"?p:h).push({zlevel:w,z:D,idx:M.componentIndex,type:T,key:C})}),g){var m=h.concat(p),_,S;Kw(m,function(T,M){return T.zlevel===M.zlevel?T.z-M.z:T.zlevel-M.zlevel}),G(m,function(T){var M=f.getComponent(T.type,T.idx),w=T.zlevel,D=T.key;_!=null&&(w=Math.max(_,w)),D?(w===_&&D!==S&&w++,S=D):S&&(w===_&&w++,S=""),_=w,M.setZLevel(w)})}}zI=function(f,h,p,g,m){r(h),ZF(f,h,p,g,m),G(f._chartsViews,function(_){_.__alive=!1}),sw(f,h,p,g,m),G(f._chartsViews,function(_){_.__alive||_.remove(h,p)})},ZF=function(f,h,p,g,m,_){G(_||f._componentsViews,function(S){var T=S.__model;u(T,S),S.render(T,h,p,g),l(T,S),c(T,S)})},sw=function(f,h,p,g,m,_){var S=f._scheduler;m=Rt(m||{},{updatedSeries:h.getSeries()}),yu.trigger("series:beforeupdate",h,p,m);var T=!1;h.eachSeries(function(M){var w=f._chartsMap[M.__viewId];w.__alive=!0;var D=w.renderTask;S.updatePayload(D,g),u(M,w),_&&_.get(M.uid)&&D.dirty(),D.perform(S.getPerformArgs(D))&&(T=!0),w.group.silent=!!M.get("silent"),s(M,w),Ik(M)}),S.unfinished=T||S.unfinished,yu.trigger("series:layoutlabels",h,p,m),yu.trigger("series:transition",h,p,m),h.eachSeries(function(M){var w=f._chartsMap[M.__viewId];l(M,w),c(M,w)}),o(f,h),yu.trigger("series:afterupdate",h,p,m)},yl=function(f){f[LI]=!0,f.getZr().wakeUp()},n0=function(f){f[rw]=(f[rw]+1)%1e3},KF=function(f){f[LI]&&(f.getZr().storage.traverse(function(h){P0(h)||a(h)}),f[LI]=!1)};function a(f){for(var h=[],p=f.currentStates,g=0;g<p.length;g++){var m=p[g];m==="emphasis"||m==="blur"||m==="select"||h.push(m)}f.selected&&f.states.select&&h.push("select"),f.hoverState===yD&&f.states.emphasis?h.push("emphasis"):f.hoverState===iT&&f.states.blur&&h.push("blur"),f.useStates(h)}function o(f,h){var p=f._zr,g=p.storage,m=0;g.traverse(function(_){_.isGroup||m++}),m>h.get("hoverLayerThreshold")&&!xn.node&&!xn.worker&&h.eachSeries(function(_){if(!_.preventUsingHoverLayer){var S=f._chartsMap[_.__viewId];S.__alive&&S.eachRendered(function(T){T.states.emphasis&&(T.states.emphasis.hoverLayer=!0)})}})}function s(f,h){var p=f.get("blendMode")||null;h.eachRendered(function(g){g.isGroup||(g.style.blend=p)})}function l(f,h){if(!f.preventAutoZ){var p=Zg(f);h.eachRendered(function(g){return xD(g,p.z,p.zlevel),!0})}}function u(f,h){h.eachRendered(function(p){if(!P0(p)){var g=p.getTextContent(),m=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function c(f,h){var p=f.getModel("stateAnimation"),g=f.isAnimationEnabled(),m=p.get("duration"),_=m>0?{duration:m,delay:p.get("delay"),easing:p.get("easing")}:null;h.eachRendered(function(S){if(S.states&&S.states.emphasis){if(P0(S))return;if(S instanceof _n&&Ipt(S),S.__dirty){var T=S.prevStates;T&&S.useStates(T)}if(g){S.stateTransition=_;var M=S.getTextContent(),w=S.getTextGuideLine();M&&(M.stateTransition=_),w&&(w.stateTransition=_)}S.__dirty&&a(S)}})}jF=function(f){return new((function(h){ht(p,h);function p(){return h!==null&&h.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(g){for(;g;){var m=g.__ecComponentInfo;if(m!=null)return f._model.getComponent(m.mainType,m.index);g=g.parent}},p.prototype.enterEmphasis=function(g,m){Sh(g,m),yl(f)},p.prototype.leaveEmphasis=function(g,m){xh(g,m),yl(f)},p.prototype.enterBlur=function(g){Vq(g),yl(f)},p.prototype.leaveBlur=function(g){fB(g),yl(f)},p.prototype.enterSelect=function(g){Hq(g),yl(f)},p.prototype.leaveSelect=function(g){kq(g),yl(f)},p.prototype.getModel=function(){return f.getModel()},p.prototype.getViewOfComponentModel=function(g){return f.getViewOfComponentModel(g)},p.prototype.getViewOfSeriesModel=function(g){return f.getViewOfSeriesModel(g)},p.prototype.getMainProcessVersion=function(){return f[rw]},p})(VZ))(f)},Bj=function(f){function h(p,g){for(var m=0;m<p.length;m++){var _=p[m];_[II]=g}}G(OP,function(p,g){f._messageCenter.on(g,function(m){if(VC[f.group]&&f[II]!==WF){if(m&&m.escapeConnect)return;var _=f.makeActionFromEvent(m),S=[];G(Ig,function(T){T!==f&&T.group===f.group&&S.push(T)}),h(S,WF),G(S,function(T){T[II]!==pyt&&T.dispatchAction(_)}),h(S,vyt)}})})}})(),t})(Hl),jB=zC.prototype;jB.on=Ij("on");jB.off=Ij("off");jB.one=function(i,t,e){var n=this;function r(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];t&&t.apply&&t.apply(this,a),n.off(i,r)}this.on.call(this,i,r,e)};var gyt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var BC={},OP={},PP={},zP=[],BP=[],UC=[],Uj={},UP={},Ig={},VC={},myt=+new Date-0,yyt=+new Date-0,KB="_echarts_instance_";function _yt(i,t,e){var n=!(e&&e.ssr);if(n){var r=QB(i);if(r)return r}var a=new zC(i,t,e);return a.id="ec_"+myt++,Ig[a.id]=a,n&&xq(i,KB,a.id),Bj(a),yu.trigger("afterinit",a),a}function Syt(i){if(Vt(i)){var t=i;i=null,G(t,function(e){e.group!=null&&(i=e.group)}),i=i||"g_"+yyt++,G(t,function(e){e.group=i})}return VC[i]=!0,i}function Vj(i){VC[i]=!1}var xyt=Vj;function byt(i){le(i)?i=Ig[i]:i instanceof zC||(i=QB(i)),i instanceof zC&&!i.isDisposed()&&i.dispose()}function QB(i){return Ig[_dt(i,KB)]}function Tyt(i){return Ig[i]}function JB(i,t){Uj[i]=t}function $B(i){tn(BP,i)<0&&BP.push(i)}function tU(i,t){eU(zP,i,t,syt)}function Hj(i){DD("afterinit",i)}function kj(i){DD("afterupdate",i)}function DD(i,t){yu.on(i,t)}function Uu(i,t,e){var n,r,a,o,s;Te(t)&&(e=t,t=""),Le(i)?(n=i.type,r=i.event,o=i.update,s=i.publishNonRefinedEvent,e||(e=i.action),a=i.refineEvent):(n=i,r=t);function l(c){return c.toLowerCase()}r=l(r||n);var u=a?l(n):r;BC[n]||(ja(XF.test(n)&&XF.test(r)),a&&ja(r!==n),BC[n]={actionType:n,refinedEventType:r,nonRefinedEventType:u,update:o,action:e,refineEvent:a},PP[r]=1,a&&s&&(PP[u]=1),OP[u]=n)}function Fj(i,t){O_.register(i,t)}function Myt(i){var t=O_.get(i);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function Ayt(i,t){Ej(i,t)}function Gj(i,t){eU(UC,i,t,Cj,"layout")}function _p(i,t){eU(UC,i,t,Dj,"visual")}var QF=[];function eU(i,t,e,n,r){if((Te(t)||Le(t))&&(e=t,t=n),!(tn(QF,e)>=0)){QF.push(e);var a=hj.wrapStageHandler(e,r);a.__prio=t,a.__raw=e,i.push(a)}}function nU(i,t){UP[i]=t}function wyt(i){wY({createCanvas:i})}function Xj(i,t,e){var n=Aj("registerMap");n&&n(i,t,e)}function Eyt(i){var t=Aj("getMap");return t&&t(i)}var Wj=zgt;_p(ZB,lmt);_p(CD,umt);_p(CD,cmt);_p(ZB,Tmt);_p(CD,Mmt);_p(Rj,Jmt);$B(kZ);tU(ayt,ggt);nU("default",fmt);Uu({type:Rg,event:Rg,update:Rg},ur);Uu({type:iE,event:iE,update:iE},ur);Uu({type:MC,event:uB,update:MC,action:ur,refineEvent:iU,publishNonRefinedEvent:!0});Uu({type:fP,event:uB,update:fP,action:ur,refineEvent:iU,publishNonRefinedEvent:!0});Uu({type:AC,event:uB,update:AC,action:ur,refineEvent:iU,publishNonRefinedEvent:!0});function iU(i,t,e,n){return{eventContent:{selected:Ept(e),isFromClick:t.isFromClick||!1}}}JB("default",{});JB("dark",gj);var Cyt={},JF=[],Dyt={registerPreprocessor:$B,registerProcessor:tU,registerPostInit:Hj,registerPostUpdate:kj,registerUpdateLifecycle:DD,registerAction:Uu,registerCoordinateSystem:Fj,registerLayout:Gj,registerVisual:_p,registerTransform:Wj,registerLoading:nU,registerMap:Xj,registerImpl:$mt,PRIORITY:Lj,ComponentModel:pn,ComponentView:Ti,SeriesModel:di,ChartView:si,registerComponentModel:function(i){pn.registerClass(i)},registerComponentView:function(i){Ti.registerClass(i)},registerSeriesModel:function(i){di.registerClass(i)},registerChartView:function(i){si.registerClass(i)},registerCustomSeries:function(i,t){Ej(i,t)},registerSubTypeDefaulter:function(i,t){pn.registerSubTypeDefaulter(i,t)},registerPainter:function(i,t){sq(i,t)}};function an(i){if(Vt(i)){G(i,function(t){an(t)});return}tn(JF,i)>=0||(JF.push(i),Te(i)&&(i={install:i}),i.install(Dyt))}function kx(i){return i==null?0:i.length||1}function $F(i){return i}var bh=(function(){function i(t,e,n,r,a,o){this._old=t,this._new=e,this._oldKeyGetter=n||$F,this._newKeyGetter=r||$F,this.context=a,this._diffModeMultiple=o==="multiple"}return i.prototype.add=function(t){return this._add=t,this},i.prototype.update=function(t){return this._update=t,this},i.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},i.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},i.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},i.prototype.remove=function(t){return this._remove=t,this},i.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},i.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},r=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,n,a,"_newKeyGetter");for(var o=0;o<t.length;o++){var s=r[o],l=n[s],u=kx(l);if(u>1){var c=l.shift();l.length===1&&(n[s]=l[0]),this._update&&this._update(c,o)}else u===1?(n[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},i.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},r={},a=[],o=[];this._initIndexMap(t,n,a,"_oldKeyGetter"),this._initIndexMap(e,r,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],u=n[l],c=r[l],f=kx(u),h=kx(c);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),r[l]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),r[l]=null;else if(f===1&&h===1)this._update&&this._update(c,u),r[l]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),r[l]=null;else if(f>1)for(var p=0;p<f;p++)this._remove&&this._remove(u[p]);else this._remove&&this._remove(u)}this._performRestAdd(o,r)},i.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=e[r],o=kx(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);e[r]=null}},i.prototype._initIndexMap=function(t,e,n,r){for(var a=this._diffModeMultiple,o=0;o<t.length;o++){var s="_ec_"+this[r](t[o],o);if(a||(n[o]=s),!!e){var l=e[s],u=kx(l);u===0?(e[s]=o,a&&n.push(s)):u===1?e[s]=[l,o]:l.push(o)}}},i})(),Ryt=(function(){function i(t,e){this._encode=t,this._schema=e}return i.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},i.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},i})();function Lyt(i,t){var e={},n=e.encode={},r=ye(),a=[],o=[],s={};G(i.dimensions,function(h){var p=i.getDimensionInfo(h),g=p.coordDim;if(g){var m=p.coordDimIndex;BI(n,g)[m]=h,p.isExtraCoord||(r.set(g,1),Iyt(p.type)&&(a[0]=h),BI(s,g)[m]=i.getDimensionIndex(p.name)),p.defaultTooltip&&o.push(h)}IZ.each(function(_,S){var T=BI(n,S),M=p.otherDims[S];M!=null&&M!==!1&&(T[M]=p.name)})});var l=[],u={};r.each(function(h,p){var g=n[p];u[p]=g[0],l=l.concat(g)}),e.dataDimsOnCoord=l,e.dataDimIndicesOnCoord=kt(l,function(h){return i.getDimensionInfo(h).storeDimIndex}),e.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(a=c.slice());var f=n.tooltip;return f&&f.length?o=f.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,e.userOutput=new Ryt(s,t),e}function BI(i,t){return i.hasOwnProperty(t)||(i[t]=[]),i[t]}function HC(i){return i==="category"?"ordinal":i==="time"?"time":"float"}function Iyt(i){return!(i==="ordinal"||i==="time")}var cE=(function(){function i(t){this.otherDims={},t!=null&&Rt(this,t)}return i})(),Nyt=gn(),Oyt={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Yj=(function(){function i(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return i.prototype.isDimensionOmitted=function(){return this._dimOmitted},i.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=jj(this.source)))},i.prototype.getSourceDimensionIndex=function(t){return _e(this._dimNameMap.get(t),-1)},i.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},i.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=GZ(this.source),n=!Kj(t),r="",a=[],o=0,s=0;o<t;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=e?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var h=this.getSourceDimension(o);h&&(l=e?h.name:null,u=h.type)}a.push({property:l,type:u,ordinalMeta:c}),e&&l!=null&&(!f||!f.isCalculationCoord)&&(r+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=Oyt[u]||"f",c&&(r+=c.uid),r+="$"}var p=this.source,g=[p.seriesLayoutBy,p.startIndex,r].join("$$");return{dimensions:a,hash:g}},i.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var r=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(r=a.name),n++;else{var o=this.getSourceDimension(e);o&&(r=o.name)}t.push(r)}return t},i.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},i})();function qj(i){return i instanceof Yj}function Zj(i){for(var t=ye(),e=0;e<(i||[]).length;e++){var n=i[e],r=Le(n)?n.name:n;r!=null&&t.get(r)==null&&t.set(r,e)}return t}function jj(i){var t=Nyt(i);return t.dimNameMap||(t.dimNameMap=Zj(i.dimensionsDefine))}function Kj(i){return i>30}var Fx=Le,Cd=kt,Pyt=typeof Int32Array>"u"?Array:Int32Array,zyt="e\0\0",tG=-1,Byt=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Uyt=["_approximateExtent"],eG,lw,Gx,Xx,UI,Wx,VI,xo=(function(){function i(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,r=!1;qj(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,n=t),n=n||["x","y"];for(var a={},o=[],s={},l=!1,u={},c=0;c<n.length;c++){var f=n[c],h=le(f)?new cE({name:f}):f instanceof cE?f:new cE(f),p=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=p,h.coordDimIndex=0);var g=h.otherDims=h.otherDims||{};o.push(p),a[p]=h,u[p]!=null&&(l=!0),h.createInvertedIndices&&(s[p]=[]);var m=c;En(h.storeDimIndex)&&(m=h.storeDimIndex),g.itemName===0&&(this._nameDimIdx=m),g.itemId===0&&(this._idDimIdx=m),r&&(h.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=s,this._dimOmitted){var _=this._dimIdxToName=ye();G(o,function(S){_.set(a[S].storeDimIndex,S)})}}return i.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(n!=null)return n;var r=this._schema.getSourceDimension(e);if(r)return r.name},i.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},i.prototype._recognizeDimIndex=function(t){if(En(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},i.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},i.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},i.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(n){return e.hasOwnProperty(n)?e[n]:void 0}:function(n){return e[n]}},i.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},i.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(e==null)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return r?r[e]:null},i.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,n=e.encode[t];return(n||[]).slice()},i.prototype.getStore=function(){return this._store},i.prototype.initData=function(t,e,n){var r=this,a;if(t instanceof EP&&(a=t),!a){var o=this.dimensions,s=kB(t)||Za(t)?new XZ(t,o.length):t;a=new EP;var l=Cd(o,function(u){return{type:r._dimInfos[u].type,property:u}});a.initData(s,l,n)}this._store=a,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=Lyt(this,this._schema),this.userOutput=this._dimSummary.userOutput},i.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},i.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e&&e.length),r=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var s=r;s<a;s++){var l=s-r;this._nameList[s]=e[l],o&&VI(this,s)}},i.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var r=this._dimInfos[e[n]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},i.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==tp&&!t.fillStorage},i.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store,r=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=r.getSource().sourceFormat,l=s===Zs;if(l&&!r.pure)for(var u=[],c=t;c<e;c++){var f=r.getItem(c,u);if(!this.hasItemOption&&odt(f)&&(this.hasItemOption=!0),f){var h=f.name;a[c]==null&&h!=null&&(a[c]=Yr(h,null));var p=f.id;o[c]==null&&p!=null&&(o[c]=Yr(p,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<e;c++)VI(this,c);eG(this)}},i.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},i.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},i.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},i.prototype.setCalculationInfo=function(t,e){Fx(t)?Rt(this._calculationInfo,t):this._calculationInfo[t]=e},i.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return n==null&&this._nameDimIdx!=null&&(n=Gx(this,this._nameDimIdx,e)),n==null&&(n=""),n},i.prototype._getCategory=function(t,e){var n=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[n]:n},i.prototype.getId=function(t){return lw(this,this.getRawIndex(t))},i.prototype.count=function(){return this._store.count()},i.prototype.get=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.get(r.storeDimIndex,e)},i.prototype.getByRawIndex=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.getByRawIndex(r.storeDimIndex,e)},i.prototype.getIndices=function(){return this._store.getIndices()},i.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},i.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},i.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},i.prototype.getValues=function(t,e){var n=this,r=this._store;return Vt(t)?r.getValues(Cd(t,function(a){return n._getStoreDimIndex(a)}),e):r.getValues(t)},i.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,r=e.length;n<r;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},i.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},i.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},i.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},i.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t],r=n&&n[e];return r==null||isNaN(r)?tG:r},i.prototype.each=function(t,e,n){Te(t)&&(n=e,e=t,t=[]);var r=n||this,a=Cd(Xx(t),this._getStoreDimIndex,this);this._store.each(a,r?ue(e,r):e)},i.prototype.filterSelf=function(t,e,n){Te(t)&&(n=e,e=t,t=[]);var r=n||this,a=Cd(Xx(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,r?ue(e,r):e),this},i.prototype.selectRange=function(t){var e=this,n={},r=Tn(t);return G(r,function(a){var o=e._getStoreDimIndex(a);n[o]=t[a]}),this._store=this._store.selectRange(n),this},i.prototype.mapArray=function(t,e,n){Te(t)&&(n=e,e=t,t=[]),n=n||this;var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n),r},i.prototype.map=function(t,e,n,r){var a=n||r||this,o=Cd(Xx(t),this._getStoreDimIndex,this),s=Wx(this);return s._store=this._store.map(o,a?ue(e,a):e),s},i.prototype.modify=function(t,e,n,r){var a=n||r||this,o=Cd(Xx(t),this._getStoreDimIndex,this);this._store.modify(o,a?ue(e,a):e)},i.prototype.downSample=function(t,e,n,r){var a=Wx(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),e,n,r),a},i.prototype.minmaxDownSample=function(t,e){var n=Wx(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),n},i.prototype.lttbDownSample=function(t,e){var n=Wx(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},i.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},i.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new yn(n,e,e&&e.ecModel)},i.prototype.diff=function(t){var e=this;return new bh(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return lw(t,n)},function(n){return lw(e,n)})},i.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},i.prototype.setVisual=function(t,e){this._visual=this._visual||{},Fx(t)?Rt(this._visual,t):this._visual[t]=e},i.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],r=n&&n[e];return r??this.getVisual(e)},i.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},i.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,r=n[t];r||(r=n[t]={});var a=r[e];return a==null&&(a=this.getVisual(e),Vt(a)?a=a.slice():Fx(a)&&(a=Rt({},a)),r[e]=a),a},i.prototype.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,Fx(e)?Rt(r,e):r[e]=n},i.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},i.prototype.setLayout=function(t,e){Fx(t)?Rt(this._layout,t):this._layout[t]=e},i.prototype.getLayout=function(t){return this._layout[t]},i.prototype.getItemLayout=function(t){return this._itemLayouts[t]},i.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?Rt(this._itemLayouts[t]||{},e):e},i.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},i.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;cP(n,this.dataType,t,e),this._graphicEls[t]=e},i.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},i.prototype.eachItemGraphicEl=function(t,e){G(this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},i.prototype.cloneShallow=function(t){return t||(t=new i(this._schema?this._schema:Cd(this.dimensions,this._getDimInfo,this),this.hostModel)),UI(t,this),t._store=this._store,t},i.prototype.wrapMethod=function(t,e){var n=this[t];Te(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var r=n.apply(this,arguments);return e.apply(this,[r].concat(aD(arguments)))})},i.internalField=(function(){eG=function(t){var e=t._invertedIndicesMap;G(e,function(n,r){var a=t._dimInfos[r],o=a.ordinalMeta,s=t._store;if(o){n=e[r]=new Pyt(o.categories.length);for(var l=0;l<n.length;l++)n[l]=tG;for(var l=0;l<s.count();l++)n[s.get(a.storeDimIndex,l)]=l}})},Gx=function(t,e,n){return Yr(t._getCategory(e,n),null)},lw=function(t,e){var n=t._idList[e];return n==null&&t._idDimIdx!=null&&(n=Gx(t,t._idDimIdx,e)),n==null&&(n=zyt+e),n},Xx=function(t){return Vt(t)||(t=t!=null?[t]:[]),t},Wx=function(t){var e=new i(t._schema?t._schema:Cd(t.dimensions,t._getDimInfo,t),t.hostModel);return UI(e,t),e},UI=function(t,e){G(Byt.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,G(Uyt,function(n){t[n]=Ee(e[n])}),t._calculationInfo=Rt({},e._calculationInfo)},VI=function(t,e){var n=t._nameList,r=t._idList,a=t._nameDimIdx,o=t._idDimIdx,s=n[e],l=r[e];if(s==null&&a!=null&&(n[e]=s=Gx(t,a,e)),l==null&&o!=null&&(r[e]=l=Gx(t,o,e)),l==null&&s!=null){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),r[e]=l}}})(),i})();function Vyt(i,t){return U_(i,t).dimensions}function U_(i,t){kB(i)||(i=FB(i)),t=t||{};var e=t.coordDimensions||[],n=t.dimensionsDefine||i.dimensionsDefine||[],r=ye(),a=[],o=kyt(i,e,n,t.dimensionsCount),s=t.canOmitUnusedDimensions&&Kj(o),l=n===i.dimensionsDefine,u=l?jj(i):Zj(n),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(i,o));for(var f=ye(c),h=new JZ(o),p=0;p<h.length;p++)h[p]=-1;function g(N){var O=h[N];if(O<0){var U=n[N],F=Le(U)?U:{name:U},V=new cE,W=F.name;W!=null&&u.get(W)!=null&&(V.name=V.displayName=W),F.type!=null&&(V.type=F.type),F.displayName!=null&&(V.displayName=F.displayName);var Z=a.length;return h[N]=Z,V.storeDimIndex=N,a.push(V),V}return a[O]}if(!s)for(var p=0;p<o;p++)g(p);f.each(function(N,O){var U=bi(N).slice();if(U.length===1&&!le(U[0])&&U[0]<0){f.set(O,!1);return}var F=f.set(O,[]);G(U,function(V,W){var Z=le(V)?u.get(V):V;Z!=null&&Z<o&&(F[W]=Z,_(g(Z),O,W))})});var m=0;G(e,function(N){var O,U,F,V;if(le(N))O=N,V={};else{V=N,O=V.name;var W=V.ordinalMeta;V.ordinalMeta=null,V=Rt({},V),V.ordinalMeta=W,U=V.dimsDef,F=V.otherDims,V.name=V.coordDim=V.coordDimIndex=V.dimsDef=V.otherDims=null}var Z=f.get(O);if(Z!==!1){if(Z=bi(Z),!Z.length)for(var H=0;H<(U&&U.length||1);H++){for(;m<o&&g(m).coordDim!=null;)m++;m<o&&Z.push(m++)}G(Z,function(j,Y){var Q=g(j);if(l&&V.type!=null&&(Q.type=V.type),_(Re(Q,V),O,Y),Q.name==null&&U){var nt=U[Y];!Le(nt)&&(nt={name:nt}),Q.name=Q.displayName=nt.name,Q.defaultTooltip=nt.defaultTooltip}F&&Re(Q.otherDims,F)})}});function _(N,O,U){IZ.get(O)!=null?N.otherDims[O]=U:(N.coordDim=O,N.coordDimIndex=U,r.set(O,!0))}var S=t.generateCoord,T=t.generateCoordCount,M=T!=null;T=S?T||1:0;var w=S||"value";function D(N){N.name==null&&(N.name=N.coordDim)}if(s)G(a,function(N){D(N)}),a.sort(function(N,O){return N.storeDimIndex-O.storeDimIndex});else for(var C=0;C<o;C++){var R=g(C),z=R.coordDim;z==null&&(R.coordDim=Fyt(w,r,M),R.coordDimIndex=0,(!S||T<=0)&&(R.isExtraCoord=!0),T--),D(R),R.type==null&&(zZ(i,C)===Ga.Must||R.isExtraCoord&&(R.otherDims.itemName!=null||R.otherDims.seriesName!=null))&&(R.type="ordinal")}return Hyt(a),new Yj({source:i,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function Hyt(i){for(var t=ye(),e=0;e<i.length;e++){var n=i[e],r=n.name,a=t.get(r)||0;a>0&&(n.name=r+(a-1)),a++,t.set(r,a)}}function kyt(i,t,e,n){var r=Math.max(i.dimensionsDetectedCount||1,t.length,e.length,n||0);return G(t,function(a){var o;Le(a)&&(o=a.dimsDef)&&(r=Math.max(r,o.length))}),r}function Fyt(i,t,e){if(e||t.hasKey(i)){for(var n=0;t.hasKey(i+n);)n++;i+=n}return t.set(i,!0),i}var Gyt=(function(){function i(t){this.coordSysDims=[],this.axisMap=ye(),this.categoryAxisMap=ye(),this.coordSysName=t}return i})();function Xyt(i){var t=i.get("coordinateSystem"),e=new Gyt(t),n=Wyt[t];if(n)return n(i,e,e.axisMap,e.categoryAxisMap),e}var Wyt={cartesian2d:function(i,t,e,n){var r=i.getReferringComponents("xAxis",$i).models[0],a=i.getReferringComponents("yAxis",$i).models[0];t.coordSysDims=["x","y"],e.set("x",r),e.set("y",a),i0(r)&&(n.set("x",r),t.firstCategoryDimIndex=0),i0(a)&&(n.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(i,t,e,n){var r=i.getReferringComponents("singleAxis",$i).models[0];t.coordSysDims=["single"],e.set("single",r),i0(r)&&(n.set("single",r),t.firstCategoryDimIndex=0)},polar:function(i,t,e,n){var r=i.getReferringComponents("polar",$i).models[0],a=r.findAxisModel("radiusAxis"),o=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",o),i0(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),i0(o)&&(n.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(i,t,e,n){t.coordSysDims=["lng","lat"]},parallel:function(i,t,e,n){var r=i.ecModel,a=r.getComponent("parallel",i.get("parallelIndex")),o=t.coordSysDims=a.dimensions.slice();G(a.parallelAxisIndex,function(s,l){var u=r.getComponent("parallelAxis",s),c=o[l];e.set(c,u),i0(u)&&(n.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})},matrix:function(i,t,e,n){var r=i.getReferringComponents("matrix",$i).models[0];t.coordSysDims=["x","y"];var a=r.getDimensionModel("x"),o=r.getDimensionModel("y");e.set("x",a),e.set("y",o),n.set("x",a),n.set("y",o)}};function i0(i){return i.get("type")==="category"}function Qj(i,t,e){e=e||{};var n=e.byIndex,r=e.stackedCoordDimension,a,o,s;Yyt(t)?a=t:(o=t.schema,a=o.dimensions,s=t.store);var l=!!(i&&i.get("stack")),u,c,f,h;if(G(a,function(T,M){le(T)&&(a[M]=T={name:T}),l&&!T.isExtraCoord&&(!n&&!u&&T.ordinalMeta&&(u=T),!c&&T.type!=="ordinal"&&T.type!=="time"&&(!r||r===T.coordDim)&&(c=T))}),c&&!n&&!u&&(n=!0),c){f="__\0ecstackresult_"+i.id,h="__\0ecstackedover_"+i.id,u&&(u.createInvertedIndices=!0);var p=c.coordDim,g=c.type,m=0;G(a,function(T){T.coordDim===p&&m++});var _={name:f,coordDim:p,coordDimIndex:m,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},S={name:h,coordDim:h,coordDimIndex:m+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(_.storeDimIndex=s.ensureCalculationDimension(h,g),S.storeDimIndex=s.ensureCalculationDimension(f,g)),o.appendCalculationDimension(_),o.appendCalculationDimension(S)):(a.push(_),a.push(S))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:h,stackResultDimension:f}}function Yyt(i){return!qj(i.schema)}function Th(i,t){return!!t&&t===i.getCalculationInfo("stackedDimension")}function rU(i,t){return Th(i,t)?i.getCalculationInfo("stackResultDimension"):t}function qyt(i,t){var e=i.get("coordinateSystem"),n=O_.get(e),r;return t&&t.coordSysDims&&(r=kt(t.coordSysDims,function(a){var o={name:a},s=t.axisMap.get(a);if(s){var l=s.get("type");o.type=HC(l)}return o})),r||(r=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),r}function Zyt(i,t,e){var n,r;return e&&G(i,function(a,o){var s=a.coordDim,l=e.categoryAxisMap.get(s);l&&(n==null&&(n=o),a.ordinalMeta=l.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(r=!0)}),!r&&n!=null&&(i[n].otherDims.itemName=0),n}function rf(i,t,e){e=e||{};var n=t.getSourceManager(),r,a=!1;i?(a=!0,r=FB(i)):(r=n.getSource(),a=r.sourceFormat===Zs);var o=Xyt(t),s=qyt(t,o),l=e.useEncodeDefaulter,u=Te(l)?l:l?Qe(PZ,s,t):null,c={coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=U_(r,c),h=Zyt(f.dimensions,e.createInvertedIndices,o),p=a?null:n.getSharedDataStore(f),g=Qj(t,{schema:f,store:p}),m=new xo(f,t);m.setCalculationInfo(g);var _=h!=null&&jyt(r)?function(S,T,M,w){return w===h?M:this.defaultDimValueGetter(S,T,M,w)}:null;return m.hasItemOption=!1,m.initData(a?r:p,null,_),m}function jyt(i){if(i.sourceFormat===Zs){var t=Kyt(i.data||[]);return!Vt(M_(t))}}function Kyt(i){for(var t=0;t<i.length&&i[t]==null;)t++;return i[t]}function VP(i){return i.type==="interval"||i.type==="log"}function Qyt(i,t,e,n,r){var a={},o=a.interval=tB(t/e,!0);n!=null&&o<n&&(o=a.interval=n),r!=null&&o>r&&(o=a.interval=r);var s=a.intervalPrecision=Ab(o),l=a.niceTickExtent=[Tr(Math.ceil(i[0]/o)*o,s),Tr(Math.floor(i[1]/o)*o,s)];return Jyt(l,i),a}function HI(i){var t=Math.pow(10,fD(i)),e=i/t;return e?e===2?e=3:e===3?e=5:e*=2:e=1,Tr(e*t)}function Ab(i){return Mu(i)+2}function nG(i,t,e){i[t]=Math.max(Math.min(i[t],e[1]),e[0])}function Jyt(i,t){!isFinite(i[0])&&(i[0]=t[0]),!isFinite(i[1])&&(i[1]=t[1]),nG(i,0,t),nG(i,1,t),i[0]>i[1]&&(i[0]=i[1])}function aU(i,t){return i>=t[0]&&i<=t[1]}var $yt=(function(){function i(){this.normalize=iG,this.scale=rG}return i.prototype.updateMethods=function(t){t.hasBreaks()?(this.normalize=ue(t.normalize,t),this.scale=ue(t.scale,t)):(this.normalize=iG,this.scale=rG)},i})();function iG(i,t){return t[1]===t[0]?.5:(i-t[0])/(t[1]-t[0])}function rG(i,t){return i*(t[1]-t[0])+t[0]}function HP(i,t,e){var n=Math.log(i);return[Math.log(e?t[0]:Math.max(0,t[0]))/n,Math.log(e?t[1]:Math.max(0,t[1]))/n]}var Sp=(function(){function i(t){this._calculator=new $yt,this._setting=t||{},this._extent=[1/0,-1/0];var e=Or();e&&(this._brkCtx=e.createScaleBreakContext(),this._brkCtx.update(this._extent))}return i.prototype.getSetting=function(t){return this._setting[t]},i.prototype._innerUnionExtent=function(t){var e=this._extent;this._innerSetExtent(t[0]<e[0]?t[0]:e[0],t[1]>e[1]?t[1]:e[1])},i.prototype.unionExtentFromData=function(t,e){this._innerUnionExtent(t.getApproximateExtent(e))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.setExtent=function(t,e){this._innerSetExtent(t,e)},i.prototype._innerSetExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e),this._brkCtx&&this._brkCtx.update(n)},i.prototype.setBreaksFromOption=function(t){var e=Or();e&&this._innerSetBreak(e.parseAxisBreakOption(t,ue(this.parse,this)))},i.prototype._innerSetBreak=function(t){this._brkCtx&&(this._brkCtx.setBreaks(t),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},i.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},i.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},i.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},i.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},i.prototype.isBlank=function(){return this._isBlank},i.prototype.setBlank=function(t){this._isBlank=t},i})();hD(Sp);var t0t=0,wb=(function(){function i(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++t0t,this._onCollect=t.onCollect}return i.createByAxisModel=function(t){var e=t.option,n=e.data,r=n&&kt(n,e0t);return new i({categories:r,needCollect:!r,deduplication:e.dedplication!==!1})},i.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},i.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!le(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,this._onCollect&&this._onCollect(t,e),e;var r=this._getOrCreateMap();return e=r.get(t),e==null&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e),this._onCollect&&this._onCollect(t,e)):e=NaN),e},i.prototype._getOrCreateMap=function(){return this._map||(this._map=ye(this.categories))},i})();function e0t(i){return Le(i)&&i.value!=null?i.value:i+""}var s_=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new wb({})),Vt(r)&&(r=new wb({categories:kt(r,function(a){return Le(a)?a.value:a})})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return t.prototype.parse=function(e){return e==null?NaN:le(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return aU(e,this._extent)&&e>=0&&e<this._ordinalMeta.categories.length},t.prototype.normalize=function(e){return e=this._getTickNumber(e),this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(this._calculator.scale(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],n=this._extent,r=n[0];r<=n[1];)e.push({value:r}),r++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=e.ordinalNumbers,r=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);o<l;++o){var u=n[o];r[o]=u,a[u]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;r.push(c),a[c]=o}},t.prototype._getTickNumber=function(e){var n=this._ticksByOrdinalNumber;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getRawOrdinalNumber=function(e){var n=this._ordinalNumbersByTick;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var n=this.getRawOrdinalNumber(e.value),r=this._ordinalMeta.categories[n];return r==null?"":r+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t})(Sp);Sp.registerClass(s_);var Dd=Tr,Mh=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return t.prototype.parse=function(e){return e==null||e===""?NaN:Number(e)},t.prototype.contain=function(e){return aU(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Ab(e)},t.prototype.getTicks=function(e){e=e||{};var n=this._interval,r=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=Or(),l=[];if(!n)return l;if(e.breakTicks==="only_break"&&s)return s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l;var u=1e4;r[0]<a[0]&&(e.expandToNicedExtent?l.push({value:Dd(a[0]-n,o)}):l.push({value:r[0]}));for(var c=function(g,m){return Math.round((m-g)/n)},f=a[0];f<=a[1];){if(l.push({value:f}),f=Dd(f+n,o),this._brkCtx){var h=this._brkCtx.calcNiceTickMultiple(f,c);h>=0&&(f=Dd(f+h*n,o))}if(l.length>0&&f===l[l.length-1].value)break;if(l.length>u)return[]}var p=l.length?l[l.length-1].value:a[1];return r[1]>p&&(e.expandToNicedExtent?l.push({value:Dd(p+n,o)}):l.push({value:r[1]})),s&&s.pruneTicksByBreak(e.pruneByBreak,l,this._brkCtx.breaks,function(g){return g.value},this._interval,this._extent),e.breakTicks!=="none"&&s&&s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l},t.prototype.getMinorTicks=function(e){for(var n=this.getTicks({expandToNicedExtent:!0}),r=[],a=this.getExtent(),o=1;o<n.length;o++){var s=n[o],l=n[o-1];if(!(l.break||s.break)){for(var u=0,c=[],f=s.value-l.value,h=f/e,p=Ab(h);u<e-1;){var g=Dd(l.value+(u+1)*h,p);g>a[0]&&g<a[1]&&c.push(g),u++}var m=Or();m&&m.pruneTicksByBreak("auto",c,this._getNonTransBreaks(),function(_){return _},this._interval,a),r.push(c)}}return r},t.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},t.prototype.getLabel=function(e,n){if(e==null)return"";var r=n&&n.precision;r==null?r=Mu(e.value)||0:r==="auto"&&(r=this._intervalPrecision);var a=Dd(e.value,r,!0);return NB(a)},t.prototype.calcNiceTicks=function(e,n,r){e=e||5;var a=this._extent.slice(),o=this._getExtentSpanWithBreaks();if(isFinite(o)){o<0&&(o=-o,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var s=Qyt(a,o,e,n,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var r=Math.abs(n[0]);e.fixMax||(n[1]+=r/2),n[0]-=r/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval,s=this._intervalPrecision;e.fixMin||(n[0]=Dd(Math.floor(n[0]/o)*o,s)),e.fixMax||(n[1]=Dd(Math.ceil(n[1]/o)*o,s)),this._innerSetExtent(n[0],n[1])},t.prototype.setNiceExtent=function(e,n){this._niceExtent=[e,n]},t.type="interval",t})(Sp);Sp.registerClass(Mh);var Jj=typeof Float32Array<"u",n0t=Jj?Float32Array:Array;function Uc(i){return Vt(i)?Jj?new Float32Array(i):i:new n0t(i)}var kP="__ec_stack_";function $j(i){return i.get("stack")||kP+i.seriesIndex}function oU(i){return i.dim+i.index}function i0t(i){var t=[],e=i.axis,n="axis0";if(e.type==="category"){for(var r=e.getBandWidth(),a=0;a<i.count;a++)t.push(Re({bandWidth:r,axisKey:n,stackId:kP+a},i));for(var o=nK(t),s=[],a=0;a<i.count;a++){var l=o[n][kP+a];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function tK(i,t){var e=[];return t.eachSeriesByType(i,function(n){aK(n)&&e.push(n)}),e}function r0t(i){var t={};G(i,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),h=c.dim+"_"+c.index,p=f.getDimensionIndex(f.mapDimension(c.dim)),g=f.getStore(),m=0,_=g.count();m<_;++m){var S=g.get(p,m);t[h]?t[h].push(S):t[h]=[S]}});var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(r){r.sort(function(l,u){return l-u});for(var a=null,o=1;o<r.length;++o){var s=r[o]-r[o-1];s>0&&(a=a===null?s:Math.min(a,s))}e[n]=a}}return e}function eK(i){var t=r0t(i),e=[];return G(i,function(n){var r=n.coordinateSystem,a=r.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=t[l],c=Math.abs(o[1]-o[0]),f=a.scale.getExtent(),h=Math.abs(f[1]-f[0]);s=u?c/h*u:c}else{var p=n.getData();s=Math.abs(o[1]-o[0])/p.count()}var g=se(n.get("barWidth"),s),m=se(n.get("barMaxWidth"),s),_=se(n.get("barMinWidth")||(oK(n)?.5:1),s),S=n.get("barGap"),T=n.get("barCategoryGap"),M=n.get("defaultBarGap");e.push({bandWidth:s,barWidth:g,barMaxWidth:m,barMinWidth:_,barGap:S,barCategoryGap:T,defaultBarGap:M,axisKey:oU(a),stackId:$j(n)})}),nK(e)}function nK(i){var t={};G(i,function(n,r){var a=n.axisKey,o=n.bandWidth,s=t[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},l=s.stacks;t[a]=s;var u=n.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=n.barMaxWidth;f&&(l[u].maxWidth=f);var h=n.barMinWidth;h&&(l[u].minWidth=h);var p=n.barGap;p!=null&&(s.gap=p);var g=n.barCategoryGap;g!=null&&(s.categoryGap=g)});var e={};return G(t,function(n,r){e[r]={};var a=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var l=Tn(a).length;s=Math.max(35-l*4,15)+"%"}var u=se(s,o),c=se(n.gap,1),f=n.remainedWidth,h=n.autoWidthCount,p=(f-u)/(h+(h-1)*c);p=Math.max(p,0),G(a,function(S){var T=S.maxWidth,M=S.minWidth;if(S.width){var w=S.width;T&&(w=Math.min(w,T)),M&&(w=Math.max(w,M)),S.width=w,f-=w+c*w,h--}else{var w=p;T&&T<w&&(w=Math.min(T,f)),M&&M>w&&(w=M),w!==p&&(S.width=w,f-=w+c*w,h--)}}),p=(f-u)/(h+(h-1)*c),p=Math.max(p,0);var g=0,m;G(a,function(S,T){S.width||(S.width=p),m=S,g+=S.width*(1+c)}),m&&(g-=m.width*c);var _=-g/2;G(a,function(S,T){e[r][T]=e[r][T]||{bandWidth:o,offset:_,width:S.width},_+=S.width*(1+c)})}),e}function a0t(i,t,e){if(i&&t){var n=i[oU(t)];return n}}function iK(i,t){var e=tK(i,t),n=eK(e);G(e,function(r){var a=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=$j(r),u=n[oU(s)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function rK(i){return{seriesType:i,plan:P_(),reset:function(t){if(aK(t)){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),a=n.getOtherAxis(r),o=e.getDimensionIndex(e.mapDimension(a.dim)),s=e.getDimensionIndex(e.mapDimension(r.dim)),l=t.get("showBackground",!0),u=e.mapDimension(a.dim),c=e.getCalculationInfo("stackResultDimension"),f=Th(e,u)&&!!e.getCalculationInfo("stackedOnSeries"),h=a.isHorizontal(),p=o0t(r,a),g=oK(t),m=t.get("barMinHeight")||0,_=c&&e.getDimensionIndex(c),S=e.getLayout("size"),T=e.getLayout("offset");return{progress:function(M,w){for(var D=M.count,C=g&&Uc(D*3),R=g&&l&&Uc(D*3),z=g&&Uc(D),N=n.master.getRect(),O=h?N.width:N.height,U,F=w.getStore(),V=0;(U=M.next())!=null;){var W=F.get(f?_:o,U),Z=F.get(s,U),H=p,j=void 0;f&&(j=+W-F.get(o,U));var Y=void 0,Q=void 0,nt=void 0,q=void 0;if(h){var $=n.dataToPoint([W,Z]);if(f){var st=n.dataToPoint([j,Z]);H=st[0]}Y=H,Q=$[1]+T,nt=$[0]-H,q=S,Math.abs(nt)<m&&(nt=(nt<0?-1:1)*m)}else{var $=n.dataToPoint([Z,W]);if(f){var st=n.dataToPoint([Z,j]);H=st[1]}Y=$[0]+T,Q=H,nt=S,q=$[1]-H,Math.abs(q)<m&&(q=(q<=0?-1:1)*m)}g?(C[V]=Y,C[V+1]=Q,C[V+2]=h?nt:q,R&&(R[V]=h?N.x:Y,R[V+1]=h?Q:N.y,R[V+2]=O),z[U]=U):w.setItemLayout(U,{x:Y,y:Q,width:nt,height:q}),V+=3}g&&w.setLayout({largePoints:C,largeDataIndices:z,largeBackgroundPoints:R,valueAxisHorizontal:h})}}}}}}function aK(i){return i.coordinateSystem&&i.coordinateSystem.type==="cartesian2d"}function oK(i){return i.pipelineContext&&i.pipelineContext.large}function o0t(i,t){var e=t.model.get("startValue");return e||(e=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?e>0?e:1:e))}var s0t=function(i,t,e,n){for(;e<n;){var r=e+n>>>1;i[r][1]<t?e=r+1:n=r}return e},sU=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n.type="time",n}return t.prototype.getLabel=function(e){var n=this.getSetting("useUTC");return lT(e.value,jk[Rvt(W1(this._minLevelUnit))]||jk.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,n,r){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return Lvt(e,n,r,o,a)},t.prototype.getTicks=function(e){e=e||{};var n=this._interval,r=this._extent,a=Or(),o=[];if(!n)return o;var s=this.getSetting("useUTC");if(a&&e.breakTicks==="only_break")return Or().addBreaksToTicks(o,this._brkCtx.breaks,this._extent),o;var l=w0(r[1],s);o.push({value:r[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var u=p0t(this._minLevelUnit,this._approxInterval,s,r,this._getExtentSpanWithBreaks(),this._brkCtx);o=o.concat(u);var c=w0(r[1],s);o.push({value:r[1],time:{level:0,upperTimeUnit:c,lowerTimeUnit:c}});var f=this.getSetting("useUTC"),h=Ns.length-1,p=0;return G(o,function(g){h=Math.min(h,tn(Ns,g.time.upperTimeUnit)),p=Math.max(p,g.time.level)}),a&&Or().pruneTicksByBreak(e.pruneByBreak,o,this._brkCtx.breaks,function(g){return g.value},this._approxInterval,this._extent),a&&e.breakTicks!=="none"&&Or().addBreaksToTicks(o,this._brkCtx.breaks,this._extent,function(g){for(var m=Math.max(tn(Ns,w0(g.vmin,f)),tn(Ns,w0(g.vmax,f))),_=0,S=0;S<Ns.length;S++)if(!sK(Ns[S],g.vmin,g.vmax,f)){_=S;break}var T=Math.min(_,h),M=Math.max(T,m);return{level:p,lowerTimeUnit:Ns[M],upperTimeUnit:Ns[T]}}),o},t.prototype.calcNiceExtent=function(e){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=Dl,n[1]+=Dl),n[1]===-1/0&&n[0]===1/0){var r=new Date;n[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),n[0]=n[1]-Dl}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,n,r){e=e||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/e,n!=null&&this._approxInterval<n&&(this._approxInterval=n),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var o=uw.length,s=Math.min(s0t(uw,this._approxInterval,0,o),o-1);this._interval=uw[s][1],this._intervalPrecision=Ab(this._interval),this._minLevelUnit=uw[Math.max(s-1,0)][0]},t.prototype.parse=function(e){return En(e)?e:+ef(e)},t.prototype.contain=function(e){return aU(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.type="time",t})(Mh),uw=[["second",AB],["minute",wB],["hour",X1],["quarter-day",X1*6],["half-day",X1*12],["day",Dl*1.2],["half-week",Dl*3.5],["week",Dl*7],["month",Dl*31],["quarter",Dl*95],["half-year",Zk/2],["year",Zk]];function sK(i,t,e,n){return DC(new Date(t),i,n).getTime()===DC(new Date(e),i,n).getTime()}function l0t(i,t){return i/=Dl,i>16?16:i>7.5?7:i>3.5?4:i>1.5?2:1}function u0t(i){var t=30*Dl;return i/=t,i>6?6:i>3?3:i>2?2:1}function c0t(i){return i/=X1,i>12?12:i>6?6:i>3.5?4:i>2?2:1}function aG(i,t){return i/=t?wB:AB,i>30?30:i>20?20:i>15?15:i>10?10:i>5?5:i>2?2:1}function f0t(i){return tB(i,!0)}function h0t(i,t,e){var n=Math.max(0,tn(Ns,t)-1);return DC(new Date(i),Ns[n],e).getTime()}function d0t(i,t){var e=new Date(0);e[i](1);var n=e.getTime();e[i](1+t);var r=e.getTime()-n;return function(a,o){return Math.max(0,Math.round((o-a)/r))}}function p0t(i,t,e,n,r,a){var o=1e4,s=wvt,l=0;function u(V,W,Z,H,j,Y,Q){for(var nt=d0t(j,V),q=W,$=new Date(q);q<Z&&q<=n[1]&&(Q.push({value:q}),!(l++>o));)if($[j]($[H]()+V),q=$.getTime(),a){var st=a.calcNiceTickMultiple(q,nt);st>0&&($[j]($[H]()+st*V),q=$.getTime())}Q.push({value:q,notAdd:!0})}function c(V,W,Z){var H=[],j=!W.length;if(!sK(W1(V),n[0],n[1],e)){j&&(W=[{value:h0t(n[0],V,e)},{value:n[1]}]);for(var Y=0;Y<W.length-1;Y++){var Q=W[Y].value,nt=W[Y+1].value;if(Q!==nt){var q=void 0,$=void 0,st=void 0,ft=!1;switch(V){case"year":q=Math.max(1,Math.round(t/Dl/365)),$=pZ(e),st=Ivt(e);break;case"half-year":case"quarter":case"month":q=u0t(t),$=EB(e),st=vZ(e);break;case"week":case"half-week":case"day":q=l0t(t),$=CB(e),st=gZ(e),ft=!0;break;case"half-day":case"quarter-day":case"hour":q=c0t(t),$=DB(e),st=mZ(e);break;case"minute":q=aG(t,!0),$=RB(e),st=yZ(e);break;case"second":q=aG(t,!1),$=LB(e),st=_Z(e);break;case"millisecond":q=f0t(t),$=IB(e),st=SZ(e);break}nt>=n[0]&&Q<=n[1]&&u(q,Q,nt,$,st,ft,H),V==="year"&&Z.length>1&&Y===0&&Z.unshift({value:Z[0].value-q})}}for(var Y=0;Y<H.length;Y++)Z.push(H[Y])}}for(var f=[],h=[],p=0,g=0,m=0;m<s.length;++m){var _=W1(s[m]);if(Dvt(s[m])){c(s[m],f[f.length-1]||[],h);var S=s[m+1]?W1(s[m+1]):null;if(_!==S){if(h.length){g=p,h.sort(function(V,W){return V.value-W.value});for(var T=[],M=0;M<h.length;++M){var w=h[M].value;(M===0||h[M-1].value!==w)&&(T.push(h[M]),w>=n[0]&&w<=n[1]&&p++)}var D=r/t;if(p>D*1.5&&g>D/1.5||(f.push(T),p>D||i===s[m]))break}h=[]}}}for(var C=Gn(kt(f,function(V){return Gn(V,function(W){return W.value>=n[0]&&W.value<=n[1]&&!W.notAdd})}),function(V){return V.length>0}),R=[],z=C.length-1,m=0;m<C.length;++m)for(var N=C[m],O=0;O<N.length;++O){var U=w0(N[O].value,e);R.push({value:N[O].value,time:{level:z-m,upperTimeUnit:U,lowerTimeUnit:U}})}R.sort(function(V,W){return V.value-W.value});for(var F=[],m=0;m<R.length;++m)(m===0||R[m].value!==R[m-1].value)&&F.push(R[m]);return F}Sp.registerClass(sU);var FP=Tr,v0t=Math.floor,g0t=Math.ceil,cw=Math.pow,fw=Math.log,lK=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Mh,e}return t.prototype.getTicks=function(e){e=e||{};var n=this._extent.slice(),r=this._originalScale.getExtent(),a=i.prototype.getTicks.call(this,e),o=this.base,s=this._originalScale._innerGetBreaks(),l=Or();return kt(a,function(u){var c=u.value,f=null,h=cw(o,c);c===n[0]&&this._fixMin?f=r[0]:c===n[1]&&this._fixMax&&(f=r[1]);var p;if(l){var g=l.getTicksLogTransformBreak(u,o,s,hw);p=g.vBreak,f==null&&(f=g.brkRoundingCriterion)}return f!=null&&(h=hw(h,f)),{value:h,break:p}},this)},t.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},t.prototype.setExtent=function(e,n){this._originalScale.setExtent(e,n);var r=HP(this.base,[e,n]);i.prototype.setExtent.call(this,r[0],r[1])},t.prototype.getExtent=function(){var e=this.base,n=i.prototype.getExtent.call(this);n[0]=cw(e,n[0]),n[1]=cw(e,n[1]);var r=this._originalScale.getExtent();return this._fixMin&&(n[0]=hw(n[0],r[0])),this._fixMax&&(n[1]=hw(n[1],r[1])),n},t.prototype.unionExtentFromData=function(e,n){this._originalScale.unionExtentFromData(e,n);var r=HP(this.base,e.getApproximateExtent(n),!0);this._innerUnionExtent(r)},t.prototype.calcNiceTicks=function(e){e=e||10;var n=this._extent.slice(),r=this._getExtentSpanWithBreaks();if(!(!isFinite(r)||r<=0)){var a=dq(r),o=e/r*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[FP(g0t(n[0]/a)*a),FP(v0t(n[1]/a)*a)];this._interval=a,this._intervalPrecision=Ab(a),this._niceExtent=s}},t.prototype.calcNiceExtent=function(e){i.prototype.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.contain=function(e){return e=fw(e)/fw(this.base),i.prototype.contain.call(this,e)},t.prototype.normalize=function(e){return e=fw(e)/fw(this.base),i.prototype.normalize.call(this,e)},t.prototype.scale=function(e){return e=i.prototype.scale.call(this,e),cw(this.base,e)},t.prototype.setBreaksFromOption=function(e){var n=Or();if(n){var r=n.logarithmicParseBreaksFromOption(e,this.base,ue(this.parse,this)),a=r.parsedOriginal,o=r.parsedLogged;this._originalScale._innerSetBreak(a),this._innerSetBreak(o)}},t.type="log",t})(Mh);function hw(i,t){return FP(i,Mu(t))}Sp.registerClass(lK);var m0t=(function(){function i(t,e,n){this._prepareParams(t,e,n)}return i.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=e.get("min",!0);a==null&&(a=e.get("startValue",!0));var o=this._modelMinRaw=a;Te(o)?this._modelMinNum=dw(t,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=dw(t,o));var s=this._modelMaxRaw=e.get("max",!0);if(Te(s)?this._modelMaxNum=dw(t,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=dw(t,s)),r)this._axisDataLen=e.getCategories().length;else{var l=e.get("boundaryGap"),u=Vt(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Nu(u[0],1),Nu(u[1],1)]}},i.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,r=this._axisDataLen,a=this._boundaryGapInner,o=t?null:n-e||Math.abs(e),s=this._modelMinRaw==="dataMin"?e:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=t?r?0:NaN:e-a[0]*o),l==null&&(l=t?r?r-1:NaN:n+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Ya(s)||Ya(l)||t&&!r;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var h=this._determinedMin,p=this._determinedMax;return h!=null&&(s=h,u=!0),p!=null&&(l=p,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},i.prototype.modifyDataMinMax=function(t,e){this[_0t[t]]=e},i.prototype.setDeterminedMinMax=function(t,e){var n=y0t[t];this[n]=e},i.prototype.freeze=function(){this.frozen=!0},i})(),y0t={min:"_determinedMin",max:"_determinedMax"},_0t={min:"_dataMin",max:"_dataMax"};function uK(i,t,e){var n=i.rawExtentInfo;return n||(n=new m0t(i,t,e),i.rawExtentInfo=n,n)}function dw(i,t){return t==null?null:Ya(t)?NaN:i.parse(t)}function cK(i,t){var e=i.type,n=uK(i,t,i.getExtent()).calculate();i.setBlank(n.isBlank);var r=n.min,a=n.max,o=t.ecModel;if(o&&e==="time"){var s=tK("bar",o),l=!1;if(G(s,function(f){l=l||f.getBaseAxis()===t.axis}),l){var u=eK(s),c=S0t(r,a,t,u);r=c.min,a=c.max}}return{extent:[r,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function S0t(i,t,e,n){var r=e.axis.getExtent(),a=Math.abs(r[1]-r[0]),o=a0t(n,e.axis);if(o===void 0)return{min:i,max:t};var s=1/0;G(o,function(p){s=Math.min(p.offset,s)});var l=-1/0;G(o,function(p){l=Math.max(p.offset+p.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-i,f=1-(s+l)/a,h=c/f-c;return t+=h*(l/u),i-=h*(s/u),{min:i,max:t}}function Kg(i,t){var e=t,n=cK(i,e),r=n.extent,a=e.get("splitNumber");i instanceof lK&&(i.base=e.get("logBase"));var o=i.type,s=e.get("interval"),l=o==="interval"||o==="time";i.setBreaksFromOption(hK(e)),i.setExtent(r[0],r[1]),i.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?e.get("minInterval"):null,maxInterval:l?e.get("maxInterval"):null}),s!=null&&i.setInterval&&i.setInterval(s)}function fT(i,t){if(t=t||i.get("type"),t)switch(t){case"category":return new s_({ordinalMeta:i.getOrdinalMeta?i.getOrdinalMeta():i.getCategories(),extent:[1/0,-1/0]});case"time":return new sU({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new(Sp.getClass(t)||Mh)}}function x0t(i){var t=i.scale.getExtent(),e=t[0],n=t[1];return!(e>0&&n>0||e<0&&n<0)}function V_(i){var t=i.getLabelModel().get("formatter");if(i.type==="time"){var e=Evt(t);return function(r,a){return i.scale.getFormattedLabel(r,a,e)}}else{if(le(t))return function(r){var a=i.scale.getLabel(r),o=t.replace("{value}",a??"");return o};if(Te(t)){if(i.type==="category")return function(r,a){return t(kC(i,r),r.value-i.scale.getExtent()[0],null)};var n=Or();return function(r,a){var o=null;return n&&(o=n.makeAxisLabelFormatterParamBreak(o,r.break)),t(kC(i,r),a,o)}}else return function(r){return i.scale.getLabel(r)}}}function kC(i,t){return i.type==="category"?i.scale.getLabel(t):t.value}function lU(i){var t=i.get("interval");return t??"auto"}function fK(i){return i.type==="category"&&lU(i.getLabelModel())===0}function FC(i,t){var e={};return G(i.mapDimensionsAll(t),function(n){e[rU(i,n)]=!0}),Tn(e)}function b0t(i,t,e){t&&G(FC(t,e),function(n){var r=t.getApproximateExtent(n);r[0]<i[0]&&(i[0]=r[0]),r[1]>i[1]&&(i[1]=r[1])})}function l_(i){return i==="middle"||i==="center"}function Eb(i){return i.getShallow("show")}function hK(i){var t=i.get("breaks",!0);if(t!=null)return!Or()||!T0t(i.axis)?void 0:t}function T0t(i){return(i.dim==="x"||i.dim==="y"||i.dim==="z"||i.dim==="single")&&i.type!=="category"}var H_=(function(){function i(){}return i.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},i.prototype.getCoordSysModel=function(){},i})();function M0t(i){return rf(null,i)}var A0t={isDimensionStacked:Th,enableDataStack:Qj,getStackedDimension:rU};function w0t(i,t){var e=t;t instanceof yn||(e=new yn(t));var n=fT(e);return n.setExtent(i[0],i[1]),Kg(n,e),n}function E0t(i){fr(i,H_)}function C0t(i,t){return t=t||{},Si(i,null,null,t.state!=="normal")}const D0t=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:Vyt,createList:M0t,createScale:w0t,createSymbol:Ar,createTextStyle:C0t,dataStack:A0t,enableHoverEmphasis:Jd,getECData:Ue,getLayoutRect:Bi,mixinAxisModelCommonMethods:E0t},Symbol.toStringTag,{value:"Module"}));var R0t=1e-8;function oG(i,t){return Math.abs(i-t)<R0t}function cg(i,t,e){var n=0,r=i[0];if(!r)return!1;for(var a=1;a<i.length;a++){var o=i[a];n+=jf(r[0],r[1],o[0],o[1],t,e),r=o}var s=i[0];return(!oG(r[0],s[0])||!oG(r[1],s[1]))&&(n+=jf(r[0],r[1],s[0],s[1],t,e)),n!==0}var L0t=[];function kI(i,t){for(var e=0;e<i.length;e++)cr(i[e],i[e],t)}function sG(i,t,e,n){for(var r=0;r<i.length;r++){var a=i[r];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(nh(t,t,a),ih(e,e,a))}}function I0t(i){for(var t=0,e=0,n=0,r=i.length,a=i[r-1][0],o=i[r-1][1],s=0;s<r;s++){var l=i[s][0],u=i[s][1],c=a*u-l*o;t+=c,e+=(a+l)*c,n+=(o+u)*c,a=l,o=u}return t?[e/t/3,n/t/3,t]:[i[0][0]||0,i[0][1]||0]}var dK=(function(){function i(t){this.name=t}return i.prototype.setCenter=function(t){this._center=t},i.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},i})(),lG=(function(){function i(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return i})(),uG=(function(){function i(t){this.type="linestring",this.points=t}return i})(),pK=(function(i){ht(t,i);function t(e,n,r){var a=i.call(this,e)||this;return a.type="geoJSON",a.geometries=n,a._center=r&&[r[0],r[1]],a}return t.prototype.calcCenter=function(){for(var e=this.geometries,n,r=0,a=0;a<e.length;a++){var o=e[a],s=o.exterior,l=s&&s.length;l>r&&(n=o,r=l)}if(n)return I0t(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(e){var n=this._rect;if(n&&!e)return n;var r=[1/0,1/0],a=[-1/0,-1/0],o=this.geometries;return G(o,function(s){s.type==="polygon"?sG(s.exterior,r,a,e):G(s.points,function(l){sG(l,r,a,e)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])||(r[0]=r[1]=a[0]=a[1]=0),n=new Oe(r[0],r[1],a[0]-r[0],a[1]-r[1]),e||(this._rect=n),n},t.prototype.contain=function(e){var n=this.getBoundingRect(),r=this.geometries;if(!n.contain(e[0],e[1]))return!1;t:for(var a=0,o=r.length;a<o;a++){var s=r[a];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(cg(l,e[0],e[1])){for(var c=0;c<(u?u.length:0);c++)if(cg(u[c],e[0],e[1]))continue t;return!0}}}return!1},t.prototype.transformTo=function(e,n,r,a){var o=this.getBoundingRect(),s=o.width/o.height;r?a||(a=r/s):r=s*a;for(var l=new Oe(e,n,r,a),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var h=c[f];h.type==="polygon"?(kI(h.exterior,u),G(h.interiors,function(p){kI(p,u)})):G(h.points,function(p){kI(p,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t})(dK),N0t=(function(i){ht(t,i);function t(e,n){var r=i.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=n,r}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,n=e.getBoundingRect(),r=[n.x+n.width/2,n.y+n.height/2],a=tT(L0t),o=e;o&&!o.isGeoSVGGraphicRoot;)wu(a,o.getLocalTransform(),a),o=o.parent;return Pl(a,a),cr(r,r,a),r},t})(dK);function O0t(i){if(!i.UTF8Encoding)return i;var t=i,e=t.UTF8Scale;e==null&&(e=1024);var n=t.features;return G(n,function(r){var a=r.geometry,o=a.encodeOffsets,s=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=vK(s,o,e);break;case"Polygon":FI(s,o,e);break;case"MultiLineString":FI(s,o,e);break;case"MultiPolygon":G(s,function(l,u){return FI(l,o[u],e)})}}),t.UTF8Encoding=!1,t}function FI(i,t,e){for(var n=0;n<i.length;n++)i[n]=vK(i[n],t[n],e)}function vK(i,t,e){for(var n=[],r=t[0],a=t[1],o=0;o<i.length;o+=2){var s=i.charCodeAt(o)-64,l=i.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=r,l+=a,r=s,a=l,n.push([s/e,l/e])}return n}function GP(i,t){return i=O0t(i),kt(Gn(i.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,r=e.geometry,a=[];switch(r.type){case"Polygon":var o=r.coordinates;a.push(new lG(o[0],o.slice(1)));break;case"MultiPolygon":G(r.coordinates,function(l){l[0]&&a.push(new lG(l[0],l.slice(1)))});break;case"LineString":a.push(new uG([r.coordinates]));break;case"MultiLineString":a.push(new uG(r.coordinates))}var s=new pK(n[t||"name"],a,n.cp);return s.properties=n,s})}const P0t=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:iP,asc:Fs,getPercentWithPrecision:tdt,getPixelPrecision:Jz,getPrecision:Mu,getPrecisionSafe:fq,isNumeric:eB,isRadianAroundZero:e_,linearMap:Yn,nice:tB,numericToNumber:jc,parseDate:ef,parsePercent:se,quantile:nE,quantity:dq,quantityExponent:fD,reformIntervals:rP,remRadian:$z,round:Tr},Symbol.toStringTag,{value:"Module"})),z0t=Object.freeze(Object.defineProperty({__proto__:null,format:lT,parse:ef,roundTime:DC},Symbol.toStringTag,{value:"Module"})),B0t=Object.freeze(Object.defineProperty({__proto__:null,Arc:aT,BezierCurve:C_,BoundingRect:Oe,Circle:nf,CompoundPath:oT,Ellipse:rT,Group:Ce,Image:da,IncrementalDisplayable:$q,Line:Mr,LinearGradient:rm,Polygon:Qa,Polyline:Ia,RadialGradient:pB,Rect:cn,Ring:E_,Sector:Ka,Text:wn,clipPointsByRect:yB,clipRectByRect:rZ,createIcon:R_,extendPath:nZ,extendShape:eZ,getShapeClass:yb,getTransform:$d,initProps:Li,makeImage:gB,makePath:i_,mergePath:Bs,registerShape:kl,resizePath:mB,updateProps:Pn},Symbol.toStringTag,{value:"Module"})),U0t=Object.freeze(Object.defineProperty({__proto__:null,addCommas:NB,capitalFirst:zvt,encodeHTML:yo,formatTime:Pvt,formatTpl:PB,getTextRect:Nvt,getTooltipMarker:xZ,normalizeCssArray:N_,toCamelCase:OB,truncateText:Ndt},Symbol.toStringTag,{value:"Module"})),V0t=Object.freeze(Object.defineProperty({__proto__:null,bind:ue,clone:Ee,curry:Qe,defaults:Re,each:G,extend:Rt,filter:Gn,indexOf:tn,inherits:Xz,isArray:Vt,isFunction:Te,isObject:Le,isString:le,map:kt,merge:en,reduce:Ol},Symbol.toStringTag,{value:"Module"}));var H0t=gn(),q1=gn(),Ou={estimate:1,determine:2};function GC(i){return{out:{noPxChangeTryDetermine:[]},kind:i}}function gK(i,t){var e=kt(t,function(n){return i.scale.parse(n)});return i.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function k0t(i,t){var e=i.getLabelModel().get("customValues");if(e){var n=V_(i),r=i.scale.getExtent(),a=gK(i,e),o=Gn(a,function(s){return s>=r[0]&&s<=r[1]});return{labels:kt(o,function(s){var l={value:s};return{formattedLabel:n(l),rawLabel:i.scale.getLabel(l),tickValue:s,time:void 0,break:void 0}})}}return i.type==="category"?G0t(i,t):W0t(i)}function F0t(i,t,e){var n=i.getTickModel().get("customValues");if(n){var r=i.scale.getExtent(),a=gK(i,n);return{ticks:Gn(a,function(o){return o>=r[0]&&o<=r[1]})}}return i.type==="category"?X0t(i,t):{ticks:kt(i.scale.getTicks(e),function(o){return o.value})}}function G0t(i,t){var e=i.getLabelModel(),n=mK(i,e,t);return!e.get("show")||i.scale.isBlank()?{labels:[]}:n}function mK(i,t,e){var n=q0t(i),r=lU(t),a=e.kind===Ou.estimate;if(!a){var o=_K(n,r);if(o)return o}var s,l;Te(r)?s=bK(i,r):(l=r==="auto"?Z0t(i,e):r,s=xK(i,l));var u={labels:s,labelCategoryInterval:l};return a?e.out.noPxChangeTryDetermine.push(function(){return XP(n,r,u),!0}):XP(n,r,u),u}function X0t(i,t){var e=Y0t(i),n=lU(t),r=_K(e,n);if(r)return r;var a,o;if((!t.get("show")||i.scale.isBlank())&&(a=[]),Te(n))a=bK(i,n,!0);else if(n==="auto"){var s=mK(i,i.getLabelModel(),GC(Ou.determine));o=s.labelCategoryInterval,a=kt(s.labels,function(l){return l.tickValue})}else o=n,a=xK(i,o,!0);return XP(e,n,{ticks:a,tickCategoryInterval:o})}function W0t(i){var t=i.scale.getTicks(),e=V_(i);return{labels:kt(t,function(n,r){return{formattedLabel:e(n,r),rawLabel:i.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var Y0t=yK("axisTick"),q0t=yK("axisLabel");function yK(i){return function(e){return q1(e)[i]||(q1(e)[i]={list:[]})}}function _K(i,t){for(var e=0;e<i.list.length;e++)if(i.list[e].key===t)return i.list[e].value}function XP(i,t,e){return i.list.push({key:t,value:e}),e}function Z0t(i,t){if(t.kind===Ou.estimate){var e=i.calculateCategoryInterval(t);return t.out.noPxChangeTryDetermine.push(function(){return q1(i).autoInterval=e,!0}),e}var n=q1(i).autoInterval;return n??(q1(i).autoInterval=i.calculateCategoryInterval(t))}function j0t(i,t){var e=t.kind,n=Q0t(i),r=V_(i),a=(n.axisRotate-n.labelRotate)/180*Math.PI,o=i.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=1,c=40;l>c&&(u=Math.max(1,Math.floor(l/c)));for(var f=s[0],h=i.dataToCoord(f+1)-i.dataToCoord(f),p=Math.abs(h*Math.cos(a)),g=Math.abs(h*Math.sin(a)),m=0,_=0;f<=s[1];f+=u){var S=0,T=0,M=uD(r({value:f}),n.font,"center","top");S=M.width*1.3,T=M.height*1.3,m=Math.max(m,S,7),_=Math.max(_,T,7)}var w=m/p,D=_/g;isNaN(w)&&(w=1/0),isNaN(D)&&(D=1/0);var C=Math.max(0,Math.floor(Math.min(w,D)));if(e===Ou.estimate)return t.out.noPxChangeTryDetermine.push(ue(K0t,null,i,C,l)),C;var R=SK(i,C,l);return R??C}function K0t(i,t,e){return SK(i,t,e)==null}function SK(i,t,e){var n=H0t(i.model),r=i.getExtent(),a=n.lastAutoInterval,o=n.lastTickCount;if(a!=null&&o!=null&&Math.abs(a-t)<=1&&Math.abs(o-e)<=1&&a>t&&n.axisExtent0===r[0]&&n.axisExtent1===r[1])return a;n.lastTickCount=e,n.lastAutoInterval=t,n.axisExtent0=r[0],n.axisExtent1=r[1]}function Q0t(i){var t=i.getLabelModel();return{axisRotate:i.getRotate?i.getRotate():i.isHorizontal&&!i.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function xK(i,t,e){var n=V_(i),r=i.scale,a=r.getExtent(),o=i.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=a[0],c=r.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=fK(i),h=o.get("showMinLabel")||f,p=o.get("showMaxLabel")||f;h&&u!==a[0]&&m(a[0]);for(var g=u;g<=a[1];g+=l)m(g);p&&g-l!==a[1]&&m(a[1]);function m(_){var S={value:_};s.push(e?_:{formattedLabel:n(S),rawLabel:r.getLabel(S),tickValue:_,time:void 0,break:void 0})}return s}function bK(i,t,e){var n=i.scale,r=V_(i),a=[];return G(n.getTicks(),function(o){var s=n.getLabel(o),l=o.value;t(o.value,s)&&a.push(e?l:{formattedLabel:r(o),rawLabel:s,tickValue:l,time:void 0,break:void 0})}),a}var cG=[0,1],Fl=(function(){function i(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return i.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},i.prototype.containData=function(t){return this.scale.contain(this.scale.parse(t))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.getPixelPrecision=function(t){return Jz(t||this.scale.getExtent(),this._extent)},i.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},i.prototype.dataToCoord=function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(r.parse(t)),this.onBand&&r.type==="ordinal"&&(n=n.slice(),fG(n,r.count())),Yn(t,cG,n,e)},i.prototype.coordToData=function(t,e){var n=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(n=n.slice(),fG(n,r.count()));var a=Yn(t,n,cG,e);return this.scale.scale(a)},i.prototype.pointToData=function(t,e){},i.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=F0t(this,e,{breakTicks:t.breakTicks,pruneByBreak:t.pruneByBreak}),r=n.ticks,a=kt(r,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=e.get("alignWithLabel");return J0t(this,a,o,t.clamp),a},i.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),r=kt(n,function(a){return kt(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return r},i.prototype.getViewLabels=function(t){return t=t||GC(Ou.determine),k0t(this,t).labels},i.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},i.prototype.getTickModel=function(){return this.model.getModel("axisTick")},i.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);n===0&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},i.prototype.calculateCategoryInterval=function(t){return t=t||GC(Ou.determine),j0t(this,t)},i})();function fG(i,t){var e=i[1]-i[0],n=t,r=e/n/2;i[0]+=r,i[1]-=r}function J0t(i,t,e,n){var r=t.length;if(!i.onBand||e||!r)return;var a=i.getExtent(),o,s;if(r===1)t[0].coord=a[0],t[0].onBand=!0,o=t[1]={coord:a[1],tickValue:t[0].tickValue,onBand:!0};else{var l=t[r-1].tickValue-t[0].tickValue,u=(t[r-1].coord-t[0].coord)/l;G(t,function(p){p.coord-=u/2,p.onBand=!0});var c=i.scale.getExtent();s=1+c[1]-t[r-1].tickValue,o={coord:t[r-1].coord+u*s,tickValue:c[1]+1,onBand:!0},t.push(o)}var f=a[0]>a[1];h(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&h(a[0],t[0].coord)&&t.unshift({coord:a[0],onBand:!0}),h(a[1],o.coord)&&(n?o.coord=a[1]:t.pop()),n&&h(o.coord,a[1])&&t.push({coord:a[1],onBand:!0});function h(p,g){return p=Tr(p),g=Tr(g),f?p>g:p<g}}function $0t(i){var t=pn.extend(i);return pn.registerClass(t),t}function t_t(i){var t=Ti.extend(i);return Ti.registerClass(t),t}function e_t(i){var t=di.extend(i);return di.registerClass(t),t}function n_t(i){var t=si.extend(i);return si.registerClass(t),t}var Yx=Math.PI*2,jv=Kc.CMD,i_t=["top","right","bottom","left"];function r_t(i,t,e,n,r){var a=e.width,o=e.height;switch(i){case"top":n.set(e.x+a/2,e.y-t),r.set(0,-1);break;case"bottom":n.set(e.x+a/2,e.y+o+t),r.set(0,1);break;case"left":n.set(e.x-t,e.y+o/2),r.set(-1,0);break;case"right":n.set(e.x+a+t,e.y+o/2),r.set(1,0);break}}function a_t(i,t,e,n,r,a,o,s,l){o-=i,s-=t;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*e+i,f=s*e+t;if(Math.abs(n-r)%Yx<1e-4)return l[0]=c,l[1]=f,u-e;if(a){var h=n;n=Gs(r),r=Gs(h)}else n=Gs(n),r=Gs(r);n>r&&(r+=Yx);var p=Math.atan2(s,o);if(p<0&&(p+=Yx),p>=n&&p<=r||p+Yx>=n&&p+Yx<=r)return l[0]=c,l[1]=f,u-e;var g=e*Math.cos(n)+i,m=e*Math.sin(n)+t,_=e*Math.cos(r)+i,S=e*Math.sin(r)+t,T=(g-o)*(g-o)+(m-s)*(m-s),M=(_-o)*(_-o)+(S-s)*(S-s);return T<M?(l[0]=g,l[1]=m,Math.sqrt(T)):(l[0]=_,l[1]=S,Math.sqrt(M))}function XC(i,t,e,n,r,a,o,s){var l=r-i,u=a-t,c=e-i,f=n-t,h=Math.sqrt(c*c+f*f);c/=h,f/=h;var p=l*c+u*f,g=p/h;s&&(g=Math.min(Math.max(g,0),1)),g*=h;var m=o[0]=i+g*c,_=o[1]=t+g*f;return Math.sqrt((m-r)*(m-r)+(_-a)*(_-a))}function TK(i,t,e,n,r,a,o){e<0&&(i=i+e,e=-e),n<0&&(t=t+n,n=-n);var s=i+e,l=t+n,u=o[0]=Math.min(Math.max(r,i),s),c=o[1]=Math.min(Math.max(a,t),l);return Math.sqrt((u-r)*(u-r)+(c-a)*(c-a))}var Su=[];function o_t(i,t,e){var n=TK(t.x,t.y,t.width,t.height,i.x,i.y,Su);return e.set(Su[0],Su[1]),n}function s_t(i,t,e){for(var n=0,r=0,a=0,o=0,s,l,u=1/0,c=t.data,f=i.x,h=i.y,p=0;p<c.length;){var g=c[p++];p===1&&(n=c[p],r=c[p+1],a=n,o=r);var m=u;switch(g){case jv.M:a=c[p++],o=c[p++],n=a,r=o;break;case jv.L:m=XC(n,r,c[p],c[p+1],f,h,Su,!0),n=c[p++],r=c[p++];break;case jv.C:m=WY(n,r,c[p++],c[p++],c[p++],c[p++],c[p],c[p+1],f,h,Su),n=c[p++],r=c[p++];break;case jv.Q:m=qY(n,r,c[p++],c[p++],c[p],c[p+1],f,h,Su),n=c[p++],r=c[p++];break;case jv.A:var _=c[p++],S=c[p++],T=c[p++],M=c[p++],w=c[p++],D=c[p++];p+=1;var C=!!(1-c[p++]);s=Math.cos(w)*T+_,l=Math.sin(w)*M+S,p<=1&&(a=s,o=l);var R=(f-_)*M/T+_;m=a_t(_,S,M,w,w+D,C,R,h,Su),n=Math.cos(w+D)*T+_,r=Math.sin(w+D)*M+S;break;case jv.R:a=n=c[p++],o=r=c[p++];var z=c[p++],N=c[p++];m=TK(a,o,z,N,f,h,Su);break;case jv.Z:m=XC(n,r,a,o,f,h,Su,!0),n=a,r=o;break}m<u&&(u=m,e.set(Su[0],Su[1]))}return u}var Au=new Ne,Ri=new Ne,_r=new Ne,Vc=new Ne,Oc=new Ne;function hG(i,t){if(i){var e=i.getTextGuideLine(),n=i.getTextContent();if(n&&e){var r=i.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=r.candidates||i_t,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=r.anchor,c=i.getComputedTransform(),f=c&&Pl([],c),h=t.get("length2")||0;u&&_r.copy(u);for(var p=0;p<o.length;p++){var g=o[p];r_t(g,0,s,Au,Vc),Ne.scaleAndAdd(Ri,Au,Vc,h),Ri.transform(f);var m=i.getBoundingRect(),_=u?u.distance(Ri):i instanceof _n?s_t(Ri,i.path,_r):o_t(Ri,m,_r);_<l&&(l=_,Ri.transform(c),_r.transform(c),_r.toArray(a[0]),Ri.toArray(a[1]),Au.toArray(a[2]))}MK(a,t.get("minTurnAngle")),e.setShape({points:a})}}}var WC=[],qo=new Ne;function MK(i,t){if(t<=180&&t>0){t=t/180*Math.PI,Au.fromArray(i[0]),Ri.fromArray(i[1]),_r.fromArray(i[2]),Ne.sub(Vc,Au,Ri),Ne.sub(Oc,_r,Ri);var e=Vc.len(),n=Oc.len();if(!(e<.001||n<.001)){Vc.scale(1/e),Oc.scale(1/n);var r=Vc.dot(Oc),a=Math.cos(t);if(a<r){var o=XC(Ri.x,Ri.y,_r.x,_r.y,Au.x,Au.y,WC,!1);qo.fromArray(WC),qo.scaleAndAdd(Oc,o/Math.tan(Math.PI-t));var s=_r.x!==Ri.x?(qo.x-Ri.x)/(_r.x-Ri.x):(qo.y-Ri.y)/(_r.y-Ri.y);if(isNaN(s))return;s<0?Ne.copy(qo,Ri):s>1&&Ne.copy(qo,_r),qo.toArray(i[1])}}}}function l_t(i,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Au.fromArray(i[0]),Ri.fromArray(i[1]),_r.fromArray(i[2]),Ne.sub(Vc,Ri,Au),Ne.sub(Oc,_r,Ri);var n=Vc.len(),r=Oc.len();if(!(n<.001||r<.001)){Vc.scale(1/n),Oc.scale(1/r);var a=Vc.dot(t),o=Math.cos(e);if(a<o){var s=XC(Ri.x,Ri.y,_r.x,_r.y,Au.x,Au.y,WC,!1);qo.fromArray(WC);var l=Math.PI/2,u=Math.acos(Oc.dot(t)),c=l+u-e;if(c>=l)Ne.copy(qo,_r);else{qo.scaleAndAdd(Oc,s/Math.tan(Math.PI/2-c));var f=_r.x!==Ri.x?(qo.x-Ri.x)/(_r.x-Ri.x):(qo.y-Ri.y)/(_r.y-Ri.y);if(isNaN(f))return;f<0?Ne.copy(qo,Ri):f>1&&Ne.copy(qo,_r)}qo.toArray(i[1])}}}}function GI(i,t,e,n){var r=e==="normal",a=r?i:i.ensureState(e);a.ignore=t;var o=n.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();r?i.useStyle(s):a.style=s}function u_t(i,t){var e=t.smooth,n=t.points;if(n)if(i.moveTo(n[0][0],n[0][1]),e>0&&n.length>=3){var r=eh(n[0],n[1]),a=eh(n[1],n[2]);if(!r||!a){i.lineTo(n[1][0],n[1][1]),i.lineTo(n[2][0],n[2][1]);return}var o=Math.min(r,a)*e,s=B1([],n[1],n[0],o/r),l=B1([],n[1],n[2],o/a),u=B1([],s,l,.5);i.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),i.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)i.lineTo(n[c][0],n[c][1])}function uU(i,t,e){var n=i.getTextGuideLine(),r=i.getTextContent();if(!r){n&&i.removeTextGuideLine();return}for(var a=t.normal,o=a.get("show"),s=r.ignore,l=0;l<gb.length;l++){var u=gb[l],c=t[u],f=u==="normal";if(c){var h=c.get("show"),p=f?s:_e(r.states[u]&&r.states[u].ignore,s);if(p||!_e(h,o)){var g=f?n:n&&n.states[u];g&&(g.ignore=!0),n&&GI(n,!0,u,c);continue}n||(n=new Ia,i.setTextGuideLine(n),!f&&(s||!o)&&GI(n,!0,"normal",t.normal),i.stateProxy&&(n.stateProxy=i.stateProxy)),GI(n,!1,u,c)}}if(n){Re(n.style,e),n.style.fill=null;var m=a.get("showAbove"),_=i.textGuideLineConfig=i.textGuideLineConfig||{};_.showAbove=m||!1,n.buildPath=u_t}}function cU(i,t){t=t||"labelLine";for(var e={normal:i.getModel(t)},n=0;n<Jo.length;n++){var r=Jo[n];e[r]=i.getModel([r,t])}return e}var dG=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],c_t=1,YC=2,AK=c_t|YC;function qC(i,t,e){e=e||AK,t?i.dirty|=e:i.dirty&=~e}function wK(i,t){return t=t||AK,i.dirty==null||!!(i.dirty&t)}function Jc(i){if(i)return wK(i)&&EK(i,i.label,i),i}function EK(i,t,e){var n=t.getComputedTransform();i.transform=SB(i.transform,n);var r=i.localRect=_b(i.localRect,t.getBoundingRect()),a=t.style,o=a.margin,s=e&&e.marginForce,l=e&&e.minMarginForce,u=e&&e.marginDefault,c=a.__marginType;c==null&&u&&(o=u,c=A0.textMargin);for(var f=0;f<4;f++)XI[f]=c===A0.minMargin&&l&&l[f]!=null?l[f]:s&&s[f]!=null?s[f]:o?o[f]:0;c===A0.textMargin&&qg(r,XI,!1,!1);var h=i.rect=_b(i.rect,r);return n&&h.applyTransform(n),c===A0.minMargin&&qg(h,XI,!1,!1),i.axisAligned=_B(n),(i.label=i.label||{}).ignore=t.ignore,qC(i,!1),qC(i,!0,YC),i}var XI=[0,0,0,0];function f_t(i,t,e){return i.transform=SB(i.transform,e),i.localRect=_b(i.localRect,t),i.rect=_b(i.rect,t),e&&i.rect.applyTransform(e),i.axisAligned=_B(e),i.obb=void 0,(i.label=i.label||{}).ignore=!1,i}function WP(i,t){if(i){i.label.x+=t.x,i.label.y+=t.y,i.label.markRedraw();var e=i.transform;e&&(e[4]+=t.x,e[5]+=t.y);var n=i.rect;n&&(n.x+=t.x,n.y+=t.y);var r=i.obb;r&&r.fromBoundingRect(i.localRect,e)}}function YP(i,t){for(var e=0;e<dG.length;e++){var n=dG[e];i[n]==null&&(i[n]=t[n])}return Jc(i)}function pG(i){var t=i.obb;return(!t||wK(i,YC))&&(i.obb=t=t||new Jq,t.fromBoundingRect(i.localRect,i.transform),qC(i,!1,YC)),t}function qP(i,t,e,n,r){var a=i.length,o=We[t],s=Pr[t];if(a<2)return!1;i.sort(function(R,z){return R.rect[o]-z.rect[o]});for(var l=0,u,c=!1,f=0;f<a;f++){var h=i[f],p=h.rect;u=p[o]-l,u<0&&(p[o]-=u,h.label[o]-=u,c=!0),l=p[o]+p[s]}var g=i[0],m=i[a-1],_,S;T(),_<0&&D(-_,.8),S<0&&D(S,.8),T(),M(_,S,1),M(S,_,-1),T(),_<0&&C(-_),S<0&&C(S);function T(){_=g.rect[o]-e,S=n-m.rect[o]-m.rect[s]}function M(R,z,N){if(R<0){var O=Math.min(z,-R);if(O>0){w(O*N,0,a);var U=O+R;U<0&&D(-U*N,1)}else D(-R*N,1)}}function w(R,z,N){R!==0&&(c=!0);for(var O=z;O<N;O++){var U=i[O],F=U.rect;F[o]+=R,U.label[o]+=R}}function D(R,z){for(var N=[],O=0,U=1;U<a;U++){var F=i[U-1].rect,V=Math.max(i[U].rect[o]-F[o]-F[s],0);N.push(V),O+=V}if(O){var W=Math.min(Math.abs(R)/O,z);if(R>0)for(var U=0;U<a-1;U++){var Z=N[U]*W;w(Z,0,U+1)}else for(var U=a-1;U>0;U--){var Z=N[U-1]*W;w(-Z,U,a)}}}function C(R){var z=R<0?-1:1;R=Math.abs(R);for(var N=Math.ceil(R/(a-1)),O=0;O<a-1;O++)if(z>0?w(N,0,O+1):w(-N,a-O-1,a),R-=N,R<=0)return}return c}function h_t(i){for(var t=0;t<i.length;t++){var e=i[t],n=e.defaultAttr,r=e.labelLine;e.label.attr("ignore",n.ignore),r&&r.attr("ignore",n.labelGuideIgnore)}}function CK(i){var t=[];i.sort(function(u,c){return(c.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||c.priority-u.priority});function e(u){if(!u.ignore){var c=u.ensureState("emphasis");c.ignore==null&&(c.ignore=!1)}u.ignore=!0}for(var n=0;n<i.length;n++){var r=Jc(i[n]);if(!r.label.ignore){for(var a=r.label,o=r.labelLine,s=!1,l=0;l<t.length;l++)if(RD(r,t[l],null,{touchThreshold:.05})){s=!0;break}s?(e(a),o&&e(o)):t.push(r)}}}function RD(i,t,e,n){return!i||!t||i.label&&i.label.ignore||t.label&&t.label.ignore||!i.rect.intersect(t.rect,e,n)?!1:i.axisAligned&&t.axisAligned?!0:pG(i).intersect(pG(t),e,n)}function d_t(i){if(i){for(var t=[],e=0;e<i.length;e++)t.push(i[e].slice());return t}}function p_t(i,t){var e=i.label,n=t&&t.getTextGuideLine();return{dataIndex:i.dataIndex,dataType:i.dataType,seriesIndex:i.seriesModel.seriesIndex,text:i.label.style.text,rect:i.hostRect,labelRect:i.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:d_t(n&&n.shape.points)}}var vG=["align","verticalAlign","width","height","fontSize"],Go=new rh,WI=gn(),v_t=gn();function pw(i,t,e){for(var n=0;n<e.length;n++){var r=e[n];t[r]!=null&&(i[r]=t[r])}}var vw=["x","y","rotation"],g_t=(function(){function i(){this._labelList=[],this._chartViewList=[]}return i.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},i.prototype._addLabel=function(t,e,n,r,a){var o=r.style,s=r.__hostTarget,l=s.textConfig||{},u=r.getComputedTransform(),c=r.getBoundingRect().plain();Oe.applyTransform(c,c,u),u?Go.setLocalTransform(u):(Go.x=Go.y=Go.rotation=Go.originX=Go.originY=0,Go.scaleX=Go.scaleY=1),Go.rotation=Gs(Go.rotation);var f=r.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var p=f.getComputedTransform();Oe.applyTransform(h,h,p)}var g=h&&f.getTextGuideLine();this._labelList.push({label:r,labelLine:g,seriesModel:n,dataIndex:t,dataType:e,layoutOptionOrCb:a,layoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:g&&g.ignore,x:Go.x,y:Go.y,scaleX:Go.scaleX,scaleY:Go.scaleY,rotation:Go.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},i.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,r=n.get("labelLayout");(Te(r)||Tn(r).length)&&t.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=Ue(a);o&&!o.disableLabelLayout&&e._addLabel(s.dataIndex,s.dataType,n,o,r)})},i.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function r(M,w){return function(){hG(M,w)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;Te(o.layoutOptionOrCb)?c=o.layoutOptionOrCb(p_t(o,l)):c=o.layoutOptionOrCb,c=c||{},o.layoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(s.x=se(c.x,e),s.setStyle("x",0),h=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=se(c.y,n),s.setStyle("y",0),h=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var p=l.getTextGuideLine();p&&(p.setShape({points:c.labelLinePoints}),h=!1)}var g=WI(s);g.needsUpdateLabelLine=h,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var m=0;m<vG.length;m++){var _=vG[m];s.setStyle(_,c[_]!=null?c[_]:u.style[_])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var S=o.seriesModel;if(o.dataIndex!=null){var T=o.seriesModel.getData(o.dataType);S=T.getItemModel(o.dataIndex)}s.on("drag",r(l,S.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},i.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),r=[];G(this._labelList,function(l){l.defaultAttr.ignore||r.push(YP({},l))});var a=Gn(r,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=Gn(r,function(l){return l.layoutOption.moveOverlap==="shiftY"});qP(a,0,0,e),qP(o,1,0,n);var s=Gn(r,function(l){return l.layoutOption.hideOverlap});h_t(s),CK(s)},i.prototype.processLabelsOverall=function(){var t=this;G(this._chartViewList,function(e){var n=e.__model,r=e.ignoreLabelLineUpdate,a=n.isAnimationEnabled();e.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!r,l=o.getTextContent();!s&&l&&(s=WI(l).needsUpdateLabelLine),s&&t._updateLabelLine(o,n),a&&t._animateLabels(o,n)})})},i.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),r=Ue(t),a=r.dataIndex;if(n&&a!=null){var o=e.getData(r.dataType),s=o.getItemModel(a),l={},u=o.getItemVisual(a,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");uU(t,cU(s),l),hG(t,f)}},i.prototype._animateLabels=function(t,e){var n=t.getTextContent(),r=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!P0(t))){var a=WI(n),o=a.oldLayout,s=Ue(t),l=s.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=e.getData(s.dataType);if(o){n.attr(o);var h=t.prevStates;h&&(tn(h,"select")>=0&&n.attr(a.oldLayoutSelect),tn(h,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),Pn(n,u,e,l)}else if(n.attr(u),!L_(n).valueAnimation){var f=_e(n.style.opacity,1);n.style.opacity=0,Li(n,{style:{opacity:f}},e,l)}if(a.oldLayout=u,n.states.select){var p=a.oldLayoutSelect={};pw(p,u,vw),pw(p,n.states.select,vw)}if(n.states.emphasis){var g=a.oldLayoutEmphasis={};pw(g,u,vw),pw(g,n.states.emphasis,vw)}cZ(n,l,c,e,e)}if(r&&!r.ignore&&!r.invisible){var a=v_t(r),o=a.oldLayout,m={points:r.shape.points};o?(r.attr({shape:o}),Pn(r,{shape:m},e)):(r.setShape(m),r.style.strokePercent=0,Li(r,{style:{strokePercent:1}},e)),a.oldLayout=m}},i})(),YI=gn();function m_t(i){i.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){var r=YI(e).labelManager;r||(r=YI(e).labelManager=new g_t),r.clearLabels()}),i.registerUpdateLifecycle("series:layoutlabels",function(t,e,n){var r=YI(e).labelManager;n.updatedSeries.forEach(function(a){r.addLabelsOfSeries(e.getViewOfSeriesModel(a))}),r.updateLayoutConfig(e),r.layout(e),r.processLabelsOverall()})}var qI=Math.sin,ZI=Math.cos,DK=Math.PI,Kv=Math.PI*2,y_t=180/DK,RK=(function(){function i(){}return i.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},i.prototype.moveTo=function(t,e){this._add("M",t,e)},i.prototype.lineTo=function(t,e){this._add("L",t,e)},i.prototype.bezierCurveTo=function(t,e,n,r,a,o){this._add("C",t,e,n,r,a,o)},i.prototype.quadraticCurveTo=function(t,e,n,r){this._add("Q",t,e,n,r)},i.prototype.arc=function(t,e,n,r,a,o){this.ellipse(t,e,n,n,0,r,a,o)},i.prototype.ellipse=function(t,e,n,r,a,o,s,l){var u=s-o,c=!l,f=Math.abs(u),h=Xd(f-Kv)||(c?u>=Kv:-u>=Kv),p=u>0?u%Kv:u%Kv+Kv,g=!1;h?g=!0:Xd(f)?g=!1:g=p>=DK==!!c;var m=t+n*ZI(o),_=e+r*qI(o);this._start&&this._add("M",m,_);var S=Math.round(a*y_t);if(h){var T=1/this._p,M=(c?1:-1)*(Kv-T);this._add("A",n,r,S,1,+c,t+n*ZI(o+M),e+r*qI(o+M)),T>.01&&this._add("A",n,r,S,0,+c,m,_)}else{var w=t+n*ZI(s),D=e+r*qI(s);this._add("A",n,r,S,+g,+c,w,D)}},i.prototype.rect=function(t,e,n,r){this._add("M",t,e),this._add("l",n,0),this._add("l",0,r),this._add("l",-n,0),this._add("Z")},i.prototype.closePath=function(){this._d.length>0&&this._add("Z")},i.prototype._add=function(t,e,n,r,a,o,s,l,u){for(var c=[],f=this._p,h=1;h<arguments.length;h++){var p=arguments[h];if(isNaN(p)){this._invalid=!0;return}c.push(Math.round(p*f)/f)}this._d.push(t+c.join(" ")),this._start=t==="Z"},i.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},i.prototype.getStr=function(){return this._str},i})(),fU="none",__t=Math.round;function S_t(i){var t=i.fill;return t!=null&&t!==fU}function x_t(i){var t=i.stroke;return t!=null&&t!==fU}var ZP=["lineCap","miterLimit","lineJoin"],b_t=kt(ZP,function(i){return"stroke-"+i.toLowerCase()});function T_t(i,t,e,n){var r=t.opacity==null?1:t.opacity;if(e instanceof da){i("opacity",r);return}if(S_t(t)){var a=pb(t.fill);i("fill",a.color);var o=t.fillOpacity!=null?t.fillOpacity*a.opacity*r:a.opacity*r;o<1&&i("fill-opacity",o)}else i("fill",fU);if(x_t(t)){var s=pb(t.stroke);i("stroke",s.color);var l=t.strokeNoScale?e.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=t.strokeOpacity!=null?t.strokeOpacity*s.opacity*r:s.opacity*r,f=t.strokeFirst;if(u!==1&&i("stroke-width",u),f&&i("paint-order",f?"stroke":"fill"),c<1&&i("stroke-opacity",c),t.lineDash){var h=YB(e),p=h[0],g=h[1];p&&(g=__t(g||0),i("stroke-dasharray",p.join(",")),(g||n)&&i("stroke-dashoffset",g))}for(var m=0;m<ZP.length;m++){var _=ZP[m];if(t[_]!==TC[_]){var S=t[_]||TC[_];S&&i(b_t[m],S)}}}}var LK="http://www.w3.org/2000/svg",IK="http://www.w3.org/1999/xlink",M_t="http://www.w3.org/2000/xmlns/",A_t="http://www.w3.org/XML/1998/namespace",gG="ecmeta_";function NK(i){return document.createElementNS(LK,i)}function aa(i,t,e,n,r){return{tag:i,attrs:e||{},children:n,text:r,key:t}}function w_t(i,t){var e=[];if(t)for(var n in t){var r=t[n],a=n;r!==!1&&(r!==!0&&r!=null&&(a+='="'+r+'"'),e.push(a))}return"<"+i+" "+e.join(" ")+">"}function E_t(i){return"</"+i+">"}function hU(i,t){t=t||{};var e=t.newline?`
`:"";function n(r){var a=r.children,o=r.tag,s=r.attrs,l=r.text;return w_t(o,s)+(o!=="style"?yo(l):l||"")+(a?""+e+kt(a,function(u){return n(u)}).join(e)+e:"")+E_t(o)}return n(i)}function C_t(i,t,e){e=e||{};var n=e.newline?`
`:"",r=" {"+n,a=n+"}",o=kt(Tn(i),function(l){return l+r+kt(Tn(i[l]),function(u){return u+":"+i[l][u]+";"}).join(n)+a}).join(n),s=kt(Tn(t),function(l){return"@keyframes "+l+r+kt(Tn(t[l]),function(u){return u+r+kt(Tn(t[l][u]),function(c){var f=t[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(n)+a}).join(n)+a}).join(n);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(n)}function jP(i){return{zrId:i,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function mG(i,t,e,n){return aa("svg","root",{width:i,height:t,xmlns:LK,"xmlns:xlink":IK,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+i+" "+t:!1},e)}var D_t=0;function OK(){return D_t++}var yG={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},ig="transform-origin";function R_t(i,t,e){var n=Rt({},i.shape);Rt(n,t),i.buildPath(e,n);var r=new RK;return r.reset(tq(i)),e.rebuildPath(r,1),r.generateStr(),r.getStr()}function L_t(i,t){var e=t.originX,n=t.originY;(e||n)&&(i[ig]=e+"px "+n+"px")}var I_t={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function PK(i,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=i,e}function N_t(i,t,e){var n=i.shape.paths,r={},a,o;if(G(n,function(l){var u=jP(e.zrId);u.animation=!0,LD(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,h=Tn(c),p=h.length;if(p){o=h[p-1];var g=c[o];for(var m in g){var _=g[m];r[m]=r[m]||{d:""},r[m].d+=_.d||""}for(var S in f){var T=f[S].animation;T.indexOf(o)>=0&&(a=T)}}}),!!a){t.d=!1;var s=PK(r,e);return a.replace(o,s)}}function _G(i){return le(i)?yG[i]?"cubic-bezier("+yG[i]+")":Zz(i)?i:"":""}function LD(i,t,e,n){var r=i.animators,a=r.length,o=[];if(i instanceof oT){var s=N_t(i,t,e);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=r[u],f=[c.getMaxTime()/1e3+"s"],h=_G(c.getClip().easing),p=c.getDelay();h?f.push(h):f.push("linear"),p&&f.push(p/1e3+"s"),c.getLoop()&&f.push("infinite");var g=f.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(c)}function m(T){var M=T[1],w=M.length,D={},C={},R={},z="animation-timing-function";function N(Lt,Ct,Wt){for(var Xt=Lt.getTracks(),ae=Lt.getMaxTime(),at=0;at<Xt.length;at++){var wt=Xt[at];if(wt.needsAnimate()){var It=wt.keyframes,Nt=wt.propName;if(Wt&&(Nt=Wt(Nt)),Nt)for(var Bt=0;Bt<It.length;Bt++){var oe=It[Bt],jt=Math.round(oe.time/ae*100)+"%",ie=_G(oe.easing),Xe=oe.rawValue;(le(Xe)||En(Xe))&&(Ct[jt]=Ct[jt]||{},Ct[jt][Nt]=oe.rawValue,ie&&(Ct[jt][z]=ie))}}}}for(var O=0;O<w;O++){var U=M[O],F=U.targetName;F?F==="shape"&&N(U,C):!n&&N(U,D)}for(var V in D){var W={};SC(W,i),Rt(W,D[V]);var Z=eq(W),H=D[V][z];R[V]=Z?{transform:Z}:{},L_t(R[V],W),H&&(R[V][z]=H)}var j,Y=!0;for(var V in C){R[V]=R[V]||{};var Q=!j,H=C[V][z];Q&&(j=new Kc);var nt=j.len();j.reset(),R[V].d=R_t(i,C[V],j);var q=j.len();if(!Q&&nt!==q){Y=!1;break}H&&(R[V][z]=H)}if(!Y)for(var V in R)delete R[V].d;if(!n)for(var O=0;O<w;O++){var U=M[O],F=U.targetName;F==="style"&&N(U,R,function(Xt){return I_t[Xt]})}for(var $=Tn(R),st=!0,ft,O=1;O<$.length;O++){var Mt=$[O-1],dt=$[O];if(R[Mt][ig]!==R[dt][ig]){st=!1;break}ft=R[Mt][ig]}if(st&&ft){for(var V in R)R[V][ig]&&delete R[V][ig];t[ig]=ft}if(Gn($,function(Lt){return Tn(R[Lt]).length>0}).length){var xt=PK(R,e);return xt+" "+T[0]+" both"}}for(var _ in l){var s=m(l[_]);s&&o.push(s)}if(o.length){var S=e.zrId+"-cls-"+OK();e.cssNodes["."+S]={animation:o.join(",")},t.class=S}}function O_t(i,t,e){if(!i.ignore)if(i.isSilent()){var n={"pointer-events":"none"};SG(n,t,e)}else{var r=i.states.emphasis&&i.states.emphasis.style?i.states.emphasis.style:{},a=r.fill;if(!a){var o=i.style&&i.style.fill,s=i.states.select&&i.states.select.style&&i.states.select.style.fill,l=i.currentStates.indexOf("select")>=0&&s||o;l&&(a=mC(l))}var u=r.lineWidth;if(u){var c=!r.strokeNoScale&&i.transform?i.transform[0]:1;u=u/c}var n={cursor:"pointer"};a&&(n.fill=a),r.stroke&&(n.stroke=r.stroke),u&&(n["stroke-width"]=u),SG(n,t,e)}}function SG(i,t,e,n){var r=JSON.stringify(i),a=e.cssStyleCache[r];a||(a=e.zrId+"-cls-"+OK(),e.cssStyleCache[r]=a,e.cssNodes["."+a+":hover"]=i),t.class=t.class?t.class+" "+a:a}var Cb=Math.round;function zK(i){return i&&le(i.src)}function BK(i){return i&&Te(i.toDataURL)}function dU(i,t,e,n){T_t(function(r,a){var o=r==="fill"||r==="stroke";o&&$Y(a)?VK(t,i,r,n):o&&Kz(a)?HK(e,i,r,n):i[r]=a,o&&n.ssr&&a==="none"&&(i["pointer-events"]="visible")},t,e,!1),k_t(e,i,n)}function pU(i,t){var e=lq(t);e&&(e.each(function(n,r){n!=null&&(i[(gG+r).toLowerCase()]=n+"")}),t.isSilent()&&(i[gG+"silent"]="true"))}function xG(i){return Xd(i[0]-1)&&Xd(i[1])&&Xd(i[2])&&Xd(i[3]-1)}function P_t(i){return Xd(i[4])&&Xd(i[5])}function vU(i,t,e){if(t&&!(P_t(t)&&xG(t))){var n=1e4;i.transform=xG(t)?"translate("+Cb(t[4]*n)/n+" "+Cb(t[5]*n)/n+")":ght(t)}}function bG(i,t,e){for(var n=i.points,r=[],a=0;a<n.length;a++)r.push(Cb(n[a][0]*e)/e),r.push(Cb(n[a][1]*e)/e);t.points=r.join(" ")}function TG(i){return!i.smooth}function z_t(i){var t=kt(i,function(e){return typeof e=="string"?[e,e]:e});return function(e,n,r){for(var a=0;a<t.length;a++){var o=t[a],s=e[o[0]];s!=null&&(n[o[1]]=Cb(s*r)/r)}}}var B_t={circle:[z_t(["cx","cy","r"])],polyline:[bG,TG],polygon:[bG,TG]};function U_t(i){for(var t=i.animators,e=0;e<t.length;e++)if(t[e].targetName==="shape")return!0;return!1}function UK(i,t){var e=i.style,n=i.shape,r=B_t[i.type],a={},o=t.animation,s="path",l=i.style.strokePercent,u=t.compress&&tq(i)||4;if(r&&!t.willUpdate&&!(r[1]&&!r[1](n))&&!(o&&U_t(i))&&!(l<1)){s=i.type;var c=Math.pow(10,u);r[0](n,a,c)}else{var f=!i.path||i.shapeChanged();i.path||i.createPathProxy();var h=i.path;f&&(h.beginPath(),i.buildPath(h,i.shape),i.pathUpdated());var p=h.getVersion(),g=i,m=g.__svgPathBuilder;(g.__svgPathVersion!==p||!m||l!==g.__svgPathStrokePercent)&&(m||(m=g.__svgPathBuilder=new RK),m.reset(u),h.rebuildPath(m,l),m.generateStr(),g.__svgPathVersion=p,g.__svgPathStrokePercent=l),a.d=m.getStr()}return vU(a,i.transform),dU(a,e,i,t),pU(a,i),t.animation&&LD(i,a,t),t.emphasis&&O_t(i,a,t),aa(s,i.id+"",a)}function V_t(i,t){var e=i.style,n=e.image;if(n&&!le(n)&&(zK(n)?n=n.src:BK(n)&&(n=n.toDataURL())),!!n){var r=e.x||0,a=e.y||0,o=e.width,s=e.height,l={href:n,width:o,height:s};return r&&(l.x=r),a&&(l.y=a),vU(l,i.transform),dU(l,e,i,t),pU(l,i),t.animation&&LD(i,l,t),aa("image",i.id+"",l)}}function H_t(i,t){var e=i.style,n=e.text;if(n!=null&&(n+=""),!(!n||isNaN(e.x)||isNaN(e.y))){var r=e.font||yh,a=e.x||0,o=yht(e.y||0,nT(r),e.textBaseline),s=mht[e.textAlign]||e.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(Oq(e)){var u="",c=e.fontStyle,f=Nq(e.fontSize);if(!parseFloat(f))return;var h=e.fontFamily||AY,p=e.fontWeight;u+="font-size:"+f+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),p&&p!=="normal"&&(u+="font-weight:"+p+";"),l.style=u}else l.style="font: "+r;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),o&&(l.y=o),vU(l,i.transform),dU(l,e,i,t),pU(l,i),t.animation&&LD(i,l,t),aa("text",i.id+"",l,void 0,n)}}function MG(i,t){if(i instanceof _n)return UK(i,t);if(i instanceof da)return V_t(i,t);if(i instanceof n_)return H_t(i,t)}function k_t(i,t,e){var n=i.style;if(_ht(n)){var r=Sht(i),a=e.shadowCache,o=a[r];if(!o){var s=i.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=n.shadowOffsetX||0,f=n.shadowOffsetY||0,h=n.shadowBlur,p=pb(n.shadowColor),g=p.opacity,m=p.color,_=h/2/l,S=h/2/u,T=_+" "+S;o=e.zrId+"-s"+e.shadowIdx++,e.defs[o]=aa("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[aa("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:T,"flood-color":m,"flood-opacity":g})]),a[r]=o}t.filter=lD(o)}}function VK(i,t,e,n){var r=i[e],a,o={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if(QY(r))a="linearGradient",o.x1=r.x,o.y1=r.y,o.x2=r.x2,o.y2=r.y2;else if(JY(r))a="radialGradient",o.cx=_e(r.x,.5),o.cy=_e(r.y,.5),o.r=_e(r.r,.5);else return;for(var s=r.colorStops,l=[],u=0,c=s.length;u<c;++u){var f=YO(s[u].offset)*100+"%",h=s[u].color,p=pb(h),g=p.color,m=p.opacity,_={offset:f};_["stop-color"]=g,m<1&&(_["stop-opacity"]=m),l.push(aa("stop",u+"",_))}var S=aa(a,"",o,l),T=hU(S),M=n.gradientCache,w=M[T];w||(w=n.zrId+"-g"+n.gradientIdx++,M[T]=w,o.id=w,n.defs[w]=aa(a,w,o,l)),t[e]=lD(w)}function HK(i,t,e,n){var r=i.style[e],a=i.getBoundingRect(),o={},s=r.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",f;if(KY(r)){var h=r.imageWidth,p=r.imageHeight,g=void 0,m=r.image;if(le(m)?g=m:zK(m)?g=m.src:BK(m)&&(g=m.toDataURL()),typeof Image>"u"){var _="Image width/height must been given explictly in svg-ssr renderer.";ja(h,_),ja(p,_)}else if(h==null||p==null){var S=function(O,U){if(O){var F=O.elm,V=h||U.width,W=p||U.height;O.tag==="pattern"&&(u?(W=1,V/=a.width):c&&(V=1,W/=a.height)),O.attrs.width=V,O.attrs.height=W,F&&(F.setAttribute("width",V),F.setAttribute("height",W))}},T=aB(g,null,i,function(O){l||S(C,O),S(f,O)});T&&T.width&&T.height&&(h=h||T.width,p=p||T.height)}f=aa("image","img",{href:g,width:h,height:p}),o.width=h,o.height=p}else r.svgElement&&(f=Ee(r.svgElement),o.width=r.svgWidth,o.height=r.svgHeight);if(f){var M,w;l?M=w=1:u?(w=1,M=o.width/a.width):c?(M=1,w=o.height/a.height):o.patternUnits="userSpaceOnUse",M!=null&&!isNaN(M)&&(o.width=M),w!=null&&!isNaN(w)&&(o.height=w);var D=eq(r);D&&(o.patternTransform=D);var C=aa("pattern","",o,[f]),R=hU(C),z=n.patternCache,N=z[R];N||(N=n.zrId+"-p"+n.patternIdx++,z[R]=N,o.id=N,C=n.defs[N]=aa("pattern",N,o,[f])),t[e]=lD(N)}}function F_t(i,t,e){var n=e.clipPathCache,r=e.defs,a=n[i.id];if(!a){a=e.zrId+"-c"+e.clipPathIdx++;var o={id:a};n[i.id]=a,r[a]=aa("clipPath",a,o,[UK(i,e)])}t["clip-path"]=lD(a)}function AG(i){return document.createTextNode(i)}function fg(i,t,e){i.insertBefore(t,e)}function wG(i,t){i.removeChild(t)}function EG(i,t){i.appendChild(t)}function kK(i){return i.parentNode}function FK(i){return i.nextSibling}function jI(i,t){i.textContent=t}var CG=58,G_t=120,X_t=aa("","");function KP(i){return i===void 0}function Lc(i){return i!==void 0}function W_t(i,t,e){for(var n={},r=t;r<=e;++r){var a=i[r].key;a!==void 0&&(n[a]=r)}return n}function S1(i,t){var e=i.key===t.key,n=i.tag===t.tag;return n&&e}function Db(i){var t,e=i.children,n=i.tag;if(Lc(n)){var r=i.elm=NK(n);if(gU(X_t,i),Vt(e))for(t=0;t<e.length;++t){var a=e[t];a!=null&&EG(r,Db(a))}else Lc(i.text)&&!Le(i.text)&&EG(r,AG(i.text))}else i.elm=AG(i.text);return i.elm}function GK(i,t,e,n,r){for(;n<=r;++n){var a=e[n];a!=null&&fg(i,Db(a),t)}}function ZC(i,t,e,n){for(;e<=n;++e){var r=t[e];if(r!=null)if(Lc(r.tag)){var a=kK(r.elm);wG(a,r.elm)}else wG(i,r.elm)}}function gU(i,t){var e,n=t.elm,r=i&&i.attrs||{},a=t.attrs||{};if(r!==a){for(e in a){var o=a[e],s=r[e];s!==o&&(o===!0?n.setAttribute(e,""):o===!1?n.removeAttribute(e):e==="style"?n.style.cssText=o:e.charCodeAt(0)!==G_t?n.setAttribute(e,o):e==="xmlns:xlink"||e==="xmlns"?n.setAttributeNS(M_t,e,o):e.charCodeAt(3)===CG?n.setAttributeNS(A_t,e,o):e.charCodeAt(5)===CG?n.setAttributeNS(IK,e,o):n.setAttribute(e,o))}for(e in r)e in a||n.removeAttribute(e)}}function Y_t(i,t,e){for(var n=0,r=0,a=t.length-1,o=t[0],s=t[a],l=e.length-1,u=e[0],c=e[l],f,h,p,g;n<=a&&r<=l;)o==null?o=t[++n]:s==null?s=t[--a]:u==null?u=e[++r]:c==null?c=e[--l]:S1(o,u)?(m0(o,u),o=t[++n],u=e[++r]):S1(s,c)?(m0(s,c),s=t[--a],c=e[--l]):S1(o,c)?(m0(o,c),fg(i,o.elm,FK(s.elm)),o=t[++n],c=e[--l]):S1(s,u)?(m0(s,u),fg(i,s.elm,o.elm),s=t[--a],u=e[++r]):(KP(f)&&(f=W_t(t,n,a)),h=f[u.key],KP(h)?fg(i,Db(u),o.elm):(p=t[h],p.tag!==u.tag?fg(i,Db(u),o.elm):(m0(p,u),t[h]=void 0,fg(i,p.elm,o.elm))),u=e[++r]);(n<=a||r<=l)&&(n>a?(g=e[l+1]==null?null:e[l+1].elm,GK(i,g,e,r,l)):ZC(i,t,n,a))}function m0(i,t){var e=t.elm=i.elm,n=i.children,r=t.children;i!==t&&(gU(i,t),KP(t.text)?Lc(n)&&Lc(r)?n!==r&&Y_t(e,n,r):Lc(r)?(Lc(i.text)&&jI(e,""),GK(e,null,r,0,r.length-1)):Lc(n)?ZC(e,n,0,n.length-1):Lc(i.text)&&jI(e,""):i.text!==t.text&&(Lc(n)&&ZC(e,n,0,n.length-1),jI(e,t.text)))}function q_t(i,t){if(S1(i,t))m0(i,t);else{var e=i.elm,n=kK(e);Db(t),n!==null&&(fg(n,t.elm,FK(e)),ZC(n,[i],0,0))}return t}var Z_t=0,j_t=(function(){function i(t,e,n){if(this.type="svg",this.refreshHover=DG(),this.configLayer=DG(),this.storage=e,this._opts=n=Rt({},n),this.root=t,this._id="zr"+Z_t++,this._oldVNode=mG(n.width,n.height),t&&!n.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=NK("svg");gU(null,this._oldVNode),r.appendChild(a),t.appendChild(r)}this.resize(n.width,n.height)}return i.prototype.getType=function(){return this.type},i.prototype.getViewportRoot=function(){return this._viewport},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.getSvgDom=function(){return this._svgDom},i.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",q_t(this._oldVNode,t),this._oldVNode=t}},i.prototype.renderOneToVNode=function(t){return MG(t,jP(this._id))},i.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,r=this._height,a=jP(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis,a.ssr=this._opts.ssr;var o=[],s=this._bgVNode=K_t(n,r,this._backgroundColor,a);s&&o.push(s);var l=t.compress?null:this._mainVNode=aa("g","main",{},[]);this._paintList(e,a,l?l.children:o),l&&o.push(l);var u=kt(Tn(a.defs),function(h){return a.defs[h]});if(u.length&&o.push(aa("defs","defs",{},u)),t.animation){var c=C_t(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=aa("style","stl",{},[],c);o.push(f)}}return mG(n,r,o,t.useViewBox)},i.prototype.renderToString=function(t){return t=t||{},hU(this.renderToVNode({animation:_e(t.cssAnimation,!0),emphasis:_e(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:_e(t.useViewBox,!0)}),{newline:!0})},i.prototype.setBackgroundColor=function(t){this._backgroundColor=t},i.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},i.prototype._paintList=function(t,e,n){for(var r=t.length,a=[],o=0,s,l,u=0,c=0;c<r;c++){var f=t[c];if(!f.invisible){var h=f.__clipPaths,p=h&&h.length||0,g=l&&l.length||0,m=void 0;for(m=Math.max(p-1,g-1);m>=0&&!(h&&l&&h[m]===l[m]);m--);for(var _=g-1;_>m;_--)o--,s=a[o-1];for(var S=m+1;S<p;S++){var T={};F_t(h[S],T,e);var M=aa("g","clip-g-"+u++,T,[]);(s?s.children:n).push(M),a[o++]=M,s=M}l=h;var w=MG(f,e);w&&(s?s.children:n).push(w)}}},i.prototype.resize=function(t,e){var n=this._opts,r=this.root,a=this._viewport;if(t!=null&&(n.width=t),e!=null&&(n.height=e),r&&a&&(a.style.display="none",t=E0(r,0,n),e=E0(r,1,n),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var o=a.style;o.width=t+"px",o.height=e+"px"}if(Kz(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",e));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",e))}}},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},i.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},i.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=bht(e),e&&n+"base64,"+e):n+"charset=UTF-8,"+encodeURIComponent(e)},i})();function DG(i){return function(){}}function K_t(i,t,e,n){var r;if(e&&e!=="none")if(r=aa("rect","bg",{width:i,height:t,x:"0",y:"0"}),$Y(e))VK({fill:e},r.attrs,"fill",n);else if(Kz(e))HK({style:{fill:e},dirty:ur,getBoundingRect:function(){return{width:i,height:t}}},r.attrs,"fill",n);else{var a=pb(e),o=a.color,s=a.opacity;r.attrs.fill=o,s<1&&(r.attrs["fill-opacity"]=s)}return r}function Q_t(i){i.registerPainter("svg",j_t)}function RG(i,t,e){var n=ys.createCanvas(),r=t.getWidth(),a=t.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=r+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",i)),n.width=r*e,n.height=a*e,n}var KI=(function(i){ht(t,i);function t(e,n,r){var a=i.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;r=r||_C,typeof e=="string"?o=RG(e,n,r):Le(e)&&(o=e,e=o.id),a.id=e,a.dom=o;var s=o.style;return s&&(Wz(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=r,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=RG("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,n,r,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new Oe(0,0,0,0);function c(T){if(!(!T.isFinite()||T.isZero()))if(o.length===0){var M=new Oe(0,0,0,0);M.copy(T),o.push(M)}else{for(var w=!1,D=1/0,C=0,R=0;R<o.length;++R){var z=o[R];if(z.intersect(T)){var N=new Oe(0,0,0,0);N.copy(z),N.union(T),o[R]=N,w=!0;break}else if(l){u.copy(T),u.union(z);var O=T.width*T.height,U=z.width*z.height,F=u.width*u.height,V=F-O-U;V<D&&(D=V,C=R)}}if(l&&(o[C].union(T),w=!0),!w){var M=new Oe(0,0,0,0);M.copy(T),o.push(M)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=e[f];if(h){var p=h.shouldBePainted(r,a,!0,!0),g=h.__isRendered&&(h.__dirty&zs||!p)?h.getPrevPaintRect():null;g&&c(g);var m=p&&(h.__dirty&zs||!h.__isRendered)?h.getPaintRect():null;m&&c(m)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=n[f],p=h&&h.shouldBePainted(r,a,!0,!0);if(h&&(!p||!h.__zr)&&h.__isRendered){var g=h.getPrevPaintRect();g&&c(g)}}var _;do{_=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var S=f+1;S<o.length;)o[f].intersect(o[S])?(_=!0,o[f].union(o[S]),o.splice(S,1)):S++;f++}}while(_);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,n){var r=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=e+"px",o.height=n+"px"),a.width=e*r,a.height=n*r,s&&(s.width=e*r,s.height=n*r,r!==1&&this.ctxBack.scale(r,r))},t.prototype.clear=function(e,n,r){var a=this.dom,o=this.ctx,s=a.width,l=a.height;n=n||this.clearColor;var u=this.motionBlur&&!e,c=this.lastFrameAlpha,f=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/f,l/f));var p=this.domBack;function g(m,_,S,T){if(o.clearRect(m,_,S,T),n&&n!=="transparent"){var M=void 0;if(Qb(n)){var w=n.global||n.__width===S&&n.__height===T;M=w&&n.__canvasGradient||IP(o,n,{x:0,y:0,width:S,height:T}),n.__canvasGradient=M,n.__width=S,n.__height=T}else DY(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,M=NP(o,n,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));o.save(),o.fillStyle=M||n,o.fillRect(m,_,S,T),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(p,m,_,S,T),o.restore())}!r||u?g(0,0,s,l):r.length&&G(r,function(m){g(m.x*f,m.y*f,m.width*f,m.height*f)})},t})(Hl),LG=1e5,Qv=314159,gw=.01,J_t=.001;function $_t(i){return i?i.__builtin__?!0:!(typeof i.resize!="function"||typeof i.refresh!="function"):!1}function tSt(i,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+i+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var eSt=(function(){function i(t,e,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=Rt({},n||{}),this.dpr=n.devicePixelRatio||_C,this._singleCanvas=a,this.root=t;var o=t.style;o&&(Wz(t),t.innerHTML=""),this.storage=e;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=t,f=c.width,h=c.height;n.width!=null&&(f=n.width),n.height!=null&&(h=n.height),this.dpr=n.devicePixelRatio||1,c.width=f*this.dpr,c.height=h*this.dpr,this._width=f,this._height=h;var p=new KI(c,this,this.dpr);p.__builtin__=!0,p.initContext(),l[Qv]=p,p.zlevel=Qv,s.push(Qv),this._domRoot=t}else{this._width=E0(t,0,n),this._height=E0(t,1,n);var u=this._domRoot=tSt(this._width,this._height);t.appendChild(u)}}return i.prototype.getType=function(){return"canvas"},i.prototype.isSingleCanvas=function(){return this._singleCanvas},i.prototype.getViewportRoot=function(){return this._domRoot},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var a=0;a<r.length;a++){var o=r[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=a===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},i.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},i.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),!!e){for(var r={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<e;o++){var s=t[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(LG)),a||(a=n.ctx,a.save()),Mg(a,s,r,o===e-1))}a&&a.restore()}},i.prototype.getHoverLayer=function(){return this.getLayer(LG)},i.prototype.paintOne=function(t,e){qB(t,e)},i.prototype._paintList=function(t,e,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;dC(function(){l._paintList(t,e,n,r)})}}},i.prototype._compositeManually=function(){var t=this.getLayer(Qv).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},i.prototype._doPaintList=function(t,e,n){for(var r=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&a.push(u)}for(var c=!0,f=!1,h=function(m){var _=a[m],S=_.ctx,T=o&&_.createRepaintRects(t,e,p._width,p._height),M=n?_.__startIndex:_.__drawIndex,w=!n&&_.incremental&&Date.now,D=w&&Date.now(),C=_.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(_.__startIndex===_.__endIndex)_.clear(!1,C,T);else if(M===_.__startIndex){var R=t[M];(!R.incremental||!R.notClear||n)&&_.clear(!1,C,T)}M===-1&&(console.error("For some unknown reason. drawIndex is -1"),M=_.__startIndex);var z,N=function(V){var W={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(z=M;z<_.__endIndex;z++){var Z=t[z];if(Z.__inHover&&(f=!0),r._doPaintEl(Z,_,o,V,W,z===_.__endIndex-1),w){var H=Date.now()-D;if(H>15)break}}W.prevElClipPaths&&S.restore()};if(T)if(T.length===0)z=_.__endIndex;else for(var O=p.dpr,U=0;U<T.length;++U){var F=T[U];S.save(),S.beginPath(),S.rect(F.x*O,F.y*O,F.width*O,F.height*O),S.clip(),N(F),S.restore()}else S.save(),N(),S.restore();_.__drawIndex=z,_.__drawIndex<_.__endIndex&&(c=!1)},p=this,g=0;g<a.length;g++)h(g);return xn.wxa&&G(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:c,needsRefreshHover:f}},i.prototype._doPaintEl=function(t,e,n,r,a,o){var s=e.ctx;if(n){var l=t.getPaintRect();(!r||l&&l.intersect(r))&&(Mg(s,t,a,o),t.setPrevPaintRect(l))}else Mg(s,t,a,o)},i.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Qv);var n=this._layers[t];return n||(n=new KI("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?en(n,this._layerConfig[t],!0):this._layerConfig[t-gw]&&en(n,this._layerConfig[t-gw],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},i.prototype.insertLayer=function(t,e){var n=this._layers,r=this._zlevelList,a=r.length,o=this._domRoot,s=null,l=-1;if(!n[t]&&$_t(e)){if(a>0&&t>r[0]){for(l=0;l<a-1&&!(r[l]<t&&r[l+1]>t);l++);s=n[r[l]]}if(r.splice(l+1,0,t),n[t]=e,!e.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(e.dom,u.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.painter||(e.painter=this)}},i.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r];t.call(e,this._layers[a],a)}},i.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r],o=this._layers[a];o.__builtin__&&t.call(e,o,a)}},i.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r],o=this._layers[a];o.__builtin__||t.call(e,o,a)}},i.prototype.getLayers=function(){return this._layers},i.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function e(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var r=t[n];if(r.zlevel!==t[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,l;for(l=0;l<t.length;l++){var r=t[l],u=r.zlevel,c=void 0;s!==u&&(s=u,o=0),r.incremental?(c=this.getLayer(u+J_t,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?gw:0),this._needsManuallyCompositing),c.__builtin__||iD("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,e(l),a=c),r.__dirty&zs&&!r.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}e(l),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},i.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},i.prototype._clearLayer=function(t){t.clear()},i.prototype.setBackgroundColor=function(t){this._backgroundColor=t,G(this._layers,function(e){e.setUnpainted()})},i.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?en(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var a=this._zlevelList[r];if(a===t||a===t+gw){var o=this._layers[a];en(o,n[t],!0)}}}},i.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(tn(n,t),1))},i.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts,a=this.root;if(t!=null&&(r.width=t),e!=null&&(r.height=e),t=E0(a,0,r),e=E0(a,1,r),n.style.display="",this._width!==t||e!==this._height){n.style.width=t+"px",n.style.height=e+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(Qv).resize(t,e)}return this},i.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},i.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},i.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Qv].dom;var e=new KI("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,a=e.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,r,a):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];Mg(n,c,o,l===u-1)}return e.dom},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i})();function nSt(i){i.registerPainter("canvas",eSt)}var iSt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return rf(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var n=new Ce,r=Ar("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);n.add(r),r.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,l=e.itemHeight*.8,u=Ar(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);n.add(u),u.setStyle(e.itemStyle);var c=e.iconRotate==="inherit"?o:e.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=vt.color.neutral00,u.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t})(di);function u_(i,t){var e=i.mapDimensionsAll("defaultedLabel"),n=e.length;if(n===1){var r=a_(i,t,e[0]);return r!=null?r+"":null}else if(n){for(var a=[],o=0;o<e.length;o++)a.push(a_(i,t,e[o]));return a.join(" ")}}function XK(i,t){var e=i.mapDimensionsAll("defaultedLabel");if(!Vt(t))return t+"";for(var n=[],r=0;r<e.length;r++){var a=i.getDimensionIndex(e[r]);a>=0&&n.push(t[a])}return n.join(" ")}var hT=(function(i){ht(t,i);function t(e,n,r,a){var o=i.call(this)||this;return o.updateData(e,n,r,a),o}return t.prototype._createSymbol=function(e,n,r,a,o,s){this.removeAll();var l=Ar(e,-1,-1,2,2,null,s);l.attr({z2:_e(o,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=rSt,this._symbolType=e,this.add(l)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Sh(this.childAt(0))},t.prototype.downplay=function(){xh(this.childAt(0))},t.prototype.setZ=function(e,n){var r=this.childAt(0);r.zlevel=e,r.z=n},t.prototype.setDraggable=function(e,n){var r=this.childAt(0);r.draggable=e,r.cursor=!n&&e?"move":r.cursor},t.prototype.updateData=function(e,n,r,a){this.silent=!1;var o=e.getItemVisual(n,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,n),u=t.getSymbolZ2(e,n),c=o!==this._symbolType,f=a&&a.disableAnimation;if(c){var h=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,e,n,l,u,h)}else{var p=this.childAt(0);p.silent=!1;var g={scaleX:l[0]/2,scaleY:l[1]/2};f?p.attr(g):Pn(p,g,s,n),Bl(p)}if(this._updateCommon(e,n,l,r,a),c){var p=this.childAt(0);if(!f){var g={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:p.style.opacity}};p.scaleX=p.scaleY=0,p.style.opacity=0,Li(p,g,s,n)}}f&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,n,r,a,o){var s=this.childAt(0),l=e.hostModel,u,c,f,h,p,g,m,_,S;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,h=a.focus,p=a.blurScope,m=a.labelStatesModels,_=a.hoverScale,S=a.cursorStyle,g=a.emphasisDisabled),!a||e.hasItemOption){var T=a&&a.itemModel?a.itemModel:e.getItemModel(n),M=T.getModel("emphasis");u=M.getModel("itemStyle").getItemStyle(),f=T.getModel(["select","itemStyle"]).getItemStyle(),c=T.getModel(["blur","itemStyle"]).getItemStyle(),h=M.get("focus"),p=M.get("blurScope"),g=M.get("disabled"),m=Zr(T),_=M.getShallow("scale"),S=T.getShallow("cursor")}var w=e.getItemVisual(n,"symbolRotate");s.attr("rotation",(w||0)*Math.PI/180||0);var D=lm(e.getItemVisual(n,"symbolOffset"),r);D&&(s.x=D[0],s.y=D[1]),S&&s.attr("cursor",S);var C=e.getItemVisual(n,"style"),R=C.fill;if(s instanceof da){var z=s.style;s.useStyle(Rt({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},C))}else s.__isEmptyBrush?s.useStyle(Rt({},C)):s.useStyle(C),s.style.decal=null,s.setColor(R,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var N=e.getItemVisual(n,"liftZ"),O=this._z2;N!=null?O==null&&(this._z2=s.z2,s.z2+=N):O!=null&&(s.z2=O,this._z2=null);var U=o&&o.useNameLabel;ha(s,m,{labelFetcher:l,labelDataIndex:n,defaultText:F,inheritColor:R,defaultOpacity:C.opacity});function F(Z){return U?e.getName(Z):u_(e,Z)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var V=s.ensureState("emphasis");V.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var W=_==null||_===!0?Math.max(1.1,3/this._sizeY):isFinite(_)&&_>0?+_:1;V.scaleX=this._sizeX*W,V.scaleY=this._sizeY*W,this.setSymbolScale(1),Fi(this,h,p,g)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,n,r){var a=this.childAt(0),o=Ue(this).dataIndex,s=r&&r.animation;if(this.silent=a.silent=!0,r&&r.fadeLabel){var l=a.getTextContent();l&&sp(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();sp(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:e,removeOpt:s})},t.getSymbolSize=function(e,n){return B_(e.getItemVisual(n,"symbolSize"))},t.getSymbolZ2=function(e,n){return e.getItemVisual(n,"z2")},t})(Ce);function rSt(i,t){this.parent.drift(i,t)}function QI(i,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&i.getItemVisual(e,"symbol")!=="none"}function IG(i){return i!=null&&!Le(i)&&(i={isIgnore:i}),i||{}}function NG(i){var t=i.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Zr(t),cursorStyle:t.get("cursor")}}var dT=(function(){function i(t){this.group=new Ce,this._SymbolCtor=t||hT}return i.prototype.updateData=function(t,e){this._progressiveEls=null,e=IG(e);var n=this.group,r=t.hostModel,a=this._data,o=this._SymbolCtor,s=e.disableAnimation,l=NG(t),u={disableAnimation:s},c=e.getSymbolPoint||function(f){return t.getItemLayout(f)};a||n.removeAll(),t.diff(a).add(function(f){var h=c(f);if(QI(t,h,f,e)){var p=new o(t,f,l,u);p.setPosition(h),t.setItemGraphicEl(f,p),n.add(p)}}).update(function(f,h){var p=a.getItemGraphicEl(h),g=c(f);if(!QI(t,g,f,e)){n.remove(p);return}var m=t.getItemVisual(f,"symbol")||"circle",_=p&&p.getSymbolType&&p.getSymbolType();if(!p||_&&_!==m)n.remove(p),p=new o(t,f,l,u),p.setPosition(g);else{p.updateData(t,f,l,u);var S={x:g[0],y:g[1]};s?p.attr(S):Pn(p,S,r)}n.add(p),t.setItemGraphicEl(f,p)}).remove(function(f){var h=a.getItemGraphicEl(f);h&&h.fadeOut(function(){n.remove(h)},r)}).execute(),this._getSymbolPoint=c,this._data=t},i.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(n,r){var a=t._getSymbolPoint(r);n.setPosition(a),n.markRedraw()})},i.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=NG(t),this._data=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(t,e,n){this._progressiveEls=[],n=IG(n);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var o=e.getItemLayout(a);if(QI(e,o,a,n)){var s=new this._SymbolCtor(e,a,this._seriesScope);s.traverse(r),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},i.prototype.eachRendered=function(t){mp(this._progressiveEls||this.group,t)},i.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(r){r.fadeOut(function(){e.remove(r)},n.hostModel)}):e.removeAll()},i})();function WK(i,t,e){var n=i.getBaseAxis(),r=i.getOtherAxis(n),a=aSt(r,e),o=n.dim,s=r.dim,l=t.mapDimension(s),u=t.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=kt(i.dimensions,function(g){return t.mapDimension(g)}),h=!1,p=t.getCalculationInfo("stackResultDimension");return Th(t,f[0])&&(h=!0,f[0]=p),Th(t,f[1])&&(h=!0,f[1]=p),{dataDimsForPoint:f,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function aSt(i,t){var e=0,n=i.scale.getExtent();return t==="start"?e=n[0]:t==="end"?e=n[1]:En(t)&&!isNaN(t)?e=t:n[0]>0?e=n[0]:n[1]<0&&(e=n[1]),e}function YK(i,t,e,n){var r=NaN;i.stacked&&(r=e.get(e.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=i.valueStart);var a=i.baseDataOffset,o=[];return o[a]=e.get(i.baseDim,n),o[1-a]=r,t.dataToPoint(o)}function oSt(i,t){var e=[];return t.diff(i).add(function(n){e.push({cmd:"+",idx:n})}).update(function(n,r){e.push({cmd:"=",idx:r,idx1:n})}).remove(function(n){e.push({cmd:"-",idx:n})}).execute(),e}function sSt(i,t,e,n,r,a,o,s){for(var l=oSt(i,t),u=[],c=[],f=[],h=[],p=[],g=[],m=[],_=WK(r,t,o),S=i.getLayout("points")||[],T=t.getLayout("points")||[],M=0;M<l.length;M++){var w=l[M],D=!0,C=void 0,R=void 0;switch(w.cmd){case"=":C=w.idx*2,R=w.idx1*2;var z=S[C],N=S[C+1],O=T[R],U=T[R+1];(isNaN(z)||isNaN(N))&&(z=O,N=U),u.push(z,N),c.push(O,U),f.push(e[C],e[C+1]),h.push(n[R],n[R+1]),m.push(t.getRawIndex(w.idx1));break;case"+":var F=w.idx,V=_.dataDimsForPoint,W=r.dataToPoint([t.get(V[0],F),t.get(V[1],F)]);R=F*2,u.push(W[0],W[1]),c.push(T[R],T[R+1]);var Z=YK(_,r,t,F);f.push(Z[0],Z[1]),h.push(n[R],n[R+1]),m.push(t.getRawIndex(F));break;case"-":D=!1}D&&(p.push(w),g.push(g.length))}g.sort(function(Mt,dt){return m[Mt]-m[dt]});for(var H=u.length,j=Uc(H),Y=Uc(H),Q=Uc(H),nt=Uc(H),q=[],M=0;M<g.length;M++){var $=g[M],st=M*2,ft=$*2;j[st]=u[ft],j[st+1]=u[ft+1],Y[st]=c[ft],Y[st+1]=c[ft+1],Q[st]=f[ft],Q[st+1]=f[ft+1],nt[st]=h[ft],nt[st+1]=h[ft+1],q[M]=p[$]}return{current:j,next:Y,stackedOnCurrent:Q,stackedOnNext:nt,status:q}}var Rd=Math.min,Ld=Math.max;function Ng(i,t){return isNaN(i)||isNaN(t)}function QP(i,t,e,n,r,a,o,s,l){for(var u,c,f,h,p,g,m=e,_=0;_<n;_++){var S=t[m*2],T=t[m*2+1];if(m>=r||m<0)break;if(Ng(S,T)){if(l){m+=a;continue}break}if(m===e)i[a>0?"moveTo":"lineTo"](S,T),f=S,h=T;else{var M=S-u,w=T-c;if(M*M+w*w<.5){m+=a;continue}if(o>0){for(var D=m+a,C=t[D*2],R=t[D*2+1];C===S&&R===T&&_<n;)_++,D+=a,m+=a,C=t[D*2],R=t[D*2+1],S=t[m*2],T=t[m*2+1],M=S-u,w=T-c;var z=_+1;if(l)for(;Ng(C,R)&&z<n;)z++,D+=a,C=t[D*2],R=t[D*2+1];var N=.5,O=0,U=0,F=void 0,V=void 0;if(z>=n||Ng(C,R))p=S,g=T;else{O=C-u,U=R-c;var W=S-u,Z=C-S,H=T-c,j=R-T,Y=void 0,Q=void 0;if(s==="x"){Y=Math.abs(W),Q=Math.abs(Z);var nt=O>0?1:-1;p=S-nt*Y*o,g=T,F=S+nt*Q*o,V=T}else if(s==="y"){Y=Math.abs(H),Q=Math.abs(j);var q=U>0?1:-1;p=S,g=T-q*Y*o,F=S,V=T+q*Q*o}else Y=Math.sqrt(W*W+H*H),Q=Math.sqrt(Z*Z+j*j),N=Q/(Q+Y),p=S-O*o*(1-N),g=T-U*o*(1-N),F=S+O*o*N,V=T+U*o*N,F=Rd(F,Ld(C,S)),V=Rd(V,Ld(R,T)),F=Ld(F,Rd(C,S)),V=Ld(V,Rd(R,T)),O=F-S,U=V-T,p=S-O*Y/Q,g=T-U*Y/Q,p=Rd(p,Ld(u,S)),g=Rd(g,Ld(c,T)),p=Ld(p,Rd(u,S)),g=Ld(g,Rd(c,T)),O=S-p,U=T-g,F=S+O*Q/Y,V=T+U*Q/Y}i.bezierCurveTo(f,h,p,g,S,T),f=F,h=V}else i.lineTo(S,T)}u=S,c=T,m+=a}return _}var qK=(function(){function i(){this.smooth=0,this.smoothConstraint=!0}return i})(),lSt=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:vt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new qK},t.prototype.buildPath=function(e,n){var r=n.points,a=0,o=r.length/2;if(n.connectNulls){for(;o>0&&Ng(r[o*2-2],r[o*2-1]);o--);for(;a<o&&Ng(r[a*2],r[a*2+1]);a++);}for(;a<o;)a+=QP(e,r,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(e,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,a=r.data,o=Kc.CMD,s,l,u=n==="x",c=[],f=0;f<a.length;){var h=a[f++],p=void 0,g=void 0,m=void 0,_=void 0,S=void 0,T=void 0,M=void 0;switch(h){case o.M:s=a[f++],l=a[f++];break;case o.L:if(p=a[f++],g=a[f++],M=u?(e-s)/(p-s):(e-l)/(g-l),M<=1&&M>=0){var w=u?(g-l)*M+l:(p-s)*M+s;return u?[e,w]:[w,e]}s=p,l=g;break;case o.C:p=a[f++],g=a[f++],m=a[f++],_=a[f++],S=a[f++],T=a[f++];var D=u?vC(s,p,m,S,e,c):vC(l,g,_,T,e,c);if(D>0)for(var C=0;C<D;C++){var R=c[C];if(R<=1&&R>=0){var w=u?ra(l,g,_,T,R):ra(s,p,m,S,R);return u?[e,w]:[w,e]}}s=S,l=T;break}}},t})(_n),uSt=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t})(qK),ZK=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new uSt},t.prototype.buildPath=function(e,n){var r=n.points,a=n.stackedOnPoints,o=0,s=r.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&Ng(r[s*2-2],r[s*2-1]);s--);for(;o<s&&Ng(r[o*2],r[o*2+1]);o++);}for(;o<s;){var u=QP(e,r,o,s,s,1,n.smooth,l,n.connectNulls);QP(e,a,o+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),o+=u+1,e.closePath()}},t})(_n);function jK(i,t,e,n,r){var a=i.getArea(),o=a.x,s=a.y,l=a.width,u=a.height,c=e.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new cn({shape:{x:o,y:s,width:l,height:u}});if(t){var h=i.getBaseAxis(),p=h.isHorizontal(),g=h.inverse;p?(g&&(f.shape.x+=l),f.shape.width=0):(g||(f.shape.y+=u),f.shape.height=0);var m=Te(r)?function(_){r(_,f)}:null;Li(f,{shape:{width:l,height:u,x:o,y:s}},e,null,n,m)}return f}function KK(i,t,e){var n=i.getArea(),r=Tr(n.r0,1),a=Tr(n.r,1),o=new Ka({shape:{cx:Tr(i.cx,1),cy:Tr(i.cy,1),r0:r,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var s=i.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=r,Li(o,{shape:{endAngle:n.endAngle,r:a}},e)}return o}function pT(i,t,e,n,r){if(i){if(i.type==="polar")return KK(i,t,e);if(i.type==="cartesian2d")return jK(i,t,e,n,r)}else return null;return null}function lp(i,t){return i.type===t}function OG(i,t){if(i.length===t.length){for(var e=0;e<i.length;e++)if(i[e]!==t[e])return;return!0}}function PG(i){for(var t=1/0,e=1/0,n=-1/0,r=-1/0,a=0;a<i.length;){var o=i[a++],s=i[a++];isNaN(o)||(t=Math.min(o,t),n=Math.max(o,n)),isNaN(s)||(e=Math.min(s,e),r=Math.max(s,r))}return[[t,e],[n,r]]}function zG(i,t){var e=PG(i),n=e[0],r=e[1],a=PG(t),o=a[0],s=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function BG(i){return En(i)?i:i?.5:0}function cSt(i,t,e){if(!e.valueDim)return[];for(var n=t.count(),r=Uc(n*2),a=0;a<n;a++){var o=YK(e,i,t,a);r[a*2]=o[0],r[a*2+1]=o[1]}return r}function Id(i,t,e,n,r){var a=e.getBaseAxis(),o=a.dim==="x"||a.dim==="radius"?0:1,s=[],l=0,u=[],c=[],f=[],h=[];if(r){for(l=0;l<i.length;l+=2){var p=t||i;!isNaN(p[l])&&!isNaN(p[l+1])&&h.push(i[l],i[l+1])}i=h}for(l=0;l<i.length-2;l+=2)switch(f[0]=i[l+2],f[1]=i[l+3],c[0]=i[l],c[1]=i[l+1],s.push(c[0],c[1]),n){case"end":u[o]=f[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var g=(c[o]+f[o])/2,m=[];u[o]=m[o]=g,u[1-o]=c[1-o],m[1-o]=f[1-o],s.push(u[0],u[1]),s.push(m[0],m[1]);break;default:u[o]=c[o],u[1-o]=f[1-o],s.push(u[0],u[1])}return s.push(i[l++],i[l++]),s}function fSt(i,t){var e=[],n=i.length,r,a;function o(c,f,h){var p=c.coord,g=(h-p)/(f.coord-p),m=jz(g,[c.color,f.color]);return{coord:h,color:m}}for(var s=0;s<n;s++){var l=i[s],u=l.coord;if(u<0)r=l;else if(u>t){a?e.push(o(a,l,t)):r&&e.push(o(r,l,0),o(r,l,t));break}else r&&(e.push(o(r,l,0)),r=null),e.push(l),a=l}return e}function hSt(i,t,e){var n=i.getVisual("visualMeta");if(!(!n||!n.length||!i.count())&&t.type==="cartesian2d"){for(var r,a,o=n.length-1;o>=0;o--){var s=i.getDimensionInfo(n[o].dimension);if(r=s&&s.coordDim,r==="x"||r==="y"){a=n[o];break}}if(a){var l=t.getAxis(r),u=kt(a.stops,function(M){return{coord:l.toGlobalCoord(l.dataToCoord(M.value)),color:M.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var h=fSt(u,r==="x"?e.getWidth():e.getHeight()),p=h.length;if(!p&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var g=10,m=h[0].coord-g,_=h[p-1].coord+g,S=_-m;if(S<.001)return"transparent";G(h,function(M){M.offset=(M.coord-m)/S}),h.push({offset:p?h[p-1].offset:.5,color:f[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:f[0]||"transparent"});var T=new rm(0,0,0,0,h,!0);return T[r]=m,T[r+"2"]=_,T}}}function dSt(i,t,e){var n=i.get("showAllSymbol"),r=n==="auto";if(!(n&&!r)){var a=e.getAxesByScale("ordinal")[0];if(a&&!(r&&pSt(a,t))){var o=t.mapDimension(a.dim),s={};return G(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}function pSt(i,t){var e=i.getExtent(),n=Math.abs(e[1]-e[0])/i.scale.count();isNaN(n)&&(n=0);for(var r=t.count(),a=Math.max(1,Math.round(r/5)),o=0;o<r;o+=a)if(hT.getSymbolSize(t,o)[i.isHorizontal()?1:0]*1.5>n)return!1;return!0}function vSt(i,t){return isNaN(i)||isNaN(t)}function gSt(i){for(var t=i.length/2;t>0&&vSt(i[t*2-2],i[t*2-1]);t--);return t-1}function UG(i,t){return[i[t*2],i[t*2+1]]}function mSt(i,t,e){for(var n=i.length/2,r=e==="x"?0:1,a,o,s=0,l=-1,u=0;u<n;u++)if(o=i[u*2+r],!(isNaN(o)||isNaN(i[u*2+1-r]))){if(u===0){a=o;continue}if(a<=t&&o>=t||a>=t&&o<=t){l=u;break}s=u,a=o}return{range:[s,l],t:(t-a)/(o-a)}}function QK(i){if(i.get(["endLabel","show"]))return!0;for(var t=0;t<Jo.length;t++)if(i.get([Jo[t],"endLabel","show"]))return!0;return!1}function JI(i,t,e,n){if(lp(t,"cartesian2d")){var r=n.getModel("endLabel"),a=r.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},l=QK(n)?function(p,g){i._endLabelOnDuring(p,g,o,s,a,r,t)}:null,u=t.getBaseAxis().isHorizontal(),c=jK(t,e,n,function(){var p=i._endLabel;p&&e&&s.originalX!=null&&p.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var f=c.shape,h=Math.max(f.width,f.height);u?(f.y-=h,f.height+=h*2):(f.x-=h,f.width+=h*2)}return l&&l(1,c),c}else return KK(t,e,n)}function ySt(i,t){var e=t.getBaseAxis(),n=e.isHorizontal(),r=e.inverse,a=n?r?"right":"left":"center",o=n?"middle":r?"top":"bottom";return{normal:{align:i.get("align")||a,verticalAlign:i.get("verticalAlign")||o}}}var _St=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(){var e=new Ce,n=new dT;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=e,this._changePolyState=ue(this._changePolyState,this)},t.prototype.render=function(e,n,r){var a=e.coordinateSystem,o=this.group,s=e.getData(),l=e.getModel("lineStyle"),u=e.getModel("areaStyle"),c=s.getLayout("points")||[],f=a.type==="polar",h=this._coordSys,p=this._symbolDraw,g=this._polyline,m=this._polygon,_=this._lineGroup,S=!n.ssr&&e.get("animation"),T=!u.isEmpty(),M=u.get("origin"),w=WK(a,s,M),D=T&&cSt(a,s,w),C=e.get("showSymbol"),R=e.get("connectNulls"),z=C&&!f&&dSt(e,s,a),N=this._data;N&&N.eachItemGraphicEl(function(Mt,dt){Mt.__temp&&(o.remove(Mt),N.setItemGraphicEl(dt,null))}),C||p.remove(),o.add(_);var O=f?!1:e.get("step"),U;a&&a.getArea&&e.get("clip",!0)&&(U=a.getArea(),U.width!=null?(U.x-=.1,U.y-=.1,U.width+=.2,U.height+=.2):U.r0&&(U.r0-=.5,U.r+=.5)),this._clipShapeForSymbol=U;var F=hSt(s,a,r)||s.getVisual("style")[s.getVisual("drawType")];if(!(g&&h.type===a.type&&O===this._step))C&&p.updateData(s,{isIgnore:z,clipShape:U,disableAnimation:!0,getSymbolPoint:function(Mt){return[c[Mt*2],c[Mt*2+1]]}}),S&&this._initSymbolLabelAnimation(s,a,U),O&&(D&&(D=Id(D,c,a,O,R)),c=Id(c,null,a,O,R)),g=this._newPolyline(c),T?m=this._newPolygon(c,D):m&&(_.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(e,a,jg(F)),_.setClipPath(JI(this,a,!0,e));else{T&&!m?m=this._newPolygon(c,D):m&&!T&&(_.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(e,a,jg(F));var V=_.getClipPath();if(V){var W=JI(this,a,!1,e);Li(V,{shape:W.shape},e)}else _.setClipPath(JI(this,a,!0,e));C&&p.updateData(s,{isIgnore:z,clipShape:U,disableAnimation:!0,getSymbolPoint:function(Mt){return[c[Mt*2],c[Mt*2+1]]}}),(!OG(this._stackedOnPoints,D)||!OG(this._points,c))&&(S?this._doUpdateAnimation(s,D,a,r,O,M,R):(O&&(D&&(D=Id(D,c,a,O,R)),c=Id(c,null,a,O,R)),g.setShape({points:c}),m&&m.setShape({points:c,stackedOnPoints:D})))}var Z=e.getModel("emphasis"),H=Z.get("focus"),j=Z.get("blurScope"),Y=Z.get("disabled");if(g.useStyle(Re(l.getLineStyle(),{fill:"none",stroke:F,lineJoin:"bevel"})),qr(g,e,"lineStyle"),g.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var Q=g.getState("emphasis").style;Q.lineWidth=+g.style.lineWidth+1}Ue(g).seriesIndex=e.seriesIndex,Fi(g,H,j,Y);var nt=BG(e.get("smooth")),q=e.get("smoothMonotone");if(g.setShape({smooth:nt,smoothMonotone:q,connectNulls:R}),m){var $=s.getCalculationInfo("stackedOnSeries"),st=0;m.useStyle(Re(u.getAreaStyle(),{fill:F,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),$&&(st=BG($.get("smooth"))),m.setShape({smooth:nt,stackedOnSmooth:st,smoothMonotone:q,connectNulls:R}),qr(m,e,"areaStyle"),Ue(m).seriesIndex=e.seriesIndex,Fi(m,H,j,Y)}var ft=this._changePolyState;s.eachItemGraphicEl(function(Mt){Mt&&(Mt.onHoverStateChange=ft)}),this._polyline.onHoverStateChange=ft,this._data=s,this._coordSys=a,this._stackedOnPoints=D,this._points=c,this._step=O,this._valueOrigin=M,e.get("triggerLineEvent")&&(this.packEventData(e,g),m&&this.packEventData(e,m))},t.prototype.packEventData=function(e,n){Ue(n).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,n,r,a){var o=e.getData(),s=Xg(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var h=e.get("zlevel")||0,p=e.get("z")||0;u=new hT(o,s),u.x=c,u.y=f,u.setZ(h,p);var g=u.getSymbolPath().getTextContent();g&&(g.zlevel=h,g.z=p,g.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else si.prototype.highlight.call(this,e,n,r,a)},t.prototype.downplay=function(e,n,r,a){var o=e.getData(),s=Xg(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else si.prototype.downplay.call(this,e,n,r,a)},t.prototype._changePolyState=function(e){var n=this._polygon;wC(this._polyline,e),n&&wC(n,e)},t.prototype._newPolyline=function(e){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new lSt({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(e,n){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new ZK({shape:{points:e,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},t.prototype._initSymbolLabelAnimation=function(e,n,r){var a,o,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):n.type==="polar"&&(a=s.dim==="angle",o=!0);var u=e.hostModel,c=u.get("animationDuration");Te(c)&&(c=c(null));var f=u.get("animationDelay")||0,h=Te(f)?f(null):f;e.eachItemGraphicEl(function(p,g){var m=p;if(m){var _=[p.x,p.y],S=void 0,T=void 0,M=void 0;if(r)if(o){var w=r,D=n.pointToCoord(_);a?(S=w.startAngle,T=w.endAngle,M=-D[1]/180*Math.PI):(S=w.r0,T=w.r,M=D[0])}else{var C=r;a?(S=C.x,T=C.x+C.width,M=p.x):(S=C.y+C.height,T=C.y,M=p.y)}var R=T===S?0:(M-S)/(T-S);l&&(R=1-R);var z=Te(f)?f(g):c*R+h,N=m.getSymbolPath(),O=N.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:z}),O&&O.animateFrom({style:{opacity:0}},{duration:300,delay:z}),N.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,n,r){var a=e.getModel("endLabel");if(QK(e)){var o=e.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new wn({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=gSt(l);c>=0&&(ha(s,Zr(e,"endLabel"),{inheritColor:r,labelFetcher:e,labelDataIndex:c,defaultText:function(f,h,p){return p!=null?XK(o,p):u_(o,f)},enableTextSetter:!0},ySt(a,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,n,r,a,o,s,l){var u=this._endLabel,c=this._polyline;if(u){e<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=r.getLayout("points"),h=r.hostModel,p=h.get("connectNulls"),g=s.get("precision"),m=s.get("distance")||0,_=l.getBaseAxis(),S=_.isHorizontal(),T=_.inverse,M=n.shape,w=T?S?M.x:M.y+M.height:S?M.x+M.width:M.y,D=(S?m:0)*(T?-1:1),C=(S?0:-m)*(T?-1:1),R=S?"x":"y",z=mSt(f,w,R),N=z.range,O=N[1]-N[0],U=void 0;if(O>=1){if(O>1&&!p){var F=UG(f,N[0]);u.attr({x:F[0]+D,y:F[1]+C}),o&&(U=h.getRawValue(N[0]))}else{var F=c.getPointOn(w,R);F&&u.attr({x:F[0]+D,y:F[1]+C});var V=h.getRawValue(N[0]),W=h.getRawValue(N[1]);o&&(U=bq(r,g,V,W,z.t))}a.lastFrameIndex=N[0]}else{var Z=e===1||a.lastFrameIndex>0?N[0]:0,F=UG(f,Z);o&&(U=h.getRawValue(Z)),u.attr({x:F[0]+D,y:F[1]+C})}if(o){var H=L_(u);typeof H.setLabelText=="function"&&H.setLabelText(U)}}},t.prototype._doUpdateAnimation=function(e,n,r,a,o,s,l){var u=this._polyline,c=this._polygon,f=e.hostModel,h=sSt(this._data,e,this._stackedOnPoints,n,this._coordSys,r,this._valueOrigin),p=h.current,g=h.stackedOnCurrent,m=h.next,_=h.stackedOnNext;if(o&&(g=Id(h.stackedOnCurrent,h.current,r,o,l),p=Id(h.current,null,r,o,l),_=Id(h.stackedOnNext,h.next,r,o,l),m=Id(h.next,null,r,o,l)),zG(p,m)>3e3||c&&zG(g,_)>3e3){u.stopAnimation(),u.setShape({points:m}),c&&(c.stopAnimation(),c.setShape({points:m,stackedOnPoints:_}));return}u.shape.__points=h.current,u.shape.points=p;var S={shape:{points:m}};h.current!==p&&(S.shape.__points=h.next),u.stopAnimation(),Pn(u,S,f),c&&(c.setShape({points:p,stackedOnPoints:g}),c.stopAnimation(),Pn(c,{shape:{stackedOnPoints:_}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var T=[],M=h.status,w=0;w<M.length;w++){var D=M[w].cmd;if(D==="="){var C=e.getItemGraphicEl(M[w].idx1);C&&T.push({el:C,ptIdx:w})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var R=u.shape.__points,z=0;z<T.length;z++){var N=T[z].el,O=T[z].ptIdx*2;N.x=R[O],N.y=R[O+1],N.markRedraw()}})},t.prototype.remove=function(e){var n=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),r.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t})(si);function vT(i,t){return{seriesType:i,plan:P_(),reset:function(e){var n=e.getData(),r=e.coordinateSystem,a=e.pipelineContext,o=t||a.large;if(r){var s=kt(r.dimensions,function(p){return n.mapDimension(p)}).slice(0,2),l=s.length,u=n.getCalculationInfo("stackResultDimension");Th(n,s[0])&&(s[0]=u),Th(n,s[1])&&(s[1]=u);var c=n.getStore(),f=n.getDimensionIndex(s[0]),h=n.getDimensionIndex(s[1]);return l&&{progress:function(p,g){for(var m=p.end-p.start,_=o&&Uc(m*l),S=[],T=[],M=p.start,w=0;M<p.end;M++){var D=void 0;if(l===1){var C=c.get(f,M);D=r.dataToPoint(C,null,T)}else S[0]=c.get(f,M),S[1]=c.get(h,M),D=r.dataToPoint(S,null,T);o?(_[w++]=D[0],_[w++]=D[1]):g.setItemLayout(M,D.slice())}o&&g.setLayout("points",_)}}}}}}var SSt={average:function(i){for(var t=0,e=0,n=0;n<i.length;n++)isNaN(i[n])||(t+=i[n],e++);return e===0?NaN:t/e},sum:function(i){for(var t=0,e=0;e<i.length;e++)t+=i[e]||0;return t},max:function(i){for(var t=-1/0,e=0;e<i.length;e++)i[e]>t&&(t=i[e]);return isFinite(t)?t:NaN},min:function(i){for(var t=1/0,e=0;e<i.length;e++)i[e]<t&&(t=i[e]);return isFinite(t)?t:NaN},nearest:function(i){return i[0]}},xSt=function(i){return Math.round(i.length/2)};function JK(i){return{seriesType:i,reset:function(t,e,n){var r=t.getData(),a=t.get("sampling"),o=t.coordinateSystem,s=r.count();if(s>10&&o.type==="cartesian2d"&&a){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=n.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(f||1),p=Math.round(s/h);if(isFinite(p)&&p>1){a==="lttb"?t.setData(r.lttbDownSample(r.mapDimension(u.dim),1/p)):a==="minmax"&&t.setData(r.minmaxDownSample(r.mapDimension(u.dim),1/p));var g=void 0;le(a)?g=SSt[a]:Te(a)&&(g=a),g&&t.setData(r.downSample(r.mapDimension(u.dim),1/p,g,xSt))}}}}}function bSt(i){i.registerChartView(_St),i.registerSeriesModel(iSt),i.registerLayout(vT("line",!0)),i.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,JK("line"))}var Rb=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return rf(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,n,r){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(e),s=a.dataToPoint(o);if(r)G(a.getAxes(),function(h,p){if(h.type==="category"&&n!=null){var g=h.getTicksCoords(),m=h.getTickModel().get("alignWithLabel"),_=o[p],S=n[p]==="x1"||n[p]==="y1";if(S&&!m&&(_+=1),g.length<2)return;if(g.length===2){s[p]=h.toGlobalCoord(h.getExtent()[S?1:0]);return}for(var T=void 0,M=void 0,w=1,D=0;D<g.length;D++){var C=g[D].coord,R=D===g.length-1?g[D-1].tickValue+w:g[D].tickValue;if(R===_){M=C;break}else if(R<_)T=C;else if(T!=null&&R>_){M=(C+T)/2;break}D===1&&(w=R-g[0].tickValue)}M==null&&(T?T&&(M=g[g.length-1].coord):M=g[0].coord),s[p]=h.toGlobalCoord(M)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},t})(di);di.registerClass(Rb);var TSt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return rf(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>e&&(e=n),e},t.prototype.brushSelector=function(e,n,r){return r.rect(n.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=yp(Rb.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:vt.color.primary,borderWidth:2}},realtimeSort:!1}),t})(Rb),MSt=(function(){function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return i})(),jC=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new MSt},t.prototype.buildPath=function(e,n){var r=n.cx,a=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),l=(s-o)*.5,u=o+l,c=n.startAngle,f=n.endAngle,h=n.clockwise,p=Math.PI*2,g=h?f-c<p:c-f<p;g||(c=f-(h?p:-p));var m=Math.cos(c),_=Math.sin(c),S=Math.cos(f),T=Math.sin(f);g?(e.moveTo(m*o+r,_*o+a),e.arc(m*u+r,_*u+a,l,-Math.PI+c,c,!h)):e.moveTo(m*s+r,_*s+a),e.arc(r,a,s,c,f,!h),e.arc(S*u+r,T*u+a,l,f-Math.PI*2,f-Math.PI,!h),o!==0&&e.arc(r,a,o,f,c,h)},t})(_n);function ASt(i,t){t=t||{};var e=t.isRoundCap;return function(n,r,a){var o=r.position;if(!o||o instanceof Array)return xC(n,r,a);var s=i(o),l=r.distance!=null?r.distance:5,u=this.shape,c=u.cx,f=u.cy,h=u.r,p=u.r0,g=(h+p)/2,m=u.startAngle,_=u.endAngle,S=(m+_)/2,T=e?Math.abs(h-p)/2:0,M=Math.cos,w=Math.sin,D=c+h*M(m),C=f+h*w(m),R="left",z="top";switch(s){case"startArc":D=c+(p-l)*M(S),C=f+(p-l)*w(S),R="center",z="top";break;case"insideStartArc":D=c+(p+l)*M(S),C=f+(p+l)*w(S),R="center",z="bottom";break;case"startAngle":D=c+g*M(m)+mw(m,l+T,!1),C=f+g*w(m)+yw(m,l+T,!1),R="right",z="middle";break;case"insideStartAngle":D=c+g*M(m)+mw(m,-l+T,!1),C=f+g*w(m)+yw(m,-l+T,!1),R="left",z="middle";break;case"middle":D=c+g*M(S),C=f+g*w(S),R="center",z="middle";break;case"endArc":D=c+(h+l)*M(S),C=f+(h+l)*w(S),R="center",z="bottom";break;case"insideEndArc":D=c+(h-l)*M(S),C=f+(h-l)*w(S),R="center",z="top";break;case"endAngle":D=c+g*M(_)+mw(_,l+T,!0),C=f+g*w(_)+yw(_,l+T,!0),R="left",z="middle";break;case"insideEndAngle":D=c+g*M(_)+mw(_,-l+T,!0),C=f+g*w(_)+yw(_,-l+T,!0),R="right",z="middle";break;default:return xC(n,r,a)}return n=n||{},n.x=D,n.y=C,n.align=R,n.verticalAlign=z,n}}function wSt(i,t,e,n){if(En(n)){i.setTextConfig({rotation:n});return}else if(Vt(t)){i.setTextConfig({rotation:0});return}var r=i.shape,a=r.clockwise?r.startAngle:r.endAngle,o=r.clockwise?r.endAngle:r.startAngle,s=(a+o)/2,l,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=o;break;default:i.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),i.setTextConfig({rotation:c})}function mw(i,t,e){return t*Math.sin(i)*(e?-1:1)}function yw(i,t,e){return t*Math.cos(i)*(e?1:-1)}function Hc(i,t,e){var n=i.get("borderRadius");if(n==null)return e?{cornerRadius:0}:null;Vt(n)||(n=[n,n,n,n]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:kt(n,function(a){return Nu(a,r)})}}var $I=Math.max,tN=Math.min;function ESt(i,t){var e=i.getArea&&i.getArea();if(lp(i,"cartesian2d")){var n=i.getBaseAxis();if(n.type!=="category"||!n.onBand){var r=t.getLayout("bandWidth");n.isHorizontal()?(e.x-=r,e.width+=r*2):(e.y-=r,e.height+=r*2)}}return e}var CSt=(function(i){ht(t,i);function t(){var e=i.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,n,r,a){this._model=e,this._removeOnRenderedListener(r),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,n,r):this._renderNormal(e,n,r,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,n){this._progressiveEls=[],this._incrementalRenderLarge(e,n)},t.prototype.eachRendered=function(e){mp(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e,n,r,a){var o=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var h=e.isAnimationEnabled()?e:null,p=DSt(e,u);p&&this._enableRealtimeSort(p,s,r);var g=e.get("clip",!0)||p,m=ESt(u,s);o.removeClipPath();var _=e.get("roundCap",!0),S=e.get("showBackground",!0),T=e.getModel("backgroundStyle"),M=T.get("borderRadius")||0,w=[],D=this._backgroundEls,C=a&&a.isInitSort,R=a&&a.type==="changeAxisOrder";function z(U){var F=_w[u.type](s,U);if(!F)return null;var V=zSt(u,f,F);return V.useStyle(T.getItemStyle()),u.type==="cartesian2d"?V.setShape("r",M):V.setShape("cornerRadius",M),w[U]=V,V}s.diff(l).add(function(U){var F=s.getItemModel(U),V=_w[u.type](s,U,F);if(V&&(S&&z(U),!(!s.hasValue(U)||!GG[u.type](V)))){var W=!1;g&&(W=VG[u.type](m,V));var Z=HG[u.type](e,s,U,V,f,h,c.model,!1,_);p&&(Z.forceLabelAnimation=!0),XG(Z,s,U,F,V,e,f,u.type==="polar"),C?Z.attr({shape:V}):p?kG(p,h,Z,V,U,f,!1,!1):Li(Z,{shape:V},e,U),s.setItemGraphicEl(U,Z),o.add(Z),Z.ignore=W}}).update(function(U,F){var V=s.getItemModel(U),W=_w[u.type](s,U,V);if(W){if(S){var Z=void 0;D.length===0?Z=z(F):(Z=D[F],Z.useStyle(T.getItemStyle()),u.type==="cartesian2d"?Z.setShape("r",M):Z.setShape("cornerRadius",M),w[U]=Z);var H=_w[u.type](s,U),j=tQ(f,H,u);Pn(Z,{shape:j},h,U)}var Y=l.getItemGraphicEl(F);if(!s.hasValue(U)||!GG[u.type](W)){o.remove(Y);return}var Q=!1;g&&(Q=VG[u.type](m,W),Q&&o.remove(Y));var nt=Y&&(Y.type==="sector"&&_||Y.type==="sausage"&&!_);if(nt&&(Y&&fh(Y,e,F),Y=null),Y?Bl(Y):Y=HG[u.type](e,s,U,W,f,h,c.model,!0,_),p&&(Y.forceLabelAnimation=!0),R){var q=Y.getTextContent();if(q){var $=L_(q);$.prevValue!=null&&($.prevValue=$.value)}}else XG(Y,s,U,V,W,e,f,u.type==="polar");C?Y.attr({shape:W}):p?kG(p,h,Y,W,U,f,!0,R):Pn(Y,{shape:W},e,U,null),s.setItemGraphicEl(U,Y),Y.ignore=Q,o.add(Y)}}).remove(function(U){var F=l.getItemGraphicEl(U);F&&fh(F,e,U)}).execute();var N=this._backgroundGroup||(this._backgroundGroup=new Ce);N.removeAll();for(var O=0;O<w.length;++O)N.add(w[O]);o.add(N),this._backgroundEls=w,this._data=s},t.prototype._renderLarge=function(e,n,r){this._clear(),YG(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,n){this._removeBackground(),YG(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var n=e.get("clip",!0)&&pT(e.coordinateSystem,!1,e),r=this.group;n?r.setClipPath(n):r.removeClipPath()},t.prototype._enableRealtimeSort=function(e,n,r){var a=this;if(n.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,e,r),this._isFirstFrame=!1;else{var s=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,s,o,r)},r.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,n,r){var a=[];return e.each(e.mapDimension(n.dim),function(o,s){var l=r(s);l=l??NaN,a.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:kt(a,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,n,r){for(var a=r.scale,o=e.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=e.rawIndexOf(o,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:n(e.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},t.prototype._isOrderDifferentInView=function(e,n){for(var r=n.scale,a=r.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],r.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==r.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,n,r,a){if(this._isOrderChangedWithinSameData(e,n,r)){var o=this._dataSort(e,r,n);this._isOrderDifferentInView(o,r)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,n,r){var a=n.baseAxis,o=this._dataSort(e,a,function(s){return e.get(e.mapDimension(n.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},t.prototype.remove=function(e,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(e,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var n=this.group,r=this._data;e&&e.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(a){fh(a,e,Ue(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t})(si),VG={cartesian2d:function(i,t){var e=t.width<0?-1:1,n=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var r=i.x+i.width,a=i.y+i.height,o=$I(t.x,i.x),s=tN(t.x+t.width,r),l=$I(t.y,i.y),u=tN(t.y+t.height,a),c=s<o,f=u<l;return t.x=c&&o>r?s:o,t.y=f&&l>a?u:l,t.width=c?0:s-o,t.height=f?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),c||f},polar:function(i,t){var e=t.r0<=t.r?1:-1;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}var r=tN(t.r,i.r),a=$I(t.r0,i.r0);t.r=r,t.r0=a;var o=r-a<0;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}return o}},HG={cartesian2d:function(i,t,e,n,r,a,o,s,l){var u=new cn({shape:Rt({},n),z2:1});if(u.__dataIndex=e,u.name="item",a){var c=u.shape,f=r?"height":"width";c[f]=0}return u},polar:function(i,t,e,n,r,a,o,s,l){var u=!r&&l?jC:Ka,c=new u({shape:n,z2:1});c.name="item";var f=$K(r);if(c.calculateTextPosition=ASt(f,{isRoundCap:u===jC}),a){var h=c.shape,p=r?"r":"endAngle",g={};h[p]=r?n.r0:n.startAngle,g[p]=n[p],(s?Pn:Li)(c,{shape:g},a)}return c}};function DSt(i,t){var e=i.get("realtimeSort",!0),n=t.getBaseAxis();if(e&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function kG(i,t,e,n,r,a,o,s){var l,u;a?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(o?Pn:Li)(e,{shape:l},t,r,null);var c=t?i.baseAxis.model:null;(o?Pn:Li)(e,{shape:u},c,r)}function FG(i,t){for(var e=0;e<t.length;e++)if(!isFinite(i[t[e]]))return!0;return!1}var RSt=["x","y","width","height"],LSt=["cx","cy","r","startAngle","endAngle"],GG={cartesian2d:function(i){return!FG(i,RSt)},polar:function(i){return!FG(i,LSt)}},_w={cartesian2d:function(i,t,e){var n=i.getItemLayout(t);if(!n)return null;var r=e?NSt(e,n):0,a=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+a*r/2,y:n.y+o*r/2,width:n.width-a*r,height:n.height-o*r}},polar:function(i,t,e){var n=i.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function ISt(i){return i.startAngle!=null&&i.endAngle!=null&&i.startAngle===i.endAngle}function $K(i){return(function(t){var e=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+e;default:return n}}})(i)}function XG(i,t,e,n,r,a,o,s){var l=t.getItemVisual(e,"style");if(s){if(!a.get("roundCap")){var c=i.shape,f=Hc(n.getModel("itemStyle"),c,!0);Rt(c,f),i.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;i.setShape("r",u)}i.useStyle(l);var h=n.getShallow("cursor");h&&i.attr("cursor",h);var p=s?o?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":o?r.height>=0?"bottom":"top":r.width>=0?"right":"left",g=Zr(n);ha(i,g,{labelFetcher:a,labelDataIndex:e,defaultText:u_(a.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var m=i.getTextContent();if(s&&m){var _=n.get(["label","position"]);i.textConfig.inside=_==="middle"?!0:null,wSt(i,_==="outside"?p:_,$K(o),n.get(["label","rotate"]))}uZ(m,g,a.getRawValue(e),function(T){return XK(t,T)});var S=n.getModel(["emphasis"]);Fi(i,S.get("focus"),S.get("blurScope"),S.get("disabled")),qr(i,n),ISt(r)&&(i.style.fill="none",i.style.stroke="none",G(i.states,function(T){T.style&&(T.style.fill=T.style.stroke="none")}))}function NSt(i,t){var e=i.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var n=i.get(["itemStyle","borderWidth"])||0,r=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,r,a)}var OSt=(function(){function i(){}return i})(),WG=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new OSt},t.prototype.buildPath=function(e,n){for(var r=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<r.length;c+=3)l[a]=u,l[o]=r[c+2],s[a]=r[c+a],s[o]=r[c+o],e.rect(s[0],s[1],l[0],l[1])},t})(_n);function YG(i,t,e,n){var r=i.getData(),a=r.getLayout("valueAxisHorizontal")?1:0,o=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=i.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var c=new WG({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),e&&e.push(c)}var f=new WG({shape:{points:r.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=o,f.barWidth=s,t.add(f),f.useStyle(r.getVisual("style")),f.style.stroke=null,Ue(f).seriesIndex=i.seriesIndex,i.get("silent")||(f.on("mousedown",qG),f.on("mousemove",qG)),e&&e.push(f)}var qG=ED(function(i){var t=this,e=PSt(t,i.offsetX,i.offsetY);Ue(t).dataIndex=e>=0?e:null},30,!1);function PSt(i,t,e){for(var n=i.baseDimIdx,r=1-n,a=i.shape.points,o=i.largeDataIndices,s=[],l=[],u=i.barWidth,c=0,f=a.length/3;c<f;c++){var h=c*3;if(l[n]=u,l[r]=a[h+2],s[n]=a[h+n],s[r]=a[h+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return o[c]}return-1}function tQ(i,t,e){if(lp(e,"cartesian2d")){var n=t,r=e.getArea();return{x:i?n.x:r.x,y:i?r.y:n.y,width:i?n.width:r.width,height:i?r.height:n.height}}else{var r=e.getArea(),a=t;return{cx:r.cx,cy:r.cy,r0:i?r.r0:a.r0,r:i?r.r:a.r,startAngle:i?a.startAngle:0,endAngle:i?a.endAngle:Math.PI*2}}}function zSt(i,t,e){var n=i.type==="polar"?Ka:cn;return new n({shape:tQ(t,e,i),silent:!0,z2:0})}function BSt(i){i.registerChartView(CSt),i.registerSeriesModel(TSt),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,Qe(iK,"bar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,rK("bar")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,JK("bar")),i.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(r){t.sortInfo&&r.axis.setCategorySortInfo(t.sortInfo)})})}var ZG=Math.PI*2,Sw=Math.PI/180;function USt(i,t,e){t.eachSeriesByType(i,function(n){var r=n.getData(),a=r.mapDimension("value"),o=EZ(n,e),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=o.viewRect,h=-n.get("startAngle")*Sw,p=n.get("endAngle"),g=n.get("padAngle")*Sw;p=p==="auto"?h-ZG:-p*Sw;var m=n.get("minAngle")*Sw,_=m+g,S=0;r.each(a,function(j){!isNaN(j)&&S++});var T=r.getSum(a),M=Math.PI/(T||S)*2,w=n.get("clockwise"),D=n.get("roseType"),C=n.get("stillShowZeroSum"),R=r.getDataExtent(a);R[0]=0;var z=w?1:-1,N=[h,p],O=z*g/2;gD(N,!w),h=N[0],p=N[1];var U=eQ(n);U.startAngle=h,U.endAngle=p,U.clockwise=w,U.cx=s,U.cy=l,U.r=u,U.r0=c;var F=Math.abs(p-h),V=F,W=0,Z=h;if(r.setLayout({viewRect:f,r:u}),r.each(a,function(j,Y){var Q;if(isNaN(j)){r.setItemLayout(Y,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:s,cy:l,r0:c,r:D?NaN:u});return}D!=="area"?Q=T===0&&C?M:j*M:Q=F/S,Q<_?(Q=_,V-=_):W+=j;var nt=Z+z*Q,q=0,$=0;g>Q?(q=Z+z*Q/2,$=q):(q=Z+O,$=nt-O),r.setItemLayout(Y,{angle:Q,startAngle:q,endAngle:$,clockwise:w,cx:s,cy:l,r0:c,r:D?Yn(j,R,[c,u]):u}),Z=nt}),V<ZG&&S)if(V<=.001){var H=F/S;r.each(a,function(j,Y){if(!isNaN(j)){var Q=r.getItemLayout(Y);Q.angle=H;var nt=0,q=0;H<g?(nt=h+z*(Y+1/2)*H,q=nt):(nt=h+z*Y*H+O,q=h+z*(Y+1)*H-O),Q.startAngle=nt,Q.endAngle=q}})}else M=V/W,Z=h,r.each(a,function(j,Y){if(!isNaN(j)){var Q=r.getItemLayout(Y),nt=Q.angle===_?_:j*M,q=0,$=0;nt<g?(q=Z+z*nt/2,$=q):(q=Z+O,$=Z+z*nt-O),Q.startAngle=q,Q.endAngle=$,Z+=z*nt}})})}var eQ=gn();function k_(i){return{seriesType:i,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(!(!n||!n.length)){var r=t.getData();r.filterSelf(function(a){for(var o=r.getName(a),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}var VSt=Math.PI/180;function jG(i,t,e,n,r,a,o,s,l,u){if(i.length<2)return;function c(m){for(var _=m.rB,S=_*_,T=0;T<m.list.length;T++){var M=m.list[T],w=Math.abs(M.label.y-e),D=n+M.len,C=D*D,R=Math.sqrt(Math.abs((1-w*w/S)*C)),z=t+(R+M.len2)*r,N=z-M.label.x,O=M.targetTextWidth-N*r;nQ(M,O,!0),M.label.x=z}}function f(m){for(var _={list:[],maxY:0},S={list:[],maxY:0},T=0;T<m.length;T++)if(m[T].labelAlignTo==="none"){var M=m[T],w=M.label.y>e?S:_,D=Math.abs(M.label.y-e);if(D>=w.maxY){var C=M.label.x-t-M.len2*r,R=n+M.len,z=Math.abs(C)<R?Math.sqrt(D*D/(1-C*C/R/R)):R;w.rB=z,w.maxY=D}w.list.push(M)}c(_),c(S)}for(var h=i.length,p=0;p<h;p++)if(i[p].position==="outer"&&i[p].labelAlignTo==="labelLine"){var g=i[p].label.x-u;i[p].linePoints[1][0]+=g,i[p].label.x=u}qP(i,1,l,l+o)&&f(i)}function HSt(i,t,e,n,r,a,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<i.length;h++){var p=i[h].label;eN(i[h])||(p.x<t?(c=Math.min(c,p.x),l.push(i[h])):(f=Math.max(f,p.x),u.push(i[h])))}for(var h=0;h<i.length;h++){var g=i[h];if(!eN(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var p=g.label,m=g.linePoints,_=void 0;g.labelAlignTo==="edge"?p.x<t?_=m[2][0]-g.labelDistance-o-g.edgeDistance:_=o+r-g.edgeDistance-m[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?p.x<t?_=c-o-g.bleedMargin:_=o+r-f-g.bleedMargin:p.x<t?_=p.x-o-g.bleedMargin:_=o+r-p.x-g.bleedMargin,g.targetTextWidth=_,nQ(g,_,!1)}}jG(u,t,e,n,1,r,a,o,s,f),jG(l,t,e,n,-1,r,a,o,s,c);for(var h=0;h<i.length;h++){var g=i[h];if(!eN(g)&&g.linePoints){var p=g.label,m=g.linePoints,S=g.labelAlignTo==="edge",T=p.style.padding,M=T?T[1]+T[3]:0,w=p.style.backgroundColor?0:M,D=g.rect.width+w,C=m[1][0]-m[2][0];S?p.x<t?m[2][0]=o+g.edgeDistance+D+g.labelDistance:m[2][0]=o+r-g.edgeDistance-D-g.labelDistance:(p.x<t?m[2][0]=p.x+g.labelDistance:m[2][0]=p.x-g.labelDistance,m[1][0]=m[2][0]+C),m[1][1]=m[2][1]=p.y}}}function nQ(i,t,e){if(i.labelStyleWidth==null){var n=i.label,r=n.style,a=i.rect,o=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,u=r.overflow,c=a.width+(o?0:l);if(t<c||e){if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",o)}else{var h=t-l,p=t<c?h:e?h>i.unconstrainedWidth?null:h:null;n.setStyle("width",p)}iQ(a,n)}}}function iQ(i,t){KG.rect=i,EK(KG,t,kSt)}var kSt={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},KG={};function eN(i){return i.position==="center"}function FSt(i){var t=i.getData(),e=[],n,r,a=!1,o=(i.get("minShowLabelAngle")||0)*VSt,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,f=s.y,h=s.height;function p(C){C.ignore=!0}function g(C){if(!C.ignore)return!0;for(var R in C.states)if(C.states[R].ignore===!1)return!0;return!1}t.each(function(C){var R=t.getItemGraphicEl(C),z=R.shape,N=R.getTextContent(),O=R.getTextGuideLine(),U=t.getItemModel(C),F=U.getModel("label"),V=F.get("position")||U.get(["emphasis","label","position"]),W=F.get("distanceToLabelLine"),Z=F.get("alignTo"),H=se(F.get("edgeDistance"),u),j=F.get("bleedMargin");j==null&&(j=Math.min(u,h)>200?10:2);var Y=U.getModel("labelLine"),Q=Y.get("length");Q=se(Q,u);var nt=Y.get("length2");if(nt=se(nt,u),Math.abs(z.endAngle-z.startAngle)<o){G(N.states,p),N.ignore=!0,O&&(G(O.states,p),O.ignore=!0);return}if(g(N)){var q=(z.startAngle+z.endAngle)/2,$=Math.cos(q),st=Math.sin(q),ft,Mt,dt,xt;n=z.cx,r=z.cy;var Lt=V==="inside"||V==="inner";if(V==="center")ft=z.cx,Mt=z.cy,xt="center";else{var Ct=(Lt?(z.r+z.r0)/2*$:z.r*$)+n,Wt=(Lt?(z.r+z.r0)/2*st:z.r*st)+r;if(ft=Ct+$*3,Mt=Wt+st*3,!Lt){var Xt=Ct+$*(Q+l-z.r),ae=Wt+st*(Q+l-z.r),at=Xt+($<0?-1:1)*nt,wt=ae;Z==="edge"?ft=$<0?c+H:c+u-H:ft=at+($<0?-W:W),Mt=wt,dt=[[Ct,Wt],[Xt,ae],[at,wt]]}xt=Lt?"center":Z==="edge"?$>0?"right":"left":$>0?"left":"right"}var It=Math.PI,Nt=0,Bt=F.get("rotate");if(En(Bt))Nt=Bt*(It/180);else if(V==="center")Nt=0;else if(Bt==="radial"||Bt===!0){var oe=$<0?-q+It:-q;Nt=oe}else if(Bt==="tangential"&&V!=="outside"&&V!=="outer"){var jt=Math.atan2($,st);jt<0&&(jt=It*2+jt);var ie=st>0;ie&&(jt=It+jt),Nt=jt-It}if(a=!!Nt,N.x=ft,N.y=Mt,N.rotation=Nt,N.setStyle({verticalAlign:"middle"}),Lt){N.setStyle({align:xt});var nn=N.states.select;nn&&(nn.x+=N.x,nn.y+=N.y)}else{var Xe=new Oe(0,0,0,0);iQ(Xe,N),e.push({label:N,labelLine:O,position:V,len:Q,len2:nt,minTurnAngle:Y.get("minTurnAngle"),maxSurfaceAngle:Y.get("maxSurfaceAngle"),surfaceNormal:new Ne($,st),linePoints:dt,textAlign:xt,labelDistance:W,labelAlignTo:Z,edgeDistance:H,bleedMargin:j,rect:Xe,unconstrainedWidth:Xe.width,labelStyleWidth:N.style.width})}R.setTextConfig({inside:Lt})}}),!a&&i.get("avoidLabelOverlap")&&HSt(e,n,r,l,u,h,c,f);for(var m=0;m<e.length;m++){var _=e[m],S=_.label,T=_.labelLine,M=isNaN(S.x)||isNaN(S.y);if(S){S.setStyle({align:_.textAlign}),M&&(G(S.states,p),S.ignore=!0);var w=S.states.select;w&&(w.x+=S.x,w.y+=S.y)}if(T){var D=_.linePoints;M||!D?(G(T.states,p),T.ignore=!0):(MK(D,_.minTurnAngle),l_t(D,_.surfaceNormal,_.maxSurfaceAngle),T.setShape({points:D}),S.__hostTarget.textGuideLineConfig={anchor:new Ne(D[0][0],D[0][1])})}}}var GSt=(function(i){ht(t,i);function t(e,n,r){var a=i.call(this)||this;a.z2=2;var o=new wn;return a.setTextContent(o),a.updateData(e,n,r,!0),a}return t.prototype.updateData=function(e,n,r,a){var o=this,s=e.hostModel,l=e.getItemModel(n),u=l.getModel("emphasis"),c=e.getItemLayout(n),f=Rt(Hc(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(a){o.setShape(f);var h=s.getShallow("animationType");s.ecModel.ssr?(Li(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):h==="scale"?(o.shape.r=c.r0,Li(o,{shape:{r:c.r}},s,n)):r!=null?(o.setShape({startAngle:r,endAngle:r}),Li(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,n)):(o.shape.endAngle=c.startAngle,Pn(o,{shape:{endAngle:c.endAngle}},s,n))}else Bl(o),Pn(o,{shape:f},s,n);o.useStyle(e.getItemVisual(n,"style")),qr(o,l);var p=(c.startAngle+c.endAngle)/2,g=s.get("selectedOffset"),m=Math.cos(p)*g,_=Math.sin(p)*g,S=l.getShallow("cursor");S&&o.attr("cursor",S),this._updateLabel(s,e,n),o.ensureState("emphasis").shape=Rt({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},Hc(u.getModel("itemStyle"),c)),Rt(o.ensureState("select"),{x:m,y:_,shape:Hc(l.getModel(["select","itemStyle"]),c)}),Rt(o.ensureState("blur"),{shape:Hc(l.getModel(["blur","itemStyle"]),c)});var T=o.getTextGuideLine(),M=o.getTextContent();T&&Rt(T.ensureState("select"),{x:m,y:_}),Rt(M.ensureState("select"),{x:m,y:_}),Fi(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,n,r){var a=this,o=n.getItemModel(r),s=o.getModel("labelLine"),l=n.getItemVisual(r,"style"),u=l&&l.fill,c=l&&l.opacity;ha(a,Zr(o),{labelFetcher:n.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:c,defaultText:e.getFormattedLabel(r,"normal")||n.getName(r)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=o.get(["label","position"]);if(h!=="outside"&&h!=="outer")a.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new Ia,this.setTextGuideLine(p)),uU(this,cU(o),{stroke:u,opacity:ms(s.get(["lineStyle","opacity"]),c,1)})}},t})(Ka),XSt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,r,a){var o=e.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var h=eQ(e),p=new Ka({shape:Ee(h)});p.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,l.add(p)}o.diff(s).add(function(g){var m=new GSt(o,g,u);o.setItemGraphicEl(g,m),l.add(m)}).update(function(g,m){var _=s.getItemGraphicEl(m);_.updateData(o,g,u),_.off("click"),l.add(_),o.setItemGraphicEl(g,_)}).remove(function(g){var m=s.getItemGraphicEl(g);fh(m,e,g)}).execute(),FSt(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,n){var r=n.getData(),a=r.getItemLayout(0);if(a){var o=e[0]-a.cx,s=e[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},t.type="pie",t})(si);function F_(i,t,e){t=Vt(t)&&{coordDimensions:t}||Rt({encodeDefine:i.getEncode()},t);var n=i.getSource(),r=U_(n,t).dimensions,a=new xo(r,i);return a.initData(n,e),a}var G_=(function(){function i(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return i.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},i.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},i.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},i.prototype.getItemVisual=function(t,e){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,e)},i})(),WSt=gn(),rQ=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new G_(ue(this.getData,this),ue(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){i.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return F_(this,{coordDimensions:["value"],encodeDefaulter:Qe(BB,this)})},t.prototype.getDataParams=function(e){var n=this.getData(),r=WSt(n),a=r.seats;if(!a){var o=[];n.each(n.mapDimension("value"),function(l){o.push(l)}),a=r.seats=hq(o,n.hostModel.get("percentPrecision"))}var s=i.prototype.getDataParams.call(this,e);return s.percent=a[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){Gg(e,"labelLine",["show"]);var n=e.labelLine,r=e.emphasis.labelLine;n.show=n.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t})(di);Uvt({fullType:rQ.type,getCoord2:function(i){return i.getShallow("center")}});function YSt(i){return{seriesType:i,reset:function(t,e){var n=t.getData();n.filterSelf(function(r){var a=n.mapDimension("value"),o=n.get(a,r);return!(En(o)&&!isNaN(o)&&o<0)})}}}function qSt(i){i.registerChartView(XSt),i.registerSeriesModel(rQ),yj("pie",i.registerAction),i.registerLayout(Qe(USt,"pie")),i.registerProcessor(k_("pie")),i.registerProcessor(YSt("pie"))}var ZSt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return rf(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,n,r){return r.point(n.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:vt.color.primary}},universalTransition:{divideShape:"clone"}},t})(di),aQ=4,jSt=(function(){function i(){}return i})(),KSt=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new jSt},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,n){var r=n.points,a=n.size,o=this.symbolProxy,s=o.shape,l=e.getContext?e.getContext():e,u=l&&a[0]<aQ,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<r.length;){var h=r[f++],p=r[f++];isNaN(h)||isNaN(p)||c&&!c.contain(h,p)||(s.x=h-a[0]/2,s.y=p-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(e,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,n=e.points,r=e.size,a=this._ctx,o=this.softClipShape,s;if(a){for(s=this._off;s<n.length;){var l=n[s++],u=n[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||a.fillRect(l-r[0]/2,u-r[1]/2,r[0],r[1])}this.incremental&&(this._off=s,this.notClear=!0)}},t.prototype.findDataIndex=function(e,n){for(var r=this.shape,a=r.points,o=r.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-s/2,h=a[c+1]-l/2;if(e>=f&&n>=h&&e<=f+s&&n<=h+l)return u}return-1},t.prototype.contain=function(e,n){var r=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=r[0],n=r[1],a.contain(e,n)){var o=this.hoverDataIdx=this.findDataIndex(e,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,r=n.points,a=n.size,o=a[0],s=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,h=0;h<r.length;){var p=r[h++],g=r[h++];l=Math.min(p,l),c=Math.max(p,c),u=Math.min(g,u),f=Math.max(g,f)}e=this._rect=new Oe(l-o/2,u-s/2,c-l+o,f-u+s)}return e},t})(_n),QSt=(function(){function i(){this.group=new Ce}return i.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},i.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var r=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;e=new Float32Array(e.buffer,a,r)}n.setShape("points",e),n.reset()})},i.prototype.incrementalPrepareUpdate=function(t){this._clear()},i.prototype.incrementalUpdate=function(t,e,n){var r=this._newAdded[0],a=e.getLayout("points"),o=r&&r.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+a.length);l.set(o),l.set(a,s),r.endIndex=t.end,r.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,e,n)}},i.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},i.prototype._create=function(){var t=new KSt({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},i.prototype._setCommon=function(t,e,n){var r=e.hostModel;n=n||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=Ar(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<aQ;t.useStyle(r.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=Ue(t);u.seriesIndex=r.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var f=t.hoverDataIdx;f>=0&&(u.dataIndex=f+(t.startIndex||0))})},i.prototype.remove=function(){this._clear()},i.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},i})(),JSt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,r){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,n,r){this._symbolDraw.incrementalUpdate(e,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,r){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=vT("").reset(e,n,r);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var n=e.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,n){var r=this._symbolDraw,a=n.pipelineContext,o=a.large;return(!r||o!==this._isLargeDraw)&&(r&&r.remove(),r=this._symbolDraw=o?new QSt:new dT,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t})(si),oQ={left:0,right:0,top:0,bottom:0},KC=["25%","25%"],$St=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.mergeDefaultAndTheme=function(e,n){var r=om(e.outerBounds);i.prototype.mergeDefaultAndTheme.apply(this,arguments),r&&e.outerBounds&&Qc(e.outerBounds,r)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&e.outerBounds&&Qc(this.option.outerBounds,e.outerBounds)},t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:oQ,outerBoundsContain:"all",outerBoundsClampWidth:KC[0],outerBoundsClampHeight:KC[1],backgroundColor:vt.color.transparent,borderWidth:1,borderColor:vt.color.neutral30},t})(pn),JP=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",$i).models[0]},t.type="cartesian2dAxis",t})(pn);fr(JP,H_);var sQ={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:vt.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:vt.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:vt.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[vt.color.backgroundTint,vt.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:vt.color.neutral00,borderColor:vt.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},txt=en({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},sQ),mU=en({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:vt.color.axisMinorSplitLine,width:1}}},sQ),ext=en({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},mU),nxt=Re({logBase:10},mU);const lQ={category:txt,value:mU,time:ext,log:nxt};var ixt={value:1,category:1,time:1,log:1},$P=null;function rxt(i){$P||($P=i)}function gT(){return $P}function c_(i,t,e,n){G(ixt,function(r,a){var o=en(en({},lQ[a],!0),n,!0),s=(function(l){ht(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var h=Sb(this),p=h?om(c):{},g=f.getTheme();en(c,g.get(a+"Axis")),en(c,this.getDefaultOption()),c.type=QG(c),h&&Qc(c,p,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=wb.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(c){var f=gT();return f?f.updateModelAxisBreak(this,c):{breaks:[]}},u.type=t+"Axis."+a,u.defaultOption=o,u})(e);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(t+"Axis",QG)}function QG(i){return i.type||(i.data?"category":"value")}var axt=(function(){function i(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return i.prototype.getAxis=function(t){return this._axes[t]},i.prototype.getAxes=function(){return kt(this._dimList,function(t){return this._axes[t]},this)},i.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Gn(this.getAxes(),function(e){return e.scale.type===t})},i.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},i})(),t3=["x","y"];function JG(i){return(i.type==="interval"||i.type==="time")&&!i.hasBreaks()}var oxt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=t3,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!JG(e)||!JG(n))){var r=e.getExtent(),a=n.getExtent(),o=this.dataToPoint([r[0],a[0]]),s=this.dataToPoint([r[1],a[1]]),l=r[1]-r[0],u=a[1]-a[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,h=o[0]-r[0]*c,p=o[1]-a[0]*f,g=this._transform=[c,0,0,f,h,p];this._invTransform=Pl([],g)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var n=this.getAxis("x"),r=this.getAxis("y");return n.contain(n.toLocalCoord(e[0]))&&r.contain(r.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,n){var r=this.dataToPoint(e),a=this.dataToPoint(n),o=this.getArea(),s=new Oe(r[0],r[1],a[0]-r[0],a[1]-r[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,n,r){r=r||[];var a=e[0],o=e[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return cr(r,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(a,n)),r[1]=l.toGlobalCoord(l.dataToCoord(o,n)),r},t.prototype.clampData=function(e,n){var r=this.getAxis("x").scale,a=this.getAxis("y").scale,o=r.getExtent(),s=a.getExtent(),l=r.parse(e[0]),u=a.parse(e[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},t.prototype.pointToData=function(e,n,r){if(r=r||[],this._invTransform)return cr(r,e,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return r[0]=a.coordToData(a.toLocalCoord(e[0]),n),r[1]=o.coordToData(o.toLocalCoord(e[1]),n),r},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var n=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-e,o=Math.min(r[0],r[1])-e,s=Math.max(n[0],n[1])-a+e,l=Math.max(r[0],r[1])-o+e;return new Oe(a,o,s,l)},t})(axt),uQ=(function(i){ht(t,i);function t(e,n,r,a,o){var s=i.call(this,e,n,r)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),e&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(e,n){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t})(Fl),ID="expandAxisBreak",cQ="collapseAxisBreak",fQ="toggleAxisBreak",yU="axisbreakchanged",sxt={type:ID,event:yU,update:"update",refineEvent:_U},lxt={type:cQ,event:yU,update:"update",refineEvent:_U},uxt={type:fQ,event:yU,update:"update",refineEvent:_U};function _U(i,t,e,n){var r=[];return G(i,function(a){r=r.concat(a.eventBreaks)}),{eventContent:{breaks:r}}}function cxt(i){i.registerAction(sxt,t),i.registerAction(lxt,t),i.registerAction(uxt,t);function t(e,n){var r=[],a=O0(n,e);function o(s,l){G(a[s],function(u){var c=u.updateAxisBreaks(e);G(c.breaks,function(f){var h;r.push(Re((h={},h[l]=u.componentIndex,h),f))})})}return o("xAxisModels","xAxisIndex"),o("yAxisModels","yAxisIndex"),o("singleAxisModels","singleAxisIndex"),{eventBreaks:r}}}var Wd=Math.PI,fxt=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],hxt=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],f_=gn(),hQ=gn(),dQ=(function(){function i(t){this.recordMap={},this.resolveAxisNameOverlap=t}return i.prototype.ensureRecord=function(t){var e=t.axis.dim,n=t.componentIndex,r=this.recordMap,a=r[e]||(r[e]=[]);return a[n]||(a[n]={ready:{}})},i})();function dxt(i,t,e,n){var r=e.axis,a=t.ensureRecord(e),o=[],s,l=SU(i.axisName)&&l_(i.nameLocation);G(n,function(g){var m=Jc(g);if(!(!m||m.label.ignore)){o.push(m);var _=a.transGroup;l&&(_.transform?Pl(qx,_.transform):tT(qx),m.transform&&wu(qx,qx,m.transform),Oe.copy(xw,m.localRect),xw.applyTransform(qx),s?s.union(xw):Oe.copy(s=new Oe(0,0,0,0),xw))}});var u=Math.abs(a.dirVec.x)>.1?"x":"y",c=a.transGroup[u];if(o.sort(function(g,m){return Math.abs(g.label[u]-c)-Math.abs(m.label[u]-c)}),l&&s){var f=r.getExtent(),h=Math.min(f[0],f[1]),p=Math.max(f[0],f[1])-h;s.union(new Oe(h,0,p,1))}a.stOccupiedRect=s,a.labelInfoList=o}var qx=la(),xw=new Oe(0,0,0,0),pQ=function(i,t,e,n,r,a){if(l_(i.nameLocation)){var o=a.stOccupiedRect;o&&vQ(f_t({},o,a.transGroup.transform),n,r)}else gQ(a.labelInfoList,a.dirVec,n,r)};function vQ(i,t,e){var n=new Ne;RD(i,t,n,{direction:Math.atan2(e.y,e.x),bidirectional:!1,touchThreshold:.05})&&WP(t,n)}function gQ(i,t,e,n){for(var r=Ne.dot(n,t)>=0,a=0,o=i.length;a<o;a++){var s=i[r?a:o-1-a];s.label.ignore||vQ(s,e,n)}}var Ko=(function(){function i(t,e,n,r){this.group=new Ce,this._axisModel=t,this._api=e,this._local={},this._shared=r||new dQ(pQ),this._resetCfgDetermined(n)}return i.prototype.updateCfg=function(t){var e=this._cfg.raw;e.position=t.position,e.labelOffset=t.labelOffset,this._resetCfgDetermined(e)},i.prototype.__getRawCfg=function(){return this._cfg.raw},i.prototype._resetCfgDetermined=function(t){var e=this._axisModel,n=e.getDefaultOption?e.getDefaultOption():{},r=_e(t.axisName,e.get("name")),a=e.get("nameMoveOverlap");(a==null||a==="auto")&&(a=_e(t.defaultNameMoveOverlap,!0));var o={raw:t,position:t.position,rotation:t.rotation,nameDirection:_e(t.nameDirection,1),tickDirection:_e(t.tickDirection,1),labelDirection:_e(t.labelDirection,1),labelOffset:_e(t.labelOffset,0),silent:_e(t.silent,!0),axisName:r,nameLocation:ms(e.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:SU(r)&&a,optionHideOverlap:e.get(["axisLabel","hideOverlap"]),showMinorTicks:e.get(["minorTick","show"])};this._cfg=o;var s=new Ce({x:o.position[0],y:o.position[1],rotation:o.rotation});s.updateTransform(),this._transformGroup=s;var l=this._shared.ensureRecord(e);l.transGroup=this._transformGroup,l.dirVec=new Ne(Math.cos(-o.rotation),Math.sin(-o.rotation))},i.prototype.build=function(t,e){var n=this;return t||(t={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),G(pxt,function(r){t[r]&&vxt[r](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,e||{})}),this},i.innerTextLayout=function(t,e,n){var r=$z(e-t),a,o;return e_(r)?(o=n>0?"top":"bottom",a="center"):e_(r-Wd)?(o=n>0?"bottom":"top",a="center"):(o="middle",r>0&&r<Wd?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:r,textAlign:a,textVerticalAlign:o}},i.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},i.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},i})(),pxt=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],vxt={axisLine:function(i,t,e,n,r,a,o){var s=n.get(["axisLine","show"]);if(s==="auto"&&(s=!0,i.raw.axisLineAutoShow!=null&&(s=!!i.raw.axisLineAutoShow)),!!s){var l=n.axis.getExtent(),u=a.transform,c=[l[0],0],f=[l[1],0],h=c[0]>f[0];u&&(cr(c,c,u),cr(f,f,u));var p=Rt({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),g={strokeContainThreshold:i.raw.strokeContainThreshold||5,silent:!0,z2:1,style:p};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())gT().buildAxisBreakLine(n,r,a,g);else{var m=new Mr(Rt({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]}},g));r_(m.shape,m.style.lineWidth),m.anid="line",r.add(m)}var _=n.get(["axisLine","symbol"]);if(_!=null){var S=n.get(["axisLine","symbolSize"]);le(_)&&(_=[_,_]),(le(S)||En(S))&&(S=[S,S]);var T=lm(n.get(["axisLine","symbolOffset"])||0,S),M=S[0],w=S[1];G([{rotate:i.rotation+Math.PI/2,offset:T[0],r:0},{rotate:i.rotation-Math.PI/2,offset:T[1],r:Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}],function(D,C){if(_[C]!=="none"&&_[C]!=null){var R=Ar(_[C],-M/2,-w/2,M,w,p.stroke,!0),z=D.r+D.offset,N=h?f:c;R.attr({rotation:D.rotate,x:N[0]+z*Math.cos(i.rotation),y:N[1]-z*Math.sin(i.rotation),silent:!0,z2:11}),r.add(R)}})}}},axisTickLabelEstimate:function(i,t,e,n,r,a,o,s){var l=t6(t,r,s);l&&$G(i,t,e,n,r,a,o,Ou.estimate)},axisTickLabelDetermine:function(i,t,e,n,r,a,o,s){var l=t6(t,r,s);l&&$G(i,t,e,n,r,a,o,Ou.determine);var u=_xt(i,r,a,n);yxt(i,t.labelLayoutList,u),Sxt(i,r,a,n,i.tickDirection)},axisName:function(i,t,e,n,r,a,o,s){var l=e.ensureRecord(n);t.nameEl&&(r.remove(t.nameEl),t.nameEl=l.nameLayout=l.nameLocation=null);var u=i.axisName;if(SU(u)){var c=i.nameLocation,f=i.nameDirection,h=n.getModel("nameTextStyle"),p=n.get("nameGap")||0,g=n.axis.getExtent(),m=n.axis.inverse?-1:1,_=new Ne(0,0),S=new Ne(0,0);c==="start"?(_.x=g[0]-m*p,S.x=-m):c==="end"?(_.x=g[1]+m*p,S.x=m):(_.x=(g[0]+g[1])/2,_.y=i.labelOffset+f*p,S.y=f);var T=la();S.transform(wh(T,T,i.rotation));var M=n.get("nameRotate");M!=null&&(M=M*Wd/180);var w,D;l_(c)?w=Ko.innerTextLayout(i.rotation,M??i.rotation,f):(w=gxt(i.rotation,c,M||0,g),D=i.raw.axisNameAvailableWidth,D!=null&&(D=Math.abs(D/Math.sin(w.rotation)),!isFinite(D)&&(D=null)));var C=h.getFont(),R=n.get("nameTruncate",!0)||{},z=R.ellipsis,N=Da(i.raw.nameTruncateMaxWidth,R.maxWidth,D),O=s.nameMarginLevel||0,U=new wn({x:_.x,y:_.y,rotation:w.rotation,silent:Ko.isLabelSilent(n),style:Si(h,{text:u,font:C,overflow:"truncate",width:N,ellipsis:z,fill:h.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:h.get("align")||w.textAlign,verticalAlign:h.get("verticalAlign")||w.textVerticalAlign}),z2:1});if(Ch({el:U,componentModel:n,itemName:u}),U.__fullText=u,U.anid="name",n.get("triggerEvent")){var F=Ko.makeAxisEventDataBase(n);F.targetType="axisName",F.name=u,Ue(U).eventData=F}a.add(U),U.updateTransform(),t.nameEl=U;var V=l.nameLayout=Jc({label:U,priority:U.z2,defaultAttr:{ignore:U.ignore},marginDefault:l_(c)?fxt[O]:hxt[O]});if(l.nameLocation=c,r.add(U),U.decomposeTransform(),i.shouldNameMoveOverlap&&V){var W=e.ensureRecord(n);e.resolveAxisNameOverlap(i,e,n,V,S,W)}}}};function $G(i,t,e,n,r,a,o,s){yQ(t)||xxt(i,t,r,s,n,o);var l=t.labelLayoutList;bxt(i,n,l,a),Axt(n,i.rotation,l);var u=i.optionHideOverlap;mxt(n,l,u),u&&CK(Gn(l,function(c){return c&&!c.label.ignore})),dxt(i,e,n,l)}function gxt(i,t,e,n){var r=$z(e-i),a,o,s=n[0]>n[1],l=t==="start"&&!s||t!=="start"&&s;return e_(r-Wd/2)?(o=l?"bottom":"top",a="center"):e_(r-Wd*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",r<Wd*1.5&&r>Wd/2?a=l?"left":"right":a=l?"right":"left"),{rotation:r,textAlign:a,textVerticalAlign:o}}function mxt(i,t,e){if(fK(i.axis))return;function n(s,l,u){var c=Jc(t[l]),f=Jc(t[u]);if(!(!c||!f)){if(s===!1||c.suggestIgnore){x1(c.label);return}if(f.suggestIgnore){x1(f.label);return}var h=.1;if(!e){var p=[0,0,0,0];c=YP({marginForce:p},c),f=YP({marginForce:p},f)}RD(c,f,null,{touchThreshold:h})&&x1(s?f.label:c.label)}}var r=i.get(["axisLabel","showMinLabel"]),a=i.get(["axisLabel","showMaxLabel"]),o=t.length;n(r,0,1),n(a,o-1,o-2)}function yxt(i,t,e){i.showMinorTicks||G(t,function(n){if(n&&n.label.ignore)for(var r=0;r<e.length;r++){var a=e[r],o=hQ(a),s=f_(n.label);if(o.tickValue!=null&&!o.onBand&&o.tickValue===s.tickValue){x1(a);return}}})}function x1(i){i&&(i.ignore=!0)}function mQ(i,t,e,n,r){for(var a=[],o=[],s=[],l=0;l<i.length;l++){var u=i[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=e,t&&(cr(o,o,t),cr(s,s,t));var c=new Mr({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});r_(c.shape,c.style.lineWidth),c.anid=r+"_"+i[l].tickValue,a.push(c);var f=hQ(c);f.onBand=!!i[l].onBand,f.tickValue=i[l].tickValue}return a}function _xt(i,t,e,n){var r=n.axis,a=n.getModel("axisTick"),o=a.get("show");if(o==="auto"&&(o=!0,i.raw.axisTickAutoShow!=null&&(o=!!i.raw.axisTickAutoShow)),!o||r.scale.isBlank())return[];for(var s=a.getModel("lineStyle"),l=i.tickDirection*a.get("length"),u=r.getTicksCoords(),c=mQ(u,e.transform,l,Re(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)t.add(c[f]);return c}function Sxt(i,t,e,n,r){var a=n.axis,o=n.getModel("minorTick");if(!(!i.showMinorTicks||a.scale.isBlank())){var s=a.getMinorTicksCoords();if(s.length)for(var l=o.getModel("lineStyle"),u=r*o.get("length"),c=Re(l.getLineStyle(),Re(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),f=0;f<s.length;f++)for(var h=mQ(s[f],e.transform,u,c,"minorticks_"+f),p=0;p<h.length;p++)t.add(h[p])}}function t6(i,t,e){if(yQ(i)){var n=i.axisLabelsCreationContext,r=n.out.noPxChangeTryDetermine;if(e.noPxChange){for(var a=!0,o=0;o<r.length;o++)a=a&&r[o]();if(a)return!1}r.length&&(t.remove(i.labelGroup),e3(i,null,null,null))}return!0}function xxt(i,t,e,n,r,a){var o=r.axis,s=Da(i.raw.axisLabelShow,r.get(["axisLabel","show"])),l=new Ce;e.add(l);var u=GC(n);if(!s||o.scale.isBlank()){e3(t,[],l,u);return}var c=r.getModel("axisLabel"),f=o.getViewLabels(u),h=(Da(i.raw.labelRotate,c.get("rotate"))||0)*Wd/180,p=Ko.innerTextLayout(i.rotation,h,i.labelDirection),g=r.getCategories&&r.getCategories(!0),m=[],_=r.get("triggerEvent"),S=1/0,T=-1/0;G(f,function(w,D){var C,R=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(w.tickValue):w.tickValue,z=w.formattedLabel,N=w.rawLabel,O=c;if(g&&g[R]){var U=g[R];Le(U)&&U.textStyle&&(O=new yn(U.textStyle,c,r.ecModel))}var F=O.getTextColor()||r.get(["axisLine","lineStyle","color"]),V=O.getShallow("align",!0)||p.textAlign,W=_e(O.getShallow("alignMinLabel",!0),V),Z=_e(O.getShallow("alignMaxLabel",!0),V),H=O.getShallow("verticalAlign",!0)||O.getShallow("baseline",!0)||p.textVerticalAlign,j=_e(O.getShallow("verticalAlignMinLabel",!0),H),Y=_e(O.getShallow("verticalAlignMaxLabel",!0),H),Q=10+(((C=w.time)===null||C===void 0?void 0:C.level)||0);S=Math.min(S,Q),T=Math.max(T,Q);var nt=new wn({x:0,y:0,rotation:0,silent:Ko.isLabelSilent(r),z2:Q,style:Si(O,{text:z,align:D===0?W:D===f.length-1?Z:V,verticalAlign:D===0?j:D===f.length-1?Y:H,fill:Te(F)?F(o.type==="category"?N:o.type==="value"?R+"":R,D):F})});nt.anid="label_"+R;var q=f_(nt);if(q.break=w.break,q.tickValue=R,q.layoutRotation=p.rotation,Ch({el:nt,componentModel:r,itemName:z,formatterParamsExtra:{isTruncated:function(){return nt.isTruncated},value:N,tickIndex:D}}),_){var $=Ko.makeAxisEventDataBase(r);$.targetType="axisLabel",$.value=N,$.tickIndex=D,w.break&&($.break={start:w.break.parsedBreak.vmin,end:w.break.parsedBreak.vmax}),o.type==="category"&&($.dataIndex=R),Ue(nt).eventData=$,w.break&&Mxt(r,a,nt,w.break)}m.push(nt),l.add(nt)});var M=kt(m,function(w){return{label:w,priority:f_(w).break?w.z2+(T-S+1):w.z2,defaultAttr:{ignore:w.ignore}}});e3(t,M,l,u)}function yQ(i){return!!i.labelLayoutList}function e3(i,t,e,n){i.labelLayoutList=t,i.labelGroup=e,i.axisLabelsCreationContext=n}function bxt(i,t,e,n){var r=t.get(["axisLabel","margin"]);G(e,function(a,o){var s=Jc(a);if(s){var l=s.label,u=f_(l);s.suggestIgnore=l.ignore,l.ignore=!1,SC(Yf,Txt),Yf.x=t.axis.dataToCoord(u.tickValue),Yf.y=i.labelOffset+i.labelDirection*r,Yf.rotation=u.layoutRotation,n.add(Yf),Yf.updateTransform(),n.remove(Yf),Yf.decomposeTransform(),SC(l,Yf),l.markRedraw(),qC(s,!0),Jc(s)}})}var Yf=new cn,Txt=new cn;function SU(i){return!!i}function Mxt(i,t,e,n){e.on("click",function(r){var a={type:ID,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};a[i.axis.dim+"AxisIndex"]=i.componentIndex,t.dispatchAction(a)})}function Axt(i,t,e){var n=Or();if(n){var r=n.retrieveAxisBreakPairs(e,function(o){return o&&f_(o.label).break},!0),a=i.get(["breakLabelLayout","moveOverlap"],!0);(a===!0||a==="auto")&&G(r,function(o){gT().adjustBreakLabelPair(i.axis.inverse,t,[Jc(e[o[0]]),Jc(e[o[1]])])})}}function QC(i,t,e){e=e||{};var n=t.axis,r={},a=n.getAxesOnZeroOf()[0],o=n.position,s=a?"onZero":o,l=n.dim,u=[i.x,i.x+i.width,i.y,i.y+i.height],c={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get("offset")||0,h=l==="x"?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(a){var p=a.toGlobalCoord(a.dataToCoord(0));h[c.onZero]=Math.max(Math.min(p,h[1]),h[0])}r.position=[l==="y"?h[c[s]]:u[0],l==="x"?h[c[s]]:u[3]],r.rotation=Math.PI/2*(l==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=g[o],r.labelOffset=a?h[c[o]]-h[c.onZero]:0,t.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),Da(e.labelInside,t.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var m=t.get(["axisLabel","rotate"]);return r.labelRotate=s==="top"?-m:m,r.z2=1,r}function wxt(i){return i.coordinateSystem&&i.coordinateSystem.type==="cartesian2d"}function e6(i){var t={xAxisModel:null,yAxisModel:null};return G(t,function(e,n){var r=n.replace(/Model$/,""),a=i.getReferringComponents(r,$i).models[0];t[n]=a}),t}function Ext(i,t,e,n,r,a){for(var o=QC(i,e),s=!1,l=!1,u=0;u<t.length;u++)VP(t[u].getOtherAxis(e.axis).scale)&&(s=l=!0,e.axis.type==="category"&&e.axis.onBand&&(l=!1));return o.axisLineAutoShow=s,o.axisTickAutoShow=l,o.defaultNameMoveOverlap=a,new Ko(e,n,o,r)}function Cxt(i,t,e){var n=QC(t,e);i.updateCfg(n)}function _Q(i,t,e){var n=Mh.prototype,r=n.getTicks.call(e),a=n.getTicks.call(e,{expandToNicedExtent:!0}),o=r.length-1,s=n.getInterval.call(e),l=cK(i,t),u=l.extent,c=l.fixMin,f=l.fixMax;i.type==="log"&&(u=HP(i.base,u,!0)),i.setBreaksFromOption(hK(t)),i.setExtent(u[0],u[1]),i.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var h=n.getExtent.call(i);c&&(u[0]=h[0]),f&&(u[1]=h[1]);var p=n.getInterval.call(i),g=u[0],m=u[1];if(c&&f)p=(m-g)/o;else if(c)for(m=u[0]+p*o;m<u[1]&&isFinite(m)&&isFinite(u[1]);)p=HI(p),m=u[0]+p*o;else if(f)for(g=u[1]-p*o;g>u[0]&&isFinite(g)&&isFinite(u[0]);)p=HI(p),g=u[1]-p*o;else{var _=i.getTicks().length-1;_>o&&(p=HI(p));var S=p*o;m=Math.ceil(u[1]/p)*p,g=Tr(m-S),g<0&&u[0]>=0?(g=0,m=Tr(S)):m>0&&u[1]<=0&&(m=0,g=-Tr(S))}var T=(r[0].value-a[0].value)/s,M=(r[o].value-a[o].value)/s;n.setExtent.call(i,g+p*T,m+p*M),n.setInterval.call(i,p),(T||M)&&n.setNiceExtent.call(i,g+p,m-p)}var n6=[[3,1],[0,2]],Dxt=(function(){function i(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=t3,this._initCartesian(t,e,n),this.model=t}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model);function r(o){var s,l=Tn(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var h=+l[f],p=o[h],g=p.model,m=p.scale;VP(m)&&g.get("alignTicks")&&g.get("interval")==null?c.push(p):(Kg(m,g),VP(m)&&(s=p))}c.length&&(s||(s=c.pop(),Kg(s.scale,s.model)),G(c,function(_){_Q(_.scale,_.model,s.scale)}))}}r(n.x),r(n.y);var a={};G(n.x,function(o){i6(n,"y",o,a)}),G(n.y,function(o){i6(n,"x",o,a)}),this.resize(this.model,e)},i.prototype.resize=function(t,e,n){var r=jr(t,e),a=this._rect=Bi(t.getBoxLayoutParams(),r.refContainer),o=this._axesMap,s=this._coordsList,l=t.get("containLabel");if(n3(o,a),!n){var u=Ixt(a,s,o,l,e),c=void 0;if(l)i3?(i3(this._axesList,a),n3(o,a)):c=o6(a.clone(),"axisLabel",null,a,o,u,r);else{var f=Nxt(t,a,r),h=f.outerBoundsRect,p=f.parsedOuterBoundsContain,g=f.outerBoundsClamp;h&&(c=o6(h,p,g,a,o,u,r))}SQ(a,o,Ou.determine,null,c,r)}G(this._coordsList,function(m){m.calcAffineTransform()})},i.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(n!=null)return n[e||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var n="x"+t+"y"+e;return this._coordsMap[n]}Le(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,a=this._coordsList;r<a.length;r++)if(a[r].getAxis("x").index===t||a[r].getAxis("y").index===e)return a[r]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},i.prototype.convertFromPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},i.prototype._findConvertTarget=function(t){var e=t.seriesModel,n=t.xAxisModel||e&&e.getReferringComponents("xAxis",$i).models[0],r=t.yAxisModel||e&&e.getReferringComponents("yAxis",$i).models[0],a=t.gridModel,o=this._coordsList,s,l;if(e)s=e.coordinateSystem,tn(o,s)<0&&(s=null);else if(n&&r)s=this.getCartesian(n.componentIndex,r.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},i.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},i.prototype._initCartesian=function(t,e,n){var r=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,G(s.x,function(c,f){G(s.y,function(h,p){var g="x"+f+"y"+p,m=new oxt(g);m.master=r,m.model=t,r._coordsMap[g]=m,r._coordsList.push(m),m.addAxis(c),m.addAxis(h)})});function u(c){return function(f,h){if(nN(f,t)){var p=f.get("position");c==="x"?p!=="top"&&p!=="bottom"&&(p=o.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=o.left?"right":"left"),o[p]=!0;var g=new uQ(c,fT(f),[0,0],f.get("type"),p),m=g.type==="category";g.onBand=m&&f.get("boundaryGap"),g.inverse=f.get("inverse"),f.axis=g,g.model=f,g.grid=a,g.index=h,a._axesList.push(g),s[c][h]=g,l[c]++}}}},i.prototype._updateScale=function(t,e){G(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var a=r.model.get("categorySortInfo");r.scale.setSortInfo(a)}}),t.eachSeries(function(r){if(wxt(r)){var a=e6(r),o=a.xAxisModel,s=a.yAxisModel;if(!nN(o,e)||!nN(s,e))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=r.getData(),c=l.getAxis("x"),f=l.getAxis("y");n(u,c),n(u,f)}},this);function n(r,a){G(FC(r,a.dim),function(o){a.scale.unionExtentFromData(r,o)})}},i.prototype.getTooltipAxes=function(t){var e=[],n=[];return G(this.getCartesians(),function(r){var a=t!=null&&t!=="auto"?r.getAxis(t):r.getBaseAxis(),o=r.getOtherAxis(a);tn(e,a)<0&&e.push(a),tn(n,o)<0&&n.push(o)}),{baseAxes:e,otherAxes:n}},i.create=function(t,e){var n=[];return t.eachComponent("grid",function(r,a){var o=new i(r,t,e);o.name="grid_"+a,o.resize(r,e,!0),r.coordinateSystem=o,n.push(o)}),t.eachSeries(function(r){uT({targetModel:r,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var o=e6(r),s=o.xAxisModel,l=o.yAxisModel,u=s.getCoordSysModel(),c=u.coordinateSystem;return c.getCartesian(s.componentIndex,l.componentIndex)}}),n},i.dimensions=t3,i})();function nN(i,t){return i.getCoordSysModel()===t}function i6(i,t,e,n){e.getAxesOnZeroOf=function(){return a?[a]:[]};var r=i[t],a,o=e.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)r6(r[l])&&(a=r[l]);else for(var u in r)if(r.hasOwnProperty(u)&&r6(r[u])&&!n[c(r[u])]){a=r[u];break}a&&(n[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function r6(i){return i&&i.type!=="category"&&i.type!=="time"&&x0t(i)}function Rxt(i,t){var e=i.getExtent(),n=e[0]+e[1];i.toGlobalCoord=i.dim==="x"?function(r){return r+t}:function(r){return n-r+t},i.toLocalCoord=i.dim==="x"?function(r){return r-t}:function(r){return n-r+t}}function n3(i,t){G(i.x,function(e){return a6(e,t.x,t.width)}),G(i.y,function(e){return a6(e,t.y,t.height)})}function a6(i,t,e){var n=[0,e],r=i.inverse?1:0;i.setExtent(n[r],n[1-r]),Rxt(i,t)}var i3;function Lxt(i){i3=i}function o6(i,t,e,n,r,a,o){SQ(n,r,Ou.estimate,t,!1,o);var s=[0,0,0,0];u(0),u(1),c(n,0,NaN),c(n,1,NaN);var l=vp(s,function(h){return h>0})==null;return qg(n,s,!0,!0,e),n3(r,n),l;function u(h){G(r[We[h]],function(p){if(Eb(p.model)){var g=a.ensureRecord(p.model),m=g.labelInfoList;if(m)for(var _=0;_<m.length;_++){var S=m[_],T=p.scale.normalize(f_(S.label).tickValue);T=h===1?1-T:T,c(S.rect,h,T),c(S.rect,1-h,NaN)}var M=g.nameLayout;if(M){var T=l_(g.nameLocation)?.5:NaN;c(M.rect,h,T),c(M.rect,1-h,NaN)}}})}function c(h,p,g){var m=i[We[p]]-h[We[p]],_=h[Pr[p]]+h[We[p]]-(i[Pr[p]]+i[We[p]]);m=f(m,1-g),_=f(_,g);var S=n6[p][0],T=n6[p][1];s[S]=br(s[S],m),s[T]=br(s[T],_)}function f(h,p){return h>0&&!Ya(p)&&p>1e-4&&(h/=p),h}}function Ixt(i,t,e,n,r){var a=new dQ(Oxt);return G(e,function(o){return G(o,function(s){if(Eb(s.model)){var l=!n;s.axisBuilder=Ext(i,t,s.model,r,a,l)}})}),a}function SQ(i,t,e,n,r,a){var o=e===Ou.determine;G(t,function(u){return G(u,function(c){Eb(c.model)&&(Cxt(c.axisBuilder,i,c.model),c.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:r}))})});var s={x:0,y:0};l(0),l(1);function l(u){s[We[1-u]]=i[Pr[u]]<=a.refContainer[Pr[u]]*.5?0:1-u===1?2:1}G(t,function(u,c){return G(u,function(f){Eb(f.model)&&((n==="all"||o)&&f.axisBuilder.build({axisName:!0},{nameMarginLevel:s[c]}),o&&f.axisBuilder.build({axisLine:!0}))})})}function Nxt(i,t,e){var n,r=i.get("outerBoundsMode",!0);r==="same"?n=t.clone():(r==null||r==="auto")&&(n=Bi(i.get("outerBounds",!0)||oQ,e.refContainer));var a=i.get("outerBoundsContain",!0),o;a==null||a==="auto"||tn(["all","axisLabel"],a)<0?o="all":o=a;var s=[bC(_e(i.get("outerBoundsClampWidth",!0),KC[0]),t.width),bC(_e(i.get("outerBoundsClampHeight",!0),KC[1]),t.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:o,outerBoundsClamp:s}}var Oxt=function(i,t,e,n,r,a){var o=e.axis.dim==="x"?"y":"x";pQ(i,t,e,n,r,a),l_(i.nameLocation)||G(t.recordMap[o],function(s){s&&s.labelInfoList&&s.dirVec&&gQ(s.labelInfoList,s.dirVec,n,r)})};function Pxt(i,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return zxt(e,i,t),e.seriesInvolved&&Uxt(e,i),e}function zxt(i,t,e){var n=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),a=r.get("link",!0)||[],o=[];G(e.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Lb(s.model),u=i.coordSysAxesInfo[l]={};i.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",n);if(G(s.getAxes(),Qe(m,!1,null)),s.getTooltipAxes&&n&&f.get("show")){var h=f.get("trigger")==="axis",p=f.get(["axisPointer","type"])==="cross",g=s.getTooltipAxes(f.get(["axisPointer","axis"]));(h||p)&&G(g.baseAxes,Qe(m,p?"cross":!0,h)),p&&G(g.otherAxes,Qe(m,"cross",!1))}function m(_,S,T){var M=T.model.getModel("axisPointer",r),w=M.get("show");if(!(!w||w==="auto"&&!_&&!r3(M))){S==null&&(S=M.get("triggerTooltip")),M=_?Bxt(T,f,r,t,_,S):M;var D=M.get("snap"),C=M.get("triggerEmphasis"),R=Lb(T.model),z=S||D||T.type==="category",N=i.axesInfo[R]={key:R,axis:T,coordSys:s,axisPointerModel:M,triggerTooltip:S,triggerEmphasis:C,involveSeries:z,snap:D,useHandle:r3(M),seriesModels:[],linkGroup:null};u[R]=N,i.seriesInvolved=i.seriesInvolved||z;var O=Vxt(a,T);if(O!=null){var U=o[O]||(o[O]={axesInfo:{}});U.axesInfo[R]=N,U.mapper=a[O].mapper,N.linkGroup=U}}}})}function Bxt(i,t,e,n,r,a){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};G(s,function(h){l[h]=Ee(o.get(h))}),l.snap=i.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),r==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=o.get("crossStyle");f&&Re(u,f.textStyle)}}return i.model.getModel("axisPointer",new yn(l,e,n))}function Uxt(i,t){t.eachSeries(function(e){var n=e.coordinateSystem,r=e.get(["tooltip","trigger"],!0),a=e.get(["tooltip","show"],!0);!n||!n.model||r==="none"||r===!1||r==="item"||a===!1||e.get(["axisPointer","show"],!0)===!1||G(i.coordSysAxesInfo[Lb(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(e),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=e.getData().count())})})}function Vxt(i,t){for(var e=t.model,n=t.dim,r=0;r<i.length;r++){var a=i[r]||{};if(iN(a[n+"AxisId"],e.id)||iN(a[n+"AxisIndex"],e.componentIndex)||iN(a[n+"AxisName"],e.name))return r}}function iN(i,t){return i==="all"||Vt(i)&&tn(i,t)>=0||i===t}function Hxt(i){var t=xU(i);if(t){var e=t.axisPointerModel,n=t.axis.scale,r=e.option,a=e.get("status"),o=e.get("value");o!=null&&(o=n.parse(o));var s=r3(e);a==null&&(r.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),r.value=o,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}function xU(i){var t=(i.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Lb(i)]}function kxt(i){var t=xU(i);return t&&t.axisPointerModel}function r3(i){return!!i.get(["handle","show"])}function Lb(i){return i.type+"||"+i.id}var s6={},um=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r,a){this.axisPointerClass&&Hxt(e),i.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},t.prototype.updateAxisPointer=function(e,n,r,a){this._doUpdateAxisPointerClass(e,r,!1)},t.prototype.remove=function(e,n){var r=this._axisPointer;r&&r.remove(n)},t.prototype.dispose=function(e,n){this._disposeAxisPointer(n),i.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,r){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var o=kxt(e);o?(this._axisPointer||(this._axisPointer=new a)).render(e,o,n,r):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,n){s6[e]=n},t.getAxisPointerClass=function(e){return e&&s6[e]},t.type="axis",t})(Ti),a3=gn();function xQ(i,t,e,n){var r=e.axis;if(!r.scale.isBlank()){var a=e.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var c=s.length,f=a3(i).splitAreaColors,h=ye(),p=0;if(f)for(var g=0;g<u.length;g++){var m=f.get(u[g].tickValue);if(m!=null){p=(m+(c-1)*g)%c;break}}var _=r.toGlobalCoord(u[0].coord),S=o.getAreaStyle();s=Vt(s)?s:[s];for(var g=1;g<u.length;g++){var T=r.toGlobalCoord(u[g].coord),M=void 0,w=void 0,D=void 0,C=void 0;r.isHorizontal()?(M=_,w=l.y,D=T-M,C=l.height,_=M+D):(M=l.x,w=_,D=l.width,C=T-w,_=w+C);var R=u[g-1].tickValue;R!=null&&h.set(R,p),t.add(new cn({anid:R!=null?"area_"+R:null,shape:{x:M,y:w,width:D,height:C},style:Re({fill:s[p]},S),autoBatch:!0,silent:!0})),p=(p+1)%c}a3(i).splitAreaColors=h}}}function bQ(i){a3(i).splitAreaColors=null}var Fxt=["splitArea","splitLine","minorSplitLine","breakArea"],TQ=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,n,r,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Ce,this.group.add(this._axisGroup),!!Eb(e)){this._axisGroup.add(e.axis.axisBuilder.group),G(Fxt,function(l){e.get([l,"show"])&&Gxt[l](this,this._axisGroup,e,e.getCoordSysModel(),r)},this);var s=a&&a.type==="changeAxisOrder"&&a.isInitSort;s||sT(o,this._axisGroup,e),i.prototype.render.call(this,e,n,r,a)}},t.prototype.remove=function(){bQ(this)},t.type="cartesianAxis",t})(um),Gxt={splitLine:function(i,t,e,n,r){var a=e.axis;if(!a.scale.isBlank()){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=o.get("showMinLine")!==!1,c=o.get("showMaxLine")!==!1;l=Vt(l)?l:[l];for(var f=n.coordinateSystem.getRect(),h=a.isHorizontal(),p=0,g=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),m=[],_=[],S=s.getLineStyle(),T=0;T<g.length;T++){var M=a.toGlobalCoord(g[T].coord);if(!(T===0&&!u||T===g.length-1&&!c)){var w=g[T].tickValue;h?(m[0]=M,m[1]=f.y,_[0]=M,_[1]=f.y+f.height):(m[0]=f.x,m[1]=M,_[0]=f.x+f.width,_[1]=M);var D=p++%l.length,C=new Mr({anid:w!=null?"line_"+w:null,autoBatch:!0,shape:{x1:m[0],y1:m[1],x2:_[0],y2:_[1]},style:Re({stroke:l[D]},S),silent:!0});r_(C.shape,S.lineWidth),t.add(C)}}}},minorSplitLine:function(i,t,e,n,r){var a=e.axis,o=e.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=n.coordinateSystem.getRect(),u=a.isHorizontal(),c=a.getMinorTicksCoords();if(c.length)for(var f=[],h=[],p=s.getLineStyle(),g=0;g<c.length;g++)for(var m=0;m<c[g].length;m++){var _=a.toGlobalCoord(c[g][m].coord);u?(f[0]=_,f[1]=l.y,h[0]=_,h[1]=l.y+l.height):(f[0]=l.x,f[1]=_,h[0]=l.x+l.width,h[1]=_);var S=new Mr({anid:"minor_line_"+c[g][m].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:p,silent:!0});r_(S.shape,p.lineWidth),t.add(S)}},splitArea:function(i,t,e,n,r){xQ(i,t,e,n)},breakArea:function(i,t,e,n,r){var a=gT(),o=e.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,i,e,n.coordinateSystem.getRect(),r)}},MQ=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t})(TQ),Xxt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=MQ.type,e}return t.type="yAxis",t})(TQ),Wxt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,n){this.group.removeAll(),e.get("show")&&this.group.add(new cn({shape:e.coordinateSystem.getRect(),style:Re({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t})(Ti),l6={offset:0};function AQ(i){i.registerComponentView(Wxt),i.registerComponentModel($St),i.registerCoordinateSystem("cartesian2d",Dxt),c_(i,"x",JP,l6),c_(i,"y",JP,l6),i.registerComponentView(MQ),i.registerComponentView(Xxt),i.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function Yxt(i,t){var e=i.coordinateSystem,n=e&&e.type,r=e&&e.getBaseAxis&&e.getBaseAxis(),a=r&&r.scale&&r.scale.type,o=n==="cartesian2d"&&a==="ordinal"||n==="single",s=t.model.get("jitter")>0;return o&&s}var qxt=gn();function u6(i,t,e,n){if(i instanceof uQ){var r=i.scale.type;if(r!=="category"&&r!=="ordinal")return e}var a=i.model,o=a.get("jitter"),s=a.get("jitterOverlap"),l=a.get("jitterMargin")||0,u=i.scale.type==="ordinal"?i.getBandWidth():null;return o>0?s?wQ(e,o,u,n):Zxt(i,t,e,n,o,l):e}function wQ(i,t,e,n){if(e===null)return i+(Math.random()-.5)*t;var r=e-n*2,a=Math.min(Math.max(0,t),r);return i+(Math.random()-.5)*a}function Zxt(i,t,e,n,r,a){var o=qxt(i);o.items||(o.items=[]);var s=o.items,l=c6(s,t,e,n,r,a,1),u=c6(s,t,e,n,r,a,-1),c=Math.abs(l-e)<Math.abs(u-e)?l:u,f=i.scale.type==="ordinal"?i.getBandWidth():null,h=Math.abs(c-e);return h>r/2||f&&h>f/2-n?wQ(e,r,f,n):(s.push({fixedCoord:t,floatCoord:c,r:n}),c)}function c6(i,t,e,n,r,a,o){for(var s=e,l=0;l<i.length;l++){var u=i[l],c=t-u.fixedCoord,f=s-u.floatCoord,h=c*c+f*f,p=n+u.r+a;if(h<p*p){var g=u.floatCoord+Math.sqrt(p*p-c*c)*o;if(Math.abs(g-e)>r/2)return Number.MAX_VALUE;if(o===1&&g>s||o===-1&&g<s){s=g,l=-1;continue}}}return s}function jxt(i){i.eachSeriesByType("scatter",function(t){var e=t.coordinateSystem;if(e&&(e.type==="cartesian2d"||e.type==="single")){var n=e.getBaseAxis?e.getBaseAxis():null,r=n&&Yxt(t,n);if(r){var a=t.getData();a.each(function(o){var s=n.dim,l=n.orient,u=l==="horizontal"&&n.type!=="category"||l==="vertical"&&n.type==="category",c=a.getItemLayout(o),f=a.getItemVisual(o,"symbolSize"),h=f instanceof Array?(f[1]+f[0])/2:f;if(s==="y"||s==="single"&&u){var p=u6(n,c[0],c[1],h/2);a.setItemLayout(o,[c[0],p])}else if(s==="x"||s==="single"&&!u){var p=u6(n,c[1],c[0],h/2);a.setItemLayout(o,[p,c[1]])}})}}})}function Kxt(i){an(AQ),i.registerSeriesModel(ZSt),i.registerChartView(JSt),i.registerLayout(vT("scatter"))}function Qxt(i){i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,jxt)}function Jxt(i){i.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],r=t.coordinateSystem;if(r){var a=r.getIndicatorAxes();G(a,function(o,s){e.each(e.mapDimension(a[s].dim),function(l,u){n[u]=n[u]||[];var c=r.dataToPoint(l,s);n[u][s]=f6(c)?c:h6(r)})}),e.each(function(o){var s=vp(n[o],function(l){return f6(l)})||h6(r);n[o].push(s.slice()),e.setItemLayout(o,n[o])})}})}function f6(i){return!isNaN(i[0])&&!isNaN(i[1])}function h6(i){return[i.cx,i.cy]}function $xt(i){var t=i.polar;if(t){Vt(t)||(t=[t]);var e=[];G(t,function(n,r){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),i.radar=i.radar||[],Vt(i.radar)||(i.radar=[i.radar]),i.radar.push(n)):e.push(n)}),i.polar=e}G(i.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var t1t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){var a=e.coordinateSystem,o=this.group,s=e.getData(),l=this._data;function u(h,p){var g=h.getItemVisual(p,"symbol")||"circle";if(g!=="none"){var m=B_(h.getItemVisual(p,"symbolSize")),_=Ar(g,-1,-1,2,2),S=h.getItemVisual(p,"symbolRotate")||0;return _.attr({style:{strokeNoScale:!0},z2:100,scaleX:m[0]/2,scaleY:m[1]/2,rotation:S*Math.PI/180||0}),_}}function c(h,p,g,m,_,S){g.removeAll();for(var T=0;T<p.length-1;T++){var M=u(m,_);M&&(M.__dimIdx=T,h[T]?(M.setPosition(h[T]),am[S?"initProps":"updateProps"](M,{x:p[T][0],y:p[T][1]},e,_)):M.setPosition(p[T]),g.add(M))}}function f(h){return kt(h,function(p){return[a.cx,a.cy]})}s.diff(l).add(function(h){var p=s.getItemLayout(h);if(p){var g=new Qa,m=new Ia,_={shape:{points:p}};g.shape.points=f(p),m.shape.points=f(p),Li(g,_,e,h),Li(m,_,e,h);var S=new Ce,T=new Ce;S.add(m),S.add(g),S.add(T),c(m.shape.points,p,T,s,h,!0),s.setItemGraphicEl(h,S)}}).update(function(h,p){var g=l.getItemGraphicEl(p),m=g.childAt(0),_=g.childAt(1),S=g.childAt(2),T={shape:{points:s.getItemLayout(h)}};T.shape.points&&(c(m.shape.points,T.shape.points,S,s,h,!1),Bl(_),Bl(m),Pn(m,T,e),Pn(_,T,e),s.setItemGraphicEl(h,g))}).remove(function(h){o.remove(l.getItemGraphicEl(h))}).execute(),s.eachItemGraphicEl(function(h,p){var g=s.getItemModel(p),m=h.childAt(0),_=h.childAt(1),S=h.childAt(2),T=s.getItemVisual(p,"style"),M=T.fill;o.add(h),m.useStyle(Re(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:M})),qr(m,g,"lineStyle"),qr(_,g,"areaStyle");var w=g.getModel("areaStyle"),D=w.isEmpty()&&w.parentModel.isEmpty();_.ignore=D,G(["emphasis","select","blur"],function(R){var z=g.getModel([R,"areaStyle"]),N=z.isEmpty()&&z.parentModel.isEmpty();_.ensureState(R).ignore=N&&D;var O=g.getModel([R,"lineStyle"]).getLineStyle();m.ensureState(R).style=O;var U=z.getAreaStyle();_.ensureState(R).style=U;var F=g.getModel([R,"itemStyle"]).getItemStyle();S.eachChild(function(V){V.ensureState(R).style=Ee(F)})}),_.useStyle(Re(g.getModel("areaStyle").getAreaStyle(),{fill:M,opacity:.7,decal:T.decal}));var C=g.getModel("emphasis");S.eachChild(function(R){if(R instanceof da){var z=R.style;R.useStyle(Rt({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},T))}else R.useStyle(T),R.setColor(M),R.style.strokeNoScale=!0;var N=s.getStore().get(s.getDimensionIndex(R.__dimIdx),p);(N==null||isNaN(N))&&(N=""),ha(R,Zr(g),{labelFetcher:s.hostModel,labelDataIndex:p,labelDimIndex:R.__dimIdx,defaultText:N,inheritColor:M,defaultOpacity:T.opacity})}),Fi(h,C.get("focus"),C.get("blurScope"),C.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t})(si),e1t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new G_(ue(this.getData,this),ue(this.getRawData,this))},t.prototype.getInitialData=function(e,n){return F_(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,n,r){var a=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(e),u=l===""?this.name:l,c=oj(this,e);return zr("section",{header:u,sortBlocks:!0,blocks:kt(s,function(f){var h=a.get(a.mapDimension(f.dim),e);return zr("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:h,sortParam:h})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var n=this.getData(),r=this.coordinateSystem,a=n.getValues(kt(r.dimensions,function(u){return n.mapDimension(u)}),e),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var l=r.getIndicatorAxes();return r.coordToPoint(l[o].dataToCoord(a[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t})(di),Zx=lQ.value;function bw(i,t){return Re({show:t},i)}var n1t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),n=this.get("splitNumber"),r=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),h=this.get("triggerEvent"),p=kt(this.get("indicator")||[],function(g){g.max!=null&&g.max>0&&!g.min?g.min=0:g.min!=null&&g.min<0&&!g.max&&(g.max=0);var m=l;g.color!=null&&(m=Re({color:g.color},l));var _=en(Ee(g),{boundaryGap:e,splitNumber:n,scale:r,axisLine:a,axisTick:o,axisLabel:s,name:g.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:m,triggerEvent:h},!1);if(le(c)){var S=_.name;_.name=c.replace("{value}",S??"")}else Te(c)&&(_.name=c(_.name,_));var T=new yn(_,null,this.ecModel);return fr(T,H_.prototype),T.mainType="radar",T.componentIndex=this.componentIndex,T},this);this._indicatorModels=p},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:vt.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:en({lineStyle:{color:vt.color.neutral20}},Zx.axisLine),axisLabel:bw(Zx.axisLabel,!1),axisTick:bw(Zx.axisTick,!1),splitLine:bw(Zx.splitLine,!0),splitArea:bw(Zx.splitArea,!0),indicator:[]},t})(pn),i1t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){var a=this.group;a.removeAll(),this._buildAxes(e,r),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e,n){var r=e.coordinateSystem,a=r.getIndicatorAxes(),o=kt(a,function(s){var l=s.model.get("showName")?s.name:"",u=new Ko(s.model,n,{axisName:l,position:[r.cx,r.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});G(o,function(s){s.build(),this.group.add(s.group)},this)},t.prototype._buildSplitLineAndArea=function(e){var n=e.coordinateSystem,r=n.getIndicatorAxes();if(!r.length)return;var a=e.get("shape"),o=e.getModel("splitLine"),s=e.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),f=s.get("show"),h=l.get("color"),p=u.get("color"),g=Vt(h)?h:[h],m=Vt(p)?p:[p],_=[],S=[];function T(Z,H,j){var Y=j%H.length;return Z[Y]=Z[Y]||[],Y}if(a==="circle")for(var M=r[0].getTicksCoords(),w=n.cx,D=n.cy,C=0;C<M.length;C++){if(c){var R=T(_,g,C);_[R].push(new nf({shape:{cx:w,cy:D,r:M[C].coord}}))}if(f&&C<M.length-1){var R=T(S,m,C);S[R].push(new E_({shape:{cx:w,cy:D,r0:M[C].coord,r:M[C+1].coord}}))}}else for(var z,N=kt(r,function(Z,H){var j=Z.getTicksCoords();return z=z==null?j.length-1:Math.min(j.length-1,z),kt(j,function(Y){return n.coordToPoint(Y.coord,H)})}),O=[],C=0;C<=z;C++){for(var U=[],F=0;F<r.length;F++)U.push(N[F][C]);if(U[0]&&U.push(U[0].slice()),c){var R=T(_,g,C);_[R].push(new Ia({shape:{points:U}}))}if(f&&O){var R=T(S,m,C-1);S[R].push(new Qa({shape:{points:U.concat(O)}}))}O=U.slice().reverse()}var V=l.getLineStyle(),W=u.getAreaStyle();G(S,function(Z,H){this.group.add(Bs(Z,{style:Re({stroke:"none",fill:m[H%m.length]},W),silent:!0}))},this),G(_,function(Z,H){this.group.add(Bs(Z,{style:Re({fill:"none",stroke:g[H%g.length]},V),silent:!0}))},this)},t.type="radar",t})(Ti),r1t=(function(i){ht(t,i);function t(e,n,r){var a=i.call(this,e,n,r)||this;return a.type="value",a.angle=0,a.name="",a}return t})(Fl),a1t=(function(){function i(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=kt(t.getIndicatorModels(),function(r,a){var o="indicator_"+a,s=new r1t(o,new Mh);return s.name=r.get("name"),s.model=r,r.axis=s,this.dimensions.push(o),s},this),this.resize(t,n)}return i.prototype.getIndicatorAxes=function(){return this._indicatorAxes},i.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},i.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e],r=n.angle,a=this.cx+t*Math.cos(r),o=this.cy-t*Math.sin(r);return[a,o]},i.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=Math.sqrt(e*e+n*n);e/=r,n/=r;for(var a=Math.atan2(-n,e),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<o&&(s=c,l=u,o=f)}return[l,+(s&&s.coordToData(r))]},i.prototype.resize=function(t,e){var n=jr(t,e).refContainer,r=t.get("center"),a=Math.min(n.width,n.height)/2;this.cx=se(r[0],n.width)+n.x,this.cy=se(r[1],n.height)+n.y,this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");(le(o)||En(o))&&(o=[0,o]),this.r0=se(o[0],a),this.r=se(o[1],a),G(this._indicatorAxes,function(s,l){s.setExtent(this.r0,this.r);var u=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),s.angle=u},this)},i.prototype.update=function(t,e){var n=this._indicatorAxes,r=this._model;G(n,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==r)){var u=s.getData();G(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=r.get("splitNumber"),o=new Mh;o.setExtent(0,a),o.setInterval(1),G(n,function(s,l){_Q(s.scale,s.model,o)})},i.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},i.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},i.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},i.create=function(t,e){var n=[];return t.eachComponent("radar",function(r){var a=new i(r,t,e);n.push(a),r.coordinateSystem=a}),t.eachSeriesByType("radar",function(r){r.get("coordinateSystem")==="radar"&&(r.coordinateSystem=n[r.get("radarIndex")||0])}),n},i.dimensions=[],i})();function o1t(i){i.registerCoordinateSystem("radar",a1t),i.registerComponentModel(n1t),i.registerComponentView(i1t),i.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(n){e.setItemVisual(n,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}function s1t(i){an(o1t),i.registerChartView(t1t),i.registerSeriesModel(e1t),i.registerLayout(Jxt),i.registerProcessor(k_("radar")),i.registerPreprocessor($xt)}var bU=gn();function l1t(i,t,e){bU(i)[t]=e}function u1t(i,t,e){var n=bU(i),r=n[t];r===e&&(n[t]=null)}function d6(i,t){return!!bU(i)[t]}Uu({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ur);var c1t={axisPointer:1,tooltip:1,brush:1};function EQ(i,t,e){var n=t.getComponentByElement(i.topTarget);if(!n||n===e||c1t.hasOwnProperty(n.mainType))return!1;var r=n.coordinateSystem;if(!r||r.model===e)return!1;var a=Zg(n),o=Zg(e);return!((a.zlevel-o.zlevel||a.z-o.z)<=0)}var cm=(function(i){ht(t,i);function t(e){var n=i.call(this)||this;n._zr=e;var r=ue(n._mousedownHandler,n),a=ue(n._mousemoveHandler,n),o=ue(n._mouseupHandler,n),s=ue(n._mousewheelHandler,n),l=ue(n._pinchHandler,n);return n.enable=function(u,c){var f=c.zInfo,h=Zg(f.component),p=h.z,g=h.zlevel,m={component:f.component,z:p,zlevel:g,z2:_e(f.z2,-1/0)},_=Rt({},c.triggerInfo);this._opt=Re(Rt({},c),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:m,triggerInfo:_}),u==null&&(u=!0),(!this._enabled||this._controlType!==u)&&(this._enabled=!0,this.disable(),(u===!0||u==="move"||u==="pan")&&(Kx(e,"mousedown",r,m),Kx(e,"mousemove",a,m),Kx(e,"mouseup",o,m)),(u===!0||u==="scale"||u==="zoom")&&(Kx(e,"mousewheel",s,m),Kx(e,"pinch",l,m)))},n.disable=function(){this._enabled=!1,Qx(e,"mousedown",r),Qx(e,"mousemove",a),Qx(e,"mouseup",o),Qx(e,"mousewheel",s),Qx(e,"pinch",l)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype._checkPointer=function(e,n,r){var a=this._opt,o=a.zInfoParsed;if(EQ(e,a.api,o.component))return!1;var s=a.triggerInfo,l=s.roamTrigger,u=!1;return l==="global"&&(u=!0),u||(u=s.isInSelf(e,n,r)),u&&s.isInClip&&!s.isInClip(e,n,r)&&(u=!1),u},t.prototype._decideCursorStyle=function(e,n,r,a){var o=e.target;if(!o&&this._checkPointer(e,n,r))return"grab";if(a)return o&&o.cursor||"default"},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(OH(e)||jx(e))){for(var n=e.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var r=e.offsetX,a=e.offsetY;this._checkPointer(e,r,a)&&(this._x=r,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){var n=this._zr;if(!(e.gestureEvent==="pinch"||d6(n,"globalPan")||jx(e))){var r=e.offsetX,a=e.offsetY;if(!this._dragging||!fE("moveOnMouseMove",e,this._opt)){var o=this._decideCursorStyle(e,r,a,!1);o&&n.setCursorStyle(o);return}n.setCursorStyle("grabbing");var s=this._x,l=this._y,u=r-s,c=a-l;this._x=r,this._y=a,this._opt.preventDefaultMouseMove&&_h(e.event),e.__ecRoamConsumed=!0,p6(this,"pan","moveOnMouseMove",e,{dx:u,dy:c,oldX:s,oldY:l,newX:r,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){if(!jx(e)){var n=this._zr;if(!OH(e)){this._dragging=!1;var r=this._decideCursorStyle(e,e.offsetX,e.offsetY,!0);r&&n.setCursorStyle(r)}}},t.prototype._mousewheelHandler=function(e){if(!jx(e)){var n=fE("zoomOnMouseWheel",e,this._opt),r=fE("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,o=Math.abs(a),s=e.offsetX,l=e.offsetY;if(!(a===0||!n&&!r)){if(n){var u=o>3?1.4:o>1?1.2:1.1,c=a>0?u:1/u;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",e,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(r){var f=Math.abs(a),h=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:h,originX:s,originY:l,isAvailableBehavior:null})}}}},t.prototype._pinchHandler=function(e){if(!(d6(this._zr,"globalPan")||jx(e))){var n=e.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,e,{scale:n,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t.prototype._checkTriggerMoveZoom=function(e,n,r,a,o){e._checkPointer(a,o.originX,o.originY)&&(_h(a.event),a.__ecRoamConsumed=!0,p6(e,n,r,a,o))},t})(Hl);function jx(i){return i.__ecRoamConsumed}var f1t=gn();function ND(i){var t=f1t(i);return t.roam=t.roam||{},t.uniform=t.uniform||{},t}function Kx(i,t,e,n){for(var r=ND(i),a=r.roam,o=a[t]=a[t]||[],s=0;s<o.length;s++){var l=o[s].zInfoParsed;if((l.zlevel-n.zlevel||l.z-n.z||l.z2-n.z2)<=0)break}o.splice(s,0,{listener:e,zInfoParsed:n}),h1t(i,t)}function Qx(i,t,e){for(var n=ND(i),r=n.roam[t]||[],a=0;a<r.length;a++)if(r[a].listener===e){r.splice(a,1),r.length||d1t(i,t);return}}function h1t(i,t){var e=ND(i);e.uniform[t]||i.on(t,e.uniform[t]=function(n){var r=e.roam[t];if(r)for(var a=0;a<r.length;a++)r[a].listener(n)})}function d1t(i,t){var e=ND(i),n=e.uniform;n[t]&&(i.off(t,n[t]),n[t]=null)}function p6(i,t,e,n,r){r.isAvailableBehavior=ue(fE,null,e,n),i.trigger(t,r)}function fE(i,t,e){var n=e[i];return!i||n&&(!le(n)||t.event[n+"Key"])}function TU(i,t,e){var n=i.target;n.x+=t,n.y+=e,n.dirty()}function MU(i,t,e,n){var r=i.target,a=i.zoomLimit,o=i.zoom=i.zoom||1;o*=t,o=AU(o,a);var s=o/i.zoom;i.zoom=o,DQ(r,e,n,s),r.dirty()}function CQ(i,t,e,n,r,a){var o=new Oe(0,0,0,0);n.enable(i.get("roam"),{api:t,zInfo:{component:i},triggerInfo:{roamTrigger:i.get("roamTrigger"),isInSelf:function(u,c,f){return o.copy(e.getBoundingRect()),o.applyTransform(e.getComputedTransform()),o.contain(c,f)},isInClip:function(u,c,f){return!a||a.contain(c,f)}}}),r.zoomLimit=i.get("scaleLimit");var s=i.coordinateSystem;r.zoom=s?s.getZoom():1;var l=i.subType+"Roam";n.off("pan").off("zoom").on("pan",function(u){TU(r,u.dx,u.dy),t.dispatchAction({seriesId:i.id,type:l,dx:u.dx,dy:u.dy})}).on("zoom",function(u){MU(r,u.scale,u.originX,u.originY),t.dispatchAction({seriesId:i.id,type:l,zoom:u.scale,originX:u.originX,originY:u.originY}),t.updateLabelLayout()})}function v6(i,t){return i.pointToProjected?i.pointToProjected(t):i.pointToData(t)}function OD(i,t,e){var n=i.getZoom(),r=i.getCenter(),a=t.zoom,o=i.projectedToPoint?i.projectedToPoint(r):i.dataToPoint(r);return t.dx!=null&&t.dy!=null&&(o[0]-=t.dx,o[1]-=t.dy,i.setCenter(v6(i,o))),a!=null&&(a=AU(n*a,e)/n,DQ(i,t.originX,t.originY,a),i.updateTransform(),i.setCenter(v6(i,o)),i.setZoom(a*n)),{center:i.getCenter(),zoom:i.getZoom()}}function DQ(i,t,e,n){i.x-=(t-i.x)*(n-1),i.y-=(e-i.y)*(n-1),i.scaleX*=n,i.scaleY*=n}function AU(i,t){if(t){var e=t.min||0,n=t.max||1/0;i=Math.max(Math.min(n,i),e)}return i}function RQ(i){if(le(i)){var t=new DOMParser;i=t.parseFromString(i,"text/xml")}var e=i;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var rN,JC={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},g6=Tn(JC),$C={"alignment-baseline":"textBaseline","stop-color":"stopColor"},m6=Tn($C),p1t=(function(){function i(){this._defs={},this._root=null}return i.prototype.parse=function(t,e){e=e||{};var n=RQ(t);this._defsUsePending=[];var r=new Ce;this._root=r;var a=[],o=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||e.width),l=parseFloat(n.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),Is(n,r,null,!0,!1);for(var u=n.firstChild;u;)this._parseNode(u,r,a,null,!1,!1),u=u.nextSibling;m1t(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(o){var h=PD(o);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&s!=null&&l!=null&&(f=IQ(c,{x:0,y:0,width:s,height:l}),!e.ignoreViewBox)){var p=r;r=new Ce,r.add(p),p.scaleX=p.scaleY=f.scale,p.x=f.x,p.y=f.y}return!e.ignoreRootClip&&s!=null&&l!=null&&r.setClipPath(new cn({shape:{x:0,y:0,width:s,height:l}})),{root:r,width:s,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},i.prototype._parseNode=function(t,e,n,r,a,o){var s=t.nodeName.toLowerCase(),l,u=r;if(s==="defs"&&(a=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=e;else{if(!a){var c=rN[s];if(c&&ge(rN,s)){l=c.call(this,t,e);var f=t.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:s,el:l};n.push(h),s==="g"&&(u=h)}else r&&n.push({name:r.name,namedFrom:r,svgNodeTagLower:s,el:l});e.add(l)}}var p=y6[s];if(p&&ge(y6,s)){var g=p.call(this,t),m=t.getAttribute("id");m&&(this._defs[m]=g)}}if(l&&l.isGroup)for(var _=t.firstChild;_;)_.nodeType===1?this._parseNode(_,l,n,u,a,o):_.nodeType===3&&o&&this._parseText(_,l),_=_.nextSibling},i.prototype._parseText=function(t,e){var n=new n_({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});_l(e,n),Is(t,n,this._defsUsePending,!1,!1),v1t(n,e);var r=n.style,a=r.fontSize;a&&a<9&&(r.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var o=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=o;var s=n.getBoundingRect();return this._textX+=s.width,e.add(n),n},i.internalField=(function(){rN={g:function(t,e){var n=new Ce;return _l(e,n),Is(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new cn;return _l(e,n),Is(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new nf;return _l(e,n),Is(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new Mr;return _l(e,n),Is(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new rT;return _l(e,n),Is(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n=t.getAttribute("points"),r;n&&(r=x6(n));var a=new Qa({shape:{points:r||[]},silent:!0});return _l(e,a),Is(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var n=t.getAttribute("points"),r;n&&(r=x6(n));var a=new Ia({shape:{points:r||[]},silent:!0});return _l(e,a),Is(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var n=new da;return _l(e,n),Is(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",r=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(r)+parseFloat(o);var s=new Ce;return _l(e,s),Is(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var n=t.getAttribute("x"),r=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),r!=null&&(this._textY=parseFloat(r));var a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new Ce;return _l(e,s),Is(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),s},path:function(t,e){var n=t.getAttribute("d")||"",r=Zq(n);return _l(e,r),Is(t,r,this._defsUsePending,!1,!1),r.silent=!0,r}}})(),i})(),y6={lineargradient:function(i){var t=parseInt(i.getAttribute("x1")||"0",10),e=parseInt(i.getAttribute("y1")||"0",10),n=parseInt(i.getAttribute("x2")||"10",10),r=parseInt(i.getAttribute("y2")||"0",10),a=new rm(t,e,n,r);return _6(i,a),S6(i,a),a},radialgradient:function(i){var t=parseInt(i.getAttribute("cx")||"0",10),e=parseInt(i.getAttribute("cy")||"0",10),n=parseInt(i.getAttribute("r")||"0",10),r=new pB(t,e,n);return _6(i,r),S6(i,r),r}};function _6(i,t){var e=i.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(t.global=!0)}function S6(i,t){for(var e=i.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var n=e.getAttribute("offset"),r=void 0;n&&n.indexOf("%")>0?r=parseInt(n,10)/100:n?r=parseFloat(n):r=0;var a={};LQ(e,a,a);var o=a.stopColor||e.getAttribute("stop-color")||"#000000",s=a.stopOpacity||e.getAttribute("stop-opacity");if(s){var l=So(o),u=l&&l[3];u&&(l[3]*=uh(s),o=Ll(l,"rgba"))}t.colorStops.push({offset:r,color:o})}e=e.nextSibling}}function _l(i,t){i&&i.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Re(t.__inheritedStyle,i.__inheritedStyle))}function x6(i){for(var t=PD(i),e=[],n=0;n<t.length;n+=2){var r=parseFloat(t[n]),a=parseFloat(t[n+1]);e.push([r,a])}return e}function Is(i,t,e,n,r){var a=t,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};i.nodeType===1&&(S1t(i,t),LQ(i,o,s),n||x1t(i,o,s)),a.style=a.style||{},o.fill!=null&&(a.style.fill=b6(a,"fill",o.fill,e)),o.stroke!=null&&(a.style.stroke=b6(a,"stroke",o.stroke,e)),G(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(a.style[l]=parseFloat(o[l]))}),G(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(a.style[l]=o[l])}),r&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=kt(PD(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(a.invisible=!0),o.display==="none"&&(a.ignore=!0)}function v1t(i,t){var e=t.__selfStyle;if(e){var n=e.textBaseline,r=n;!n||n==="auto"||n==="baseline"?r="alphabetic":n==="before-edge"||n==="text-before-edge"?r="top":n==="after-edge"||n==="text-after-edge"?r="bottom":(n==="central"||n==="mathematical")&&(r="middle"),i.style.textBaseline=r}var a=t.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&(o==="middle"&&(s="center"),i.style.textAlign=s)}}var g1t=/^url\(\s*#(.*?)\)/;function b6(i,t,e,n){var r=e&&e.match(g1t);if(r){var a=ks(r[1]);n.push([i,t,a]);return}return e==="none"&&(e=null),e}function m1t(i,t){for(var e=0;e<t.length;e++){var n=t[e];n[0].style[n[1]]=i[n[2]]}}var y1t=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function PD(i){return i.match(y1t)||[]}var _1t=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,aN=Math.PI/180;function S1t(i,t){var e=i.getAttribute("transform");if(e){e=e.replace(/,/g," ");var n=[],r=null;e.replace(_1t,function(f,h,p){return n.push(h,p),""});for(var a=n.length-1;a>0;a-=2){var o=n[a],s=n[a-1],l=PD(o);switch(r=r||la(),s){case"translate":Iu(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":sD(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":wh(r,r,-parseFloat(l[0])*aN,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*aN);wu(r,[1,0,u,1,0,0],r);break;case"skewY":var c=Math.tan(parseFloat(l[0])*aN);wu(r,[1,c,0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5]);break}}t.setLocalTransform(r)}}var T6=/([^\s:;]+)\s*:\s*([^:;]+)/g;function LQ(i,t,e){var n=i.getAttribute("style");if(n){T6.lastIndex=0;for(var r;(r=T6.exec(n))!=null;){var a=r[1],o=ge(JC,a)?JC[a]:null;o&&(t[o]=r[2]);var s=ge($C,a)?$C[a]:null;s&&(e[s]=r[2])}}}function x1t(i,t,e){for(var n=0;n<g6.length;n++){var r=g6[n],a=i.getAttribute(r);a!=null&&(t[JC[r]]=a)}for(var n=0;n<m6.length;n++){var r=m6[n],a=i.getAttribute(r);a!=null&&(e[$C[r]]=a)}}function IQ(i,t){var e=t.width/i.width,n=t.height/i.height,r=Math.min(e,n);return{scale:r,x:-(i.x+i.width/2)*r+(t.x+t.width/2),y:-(i.y+i.height/2)*r+(t.y+t.height/2)}}function b1t(i,t){var e=new p1t;return e.parse(i,t)}var T1t=ye(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),M1t=(function(){function i(t,e){this.type="geoSVG",this._usedGraphicMap=ye(),this._freedGraphics=[],this._mapName=t,this._parsedXML=RQ(e)}return i.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=w1t(t.named),n=e.regions,r=e.regionsMap;this._regions=n,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},i.prototype._buildGraphic=function(t){var e,n;try{e=t&&b1t(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=e.root,ja(n!=null)}catch(_){throw new Error(`Invalid svg format
`+_.message)}var r=new Ce;r.add(n),r.isGeoSVGGraphicRoot=!0;var a=e.width,o=e.height,s=e.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,h=void 0;if(a!=null?(u=0,f=a):s&&(u=s.x,f=s.width),o!=null?(c=0,h=o):s&&(c=s.y,h=s.height),u==null||c==null){var p=n.getBoundingRect();u==null&&(u=p.x,f=p.width),c==null&&(c=p.y,h=p.height)}l=this._boundingRect=new Oe(u,c,f,h)}if(s){var g=IQ(s,l);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}r.setClipPath(new cn({shape:l.plain()}));var m=[];return G(e.named,function(_){T1t.get(_.svgNodeTagLower)!=null&&(m.push(_),A1t(_.el))}),{root:r,boundingRect:l,named:m}},i.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},i.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},i})();function A1t(i){i.silent=!1,i.isGroup&&i.traverse(function(t){t.silent=!1})}function w1t(i){var t=[],e=ye();return G(i,function(n){if(n.namedFrom==null){var r=new N0t(n.name,n.el);t.push(r),e.set(n.name,r)}}),{regions:t,regionsMap:e}}var o3=[126,25],M6="南海诸岛",rg=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Jv=0;Jv<rg.length;Jv++)for(var r0=0;r0<rg[Jv].length;r0++)rg[Jv][r0][0]/=10.5,rg[Jv][r0][1]/=-10.5/.75,rg[Jv][r0][0]+=o3[0],rg[Jv][r0][1]+=o3[1];function E1t(i,t){if(i==="china"){for(var e=0;e<t.length;e++)if(t[e].name===M6)return;t.push(new pK(M6,kt(rg,function(n){return{type:"polygon",exterior:n}}),o3))}}var C1t={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function D1t(i,t){if(i==="china"){var e=C1t[t.name];if(e){var n=t.getCenter();n[0]+=e[0]/10.5,n[1]+=-e[1]/(10.5/.75),t.setCenter(n)}}}var R1t=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function L1t(i,t){i==="china"&&t.name==="台湾"&&t.geometries.push({type:"polygon",exterior:R1t[0]})}var I1t="name",N1t=(function(){function i(t,e,n){this.type="geoJSON",this._parsedMap=ye(),this._mapName=t,this._specialAreas=n,this._geoJSON=P1t(e)}return i.prototype.load=function(t,e){e=e||I1t;var n=this._parsedMap.get(e);if(!n){var r=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:r,boundingRect:O1t(r)})}var a=ye(),o=[];return G(n.regions,function(s){var l=s.name;t&&ge(t,l)&&(s=s.cloneShallow(l=t[l])),o.push(s),a.set(l,s)}),{regions:o,boundingRect:n.boundingRect||new Oe(0,0,0,0),regionsMap:a}},i.prototype._parseToRegions=function(t){var e=this._mapName,n=this._geoJSON,r;try{r=n?GP(n,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return E1t(e,r),G(r,function(a){var o=a.name;D1t(e,a),L1t(e,a);var s=this._specialAreas&&this._specialAreas[o];s&&a.transformTo(s.left,s.top,s.width,s.height)},this),r},i.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},i})();function O1t(i){for(var t,e=0;e<i.length;e++){var n=i[e].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function P1t(i){return le(i)?typeof JSON<"u"&&JSON.parse?JSON.parse(i):new Function("return ("+i+");")():i}var Jx=ye();const Ah={registerMap:function(i,t,e){if(t.svg){var n=new M1t(i,t.svg);Jx.set(i,n)}else{var r=t.geoJson||t.geoJSON;r&&!t.features?e=t.specialAreas:r=t;var n=new N1t(i,r,e);Jx.set(i,n)}},getGeoResource:function(i){return Jx.get(i)},getMapForUser:function(i){var t=Jx.get(i);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(i,t,e){var n=Jx.get(i);if(n)return n.load(t,e)}};var wU=["rect","circle","line","ellipse","polygon","polyline","path"],z1t=ye(wU),B1t=ye(wU.concat(["g"])),U1t=ye(wU.concat(["g"])),NQ=gn();function Tw(i){var t=i.getItemStyle(),e=i.get("areaColor");return e!=null&&(t.fill=e),t}function A6(i){var t=i.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var OQ=(function(){function i(t){var e=this.group=new Ce,n=this._transformGroup=new Ce;e.add(n),this.uid=I_("ec_map_draw"),this._controller=new cm(t.getZr()),this._controllerHost={target:n},n.add(this._regionsGroup=new Ce),n.add(this._svgGroup=new Ce)}return i.prototype.draw=function(t,e,n,r,a){var o=t.mainType==="geo",s=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(M){!s&&M.getHostGeoModel()===t&&(s=M.getData())});var l=t.coordinateSystem,u=this._regionsGroup,c=this._transformGroup,f=l.getTransformInfo(),h=f.raw,p=f.roam,g=!u.childAt(0)||a,m=t.getShallow("clip",!0),_;m?(_=l.getViewRect().clone(),this.group.setClipPath(new cn({shape:_.clone()}))):this.group.removeClipPath(),g?(c.x=p.x,c.y=p.y,c.scaleX=p.scaleX,c.scaleY=p.scaleY,c.dirty()):Pn(c,p,t);var S=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,T={api:n,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:S,isGeo:o,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(T):l.resourceType==="geoSVG"&&this._buildSVG(T),this._updateController(t,_,e,n),this._updateMapSelectHandler(t,u,n,r)},i.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=ye(),n=ye(),r=this._regionsGroup,a=t.transformInfoRaw,o=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function c(p,g){return g&&(p=g(p)),p&&[p[0]*a.scaleX+a.x,p[1]*a.scaleY+a.y]}function f(p){for(var g=[],m=!u&&l&&l.project,_=0;_<p.length;++_){var S=c(p[_],m);S&&g.push(S)}return g}function h(p){return{shape:{points:f(p)}}}r.removeAll(),G(t.geo.regions,function(p){var g=p.name,m=e.get(g),_=n.get(g)||{},S=_.dataIdx,T=_.regionModel;if(!m){m=e.set(g,new Ce),r.add(m),S=s?s.indexOfName(g):null,T=t.isGeo?o.getRegionModel(g):s?s.getItemModel(S):null;var M=T.get("silent",!0);M!=null&&(m.silent=M),n.set(g,{dataIdx:S,regionModel:T})}var w=[],D=[];G(p.geometries,function(z){if(z.type==="polygon"){var N=[z.exterior].concat(z.interiors||[]);u&&(N=L6(N,u)),G(N,function(U){w.push(new Qa(h(U)))})}else{var O=z.points;u&&(O=L6(O,u,!0)),G(O,function(U){D.push(new Ia(h(U)))})}});var C=c(p.getCenter(),l&&l.project);function R(z,N){if(z.length){var O=new oT({culling:!0,segmentIgnoreThreshold:1,shape:{paths:z}});m.add(O),w6(t,O,S,T),E6(t,O,g,T,o,S,C),N&&(A6(O),G(O.states,A6))}}R(w),R(D,!0)}),e.each(function(p,g){var m=n.get(g),_=m.dataIdx,S=m.regionModel;C6(t,p,g,S,o,_),D6(t,p,g,S,o),R6(t,p,g,S,o)},this)},i.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var r=this._svgDispatcherMap=ye(),a=!1;G(this._svgGraphicRecord.named,function(o){var s=o.name,l=t.mapOrGeoModel,u=t.data,c=o.svgNodeTagLower,f=o.el,h=u?u.indexOfName(s):null,p=l.getRegionModel(s);z1t.get(c)!=null&&f instanceof zl&&w6(t,f,h,p),f instanceof zl&&(f.culling=!0);var g=p.get("silent",!0);if(g!=null&&(f.silent=g),f.z2EmphasisLift=0,!o.namedFrom&&(U1t.get(c)!=null&&E6(t,f,s,p,l,h,null),C6(t,f,s,p,l,h),D6(t,f,s,p,l),B1t.get(c)!=null)){var m=R6(t,f,s,p,l);m==="self"&&(a=!0);var _=r.get(s)||r.set(s,[]);_.push(f)}},this),this._enableBlurEntireSVG(a,t)},i.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),r=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Yg(a);var o=a.ensureState("blur").style||{};o.opacity==null&&r!=null&&(o.opacity=r),a.ensureState("emphasis")}})}},i.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},i.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var n=e.coordinateSystem;if(n.resourceType==="geoJSON"){var r=this._regionsGroupByName;if(r){var a=r.get(t);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},i.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},i.prototype._useSVG=function(t){var e=Ah.getGeoResource(t);if(e&&e.type==="geoSVG"){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},i.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=Ah.getGeoResource(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},i.prototype._updateController=function(t,e,n,r){var a=t.coordinateSystem,o=this._controller,s=this._controllerHost;s.zoomLimit=t.get("scaleLimit"),s.zoom=a.getZoom(),o.enable(t.get("roam")||!1,{api:r,zInfo:{component:t},triggerInfo:{roamTrigger:t.get("roamTrigger"),isInSelf:function(c,f,h){return a.containPoint([f,h])},isInClip:function(c,f,h){return!e||e.contain(f,h)}}});var l=t.mainType;function u(){var c={type:"geoRoam",componentType:l};return c[l+"Id"]=t.id,c}o.off("pan").on("pan",function(c){this._mouseDownFlag=!1,TU(s,c.dx,c.dy),r.dispatchAction(Rt(u(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,MU(s,c.scale,c.originX,c.originY),r.dispatchAction(Rt(u(),{totalZoom:s.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this)},i.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=NQ(e).ignore)})},i.prototype._updateMapSelectHandler=function(t,e,n,r){var a=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){a._mouseDownFlag=!0}),e.on("click",function(o){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},i})();function w6(i,t,e,n){var r=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),o=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=Tw(r),u=Tw(a),c=Tw(s),f=Tw(o),h=i.data;if(h){var p=h.getItemVisual(e,"style"),g=h.getItemVisual(e,"decal");i.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),g&&(l.decal=o_(g,i.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=f,Yg(t)}function E6(i,t,e,n,r,a,o){var s=i.data,l=i.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),a)),c=s&&s.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?e:a,h=void 0;(!s||a>=0)&&(h=r);var p=o?{normal:{align:"center",verticalAlign:"middle"}}:null;ha(t,Zr(n),{labelFetcher:h,labelDataIndex:f,defaultText:e},p);var g=t.getTextContent();if(g&&(NQ(g).ignore=g.ignore,t.textConfig&&o)){var m=t.getBoundingRect().clone();t.textConfig.layoutRect=m,t.textConfig.position=[(o[0]-m.x)/m.width*100+"%",(o[1]-m.y)/m.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function C6(i,t,e,n,r,a){i.data?i.data.setItemGraphicEl(a,t):Ue(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:e,region:n&&n.option||{}}}function D6(i,t,e,n,r){i.data||Ch({el:t,componentModel:r,itemName:e,itemTooltipOption:n.get("tooltip")})}function R6(i,t,e,n,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var a=n.getModel("emphasis"),o=a.get("focus");return Fi(t,o,a.get("blurScope"),a.get("disabled")),i.isGeo&&Rpt(t,r,e),o}function L6(i,t,e){var n=[],r;function a(){r=[]}function o(){r.length&&(n.push(r),r=[])}var s=t({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&r.push([l,u])},sphere:function(){}});return!e&&s.polygonStart(),G(i,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!e&&s.polygonEnd(),n}var V1t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===e.id){var s=this._mapDraw;s&&o.add(s.group)}else if(e.needsDrawMap){var s=this._mapDraw||new OQ(r);o.add(s.group),s.draw(e,n,r,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(e,n,r)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,n,r){var a=e.originalData,o=this.group;a.each(a.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,h=new nf({style:{fill:e.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:w_+1)});if(!f){var p=e.mainSeries.getData(),g=a.getName(l),m=p.indexOfName(g),_=a.getItemModel(l),S=_.getModel("label"),T=p.getItemGraphicEl(m);ha(h,Zr(_),{labelFetcher:{getFormattedLabel:function(M,w){return e.getFormattedLabel(m,w)}},defaultText:g}),h.disableLabelAnimation=!0,S.get("position")||h.setTextConfig({position:"bottom"}),T.onHoverStateChange=function(M){wC(h,M)}}o.add(h)}}})},t.type="map",t})(si),H1t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(n){if(n!=null){var r=this.getData().getName(n),a=this.coordinateSystem,o=a.getRegion(r);return o&&a.dataToPoint(o.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var n=F_(this,{coordDimensions:["value"],encodeDefaulter:Qe(BB,this)}),r=ye(),a=[],o=0,s=n.count();o<s;o++){var l=n.getName(o);r.set(l,o)}var u=Ah.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return G(u.regions,function(c){var f=c.name,h=r.get(f),p=c.properties&&c.properties.echartsStyle,g;h==null?(g={name:f},a.push(g)):g=n.getRawDataItem(h),p&&en(g,p)}),n.appendData(a),n},t.prototype.getHostGeoModel=function(){if(TZ(this).kind!==Nc.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var n=this.getData();return n.get(n.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var n=this.getData();return n.getItemModel(n.indexOfName(e))},t.prototype.formatTooltip=function(e,n,r){for(var a=this.getData(),o=this.getRawValue(e),s=a.getName(e),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(s),h=a.mapDimension("value");isNaN(l[c].originalData.get(h,f))||u.push(l[c].name)}return zr("section",{header:u.join(", "),noHeader:!u.length,blocks:[zr("nameValue",{name:s,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var n=e.icon||"roundRect",r=Ar(n,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return r.setStyle(e.itemStyle),r.style.stroke="none",n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill=vt.color.neutral00,r.style.lineWidth=2),r},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:vt.color.tertiary},itemStyle:{borderWidth:.5,borderColor:vt.color.border,areaColor:vt.color.background},emphasis:{label:{show:!0,color:vt.color.primary},itemStyle:{areaColor:vt.color.highlight}},select:{label:{show:!0,color:vt.color.primary},itemStyle:{color:vt.color.highlight}},nameProperty:"name"},t})(di);function k1t(i,t){var e={};return G(i,function(n){n.each(n.mapDimension("value"),function(r,a){var o="ec-"+n.getName(a);e[o]=e[o]||[],isNaN(r)||e[o].push(r)})}),i[0].map(i[0].mapDimension("value"),function(n,r){for(var a="ec-"+i[0].getName(r),o=0,s=1/0,l=-1/0,u=e[a].length,c=0;c<u;c++)s=Math.min(s,e[a][c]),l=Math.max(l,e[a][c]),o+=e[a][c];var f;return t==="min"?f=s:t==="max"?f=l:t==="average"?f=o/u:f=o,u===0?NaN:f})}function F1t(i){var t={};i.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),r=n?"o"+n.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)}),G(t,function(e,n){for(var r=k1t(kt(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(var a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=a===0&&!e[a].getHostGeoModel(),e[a].setData(r.cloneShallow()),e[a].mainSeries=e[0]})}function G1t(i){var t={};i.eachSeriesByType("map",function(e){var n=e.getMapType();if(!(e.getHostGeoModel()||t[n])){var r={};G(e.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&i.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),h=s.getRegion(f);if(!(!h||isNaN(u))){var p=r[f]||0,g=s.dataToPoint(h.getCenter());r[f]=p+1,l.setItemLayout(c,{point:g,offset:p})}})});var a=e.getData();a.each(function(o){var s=a.getName(o),l=a.getItemLayout(o)||{};l.showLabel=!r[s],a.setItemLayout(o,l)}),t[n]=!0}})}var I6=cr,fm=(function(i){ht(t,i);function t(e,n){var r=i.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new rh,r._rawTransformable=new rh,r.name=e,r._opt=n,r}return t.prototype.setBoundingRect=function(e,n,r,a){return this._rect=new Oe(e,n,r,a),this._updateCenterAndZoom(),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,n,r,a){this._transformTo(e,n,r,a),this._viewRect=new Oe(e,n,r,a)},t.prototype._transformTo=function(e,n,r,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new Oe(e,n,r,a));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(e){var n=this._opt;n&&n.api&&n.ecModel&&n.ecModel.getShallow("legacyViewCoordSysCenterBase")&&e&&(e=[se(e[0],n.api.getWidth()),se(e[1],n.api.getWidth())]),this._centerOption=Ee(e),this._updateCenterAndZoom()},t.prototype.setZoom=function(e){this._zoom=AU(e||1,this.zoomLimit),this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),n=e.x+e.width/2,r=e.y+e.height/2;return[n,r]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._centerOption,n=this._rect;e&&n&&(this._center=[se(e[0],n.width,n.x),se(e[1],n.height,n.y)]);var r=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,o=this.getDefaultCenter(),s=this.getCenter(),l=this.getZoom();s=cr([],s,r),o=cr([],o,r),a.originX=s[0],a.originY=s[1],a.x=o[0]-s[0],a.y=o[1]-s[1],a.scaleX=a.scaleY=l,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,n=this._rawTransformable;n.parent=e,e.updateTransform(),n.updateTransform(),eT(this.transform||(this.transform=[]),n.transform||la()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Pl(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,n=this._roamTransformable,r=new rh;return r.transform=n.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,n,r){var a=n?this._rawTransform:this.transform;return r=r||[],a?I6(r,e,a):go(r,e)},t.prototype.pointToData=function(e,n,r){r=r||[];var a=this.invTransform;return a?I6(r,e,a):(r[0]=e[0],r[1]=e[1],r)},t.prototype.convertToPixel=function(e,n,r){var a=N6(n);return a===this?a.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var a=N6(n);return a===this?a.pointToData(r):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t})(rh);function N6(i){var t=i.seriesModel;return t?t.coordinateSystem:null}var X1t={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},PQ=["lng","lat"],s3=(function(i){ht(t,i);function t(e,n,r){var a=i.call(this,e,{api:r.api,ecModel:r.ecModel})||this;a.dimensions=PQ,a.type="geo",a._nameCoordMap=ye(),a.map=n;var o=r.projection,s=Ah.load(n,r.nameMap,r.nameProperty),l=Ah.getGeoResource(n);a.resourceType=l?l.type:null;var u=a.regions=s.regions,c=X1t[l.type];a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o;var f;if(o)for(var h=0;h<u.length;h++){var p=u[h].getBoundingRect(o);f=f||p.clone(),f.union(p)}else f=s.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=o?1:_e(r.aspectScale,c.aspectScale),a._invertLongitute=o?!1:c.invertLongitute,a}return t.prototype._transformTo=function(e,n,r,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new Oe(e,n,r,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var n=this.regions,r=0;r<n.length;r++){var a=n[r];if(a.type==="geoJSON"&&a.contain(e))return n[r]}},t.prototype.addGeoCoord=function(e,n){this._nameCoordMap.set(e,n)},t.prototype.getGeoCoord=function(e){var n=this._regionsMap.get(e);return this._nameCoordMap.get(e)||n&&n.getCenter()},t.prototype.dataToPoint=function(e,n,r){if(le(e)&&(e=this.getGeoCoord(e)),e){var a=this.projection;return a&&(e=a.project(e)),e&&this.projectedToPoint(e,n,r)}},t.prototype.pointToData=function(e,n,r){var a=this.projection;return a&&(e=a.unproject(e)),e&&this.pointToProjected(e,r)},t.prototype.pointToProjected=function(e,n){return i.prototype.pointToData.call(this,e,0,n)},t.prototype.projectedToPoint=function(e,n,r){return i.prototype.dataToPoint.call(this,e,n,r)},t.prototype.convertToPixel=function(e,n,r){var a=O6(n);return a===this?a.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var a=O6(n);return a===this?a.pointToData(r):null},t})(fm);fr(s3,fm);function O6(i){var t=i.geoModel,e=i.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",$i).models[0]||{}).coordinateSystem:null}function P6(i,t){var e=i.get("boundingCoords");if(e!=null){var n=e[0],r=e[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])){var a=this.projection;if(a){var o=n[0],s=n[1],l=r[0],u=r[1];n=[1/0,1/0],r=[-1/0,-1/0];var c=function(D,C,R,z){for(var N=R-D,O=z-C,U=0;U<=100;U++){var F=U/100,V=a.project([D+N*F,C+O*F]);nh(n,n,V),ih(r,r,V)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(n[0],n[1],r[0]-n[0],r[1]-n[1])}}var f=this.getBoundingRect(),h=i.get("layoutCenter"),p=i.get("layoutSize"),g=jr(i,t).refContainer,m=f.width/f.height*this.aspectScale,_=!1,S,T;h&&p&&(S=[se(h[0],g.width)+g.x,se(h[1],g.height)+g.y],T=se(p,Math.min(g.width,g.height)),!isNaN(S[0])&&!isNaN(S[1])&&!isNaN(T)&&(_=!0));var M;if(_)M={},m>1?(M.width=T,M.height=T/m):(M.height=T,M.width=T*m),M.y=S[1]-M.height/2,M.x=S[0]-M.width/2;else{var w=i.getBoxLayoutParams();w.aspect=m,M=Bi(w,g),M=CZ(i,M,m)}this.setViewRect(M.x,M.y,M.width,M.height),this.setCenter(i.get("center")),this.setZoom(i.get("zoom"))}function W1t(i,t){G(t.get("geoCoord"),function(e,n){i.addGeoCoord(n,e)})}var Y1t=(function(){function i(){this.dimensions=PQ}return i.prototype.create=function(t,e){var n=[];function r(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,s){var l=o.get("map"),u=new s3(l+s,l,Rt({nameMap:o.get("nameMap"),api:e,ecModel:t},r(o)));u.zoomLimit=o.get("scaleLimit"),n.push(u),o.coordinateSystem=u,u.model=o,u.resize=P6,u.resize(o,e)}),t.eachSeries(function(o){uT({targetModel:o,coordSysType:"geo",coordSysProvider:function(){var s=o.subType==="map"?o.getHostGeoModel():o.getReferringComponents("geo",$i).models[0];return s&&s.coordinateSystem},allowNotFound:!0})});var a={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();a[s]=a[s]||[],a[s].push(o)}}),G(a,function(o,s){var l=kt(o,function(c){return c.get("nameMap")}),u=new s3(s,s,Rt({nameMap:rD(l),api:e,ecModel:t},r(o[0])));u.zoomLimit=Da.apply(null,kt(o,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=P6,u.resize(o[0],e),G(o,function(c){c.coordinateSystem=u,W1t(u,c)})}),n},i.prototype.getFilledRegions=function(t,e,n,r){for(var a=(t||[]).slice(),o=ye(),s=0;s<a.length;s++)o.set(a[s].name,a[s]);var l=Ah.load(e,n,r);return G(l.regions,function(u){var c=u.name,f=o.get(c),h=u.properties&&u.properties.echartsStyle;f||(f={name:c},a.push(f)),h&&en(f,h)}),a},i})(),zQ=new Y1t,q1t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r);var a=Ah.getGeoResource(e.map);if(a&&a.type==="geoJSON"){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color=e.defaultItemStyleColor||vt.color.backgroundTint)}Gg(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,n=this.option;n.regions=zQ.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var r={};this._optionModelMap=Ol(n.regions||[],function(a,o){var s=o.name;return s&&(a.set(s,new yn(o,e,e.ecModel)),o.selected&&(r[s]=!0)),a},ye()),n.selectedMap||(n.selectedMap=r)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new yn(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,n){var r=this.getRegionModel(e),a=n==="normal"?r.get(["label","formatter"]):r.get(["emphasis","label","formatter"]),o={name:e};if(Te(a))return o.status=n,a(o);if(le(a))return a.replace("{a}",e??"")},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var n=this.option,r=n.selectedMode;if(r){r!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[e]=!0}},t.prototype.unSelect=function(e){var n=this.option.selectedMap;n&&(n[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var n=this.option.selectedMap;return!!(n&&n[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:vt.color.tertiary},itemStyle:{borderWidth:.5,borderColor:vt.color.border},emphasis:{label:{show:!0,color:vt.color.primary},itemStyle:{color:vt.color.highlight}},select:{label:{show:!0,color:vt.color.primary},itemStyle:{color:vt.color.highlight}},regions:[]},t})(pn),Z1t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return t.prototype.init=function(e,n){this._api=n},t.prototype.render=function(e,n,r,a){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new OQ(r));var o=this._mapDraw;o.draw(e,n,r,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,n,r)},t.prototype._handleRegionClick=function(e){var n;bg(e.target,function(r){return(n=Ue(r).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(e,n,r){var a=this;this._mapDraw.group.traverse(function(o){var s=Ue(o).eventData;if(s)return a._model.isSelected(s.name)?r.enterSelect(o):r.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t})(Ti);function j1t(i,t,e){Ah.registerMap(i,t,e)}function BQ(i){i.registerCoordinateSystem("geo",zQ),i.registerComponentModel(q1t),i.registerComponentView(Z1t),i.registerImpl("registerMap",j1t),i.registerImpl("getMap",function(e){return Ah.getMapForUser(e)});function t(e,n){n.update="geo:updateSelectStatus",i.registerAction(n,function(r,a){var o={},s=[];return a.eachComponent({mainType:"geo",query:r},function(l){l[e](r.name);var u=l.coordinateSystem;G(u.regions,function(f){o[f.name]=l.isSelected(f.name)||!1});var c=[];G(o,function(f,h){o[h]&&c.push(h)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:r.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),i.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,n,r){var a=e.componentType;a||(e.geoId!=null?a="geo":e.seriesId!=null&&(a="series")),a||(a="series"),n.eachComponent({mainType:a,query:e},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=OD(s,e,o.get("scaleLimit"));o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),a==="series"&&G(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function K1t(i){an(BQ),i.registerChartView(V1t),i.registerSeriesModel(H1t),i.registerLayout(G1t),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,F1t),yj("map",i.registerAction)}function Q1t(i){var t=i;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[t],n,r;n=e.pop();)if(r=n.children,n.isExpand&&r.length)for(var a=r.length,o=a-1;o>=0;o--){var s=r[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},e.push(s)}}function J1t(i,t){var e=i.isExpand?i.children:[],n=i.parentNode.children,r=i.hierNode.i?n[i.hierNode.i-1]:null;if(e.length){tbt(i);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;r?(i.hierNode.prelim=r.hierNode.prelim+t(i,r),i.hierNode.modifier=i.hierNode.prelim-a):i.hierNode.prelim=a}else r&&(i.hierNode.prelim=r.hierNode.prelim+t(i,r));i.parentNode.hierNode.defaultAncestor=ebt(i,r,i.parentNode.hierNode.defaultAncestor||n[0],t)}function $1t(i){var t=i.hierNode.prelim+i.parentNode.hierNode.modifier;i.setLayout({x:t},!0),i.hierNode.modifier+=i.parentNode.hierNode.modifier}function z6(i){return arguments.length?i:rbt}function b1(i,t){return i-=Math.PI/2,{x:t*Math.cos(i),y:t*Math.sin(i)}}function tbt(i){for(var t=i.children,e=t.length,n=0,r=0;--e>=0;){var a=t[e];a.hierNode.prelim+=n,a.hierNode.modifier+=n,r+=a.hierNode.change,n+=a.hierNode.shift+r}}function ebt(i,t,e,n){if(t){for(var r=i,a=i,o=a.parentNode.children[0],s=t,l=r.hierNode.modifier,u=a.hierNode.modifier,c=o.hierNode.modifier,f=s.hierNode.modifier;s=oN(s),a=sN(a),s&&a;){r=oN(r),o=sN(o),r.hierNode.ancestor=i;var h=s.hierNode.prelim+f-a.hierNode.prelim-u+n(s,a);h>0&&(ibt(nbt(s,i,e),i,h),u+=h,l+=h),f+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=r.hierNode.modifier,c+=o.hierNode.modifier}s&&!oN(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=f-l),a&&!sN(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=u-c,e=i)}return e}function oN(i){var t=i.children;return t.length&&i.isExpand?t[t.length-1]:i.hierNode.thread}function sN(i){var t=i.children;return t.length&&i.isExpand?t[0]:i.hierNode.thread}function nbt(i,t,e){return i.hierNode.ancestor.parentNode===t.parentNode?i.hierNode.ancestor:e}function ibt(i,t,e){var n=e/(t.hierNode.i-i.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,i.hierNode.change+=n}function rbt(i,t){return i.parentNode===t.parentNode?1:2}var abt=(function(){function i(){this.parentPoint=[],this.childPoints=[]}return i})(),obt=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:vt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new abt},t.prototype.buildPath=function(e,n){var r=n.childPoints,a=r.length,o=n.parentPoint,s=r[0],l=r[a-1];if(a===1){e.moveTo(o[0],o[1]),e.lineTo(s[0],s[1]);return}var u=n.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,h=se(n.forkPosition,1),p=[];p[c]=o[c],p[f]=o[f]+(l[f]-o[f])*h,e.moveTo(o[0],o[1]),e.lineTo(p[0],p[1]),e.moveTo(s[0],s[1]),p[c]=s[c],e.lineTo(p[0],p[1]),p[c]=l[c],e.lineTo(p[0],p[1]),e.lineTo(l[0],l[1]);for(var g=1;g<a-1;g++){var m=r[g];e.moveTo(m[0],m[1]),p[c]=m[c],e.lineTo(p[0],p[1])}},t})(_n),sbt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new Ce,e}return t.prototype.init=function(e,n){this._controller=new cm(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,r){var a=e.getData(),o=e.layoutInfo,s=this._mainGroup,l=e.get("layout");l==="radial"?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(e,r),this._updateController(e,null,n,r);var u=this._data;a.diff(u).add(function(c){B6(a,c)&&U6(a,c,null,s,e)}).update(function(c,f){var h=u.getItemGraphicEl(f);if(!B6(a,c)){h&&H6(u,f,h,s,e);return}U6(a,c,h,s,e)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&H6(u,c,f,s,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:f})})}),this._data=a},t.prototype._updateViewCoordSys=function(e,n){var r=e.getData(),a=[];r.each(function(f){var h=r.getItemLayout(f);h&&!isNaN(h.x)&&!isNaN(h.y)&&a.push([+h.x,+h.y])});var o=[],s=[];vD(a,o,s);var l=this._min,u=this._max;s[0]-o[0]===0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var c=e.coordinateSystem=new fm(null,{api:n,ecModel:e.ecModel});c.zoomLimit=e.get("scaleLimit"),c.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),c.setCenter(e.get("center")),c.setZoom(e.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=o,this._max=s},t.prototype._updateController=function(e,n,r,a){var o=this;CQ(e,a,this.group,this._controller,this._controllerHost,n),this._controller.on("zoom",function(s){o._updateNodeAndLinkScale(e)})},t.prototype._updateNodeAndLinkScale=function(e){var n=e.getData(),r=this._getNodeGlobalScale(e);n.eachItemGraphicEl(function(a,o){a.setSymbolScale(r)})},t.prototype._getNodeGlobalScale=function(e){var n=e.coordinateSystem;if(n.type!=="view")return 1;var r=this._nodeScaleRatio,a=n.scaleX||1,o=n.getZoom(),s=(o-1)*r+1;return s/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t})(si);function B6(i,t){var e=i.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function U6(i,t,e,n,r){var a=!e,o=i.tree.getNodeByDataIndex(t),s=o.getModel(),l=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?l:vt.color.neutral00,c=i.tree.root,f=o.parentNode===c?o:o.parentNode||o,h=i.getItemGraphicEl(f.dataIndex),p=f.getLayout(),g=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:p,m=o.getLayout();a?(e=new hT(i,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.x=g.x,e.y=g.y):e.updateData(i,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=m.rawX,e.__radialRawY=m.rawY,n.add(e),i.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,Pn(e,{x:m.x,y:m.y},r);var _=e.getSymbolPath();if(r.get("layout")==="radial"){var S=c.children[0],T=S.getLayout(),M=S.children.length,w=void 0,D=void 0;if(m.x===T.x&&o.isExpand===!0&&S.children.length){var C={x:(S.children[0].getLayout().x+S.children[M-1].getLayout().x)/2,y:(S.children[0].getLayout().y+S.children[M-1].getLayout().y)/2};w=Math.atan2(C.y-T.y,C.x-T.x),w<0&&(w=Math.PI*2+w),D=C.x<T.x,D&&(w=w-Math.PI)}else w=Math.atan2(m.y-T.y,m.x-T.x),w<0&&(w=Math.PI*2+w),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(D=m.x<T.x,D&&(w=w-Math.PI)):(D=m.x>T.x,D||(w=w-Math.PI));var R=D?"left":"right",z=s.getModel("label"),N=z.get("rotate"),O=N*(Math.PI/180),U=_.getTextContent();U&&(_.setTextConfig({position:z.get("position")||R,rotation:N==null?-w:O,origin:"center"}),U.setStyle("verticalAlign","middle"))}var F=s.get(["emphasis","focus"]),V=F==="relative"?J0(o.getAncestorsIndices(),o.getDescendantIndices()):F==="ancestor"?o.getAncestorsIndices():F==="descendant"?o.getDescendantIndices():null;V&&(Ue(e).focus=V),lbt(r,o,c,e,g,p,m,n),e.__edge&&(e.onHoverStateChange=function(W){if(W!=="blur"){var Z=o.parentNode&&i.getItemGraphicEl(o.parentNode.dataIndex);Z&&Z.hoverState===iT||wC(e.__edge,W)}})}function lbt(i,t,e,n,r,a,o,s){var l=t.getModel(),u=i.get("edgeShape"),c=i.get("layout"),f=i.getOrient(),h=i.get(["lineStyle","curveness"]),p=i.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),m=n.__edge;if(u==="curve")t.parentNode&&t.parentNode!==e&&(m||(m=n.__edge=new C_({shape:l3(c,f,h,r,r)})),Pn(m,{shape:l3(c,f,h,a,o)},i));else if(u==="polyline"&&c==="orthogonal"&&t!==e&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var _=t.children,S=[],T=0;T<_.length;T++){var M=_[T].getLayout();S.push([M.x,M.y])}m||(m=n.__edge=new obt({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:f,forkPosition:p}})),Pn(m,{shape:{parentPoint:[o.x,o.y],childPoints:S}},i)}m&&!(u==="polyline"&&!t.isExpand)&&(m.useStyle(Re({strokeNoScale:!0,fill:null},g)),qr(m,l,"lineStyle"),Yg(m),s.add(m))}function V6(i,t,e,n,r){var a=t.tree.root,o=UQ(a,i),s=o.source,l=o.sourceLayout,u=t.getItemGraphicEl(i.dataIndex);if(u){var c=t.getItemGraphicEl(s.dataIndex),f=c.__edge,h=u.__edge||(s.isExpand===!1||s.children.length===1?f:void 0),p=n.get("edgeShape"),g=n.get("layout"),m=n.get("orient"),_=n.get(["lineStyle","curveness"]);h&&(p==="curve"?sp(h,{shape:l3(g,m,_,l,l),style:{opacity:0}},n,{cb:function(){e.remove(h)},removeOpt:r}):p==="polyline"&&n.get("layout")==="orthogonal"&&sp(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){e.remove(h)},removeOpt:r}))}}function UQ(i,t){for(var e=t.parentNode===i?t:t.parentNode||t,n;n=e.getLayout(),n==null;)e=e.parentNode===i?e:e.parentNode||e;return{source:e,sourceLayout:n}}function H6(i,t,e,n,r){var a=i.tree.getNodeByDataIndex(t),o=i.tree.root,s=UQ(o,a).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};sp(e,{x:s.x+1,y:s.y+1},r,{cb:function(){n.remove(e),i.setItemGraphicEl(t,null)},removeOpt:l}),e.fadeOut(null,i.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){V6(u,i,n,r,l)}),V6(a,i,n,r,l)}function l3(i,t,e,n,r){var a,o,s,l,u,c,f,h;if(i==="radial"){u=n.rawX,f=n.rawY,c=r.rawX,h=r.rawY;var p=b1(u,f),g=b1(u,f+(h-f)*e),m=b1(c,h+(f-h)*e),_=b1(c,h);return{x1:p.x||0,y1:p.y||0,x2:_.x||0,y2:_.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:m.x||0,cpy2:m.y||0}}else u=n.x,f=n.y,c=r.x,h=r.y,(t==="LR"||t==="RL")&&(a=u+(c-u)*e,o=f,s=c+(u-c)*e,l=h),(t==="TB"||t==="BT")&&(a=u,o=f+(h-f)*e,s=c,l=h+(f-h)*e);return{x1:u,y1:f,x2:c,y2:h,cpx1:a,cpy1:o,cpx2:s,cpy2:l}}var Il=gn();function VQ(i){var t=i.mainData,e=i.datas;e||(e={main:t},i.datasAttr={main:"data"}),i.datas=i.mainData=null,HQ(t,e,i),G(e,function(n){G(t.TRANSFERABLE_METHODS,function(r){n.wrapMethod(r,Qe(ubt,i))})}),t.wrapMethod("cloneShallow",Qe(fbt,i)),G(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,Qe(cbt,i))}),ja(e[t.dataType]===t)}function ubt(i,t){if(pbt(this)){var e=Rt({},Il(this).datas);e[this.dataType]=t,HQ(t,e,i)}else EU(t,this.dataType,Il(this).mainData,i);return t}function cbt(i,t){return i.struct&&i.struct.update(),t}function fbt(i,t){return G(Il(t).datas,function(e,n){e!==t&&EU(e.cloneShallow(),n,t,i)}),t}function hbt(i){var t=Il(this).mainData;return i==null||t==null?t:Il(t).datas[i]}function dbt(){var i=Il(this).mainData;return i==null?[{data:i}]:kt(Tn(Il(i).datas),function(t){return{type:t,data:Il(i).datas[t]}})}function pbt(i){return Il(i).mainData===i}function HQ(i,t,e){Il(i).datas={},G(t,function(n,r){EU(n,r,i,e)})}function EU(i,t,e,n){Il(e).datas[t]=i,Il(i).mainData=e,i.dataType=t,n.struct&&(i[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=i),i.getLinkedData=hbt,i.getLinkedDataAll=dbt}var vbt=(function(){function i(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return i.prototype.isRemoved=function(){return this.dataIndex<0},i.prototype.eachNode=function(t,e,n){Te(t)&&(n=e,e=t,t=null),t=t||{},le(t)&&(t={order:t});var r=t.order||"preorder",a=this[t.attr||"children"],o;r==="preorder"&&(o=e.call(n,this));for(var s=0;!o&&s<a.length;s++)a[s].eachNode(t,e,n);r==="postorder"&&e.call(n,this)},i.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},i.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,r=n.length;e<r;e++){var a=n[e].getNodeById(t);if(a)return a}},i.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,r=n.length;e<r;e++){var a=n[e].contains(t);if(a)return a}},i.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},i.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},i.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},i.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},i.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},i.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},i.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},i.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},i.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},i.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},i.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},i.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},i.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},i.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},i.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},i})(),CU=(function(){function i(t){this.type="tree",this._nodes=[],this.hostModel=t}return i.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},i.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},i.prototype.getNodeById=function(t){return this.root.getNodeById(t)},i.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,r=e.length;n<r;n++)e[n].dataIndex=-1;for(var n=0,r=t.count();n<r;n++)e[t.getRawIndex(n)].dataIndex=n},i.prototype.clearLayouts=function(){this.data.clearItemLayouts()},i.createTree=function(t,e,n){var r=new i(e),a=[],o=1;s(t);function s(c,f){var h=c.value;o=Math.max(o,Vt(h)?h.length:1),a.push(c);var p=new vbt(Yr(c.name,""),r);f?gbt(p,f):r.root=p,r._nodes.push(p);var g=c.children;if(g)for(var m=0;m<g.length;m++)s(g[m],p)}r.root.updateDepthAndHeight(0);var l=U_(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new xo(l,e);return u.initData(a),n&&n(u),VQ({mainData:u,struct:r,structAttr:"tree"}),r.update(),r},i})();function gbt(i,t){var e=t.children;i.parentNode!==t&&(e.push(i),i.parentNode=t)}function Ib(i,t,e){if(i&&tn(t,i.type)>=0){var n=e.getData().tree.root,r=i.targetNode;if(le(r)&&(r=n.getNodeById(r)),r&&n.contains(r))return{node:r};var a=i.targetNodeId;if(a!=null&&(r=n.getNodeById(a)))return{node:r}}}function kQ(i){for(var t=[];i;)i=i.parentNode,i&&t.push(i);return t.reverse()}function DU(i,t){var e=kQ(i);return tn(e,t)>=0}function zD(i,t){for(var e=[];i;){var n=i.dataIndex;e.push({name:i.name,dataIndex:n,value:t.getRawValue(n)}),i=i.parentNode}return e.reverse(),e}var mbt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e){var n={name:e.name,children:e.data},r=e.leaves||{},a=new yn(r,this,this.ecModel),o=CU.createTree(n,this,s);function s(f){f.wrapMethod("getItemModel",function(h,p){var g=o.getNodeByDataIndex(p);return g&&g.children.length&&g.isExpand||(h.parentModel=a),h})}var l=0;o.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=e.expandAndCollapse,c=u&&e.initialTreeDepth>=0?e.initialTreeDepth:l;return o.root.eachNode("preorder",function(f){var h=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=h&&h.collapsed!=null?!h.collapsed:f.depth<=c}),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,n,r){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(e),l=s.getValue(),u=s.name;s&&s!==o;)u=s.parentNode.name+"."+u,s=s.parentNode;return zr("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=zD(r,this),n.collapsed=!r.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:vt.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t})(di);function ybt(i,t,e){for(var n=[i],r=[],a;a=n.pop();)if(r.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)n.push(o[s])}for(;a=r.pop();)t(a,e)}function $x(i,t){for(var e=[i],n;n=e.pop();)if(t(n),n.isExpand){var r=n.children;if(r.length)for(var a=r.length-1;a>=0;a--)e.push(r[a])}}function _bt(i,t){i.eachSeriesByType("tree",function(e){Sbt(e,t)})}function Sbt(i,t){var e=jr(i,t).refContainer,n=Bi(i.getBoxLayoutParams(),e);i.layoutInfo=n;var r=i.get("layout"),a=0,o=0,s=null;r==="radial"?(a=2*Math.PI,o=Math.min(n.height,n.width)/2,s=z6(function(w,D){return(w.parentNode===D.parentNode?1:2)/w.depth})):(a=n.width,o=n.height,s=z6());var l=i.getData().tree.root,u=l.children[0];if(u){Q1t(l),ybt(u,J1t,s),l.hierNode.modifier=-u.hierNode.prelim,$x(u,$1t);var c=u,f=u,h=u;$x(u,function(w){var D=w.getLayout().x;D<c.getLayout().x&&(c=w),D>f.getLayout().x&&(f=w),w.depth>h.depth&&(h=w)});var p=c===f?1:s(c,f)/2,g=p-c.getLayout().x,m=0,_=0,S=0,T=0;if(r==="radial")m=a/(f.getLayout().x+p+g),_=o/(h.depth-1||1),$x(u,function(w){S=(w.getLayout().x+g)*m,T=(w.depth-1)*_;var D=b1(S,T);w.setLayout({x:D.x,y:D.y,rawX:S,rawY:T},!0)});else{var M=i.getOrient();M==="RL"||M==="LR"?(_=o/(f.getLayout().x+p+g),m=a/(h.depth-1||1),$x(u,function(w){T=(w.getLayout().x+g)*_,S=M==="LR"?(w.depth-1)*m:a-(w.depth-1)*m,w.setLayout({x:S,y:T},!0)})):(M==="TB"||M==="BT")&&(m=a/(f.getLayout().x+p+g),_=o/(h.depth-1||1),$x(u,function(w){S=(w.getLayout().x+g)*m,T=M==="TB"?(w.depth-1)*_:o-(w.depth-1)*_,w.setLayout({x:S,y:T},!0)}))}}}function xbt(i){i.eachSeriesByType("tree",function(t){var e=t.getData(),n=e.tree;n.eachNode(function(r){var a=r.getModel(),o=a.getModel("itemStyle").getItemStyle(),s=e.ensureUniqueItemVisual(r.dataIndex,"style");Rt(s,o)})})}function bbt(i){i.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var r=t.dataIndex,a=n.getData().tree,o=a.getNodeByDataIndex(r);o.isExpand=!o.isExpand})}),i.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var a=r.coordinateSystem,o=OD(a,t,r.get("scaleLimit"));r.setCenter(o.center),r.setZoom(o.zoom)})})}function Tbt(i){i.registerChartView(sbt),i.registerSeriesModel(mbt),i.registerLayout(_bt),i.registerVisual(xbt),bbt(i)}var k6=["treemapZoomToNode","treemapRender","treemapMove"];function Mbt(i){for(var t=0;t<k6.length;t++)i.registerAction({type:k6[t],update:"updateView"},ur);i.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"treemap",query:e},r);function r(a,o){var s=["treemapZoomToNode","treemapRootToNode"],l=Ib(e,s,a);if(l){var u=a.getViewRoot();u&&(e.direction=DU(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function FQ(i){var t=i.getData(),e=t.tree,n={};e.eachNode(function(r){for(var a=r;a&&a.depth>1;)a=a.parentNode;var o=AP(i.ecModel,a.name||a.dataIndex+"",n);r.setVisual("decal",o)})}var Abt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,n){var r={name:e.name,children:e.data};GQ(r);var a=e.levels||[],o=this.designatedVisualItemStyle={},s=new yn({itemStyle:o},this,n);a=e.levels=wbt(a,n);var l=kt(a||[],function(f){return new yn(f,s,n)},this),u=CU.createTree(r,this,c);function c(f){f.wrapMethod("getItemModel",function(h,p){var g=u.getNodeByDataIndex(p),m=g?l[g.depth]:null;return h.parentModel=m||s,h})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,n,r){var a=this.getData(),o=this.getRawValue(e),s=a.getName(e);return zr("nameValue",{name:s,value:o})},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=zD(r,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},Rt(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var n=this._idIndexMap;n||(n=this._idIndexMap=ye(),this._idIndexMapCount=0);var r=n.get(e);return r==null&&n.set(e,r=this._idIndexMapCount++),r},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){FQ(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,coordinateSystemUsage:"box",left:vt.size.l,top:vt.size.xxxl,right:vt.size.l,bottom:vt.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:vt.size.m,emptyItemWidth:25,itemStyle:{color:vt.color.backgroundShade,textStyle:{color:vt.color.secondary}},emphasis:{itemStyle:{color:vt.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:vt.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:vt.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t})(di);function GQ(i){var t=0;G(i.children,function(n){GQ(n);var r=n.value;Vt(r)&&(r=r[0]),t+=r});var e=i.value;Vt(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Vt(i.value)?i.value[0]=e:i.value=e}function wbt(i,t){var e=bi(t.get("color")),n=bi(t.get(["aria","decal","decals"]));if(e){i=i||[];var r,a;G(i,function(s){var l=new yn(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(r=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var o=i[0]||(i[0]={});return r||(o.color=e.slice()),!a&&n&&(o.decal=n.slice()),i}}var Ebt=8,F6=8,lN=5,Cbt=(function(){function i(t){this.group=new Ce,t.add(this.group)}return i.prototype.render=function(t,e,n,r){var a=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!a.get("show")||!n)){var s=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f=jr(t,e).refContainer,h={left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},p={emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},g=Bi(h,f);this._prepare(n,p,u),this._renderContent(t,p,g,s,l,u,c,r),TD(o,h,f)}},i.prototype._prepare=function(t,e,n){for(var r=t;r;r=r.parentNode){var a=Yr(r.getModel().get("name"),""),o=n.getTextRect(a),s=Math.max(o.width+Ebt*2,e.emptyItemWidth);e.totalWidth+=s+F6,e.renderList.push({node:r,text:a,width:s})}},i.prototype._renderContent=function(t,e,n,r,a,o,s,l){for(var u=0,c=e.emptyItemWidth,f=t.get(["breadcrumb","height"]),h=e.totalWidth,p=e.renderList,g=a.getModel("itemStyle").getItemStyle(),m=p.length-1;m>=0;m--){var _=p[m],S=_.node,T=_.width,M=_.text;h>n.width&&(h-=T-c,T=c,M=null);var w=new Qa({shape:{points:Dbt(u,0,T,f,m===p.length-1,m===0)},style:Re(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new wn({style:Si(o,{text:M})}),textConfig:{position:"inside"},z2:w_*1e4,onclick:Qe(l,S)});w.disableLabelAnimation=!0,w.getTextContent().ensureState("emphasis").style=Si(s,{text:M}),w.ensureState("emphasis").style=g,Fi(w,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(w),Rbt(w,t,S),u+=T+F6}},i.prototype.remove=function(){this.group.removeAll()},i})();function Dbt(i,t,e,n,r,a){var o=[[r?i:i-lN,t],[i+e,t],[i+e,t+n],[r?i:i-lN,t+n]];return!a&&o.splice(2,0,[i+e+lN,t+n/2]),!r&&o.push([i,t+n/2]),o}function Rbt(i,t,e){Ue(i).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&zD(e,t)}}var Lbt=(function(){function i(){this._storage=[],this._elExistsMap={}}return i.prototype.add=function(t,e,n,r,a){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:r,easing:a}),!0)},i.prototype.finished=function(t){return this._finishedCallback=t,this},i.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},r=0,a=this._storage.length;r<a;r++){var o=this._storage[r];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},i})();function Ibt(){return new Lbt}var u3=Ce,G6=cn,X6=3,W6="label",Y6="upperLabel",Nbt=w_*10,Obt=w_*2,Pbt=w_*3,ag=Wg([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),q6=function(i){var t=ag(i);return t.stroke=t.fill=t.lineWidth=null,t},t2=gn(),zbt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=t1(),e}return t.prototype.render=function(e,n,r,a){var o=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(tn(o,e)<0)){this.seriesModel=e,this.api=r,this.ecModel=n;var s=["treemapZoomToNode","treemapRootToNode"],l=Ib(a,s,e),u=a&&a.type,c=e.layoutInfo,f=!this._oldTree,h=this._storage,p=u==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,g=this._giveContainerGroup(c),m=e.get("animation"),_=this._doRender(g,e,p);m&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(g,_,e,p):_.renderFinally(),this._resetController(r),this._renderBreadcrumb(e,r,l)}},t.prototype._giveContainerGroup=function(e){var n=this._containerGroup;return n||(n=this._containerGroup=new u3,this._initEvents(n),this.group.add(n)),n.x=e.x,n.y=e.y,n},t.prototype._doRender=function(e,n,r){var a=n.getData().tree,o=this._oldTree,s=t1(),l=t1(),u=this._storage,c=[];function f(T,M,w,D){return Bbt(n,l,u,r,s,c,T,M,w,D)}m(a.root?[a.root]:[],o&&o.root?[o.root]:[],e,a===o||!o,0);var h=_(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var p=this.seriesModel.layoutInfo,g=a.root.getLayout();g.width===p.width&&g.height===p.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:h,renderFinally:S};function m(T,M,w,D,C){D?(M=T,G(T,function(N,O){!N.isRemoved()&&z(O,O)})):new bh(M,T,R,R).add(z).update(z).remove(Qe(z,null)).execute();function R(N){return N.getId()}function z(N,O){var U=N!=null?T[N]:null,F=O!=null?M[O]:null,V=f(U,F,w,C);V&&m(U&&U.viewChildren||[],F&&F.viewChildren||[],V,D,C+1)}}function _(T){var M=t1();return T&&G(T,function(w,D){var C=M[D];G(w,function(R){R&&(C.push(R),t2(R).willDelete=!0)})}),M}function S(){G(h,function(T){G(T,function(M){M.parent&&M.parent.remove(M)})}),G(c,function(T){T.invisible=!0,T.dirty()})}},t.prototype._doAnimation=function(e,n,r,a){var o=r.get("animationDurationUpdate"),s=r.get("animationEasing"),l=(Te(o)?0:o)||0,u=(Te(s)?null:s)||"cubicOut",c=Ibt();G(n.willDeleteEls,function(f,h){G(f,function(p,g){if(!p.invisible){var m=p.parent,_,S=t2(m);if(a&&a.direction==="drillDown")_=m===a.rootNodeGroup?{shape:{x:0,y:0,width:S.nodeWidth,height:S.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var T=0,M=0;S.willDelete||(T=S.nodeWidth/2,M=S.nodeHeight/2),_=h==="nodeGroup"?{x:T,y:M,style:{opacity:0}}:{shape:{x:T,y:M,width:0,height:0},style:{opacity:0}}}_&&c.add(p,_,l,0,u)}})}),G(this._storage,function(f,h){G(f,function(p,g){var m=n.lastsForAnimation[h][g],_={};m&&(p instanceof Ce?m.oldX!=null&&(_.x=p.x,_.y=p.y,p.x=m.oldX,p.y=m.oldY):(m.oldShape&&(_.shape=Rt({},p.shape),p.setShape(m.oldShape)),m.fadein?(p.setStyle("opacity",0),_.style={opacity:1}):p.style.opacity!==1&&(_.style={opacity:1})),c.add(p,_,l,0,u))})},this),this._state="animating",c.finished(ue(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(e){var n=this,r=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var o=this.seriesModel;r||(r=this._controller=new cm(e.getZr()),r.on("pan",ue(this._onPan,this)),r.on("zoom",ue(this._onZoom,this))),r.enable(o.get("roam"),{api:e,zInfo:{component:o},triggerInfo:{roamTrigger:o.get("roamTrigger"),isInSelf:function(s,l,u){var c=n._containerGroup;return c?c.getBoundingRect().contain(l-c.x,u-c.y):!1}}}),a.zoomLimit=o.get("scaleLimit"),a.zoom=o.get("zoom")},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>X6||Math.abs(e.dy)>X6)){var n=this.seriesModel.getData().tree.root;if(!n)return;var r=n.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+e.dx,y:r.y+e.dy,width:r.width,height:r.height}})}},t.prototype._onZoom=function(e){var n=e.originX,r=e.originY,a=e.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new Oe(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var h=u.min||0,p=u.max||1/0;f=Math.max(Math.min(p,f),h)}var g=f/c.zoom;c.zoom=f;var m=this.seriesModel.layoutInfo;n-=m.x,r-=m.y;var _=la();Iu(_,_,[-n,-r]),sD(_,_,[g,g]),Iu(_,_,[n,r]),l.applyTransform(_),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(e){var n=this;e.on("click",function(r){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var o=n.findTarget(r.offsetX,r.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)n._rootToNode(o);else if(a==="zoomToNode")n._zoomToNode(o);else if(a==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&RC(u,c)}}}}},this)},t.prototype._renderBreadcrumb=function(e,n,r){var a=this;r||(r=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),r||(r={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Cbt(this.group))).render(e,n,r.node,function(o){a._state!=="animating"&&(DU(e.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=t1(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,n){var r,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(e,n),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)r={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),r},t.type="treemap",t})(si);function t1(){return{nodeGroup:[],background:[],content:[]}}function Bbt(i,t,e,n,r,a,o,s,l,u){if(!o)return;var c=o.getLayout(),f=i.getData(),h=o.getModel();if(f.setItemGraphicEl(o.dataIndex,null),!c||!c.isInView)return;var p=c.width,g=c.height,m=c.borderWidth,_=c.invisible,S=o.getRawIndex(),T=s&&s.getRawIndex(),M=o.viewChildren,w=c.upperHeight,D=M&&M.length,C=h.getModel("itemStyle"),R=h.getModel(["emphasis","itemStyle"]),z=h.getModel(["blur","itemStyle"]),N=h.getModel(["select","itemStyle"]),O=C.get("borderRadius")||0,U=Mt("nodeGroup",u3);if(!U)return;if(l.add(U),U.x=c.x||0,U.y=c.y||0,U.markRedraw(),t2(U).nodeWidth=p,t2(U).nodeHeight=g,c.isAboveViewRoot)return U;var F=Mt("background",G6,u,Obt);F&&nt(U,F,D&&c.upperLabelHeight);var V=h.getModel("emphasis"),W=V.get("focus"),Z=V.get("blurScope"),H=V.get("disabled"),j=W==="ancestor"?o.getAncestorsIndices():W==="descendant"?o.getDescendantIndices():W;if(D)mb(U)&&Sg(U,!1),F&&(Sg(F,!H),f.setItemGraphicEl(o.dataIndex,F),pP(F,j,Z));else{var Y=Mt("content",G6,u,Pbt);Y&&q(U,Y),F.disableMorphing=!0,F&&mb(F)&&Sg(F,!1),Sg(U,!H),f.setItemGraphicEl(o.dataIndex,U);var Q=h.getShallow("cursor");Q&&Y.attr("cursor",Q),pP(U,j,Z)}return U;function nt(Lt,Ct,Wt){var Xt=Ue(Ct);if(Xt.dataIndex=o.dataIndex,Xt.seriesIndex=i.seriesIndex,Ct.setShape({x:0,y:0,width:p,height:g,r:O}),_)$(Ct);else{Ct.invisible=!1;var ae=o.getVisual("style"),at=ae.stroke,wt=q6(C);wt.fill=at;var It=ag(R);It.fill=R.get("borderColor");var Nt=ag(z);Nt.fill=z.get("borderColor");var Bt=ag(N);if(Bt.fill=N.get("borderColor"),Wt){var oe=p-2*m;st(Ct,at,ae.opacity,{x:m,y:0,width:oe,height:w})}else Ct.removeTextContent();Ct.setStyle(wt),Ct.ensureState("emphasis").style=It,Ct.ensureState("blur").style=Nt,Ct.ensureState("select").style=Bt,Yg(Ct)}Lt.add(Ct)}function q(Lt,Ct){var Wt=Ue(Ct);Wt.dataIndex=o.dataIndex,Wt.seriesIndex=i.seriesIndex;var Xt=Math.max(p-2*m,0),ae=Math.max(g-2*m,0);if(Ct.culling=!0,Ct.setShape({x:m,y:m,width:Xt,height:ae,r:O}),_)$(Ct);else{Ct.invisible=!1;var at=o.getVisual("style"),wt=at.fill,It=q6(C);It.fill=wt,It.decal=at.decal;var Nt=ag(R),Bt=ag(z),oe=ag(N);st(Ct,wt,at.opacity,null),Ct.setStyle(It),Ct.ensureState("emphasis").style=Nt,Ct.ensureState("blur").style=Bt,Ct.ensureState("select").style=oe,Yg(Ct)}Lt.add(Ct)}function $(Lt){!Lt.invisible&&a.push(Lt)}function st(Lt,Ct,Wt,Xt){var ae=h.getModel(Xt?Y6:W6),at=Yr(h.get("name"),null),wt=ae.getShallow("show");ha(Lt,Zr(h,Xt?Y6:W6),{defaultText:wt?at:null,inheritColor:Ct,defaultOpacity:Wt,labelFetcher:i,labelDataIndex:o.dataIndex});var It=Lt.getTextContent();if(It){var Nt=It.style,Bt=Jb(Nt.padding||0);Xt&&(Lt.setTextConfig({layoutRect:Xt}),It.disableLabelLayout=!0),It.beforeUpdate=function(){var jt=Math.max((Xt?Xt.width:Lt.shape.width)-Bt[1]-Bt[3],0),ie=Math.max((Xt?Xt.height:Lt.shape.height)-Bt[0]-Bt[2],0);(Nt.width!==jt||Nt.height!==ie)&&It.setStyle({width:jt,height:ie})},Nt.truncateMinChar=2,Nt.lineOverflow="truncate",ft(Nt,Xt,c);var oe=It.getState("emphasis");ft(oe?oe.style:null,Xt,c)}}function ft(Lt,Ct,Wt){var Xt=Lt?Lt.text:null;if(!Ct&&Wt.isLeafRoot&&Xt!=null){var ae=i.get("drillDownIcon",!0);Lt.text=ae?ae+" "+Xt:Xt}}function Mt(Lt,Ct,Wt,Xt){var ae=T!=null&&e[Lt][T],at=r[Lt];return ae?(e[Lt][T]=null,dt(at,ae)):_||(ae=new Ct,ae instanceof zl&&(ae.z2=Ubt(Wt,Xt)),xt(at,ae)),t[Lt][S]=ae}function dt(Lt,Ct){var Wt=Lt[S]={};Ct instanceof u3?(Wt.oldX=Ct.x,Wt.oldY=Ct.y):Wt.oldShape=Rt({},Ct.shape)}function xt(Lt,Ct){var Wt=Lt[S]={},Xt=o.parentNode,ae=Ct instanceof Ce;if(Xt&&(!n||n.direction==="drillDown")){var at=0,wt=0,It=r.background[Xt.getRawIndex()];!n&&It&&It.oldShape&&(at=It.oldShape.width,wt=It.oldShape.height),ae?(Wt.oldX=0,Wt.oldY=wt):Wt.oldShape={x:at,y:wt,width:0,height:0}}Wt.fadein=!ae}}function Ubt(i,t){return i*Nbt+t}var Nb=G,Vbt=Le,e2=-1,ua=(function(){function i(t){var e=t.mappingMethod,n=t.type,r=this.option=Ee(t);this.type=n,this.mappingMethod=e,this._normalizeData=Fbt[e];var a=i.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],e==="piecewise"?(uN(r),Hbt(r)):e==="category"?r.categories?kbt(r):uN(r,!0):(ja(e!=="linear"||r.dataExtent),uN(r))}return i.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},i.prototype.getNormalizer=function(){return ue(this._normalizeData,this)},i.listVisualTypes=function(){return Tn(i.visualHandlers)},i.isValidType=function(t){return i.visualHandlers.hasOwnProperty(t)},i.eachVisual=function(t,e,n){Le(t)?G(t,e,n):e.call(n,t)},i.mapVisual=function(t,e,n){var r,a=Vt(t)?[]:Le(t)?{}:(r=!0,null);return i.eachVisual(t,function(o,s){var l=e.call(n,o,s);r?a=l:a[s]=l}),a},i.retrieveVisuals=function(t){var e={},n;return t&&Nb(i.visualHandlers,function(r,a){t.hasOwnProperty(a)&&(e[a]=t[a],n=!0)}),n?e:null},i.prepareVisualTypes=function(t){if(Vt(t))t=t.slice();else if(Vbt(t)){var e=[];Nb(t,function(n,r){e.push(r)}),t=e}else return[];return t.sort(function(n,r){return r==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},i.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},i.findPieceIndex=function(t,e,n){for(var r,a=1/0,o=0,s=e.length;o<s;o++){var l=e[o].value;if(l!=null){if(l===t||le(l)&&l===t+"")return o;n&&h(l,o)}}for(var o=0,s=e.length;o<s;o++){var u=e[o],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(Aw(f[1],t,c[1]))return o}else if(c[1]===1/0){if(Aw(f[0],c[0],t))return o}else if(Aw(f[0],c[0],t)&&Aw(f[1],t,c[1]))return o;n&&h(c[0],o),n&&h(c[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:r;function h(p,g){var m=Math.abs(p-t);m<a&&(a=m,r=g)}},i.visualHandlers={color:{applyVisual:e1("color"),getColorMapper:function(){var t=this.option;return ue(t.mappingMethod==="category"?function(e,n){return!n&&(e=this._normalizeData(e)),T1.call(this,e)}:function(e,n,r){var a=!!r;return!n&&(e=this._normalizeData(e)),r=H1(e,t.parsedVisual,r),a?r:Ll(r,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Ll(H1(t,this.option.parsedVisual),"rgba")},category:T1,piecewise:function(t,e){var n=f3.call(this,e);return n==null&&(n=Ll(H1(t,this.option.parsedVisual),"rgba")),n},fixed:og}},colorHue:Mw(function(t,e){return ch(t,e)}),colorSaturation:Mw(function(t,e){return ch(t,null,e)}),colorLightness:Mw(function(t,e){return ch(t,null,null,e)}),colorAlpha:Mw(function(t,e){return hb(t,e)}),decal:{applyVisual:e1("decal"),_normalizedToVisual:{linear:null,category:T1,piecewise:null,fixed:null}},opacity:{applyVisual:e1("opacity"),_normalizedToVisual:c3([0,1])},liftZ:{applyVisual:e1("liftZ"),_normalizedToVisual:{linear:og,category:og,piecewise:og,fixed:og}},symbol:{applyVisual:function(t,e,n){var r=this.mapValueToVisual(t);n("symbol",r)},_normalizedToVisual:{linear:Z6,category:T1,piecewise:function(t,e){var n=f3.call(this,e);return n==null&&(n=Z6.call(this,t)),n},fixed:og}},symbolSize:{applyVisual:e1("symbolSize"),_normalizedToVisual:c3([0,1])}},i})();function Hbt(i){var t=i.pieceList;i.hasSpecialVisual=!1,G(t,function(e,n){e.originIndex=n,e.visual!=null&&(i.hasSpecialVisual=!0)})}function kbt(i){var t=i.categories,e=i.categoryMap={},n=i.visual;if(Nb(t,function(o,s){e[o]=s}),!Vt(n)){var r=[];Le(n)?Nb(n,function(o,s){var l=e[s];r[l??e2]=o}):r[e2]=n,n=XQ(i,r)}for(var a=t.length-1;a>=0;a--)n[a]==null&&(delete e[t[a]],t.pop())}function uN(i,t){var e=i.visual,n=[];Le(e)?Nb(e,function(a){n.push(a)}):e!=null&&n.push(e);var r={color:1,symbol:1};!t&&n.length===1&&!r.hasOwnProperty(i.type)&&(n[1]=n[0]),XQ(i,n)}function Mw(i){return{applyVisual:function(t,e,n){var r=this.mapValueToVisual(t);n("color",i(e("color"),r))},_normalizedToVisual:c3([0,1])}}function Z6(i){var t=this.option.visual;return t[Math.round(Yn(i,[0,1],[0,t.length-1],!0))]||{}}function e1(i){return function(t,e,n){n(i,this.mapValueToVisual(t))}}function T1(i){var t=this.option.visual;return t[this.option.loop&&i!==e2?i%t.length:i]}function og(){return this.option.visual[0]}function c3(i){return{linear:function(t){return Yn(t,i,this.option.visual,!0)},category:T1,piecewise:function(t,e){var n=f3.call(this,e);return n==null&&(n=Yn(t,i,this.option.visual,!0)),n},fixed:og}}function f3(i){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var n=ua.findPieceIndex(i,e),r=e[n];if(r&&r.visual)return r.visual[this.type]}}function XQ(i,t){return i.visual=t,i.type==="color"&&(i.parsedVisual=kt(t,function(e){var n=So(e);return n||[0,0,0,1]})),t}var Fbt={linear:function(i){return Yn(i,this.option.dataExtent,[0,1],!0)},piecewise:function(i){var t=this.option.pieceList,e=ua.findPieceIndex(i,t,!0);if(e!=null)return Yn(e,[0,t.length-1],[0,1],!0)},category:function(i){var t=this.option.categories?this.option.categoryMap[i]:i;return t??e2},fixed:ur};function Aw(i,t,e){return i?t<=e:t<e}var Gbt="itemStyle",WQ=gn();const Xbt={seriesType:"treemap",reset:function(i){var t=i.getData().tree,e=t.root;e.isRemoved()||YQ(e,{},i.getViewRoot().getAncestors(),i)}};function YQ(i,t,e,n){var r=i.getModel(),a=i.getLayout(),o=i.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var s=r.getModel(Gbt),l=Wbt(s,t,n),u=o.ensureUniqueItemVisual(i.dataIndex,"style"),c=s.get("borderColor"),f=s.get("borderColorSaturation"),h;f!=null&&(h=j6(l),c=Ybt(f,h)),u.stroke=c;var p=i.viewChildren;if(!p||!p.length)h=j6(l),u.fill=h;else{var g=qbt(i,r,a,s,l,p);G(p,function(m,_){if(m.depth>=e.length||m===e[m.depth]){var S=Zbt(r,l,m,_,g,n);YQ(m,S,e,n)}})}}}function Wbt(i,t,e){var n=Rt({},t),r=e.designatedVisualItemStyle;return G(["color","colorAlpha","colorSaturation"],function(a){r[a]=t[a];var o=i.get(a);r[a]=null,o!=null&&(n[a]=o)}),n}function j6(i){var t=cN(i,"color");if(t){var e=cN(i,"colorAlpha"),n=cN(i,"colorSaturation");return n&&(t=ch(t,null,null,n)),e&&(t=hb(t,e)),t}}function Ybt(i,t){return t!=null?ch(t,null,null,i):null}function cN(i,t){var e=i[t];if(e!=null&&e!=="none")return e}function qbt(i,t,e,n,r,a){if(!(!a||!a.length)){var o=fN(t,"color")||r.color!=null&&r.color!=="none"&&(fN(t,"colorAlpha")||fN(t,"colorSaturation"));if(o){var s=t.get("visualMin"),l=t.get("visualMax"),u=e.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),f={type:o.name,dataExtent:u,visual:o.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var h=new ua(f);return WQ(h).drColorMappingBy=c,h}}}function fN(i,t){var e=i.get(t);return Vt(e)&&e.length?{name:t,range:e}:null}function Zbt(i,t,e,n,r,a){var o=Rt({},t);if(r){var s=r.type,l=s==="color"&&WQ(r).drColorMappingBy,u=l==="index"?n:l==="id"?a.mapIdToIndex(e.getId()):e.getValue(i.get("visualDimension"));o[s]=r.mapValueToVisual(u)}return o}var Ob=Math.max,n2=Math.min,K6=Da,RU=G,qQ=["itemStyle","borderWidth"],jbt=["itemStyle","gapWidth"],Kbt=["upperLabel","show"],Qbt=["upperLabel","height"];const Jbt={seriesType:"treemap",reset:function(i,t,e,n){var r=i.option,a=jr(i,e).refContainer,o=Bi(i.getBoxLayoutParams(),a),s=r.size||[],l=se(K6(o.width,s[0]),a.width),u=se(K6(o.height,s[1]),a.height),c=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],h=Ib(n,f,i),p=c==="treemapRender"||c==="treemapMove"?n.rootRect:null,g=i.getViewRoot(),m=kQ(g);if(c!=="treemapMove"){var _=c==="treemapZoomToNode"?rTt(i,h,g,l,u):p?[p.width,p.height]:[l,u],S=r.sort;S&&S!=="asc"&&S!=="desc"&&(S="desc");var T={squareRatio:r.squareRatio,sort:S,leafDepth:r.leafDepth};g.hostTree.clearLayouts();var M={x:0,y:0,width:_[0],height:_[1],area:_[0]*_[1]};g.setLayout(M),ZQ(g,T,!1,0),M=g.getLayout(),RU(m,function(D,C){var R=(m[C+1]||g).getValue();D.setLayout(Rt({dataExtent:[R,R],borderWidth:0,upperHeight:0},M))})}var w=i.getData().tree.root;w.setLayout(aTt(o,p,h),!0),i.setLayoutInfo(o),jQ(w,new Oe(-o.x,-o.y,e.getWidth(),e.getHeight()),m,g,0)}};function ZQ(i,t,e,n){var r,a;if(!i.isRemoved()){var o=i.getLayout();r=o.width,a=o.height;var s=i.getModel(),l=s.get(qQ),u=s.get(jbt)/2,c=KQ(s),f=Math.max(l,c),h=l-u,p=f-u;i.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),r=Ob(r-2*h,0),a=Ob(a-h-p,0);var g=r*a,m=$bt(i,s,g,t,e,n);if(m.length){var _={x:h,y:p,width:r,height:a},S=n2(r,a),T=1/0,M=[];M.area=0;for(var w=0,D=m.length;w<D;){var C=m[w];M.push(C),M.area+=C.getLayout().area;var R=iTt(M,S,t.squareRatio);R<=T?(w++,T=R):(M.area-=M.pop().getLayout().area,Q6(M,S,_,u,!1),S=n2(_.width,_.height),M.length=M.area=0,T=1/0)}if(M.length&&Q6(M,S,_,u,!0),!e){var z=s.get("childrenVisibleMin");z!=null&&g<z&&(e=!0)}for(var w=0,D=m.length;w<D;w++)ZQ(m[w],t,e,n+1)}}}function $bt(i,t,e,n,r,a){var o=i.children||[],s=n.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=n.leafDepth!=null&&n.leafDepth<=a;if(r&&!l)return i.viewChildren=[];o=Gn(o,function(p){return!p.isRemoved()}),eTt(o,s);var u=nTt(t,o,s);if(u.sum===0)return i.viewChildren=[];if(u.sum=tTt(t,e,u.sum,s,o),u.sum===0)return i.viewChildren=[];for(var c=0,f=o.length;c<f;c++){var h=o[c].getValue()/u.sum*e;o[c].setLayout({area:h})}return l&&(o.length&&i.setLayout({isLeafRoot:!0},!0),o.length=0),i.viewChildren=o,i.setLayout({dataExtent:u.dataExtent},!0),o}function tTt(i,t,e,n,r){if(!n)return e;for(var a=i.get("visibleMin"),o=r.length,s=o,l=o-1;l>=0;l--){var u=r[n==="asc"?o-l-1:l].getValue();u/e*t<a&&(s=l,e-=u)}return n==="asc"?r.splice(0,o-s):r.splice(s,o-s),e}function eTt(i,t){return t&&i.sort(function(e,n){var r=t==="asc"?e.getValue()-n.getValue():n.getValue()-e.getValue();return r===0?t==="asc"?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:r}),i}function nTt(i,t,e){for(var n=0,r=0,a=t.length;r<a;r++)n+=t[r].getValue();var o=i.get("visualDimension"),s;return!t||!t.length?s=[NaN,NaN]:o==="value"&&e?(s=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&s.reverse()):(s=[1/0,-1/0],RU(t,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:n,dataExtent:s}}function iTt(i,t,e){for(var n=0,r=1/0,a=0,o=void 0,s=i.length;a<s;a++)o=i[a].getLayout().area,o&&(o<r&&(r=o),o>n&&(n=o));var l=i.area*i.area,u=t*t*e;return l?Ob(u*n/l,l/(u*r)):1/0}function Q6(i,t,e,n,r){var a=t===e.width?0:1,o=1-a,s=["x","y"],l=["width","height"],u=e[s[a]],c=t?i.area/t:0;(r||c>e[l[o]])&&(c=e[l[o]]);for(var f=0,h=i.length;f<h;f++){var p=i[f],g={},m=c?p.getLayout().area/c:0,_=g[l[o]]=Ob(c-2*n,0),S=e[s[a]]+e[l[a]]-u,T=f===h-1||S<m?S:m,M=g[l[a]]=Ob(T-2*n,0);g[s[o]]=e[s[o]]+n2(n,_/2),g[s[a]]=u+n2(n,M/2),u+=T,p.setLayout(g,!0)}e[s[o]]+=c,e[l[o]]-=c}function rTt(i,t,e,n,r){var a=(t||{}).node,o=[n,r];if(!a||a===e)return o;for(var s,l=n*r,u=l*i.option.zoomToNodeRatio;s=a.parentNode;){for(var c=0,f=s.children,h=0,p=f.length;h<p;h++)c+=f[h].getValue();var g=a.getValue();if(g===0)return o;u*=c/g;var m=s.getModel(),_=m.get(qQ),S=Math.max(_,KQ(m));u+=4*_*_+(3*_+S)*Math.pow(u,.5),u>iP&&(u=iP),a=s}u<l&&(u=l);var T=Math.pow(u/l,.5);return[n*T,r*T]}function aTt(i,t,e){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!e)return n;var r=e.node,a=r.getLayout();if(!a)return n;for(var o=[a.width/2,a.height/2],s=r;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:i.width/2-o[0],y:i.height/2-o[1]}}function jQ(i,t,e,n,r){var a=i.getLayout(),o=e[r],s=o&&o===i;if(!(o&&!s||r===e.length&&i!==n)){i.setLayout({isInView:!0,invisible:!s&&!t.intersect(a),isAboveViewRoot:s},!0);var l=new Oe(t.x-a.x,t.y-a.y,t.width,t.height);RU(i.viewChildren||[],function(u){jQ(u,l,e,n,r+1)})}}function KQ(i){return i.get(Kbt)?i.get(Qbt):0}function oTt(i){i.registerSeriesModel(Abt),i.registerChartView(zbt),i.registerVisual(Xbt),i.registerLayout(Jbt),Mbt(i)}function sTt(i){var t=i.findComponents({mainType:"legend"});!t||!t.length||i.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),r=e.getGraph(),a=r.data,o=n.mapArray(n.getName);a.filterSelf(function(s){var l=a.getItemModel(s),u=l.getShallow("category");if(u!=null){En(u)&&(u=o[u]);for(var c=0;c<t.length;c++)if(!t[c].isSelected(u))return!1}return!0})})}function lTt(i){var t={};i.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),r=e.getData(),a={};n.each(function(o){var s=n.getName(o);a["ec-"+s]=o;var l=n.getItemModel(o),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(s,t)),n.setItemVisual(o,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var h=l.getShallow(c[f],!0);h!=null&&n.setItemVisual(o,c[f],h)}}),n.count()&&r.each(function(o){var s=r.getItemModel(o),l=s.getShallow("category");if(l!=null){le(l)&&(l=a["ec-"+l]);var u=n.getItemVisual(l,"style"),c=r.ensureUniqueItemVisual(o,"style");Rt(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],h=0;h<f.length;h++)r.setItemVisual(o,f[h],n.getItemVisual(l,f[h]))}})})}function ww(i){return i instanceof Array||(i=[i,i]),i}function uTt(i){i.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),r=ww(t.get("edgeSymbol")),a=ww(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(o){var s=n.getItemModel(o),l=e.getEdgeByIndex(o),u=ww(s.getShallow("symbol",!0)),c=ww(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),h=n.ensureUniqueItemVisual(o,"style");switch(Rt(h,f),h.stroke){case"source":{var p=l.node1.getVisual("style");h.stroke=p&&p.fill;break}case"target":{var p=l.node2.getVisual("style");h.stroke=p&&p.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var h3="-->",BD=function(i){return i.get("autoCurveness")||null},QQ=function(i,t){var e=BD(i),n=20,r=[];if(En(e))n=e;else if(Vt(e)){i.__curvenessList=e;return}t>n&&(n=t);var a=n%2?n+2:n+3;r=[];for(var o=0;o<a;o++)r.push((o%2?o+1:o)/10*(o%2?-1:1));i.__curvenessList=r},Pb=function(i,t,e){var n=[i.id,i.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[e.uid,n,r].join(h3)},JQ=function(i){var t=i.split(h3);return[t[0],t[2],t[1]].join(h3)},cTt=function(i,t){var e=Pb(i.node1,i.node2,t);return t.__edgeMap[e]},fTt=function(i,t){var e=d3(Pb(i.node1,i.node2,t),t),n=d3(Pb(i.node2,i.node1,t),t);return e+n},d3=function(i,t){var e=t.__edgeMap;return e[i]?e[i].length:0};function hTt(i){BD(i)&&(i.__curvenessList=[],i.__edgeMap={},QQ(i))}function dTt(i,t,e,n){if(BD(e)){var r=Pb(i,t,e),a=e.__edgeMap,o=a[JQ(r)];a[r]&&!o?a[r].isForward=!0:o&&a[r]&&(o.isForward=!0,a[r].isForward=!1),a[r]=a[r]||[],a[r].push(n)}}function LU(i,t,e,n){var r=BD(t),a=Vt(r);if(!r)return null;var o=cTt(i,t);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===e){s=l;break}var u=fTt(i,t);QQ(t,u),i.lineStyle=i.lineStyle||{};var c=Pb(i.node1,i.node2,t),f=t.__curvenessList,h=a||u%2?0:1;if(o.isForward)return f[h+s];var p=JQ(c),g=d3(p,t),m=f[s+g+h];return n?a?r&&r[0]===0?(g+h)%2?m:-m:((g%2?0:1)+h)%2?m:-m:(g+h)%2?m:-m:f[s+g+h]}function $Q(i){var t=i.coordinateSystem;if(!(t&&t.type!=="view")){var e=i.getGraph();e.eachNode(function(n){var r=n.getModel();n.setLayout([+r.get("x"),+r.get("y")])}),IU(e,i)}}function IU(i,t){i.eachEdge(function(e,n){var r=ms(e.getModel().get(["lineStyle","curveness"]),-LU(e,t,n,!0),0),a=Gc(e.node1.getLayout()),o=Gc(e.node2.getLayout()),s=[a,o];+r&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*r,(a[1]+o[1])/2-(o[0]-a[0])*r]),e.setLayout(s)})}function pTt(i,t){i.eachSeriesByType("graph",function(e){var n=e.get("layout"),r=e.coordinateSystem;if(r&&r.type!=="view"){var a=e.getData(),o=[];G(r.dimensions,function(h){o=o.concat(a.mapDimensionsAll(h))});for(var s=0;s<a.count();s++){for(var l=[],u=!1,c=0;c<o.length;c++){var f=a.get(o[c],s);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(s,r.dataToPoint(l)):a.setItemLayout(s,[NaN,NaN])}IU(a.graph,e)}else(!n||n==="none")&&$Q(e)})}function M1(i){var t=i.coordinateSystem;if(t.type!=="view")return 1;var e=i.option.nodeScaleRatio,n=t.scaleX,r=t.getZoom(),a=(r-1)*e+1;return a/n}function A1(i){var t=i.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var J6=Math.PI,hN=[];function NU(i,t,e,n){var r=i.coordinateSystem;if(!(r&&r.type!=="view")){var a=r.getBoundingRect(),o=i.getData(),s=o.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=o.count();if(o.setLayout({cx:l,cy:u}),!!f){if(e){var h=r.pointToData(n),p=h[0],g=h[1],m=[p-l,g-u];im(m,m),z1(m,m,c),e.setLayout([l+m[0],u+m[1]],!0);var _=i.get(["circular","rotateLabel"]);tJ(e,_,l,u)}vTt[t](i,s,o,c,l,u,f),s.eachEdge(function(S,T){var M=ms(S.getModel().get(["lineStyle","curveness"]),LU(S,i,T),0),w=Gc(S.node1.getLayout()),D=Gc(S.node2.getLayout()),C,R=(w[0]+D[0])/2,z=(w[1]+D[1])/2;+M&&(M*=3,C=[l*M+R*(1-M),u*M+z*(1-M)]),S.setLayout([w,D,C])})}}}var vTt={value:function(i,t,e,n,r,a,o){var s=0,l=e.getSum("value"),u=Math.PI*2/(l||o);t.eachNode(function(c){var f=c.getValue("value"),h=u*(l?f:1)/2;s+=h,c.setLayout([n*Math.cos(s)+r,n*Math.sin(s)+a]),s+=h})},symbolSize:function(i,t,e,n,r,a,o){var s=0;hN.length=o;var l=M1(i);t.eachNode(function(f){var h=A1(f);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var p=Math.asin(h/2/n);isNaN(p)&&(p=J6/2),hN[f.dataIndex]=p,s+=p*2});var u=(2*J6-s)/o/2,c=0;t.eachNode(function(f){var h=u+hN[f.dataIndex];c+=h,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([n*Math.cos(c)+r,n*Math.sin(c)+a]),c+=h})}};function tJ(i,t,e,n){var r=i.getGraphicEl();if(r){var a=i.getModel(),o=a.get(["label","rotate"])||0,s=r.getSymbolPath();if(t){var l=i.getLayout(),u=Math.atan2(l[1]-n,l[0]-e);u<0&&(u=Math.PI*2+u);var c=l[0]<e;c&&(u=u-Math.PI);var f=c?"left":"right";s.setTextConfig({rotation:-u,position:f,origin:"center"});var h=s.ensureState("emphasis");Rt(h.textConfig||(h.textConfig={}),{position:f})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function gTt(i){i.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&NU(t,"symbolSize")})}var a0=cC;function mTt(i,t,e){for(var n=i,r=t,a=e.rect,o=a.width,s=a.height,l=[a.x+o/2,a.y+s/2],u=e.gravity==null?.1:e.gravity,c=0;c<n.length;c++){var f=n[c];f.p||(f.p=gp(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),f.pp=Gc(f.p),f.edges=null}var h=e.friction==null?.6:e.friction,p=h,g,m;return{warmUp:function(){p=h*.8},setFixed:function(_){n[_].fixed=!0},setUnfixed:function(_){n[_].fixed=!1},beforeStep:function(_){g=_},afterStep:function(_){m=_},step:function(_){g&&g(n,r);for(var S=[],T=n.length,M=0;M<r.length;M++){var w=r[M];if(!w.ignoreForceLayout){var D=w.n1,C=w.n2;kd(S,C.p,D.p);var R=ub(S)-w.d,z=C.w/(D.w+C.w);isNaN(z)&&(z=0),im(S,S),!D.fixed&&a0(D.p,D.p,S,z*R*p),!C.fixed&&a0(C.p,C.p,S,-(1-z)*R*p)}}for(var M=0;M<T;M++){var N=n[M];N.fixed||(kd(S,l,N.p),a0(N.p,N.p,S,u*p))}for(var M=0;M<T;M++)for(var D=n[M],O=M+1;O<T;O++){var C=n[O];kd(S,C.p,D.p);var R=ub(S);R===0&&(oD(S,Math.random()-.5,Math.random()-.5),R=1);var U=(D.rep+C.rep)/R/R;!D.fixed&&a0(D.pp,D.pp,S,U),!C.fixed&&a0(C.pp,C.pp,S,-U)}for(var F=[],M=0;M<T;M++){var N=n[M];N.fixed||(kd(F,N.p,N.pp),a0(N.p,N.p,F,p),go(N.pp,N.p))}p=p*.992;var V=p<.01;m&&m(n,r,V),_&&_(V)}}}function yTt(i){i.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var n=t.preservedPoints||{},r=t.getGraph(),a=r.data,o=r.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?a.each(function(M){var w=a.getId(M);a.setItemLayout(M,n[w]||[NaN,NaN])}):!l||l==="none"?$Q(t):l==="circular"&&NU(t,"value");var u=a.getDataExtent("value"),c=o.getDataExtent("value"),f=s.get("repulsion"),h=s.get("edgeLength"),p=Vt(f)?f:[f,f],g=Vt(h)?h:[h,h];g=[g[1],g[0]];var m=a.mapArray("value",function(M,w){var D=a.getItemLayout(w),C=Yn(M,u,p);return isNaN(C)&&(C=(p[0]+p[1])/2),{w:C,rep:C,fixed:a.getItemModel(w).get("fixed"),p:!D||isNaN(D[0])||isNaN(D[1])?null:D}}),_=o.mapArray("value",function(M,w){var D=r.getEdgeByIndex(w),C=Yn(M,c,g);isNaN(C)&&(C=(g[0]+g[1])/2);var R=D.getModel(),z=ms(D.getModel().get(["lineStyle","curveness"]),-LU(D,t,w,!0),0);return{n1:m[D.node1.dataIndex],n2:m[D.node2.dataIndex],d:C,curveness:z,ignoreForceLayout:R.get("ignoreForceLayout")}}),S=e.getBoundingRect(),T=mTt(m,_,{rect:S,gravity:s.get("gravity"),friction:s.get("friction")});T.beforeStep(function(M,w){for(var D=0,C=M.length;D<C;D++)M[D].fixed&&go(M[D].p,r.getNodeByIndex(D).getLayout())}),T.afterStep(function(M,w,D){for(var C=0,R=M.length;C<R;C++)M[C].fixed||r.getNodeByIndex(C).setLayout(M[C].p),n[a.getId(C)]=M[C].p;for(var C=0,R=w.length;C<R;C++){var z=w[C],N=r.getEdgeByIndex(C),O=z.n1.p,U=z.n2.p,F=N.getLayout();F=F?F.slice():[],F[0]=F[0]||[],F[1]=F[1]||[],go(F[0],O),go(F[1],U),+z.curveness&&(F[2]=[(O[0]+U[0])/2-(O[1]-U[1])*z.curveness,(O[1]+U[1])/2-(U[0]-O[0])*z.curveness]),N.setLayout(F)}}),t.forceLayout=T,t.preservedPoints=n,T.step()}else t.forceLayout=null})}function _Tt(i,t,e){var n=jr(i,t),r=Rt(i.getBoxLayoutParams(),{aspect:e}),a=Bi(r,n.refContainer);return CZ(i,a,e)}function STt(i,t){var e=[];return i.eachSeriesByType("graph",function(n){uT({targetModel:n,coordSysType:"view",coordSysProvider:r,isDefaultDataCoordSys:!0});function r(){var a=n.getData(),o=a.mapArray(function(g){var m=a.getItemModel(g);return[+m.get("x"),+m.get("y")]}),s=[],l=[];vD(o,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=_Tt(n,t,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-s[0],h=l[1]-s[1],p=new fm(null,{api:t,ecModel:i});return p.zoomLimit=n.get("scaleLimit"),p.setBoundingRect(s[0],s[1],f,h),p.setViewRect(c.x,c.y,c.width,c.height),p.setCenter(n.get("center")),p.setZoom(n.get("zoom")),e.push(p),p}}),e}var $6=Mr.prototype,dN=C_.prototype,eJ=(function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return i})();(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t})(eJ);function pN(i){return isNaN(+i.cpx1)||isNaN(+i.cpy1)}var nJ=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:vt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new eJ},t.prototype.buildPath=function(e,n){pN(n)?$6.buildPath.call(this,e,n):dN.buildPath.call(this,e,n)},t.prototype.pointAt=function(e){return pN(this.shape)?$6.pointAt.call(this,e):dN.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var n=this.shape,r=pN(n)?[n.x2-n.x1,n.y2-n.y1]:dN.tangentAt.call(this,e);return im(r,r)},t})(_n),vN=["fromSymbol","toSymbol"];function t8(i){return"_"+i+"Type"}function e8(i,t,e){var n=t.getItemVisual(e,i);if(!n||n==="none")return n;var r=t.getItemVisual(e,i+"Size"),a=t.getItemVisual(e,i+"Rotate"),o=t.getItemVisual(e,i+"Offset"),s=t.getItemVisual(e,i+"KeepAspect"),l=B_(r),u=lm(o||0,l);return n+l+u+(a||"")+(s||"")}function n8(i,t,e){var n=t.getItemVisual(e,i);if(!(!n||n==="none")){var r=t.getItemVisual(e,i+"Size"),a=t.getItemVisual(e,i+"Rotate"),o=t.getItemVisual(e,i+"Offset"),s=t.getItemVisual(e,i+"KeepAspect"),l=B_(r),u=lm(o||0,l),c=Ar(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=i,c}}function xTt(i){var t=new nJ({name:"line",subPixelOptimize:!0});return p3(t.shape,i),t}function p3(i,t){i.x1=t[0][0],i.y1=t[0][1],i.x2=t[1][0],i.y2=t[1][1],i.percent=1;var e=t[2];e?(i.cpx1=e[0],i.cpy1=e[1]):(i.cpx1=NaN,i.cpy1=NaN)}var OU=(function(i){ht(t,i);function t(e,n,r){var a=i.call(this)||this;return a._createLine(e,n,r),a}return t.prototype._createLine=function(e,n,r){var a=e.hostModel,o=e.getItemLayout(n),s=e.getItemVisual(n,"z2"),l=xTt(o);l.shape.percent=0,Li(l,{z2:_e(s,0),shape:{percent:1}},a,n),this.add(l),G(vN,function(u){var c=n8(u,e,n);this.add(c),this[t8(u)]=e8(u,e,n)},this),this._updateCommonStl(e,n,r)},t.prototype.updateData=function(e,n,r){var a=e.hostModel,o=this.childOfName("line"),s=e.getItemLayout(n),l={shape:{}};p3(l.shape,s),Pn(o,l,a,n),G(vN,function(u){var c=e8(u,e,n),f=t8(u);if(this[f]!==c){this.remove(this.childOfName(u));var h=n8(u,e,n);this.add(h)}this[f]=c},this),this._updateCommonStl(e,n,r)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,n,r){var a=e.hostModel,o=this.childOfName("line"),s=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,u=r&&r.selectLineStyle,c=r&&r.labelStatesModels,f=r&&r.emphasisDisabled,h=r&&r.focus,p=r&&r.blurScope;if(!r||e.hasItemOption){var g=e.getItemModel(n),m=g.getModel("emphasis");s=m.getModel("lineStyle").getLineStyle(),l=g.getModel(["blur","lineStyle"]).getLineStyle(),u=g.getModel(["select","lineStyle"]).getLineStyle(),f=m.get("disabled"),h=m.get("focus"),p=m.get("blurScope"),c=Zr(g)}var _=e.getItemVisual(n,"style"),S=_.stroke;o.useStyle(_),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,G(vN,function(C){var R=this.childOfName(C);if(R){R.setColor(S),R.style.opacity=_.opacity;for(var z=0;z<Jo.length;z++){var N=Jo[z],O=o.getState(N);if(O){var U=O.style||{},F=R.ensureState(N),V=F.style||(F.style={});U.stroke!=null&&(V[R.__isEmptyBrush?"stroke":"fill"]=U.stroke),U.opacity!=null&&(V.opacity=U.opacity)}}R.markRedraw()}},this);var T=a.getRawValue(n);ha(this,c,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(C,R){return a.getFormattedLabel(C,R,e.dataType)}},inheritColor:S||vt.color.neutral99,defaultOpacity:_.opacity,defaultText:(T==null?e.getName(n):isFinite(T)?Tr(T):T)+""});var M=this.getTextContent();if(M){var w=c.normal;M.__align=M.style.align,M.__verticalAlign=M.style.verticalAlign,M.__position=w.get("position")||"middle";var D=w.get("distance");Vt(D)||(D=[D,D]),M.__labelDistance=D}this.setTextConfig({position:null,local:!0,inside:!1}),Fi(this,h,p,f)},t.prototype.highlight=function(){Sh(this)},t.prototype.downplay=function(){xh(this)},t.prototype.updateLayout=function(e,n){this.setLinePoints(e.getItemLayout(n))},t.prototype.setLinePoints=function(e){var n=this.childOfName("line");p3(n.shape,e),n.dirty()},t.prototype.beforeUpdate=function(){var e=this,n=e.childOfName("fromSymbol"),r=e.childOfName("toSymbol"),a=e.getTextContent();if(!n&&!r&&(!a||a.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=e.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),h=kd([],f,c);im(h,h);function p(O,U){var F=O.__specifiedRotation;if(F==null){var V=l.tangentAt(U);O.attr("rotation",(U===1?-1:1)*Math.PI/2-Math.atan2(V[1],V[0]))}else O.attr("rotation",F)}if(n&&(n.setPosition(c),p(n,0),n.scaleX=n.scaleY=o*u,n.markRedraw()),r&&(r.setPosition(f),p(r,1),r.scaleX=r.scaleY=o*u,r.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var g=void 0,m=void 0,_=a.__labelDistance,S=_[0]*o,T=_[1]*o,M=u/2,w=l.tangentAt(M),D=[w[1],-w[0]],C=l.pointAt(M);D[1]>0&&(D[0]=-D[0],D[1]=-D[1]);var R=w[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var z=-Math.atan2(w[1],w[0]);f[0]<c[0]&&(z=Math.PI+z),a.rotation=z}var N=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":N=-T,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":N=T,m="top";break;default:N=0,m="middle"}switch(a.__position){case"end":a.x=h[0]*S+f[0],a.y=h[1]*T+f[1],g=h[0]>.8?"left":h[0]<-.8?"right":"center",m=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":a.x=-h[0]*S+c[0],a.y=-h[1]*T+c[1],g=h[0]>.8?"right":h[0]<-.8?"left":"center",m=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=S*R+c[0],a.y=c[1]+N,g=w[0]<0?"right":"left",a.originX=-S*R,a.originY=-N;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=C[0],a.y=C[1]+N,g="center",a.originY=-N;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-S*R+f[0],a.y=f[1]+N,g=w[0]>=0?"right":"left",a.originX=S*R,a.originY=-N;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||m,align:a.__align||g})}},t})(Ce),PU=(function(){function i(t){this.group=new Ce,this._LineCtor=t||OU}return i.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,r=n.group,a=n._lineData;n._lineData=t,a||r.removeAll();var o=i8(t);t.diff(a).add(function(s){e._doAdd(t,s,o)}).update(function(s,l){e._doUpdate(a,t,l,s,o)}).remove(function(s){r.remove(a.getItemGraphicEl(s))}).execute()},i.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},i.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=i8(t),this._lineData=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function n(s){!s.isGroup&&!bTt(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var r=t.start;r<t.end;r++){var a=e.getItemLayout(r);if(gN(a)){var o=new this._LineCtor(e,r,this._seriesScope);o.traverse(n),this.group.add(o),e.setItemGraphicEl(r,o),this._progressiveEls.push(o)}}},i.prototype.remove=function(){this.group.removeAll()},i.prototype.eachRendered=function(t){mp(this._progressiveEls||this.group,t)},i.prototype._doAdd=function(t,e,n){var r=t.getItemLayout(e);if(gN(r)){var a=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,a),this.group.add(a)}},i.prototype._doUpdate=function(t,e,n,r,a){var o=t.getItemGraphicEl(n);if(!gN(e.getItemLayout(r))){this.group.remove(o);return}o?o.updateData(e,r,a):o=new this._LineCtor(e,r,a),e.setItemGraphicEl(r,o),this.group.add(o)},i})();function bTt(i){return i.animators&&i.animators.length>0}function i8(i){var t=i.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:Zr(t)}}function r8(i){return isNaN(i[0])||isNaN(i[1])}function gN(i){return i&&!r8(i[0])&&!r8(i[1])}var mN=[],yN=[],_N=[],o0=Ca,SN=jd,a8=Math.abs;function o8(i,t,e){for(var n=i[0],r=i[1],a=i[2],o=1/0,s,l=e*e,u=.1,c=.1;c<=.9;c+=.1){mN[0]=o0(n[0],r[0],a[0],c),mN[1]=o0(n[1],r[1],a[1],c);var f=a8(SN(mN,t)-l);f<o&&(o=f,s=c)}for(var h=0;h<32;h++){var p=s+u;yN[0]=o0(n[0],r[0],a[0],s),yN[1]=o0(n[1],r[1],a[1],s),_N[0]=o0(n[0],r[0],a[0],p),_N[1]=o0(n[1],r[1],a[1],p);var f=SN(yN,t)-l;if(a8(f)<.01)break;var g=SN(_N,t)-l;u/=2,f<0?g>=0?s=s+u:s=s-u:g>=0?s=s-u:s=s+u}return s}function xN(i,t){var e=[],n=cb,r=[[],[],[]],a=[[],[]],o=[];t/=2,i.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[Gc(u[0]),Gc(u[1])],u[2]&&u.__original.push(Gc(u[2])));var h=u.__original;if(u[2]!=null){if(go(r[0],h[0]),go(r[1],h[2]),go(r[2],h[1]),c&&c!=="none"){var p=A1(s.node1),g=o8(r,h[0],p*t);n(r[0][0],r[1][0],r[2][0],g,e),r[0][0]=e[3],r[1][0]=e[4],n(r[0][1],r[1][1],r[2][1],g,e),r[0][1]=e[3],r[1][1]=e[4]}if(f&&f!=="none"){var p=A1(s.node2),g=o8(r,h[1],p*t);n(r[0][0],r[1][0],r[2][0],g,e),r[1][0]=e[1],r[2][0]=e[2],n(r[0][1],r[1][1],r[2][1],g,e),r[1][1]=e[1],r[2][1]=e[2]}go(u[0],r[0]),go(u[1],r[2]),go(u[2],r[1])}else{if(go(a[0],h[0]),go(a[1],h[1]),kd(o,a[1],a[0]),im(o,o),c&&c!=="none"){var p=A1(s.node1);cC(a[0],a[0],o,p*t)}if(f&&f!=="none"){var p=A1(s.node2);cC(a[1],a[1],o,-p*t)}go(u[0],a[0]),go(u[1],a[1])}})}var iJ=gn();function TTt(i){if(i)return iJ(i).bridge}function s8(i,t){i&&(iJ(i).bridge=t)}function l8(i){return i.type==="view"}var MTt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){var r=new dT,a=new PU,o=this.group,s=new Ce;this._controller=new cm(n.getZr()),this._controllerHost={target:s},s.add(r.group),s.add(a.group),o.add(s),this._symbolDraw=r,this._lineDraw=a,this._mainGroup=s,this._firstRender=!0},t.prototype.render=function(e,n,r){var a=this,o=e.coordinateSystem,s=!1;this._model=e,this._api=r,this._active=!0;var l=this._getThumbnailInfo();l&&l.bridge.reset(r);var u=this._symbolDraw,c=this._lineDraw;if(l8(o)){var f={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?this._mainGroup.attr(f):Pn(this._mainGroup,f,e)}xN(e.getGraph(),M1(e));var h=e.getData();u.updateData(h);var p=e.getEdgeData();c.updateData(p),this._updateNodeAndLinkScale(),this._updateController(null,e,r),clearTimeout(this._layoutTimeout);var g=e.forceLayout,m=e.get(["force","layoutAnimation"]);g&&(s=!0,this._startForceLayoutIteration(g,r,m));var _=e.get("layout");h.graph.eachNode(function(w){var D=w.dataIndex,C=w.getGraphicEl(),R=w.getModel();if(C){C.off("drag").off("dragend");var z=R.get("draggable");z&&C.on("drag",function(O){switch(_){case"force":g.warmUp(),!a._layouting&&a._startForceLayoutIteration(g,r,m),g.setFixed(D),h.setItemLayout(D,[C.x,C.y]);break;case"circular":h.setItemLayout(D,[C.x,C.y]),w.setLayout({fixed:!0},!0),NU(e,"symbolSize",w,[O.offsetX,O.offsetY]),a.updateLayout(e);break;case"none":default:h.setItemLayout(D,[C.x,C.y]),IU(e.getGraph(),e),a.updateLayout(e);break}}).on("dragend",function(){g&&g.setUnfixed(D)}),C.setDraggable(z,!!R.get("cursor"));var N=R.get(["emphasis","focus"]);N==="adjacency"&&(Ue(C).focus=w.getAdjacentDataIndices())}}),h.graph.eachEdge(function(w){var D=w.getGraphicEl(),C=w.getModel().get(["emphasis","focus"]);D&&C==="adjacency"&&(Ue(D).focus={edge:[w.dataIndex],node:[w.node1.dataIndex,w.node2.dataIndex]})});var S=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),T=h.getLayout("cx"),M=h.getLayout("cy");h.graph.eachNode(function(w){tJ(w,S,T,M)}),this._firstRender=!1,s||this._renderThumbnail(e,r,this._symbolDraw,this._lineDraw)},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,n,r){var a=this,o=!1;(function s(){e.step(function(l){a.updateLayout(a._model),(l||!o)&&(o=!0,a._renderThumbnail(a._model,n,a._symbolDraw,a._lineDraw)),(a._layouting=!l)&&(r?a._layoutTimeout=setTimeout(s,16):s())})})()},t.prototype._updateController=function(e,n,r){var a=this._controller,o=this._controllerHost,s=n.coordinateSystem;if(!l8(s)){a.disable();return}a.enable(n.get("roam"),{api:r,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(l,u,c){return s.containPoint([u,c])},isInClip:function(l,u,c){return!e||e.contain(u,c)}}}),o.zoomLimit=n.get("scaleLimit"),o.zoom=s.getZoom(),a.off("pan").off("zoom").on("pan",function(l){r.dispatchAction({seriesId:n.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){r.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY})})},t.prototype.updateViewOnPan=function(e,n,r){this._active&&(TU(this._controllerHost,r.dx,r.dy),this._updateThumbnailWindow())},t.prototype.updateViewOnZoom=function(e,n,r){this._active&&(MU(this._controllerHost,r.zoom,r.originX,r.originY),this._updateNodeAndLinkScale(),xN(e.getGraph(),M1(e)),this._lineDraw.updateLayout(),n.updateLabelLayout(),this._updateThumbnailWindow())},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,n=e.getData(),r=M1(e);n.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(r)})},t.prototype.updateLayout=function(e){this._active&&(xN(e.getGraph(),M1(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},t.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},t.prototype._getThumbnailInfo=function(){var e=this._model,n=e.coordinateSystem;if(n.type==="view"){var r=TTt(e);if(r)return{bridge:r,coordSys:n}}},t.prototype._updateThumbnailWindow=function(){var e=this._getThumbnailInfo();e&&e.bridge.updateWindow(e.coordSys.transform,this._api)},t.prototype._renderThumbnail=function(e,n,r,a){var o=this._getThumbnailInfo();if(o){var s=new Ce,l=r.group.children(),u=a.group.children(),c=new Ce,f=new Ce;s.add(f),s.add(c);for(var h=0;h<l.length;h++){var p=l[h],g=p.children()[0],m=p.x,_=p.y,S=Ee(g.shape),T=Rt(S,{width:g.scaleX,height:g.scaleY,x:m-g.scaleX/2,y:_-g.scaleY/2}),M=Ee(g.style),w=new g.constructor({shape:T,style:M,z2:151});f.add(w)}for(var h=0;h<u.length;h++){var p=u[h],D=p.children()[0],M=Ee(D.style),T=Ee(D.shape),C=new nJ({style:M,shape:T,z2:151});c.add(C)}o.bridge.renderContent({api:n,roamType:e.get("roam"),viewportRect:null,group:s,targetTrans:o.coordSys.transform})}},t.type="graph",t})(si);function s0(i){return"_EC_"+i}var ATt=(function(){function i(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return i.prototype.isDirected=function(){return this._directed},i.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var n=this._nodesMap;if(!n[s0(t)]){var r=new sg(t,e);return r.hostGraph=this,this.nodes.push(r),n[s0(t)]=r,r}},i.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},i.prototype.getNodeById=function(t){return this._nodesMap[s0(t)]},i.prototype.addEdge=function(t,e,n){var r=this._nodesMap,a=this._edgesMap;if(En(t)&&(t=this.nodes[t]),En(e)&&(e=this.nodes[e]),t instanceof sg||(t=r[s0(t)]),e instanceof sg||(e=r[s0(e)]),!(!t||!e)){var o=t.id+"-"+e.id,s=new rJ(t,e,n);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),a[o]=s,s}},i.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},i.prototype.getEdge=function(t,e){t instanceof sg&&(t=t.id),e instanceof sg&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},i.prototype.eachNode=function(t,e){for(var n=this.nodes,r=n.length,a=0;a<r;a++)n[a].dataIndex>=0&&t.call(e,n[a],a)},i.prototype.eachEdge=function(t,e){for(var n=this.edges,r=n.length,a=0;a<r;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(e,n[a],a)},i.prototype.breadthFirstTraverse=function(t,e,n,r){if(e instanceof sg||(e=this._nodesMap[s0(e)]),!!e){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(r,e,null))for(var s=[e];s.length;)for(var l=s.shift(),u=l[a],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(t.call(r,f,l))return;s.push(f),f.__visited=!0}}}},i.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,a=0,o=n.length;a<o;a++)n[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)n[t.getRawIndex(a)].dataIndex=a;e.filterSelf(function(s){var l=r[e.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,o=r.length;a<o;a++)r[a].dataIndex=-1;for(var a=0,o=e.count();a<o;a++)r[e.getRawIndex(a)].dataIndex=a},i.prototype.clone=function(){for(var t=new i(this._directed),e=this.nodes,n=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(var r=0;r<n.length;r++){var a=n[r];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},i})(),sg=(function(){function i(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return i.prototype.degree=function(){return this.edges.length},i.prototype.inDegree=function(){return this.inEdges.length},i.prototype.outDegree=function(){return this.outEdges.length},i.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},i.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},i.prototype.getTrajectoryDataIndices=function(){for(var t=ye(),e=ye(),n=0,r=this.edges.length;n<r;n++){var a=this.edges[n];if(!(a.dataIndex<0)){t.set(a.dataIndex,!0);for(var o=[a.node1],s=[a.node2],l=0;l<o.length;){var u=o[l];l++,e.set(u.dataIndex,!0);for(var c=u.inEdges,f=0,h=c.length,p=void 0,g=void 0;f<h;f++)p=c[f],g=p.dataIndex,g>=0&&!t.hasKey(g)&&(t.set(g,!0),o.push(p.node1))}for(l=0;l<s.length;){var m=s[l];l++,e.set(m.dataIndex,!0);for(var _=m.outEdges,f=0,S=_.length,T=void 0,M=void 0;f<S;f++)T=_[f],M=T.dataIndex,M>=0&&!t.hasKey(M)&&(t.set(M,!0),s.push(T.node2))}}}return{edge:t.keys(),node:e.keys()}},i})(),rJ=(function(){function i(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=n??-1}return i.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},i.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},i.prototype.getTrajectoryDataIndices=function(){var t=ye(),e=ye();t.set(this.dataIndex,!0);for(var n=[this.node1],r=[this.node2],a=0;a<n.length;){var o=n[a];a++,e.set(o.dataIndex,!0);for(var s=o.inEdges,l=0,u=s.length,c=void 0,f=void 0;l<u;l++)c=o.inEdges[l],f=c.dataIndex,f>=0&&!t.hasKey(f)&&(t.set(f,!0),n.push(c.node1))}for(a=0;a<r.length;){var h=r[a];a++,e.set(h.dataIndex,!0);for(var p=h.outEdges,l=0,u=p.length,g=void 0,m=void 0;l<u;l++)g=h.outEdges[l],m=g.dataIndex,m>=0&&!t.hasKey(m)&&(t.set(m,!0),r.push(g.node2))}return{edge:t.keys(),node:e.keys()}},i})();function aJ(i,t){return{getValue:function(e){var n=this[i][t];return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,n){this.dataIndex>=0&&this[i][t].setItemVisual(this.dataIndex,e,n)},getVisual:function(e){return this[i][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,n){this.dataIndex>=0&&this[i][t].setItemLayout(this.dataIndex,e,n)},getLayout:function(){return this[i][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[i][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[i][t].getRawIndex(this.dataIndex)}}}fr(sg,aJ("hostGraph","data"));fr(rJ,aJ("hostGraph","edgeData"));function zU(i,t,e,n,r){for(var a=new ATt(n),o=0;o<i.length;o++)a.addNode(Da(i[o].id,i[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<t.length;o++){var c=t[o],f=c.source,h=c.target;a.addEdge(f,h,u)&&(l.push(c),s.push(Da(Yr(c.id,null),f+" > "+h)),u++)}var p=e.get("coordinateSystem"),g;if(p==="cartesian2d"||p==="polar"||p==="matrix")g=rf(i,e);else{var m=O_.get(p),_=m?m.dimensions||[]:[];tn(_,"value")<0&&_.concat(["value"]);var S=U_(i,{coordDimensions:_,encodeDefine:e.getEncode()}).dimensions;g=new xo(S,e),g.initData(i)}var T=new xo(["value"],e);return T.initData(l,s),r&&r(g,T),VQ({mainData:g,struct:a,structAttr:"graph",datas:{node:g,edge:T},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var wTt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){i.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new G_(r,r),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){i.prototype.mergeDefaultAndTheme.apply(this,arguments),Gg(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,n){var r=e.edges||e.links||[],a=e.data||e.nodes||[],o=this;if(a&&r){hTt(this);var s=zU(a,r,this,!0,l);return G(s.edges,function(u){dTt(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(g){var m=o._categoriesModels,_=g.getShallow("category"),S=m[_];return S&&(S.parentModel=g.parentModel,g.parentModel=S),g});var f=yn.prototype.getModel;function h(g,m){var _=f.call(this,g,m);return _.resolveParentPath=p,_}c.wrapMethod("getItemModel",function(g){return g.resolveParentPath=p,g.getModel=h,g});function p(g){if(g&&(g[0]==="label"||g[1]==="label")){var m=g.slice();return g[0]==="label"?m[0]="edgeLabel":g[1]==="label"&&(m[1]="edgeLabel"),m}return g}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,n,r){if(r==="edge"){var a=this.getData(),o=this.getDataParams(e,r),s=a.graph.getEdgeByIndex(e),l=a.getName(s.node1.dataIndex),u=a.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),zr("nameValue",{name:c.join(" > "),value:o.value,noValue:o.value==null})}var f=lj({series:this,dataIndex:e,multipleSeries:n});return f},t.prototype._updateCategoriesData=function(){var e=kt(this.option.categories||[],function(r){return r.value!=null?r:Rt({value:0},r)}),n=new xo(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(r){return n.getItemModel(r)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return i.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:vt.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:vt.color.primary}}},t})(di);function ETt(i){i.registerChartView(MTt),i.registerSeriesModel(wTt),i.registerProcessor(sTt),i.registerVisual(lTt),i.registerVisual(uTt),i.registerLayout(pTt),i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,gTt),i.registerLayout(yTt),i.registerCoordinateSystem("graphView",{dimensions:fm.dimensions,create:STt}),i.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},ur),i.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},ur),i.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",query:t},function(r){var a=n.getViewOfSeriesModel(r);a&&(t.dx!=null&&t.dy!=null&&a.updateViewOnPan(r,n,t),t.zoom!=null&&t.originX!=null&&t.originY!=null&&a.updateViewOnZoom(r,n,t));var o=r.coordinateSystem,s=OD(o,t,r.get("scaleLimit"));r.setCenter&&r.setCenter(s.center),r.setZoom&&r.setZoom(s.zoom)})})}var u8=(function(i){ht(t,i);function t(e,n,r){var a=i.call(this)||this;Ue(a).dataType="node",a.z2=2;var o=new wn;return a.setTextContent(o),a.updateData(e,n,r,!0),a}return t.prototype.updateData=function(e,n,r,a){var o=this,s=e.graph.getNodeByIndex(n),l=e.hostModel,u=s.getModel(),c=u.getModel("emphasis"),f=e.getItemLayout(n),h=Rt(Hc(u.getModel("itemStyle"),f,!0),f),p=this;if(isNaN(h.startAngle)){p.setShape(h);return}a?p.setShape(h):Pn(p,{shape:h},l,n);var g=Rt(Hc(u.getModel("itemStyle"),f,!0),f);o.setShape(g),o.useStyle(e.getItemVisual(n,"style")),qr(o,u),this._updateLabel(l,u,s),e.setItemGraphicEl(n,p),qr(p,u,"itemStyle");var m=c.get("focus");Fi(this,m==="adjacency"?s.getAdjacentDataIndices():m,c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(e,n,r){var a=this.getTextContent(),o=r.getLayout(),s=(o.startAngle+o.endAngle)/2,l=Math.cos(s),u=Math.sin(s),c=n.getModel("label");a.ignore=!c.get("show");var f=Zr(n),h=r.getVisual("style");ha(a,f,{labelFetcher:{getFormattedLabel:function(T,M,w,D,C,R){return e.getFormattedLabel(T,M,"node",D,ms(C,f.normal&&f.normal.get("formatter"),n.get("name")),R)}},labelDataIndex:r.dataIndex,defaultText:r.dataIndex+"",inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:"startArc"});var p=c.get("position")||"outside",g=c.get("distance")||0,m;p==="outside"?m=o.r+g:m=(o.r+o.r0)/2,this.textConfig={inside:p!=="outside"};var _=p!=="outside"?c.get("align")||"center":l>0?"left":"right",S=p!=="outside"?c.get("verticalAlign")||"middle":u>0?"top":"bottom";a.attr({x:l*m+o.cx,y:u*m+o.cy,rotation:0,style:{align:_,verticalAlign:S}})},t})(Ka),CTt=(function(i){ht(t,i);function t(e,n,r,a){var o=i.call(this)||this;return Ue(o).dataType="edge",o.updateData(e,n,r,a,!0),o}return t.prototype.buildPath=function(e,n){e.moveTo(n.s1[0],n.s1[1]);var r=.7,a=n.clockwise;e.arc(n.cx,n.cy,n.r,n.sStartAngle,n.sEndAngle,!a),e.bezierCurveTo((n.cx-n.s2[0])*r+n.s2[0],(n.cy-n.s2[1])*r+n.s2[1],(n.cx-n.t1[0])*r+n.t1[0],(n.cy-n.t1[1])*r+n.t1[1],n.t1[0],n.t1[1]),e.arc(n.cx,n.cy,n.r,n.tStartAngle,n.tEndAngle,!a),e.bezierCurveTo((n.cx-n.t2[0])*r+n.t2[0],(n.cy-n.t2[1])*r+n.t2[1],(n.cx-n.s1[0])*r+n.s1[0],(n.cy-n.s1[1])*r+n.s1[1],n.s1[0],n.s1[1]),e.closePath()},t.prototype.updateData=function(e,n,r,a,o){var s=e.hostModel,l=n.graph.getEdgeByIndex(r),u=l.getLayout(),c=l.node1.getModel(),f=n.getItemModel(l.dataIndex),h=f.getModel("lineStyle"),p=f.getModel("emphasis"),g=p.get("focus"),m=Rt(Hc(c.getModel("itemStyle"),u,!0),u),_=this;if(isNaN(m.sStartAngle)||isNaN(m.tStartAngle)){_.setShape(m);return}o?(_.setShape(m),c8(_,l,e,h)):(Bl(_),c8(_,l,e,h),Pn(_,{shape:m},s,r)),Fi(this,g==="adjacency"?l.getAdjacentDataIndices():g,p.get("blurScope"),p.get("disabled")),qr(_,f,"lineStyle"),n.setItemGraphicEl(l.dataIndex,_)},t})(_n);function c8(i,t,e,n){var r=t.node1,a=t.node2,o=i.style;i.setStyle(n.getLineStyle());var s=n.get("color");switch(s){case"source":o.fill=e.getItemVisual(r.dataIndex,"style").fill,o.decal=r.getVisual("style").decal;break;case"target":o.fill=e.getItemVisual(a.dataIndex,"style").fill,o.decal=a.getVisual("style").decal;break;case"gradient":var l=e.getItemVisual(r.dataIndex,"style").fill,u=e.getItemVisual(a.dataIndex,"style").fill;if(le(l)&&le(u)){var c=i.shape,f=(c.s1[0]+c.s2[0])/2,h=(c.s1[1]+c.s2[1])/2,p=(c.t1[0]+c.t2[0])/2,g=(c.t1[1]+c.t2[1])/2;o.fill=new rm(f,h,p,g,[{offset:0,color:l},{offset:1,color:u}],!0)}break}}var DTt=Math.PI/180,RTt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,r){var a=e.getData(),o=this._data,s=this.group,l=-e.get("startAngle")*DTt;if(a.diff(o).add(function(c){var f=a.getItemLayout(c);if(f){var h=new u8(a,c,l);Ue(h).dataIndex=c,s.add(h)}}).update(function(c,f){var h=o.getItemGraphicEl(f),p=a.getItemLayout(c);if(!p){h&&fh(h,e,f);return}h?h.updateData(a,c,l):h=new u8(a,c,l),s.add(h)}).remove(function(c){var f=o.getItemGraphicEl(c);f&&fh(f,e,c)}).execute(),!o){var u=e.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=se(u[0],r.getWidth()),this.group.originY=se(u[1],r.getHeight()),Li(this.group,{scaleX:1,scaleY:1},e)}this._data=a,this.renderEdges(e,l)},t.prototype.renderEdges=function(e,n){var r=e.getData(),a=e.getEdgeData(),o=this._edgeData,s=this.group;a.diff(o).add(function(l){var u=new CTt(r,a,l,n);Ue(u).dataIndex=l,s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(r,a,l,n),s.add(c)}).remove(function(l){var u=o.getItemGraphicEl(l);u&&fh(u,e,l)}).execute(),this._edgeData=a},t.prototype.dispose=function(){},t.type="chord",t})(si),LTt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this.legendVisualProvider=new G_(ue(this.getData,this),ue(this.getRawData,this))},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links)},t.prototype.getInitialData=function(e,n){var r=e.edges||e.links||[],a=e.data||e.nodes||[];if(a&&r){var o=zU(a,r,this,!0,s);return o.data}function s(l,u){var c=yn.prototype.getModel;function f(p,g){var m=c.call(this,p,g);return m.resolveParentPath=h,m}u.wrapMethod("getItemModel",function(p){return p.resolveParentPath=h,p.getModel=f,p});function h(p){if(p&&(p[0]==="label"||p[1]==="label")){var g=p.slice();return p[0]==="label"?g[0]="edgeLabel":p[1]==="label"&&(g[1]="edgeLabel"),g}return p}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,r){var a=this.getDataParams(e,r);if(r==="edge"){var o=this.getData(),s=o.graph.getEdgeByIndex(e),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),zr("nameValue",{name:c.join(" > "),value:a.value,noValue:a.value==null})}return zr("nameValue",{name:a.name,value:a.value,noValue:a.value==null})},t.prototype.getDataParams=function(e,n){var r=i.prototype.getDataParams.call(this,e,n);if(n==="node"){var a=this.getData(),o=this.getGraph().getNodeByIndex(e);if(r.name==null&&(r.name=a.getName(e)),r.value==null){var s=o.getLayout().value;r.value=s}}return r},t.type="series.chord",t.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},t})(di),bN=Math.PI/180;function ITt(i,t){i.eachSeriesByType("chord",function(e){NTt(e,t)})}function NTt(i,t){var e=i.getData(),n=e.graph,r=i.getEdgeData(),a=r.count();if(a){var o=EZ(i,t),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=Math.max((i.get("padAngle")||0)*bN,0),h=Math.max((i.get("minAngle")||0)*bN,0),p=-i.get("startAngle")*bN,g=p+Math.PI*2,m=i.get("clockwise"),_=m?1:-1,S=[p,g];gD(S,!m);var T=S[0],M=S[1],w=M-T,D=e.getSum("value")===0&&r.getSum("value")===0,C=[],R=0;n.eachEdge(function(Y){var Q=D?1:Y.getValue("value");D&&(Q>0||h)&&(R+=2);var nt=Y.node1.dataIndex,q=Y.node2.dataIndex;C[nt]=(C[nt]||0)+Q,C[q]=(C[q]||0)+Q});var z=0;if(n.eachNode(function(Y){var Q=Y.getValue("value");isNaN(Q)||(C[Y.dataIndex]=Math.max(Q,C[Y.dataIndex]||0)),!D&&(C[Y.dataIndex]>0||h)&&R++,z+=C[Y.dataIndex]||0}),!(R===0||z===0)){f*R>=Math.abs(w)&&(f=Math.max(0,(Math.abs(w)-h*R)/R)),(f+h)*R>=Math.abs(w)&&(h=(Math.abs(w)-f*R)/R);var N=(w-f*R*_)/z,O=0,U=0,F=0;n.eachNode(function(Y){var Q=C[Y.dataIndex]||0,nt=N*(z?Q:1)*_;Math.abs(nt)<h?O+=h-Math.abs(nt):(U+=Math.abs(nt)-h,F+=Math.abs(nt)),Y.setLayout({angle:nt,value:Q})});var V=!1;if(O>U){var W=O/U;n.eachNode(function(Y){var Q=Y.getLayout().angle;Math.abs(Q)>=h?Y.setLayout({angle:Q*W,ratio:W},!0):Y.setLayout({angle:h,ratio:h===0?1:Q/h},!0)})}else n.eachNode(function(Y){if(!V){var Q=Y.getLayout().angle,nt=Math.min(Q/F,1),q=nt*O;Q-q<h&&(V=!0)}});var Z=O;n.eachNode(function(Y){if(!(Z<=0)){var Q=Y.getLayout().angle;if(Q>h&&h>0){var nt=V?1:Math.min(Q/F,1),q=Q-h,$=Math.min(q,Math.min(Z,O*nt));Z-=$,Y.setLayout({angle:Q-$,ratio:(Q-$)/Q},!0)}else h>0&&Y.setLayout({angle:h,ratio:Q===0?1:h/Q},!0)}});var H=T,j=[];n.eachNode(function(Y){var Q=Math.max(Y.getLayout().angle,h);Y.setLayout({cx:s,cy:l,r0:c,r:u,startAngle:H,endAngle:H+Q*_,clockwise:m},!0),j[Y.dataIndex]=H,H+=(Q+f)*_}),n.eachEdge(function(Y){var Q=D?1:Y.getValue("value"),nt=N*(z?Q:1)*_,q=Y.node1.dataIndex,$=j[q]||0,st=Math.abs((Y.node1.getLayout().ratio||1)*nt),ft=$+st*_,Mt=[s+c*Math.cos($),l+c*Math.sin($)],dt=[s+c*Math.cos(ft),l+c*Math.sin(ft)],xt=Y.node2.dataIndex,Lt=j[xt]||0,Ct=Math.abs((Y.node2.getLayout().ratio||1)*nt),Wt=Lt+Ct*_,Xt=[s+c*Math.cos(Lt),l+c*Math.sin(Lt)],ae=[s+c*Math.cos(Wt),l+c*Math.sin(Wt)];Y.setLayout({s1:Mt,s2:dt,sStartAngle:$,sEndAngle:ft,t1:Xt,t2:ae,tStartAngle:Lt,tEndAngle:Wt,cx:s,cy:l,r:c,value:Q,clockwise:m}),j[q]=ft,j[xt]=Wt})}}}function OTt(i){i.registerChartView(RTt),i.registerSeriesModel(LTt),i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,ITt),i.registerProcessor(k_("chord"))}var PTt=(function(){function i(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return i})(),zTt=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n.type="pointer",n}return t.prototype.getDefaultShape=function(){return new PTt},t.prototype.buildPath=function(e,n){var r=Math.cos,a=Math.sin,o=n.r,s=n.width,l=n.angle,u=n.x-r(l)*s*(s>=o/3?1:2),c=n.y-a(l)*s*(s>=o/3?1:2);l=n.angle-Math.PI/2,e.moveTo(u,c),e.lineTo(n.x+r(l)*s,n.y+a(l)*s),e.lineTo(n.x+r(n.angle)*o,n.y+a(n.angle)*o),e.lineTo(n.x-r(l)*s,n.y-a(l)*s),e.lineTo(u,c)},t})(_n);function BTt(i,t){var e=i.get("center"),n=t.getWidth(),r=t.getHeight(),a=Math.min(n,r),o=se(e[0],t.getWidth()),s=se(e[1],t.getHeight()),l=se(i.get("radius"),a/2);return{cx:o,cy:s,r:l}}function Ew(i,t){var e=i==null?"":i+"";return t&&(le(t)?e=t.replace("{value}",e):Te(t)&&(e=t(i))),e}var UTt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]),o=BTt(e,r);this._renderMain(e,n,r,a,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,n,r,a,o){var s=this.group,l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,c=-e.get("endAngle")/180*Math.PI,f=e.getModel("axisLine"),h=f.get("roundCap"),p=h?jC:Ka,g=f.get("show"),m=f.getModel("lineStyle"),_=m.get("width"),S=[u,c];gD(S,!l),u=S[0],c=S[1];for(var T=c-u,M=u,w=[],D=0;g&&D<a.length;D++){var C=Math.min(Math.max(a[D][0],0),1);c=u+T*C;var R=new p({shape:{startAngle:M,endAngle:c,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-_,r:o.r},silent:!0});R.setStyle({fill:a[D][1]}),R.setStyle(m.getLineStyle(["color","width"])),w.push(R),M=c}w.reverse(),G(w,function(N){return s.add(N)});var z=function(N){if(N<=0)return a[0][1];var O;for(O=0;O<a.length;O++)if(a[O][0]>=N&&(O===0?0:a[O-1][0])<N)return a[O][1];return a[O-1][1]};this._renderTicks(e,n,r,z,o,u,c,l,_),this._renderTitleAndDetail(e,n,r,z,o),this._renderAnchor(e,o),this._renderPointer(e,n,r,z,o,u,c,l,_)},t.prototype._renderTicks=function(e,n,r,a,o,s,l,u,c){for(var f=this.group,h=o.cx,p=o.cy,g=o.r,m=+e.get("min"),_=+e.get("max"),S=e.getModel("splitLine"),T=e.getModel("axisTick"),M=e.getModel("axisLabel"),w=e.get("splitNumber"),D=T.get("splitNumber"),C=se(S.get("length"),g),R=se(T.get("length"),g),z=s,N=(l-s)/w,O=N/D,U=S.getModel("lineStyle").getLineStyle(),F=T.getModel("lineStyle").getLineStyle(),V=S.get("distance"),W,Z,H=0;H<=w;H++){if(W=Math.cos(z),Z=Math.sin(z),S.get("show")){var j=V?V+c:c,Y=new Mr({shape:{x1:W*(g-j)+h,y1:Z*(g-j)+p,x2:W*(g-C-j)+h,y2:Z*(g-C-j)+p},style:U,silent:!0});U.stroke==="auto"&&Y.setStyle({stroke:a(H/w)}),f.add(Y)}if(M.get("show")){var j=M.get("distance")+V,Q=Ew(Tr(H/w*(_-m)+m),M.get("formatter")),nt=a(H/w),q=W*(g-C-j)+h,$=Z*(g-C-j)+p,st=M.get("rotate"),ft=0;st==="radial"?(ft=-z+2*Math.PI,ft>Math.PI/2&&(ft+=Math.PI)):st==="tangential"?ft=-z-Math.PI/2:En(st)&&(ft=st*Math.PI/180),ft===0?f.add(new wn({style:Si(M,{text:Q,x:q,y:$,verticalAlign:Z<-.8?"top":Z>.8?"bottom":"middle",align:W<-.4?"left":W>.4?"right":"center"},{inheritColor:nt}),silent:!0})):f.add(new wn({style:Si(M,{text:Q,x:q,y:$,verticalAlign:"middle",align:"center"},{inheritColor:nt}),silent:!0,originX:q,originY:$,rotation:ft}))}if(T.get("show")&&H!==w){var j=T.get("distance");j=j?j+c:c;for(var Mt=0;Mt<=D;Mt++){W=Math.cos(z),Z=Math.sin(z);var dt=new Mr({shape:{x1:W*(g-j)+h,y1:Z*(g-j)+p,x2:W*(g-R-j)+h,y2:Z*(g-R-j)+p},silent:!0,style:F});F.stroke==="auto"&&dt.setStyle({stroke:a((H+Mt/D)/w)}),f.add(dt),z+=O}z-=O}else z+=N}},t.prototype._renderPointer=function(e,n,r,a,o,s,l,u,c){var f=this.group,h=this._data,p=this._progressEls,g=[],m=e.get(["pointer","show"]),_=e.getModel("progress"),S=_.get("show"),T=e.getData(),M=T.mapDimension("value"),w=+e.get("min"),D=+e.get("max"),C=[w,D],R=[s,l];function z(O,U){var F=T.getItemModel(O),V=F.getModel("pointer"),W=se(V.get("width"),o.r),Z=se(V.get("length"),o.r),H=e.get(["pointer","icon"]),j=V.get("offsetCenter"),Y=se(j[0],o.r),Q=se(j[1],o.r),nt=V.get("keepAspect"),q;return H?q=Ar(H,Y-W/2,Q-Z,W,Z,null,nt):q=new zTt({shape:{angle:-Math.PI/2,width:W,r:Z,x:Y,y:Q}}),q.rotation=-(U+Math.PI/2),q.x=o.cx,q.y=o.cy,q}function N(O,U){var F=_.get("roundCap"),V=F?jC:Ka,W=_.get("overlap"),Z=W?_.get("width"):c/T.count(),H=W?o.r-Z:o.r-(O+1)*Z,j=W?o.r:o.r-O*Z,Y=new V({shape:{startAngle:s,endAngle:U,cx:o.cx,cy:o.cy,clockwise:u,r0:H,r:j}});return W&&(Y.z2=Yn(T.get(M,O),[w,D],[100,0],!0)),Y}(S||m)&&(T.diff(h).add(function(O){var U=T.get(M,O);if(m){var F=z(O,s);Li(F,{rotation:-((isNaN(+U)?R[0]:Yn(U,C,R,!0))+Math.PI/2)},e),f.add(F),T.setItemGraphicEl(O,F)}if(S){var V=N(O,s),W=_.get("clip");Li(V,{shape:{endAngle:Yn(U,C,R,W)}},e),f.add(V),cP(e.seriesIndex,T.dataType,O,V),g[O]=V}}).update(function(O,U){var F=T.get(M,O);if(m){var V=h.getItemGraphicEl(U),W=V?V.rotation:s,Z=z(O,W);Z.rotation=W,Pn(Z,{rotation:-((isNaN(+F)?R[0]:Yn(F,C,R,!0))+Math.PI/2)},e),f.add(Z),T.setItemGraphicEl(O,Z)}if(S){var H=p[U],j=H?H.shape.endAngle:s,Y=N(O,j),Q=_.get("clip");Pn(Y,{shape:{endAngle:Yn(F,C,R,Q)}},e),f.add(Y),cP(e.seriesIndex,T.dataType,O,Y),g[O]=Y}}).execute(),T.each(function(O){var U=T.getItemModel(O),F=U.getModel("emphasis"),V=F.get("focus"),W=F.get("blurScope"),Z=F.get("disabled");if(m){var H=T.getItemGraphicEl(O),j=T.getItemVisual(O,"style"),Y=j.fill;if(H instanceof da){var Q=H.style;H.useStyle(Rt({image:Q.image,x:Q.x,y:Q.y,width:Q.width,height:Q.height},j))}else H.useStyle(j),H.type!=="pointer"&&H.setColor(Y);H.setStyle(U.getModel(["pointer","itemStyle"]).getItemStyle()),H.style.fill==="auto"&&H.setStyle("fill",a(Yn(T.get(M,O),C,[0,1],!0))),H.z2EmphasisLift=0,qr(H,U),Fi(H,V,W,Z)}if(S){var nt=g[O];nt.useStyle(T.getItemVisual(O,"style")),nt.setStyle(U.getModel(["progress","itemStyle"]).getItemStyle()),nt.z2EmphasisLift=0,qr(nt,U),Fi(nt,V,W,Z)}}),this._progressEls=g)},t.prototype._renderAnchor=function(e,n){var r=e.getModel("anchor"),a=r.get("show");if(a){var o=r.get("size"),s=r.get("icon"),l=r.get("offsetCenter"),u=r.get("keepAspect"),c=Ar(s,n.cx-o/2+se(l[0],n.r),n.cy-o/2+se(l[1],n.r),o,o,null,u);c.z2=r.get("showAbove")?1:0,c.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(c)}},t.prototype._renderTitleAndDetail=function(e,n,r,a,o){var s=this,l=e.getData(),u=l.mapDimension("value"),c=+e.get("min"),f=+e.get("max"),h=new Ce,p=[],g=[],m=e.isAnimationEnabled(),_=e.get(["pointer","showAbove"]);l.diff(this._data).add(function(S){p[S]=new wn({silent:!0}),g[S]=new wn({silent:!0})}).update(function(S,T){p[S]=s._titleEls[T],g[S]=s._detailEls[T]}).execute(),l.each(function(S){var T=l.getItemModel(S),M=l.get(u,S),w=new Ce,D=a(Yn(M,[c,f],[0,1],!0)),C=T.getModel("title");if(C.get("show")){var R=C.get("offsetCenter"),z=o.cx+se(R[0],o.r),N=o.cy+se(R[1],o.r),O=p[S];O.attr({z2:_?0:2,style:Si(C,{x:z,y:N,text:l.getName(S),align:"center",verticalAlign:"middle"},{inheritColor:D})}),w.add(O)}var U=T.getModel("detail");if(U.get("show")){var F=U.get("offsetCenter"),V=o.cx+se(F[0],o.r),W=o.cy+se(F[1],o.r),Z=se(U.get("width"),o.r),H=se(U.get("height"),o.r),j=e.get(["progress","show"])?l.getItemVisual(S,"style").fill:D,O=g[S],Y=U.get("formatter");O.attr({z2:_?0:2,style:Si(U,{x:V,y:W,text:Ew(M,Y),width:isNaN(Z)?null:Z,height:isNaN(H)?null:H,align:"center",verticalAlign:"middle"},{inheritColor:j})}),uZ(O,{normal:U},M,function(nt){return Ew(nt,Y)}),m&&cZ(O,S,l,e,{getFormattedLabel:function(nt,q,$,st,ft,Mt){return Ew(Mt?Mt.interpolatedValue:M,Y)}}),w.add(O)}h.add(w)}),this.group.add(h),this._titleEls=p,this._detailEls=g},t.type="gauge",t})(si),VTt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,n){return F_(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,vt.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:vt.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:vt.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:vt.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:vt.color.neutral00,borderWidth:0,borderColor:vt.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:vt.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:vt.color.transparent,borderWidth:0,borderColor:vt.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:vt.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t})(di);function HTt(i){i.registerChartView(UTt),i.registerSeriesModel(VTt)}var kTt=["itemStyle","opacity"],FTt=(function(i){ht(t,i);function t(e,n){var r=i.call(this)||this,a=r,o=new Ia,s=new wn;return a.setTextContent(s),r.setTextGuideLine(o),r.updateData(e,n,!0),r}return t.prototype.updateData=function(e,n,r){var a=this,o=e.hostModel,s=e.getItemModel(n),l=e.getItemLayout(n),u=s.getModel("emphasis"),c=s.get(kTt);c=c??1,r||Bl(a),a.useStyle(e.getItemVisual(n,"style")),a.style.lineJoin="round",r?(a.setShape({points:l.points}),a.style.opacity=0,Li(a,{style:{opacity:c}},o,n)):Pn(a,{style:{opacity:c},shape:{points:l.points}},o,n),qr(a,s),this._updateLabel(e,n),Fi(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,n){var r=this,a=this.getTextGuideLine(),o=r.getTextContent(),s=e.hostModel,l=e.getItemModel(n),u=e.getItemLayout(n),c=u.label,f=e.getItemVisual(n,"style"),h=f.fill;ha(o,Zr(l),{labelFetcher:e.hostModel,labelDataIndex:n,defaultOpacity:f.opacity,defaultText:e.getName(n)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}});var p=l.getModel("label"),g=p.get("color"),m=g==="inherit"?h:null;r.setTextConfig({local:!0,inside:!!c.inside,insideStroke:m,outsideFill:m});var _=c.linePoints;a.setShape({points:_}),r.textGuideLineConfig={anchor:_?new Ne(_[0][0],_[0][1]):null},Pn(o,{style:{x:c.x,y:c.y}},s,n),o.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),uU(r,cU(l),{stroke:h})},t})(Qa),GTt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,r){var a=e.getData(),o=this._data,s=this.group;a.diff(o).add(function(l){var u=new FTt(a,l);a.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(a,l),s.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=o.getItemGraphicEl(l);fh(u,e,l)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t})(si),XTt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new G_(ue(this.getData,this),ue(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,n){return F_(this,{coordDimensions:["value"],encodeDefaulter:Qe(BB,this)})},t.prototype._defaultLabelLine=function(e){Gg(e,"labelLine",["show"]);var n=e.labelLine,r=e.emphasis.labelLine;n.show=n.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var n=this.getData(),r=i.prototype.getDataParams.call(this,e),a=n.mapDimension("value"),o=n.getSum(a);return r.percent=o?+(n.get(a,e)/o*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:vt.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:vt.color.primary}}},t})(di);function WTt(i,t){for(var e=i.mapDimension("value"),n=i.mapArray(e,function(l){return l}),r=[],a=t==="ascending",o=0,s=i.count();o<s;o++)r[o]=o;return Te(t)?r.sort(t):t!=="none"&&r.sort(function(l,u){return a?n[l]-n[u]:n[u]-n[l]}),r}function YTt(i){var t=i.hostModel,e=t.get("orient");i.each(function(n){var r=i.getItemModel(n),a=r.getModel("label"),o=a.get("position"),s=r.getModel("labelLine"),l=i.getItemLayout(n),u=l.points,c=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",f,h,p,g;if(c)o==="insideLeft"?(h=(u[0][0]+u[3][0])/2+5,p=(u[0][1]+u[3][1])/2,f="left"):o==="insideRight"?(h=(u[1][0]+u[2][0])/2-5,p=(u[1][1]+u[2][1])/2,f="right"):(h=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,p=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),g=[[h,p],[h,p]];else{var m=void 0,_=void 0,S=void 0,T=void 0,M=s.get("length");o==="left"?(m=(u[3][0]+u[0][0])/2,_=(u[3][1]+u[0][1])/2,S=m-M,h=S-5,f="right"):o==="right"?(m=(u[1][0]+u[2][0])/2,_=(u[1][1]+u[2][1])/2,S=m+M,h=S+5,f="left"):o==="top"?(m=(u[3][0]+u[0][0])/2,_=(u[3][1]+u[0][1])/2,T=_-M,p=T-5,f="center"):o==="bottom"?(m=(u[1][0]+u[2][0])/2,_=(u[1][1]+u[2][1])/2,T=_+M,p=T+5,f="center"):o==="rightTop"?(m=e==="horizontal"?u[3][0]:u[1][0],_=e==="horizontal"?u[3][1]:u[1][1],e==="horizontal"?(T=_-M,p=T-5,f="center"):(S=m+M,h=S+5,f="top")):o==="rightBottom"?(m=u[2][0],_=u[2][1],e==="horizontal"?(T=_+M,p=T+5,f="center"):(S=m+M,h=S+5,f="bottom")):o==="leftTop"?(m=u[0][0],_=e==="horizontal"?u[0][1]:u[1][1],e==="horizontal"?(T=_-M,p=T-5,f="center"):(S=m-M,h=S-5,f="right")):o==="leftBottom"?(m=e==="horizontal"?u[1][0]:u[3][0],_=e==="horizontal"?u[1][1]:u[2][1],e==="horizontal"?(T=_+M,p=T+5,f="center"):(S=m-M,h=S-5,f="right")):(m=(u[1][0]+u[2][0])/2,_=(u[1][1]+u[2][1])/2,e==="horizontal"?(T=_+M,p=T+5,f="center"):(S=m+M,h=S+5,f="left")),e==="horizontal"?(S=m,h=S):(T=_,p=T),g=[[m,_],[S,T]]}l.label={linePoints:g,x:h,y:p,verticalAlign:"middle",textAlign:f,inside:c}})}function qTt(i,t){i.eachSeriesByType("funnel",function(e){var n=e.getData(),r=n.mapDimension("value"),a=e.get("sort"),o=jr(e,t),s=Bi(e.getBoxLayoutParams(),o.refContainer),l=e.get("orient"),u=s.width,c=s.height,f=WTt(n,a),h=s.x,p=s.y,g=l==="horizontal"?[se(e.get("minSize"),c),se(e.get("maxSize"),c)]:[se(e.get("minSize"),u),se(e.get("maxSize"),u)],m=n.getDataExtent(r),_=e.get("min"),S=e.get("max");_==null&&(_=Math.min(m[0],0)),S==null&&(S=m[1]);var T=e.get("funnelAlign"),M=e.get("gap"),w=l==="horizontal"?u:c,D=(w-M*(n.count()-1))/n.count(),C=function(Z,H){if(l==="horizontal"){var j=n.get(r,Z)||0,Y=Yn(j,[_,S],g,!0),Q=void 0;switch(T){case"top":Q=p;break;case"center":Q=p+(c-Y)/2;break;case"bottom":Q=p+(c-Y);break}return[[H,Q],[H,Q+Y]]}var nt=n.get(r,Z)||0,q=Yn(nt,[_,S],g,!0),$;switch(T){case"left":$=h;break;case"center":$=h+(u-q)/2;break;case"right":$=h+u-q;break}return[[$,H],[$+q,H]]};a==="ascending"&&(D=-D,M=-M,l==="horizontal"?h+=u:p+=c,f=f.reverse());for(var R=0;R<f.length;R++){var z=f[R],N=f[R+1],O=n.getItemModel(z);if(l==="horizontal"){var U=O.get(["itemStyle","width"]);U==null?U=D:(U=se(U,u),a==="ascending"&&(U=-U));var F=C(z,h),V=C(N,h+U);h+=U+M,n.setItemLayout(z,{points:F.concat(V.slice().reverse())})}else{var W=O.get(["itemStyle","height"]);W==null?W=D:(W=se(W,c),a==="ascending"&&(W=-W));var F=C(z,p),V=C(N,p+W);p+=W+M,n.setItemLayout(z,{points:F.concat(V.slice().reverse())})}}YTt(n)})}function ZTt(i){i.registerChartView(GTt),i.registerSeriesModel(XTt),i.registerLayout(qTt),i.registerProcessor(k_("funnel"))}var jTt=.3,KTt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new Ce,e._initialized=!1,e}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,n,r,a){this._progressiveEls=null;var o=this._dataGroup,s=e.getData(),l=this._data,u=e.coordinateSystem,c=u.dimensions,f=h8(e);s.diff(l).add(h).update(p).remove(g).execute();function h(_){var S=f8(s,o,_,c,u);TN(S,s,_,f)}function p(_,S){var T=l.getItemGraphicEl(S),M=oJ(s,_,c,u);s.setItemGraphicEl(_,T),Pn(T,{shape:{points:M}},e,_),Bl(T),TN(T,s,_,f)}function g(_){var S=l.getItemGraphicEl(_);o.remove(S)}if(!this._initialized){this._initialized=!0;var m=QTt(u,e,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(m)}this._data=s},t.prototype.incrementalPrepareRender=function(e,n,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,n,r){for(var a=n.getData(),o=n.coordinateSystem,s=o.dimensions,l=h8(n),u=this._progressiveEls=[],c=e.start;c<e.end;c++){var f=f8(a,this._dataGroup,c,s,o);f.incremental=!0,TN(f,a,c,l),u.push(f)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t})(si);function QTt(i,t,e){var n=i.model,r=i.getRect(),a=new cn({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),o=n.get("layout")==="horizontal"?"width":"height";return a.setShape(o,0),Li(a,{shape:{width:r.width,height:r.height}},t,e),a}function oJ(i,t,e,n){for(var r=[],a=0;a<e.length;a++){var o=e[a],s=i.get(i.mapDimension(o),t);JTt(s,n.getAxis(o).type)||r.push(n.dataToPoint(s,o))}return r}function f8(i,t,e,n,r){var a=oJ(i,e,n,r),o=new Ia({shape:{points:a},z2:10});return t.add(o),i.setItemGraphicEl(e,o),o}function h8(i){var t=i.get("smooth",!0);return t===!0&&(t=jTt),t=jc(t),Ya(t)&&(t=0),{smooth:t}}function TN(i,t,e,n){i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.setShape("smooth",n.smooth);var r=t.getItemModel(e),a=r.getModel("emphasis");qr(i,r,"lineStyle"),Fi(i,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function JTt(i,t){return t==="category"?i==null:i==null||isNaN(i)}var $Tt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.getInitialData=function(e,n){return rf(null,this,{useEncodeDefaulter:ue(tMt,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var n=this.coordinateSystem,r=this.getData(),a=[];return n.eachActiveState(r,function(o,s){e===o&&a.push(r.getRawIndex(s))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t})(di);function tMt(i){var t=i.ecModel.getComponent("parallel",i.get("parallelIndex"));if(t){var e={};return G(t.dimensions,function(n){var r=eMt(n);e[n]=r}),e}}function eMt(i){return+i.replace("dim","")}var nMt=["lineStyle","opacity"],iMt={seriesType:"parallel",reset:function(i,t){var e=i.coordinateSystem,n={normal:i.get(["lineStyle","opacity"]),active:i.get("activeOpacity"),inactive:i.get("inactiveOpacity")};return{progress:function(r,a){e.eachActiveState(a,function(o,s){var l=n[o];if(o==="normal"&&a.hasItemOption){var u=a.getItemModel(s).get(nMt,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(s,"style");c.opacity=l},r.start,r.end)}}}};function rMt(i){aMt(i),oMt(i)}function aMt(i){if(!i.parallel){var t=!1;G(i.series,function(e){e&&e.type==="parallel"&&(t=!0)}),t&&(i.parallel=[{}])}}function oMt(i){var t=bi(i.parallelAxis);G(t,function(e){if(Le(e)){var n=e.parallelIndex||0,r=bi(i.parallel)[n];r&&r.parallelAxisDefault&&en(e,r.parallelAxisDefault,!1)}})}var sMt=5,lMt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){this._model=e,this._api=r,this._handlers||(this._handlers={},G(uMt,function(a,o){r.getZr().on(o,this._handlers[o]=ue(a,this))},this)),z_(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,n){bb(this,"_throttledDispatchExpand"),G(this._handlers,function(r,a){n.getZr().off(a,r)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Rt({type:"parallelAxisExpand"},e))},t.type="parallel",t})(Ti),uMt={mousedown:function(i){MN(this,"click")&&(this._mouseDownPoint=[i.offsetX,i.offsetY])},mouseup:function(i){var t=this._mouseDownPoint;if(MN(this,"click")&&t){var e=[i.offsetX,i.offsetY],n=Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2);if(n>sMt)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]);r.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(i){if(!(this._mouseDownPoint||!MN(this,"mousemove"))){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]),n=e.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function MN(i,t){var e=i._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var cMt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){i.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var n=this.option;e&&en(n,e,!0),this._initDimensions()},t.prototype.contains=function(e,n){var r=e.get("parallelIndex");return r!=null&&n.getComponent("parallel",r)===this},t.prototype.setAxisExpand=function(e){G(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){e.hasOwnProperty(n)&&(this.option[n]=e[n])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[],r=Gn(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);G(r,function(a){e.push("dim"+a.get("dim")),n.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t})(pn),fMt=(function(i){ht(t,i);function t(e,n,r,a,o){var s=i.call(this,e,n,r)||this;return s.type=a||"value",s.axisIndex=o,s}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t})(Fl);function up(i,t,e,n,r,a){i=i||0;var o=e[1]-e[0];if(r!=null&&(r=l0(r,[0,o])),a!=null&&(a=Math.max(a,r??0)),n==="all"){var s=Math.abs(t[1]-t[0]);s=l0(s,[0,o]),r=a=l0(s,[r,a]),n=0}t[0]=l0(t[0],e),t[1]=l0(t[1],e);var l=AN(t,n);t[n]+=i;var u=r||0,c=e.slice();l.sign<0?c[0]+=u:c[1]-=u,t[n]=l0(t[n],c);var f;return f=AN(t,n),r!=null&&(f.sign!==l.sign||f.span<r)&&(t[1-n]=t[n]+l.sign*r),f=AN(t,n),a!=null&&f.span>a&&(t[1-n]=t[n]+f.sign*a),t}function AN(i,t){var e=i[t]-i[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function l0(i,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,i))}var wN=G,sJ=Math.min,lJ=Math.max,d8=Math.floor,hMt=Math.ceil,p8=Tr,dMt=Math.PI,pMt=(function(){function i(t,e,n){this.type="parallel",this._axesMap=ye(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return i.prototype._init=function(t,e,n){var r=t.dimensions,a=t.parallelAxisIndex;wN(r,function(o,s){var l=a[s],u=e.getComponent("parallelAxis",l),c=this._axesMap.set(o,new fMt(o,fT(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},i.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},i.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,r=e.layoutBase,a=e.pixelDimIndex,o=t[1-a],s=t[a];return o>=n&&o<=n+e.axisLength&&s>=r&&s<=r+e.layoutLength},i.prototype.getModel=function(){return this._model},i.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var r=n.getData();wN(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(r,r.mapDimension(a)),Kg(o.scale,o.model)},this)}},this)},i.prototype.resize=function(t,e){var n=jr(t,e).refContainer;this._rect=Bi(t.getBoxLayoutParams(),n),this._layoutAxes()},i.prototype.getRect=function(){return this._rect},i.prototype._makeLayoutInfo=function(){var t=this._model,e=this._rect,n=["x","y"],r=["width","height"],a=t.get("layout"),o=a==="horizontal"?0:1,s=e[r[o]],l=[0,s],u=this.dimensions.length,c=Cw(t.get("axisExpandWidth"),l),f=Cw(t.get("axisExpandCount")||0,[0,u]),h=t.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&s>0,p=t.get("axisExpandWindow"),g;if(p)g=Cw(p[1]-p[0],l),p[1]=p[0]+g;else{g=Cw(c*(f-1),l);var m=t.get("axisExpandCenter")||d8(u/2);p=[c*m-g/2],p[1]=p[0]+g}var _=(s-g)/(u-f);_<3&&(_=0);var S=[d8(p8(p[0]/c,1))+1,hMt(p8(p[1]/c,1))-1],T=_/c*p[0];return{layout:a,pixelDimIndex:o,layoutBase:e[n[o]],layoutLength:s,axisBase:e[n[1-o]],axisLength:e[r[1-o]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:_,axisExpandWindow:p,axisCount:u,winInnerIndices:S,axisExpandWindow0Pos:T}},i.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),a=r.layout;e.each(function(o){var s=[0,r.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),wN(n,function(o,s){var l=(r.axisExpandable?gMt:vMt)(s,r),u={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},c={horizontal:dMt/2,vertical:0},f=[u[a].x+t.x,u[a].y+t.y],h=c[a],p=la();wh(p,p,h),Iu(p,p,f),this._axesLayout[o]={position:f,rotation:h,transform:p,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},i.prototype.getAxis=function(t){return this._axesMap.get(t)},i.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},i.prototype.eachActiveState=function(t,e,n,r){n==null&&(n=0),r==null&&(r=t.count());var a=this._axesMap,o=this.dimensions,s=[],l=[];G(o,function(_){s.push(t.mapDimension(_)),l.push(a.get(_).model)});for(var u=this.hasAxisBrushed(),c=n;c<r;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var h=t.getValues(s,c),p=0,g=o.length;p<g;p++){var m=l[p].getActiveState(h[p]);if(m==="inactive"){f="inactive";break}}}e(f,c)}},i.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,r=0,a=t.length;r<a;r++)e.get(t[r]).model.getActiveState()!=="normal"&&(n=!0);return n},i.prototype.axisCoordToPoint=function(t,e){var n=this._axesLayout[e];return Cu([t,0],n.transform)},i.prototype.getAxisLayout=function(t){return Ee(this._axesLayout[t])},i.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,r=e.axisExpandWindow.slice(),a=r[1]-r[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l,u="slide",c=e.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),h=f[0]!=null;if(c)h&&c&&s<a*f[0]?(u="jump",l=s-a*f[2]):h&&c&&s>a*(1-f[0])?(u="jump",l=s-a*(1-f[2])):(l=s-a*f[1])>=0&&(l=s-a*(1-f[1]))<=0&&(l=0),l*=e.axisExpandWidth/c,l?up(l,r,o,"all"):u="none";else{var p=r[1]-r[0],g=o[1]*s/p;r=[lJ(0,g-p/2)],r[1]=sJ(o[1],r[0]+p),r[0]=r[1]-p}return{axisExpandWindow:r,behavior:u}},i})();function Cw(i,t){return sJ(lJ(i,t[0]),t[1])}function vMt(i,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*i,axisNameAvailableWidth:e,axisLabelShow:!0}}function gMt(i,t){var e=t.layoutLength,n=t.axisExpandWidth,r=t.axisCount,a=t.axisCollapseWidth,o=t.winInnerIndices,s,l=a,u=!1,c;return i<o[0]?(s=i*a,c=a):i<=o[1]?(s=t.axisExpandWindow0Pos+i*n-t.axisExpandWindow[0],l=n,u=!0):(s=e-(r-1-i)*a,c=a),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function mMt(i,t){var e=[];return i.eachComponent("parallel",function(n,r){var a=new pMt(n,i,t);a.name="parallel_"+r,a.resize(n,t),n.coordinateSystem=a,a.model=n,e.push(a)}),i.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var r=n.getReferringComponents("parallel",$i).models[0];n.coordinateSystem=r.coordinateSystem}}),e}var yMt={create:mMt},v3=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return t.prototype.getAreaSelectStyle=function(){return Wg([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var n=this.activeIntervals=Ee(e);if(n)for(var r=n.length-1;r>=0;r--)Fs(n[r])},t.prototype.getActiveState=function(e){var n=this.activeIntervals;if(!n.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(n.length===1){var r=n[0];if(r[0]<=e&&e<=r[1])return"active"}else for(var a=0,o=n.length;a<o;a++)if(n[a][0]<=e&&e<=n[a][1])return"active";return"inactive"},t})(pn);fr(v3,H_);var Qg=!0,zb=Math.min,h_=Math.max,_Mt=Math.pow,SMt=1e4,xMt=6,bMt=6,v8="globalPan",TMt={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},MMt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},g8={brushStyle:{lineWidth:2,stroke:vt.color.backgroundTint,fill:vt.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},AMt=0,BU=(function(i){ht(t,i);function t(e){var n=i.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new Ce,n._uid="brushController_"+AMt++,G(IMt,function(r,a){this._handlers[a]=ue(r,this)},n),n}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var n=this._zr;this._enableGlobalPan||l1t(n,v8,this._uid),G(this._handlers,function(r,a){n.on(a,r)}),this._brushType=e.brushType,this._brushOption=en(Ee(g8),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;u1t(e,v8,this._uid),G(this._handlers,function(n,r){e.off(r,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var n=this._panels={};G(e,function(r){n[r.panelId]=Ee(r)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=kt(e,function(h){return en(Ee(g8),h,!0)});var n="\0-brush-index-",r=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new bh(r,e,u,l).add(c).update(c).remove(f).execute(),this;function l(h,p){return(h.id!=null?h.id:n+p)+"-"+h.brushType}function u(h,p){return l(h.__brushOption,p)}function c(h,p){var g=e[h];if(p!=null&&r[p]===s)a[h]=r[p];else{var m=a[h]=p!=null?(r[p].__brushOption=g,r[p]):cJ(o,uJ(o,g));UU(o,m)}}function f(h){r[h]!==s&&o.group.remove(r[h])}},t.prototype.unmount=function(){return this.enableBrush(!1),g3(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t})(Hl);function uJ(i,t){var e=UD[t.brushType].createCover(i,t);return e.__brushOption=t,hJ(e,t),i.group.add(e),e}function cJ(i,t){var e=VU(t);return e.endCreating&&(e.endCreating(i,t),hJ(t,t.__brushOption)),t}function fJ(i,t){var e=t.__brushOption;VU(t).updateCoverShape(i,t,e.range,e)}function hJ(i,t){var e=t.z;e==null&&(e=SMt),i.traverse(function(n){n.z=e,n.z2=e})}function UU(i,t){VU(t).updateCommon(i,t),fJ(i,t)}function VU(i){return UD[i.__brushOption.brushType]}function HU(i,t,e){var n=i._panels;if(!n)return Qg;var r,a=i._transform;return G(n,function(o){o.isTargetByCursor(t,e,a)&&(r=o)}),r}function dJ(i,t){var e=i._panels;if(!e)return Qg;var n=t.__brushOption.panelId;return n!=null?e[n]:Qg}function g3(i){var t=i._covers,e=t.length;return G(t,function(n){i.group.remove(n)},i),t.length=0,!!e}function Jg(i,t){var e=kt(i._covers,function(n){var r=n.__brushOption,a=Ee(r.range);return{brushType:r.brushType,panelId:r.panelId,range:a}});i.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function wMt(i){var t=i._track;if(!t.length)return!1;var e=t[t.length-1],n=t[0],r=e[0]-n[0],a=e[1]-n[1],o=_Mt(r*r+a*a,.5);return o>xMt}function pJ(i){var t=i.length-1;return t<0&&(t=0),[i[0],i[t]]}function vJ(i,t,e,n){var r=new Ce;return r.add(new cn({name:"main",style:kU(e),silent:!0,draggable:!0,cursor:"move",drift:Qe(m8,i,t,r,["n","s","w","e"]),ondragend:Qe(Jg,t,{isEnd:!0})})),G(n,function(a){r.add(new cn({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Qe(m8,i,t,r,a),ondragend:Qe(Jg,t,{isEnd:!0})}))}),r}function gJ(i,t,e,n){var r=n.brushStyle.lineWidth||0,a=h_(r,bMt),o=e[0][0],s=e[1][0],l=o-r/2,u=s-r/2,c=e[0][1],f=e[1][1],h=c-a+r/2,p=f-a+r/2,g=c-o,m=f-s,_=g+r,S=m+r;qf(i,t,"main",o,s,g,m),n.transformable&&(qf(i,t,"w",l,u,a,S),qf(i,t,"e",h,u,a,S),qf(i,t,"n",l,u,_,a),qf(i,t,"s",l,p,_,a),qf(i,t,"nw",l,u,a,a),qf(i,t,"ne",h,u,a,a),qf(i,t,"sw",l,p,a,a),qf(i,t,"se",h,p,a,a))}function m3(i,t){var e=t.__brushOption,n=e.transformable,r=t.childAt(0);r.useStyle(kU(e)),r.attr({silent:!n,cursor:n?"move":"default"}),G([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=t.childOfName(a.join("")),s=a.length===1?y3(i,a[0]):CMt(i,a);o&&o.attr({silent:!n,invisible:!n,cursor:n?MMt[s]+"-resize":null})})}function qf(i,t,e,n,r,a,o){var s=t.childOfName(e);s&&s.setShape(RMt(FU(i,t,[[n,r],[n+a,r+o]])))}function kU(i){return Re({strokeNoScale:!0},i.brushStyle)}function mJ(i,t,e,n){var r=[zb(i,e),zb(t,n)],a=[h_(i,e),h_(t,n)];return[[r[0],a[0]],[r[1],a[1]]]}function EMt(i){return $d(i.group)}function y3(i,t){var e={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},r=SD(e[t],EMt(i));return n[r]}function CMt(i,t){var e=[y3(i,t[0]),y3(i,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function m8(i,t,e,n,r,a){var o=e.__brushOption,s=i.toRectRange(o.range),l=yJ(t,r,a);G(n,function(u){var c=TMt[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=i.fromRectRange(mJ(s[0][0],s[1][0],s[0][1],s[1][1])),UU(t,e),Jg(t,{isEnd:!1})}function DMt(i,t,e,n){var r=t.__brushOption.range,a=yJ(i,e,n);G(r,function(o){o[0]+=a[0],o[1]+=a[1]}),UU(i,t),Jg(i,{isEnd:!1})}function yJ(i,t,e){var n=i.group,r=n.transformCoordToLocal(t,e),a=n.transformCoordToLocal(0,0);return[r[0]-a[0],r[1]-a[1]]}function FU(i,t,e){var n=dJ(i,t);return n&&n!==Qg?n.clipPath(e,i._transform):Ee(e)}function RMt(i){var t=zb(i[0][0],i[1][0]),e=zb(i[0][1],i[1][1]),n=h_(i[0][0],i[1][0]),r=h_(i[0][1],i[1][1]);return{x:t,y:e,width:n-t,height:r-e}}function LMt(i,t,e){if(!(!i._brushType||NMt(i,t.offsetX,t.offsetY))){var n=i._zr,r=i._covers,a=HU(i,t,e);if(!i._dragging)for(var o=0;o<r.length;o++){var s=r[o].__brushOption;if(a&&(a===Qg||s.panelId===a.panelId)&&UD[s.brushType].contain(r[o],e[0],e[1]))return}a&&n.setCursorStyle("crosshair")}}function _3(i){var t=i.event;t.preventDefault&&t.preventDefault()}function S3(i,t,e){return i.childOfName("main").contain(t,e)}function _J(i,t,e,n){var r=i._creatingCover,a=i._creatingPanel,o=i._brushOption,s;if(i._track.push(e.slice()),wMt(i)||r){if(a&&!r){o.brushMode==="single"&&g3(i);var l=Ee(o);l.brushType=y8(l.brushType,a),l.panelId=a===Qg?null:a.panelId,r=i._creatingCover=uJ(i,l),i._covers.push(r)}if(r){var u=UD[y8(i._brushType,a)],c=r.__brushOption;c.range=u.getCreatingRange(FU(i,r,i._track)),n&&(cJ(i,r),u.updateCommon(i,r)),fJ(i,r),s={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&HU(i,t,e)&&g3(i)&&(s={isEnd:n,removeOnClick:!0});return s}function y8(i,t){return i==="auto"?t.defaultBrushType:i}var IMt={mousedown:function(i){if(this._dragging)_8(this,i);else if(!i.target||!i.target.draggable){_3(i);var t=this.group.transformCoordToLocal(i.offsetX,i.offsetY);this._creatingCover=null;var e=this._creatingPanel=HU(this,i,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(i){var t=i.offsetX,e=i.offsetY,n=this.group.transformCoordToLocal(t,e);if(LMt(this,i,n),this._dragging){_3(i);var r=_J(this,i,n,!1);r&&Jg(this,r)}},mouseup:function(i){_8(this,i)}};function _8(i,t){if(i._dragging){_3(t);var e=t.offsetX,n=t.offsetY,r=i.group.transformCoordToLocal(e,n),a=_J(i,t,r,!0);i._dragging=!1,i._track=[],i._creatingCover=null,a&&Jg(i,a)}}function NMt(i,t,e){var n=i._zr;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var UD={lineX:S8(0),lineY:S8(1),rect:{createCover:function(i,t){function e(n){return n}return vJ({toRectRange:e,fromRectRange:e},i,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(i){var t=pJ(i);return mJ(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(i,t,e,n){gJ(i,t,e,n)},updateCommon:m3,contain:S3},polygon:{createCover:function(i,t){var e=new Ce;return e.add(new Ia({name:"main",style:kU(t),silent:!0})),e},getCreatingRange:function(i){return i},endCreating:function(i,t){t.remove(t.childAt(0)),t.add(new Qa({name:"main",draggable:!0,drift:Qe(DMt,i,t),ondragend:Qe(Jg,i,{isEnd:!0})}))},updateCoverShape:function(i,t,e,n){t.childAt(0).setShape({points:FU(i,t,e)})},updateCommon:m3,contain:S3}};function S8(i){return{createCover:function(t,e){return vJ({toRectRange:function(n){var r=[n,[0,100]];return i&&r.reverse(),r},fromRectRange:function(n){return n[i]}},t,e,[[["w"],["e"]],[["n"],["s"]]][i])},getCreatingRange:function(t){var e=pJ(t),n=zb(e[0][i],e[1][i]),r=h_(e[0][i],e[1][i]);return[n,r]},updateCoverShape:function(t,e,n,r){var a,o=dJ(t,e);if(o!==Qg&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(i);else{var s=t._zr;a=[0,[s.getWidth(),s.getHeight()][1-i]]}var l=[n,a];i&&l.reverse(),gJ(t,e,l,r)},updateCommon:m3,contain:S3}}function SJ(i){return i=GU(i),function(t){return yB(t,i)}}function xJ(i,t){return i=GU(i),function(e){var n=t??e,r=n?i.width:i.height,a=n?i.x:i.y;return[a,a+(r||0)]}}function bJ(i,t,e){var n=GU(i);return function(r,a){return n.contain(a[0],a[1])&&!EQ(r,t,e)}}function GU(i){return Oe.create(i)}var OMt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){i.prototype.init.apply(this,arguments),(this._brushController=new BU(n.getZr())).on("brush",ue(this._onBrush,this))},t.prototype.render=function(e,n,r,a){if(!PMt(e,n,a)){this.axisModel=e,this.api=r,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Ce,this.group.add(this._axisGroup),!!e.get("show")){var s=BMt(e,n),l=s.coordinateSystem,u=e.getAreaSelectStyle(),c=u.width,f=e.axis.dim,h=l.getAxisLayout(f),p=Rt({strokeContainThreshold:c},h),g=new Ko(e,r,p);g.build(),this._axisGroup.add(g.group),this._refreshBrushController(p,u,e,s,c,r),sT(o,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,n,r,a,o,s){var l=r.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=Oe.create({x:l[0],y:-o/2,width:u,height:o});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:SJ(f),isTargetByCursor:bJ(f,s,a),getLinearBrushOtherExtent:xJ(f,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(zMt(r))},t.prototype._onBrush=function(e){var n=e.areas,r=this.axisModel,a=r.axis,o=kt(n,function(s){return[a.coordToData(s.range[0],!0),a.coordToData(s.range[1],!0)]});(!r.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t})(Ti);function PMt(i,t,e){return e&&e.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:e})[0]===i}function zMt(i){var t=i.axis;return kt(i.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}function BMt(i,t){return t.getComponent("parallel",i.get("parallelIndex"))}var UMt={type:"axisAreaSelect",event:"axisAreaSelected"};function VMt(i){i.registerAction(UMt,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),i.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}var HMt={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function TJ(i){i.registerComponentView(lMt),i.registerComponentModel(cMt),i.registerCoordinateSystem("parallel",yMt),i.registerPreprocessor(rMt),i.registerComponentModel(v3),i.registerComponentView(OMt),c_(i,"parallel",v3,HMt),VMt(i)}function kMt(i){an(TJ),i.registerChartView(KTt),i.registerSeriesModel($Tt),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,iMt)}var FMt=(function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return i})(),GMt=(function(i){ht(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new FMt},t.prototype.buildPath=function(e,n){var r=n.extent;e.moveTo(n.x1,n.y1),e.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(e.lineTo(n.x2+r,n.y2),e.bezierCurveTo(n.cpx2+r,n.cpy2,n.cpx1+r,n.cpy1,n.x1+r,n.y1)):(e.lineTo(n.x2,n.y2+r),e.bezierCurveTo(n.cpx2,n.cpy2+r,n.cpx1,n.cpy1+r,n.x1,n.y1+r)),e.closePath()},t.prototype.highlight=function(){Sh(this)},t.prototype.downplay=function(){xh(this)},t})(_n),XMt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new Ce,e._focusAdjacencyDisabled=!1,e}return t.prototype.init=function(e,n){this._controller=new cm(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,r){var a=this,o=e.getGraph(),s=this._mainGroup,l=e.layoutInfo,u=l.width,c=l.height,f=e.getData(),h=e.getData("edge"),p=e.get("orient");this._model=e,s.removeAll(),s.x=l.x,s.y=l.y,this._updateViewCoordSys(e,r),CQ(e,r,s,this._controller,this._controllerHost,null),o.eachEdge(function(g){var m=new GMt,_=Ue(m);_.dataIndex=g.dataIndex,_.seriesIndex=e.seriesIndex,_.dataType="edge";var S=g.getModel(),T=S.getModel("lineStyle"),M=T.get("curveness"),w=g.node1.getLayout(),D=g.node1.getModel(),C=D.get("localX"),R=D.get("localY"),z=g.node2.getLayout(),N=g.node2.getModel(),O=N.get("localX"),U=N.get("localY"),F=g.getLayout(),V,W,Z,H,j,Y,Q,nt;m.shape.extent=Math.max(1,F.dy),m.shape.orient=p,p==="vertical"?(V=(C!=null?C*u:w.x)+F.sy,W=(R!=null?R*c:w.y)+w.dy,Z=(O!=null?O*u:z.x)+F.ty,H=U!=null?U*c:z.y,j=V,Y=W*(1-M)+H*M,Q=Z,nt=W*M+H*(1-M)):(V=(C!=null?C*u:w.x)+w.dx,W=(R!=null?R*c:w.y)+F.sy,Z=O!=null?O*u:z.x,H=(U!=null?U*c:z.y)+F.ty,j=V*(1-M)+Z*M,Y=W,Q=V*M+Z*(1-M),nt=H),m.setShape({x1:V,y1:W,x2:Z,y2:H,cpx1:j,cpy1:Y,cpx2:Q,cpy2:nt}),m.useStyle(T.getItemStyle()),x8(m.style,p,g);var q=""+S.get("value"),$=Zr(S,"edgeLabel");ha(m,$,{labelFetcher:{getFormattedLabel:function(Mt,dt,xt,Lt,Ct,Wt){return e.getFormattedLabel(Mt,dt,"edge",Lt,ms(Ct,$.normal&&$.normal.get("formatter"),q),Wt)}},labelDataIndex:g.dataIndex,defaultText:q}),m.setTextConfig({position:"inside"});var st=S.getModel("emphasis");qr(m,S,"lineStyle",function(Mt){var dt=Mt.getItemStyle();return x8(dt,p,g),dt}),s.add(m),h.setItemGraphicEl(g.dataIndex,m);var ft=st.get("focus");Fi(m,ft==="adjacency"?g.getAdjacentDataIndices():ft==="trajectory"?g.getTrajectoryDataIndices():ft,st.get("blurScope"),st.get("disabled"))}),o.eachNode(function(g){var m=g.getLayout(),_=g.getModel(),S=_.get("localX"),T=_.get("localY"),M=_.getModel("emphasis"),w=_.get(["itemStyle","borderRadius"])||0,D=new cn({shape:{x:S!=null?S*u:m.x,y:T!=null?T*c:m.y,width:m.dx,height:m.dy,r:w},style:_.getModel("itemStyle").getItemStyle(),z2:10});ha(D,Zr(_),{labelFetcher:{getFormattedLabel:function(R,z){return e.getFormattedLabel(R,z,"node")}},labelDataIndex:g.dataIndex,defaultText:g.id}),D.disableLabelAnimation=!0,D.setStyle("fill",g.getVisual("color")),D.setStyle("decal",g.getVisual("style").decal),qr(D,_),s.add(D),f.setItemGraphicEl(g.dataIndex,D),Ue(D).dataType="node";var C=M.get("focus");Fi(D,C==="adjacency"?g.getAdjacentDataIndices():C==="trajectory"?g.getTrajectoryDataIndices():C,M.get("blurScope"),M.get("disabled"))}),f.eachItemGraphicEl(function(g,m){var _=f.getItemModel(m);_.get("draggable")&&(g.drift=function(S,T){a._focusAdjacencyDisabled=!0,this.shape.x+=S,this.shape.y+=T,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:f.getRawIndex(m),localX:this.shape.x/u,localY:this.shape.y/c})},g.ondragend=function(){a._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&e.isAnimationEnabled()&&s.setClipPath(WMt(s.getBoundingRect(),e,function(){s.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._updateViewCoordSys=function(e,n){var r=e.layoutInfo,a=r.width,o=r.height,s=e.coordinateSystem=new fm(null,{api:n,ecModel:e.ecModel});s.zoomLimit=e.get("scaleLimit"),s.setBoundingRect(0,0,a,o),s.setCenter(e.get("center")),s.setZoom(e.get("zoom")),this._controllerHost.target.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY})},t.type="sankey",t})(si);function x8(i,t,e){switch(i.fill){case"source":i.fill=e.node1.getVisual("color"),i.decal=e.node1.getVisual("style").decal;break;case"target":i.fill=e.node2.getVisual("color"),i.decal=e.node2.getVisual("style").decal;break;case"gradient":var n=e.node1.getVisual("color"),r=e.node2.getVisual("color");le(n)&&le(r)&&(i.fill=new rm(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:r,offset:1}]))}}function WMt(i,t,e){var n=new cn({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}});return Li(n,{shape:{width:i.width+20}},t,e),n}var YMt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){var r=e.edges||e.links||[],a=e.data||e.nodes||[],o=e.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)o[l].depth!=null&&o[l].depth>=0&&(s[o[l].depth]=new yn(o[l],this,n));var u=zU(a,r,this,!0,c);return u.data;function c(f,h){f.wrapMethod("getItemModel",function(p,g){var m=p.parentModel,_=m.getData().getItemLayout(g);if(_){var S=_.depth,T=m.levelModels[S];T&&(p.parentModel=T)}return p}),h.wrapMethod("getItemModel",function(p,g){var m=p.parentModel,_=m.getGraph().getEdgeByIndex(g),S=_.node1.getLayout();if(S){var T=S.depth,M=m.levelModels[T];M&&(p.parentModel=M)}return p})}},t.prototype.setNodePosition=function(e,n){var r=this.option.data||this.option.nodes,a=r[e];a.localX=n[0],a.localY=n[1]},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,r){function a(p){return isNaN(p)||p==null}if(r==="edge"){var o=this.getDataParams(e,r),s=o.data,l=o.value,u=s.source+" -- "+s.target;return zr("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(e),f=c.getLayout().value,h=this.getDataParams(e,r).data.name;return zr("nameValue",{name:h!=null?h+"":null,value:f,noValue:a(f)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,n){var r=i.prototype.getDataParams.call(this,e,n);if(r.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(e),o=a.getLayout().value;r.value=o}return r},t.type="series.sankey",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:vt.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:vt.color.primary}},animationEasing:"linear",animationDuration:1e3},t})(di);function qMt(i,t){i.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),r=e.get("nodeGap"),a=jr(e,t).refContainer,o=Bi(e.getBoxLayoutParams(),a);e.layoutInfo=o;var s=o.width,l=o.height,u=e.getGraph(),c=u.nodes,f=u.edges;jMt(c);var h=Gn(c,function(_){return _.getLayout().value===0}),p=h.length!==0?0:e.get("layoutIterations"),g=e.get("orient"),m=e.get("nodeAlign");ZMt(c,f,n,r,s,l,p,g,m)})}function ZMt(i,t,e,n,r,a,o,s,l){KMt(i,t,e,r,a,s,l),tAt(i,t,a,r,n,o,s),uAt(i,s)}function jMt(i){G(i,function(t){var e=np(t.outEdges,i2),n=np(t.inEdges,i2),r=t.getValue()||0,a=Math.max(e,n,r);t.setLayout({value:a},!0)})}function KMt(i,t,e,n,r,a,o){for(var s=[],l=[],u=[],c=[],f=0,h=0;h<t.length;h++)s[h]=1;for(var h=0;h<i.length;h++)l[h]=i[h].inEdges.length,l[h]===0&&u.push(i[h]);for(var p=-1;u.length;){for(var g=0;g<u.length;g++){var m=u[g],_=m.hostGraph.data.getRawDataItem(m.dataIndex),S=_.depth!=null&&_.depth>=0;S&&_.depth>p&&(p=_.depth),m.setLayout({depth:S?_.depth:f},!0),a==="vertical"?m.setLayout({dy:e},!0):m.setLayout({dx:e},!0);for(var T=0;T<m.outEdges.length;T++){var M=m.outEdges[T],w=t.indexOf(M);s[w]=0;var D=M.node2,C=i.indexOf(D);--l[C]===0&&c.indexOf(D)<0&&c.push(D)}}++f,u=c,c=[]}for(var h=0;h<s.length;h++)if(s[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var R=p>f-1?p:f-1;o&&o!=="left"&&QMt(i,o,a,R);var z=a==="vertical"?(r-e)/R:(n-e)/R;$Mt(i,z,a)}function MJ(i){var t=i.hostGraph.data.getRawDataItem(i.dataIndex);return t.depth!=null&&t.depth>=0}function QMt(i,t,e,n){if(t==="right"){for(var r=[],a=i,o=0;a.length;){for(var s=0;s<a.length;s++){var l=a[s];l.setLayout({skNodeHeight:o},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];r.indexOf(c.node1)<0&&r.push(c.node1)}}a=r,r=[],++o}G(i,function(f){MJ(f)||f.setLayout({depth:Math.max(0,n-f.getLayout().skNodeHeight)},!0)})}else t==="justify"&&JMt(i,n)}function JMt(i,t){G(i,function(e){!MJ(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}function $Mt(i,t,e){G(i,function(n){var r=n.getLayout().depth*t;e==="vertical"?n.setLayout({y:r},!0):n.setLayout({x:r},!0)})}function tAt(i,t,e,n,r,a,o){var s=eAt(i,o);nAt(s,t,e,n,r,o),EN(s,r,e,n,o);for(var l=1;a>0;a--)l*=.99,iAt(s,l,o),EN(s,r,e,n,o),lAt(s,l,o),EN(s,r,e,n,o)}function eAt(i,t){var e=[],n=t==="vertical"?"y":"x",r=aP(i,function(a){return a.getLayout()[n]});return r.keys.sort(function(a,o){return a-o}),G(r.keys,function(a){e.push(r.buckets.get(a))}),e}function nAt(i,t,e,n,r,a){var o=1/0;G(i,function(s){var l=s.length,u=0;G(s,function(f){u+=f.getLayout().value});var c=a==="vertical"?(n-(l-1)*r)/u:(e-(l-1)*r)/u;c<o&&(o=c)}),G(i,function(s){G(s,function(l,u){var c=l.getLayout().value*o;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),G(t,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})}function EN(i,t,e,n,r){var a=r==="vertical"?"x":"y";G(i,function(o){o.sort(function(m,_){return m.getLayout()[a]-_.getLayout()[a]});for(var s,l,u,c=0,f=o.length,h=r==="vertical"?"dx":"dy",p=0;p<f;p++)l=o[p],u=c-l.getLayout()[a],u>0&&(s=l.getLayout()[a]+u,r==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]+l.getLayout()[h]+t;var g=r==="vertical"?n:e;if(u=c-t-g,u>0){s=l.getLayout()[a]-u,r==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var p=f-2;p>=0;--p)l=o[p],u=l.getLayout()[a]+l.getLayout()[h]+t-c,u>0&&(s=l.getLayout()[a]-u,r==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]}})}function iAt(i,t,e){G(i.slice().reverse(),function(n){G(n,function(r){if(r.outEdges.length){var a=np(r.outEdges,rAt,e)/np(r.outEdges,i2);if(isNaN(a)){var o=r.outEdges.length;a=o?np(r.outEdges,aAt,e)/o:0}if(e==="vertical"){var s=r.getLayout().x+(a-cp(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(a-cp(r,e))*t;r.setLayout({y:l},!0)}}})})}function rAt(i,t){return cp(i.node2,t)*i.getValue()}function aAt(i,t){return cp(i.node2,t)}function oAt(i,t){return cp(i.node1,t)*i.getValue()}function sAt(i,t){return cp(i.node1,t)}function cp(i,t){return t==="vertical"?i.getLayout().x+i.getLayout().dx/2:i.getLayout().y+i.getLayout().dy/2}function i2(i){return i.getValue()}function np(i,t,e){for(var n=0,r=i.length,a=-1;++a<r;){var o=+t(i[a],e);isNaN(o)||(n+=o)}return n}function lAt(i,t,e){G(i,function(n){G(n,function(r){if(r.inEdges.length){var a=np(r.inEdges,oAt,e)/np(r.inEdges,i2);if(isNaN(a)){var o=r.inEdges.length;a=o?np(r.inEdges,sAt,e)/o:0}if(e==="vertical"){var s=r.getLayout().x+(a-cp(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(a-cp(r,e))*t;r.setLayout({y:l},!0)}}})})}function uAt(i,t){var e=t==="vertical"?"x":"y";G(i,function(n){n.outEdges.sort(function(r,a){return r.node2.getLayout()[e]-a.node2.getLayout()[e]}),n.inEdges.sort(function(r,a){return r.node1.getLayout()[e]-a.node1.getLayout()[e]})}),G(i,function(n){var r=0,a=0;G(n.outEdges,function(o){o.setLayout({sy:r},!0),r+=o.getLayout().dy}),G(n.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}function cAt(i){i.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes,r=e.edges;if(n.length){var a=1/0,o=-1/0;G(n,function(s){var l=s.getLayout().value;l<a&&(a=l),l>o&&(o=l)}),G(n,function(s){var l=new ua({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:t.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}r.length&&G(r,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function fAt(i){i.registerChartView(XMt),i.registerSeriesModel(YMt),i.registerLayout(qMt),i.registerVisual(cAt),i.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),i.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(r){var a=r.coordinateSystem,o=OD(a,t,r.get("scaleLimit"));r.setCenter(o.center),r.setZoom(o.zoom)})})}var AJ=(function(){function i(){}return i.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&e.get(t)!=null},i.prototype.getInitialData=function(t,e){var n,r=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),o=r.get("type"),s=a.get("type"),l;o==="category"?(t.layout="horizontal",n=r.getOrdinalMeta(),l=!this._hasEncodeRule("x")):s==="category"?(t.layout="vertical",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var u=["x","y"],c=t.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],h=u[1-c],p=[r,a],g=p[c].get("type"),m=p[1-c].get("type"),_=t.data;if(_&&l){var S=[];G(_,function(w,D){var C;Vt(w)?(C=w.slice(),w.unshift(D)):Vt(w.value)?(C=Rt({},w),C.value=C.value.slice(),w.value.unshift(D)):C=w,S.push(C)}),t.data=S}var T=this.defaultValueDimensions,M=[{name:f,type:HC(g),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:HC(m),dimsDef:T.slice()}];return F_(this,{coordDimensions:M,dimensionsCount:T.length+1,encodeDefaulter:Qe(PZ,M,this)})},i.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},i})(),wJ=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:vt.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:vt.color.shadow}},animationDuration:800},t})(di);fr(wJ,AJ,!0);var hAt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){var a=e.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l=e.get("layout")==="horizontal"?1:0;a.diff(s).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=b8(c,a,u,l,!0);a.setItemGraphicEl(u,f),o.add(f)}}).update(function(u,c){var f=s.getItemGraphicEl(c);if(!a.hasValue(u)){o.remove(f);return}var h=a.getItemLayout(u);f?(Bl(f),EJ(h,f,a,u)):f=b8(h,a,u,l),o.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&o.remove(c)}).execute(),this._data=a},t.prototype.remove=function(e){var n=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(a){a&&n.remove(a)})},t.type="boxplot",t})(si),dAt=(function(){function i(){}return i})(),pAt=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n.type="boxplotBoxPath",n}return t.prototype.getDefaultShape=function(){return new dAt},t.prototype.buildPath=function(e,n){var r=n.points,a=0;for(e.moveTo(r[a][0],r[a][1]),a++;a<4;a++)e.lineTo(r[a][0],r[a][1]);for(e.closePath();a<r.length;a++)e.moveTo(r[a][0],r[a][1]),a++,e.lineTo(r[a][0],r[a][1])},t})(_n);function b8(i,t,e,n,r){var a=i.ends,o=new pAt({shape:{points:r?vAt(a,n,i):a}});return EJ(i,o,t,e,r),o}function EJ(i,t,e,n,r){var a=e.hostModel,o=am[r?"initProps":"updateProps"];o(t,{shape:{points:i.ends}},a,n),t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=e.getItemModel(n),l=s.getModel("emphasis");qr(t,s),Fi(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function vAt(i,t,e){return kt(i,function(n){return n=n.slice(),n[t]=e.initBaseline,n})}var Z1=G;function gAt(i){var t=mAt(i);Z1(t,function(e){var n=e.seriesModels;n.length&&(yAt(e),Z1(n,function(r,a){_At(r,e.boxOffsetList[a],e.boxWidthList[a])}))})}function mAt(i){var t=[],e=[];return i.eachSeriesByType("boxplot",function(n){var r=n.getBaseAxis(),a=tn(e,r);a<0&&(a=e.length,e[a]=r,t[a]={axis:r,seriesModels:[]}),t[a].seriesModels.push(n)}),t}function yAt(i){var t=i.axis,e=i.seriesModels,n=e.length,r=i.boxWidthList=[],a=i.boxOffsetList=[],o=[],s;if(t.type==="category")s=t.getBandWidth();else{var l=0;Z1(e,function(g){l=Math.max(l,g.getData().count())});var u=t.getExtent();s=Math.abs(u[1]-u[0])/l}Z1(e,function(g){var m=g.get("boxWidth");Vt(m)||(m=[m,m]),o.push([se(m[0],s)||0,se(m[1],s)||0])});var c=s*.8-2,f=c/n*.3,h=(c-f*(n-1))/n,p=h/2-c/2;Z1(e,function(g,m){a.push(p),p+=f+h,r.push(Math.min(Math.max(h,o[m][0]),o[m][1]))})}function _At(i,t,e){var n=i.coordinateSystem,r=i.getData(),a=e/2,o=i.get("layout")==="horizontal"?0:1,s=1-o,l=["x","y"],u=r.mapDimension(l[o]),c=r.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var f=0;f<r.count();f++){var h=r.get(u,f),p=M(h,c[2],f),g=M(h,c[0],f),m=M(h,c[1],f),_=M(h,c[3],f),S=M(h,c[4],f),T=[];w(T,m,!1),w(T,_,!0),T.push(g,m,S,_),D(T,g),D(T,S),D(T,p),r.setItemLayout(f,{initBaseline:p[s],ends:T})}function M(C,R,z){var N=r.get(R,z),O=[];O[o]=C,O[s]=N;var U;return isNaN(C)||isNaN(N)?U=[NaN,NaN]:(U=n.dataToPoint(O),U[o]+=t),U}function w(C,R,z){var N=R.slice(),O=R.slice();N[o]+=a,O[o]-=a,z?C.push(N,O):C.push(O,N)}function D(C,R){var z=R.slice(),N=R.slice();z[o]-=a,N[o]+=a,C.push(z,N)}}function SAt(i,t){t=t||{};for(var e=[],n=[],r=t.boundIQR,a=r==="none"||r===0,o=0;o<i.length;o++){var s=Fs(i[o].slice()),l=nE(s,.25),u=nE(s,.5),c=nE(s,.75),f=s[0],h=s[s.length-1],p=(r??1.5)*(c-l),g=a?f:Math.max(f,l-p),m=a?h:Math.min(h,c+p),_=t.itemNameFormatter,S=Te(_)?_({value:o}):le(_)?_.replace("{value}",o+""):o+"";e.push([S,g,l,u,c,m]);for(var T=0;T<s.length;T++){var M=s[T];if(M<g||M>m){var w=[S,M];n.push(w)}}}return{boxData:e,outliers:n}}var xAt={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Na){var n="";qn(n)}var r=SAt(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}};function bAt(i){i.registerSeriesModel(wJ),i.registerChartView(hAt),i.registerLayout(gAt),i.registerTransform(xAt)}var TAt=["itemStyle","borderColor"],MAt=["itemStyle","borderColor0"],AAt=["itemStyle","borderColorDoji"],wAt=["itemStyle","color"],EAt=["itemStyle","color0"];function XU(i,t){return t.get(i>0?wAt:EAt)}function WU(i,t){return t.get(i===0?AAt:i>0?TAt:MAt)}var CAt={seriesType:"candlestick",plan:P_(),performRawSeries:!0,reset:function(i,t){if(!t.isSeriesFiltered(i)){var e=i.pipelineContext.large;return!e&&{progress:function(n,r){for(var a;(a=n.next())!=null;){var o=r.getItemModel(a),s=r.getItemLayout(a).sign,l=o.getItemStyle();l.fill=XU(s,o),l.stroke=WU(s,o)||l.fill;var u=r.ensureUniqueItemVisual(a,"style");Rt(u,l)}}}}}},DAt=["color","borderColor"],RAt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,n,r){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,n,r,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,n):this._incrementalRenderNormal(e,n)},t.prototype.eachRendered=function(e){mp(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e){var n=e.getData(),r=this._data,a=this.group,o=n.getLayout("isSimpleBox"),s=e.get("clip",!0),l=e.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(r).add(function(c){if(n.hasValue(c)){var f=n.getItemLayout(c);if(s&&T8(u,f))return;var h=CN(f,c,!0);Li(h,{shape:{points:f.ends}},e,c),DN(h,n,c,o),a.add(h),n.setItemGraphicEl(c,h)}}).update(function(c,f){var h=r.getItemGraphicEl(f);if(!n.hasValue(c)){a.remove(h);return}var p=n.getItemLayout(c);if(s&&T8(u,p)){a.remove(h);return}h?(Pn(h,{shape:{points:p.ends}},e,c),Bl(h)):h=CN(p),DN(h,n,c,o),a.add(h),n.setItemGraphicEl(c,h)}).remove(function(c){var f=r.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=n},t.prototype._renderLarge=function(e){this._clear(),M8(e,this.group);var n=e.get("clip",!0)?pT(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,n){for(var r=n.getData(),a=r.getLayout("isSimpleBox"),o;(o=e.next())!=null;){var s=r.getItemLayout(o),l=CN(s);DN(l,r,o,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(e,n){M8(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t})(si),LAt=(function(){function i(){}return i})(),IAt=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n.type="normalCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new LAt},t.prototype.buildPath=function(e,n){var r=n.points;this.__simpleBox?(e.moveTo(r[4][0],r[4][1]),e.lineTo(r[6][0],r[6][1])):(e.moveTo(r[0][0],r[0][1]),e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]),e.lineTo(r[3][0],r[3][1]),e.closePath(),e.moveTo(r[4][0],r[4][1]),e.lineTo(r[5][0],r[5][1]),e.moveTo(r[6][0],r[6][1]),e.lineTo(r[7][0],r[7][1]))},t})(_n);function CN(i,t,e){var n=i.ends;return new IAt({shape:{points:e?NAt(n,i):n},z2:100})}function T8(i,t){for(var e=!0,n=0;n<t.ends.length;n++)if(i.contain(t.ends[n][0],t.ends[n][1])){e=!1;break}return e}function DN(i,t,e,n){var r=t.getItemModel(e);i.useStyle(t.getItemVisual(e,"style")),i.style.strokeNoScale=!0,i.__simpleBox=n,qr(i,r);var a=t.getItemLayout(e).sign;G(i.states,function(s,l){var u=r.getModel(l),c=XU(a,u),f=WU(a,u)||c,h=s.style||(s.style={});c&&(h.fill=c),f&&(h.stroke=f)});var o=r.getModel("emphasis");Fi(i,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function NAt(i,t){return kt(i,function(e){return e=e.slice(),e[1]=t.initBaseline,e})}var OAt=(function(){function i(){}return i})(),RN=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n.type="largeCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new OAt},t.prototype.buildPath=function(e,n){for(var r=n.points,a=0;a<r.length;)if(this.__sign===r[a++]){var o=r[a++];e.moveTo(o,r[a++]),e.lineTo(o,r[a++])}else a+=3},t})(_n);function M8(i,t,e,n){var r=i.getData(),a=r.getLayout("largePoints"),o=new RN({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(o);var s=new RN({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new RN({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(l),LN(1,o,i),LN(-1,s,i),LN(0,l,i),n&&(o.incremental=!0,s.incremental=!0),e&&e.push(o,s)}function LN(i,t,e,n){var r=WU(i,e)||XU(i,e),a=e.getModel("itemStyle").getItemStyle(DAt);t.useStyle(a),t.style.fill=null,t.style.stroke=r}var CJ=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,n,r){var a=n.getItemLayout(e);return a&&r.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t})(di);fr(CJ,AJ,!0);function PAt(i){!i||!Vt(i.series)||G(i.series,function(t){Le(t)&&t.type==="k"&&(t.type="candlestick")})}var zAt={seriesType:"candlestick",plan:P_(),reset:function(i){var t=i.coordinateSystem,e=i.getData(),n=BAt(i,e),r=0,a=1,o=["x","y"],s=e.getDimensionIndex(e.mapDimension(o[r])),l=kt(e.mapDimensionsAll(o[a]),e.getDimensionIndex,e),u=l[0],c=l[1],f=l[2],h=l[3];if(e.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),s<0||l.length<4)return;return{progress:i.pipelineContext.large?g:p};function p(m,_){for(var S,T=_.getStore();(S=m.next())!=null;){var M=T.get(s,S),w=T.get(u,S),D=T.get(c,S),C=T.get(f,S),R=T.get(h,S),z=Math.min(w,D),N=Math.max(w,D),O=j(z,M),U=j(N,M),F=j(C,M),V=j(R,M),W=[];Y(W,U,0),Y(W,O,1),W.push(nt(V),nt(U),nt(F),nt(O));var Z=_.getItemModel(S),H=!!Z.get(["itemStyle","borderColorDoji"]);_.setItemLayout(S,{sign:A8(T,S,w,D,c,H),initBaseline:w>D?U[a]:O[a],ends:W,brushRect:Q(C,R,M)})}function j(q,$){var st=[];return st[r]=$,st[a]=q,isNaN($)||isNaN(q)?[NaN,NaN]:t.dataToPoint(st)}function Y(q,$,st){var ft=$.slice(),Mt=$.slice();ft[r]=rE(ft[r]+n/2,1,!1),Mt[r]=rE(Mt[r]-n/2,1,!0),st?q.push(ft,Mt):q.push(Mt,ft)}function Q(q,$,st){var ft=j(q,st),Mt=j($,st);return ft[r]-=n/2,Mt[r]-=n/2,{x:ft[0],y:ft[1],width:n,height:Mt[1]-ft[1]}}function nt(q){return q[r]=rE(q[r],1),q}}function g(m,_){for(var S=Uc(m.count*4),T=0,M,w=[],D=[],C,R=_.getStore(),z=!!i.get(["itemStyle","borderColorDoji"]);(C=m.next())!=null;){var N=R.get(s,C),O=R.get(u,C),U=R.get(c,C),F=R.get(f,C),V=R.get(h,C);if(isNaN(N)||isNaN(F)||isNaN(V)){S[T++]=NaN,T+=3;continue}S[T++]=A8(R,C,O,U,c,z),w[r]=N,w[a]=F,M=t.dataToPoint(w,null,D),S[T++]=M?M[0]:NaN,S[T++]=M?M[1]:NaN,w[a]=V,M=t.dataToPoint(w,null,D),S[T++]=M?M[1]:NaN}_.setLayout("largePoints",S)}}};function A8(i,t,e,n,r,a){var o;return e>n?o=-1:e<n?o=1:o=a?0:t>0?i.get(r,t-1)<=n?1:-1:1,o}function BAt(i,t){var e=i.getBaseAxis(),n,r=e.type==="category"?e.getBandWidth():(n=e.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=se(_e(i.get("barMaxWidth"),r),r),o=se(_e(i.get("barMinWidth"),1),r),s=i.get("barWidth");return s!=null?se(s,r):Math.max(Math.min(r/2,a),o)}function UAt(i){i.registerChartView(RAt),i.registerSeriesModel(CJ),i.registerPreprocessor(PAt),i.registerVisual(CAt),i.registerLayout(zAt)}function w8(i,t){var e=t.rippleEffectColor||t.color;i.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var VAt=(function(i){ht(t,i);function t(e,n){var r=i.call(this)||this,a=new hT(e,n),o=new Ce;return r.add(a),r.add(o),r.updateData(e,n),r}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var n=e.symbolType,r=e.color,a=e.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var l=Ar(n,-1,-1,2,2,r);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/a*e.period+e.effectOffset;l.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),o.add(l)}w8(o,e)},t.prototype.updateEffectAnimation=function(e){for(var n=this._effectCfg,r=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var s=a[o];if(n[s]!==e[s]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}w8(r,e)},t.prototype.highlight=function(){Sh(this)},t.prototype.downplay=function(){xh(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,n){var r=this,a=e.hostModel;this.childAt(0).updateData(e,n);var o=this.childAt(1),s=e.getItemModel(n),l=e.getItemVisual(n,"symbol"),u=B_(e.getItemVisual(n,"symbolSize")),c=e.getItemVisual(n,"style"),f=c&&c.fill,h=s.getModel("emphasis");o.setScale(u),o.traverse(function(_){_.setStyle("fill",f)});var p=lm(e.getItemVisual(n,"symbolOffset"),u);p&&(o.x=p[0],o.y=p[1]);var g=e.getItemVisual(n,"symbolRotate");o.rotation=(g||0)*Math.PI/180||0;var m={};m.showEffectOn=a.get("showEffectOn"),m.rippleScale=s.get(["rippleEffect","scale"]),m.brushType=s.get(["rippleEffect","brushType"]),m.period=s.get(["rippleEffect","period"])*1e3,m.effectOffset=n/e.count(),m.z=a.getShallow("z")||0,m.zlevel=a.getShallow("zlevel")||0,m.symbolType=l,m.color=f,m.rippleEffectColor=s.get(["rippleEffect","color"]),m.rippleNumber=s.get(["rippleEffect","number"]),m.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(_){_==="emphasis"?m.showEffectOn!=="render"&&r.startEffectAnimation(m):_==="normal"&&m.showEffectOn!=="render"&&r.stopEffectAnimation()}),this._effectCfg=m,Fi(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t})(Ce),HAt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._symbolDraw=new dT(VAt)},t.prototype.render=function(e,n,r){var a=e.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,r=n&&n.getArea&&n.getArea();return e.get("clip",!0)?r:null},t.prototype.updateTransform=function(e,n,r){var a=e.getData();this.group.dirty();var o=vT("").reset(e,n,r);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var n=e.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=zY(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t})(si),kAt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return rf(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,n,r){return r.point(n.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t})(di);function FAt(i){i.registerChartView(HAt),i.registerSeriesModel(kAt),i.registerLayout(vT("effectScatter"))}var DJ=(function(i){ht(t,i);function t(e,n,r){var a=i.call(this)||this;return a.add(a.createLine(e,n,r)),a._updateEffectSymbol(e,n),a}return t.prototype.createLine=function(e,n,r){return new OU(e,n,r)},t.prototype._updateEffectSymbol=function(e,n){var r=e.getItemModel(n),a=r.getModel("effect"),o=a.get("symbolSize"),s=a.get("symbol");Vt(o)||(o=[o,o]);var l=e.getItemVisual(n,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=Ar(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(e,a,n))},t.prototype._updateEffectAnimation=function(e,n,r){var a=this.childAt(1);if(a){var o=e.getItemLayout(r),s=n.get("period")*1e3,l=n.get("loop"),u=n.get("roundTrip"),c=n.get("constantSpeed"),f=Da(n.get("delay"),function(p){return p/e.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),c>0&&(s=this._getLineLength(a)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var h=void 0;Te(f)?h=f(r):h=f,a.__t>0&&(h=-s*a.__t),this._animateSymbol(a,s,h,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(e,n,r,a,o){if(n>0){e.__t=0;var s=this,l=e.animate("",a).when(o?n*2:n,{__t:o?2:1}).delay(r).during(function(){s._updateSymbolPosition(e)});a||l.done(function(){s.remove(e)}),l.start()}},t.prototype._getLineLength=function(e){return eh(e.__p1,e.__cp1)+eh(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,n){e.__p1=n[0],e.__p2=n[1],e.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(e,n,r){this.childAt(0).updateData(e,n,r),this._updateEffectSymbol(e,n)},t.prototype._updateSymbolPosition=function(e){var n=e.__p1,r=e.__p2,a=e.__cp1,o=e.__t<1?e.__t:2-e.__t,s=[e.x,e.y],l=s.slice(),u=Ca,c=GO;s[0]=u(n[0],a[0],r[0],o),s[1]=u(n[1],a[1],r[1],o);var f=e.__t<1?c(n[0],a[0],r[0],o):c(r[0],a[0],n[0],1-o),h=e.__t<1?c(n[1],a[1],r[1],o):c(r[1],a[1],n[1],1-o);e.rotation=-Math.atan2(h,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=eh(l,s)*1.05,o===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):e.__lastT===1?e.scaleY=2*eh(n,s):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=s[0],e.y=s[1]},t.prototype.updateLayout=function(e,n){this.childAt(0).updateLayout(e,n);var r=e.getItemModel(n).getModel("effect");this._updateEffectAnimation(e,r,n)},t})(Ce),RJ=(function(i){ht(t,i);function t(e,n,r){var a=i.call(this)||this;return a._createPolyline(e,n,r),a}return t.prototype._createPolyline=function(e,n,r){var a=e.getItemLayout(n),o=new Ia({shape:{points:a}});this.add(o),this._updateCommonStl(e,n,r)},t.prototype.updateData=function(e,n,r){var a=e.hostModel,o=this.childAt(0),s={shape:{points:e.getItemLayout(n)}};Pn(o,s,a,n),this._updateCommonStl(e,n,r)},t.prototype._updateCommonStl=function(e,n,r){var a=this.childAt(0),o=e.getItemModel(n),s=r&&r.emphasisLineStyle,l=r&&r.focus,u=r&&r.blurScope,c=r&&r.emphasisDisabled;if(!r||e.hasItemOption){var f=o.getModel("emphasis");s=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(e.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var h=a.ensureState("emphasis");h.style=s,Fi(this,l,u,c)},t.prototype.updateLayout=function(e,n){var r=this.childAt(0);r.setShape("points",e.getItemLayout(n))},t})(Ce),GAt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return t.prototype.createLine=function(e,n,r){return new RJ(e,n,r)},t.prototype._updateAnimationPoints=function(e,n){this._points=n;for(var r=[0],a=0,o=1;o<n.length;o++){var s=n[o-1],l=n[o];a+=eh(s,l),r.push(a)}if(a===0){this._length=0;return}for(var o=0;o<r.length;o++)r[o]/=a;this._offsets=r,this._length=a},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var n=e.__t<1?e.__t:2-e.__t,r=this._points,a=this._offsets,o=r.length;if(a){var s=this._lastFrame,l;if(n<this._lastFramePercent){var u=Math.min(s+1,o-1);for(l=u;l>=0&&!(a[l]<=n);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(a[l]>n);l++);l=Math.min(l-1,o-2)}var c=(n-a[l])/(a[l+1]-a[l]),f=r[l],h=r[l+1];e.x=f[0]*(1-c)+c*h[0],e.y=f[1]*(1-c)+c*h[1];var p=e.__t<1?h[0]-f[0]:f[0]-h[0],g=e.__t<1?h[1]-f[1]:f[1]-h[1];e.rotation=-Math.atan2(g,p)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,e.ignore=!1}},t})(DJ),XAt=(function(){function i(){this.polyline=!1,this.curveness=0,this.segs=[]}return i})(),WAt=(function(i){ht(t,i);function t(e){var n=i.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:vt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new XAt},t.prototype.buildPath=function(e,n){var r=n.segs,a=n.curveness,o;if(n.polyline)for(o=this._off;o<r.length;){var s=r[o++];if(s>0){e.moveTo(r[o++],r[o++]);for(var l=1;l<s;l++)e.lineTo(r[o++],r[o++])}}else for(o=this._off;o<r.length;){var u=r[o++],c=r[o++],f=r[o++],h=r[o++];if(e.moveTo(u,c),a>0){var p=(u+f)/2-(c-h)*a,g=(c+h)/2-(f-u)*a;e.quadraticCurveTo(p,g,f,h)}else e.lineTo(f,h)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(e,n){var r=this.shape,a=r.segs,o=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],h=a[u++],p=1;p<c;p++){var g=a[u++],m=a[u++];if(Pd(f,h,g,m,s,e,n))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],h=a[u++],g=a[u++],m=a[u++];if(o>0){var _=(f+g)/2-(h-m)*o,S=(h+m)/2-(g-f)*o;if(Rq(f,h,_,S,g,m,s,e,n))return l}else if(Pd(f,h,g,m,s,e,n))return l;l++}return-1},t.prototype.contain=function(e,n){var r=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=r[0],n=r[1],a.contain(e,n)){var o=this.hoverDataIdx=this.findDataIndex(e,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,r=n.segs,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<r.length;){var c=r[u++],f=r[u++];a=Math.min(c,a),s=Math.max(c,s),o=Math.min(f,o),l=Math.max(f,l)}e=this._rect=new Oe(a,o,s,l)}return e},t})(_n),YAt=(function(){function i(){this.group=new Ce}return i.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},i.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},i.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],r=e.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+r.length);s.set(a),s.set(r,o),n.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:r}),this._setCommon(l,e),l.__startIndex=t.start}},i.prototype.remove=function(){this._clear()},i.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},i.prototype._create=function(){var t=new WAt({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},i.prototype._setCommon=function(t,e,n){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var o=Ue(t);o.seriesIndex=r.seriesIndex,t.on("mousemove",function(s){o.dataIndex=null;var l=t.hoverDataIdx;l>0&&(o.dataIndex=l+t.__startIndex)})},i.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},i})(),LJ={seriesType:"lines",plan:P_(),reset:function(i){var t=i.coordinateSystem;if(t){var e=i.get("polyline"),n=i.pipelineContext.large;return{progress:function(r,a){var o=[];if(n){var s=void 0,l=r.end-r.start;if(e){for(var u=0,c=r.start;c<r.end;c++)u+=i.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var f=0,h=[],c=r.start;c<r.end;c++){var p=i.getLineCoords(c,o);e&&(s[f++]=p);for(var g=0;g<p;g++)h=t.dataToPoint(o[g],!1,h),s[f++]=h[0],s[f++]=h[1]}a.setLayout("linesPoints",s)}else for(var c=r.start;c<r.end;c++){var m=a.getItemModel(c),p=i.getLineCoords(c,o),_=[];if(e)for(var S=0;S<p;S++)_.push(t.dataToPoint(o[S]));else{_[0]=t.dataToPoint(o[0]),_[1]=t.dataToPoint(o[1]);var T=m.get(["lineStyle","curveness"]);+T&&(_[2]=[(_[0][0]+_[1][0])/2-(_[0][1]-_[1][1])*T,(_[0][1]+_[1][1])/2-(_[1][0]-_[0][0])*T])}a.setItemLayout(c,_)}}}}}},qAt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){var a=e.getData(),o=this._updateLineDraw(a,e),s=e.get("zlevel"),l=e.get(["effect","trailLength"]),u=r.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(a);var f=e.get("clip",!0)&&pT(e.coordinateSystem,!1,e);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,r){var a=e.getData(),o=this._updateLineDraw(a,e);o.incrementalPrepareUpdate(a),this._clearLayer(r),this._finished=!1},t.prototype.incrementalRender=function(e,n,r){this._lineDraw.incrementalUpdate(e,n.getData()),this._finished=e.end===n.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,n,r){var a=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=LJ.reset(e,n,r);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(r)},t.prototype._updateLineDraw=function(e,n){var r=this._lineDraw,a=this._showEffect(n),o=!!n.get("polyline"),s=n.pipelineContext,l=s.large;return(!r||a!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(r&&r.remove(),r=this._lineDraw=l?new YAt:new PU(o?a?GAt:RJ:a?DJ:OU),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=l),this.group.add(r.group),r},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var n=e.getZr(),r=n.painter.getType()==="svg";!r&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.type="lines",t})(si),ZAt=typeof Uint32Array>"u"?Array:Uint32Array,jAt=typeof Float64Array>"u"?Array:Float64Array;function E8(i){var t=i.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(i.data=kt(t,function(e){var n=[e[0].coord,e[1].coord],r={coords:n};return e[0].name&&(r.fromName=e[0].name),e[1].name&&(r.toName=e[1].name),rD([r,e[0],e[1]])}))}var KAt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.init=function(e){e.data=e.data||[],E8(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),i.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(E8(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}i.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=J0(this._flatCoords,n.flatCoords),this._flatCoordsOffset=J0(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var n=this.getData().getItemModel(e),r=n.option instanceof Array?n.option:n.getShallow("coords");return r},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,n){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[e*2],a=this._flatCoordsOffset[e*2+1],o=0;o<a;o++)n[o]=n[o]||[],n[o][0]=this._flatCoords[r+o*2],n[o][1]=this._flatCoords[r+o*2+1];return a}else{for(var s=this._getCoordsFromItemModel(e),o=0;o<s.length;o++)n[o]=n[o]||[],n[o][0]=s[o][0],n[o][1]=s[o][1];return s.length}},t.prototype._processFlatCoordsArray=function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),En(e[0])){for(var r=e.length,a=new ZAt(r),o=new jAt(r),s=0,l=0,u=0,c=0;c<r;){u++;var f=e[c++];a[l++]=s+n,a[l++]=f;for(var h=0;h<f;h++){var p=e[c++],g=e[c++];o[s++]=p,o[s++]=g}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,n){var r=new xo(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(a,o,s,l){if(a instanceof Array)return NaN;r.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),r},t.prototype.formatTooltip=function(e,n,r){var a=this.getData(),o=a.getItemModel(e),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),zr("nameValue",{name:c.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),n=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t})(di);function Dw(i){return i instanceof Array||(i=[i,i]),i}var QAt={seriesType:"lines",reset:function(i){var t=Dw(i.get("symbol")),e=Dw(i.get("symbolSize")),n=i.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",e&&e[0]),n.setVisual("toSymbolSize",e&&e[1]);function r(a,o){var s=a.getItemModel(o),l=Dw(s.getShallow("symbol",!0)),u=Dw(s.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(o,"fromSymbol",l[0]),l[1]&&a.setItemVisual(o,"toSymbol",l[1]),u[0]&&a.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:n.hasItemOption?r:null}}};function JAt(i){i.registerChartView(qAt),i.registerSeriesModel(KAt),i.registerLayout(LJ),i.registerVisual(QAt)}var $At=256,twt=(function(){function i(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=ys.createCanvas();this.canvas=t}return i.prototype.update=function(t,e,n,r,a,o){var s=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,h=f.getContext("2d"),p=t.length;f.width=e,f.height=n;for(var g=0;g<p;++g){var m=t[g],_=m[0],S=m[1],T=m[2],M=r(T);h.globalAlpha=M,h.drawImage(s,_-c,S-c)}if(!f.width||!f.height)return f;for(var w=h.getImageData(0,0,f.width,f.height),D=w.data,C=0,R=D.length,z=this.minOpacity,N=this.maxOpacity,O=N-z;C<R;){var M=D[C+3]/256,U=Math.floor(M*($At-1))*4;if(M>0){var F=o(M)?l:u;M>0&&(M=M*O+z),D[C++]=F[U],D[C++]=F[U+1],D[C++]=F[U+2],D[C++]=F[U+3]*M*256}else C+=4}return h.putImageData(w,0,0),f},i.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=ys.createCanvas()),e=this.pointSize+this.blurSize,n=e*2;t.width=n,t.height=n;var r=t.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor=vt.color.neutral99,r.beginPath(),r.arc(-e,e,this.pointSize,0,Math.PI*2,!0),r.closePath(),r.fill(),t},i.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,r=n[e]||(n[e]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],o=0,s=0;s<256;s++)t[e](s/255,!0,a),r[o++]=a[0],r[o++]=a[1],r[o++]=a[2],r[o++]=a[3];return r},i})();function ewt(i,t,e){var n=i[1]-i[0];t=kt(t,function(o){return{interval:[(o.interval[0]-i[0])/n,(o.interval[1]-i[0])/n]}});var r=t.length,a=0;return function(o){var s;for(s=a;s<r;s++){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}if(s===r)for(s=a-1;s>=0;s--){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}return s>=0&&s<r&&e[s]}}function nwt(i,t){var e=i[1]-i[0];return t=[(t[0]-i[0])/e,(t[1]-i[0])/e],function(n){return n>=t[0]&&n<=t[1]}}function C8(i){var t=i.dimensions;return t[0]==="lng"&&t[1]==="lat"}var iwt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){var a;n.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===e&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"||o.type==="matrix"?this._renderOnGridLike(e,r,0,e.getData().count()):C8(o)&&this._renderOnGeo(o,e,a,r)},t.prototype.incrementalPrepareRender=function(e,n,r){this.group.removeAll()},t.prototype.incrementalRender=function(e,n,r,a){var o=n.coordinateSystem;o&&(C8(o)?this.render(n,r,a):(this._progressiveEls=[],this._renderOnGridLike(n,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){mp(this._progressiveEls||this.group,e)},t.prototype._renderOnGridLike=function(e,n,r,a,o){var s=e.coordinateSystem,l=lp(s,"cartesian2d"),u=lp(s,"matrix"),c,f,h,p;if(l){var g=s.getAxis("x"),m=s.getAxis("y");c=g.getBandWidth()+.5,f=m.getBandWidth()+.5,h=g.scale.getExtent(),p=m.scale.getExtent()}for(var _=this.group,S=e.getData(),T=e.getModel(["emphasis","itemStyle"]).getItemStyle(),M=e.getModel(["blur","itemStyle"]).getItemStyle(),w=e.getModel(["select","itemStyle"]).getItemStyle(),D=e.get(["itemStyle","borderRadius"]),C=Zr(e),R=e.getModel("emphasis"),z=R.get("focus"),N=R.get("blurScope"),O=R.get("disabled"),U=l||u?[S.mapDimension("x"),S.mapDimension("y"),S.mapDimension("value")]:[S.mapDimension("time"),S.mapDimension("value")],F=r;F<a;F++){var V=void 0,W=S.getItemVisual(F,"style");if(l){var Z=S.get(U[0],F),H=S.get(U[1],F);if(isNaN(S.get(U[2],F))||isNaN(Z)||isNaN(H)||Z<h[0]||Z>h[1]||H<p[0]||H>p[1])continue;var j=s.dataToPoint([Z,H]);V=new cn({shape:{x:j[0]-c/2,y:j[1]-f/2,width:c,height:f},style:W})}else if(u){var Y=s.dataToLayout([S.get(U[0],F),S.get(U[1],F)]).rect;if(Ya(Y.x))continue;V=new cn({z2:1,shape:Y,style:W})}else{if(isNaN(S.get(U[1],F)))continue;var Q=s.dataToLayout([S.get(U[0],F)]),Y=Q.contentRect||Q.rect;if(Ya(Y.x)||Ya(Y.y))continue;V=new cn({z2:1,shape:Y,style:W})}if(S.hasItemOption){var nt=S.getItemModel(F),q=nt.getModel("emphasis");T=q.getModel("itemStyle").getItemStyle(),M=nt.getModel(["blur","itemStyle"]).getItemStyle(),w=nt.getModel(["select","itemStyle"]).getItemStyle(),D=nt.get(["itemStyle","borderRadius"]),z=q.get("focus"),N=q.get("blurScope"),O=q.get("disabled"),C=Zr(nt)}V.shape.r=D;var $=e.getRawValue(F),st="-";$&&$[2]!=null&&(st=$[2]+""),ha(V,C,{labelFetcher:e,labelDataIndex:F,defaultOpacity:W.opacity,defaultText:st}),V.ensureState("emphasis").style=T,V.ensureState("blur").style=M,V.ensureState("select").style=w,Fi(V,z,N,O),V.incremental=o,o&&(V.states.emphasis.hoverLayer=!0),_.add(V),S.setItemGraphicEl(F,V),this._progressiveEls&&this._progressiveEls.push(V)}},t.prototype._renderOnGeo=function(e,n,r,a){var o=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new twt;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var c=e.getViewRect().clone(),f=e.getRoamTransform();c.applyTransform(f);var h=Math.max(c.x,0),p=Math.max(c.y,0),g=Math.min(c.width+c.x,a.getWidth()),m=Math.min(c.height+c.y,a.getHeight()),_=g-h,S=m-p,T=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],M=l.mapArray(T,function(R,z,N){var O=e.dataToPoint([R,z]);return O[0]-=h,O[1]-=p,O.push(N),O}),w=r.getExtent(),D=r.type==="visualMap.continuous"?nwt(w,r.option.range):ewt(w,r.getPieceList(),r.option.selected);u.update(M,_,S,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},D);var C=new da({style:{width:_,height:S,x:h,y:p,image:u.canvas},silent:!0});this.group.add(C)},t.type="heatmap",t})(si),rwt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return rf(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=O_.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:vt.color.primary}}},t})(di);function awt(i){i.registerChartView(iwt),i.registerSeriesModel(rwt)}var owt=["itemStyle","borderWidth"],D8=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],IN=new nf,swt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){var a=this.group,o=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),h={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:e,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:D8[+c],categoryDim:D8[1-+c]};o.diff(s).add(function(g){if(o.hasValue(g)){var m=L8(o,g),_=R8(o,g,m,h),S=I8(o,h,_);o.setItemGraphicEl(g,S),a.add(S),O8(S,h,_)}}).update(function(g,m){var _=s.getItemGraphicEl(m);if(!o.hasValue(g)){a.remove(_);return}var S=L8(o,g),T=R8(o,g,S,h),M=BJ(o,T);_&&M!==_.__pictorialShapeStr&&(a.remove(_),o.setItemGraphicEl(g,null),_=null),_?pwt(_,h,T):_=I8(o,h,T,!0),o.setItemGraphicEl(g,_),_.__pictorialSymbolMeta=T,a.add(_),O8(_,h,T)}).remove(function(g){var m=s.getItemGraphicEl(g);m&&N8(s,g,m.__pictorialSymbolMeta.animationModel,m)}).execute();var p=e.get("clip",!0)?pT(e.coordinateSystem,!1,e):null;return p?a.setClipPath(p):a.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(e,n){var r=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(o){N8(a,Ue(o).dataIndex,e,o)}):r.removeAll()},t.type="pictorialBar",t})(si);function R8(i,t,e,n){var r=i.getItemLayout(t),a=e.get("symbolRepeat"),o=e.get("symbolClip"),s=e.get("symbolPosition")||"start",l=e.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=e.get("symbolPatternSize")||2,f=e.isAnimationEnabled(),h={dataIndex:t,layout:r,itemModel:e,symbolType:i.getItemVisual(t,"symbol")||"circle",style:i.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?e:null,hoverScale:f&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};lwt(e,a,r,n,h),uwt(i,t,r,a,o,h.boundingLength,h.pxSign,c,n,h),cwt(e,h.symbolScale,u,n,h);var p=h.symbolSize,g=lm(e.get("symbolOffset"),p);return fwt(e,p,r,a,o,g,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,n,h),h}function lwt(i,t,e,n,r){var a=n.valueDim,o=i.get("symbolBoundingData"),s=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(e[a.wh]<=0),c;if(Vt(o)){var f=[NN(s,o[0])-l,NN(s,o[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else o!=null?c=NN(s,o)-l:t?c=n.coordSysExtent[a.index][u]-l:c=e[a.wh];r.boundingLength=c,t&&(r.repeatCutLength=e[a.wh]);var h=a.xy==="x",p=s.inverse;r.pxSign=h&&!p||!h&&p?c>=0?1:-1:c>0?1:-1}function NN(i,t){return i.toGlobalCoord(i.dataToCoord(i.scale.parse(t)))}function uwt(i,t,e,n,r,a,o,s,l,u){var c=l.valueDim,f=l.categoryDim,h=Math.abs(e[f.wh]),p=i.getItemVisual(t,"symbolSize"),g;Vt(p)?g=p.slice():p==null?g=["100%","100%"]:g=[p,p],g[f.index]=se(g[f.index],h),g[c.index]=se(g[c.index],n?h:Math.abs(a)),u.symbolSize=g;var m=u.symbolScale=[g[0]/s,g[1]/s];m[c.index]*=(l.isHorizontal?-1:1)*o}function cwt(i,t,e,n,r){var a=i.get(owt)||0;a&&(IN.attr({scaleX:t[0],scaleY:t[1],rotation:e}),IN.updateTransform(),a/=IN.getLineScale(),a*=t[n.valueDim.index]),r.valueLineWidth=a||0}function fwt(i,t,e,n,r,a,o,s,l,u,c,f){var h=c.categoryDim,p=c.valueDim,g=f.pxSign,m=Math.max(t[p.index]+s,0),_=m;if(n){var S=Math.abs(l),T=Da(i.get("symbolMargin"),"15%")+"",M=!1;T.lastIndexOf("!")===T.length-1&&(M=!0,T=T.slice(0,T.length-1));var w=se(T,t[p.index]),D=Math.max(m+w*2,0),C=M?0:w*2,R=eB(n),z=R?n:P8((S+C)/D),N=S-z*m;w=N/2/(M?z:Math.max(z-1,1)),D=m+w*2,C=M?0:w*2,!R&&n!=="fixed"&&(z=u?P8((Math.abs(u)+C)/D):0),_=z*D-C,f.repeatTimes=z,f.symbolMargin=w}var O=g*(_/2),U=f.pathPosition=[];U[h.index]=e[h.wh]/2,U[p.index]=o==="start"?O:o==="end"?l-O:l/2,a&&(U[0]+=a[0],U[1]+=a[1]);var F=f.bundlePosition=[];F[h.index]=e[h.xy],F[p.index]=e[p.xy];var V=f.barRectShape=Rt({},e);V[p.wh]=g*Math.max(Math.abs(e[p.wh]),Math.abs(U[p.index]+O)),V[h.wh]=e[h.wh];var W=f.clipShape={};W[h.xy]=-e[h.xy],W[h.wh]=c.ecSize[h.wh],W[p.xy]=0,W[p.wh]=e[p.wh]}function IJ(i){var t=i.symbolPatternSize,e=Ar(i.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function NJ(i,t,e,n){var r=i.__pictorialBundle,a=e.symbolSize,o=e.valueLineWidth,s=e.pathPosition,l=t.valueDim,u=e.repeatTimes||0,c=0,f=a[t.valueDim.index]+o+e.symbolMargin*2;for(YU(i,function(m){m.__pictorialAnimationIndex=c,m.__pictorialRepeatTimes=u,c<u?B0(m,null,g(c),e,n):B0(m,null,{scaleX:0,scaleY:0},e,n,function(){r.remove(m)}),c++});c<u;c++){var h=IJ(e);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,r.add(h);var p=g(c);B0(h,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},e,n)}function g(m){var _=s.slice(),S=e.pxSign,T=m;return(e.symbolRepeatDirection==="start"?S>0:S<0)&&(T=u-1-m),_[l.index]=f*(T-u/2+.5)+s[l.index],{x:_[0],y:_[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function OJ(i,t,e,n){var r=i.__pictorialBundle,a=i.__pictorialMainPath;a?B0(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,n):(a=i.__pictorialMainPath=IJ(e),r.add(a),B0(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,n))}function PJ(i,t,e){var n=Rt({},t.barRectShape),r=i.__pictorialBarRect;r?B0(r,null,{shape:n},t,e):(r=i.__pictorialBarRect=new cn({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),r.disableMorphing=!0,i.add(r))}function zJ(i,t,e,n){if(e.symbolClip){var r=i.__pictorialClipPath,a=Rt({},e.clipShape),o=t.valueDim,s=e.animationModel,l=e.dataIndex;if(r)Pn(r,{shape:a},s,l);else{a[o.wh]=0,r=new cn({shape:a}),i.__pictorialBundle.setClipPath(r),i.__pictorialClipPath=r;var u={};u[o.wh]=e.clipShape[o.wh],am[n?"updateProps":"initProps"](r,{shape:u},s,l)}}}function L8(i,t){var e=i.getItemModel(t);return e.getAnimationDelayParams=hwt,e.isAnimationEnabled=dwt,e}function hwt(i){return{index:i.__pictorialAnimationIndex,count:i.__pictorialRepeatTimes}}function dwt(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function I8(i,t,e,n){var r=new Ce,a=new Ce;return r.add(a),r.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?NJ(r,t,e):OJ(r,t,e),PJ(r,e,n),zJ(r,t,e,n),r.__pictorialShapeStr=BJ(i,e),r.__pictorialSymbolMeta=e,r}function pwt(i,t,e){var n=e.animationModel,r=e.dataIndex,a=i.__pictorialBundle;Pn(a,{x:e.bundlePosition[0],y:e.bundlePosition[1]},n,r),e.symbolRepeat?NJ(i,t,e,!0):OJ(i,t,e,!0),PJ(i,e,!0),zJ(i,t,e,!0)}function N8(i,t,e,n){var r=n.__pictorialBarRect;r&&r.removeTextContent();var a=[];YU(n,function(o){a.push(o)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(e=null),G(a,function(o){sp(o,{scaleX:0,scaleY:0},e,t,function(){n.parent&&n.parent.remove(n)})}),i.setItemGraphicEl(t,null)}function BJ(i,t){return[i.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function YU(i,t,e){G(i.__pictorialBundle.children(),function(n){n!==i.__pictorialBarRect&&t.call(e,n)})}function B0(i,t,e,n,r,a){t&&i.attr(t),n.symbolClip&&!r?e&&i.attr(e):e&&am[r?"updateProps":"initProps"](i,e,n.animationModel,n.dataIndex,a)}function O8(i,t,e){var n=e.dataIndex,r=e.itemModel,a=r.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),h=a.get("scale");YU(i,function(m){if(m instanceof da){var _=m.style;m.useStyle(Rt({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},e.style))}else m.useStyle(e.style);var S=m.ensureState("emphasis");S.style=o,h&&(S.scaleX=m.scaleX*1.1,S.scaleY=m.scaleY*1.1),m.ensureState("blur").style=s,m.ensureState("select").style=l,u&&(m.cursor=u),m.z2=e.z2});var p=t.valueDim.posDesc[+(e.boundingLength>0)],g=i.__pictorialBarRect;g.ignoreClip=!0,ha(g,Zr(r),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:u_(t.seriesModel.getData(),n),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:p}),Fi(i,c,f,a.get("disabled"))}function P8(i){var t=Math.round(i);return Math.abs(i-t)<1e-4?t:Math.ceil(i)}var vwt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return t.prototype.getInitialData=function(e){return e.stack=null,i.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=yp(Rb.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:vt.color.primary}}}),t})(Rb);function gwt(i){i.registerChartView(swt),i.registerSeriesModel(vwt),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,Qe(iK,"pictorialBar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,rK("pictorialBar"))}var mwt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return t.prototype.render=function(e,n,r){var a=e.getData(),o=this,s=this.group,l=e.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;s.x=0,s.y=c.y+f[0];function h(_){return _.name}var p=new bh(this._layersSeries||[],l,h,h),g=[];p.add(ue(m,this,"add")).update(ue(m,this,"update")).remove(ue(m,this,"remove")).execute();function m(_,S,T){var M=o._layers;if(_==="remove"){s.remove(M[S]);return}for(var w=[],D=[],C,R=l[S].indices,z=0;z<R.length;z++){var N=a.getItemLayout(R[z]),O=N.x,U=N.y0,F=N.y;w.push(O,U),D.push(O,U+F),C=a.getItemVisual(R[z],"style")}var V,W=a.getItemLayout(R[0]),Z=e.getModel("label"),H=Z.get("margin"),j=e.getModel("emphasis");if(_==="add"){var Y=g[S]=new Ce;V=new ZK({shape:{points:w,stackedOnPoints:D,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Y.add(V),s.add(Y),e.isAnimationEnabled()&&V.setClipPath(ywt(V.getBoundingRect(),e,function(){V.removeClipPath()}))}else{var Y=M[T];V=Y.childAt(0),s.add(Y),g[S]=Y,Pn(V,{shape:{points:w,stackedOnPoints:D}},e),Bl(V)}ha(V,Zr(e),{labelDataIndex:R[z-1],defaultText:a.getName(R[z-1]),inheritColor:C.fill},{normal:{verticalAlign:"middle"}}),V.setTextConfig({position:null,local:!0});var Q=V.getTextContent();Q&&(Q.x=W.x-H,Q.y=W.y0+W.y/2),V.useStyle(C),a.setItemGraphicEl(S,V),qr(V,e),Fi(V,j.get("focus"),j.get("blurScope"),j.get("disabled"))}this._layersSeries=l,this._layers=g},t.type="themeRiver",t})(si);function ywt(i,t,e){var n=new cn({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}});return Li(n,{shape:{x:i.x-50,width:i.width+100,height:i.height+20}},t,e),n}var ON=2,_wt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new G_(ue(this.getData,this),ue(this.getRawData,this))},t.prototype.fixData=function(e){var n=e.length,r={},a=aP(e,function(h){return r.hasOwnProperty(h[0]+"")||(r[h[0]+""]=-1),h[2]}),o=[];a.buckets.each(function(h,p){o.push({name:p,dataList:h})});for(var s=o.length,l=0;l<s;++l){for(var u=o[l].name,c=0;c<o[l].dataList.length;++c){var f=o[l].dataList[c][0]+"";r[f]=l}for(var f in r)r.hasOwnProperty(f)&&r[f]!==l&&(r[f]=l,e[n]=[f,0,u],n++)}return e},t.prototype.getInitialData=function(e,n){for(var r=this.getReferringComponents("singleAxis",$i).models[0],a=r.get("type"),o=Gn(e.data,function(g){return g[2]!==void 0}),s=this.fixData(o||[]),l=[],u=this.nameMap=ye(),c=0,f=0;f<s.length;++f)l.push(s[f][ON]),u.get(s[f][ON])||(u.set(s[f][ON],c),c++);var h=U_(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:HC(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new xo(h,this);return p.initData(s),p},t.prototype.getLayerSeries=function(){for(var e=this.getData(),n=e.count(),r=[],a=0;a<n;++a)r[a]=a;var o=e.mapDimension("single"),s=aP(r,function(u){return e.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(f,h){return e.get(o,f)-e.get(o,h)}),l.push({name:c,indices:u})}),l},t.prototype.getAxisTooltipData=function(e,n,r){Vt(e)||(e=e?[e]:[]);for(var a=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,h=-1,p=o[c].indices.length,g=0;g<p;++g){var m=a.get(e[0],o[c].indices[g]),_=Math.abs(m-n);_<=f&&(u=m,f=_,h=o[c].indices[g])}s.push(h)}return{dataIndices:s,nestestValue:u}},t.prototype.formatTooltip=function(e,n,r){var a=this.getData(),o=a.getName(e),s=a.get(a.mapDimension("value"),e);return zr("nameValue",{name:o,value:s})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t})(di);function Swt(i,t){i.eachSeriesByType("themeRiver",function(e){var n=e.getData(),r=e.coordinateSystem,a={},o=r.getRect();a.rect=o;var s=e.get("boundaryGap"),l=r.getAxis();if(a.boundaryGap=s,l.orient==="horizontal"){s[0]=se(s[0],o.height),s[1]=se(s[1],o.height);var u=o.height-s[0]-s[1];z8(n,e,u)}else{s[0]=se(s[0],o.width),s[1]=se(s[1],o.width);var c=o.width-s[0]-s[1];z8(n,e,c)}n.setLayout("layoutInfo",a)})}function z8(i,t,e){if(i.count())for(var n=t.coordinateSystem,r=t.getLayerSeries(),a=i.mapDimension("single"),o=i.mapDimension("value"),s=kt(r,function(_){return kt(_.indices,function(S){var T=n.dataToPoint(i.get(a,S));return T[1]=i.get(o,S),T})}),l=xwt(s),u=l.y0,c=e/l.max,f=r.length,h=r[0].indices.length,p,g=0;g<h;++g){p=u[g]*c,i.setItemLayout(r[0].indices[g],{layerIndex:0,x:s[0][g][0],y0:p,y:s[0][g][1]*c});for(var m=1;m<f;++m)p+=s[m-1][g][1]*c,i.setItemLayout(r[m].indices[g],{layerIndex:m,x:s[m][g][0],y0:p,y:s[m][g][1]*c})}}function xwt(i){for(var t=i.length,e=i[0].length,n=[],r=[],a=0,o=0;o<e;++o){for(var s=0,l=0;l<t;++l)s+=i[l][o][1];s>a&&(a=s),n.push(s)}for(var u=0;u<e;++u)r[u]=(a-n[u])/2;a=0;for(var c=0;c<e;++c){var f=n[c]+r[c];f>a&&(a=f)}return{y0:r,max:a}}function bwt(i){i.registerChartView(mwt),i.registerSeriesModel(_wt),i.registerLayout(Swt),i.registerProcessor(k_("themeRiver"))}var Twt=2,Mwt=4,B8=(function(i){ht(t,i);function t(e,n,r,a){var o=i.call(this)||this;o.z2=Twt,o.textConfig={inside:!0},Ue(o).seriesIndex=n.seriesIndex;var s=new wn({z2:Mwt,silent:e.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,e,n,r,a),o}return t.prototype.updateData=function(e,n,r,a,o){this.node=n,n.piece=this,r=r||this._seriesModel,a=a||this._ecModel;var s=this;Ue(s).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),c=n.getLayout(),f=Rt({},c);f.label=null;var h=n.getVisual("style");h.lineJoin="bevel";var p=n.getVisual("decal");p&&(h.decal=o_(p,o));var g=Hc(l.getModel("itemStyle"),f,!0);Rt(f,g),G(Jo,function(T){var M=s.ensureState(T),w=l.getModel([T,"itemStyle"]);M.style=w.getItemStyle();var D=Hc(w,f);D&&(M.shape=D)}),e?(s.setShape(f),s.shape.r=c.r0,Li(s,{shape:{r:c.r}},r,n.dataIndex)):(Pn(s,{shape:f},r),Bl(s)),s.useStyle(h),this._updateLabel(r);var m=l.getShallow("cursor");m&&s.attr("cursor",m),this._seriesModel=r||this._seriesModel,this._ecModel=a||this._ecModel;var _=u.get("focus"),S=_==="relative"?J0(n.getAncestorsIndices(),n.getDescendantIndices()):_==="ancestor"?n.getAncestorsIndices():_==="descendant"?n.getDescendantIndices():_;Fi(this,S,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e){var n=this,r=this.node.getModel(),a=r.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,h=f.getTextContent(),p=this.node.dataIndex,g=a.get("minAngle")/180*Math.PI,m=a.get("show")&&!(g!=null&&Math.abs(s)<g);h.ignore=!m,G(gb,function(S){var T=S==="normal"?r.getModel("label"):r.getModel([S,"label"]),M=S==="normal",w=M?h:h.ensureState(S),D=e.getFormattedLabel(p,S);M&&(D=D||n.node.name),w.style=Si(T,{},null,S!=="normal",!0),D&&(w.style.text=D);var C=T.get("show");C!=null&&!M&&(w.ignore=!C);var R=_(T,"position"),z=M?f:f.states[S],N=z.style.fill;z.textConfig={outsideFill:T.get("color")==="inherit"?N:null,inside:R!=="outside"};var O,U=_(T,"distance")||0,F=_(T,"align"),V=_(T,"rotate"),W=Math.PI*.5,Z=Math.PI*1.5,H=Gs(V==="tangential"?Math.PI/2-l:l),j=H>W&&!e_(H-W)&&H<Z;R==="outside"?(O=o.r+U,F=j?"right":"left"):!F||F==="center"?(s===2*Math.PI&&o.r0===0?O=0:O=(o.r+o.r0)/2,F="center"):F==="left"?(O=o.r0+U,F=j?"right":"left"):F==="right"&&(O=o.r-U,F=j?"left":"right"),w.style.align=F,w.style.verticalAlign=_(T,"verticalAlign")||"middle",w.x=O*u+o.cx,w.y=O*c+o.cy;var Y=0;V==="radial"?Y=Gs(-l)+(j?Math.PI:0):V==="tangential"?Y=Gs(Math.PI/2-l)+(j?Math.PI:0):En(V)&&(Y=V*Math.PI/180),w.rotation=Gs(Y)});function _(S,T){var M=S.get(T);return M??a.get(T)}h.dirtyStyle()},t})(Ka),x3="sunburstRootToNode",U8="sunburstHighlight",Awt="sunburstUnhighlight";function wwt(i){i.registerAction({type:x3,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(r,a){var o=Ib(t,[x3],r);if(o){var s=r.getViewRoot();s&&(t.direction=DU(s,o.node)?"rollUp":"drillDown"),r.resetViewRoot(o.node)}}}),i.registerAction({type:U8,update:"none"},function(t,e,n){t=Rt({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},r);function r(a){var o=Ib(t,[U8],a);o&&(t.dataIndex=o.node.dataIndex)}n.dispatchAction(Rt(t,{type:"highlight"}))}),i.registerAction({type:Awt,update:"updateView"},function(t,e,n){t=Rt({},t),n.dispatchAction(Rt(t,{type:"downplay"}))})}var Ewt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r,a){var o=this;this.seriesModel=e,this.api=r,this.ecModel=n;var s=e.getData(),l=s.tree.root,u=e.getViewRoot(),c=this.group,f=e.get("renderLabelForZeroData"),h=[];u.eachNode(function(T){h.push(T)});var p=this._oldChildren||[];g(h,p),S(l,u),this._initEvents(),this._oldChildren=h;function g(T,M){if(T.length===0&&M.length===0)return;new bh(M,T,w,w).add(D).update(D).remove(Qe(D,null)).execute();function w(C){return C.getId()}function D(C,R){var z=C==null?null:T[C],N=R==null?null:M[R];m(z,N)}}function m(T,M){if(!f&&T&&!T.getValue()&&(T=null),T!==l&&M!==l){if(M&&M.piece)T?(M.piece.updateData(!1,T,e,n,r),s.setItemGraphicEl(T.dataIndex,M.piece)):_(M);else if(T){var w=new B8(T,e,n,r);c.add(w),s.setItemGraphicEl(T.dataIndex,w)}}}function _(T){T&&T.piece&&(c.remove(T.piece),T.piece=null)}function S(T,M){M.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,T,e,n,r):(o.virtualPiece=new B8(T,e,n,r),c.add(o.virtualPiece)),M.piece.off("click"),o.virtualPiece.on("click",function(w){o._rootToNode(M.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(n){var r=!1,a=e.seriesModel.getViewRoot();a.eachNode(function(o){if(!r&&o.piece&&o.piece===n.target){var s=o.getModel().get("nodeClick");if(s==="rootToNode")e._rootToNode(o);else if(s==="link"){var l=o.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";RC(u,c)}}r=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:x3,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,n){var r=n.getData(),a=r.getItemLayout(0);if(a){var o=e[0]-a.cx,s=e[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},t.type="sunburst",t})(si),Cwt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e,n){var r={name:e.name,children:e.data};UJ(r);var a=this._levelModels=kt(e.levels||[],function(l){return new yn(l,this,n)},this),o=CU.createTree(r,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var f=o.getNodeByDataIndex(c),h=a[f.depth];return h&&(u.parentModel=h),u})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=zD(r,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){FQ(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t})(di);function UJ(i){var t=0;G(i.children,function(n){UJ(n);var r=n.value;Vt(r)&&(r=r[0]),t+=r});var e=i.value;Vt(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Vt(i.value)?i.value[0]=e:i.value=e}var V8=Math.PI/180;function Dwt(i,t,e){t.eachSeriesByType(i,function(n){var r=n.get("center"),a=n.get("radius");Vt(a)||(a=[0,a]),Vt(r)||(r=[r,r]);var o=e.getWidth(),s=e.getHeight(),l=Math.min(o,s),u=se(r[0],o),c=se(r[1],s),f=se(a[0],l/2),h=se(a[1],l/2),p=-n.get("startAngle")*V8,g=n.get("minAngle")*V8,m=n.getData().tree.root,_=n.getViewRoot(),S=_.depth,T=n.get("sort");T!=null&&VJ(_,T);var M=0;G(_.children,function(H){!isNaN(H.getValue())&&M++});var w=_.getValue(),D=Math.PI/(w||M)*2,C=_.depth>0,R=_.height-(C?-1:1),z=(h-f)/(R||1),N=n.get("clockwise"),O=n.get("stillShowZeroSum"),U=N?1:-1,F=function(H,j){if(H){var Y=j;if(H!==m){var Q=H.getValue(),nt=w===0&&O?D:Q*D;nt<g&&(nt=g),Y=j+U*nt;var q=H.depth-S-(C?-1:1),$=f+z*q,st=f+z*(q+1),ft=n.getLevelModel(H);if(ft){var Mt=ft.get("r0",!0),dt=ft.get("r",!0),xt=ft.get("radius",!0);xt!=null&&(Mt=xt[0],dt=xt[1]),Mt!=null&&($=se(Mt,l/2)),dt!=null&&(st=se(dt,l/2))}H.setLayout({angle:nt,startAngle:j,endAngle:Y,clockwise:N,cx:u,cy:c,r0:$,r:st})}if(H.children&&H.children.length){var Lt=0;G(H.children,function(Ct){Lt+=F(Ct,j+Lt)})}return Y-j}};if(C){var V=f,W=f+z,Z=Math.PI*2;m.setLayout({angle:Z,startAngle:p,endAngle:p+Z,clockwise:N,cx:u,cy:c,r0:V,r:W})}F(_,p)})}function VJ(i,t){var e=i.children||[];i.children=Rwt(e,t),e.length&&G(i.children,function(n){VJ(n,t)})}function Rwt(i,t){if(Te(t)){var e=kt(i,function(r,a){var o=r.getValue();return{params:{depth:r.depth,height:r.height,dataIndex:r.dataIndex,getValue:function(){return o}},index:a}});return e.sort(function(r,a){return t(r.params,a.params)}),kt(e,function(r){return i[r.index]})}else{var n=t==="asc";return i.sort(function(r,a){var o=(r.getValue()-a.getValue())*(n?1:-1);return o===0?(r.dataIndex-a.dataIndex)*(n?-1:1):o})}}function Lwt(i){var t={};function e(n,r,a){if(n.depth===0)return vt.color.neutral50;for(var o=n;o&&o.depth>1;)o=o.parentNode;var s=r.getColorFromPalette(o.name||o.dataIndex+"",t);return n.depth>1&&le(s)&&(s=gC(s,(n.depth-1)/(a-1)*.5)),s}i.eachSeriesByType("sunburst",function(n){var r=n.getData(),a=r.tree;a.eachNode(function(o){var s=o.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=e(o,n,a.root.height));var u=r.ensureUniqueItemVisual(o.dataIndex,"style");Rt(u,l)})})}function Iwt(i){i.registerChartView(Ewt),i.registerSeriesModel(Cwt),i.registerLayout(Qe(Dwt,"sunburst")),i.registerProcessor(Qe(k_,"sunburst")),i.registerVisual(Lwt),wwt(i)}var H8={color:"fill",borderColor:"stroke"},Nwt={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},hh=gn(),Owt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,n){return rf(null,this)},t.prototype.getDataParams=function(e,n,r){var a=i.prototype.getDataParams.call(this,e,n);return r&&(a.info=hh(r).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t})(di);function Pwt(i,t){return t=t||[0,0],kt(["x","y"],function(e,n){var r=this.getAxis(e),a=t[n],o=i[n]/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(a-o)-r.dataToCoord(a+o))},this)}function zwt(i){var t=i.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return i.dataToPoint(e)},size:ue(Pwt,i)}}}function Bwt(i,t){return t=t||[0,0],kt([0,1],function(e){var n=t[e],r=i[e]/2,a=[],o=[];return a[e]=n-r,o[e]=n+r,a[1-e]=o[1-e]=t[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(o)[e])},this)}function Uwt(i){var t=i.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:i.getZoom()},api:{coord:function(e){return i.dataToPoint(e)},size:ue(Bwt,i)}}}function Vwt(i,t){var e=this.getAxis(),n=t instanceof Array?t[0]:t,r=(i instanceof Array?i[0]:i)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(n-r)-e.dataToCoord(n+r))}function Hwt(i){var t=i.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return i.dataToPoint(e)},size:ue(Vwt,i)}}}function kwt(i,t){return t=t||[0,0],kt(["Radius","Angle"],function(e,n){var r="get"+e+"Axis",a=this[r](),o=t[n],s=i[n]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return e==="Angle"&&(l=l*Math.PI/180),l},this)}function Fwt(i){var t=i.getRadiusAxis(),e=i.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:i.cx,cy:i.cy,r:n[1],r0:n[0]},api:{coord:function(r){var a=t.dataToRadius(r[0]),o=e.dataToAngle(r[1]),s=i.coordToPoint([a,o]);return s.push(a,o*Math.PI/180),s},size:ue(kwt,i)}}}function Gwt(i){var t=i.getRect(),e=i.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:i.getCellWidth(),cellHeight:i.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(n,r){return i.dataToPoint(n,r)},layout:function(n,r){return i.dataToLayout(n,r)}}}}function Xwt(i){var t=i.getRect();return{coordSys:{type:"matrix",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e,n){return i.dataToPoint(e,n)},layout:function(e,n){return i.dataToLayout(e,n)}}}}function HJ(i,t,e,n){return i&&(i.legacy||i.legacy!==!1&&!e&&!n&&t!=="tspan"&&(t==="text"||ge(i,"text")))}function kJ(i,t,e){var n=i,r,a,o;if(t==="text")o=n;else{o={},ge(n,"text")&&(o.text=n.text),ge(n,"rich")&&(o.rich=n.rich),ge(n,"textFill")&&(o.fill=n.textFill),ge(n,"textStroke")&&(o.stroke=n.textStroke),ge(n,"fontFamily")&&(o.fontFamily=n.fontFamily),ge(n,"fontSize")&&(o.fontSize=n.fontSize),ge(n,"fontStyle")&&(o.fontStyle=n.fontStyle),ge(n,"fontWeight")&&(o.fontWeight=n.fontWeight),a={type:"text",style:o,silent:!0},r={};var s=ge(n,"textPosition");e?r.position=s?n.textPosition:"inside":s&&(r.position=n.textPosition),ge(n,"textPosition")&&(r.position=n.textPosition),ge(n,"textOffset")&&(r.offset=n.textOffset),ge(n,"textRotation")&&(r.rotation=n.textRotation),ge(n,"textDistance")&&(r.distance=n.textDistance)}return k8(o,i),G(o.rich,function(l){k8(l,l)}),{textConfig:r,textContent:a}}function k8(i,t){t&&(t.font=t.textFont||t.font,ge(t,"textStrokeWidth")&&(i.lineWidth=t.textStrokeWidth),ge(t,"textAlign")&&(i.align=t.textAlign),ge(t,"textVerticalAlign")&&(i.verticalAlign=t.textVerticalAlign),ge(t,"textLineHeight")&&(i.lineHeight=t.textLineHeight),ge(t,"textWidth")&&(i.width=t.textWidth),ge(t,"textHeight")&&(i.height=t.textHeight),ge(t,"textBackgroundColor")&&(i.backgroundColor=t.textBackgroundColor),ge(t,"textPadding")&&(i.padding=t.textPadding),ge(t,"textBorderColor")&&(i.borderColor=t.textBorderColor),ge(t,"textBorderWidth")&&(i.borderWidth=t.textBorderWidth),ge(t,"textBorderRadius")&&(i.borderRadius=t.textBorderRadius),ge(t,"textBoxShadowColor")&&(i.shadowColor=t.textBoxShadowColor),ge(t,"textBoxShadowBlur")&&(i.shadowBlur=t.textBoxShadowBlur),ge(t,"textBoxShadowOffsetX")&&(i.shadowOffsetX=t.textBoxShadowOffsetX),ge(t,"textBoxShadowOffsetY")&&(i.shadowOffsetY=t.textBoxShadowOffsetY))}function F8(i,t,e){var n=i;n.textPosition=n.textPosition||e.position||"inside",e.offset!=null&&(n.textOffset=e.offset),e.rotation!=null&&(n.textRotation=e.rotation),e.distance!=null&&(n.textDistance=e.distance);var r=n.textPosition.indexOf("inside")>=0,a=i.fill||vt.color.neutral99;G8(n,t);var o=n.textFill==null;return r?o&&(n.textFill=e.insideFill||vt.color.neutral00,!n.textStroke&&e.insideStroke&&(n.textStroke=e.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(o&&(n.textFill=i.fill||e.outsideFill||vt.color.neutral00),!n.textStroke&&e.outsideStroke&&(n.textStroke=e.outsideStroke)),n.text=t.text,n.rich=t.rich,G(t.rich,function(s){G8(s,s)}),n}function G8(i,t){t&&(ge(t,"fill")&&(i.textFill=t.fill),ge(t,"stroke")&&(i.textStroke=t.fill),ge(t,"lineWidth")&&(i.textStrokeWidth=t.lineWidth),ge(t,"font")&&(i.font=t.font),ge(t,"fontStyle")&&(i.fontStyle=t.fontStyle),ge(t,"fontWeight")&&(i.fontWeight=t.fontWeight),ge(t,"fontSize")&&(i.fontSize=t.fontSize),ge(t,"fontFamily")&&(i.fontFamily=t.fontFamily),ge(t,"align")&&(i.textAlign=t.align),ge(t,"verticalAlign")&&(i.textVerticalAlign=t.verticalAlign),ge(t,"lineHeight")&&(i.textLineHeight=t.lineHeight),ge(t,"width")&&(i.textWidth=t.width),ge(t,"height")&&(i.textHeight=t.height),ge(t,"backgroundColor")&&(i.textBackgroundColor=t.backgroundColor),ge(t,"padding")&&(i.textPadding=t.padding),ge(t,"borderColor")&&(i.textBorderColor=t.borderColor),ge(t,"borderWidth")&&(i.textBorderWidth=t.borderWidth),ge(t,"borderRadius")&&(i.textBorderRadius=t.borderRadius),ge(t,"shadowColor")&&(i.textBoxShadowColor=t.shadowColor),ge(t,"shadowBlur")&&(i.textBoxShadowBlur=t.shadowBlur),ge(t,"shadowOffsetX")&&(i.textBoxShadowOffsetX=t.shadowOffsetX),ge(t,"shadowOffsetY")&&(i.textBoxShadowOffsetY=t.shadowOffsetY),ge(t,"textShadowColor")&&(i.textShadowColor=t.textShadowColor),ge(t,"textShadowBlur")&&(i.textShadowBlur=t.textShadowBlur),ge(t,"textShadowOffsetX")&&(i.textShadowOffsetX=t.textShadowOffsetX),ge(t,"textShadowOffsetY")&&(i.textShadowOffsetY=t.textShadowOffsetY))}var FJ={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},X8=Tn(FJ);Ol(Zc,function(i,t){return i[t]=1,i},{});Zc.join(", ");var r2=["","style","shape","extra"],d_=gn();function qU(i,t,e,n,r){var a=i+"Animation",o=D_(i,n,r)||{},s=d_(t).userDuring;return o.duration>0&&(o.during=s?ue(jwt,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=i),Rt(o,e[a]),o}function hE(i,t,e,n){n=n||{};var r=n.dataIndex,a=n.isInit,o=n.clearStyle,s=e.isAnimationEnabled(),l=d_(i),u=t.style;l.userDuring=t.during;var c={},f={};if(Qwt(i,t,f),i.type==="compound")for(var h=i.shape.paths,p=t.shape.paths,g=0;g<p.length;g++){var m=p[g];PN("shape",m,h[g])}else PN("shape",t,f),PN("extra",t,f);if(!a&&s&&(Kwt(i,t,c),W8("shape",i,t,c),W8("extra",i,t,c),Jwt(i,t,u,c)),f.style=u,Wwt(i,f,o),qwt(i,t),s)if(a){var _={};G(r2,function(T){var M=T?t[T]:t;M&&M.enterFrom&&(T&&(_[T]=_[T]||{}),Rt(T?_[T]:_,M.enterFrom))});var S=qU("enter",i,t,e,r);S.duration>0&&i.animateFrom(_,S)}else Ywt(i,t,r||0,e,c);GJ(i,t),u?i.dirty():i.markRedraw()}function GJ(i,t){for(var e=d_(i).leaveToProps,n=0;n<r2.length;n++){var r=r2[n],a=r?t[r]:t;a&&a.leaveTo&&(e||(e=d_(i).leaveToProps={}),r&&(e[r]=e[r]||{}),Rt(r?e[r]:e,a.leaveTo))}}function VD(i,t,e,n){if(i){var r=i.parent,a=d_(i).leaveToProps;if(a){var o=qU("update",i,t,e,0);o.done=function(){r&&r.remove(i)},i.animateTo(a,o)}else r&&r.remove(i)}}function Og(i){return i==="all"}function Wwt(i,t,e){var n=t.style;if(!i.isGroup&&n){if(e){i.useStyle({});for(var r=i.animators,a=0;a<r.length;a++){var o=r[a];o.targetName==="style"&&o.changeTarget(i.style)}}i.setStyle(n)}t&&(t.style=null,t&&i.attr(t),t.style=n)}function Ywt(i,t,e,n,r){if(r){var a=qU("update",i,t,n,e);a.duration>0&&i.animateFrom(r,a)}}function qwt(i,t){ge(t,"silent")&&(i.silent=t.silent),ge(t,"ignore")&&(i.ignore=t.ignore),i instanceof zl&&ge(t,"invisible")&&(i.invisible=t.invisible),i instanceof _n&&ge(t,"autoBatch")&&(i.autoBatch=t.autoBatch)}var Cc={},Zwt={setTransform:function(i,t){return Cc.el[i]=t,this},getTransform:function(i){return Cc.el[i]},setShape:function(i,t){var e=Cc.el,n=e.shape||(e.shape={});return n[i]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(i){var t=Cc.el.shape;if(t)return t[i]},setStyle:function(i,t){var e=Cc.el,n=e.style;return n&&(n[i]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(i){var t=Cc.el.style;if(t)return t[i]},setExtra:function(i,t){var e=Cc.el.extra||(Cc.el.extra={});return e[i]=t,this},getExtra:function(i){var t=Cc.el.extra;if(t)return t[i]}};function jwt(){var i=this,t=i.el;if(t){var e=d_(t).userDuring,n=i.userDuring;if(e!==n){i.el=i.userDuring=null;return}Cc.el=t,n(Zwt)}}function W8(i,t,e,n){var r=e[i];if(r){var a=t[i],o;if(a){var s=e.transition,l=r.transition;if(l)if(!o&&(o=n[i]={}),Og(l))Rt(o,a);else for(var u=bi(l),c=0;c<u.length;c++){var f=u[c],h=a[f];o[f]=h}else if(Og(s)||tn(s,i)>=0){!o&&(o=n[i]={});for(var p=Tn(a),c=0;c<p.length;c++){var f=p[c],h=a[f];$wt(r[f],h)&&(o[f]=h)}}}}}function PN(i,t,e){var n=t[i];if(n)for(var r=e[i]={},a=Tn(n),o=0;o<a.length;o++){var s=a[o];r[s]=k1(n[s])}}function Kwt(i,t,e){for(var n=t.transition,r=Og(n)?Zc:bi(n||[]),a=0;a<r.length;a++){var o=r[a];if(!(o==="style"||o==="shape"||o==="extra")){var s=i[o];e[o]=s}}}function Qwt(i,t,e){for(var n=0;n<X8.length;n++){var r=X8[n],a=FJ[r],o=t[r];o&&(e[a[0]]=o[0],e[a[1]]=o[1])}for(var n=0;n<Zc.length;n++){var s=Zc[n];t[s]!=null&&(e[s]=t[s])}}function Jwt(i,t,e,n){if(e){var r=i.style,a;if(r){var o=e.transition,s=t.transition;if(o&&!Og(o)){var l=bi(o);!a&&(a=n.style={});for(var u=0;u<l.length;u++){var c=l[u],f=r[c];a[c]=f}}else if(i.getAnimationStyleProps&&(Og(s)||Og(o)||tn(s,"style")>=0)){var h=i.getAnimationStyleProps(),p=h?h.style:null;if(p){!a&&(a=n.style={});for(var g=Tn(e),u=0;u<g.length;u++){var c=g[u];if(p[c]){var f=r[c];a[c]=f}}}}}}}function $wt(i,t){return Za(i)?i!==t:i!=null&&isFinite(i)}var XJ=gn(),tEt=["percent","easing","shape","style","extra"];function WJ(i){i.stopAnimation("keyframe"),i.attr(XJ(i))}function a2(i,t,e){if(!(!e.isAnimationEnabled()||!t)){if(Vt(t)){G(t,function(s){a2(i,s,e)});return}var n=t.keyframes,r=t.duration;if(e&&r==null){var a=D_("enter",e,0);r=a&&a.duration}if(!(!n||!r)){var o=XJ(i);G(r2,function(s){if(!(s&&!i[s])){var l;n.sort(function(u,c){return u.percent-c.percent}),G(n,function(u){var c=i.animators,f=s?u[s]:u;if(f){var h=Tn(f);if(s||(h=Gn(h,function(m){return tn(tEt,m)<0})),!!h.length){l||(l=i.animate(s,t.loop,!0),l.scope="keyframe");for(var p=0;p<c.length;p++)c[p]!==l&&c[p].targetName===l.targetName&&c[p].stopTracks(h);s&&(o[s]=o[s]||{});var g=s?o[s]:o;G(h,function(m){g[m]=((s?i[s]:i)||{})[m]}),l.whenWithKeys(r*u.percent,f,h,u.easing)}}}),l&&l.delay(t.delay||0).duration(r).start(t.easing)}})}}}var dh="emphasis",Yd="normal",ZU="blur",jU="select",fp=[Yd,dh,ZU,jU],zN={normal:["itemStyle"],emphasis:[dh,"itemStyle"],blur:[ZU,"itemStyle"],select:[jU,"itemStyle"]},BN={normal:["label"],emphasis:[dh,"label"],blur:[ZU,"label"],select:[jU,"label"]},eEt=["x","y"],nEt="e\0\0",Sl={normal:{},emphasis:{},blur:{},select:{}},iEt={cartesian2d:zwt,geo:Uwt,single:Hwt,polar:Fwt,calendar:Gwt,matrix:Xwt};function b3(i){return i instanceof _n}function T3(i){return i instanceof zl}function rEt(i,t){t.copyTransform(i),T3(t)&&T3(i)&&(t.setStyle(i.style),t.z=i.z,t.z2=i.z2,t.zlevel=i.zlevel,t.invisible=i.invisible,t.ignore=i.ignore,b3(t)&&b3(i)&&t.setShape(i.shape))}var aEt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r,a){this._progressiveEls=null;var o=this._data,s=e.getData(),l=this.group,u=Y8(e,s,n,r);o||l.removeAll(),s.diff(o).add(function(f){UN(r,null,f,u(f,a),e,l,s)}).remove(function(f){var h=o.getItemGraphicEl(f);h&&VD(h,hh(h).option,e)}).update(function(f,h){var p=o.getItemGraphicEl(h);UN(r,p,f,u(f,a),e,l,s)}).execute();var c=e.get("clip",!0)?pT(e.coordinateSystem,!1,e):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(e,n,r){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,n,r,a,o){var s=n.getData(),l=Y8(n,s,r,a),u=this._progressiveEls=[];function c(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var f=e.start;f<e.end;f++){var h=UN(null,null,f,l(f,o),n,this.group,s);h&&(h.traverse(c),u.push(h))}},t.prototype.eachRendered=function(e){mp(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,n,r,a){var o=n.element;if(o==null||r.name===o)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===o)return!0;return!1},t.type="custom",t})(si);function KU(i){var t=i.type,e;if(t==="path"){var n=i.shape,r=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=ZJ(n);e=i_(a,null,r,n.layout||"center"),hh(e).customPathData=a}else if(t==="image")e=new da({}),hh(e).customImagePath=i.style.image;else if(t==="text")e=new wn({});else if(t==="group")e=new Ce;else if(t==="compoundPath"){var n=i.shape;if(!n||!n.paths){var o="";qn(o)}var s=kt(n.paths,function(c){if(c.type==="path")return i_(c.shape.pathData,c,null);var f=yb(c.type);if(!f){var h="";qn(h)}return new f});e=new oT({shape:{paths:s}})}else{var l=yb(t);if(!l){var o="";qn(o)}e=new l}return hh(e).customGraphicType=t,e.name=i.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function QU(i,t,e,n,r,a,o){WJ(t);var s=r&&r.normal.cfg;s&&t.setTextConfig(s),n&&n.transition==null&&(n.transition=eEt);var l=n&&n.style;if(l){if(t.type==="text"){var u=l;ge(u,"textFill")&&(u.fill=u.textFill),ge(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=b3(t)?l.decal:null;i&&f&&(f.dirty=!0,c=o_(f,i)),l.__decalPattern=c}if(T3(t)&&l){var c=l.__decalPattern;c&&(l.decal=c)}hE(t,n,a,{dataIndex:e,isInit:o,clearStyle:!0}),a2(t,n.keyframeAnimation,a)}function YJ(i,t,e,n,r){var a=t.isGroup?null:t,o=r&&r[i].cfg;if(a){var s=a.ensureState(i);if(n===!1){var l=a.getState(i);l&&(l.style=null)}else s.style=n||null;o&&(s.textConfig=o),Yg(a)}}function oEt(i,t,e){if(!i.isGroup){var n=i,r=e.currentZ,a=e.currentZLevel;n.z=r,n.zlevel=a;var o=t.z2;o!=null&&(n.z2=o||0);for(var s=0;s<fp.length;s++)sEt(n,t,fp[s])}}function sEt(i,t,e){var n=e===Yd,r=n?t:o2(t,e),a=r?r.z2:null,o;a!=null&&(o=n?i:i.ensureState(e),o.z2=a||0)}function Y8(i,t,e,n){var r=i.get("renderItem");if(typeof r=="string"){var a=tyt(r);a&&(r=a)}var o=i.coordinateSystem,s={};o&&(s=o.prepareCustoms?o.prepareCustoms(o):iEt[o.type](o));for(var l=Re({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:D,style:R,ordinalRawValue:C,styleEmphasis:z,visual:U,barLayout:F,currentSeriesIndices:V,font:W},s.api||{}),u={context:{},seriesId:i.id,seriesName:i.name,seriesIndex:i.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:lEt(i.getData()),itemPayload:i.get("itemPayload")||{}},c,f,h={},p={},g={},m={},_=0;_<fp.length;_++){var S=fp[_];g[S]=i.getModel(zN[S]),m[S]=i.getModel(BN[S])}function T(Z){return Z===c?f||(f=t.getItemModel(Z)):t.getItemModel(Z)}function M(Z,H){return t.hasItemOption?Z===c?h[H]||(h[H]=T(Z).getModel(zN[H])):T(Z).getModel(zN[H]):g[H]}function w(Z,H){return t.hasItemOption?Z===c?p[H]||(p[H]=T(Z).getModel(BN[H])):T(Z).getModel(BN[H]):m[H]}return function(Z,H){return c=Z,f=null,h={},p={},r&&r(Re({dataIndexInside:Z,dataIndex:t.getRawIndex(Z),actionType:H?H.type:null},u),l)};function D(Z,H){return H==null&&(H=c),t.getStore().get(t.getDimensionIndex(Z||0),H)}function C(Z,H){H==null&&(H=c),Z=Z||0;var j=t.getDimensionInfo(Z);if(!j){var Y=t.getDimensionIndex(Z);return Y>=0?t.getStore().get(Y,H):void 0}var Q=t.get(j.name,H),nt=j&&j.ordinalMeta;return nt?nt.categories[Q]:Q}function R(Z,H){H==null&&(H=c);var j=t.getItemVisual(H,"style"),Y=j&&j.fill,Q=j&&j.opacity,nt=M(H,Yd).getItemStyle();Y!=null&&(nt.fill=Y),Q!=null&&(nt.opacity=Q);var q={inheritColor:le(Y)?Y:vt.color.neutral99},$=w(H,Yd),st=Si($,null,q,!1,!0);st.text=$.getShallow("show")?_e(i.getFormattedLabel(H,Yd),u_(t,H)):null;var ft=EC($,q,!1);return O(Z,nt),nt=F8(nt,st,ft),Z&&N(nt,Z),nt.legacy=!0,nt}function z(Z,H){H==null&&(H=c);var j=M(H,dh).getItemStyle(),Y=w(H,dh),Q=Si(Y,null,null,!0,!0);Q.text=Y.getShallow("show")?ms(i.getFormattedLabel(H,dh),i.getFormattedLabel(H,Yd),u_(t,H)):null;var nt=EC(Y,null,!0);return O(Z,j),j=F8(j,Q,nt),Z&&N(j,Z),j.legacy=!0,j}function N(Z,H){for(var j in H)ge(H,j)&&(Z[j]=H[j])}function O(Z,H){Z&&(Z.textFill&&(H.textFill=Z.textFill),Z.textPosition&&(H.textPosition=Z.textPosition))}function U(Z,H){if(H==null&&(H=c),ge(H8,Z)){var j=t.getItemVisual(H,"style");return j?j[H8[Z]]:null}if(ge(Nwt,Z))return t.getItemVisual(H,Z)}function F(Z){if(o.type==="cartesian2d"){var H=o.getBaseAxis();return i0t(Re({axis:H},Z))}}function V(){return e.getCurrentSeriesIndices()}function W(Z){return xB(Z,e)}}function lEt(i){var t={};return G(i.dimensions,function(e){var n=i.getDimensionInfo(e);if(!n.isExtraCoord){var r=n.coordDim,a=t[r]=t[r]||[];a[n.coordDimIndex]=i.getDimensionIndex(e)}}),t}function UN(i,t,e,n,r,a,o){if(!n){a.remove(t);return}var s=JU(i,t,e,n,r,a);return s&&o.setItemGraphicEl(e,s),s&&Fi(s,n.focus,n.blurScope,n.emphasisDisabled),s}function JU(i,t,e,n,r,a){var o=-1,s=t;t&&qJ(t,n,r)&&(o=tn(a.childrenRef(),t),t=null);var l=!t,u=t;u?u.clearStates():(u=KU(n),s&&rEt(s,u)),n.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),n.tooltipDisabled&&(u.tooltipDisabled=!0),Sl.normal.cfg=Sl.normal.conOpt=Sl.emphasis.cfg=Sl.emphasis.conOpt=Sl.blur.cfg=Sl.blur.conOpt=Sl.select.cfg=Sl.select.conOpt=null,Sl.isLegacy=!1,cEt(u,e,n,r,l,Sl),uEt(u,e,n,r,l),QU(i,u,e,n,Sl,r,l),ge(n,"info")&&(hh(u).info=n.info);for(var c=0;c<fp.length;c++){var f=fp[c];if(f!==Yd){var h=o2(n,f),p=$U(n,h,f);YJ(f,u,h,p,Sl)}}return oEt(u,n,r),n.type==="group"&&fEt(i,u,e,n,r),o>=0?a.replaceAt(u,o):a.add(u),u}function qJ(i,t,e){var n=hh(i),r=t.type,a=t.shape,o=t.style;return e.isUniversalTransitionEnabled()||r!=null&&r!==n.customGraphicType||r==="path"&&vEt(a)&&ZJ(a)!==n.customPathData||r==="image"&&ge(o,"image")&&o.image!==n.customImagePath}function uEt(i,t,e,n,r){var a=e.clipPath;if(a===!1)i&&i.getClipPath()&&i.removeClipPath();else if(a){var o=i.getClipPath();o&&qJ(o,a,n)&&(o=null),o||(o=KU(a),i.setClipPath(o)),QU(null,o,t,a,null,n,r)}}function cEt(i,t,e,n,r,a){if(!(i.isGroup||i.type==="compoundPath")){q8(e,null,a),q8(e,dh,a);var o=a.normal.conOpt,s=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var c=i.getTextContent();if(o===!1)c&&i.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=KU(o),i.setTextContent(c)),QU(null,c,t,o,null,n,r);for(var f=o&&o.style,h=0;h<fp.length;h++){var p=fp[h];if(p!==Yd){var g=a[p].conOpt;YJ(p,c,g,$U(o,g,p),null)}}f?c.dirty():c.markRedraw()}}}}function q8(i,t,e){var n=t?o2(i,t):i,r=t?$U(i,n,dh):i.style,a=i.type,o=n?n.textConfig:null,s=i.textContent,l=s?t?o2(s,t):s:null;if(r&&(e.isLegacy||HJ(r,a,!!o,!!l))){e.isLegacy=!0;var u=kJ(r,a,!t);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var f=t?e[t]:e.normal;f.cfg=o,f.conOpt=l}function o2(i,t){return t?i?i[t]:null:i}function $U(i,t,e){var n=t&&t.style;return n==null&&e===dh&&i&&(n=i.styleEmphasis),n}function fEt(i,t,e,n,r){var a=n.children,o=a?a.length:0,s=n.$mergeChildren,l=s==="byName"||n.diffChildrenByName,u=s===!1;if(!(!o&&!l&&!u)){if(l){dEt({api:i,oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,seriesModel:r,group:t});return}u&&t.removeAll();for(var c=0;c<o;c++){var f=a[c],h=t.childAt(c);f?(f.ignore==null&&(f.ignore=!1),JU(i,h,e,f,r,t)):h.ignore=!0}for(var p=t.childCount()-1;p>=c;p--){var g=t.childAt(p);hEt(t,g,r)}}}function hEt(i,t,e){t&&VD(t,hh(i).option,e)}function dEt(i){new bh(i.oldChildren,i.newChildren,Z8,Z8,i).add(j8).update(j8).remove(pEt).execute()}function Z8(i,t){var e=i&&i.name;return e??nEt+t}function j8(i,t){var e=this.context,n=i!=null?e.newChildren[i]:null,r=t!=null?e.oldChildren[t]:null;JU(e.api,r,e.dataIndex,n,e.seriesModel,e.group)}function pEt(i){var t=this.context,e=t.oldChildren[i];e&&VD(e,hh(e).option,t.seriesModel)}function ZJ(i){return i&&(i.pathData||i.d)}function vEt(i){return i&&(ge(i,"pathData")||ge(i,"d"))}function gEt(i){i.registerChartView(aEt),i.registerSeriesModel(Owt)}var hg=gn(),K8=Ee,VN=ue,t5=(function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(t,e,n,r){var a=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,!(!r&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,a,t,e,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(t,e);if(!s)s=this._group=new Ce,this.createPointerEl(s,u,t,e),this.createLabelEl(s,u,t,e),n.getZr().add(s);else{var h=Qe(Q8,e,f);this.updatePointerEl(s,u,h),this.updateLabelEl(s,u,h,e)}$8(s,e,!0),this._renderHandle(a)}},i.prototype.remove=function(t){this.clear(t)},i.prototype.dispose=function(t){this.clear(t)},i.prototype.determineAnimation=function(t,e){var n=e.get("animation"),r=t.axis,a=r.type==="category",o=e.get("snap");if(!o&&!a)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(a&&r.getBandWidth()>s)return!0;if(o){var l=xU(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return n===!0},i.prototype.makeElOption=function(t,e,n,r,a){},i.prototype.createPointerEl=function(t,e,n,r){var a=e.pointer;if(a){var o=hg(t).pointerEl=new am[a.type](K8(e.pointer));t.add(o)}},i.prototype.createLabelEl=function(t,e,n,r){if(e.label){var a=hg(t).labelEl=new wn(K8(e.label));t.add(a),J8(a,r)}},i.prototype.updatePointerEl=function(t,e,n){var r=hg(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},i.prototype.updateLabelEl=function(t,e,n,r){var a=hg(t).labelEl;a&&(a.setStyle(e.label.style),n(a,{x:e.label.x,y:e.label.y}),J8(a,r))},i.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,n=this._api.getZr(),r=this._handle,a=e.getModel("handle"),o=e.get("status");if(!a.get("show")||!o||o==="hide"){r&&n.remove(r),this._handle=null;return}var s;this._handle||(s=!0,r=this._handle=R_(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){_h(u.event)},onmousedown:VN(this._onHandleDragMove,this,0,0),drift:VN(this._onHandleDragMove,this),ondragend:VN(this._onHandleDragEnd,this)}),n.add(r)),$8(r,e,!1),r.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");Vt(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,z_(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},i.prototype._moveHandleToValue=function(t,e){Q8(this._axisPointerModel,!e&&this._moveAnimation,this._handle,HN(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(HN(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(HN(r)),hg(n).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),bb(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}},i})();function Q8(i,t,e,n){jJ(hg(e).lastProp,n)||(hg(e).lastProp=n,t?Pn(e,n,i):(e.stopAnimation(),e.attr(n)))}function jJ(i,t){if(Le(i)&&Le(t)){var e=!0;return G(t,function(n,r){e=e&&jJ(i[r],n)}),!!e}else return i===t}function J8(i,t){i[t.get(["label","show"])?"show":"hide"]()}function HN(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function $8(i,t,e){var n=t.get("z"),r=t.get("zlevel");i&&i.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),r!=null&&(a.zlevel=r),a.silent=e)})}function e5(i){var t=i.get("type"),e=i.getModel(t+"Style"),n;return t==="line"?(n=e.getLineStyle(),n.fill=null):t==="shadow"&&(n=e.getAreaStyle(),n.stroke=null),n}function KJ(i,t,e,n,r){var a=e.get("value"),o=QJ(a,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),s=e.getModel("label"),l=N_(s.get("padding")||0),u=s.getFont(),c=uD(o,u),f=r.position,h=c.width+l[1]+l[3],p=c.height+l[0]+l[2],g=r.align;g==="right"&&(f[0]-=h),g==="center"&&(f[0]-=h/2);var m=r.verticalAlign;m==="bottom"&&(f[1]-=p),m==="middle"&&(f[1]-=p/2),mEt(f,h,p,n);var _=s.get("backgroundColor");(!_||_==="auto")&&(_=t.get(["axisLine","lineStyle","color"])),i.label={x:f[0],y:f[1],style:Si(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:_}),z2:10}}function mEt(i,t,e,n){var r=n.getWidth(),a=n.getHeight();i[0]=Math.min(i[0]+t,r)-t,i[1]=Math.min(i[1]+e,a)-e,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function QJ(i,t,e,n,r){i=t.scale.parse(i);var a=t.scale.getLabel({value:i},{precision:r.precision}),o=r.formatter;if(o){var s={value:kC(t,{value:i}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};G(n,function(l){var u=e.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),le(o)?a=o.replace("{value}",a):Te(o)&&(a=o(s))}return a}function n5(i,t,e){var n=la();return wh(n,n,e.rotation),Iu(n,n,e.position),Cu([i.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],n)}function JJ(i,t,e,n,r,a){var o=Ko.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=r.get(["label","margin"]),KJ(t,n,r,a,{position:n5(n.axis,i,e),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function i5(i,t,e){return e=e||0,{x1:i[e],y1:i[1-e],x2:t[e],y2:t[1-e]}}function $J(i,t,e){return e=e||0,{x:i[e],y:i[1-e],width:t[e],height:t[1-e]}}function t7(i,t,e,n,r,a){return{cx:i,cy:t,r0:e,r:n,startAngle:r,endAngle:a,clockwise:!0}}var yEt=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,r,a,o){var s=r.axis,l=s.grid,u=a.get("type"),c=e7(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&u!=="none"){var h=e5(a),p=_Et[u](s,f,c);p.style=h,e.graphicKey=p.type,e.pointer=p}var g=QC(l.getRect(),r);JJ(n,e,g,r,a,o)},t.prototype.getHandleTransform=function(e,n,r){var a=QC(n.axis.grid.getRect(),n,{labelInside:!1});a.labelMargin=r.get(["handle","margin"]);var o=n5(n.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,r,a){var o=r.axis,s=o.grid,l=o.getGlobalExtent(!0),u=e7(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[e.x,e.y];f[c]+=n[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var h=(u[1]+u[0])/2,p=[h,h];p[c]=f[c];var g=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:e.rotation,cursorPoint:p,tooltipOption:g[c]}},t})(t5);function e7(i,t){var e={};return e[t.dim+"AxisIndex"]=t.index,i.getCartesian(e)}var _Et={line:function(i,t,e){var n=i5([t,e[0]],[t,e[1]],n7(i));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(i,t,e){var n=Math.max(1,i.getBandWidth()),r=e[1]-e[0];return{type:"Rect",shape:$J([t-n/2,e[0]],[n,r],n7(i))}}};function n7(i){return i.dim==="x"?0:1}var SEt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:vt.color.border,width:1,type:"dashed"},shadowStyle:{color:vt.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:vt.color.neutral00,padding:[5,7,5,7],backgroundColor:vt.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:vt.color.accent40,throttle:40}},t})(pn),ah=gn(),xEt=G;function t$(i,t,e){if(!xn.node){var n=t.getZr();ah(n).records||(ah(n).records={}),bEt(n,t);var r=ah(n).records[i]||(ah(n).records[i]={});r.handler=e}}function bEt(i,t){if(ah(i).initialized)return;ah(i).initialized=!0,e("click",Qe(i7,"click")),e("mousemove",Qe(i7,"mousemove")),e("globalout",MEt);function e(n,r){i.on(n,function(a){var o=AEt(t);xEt(ah(i).records,function(s){s&&r(s,a,o.dispatchAction)}),TEt(o.pendings,t)})}}function TEt(i,t){var e=i.showTip.length,n=i.hideTip.length,r;e?r=i.showTip[e-1]:n&&(r=i.hideTip[n-1]),r&&(r.dispatchAction=null,t.dispatchAction(r))}function MEt(i,t,e){i.handler("leave",null,e)}function i7(i,t,e,n){t.handler(i,e,n)}function AEt(i){var t={showTip:[],hideTip:[]},e=function(n){var r=t[n.type];r?r.push(n):(n.dispatchAction=e,i.dispatchAction(n))};return{dispatchAction:e,pendings:t}}function M3(i,t){if(!xn.node){var e=t.getZr(),n=(ah(e).records||{})[i];n&&(ah(e).records[i]=null)}}var wEt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){var a=n.getComponent("tooltip"),o=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";t$("axisPointer",r,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,n){M3("axisPointer",n)},t.prototype.dispose=function(e,n){M3("axisPointer",n)},t.type="axisPointer",t})(Ti);function e$(i,t){var e=[],n=i.seriesIndex,r;if(n==null||!(r=t.getSeriesByIndex(n)))return{point:[]};var a=r.getData(),o=Xg(a,i);if(o==null||o<0||Vt(o))return{point:[]};var s=a.getItemGraphicEl(o),l=r.coordinateSystem;if(r.getTooltipPosition)e=r.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(i.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,h=u.dim,p=f==="x"||f==="radius"?1:0,g=a.mapDimension(h),m=[];m[p]=a.get(g,o),m[1-p]=a.get(a.getCalculationInfo("stackResultDimension"),o),e=l.dataToPoint(m)||[]}else e=l.dataToPoint(a.getValues(kt(l.dimensions,function(S){return a.mapDimension(S)}),o))||[];else if(s){var _=s.getBoundingRect().clone();_.applyTransform(s.transform),e=[_.x+_.width/2,_.y+_.height/2]}return{point:e,el:s}}var r7=gn();function EEt(i,t,e){var n=i.currTrigger,r=[i.x,i.y],a=i,o=i.dispatchAction||ue(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){dE(r)&&(r=e$({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var l=dE(r),u=a.axesInfo,c=s.axesInfo,f=n==="leave"||dE(r),h={},p={},g={list:[],map:{}},m={showPointer:Qe(DEt,p),showTooltip:Qe(REt,g)};G(s.coordSysMap,function(S,T){var M=l||S.containPoint(r);G(s.coordSysAxesInfo[T],function(w,D){var C=w.axis,R=OEt(u,w);if(!f&&M&&(!u||R)){var z=R&&R.value;z==null&&!l&&(z=C.pointToData(r)),z!=null&&a7(w,z,m,!1,h)}})});var _={};return G(c,function(S,T){var M=S.linkGroup;M&&!p[T]&&G(M.axesInfo,function(w,D){var C=p[D];if(w!==S&&C){var R=C.value;M.mapper&&(R=S.axis.scale.parse(M.mapper(R,o7(w),o7(S)))),_[S.key]=R}})}),G(_,function(S,T){a7(c[T],S,m,!0,h)}),LEt(p,c,h),IEt(g,r,i,o),NEt(c,o,e),h}}function a7(i,t,e,n,r){var a=i.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!i.involveSeries){e.showPointer(i,t);return}var o=CEt(t,i),s=o.payloadBatch,l=o.snapToValue;s[0]&&r.seriesIndex==null&&Rt(r,s[0]),!n&&i.snap&&a.containData(l)&&l!=null&&(t=l),e.showPointer(i,t,s),e.showTooltip(i,o,l)}}function CEt(i,t){var e=t.axis,n=e.dim,r=i,a=[],o=Number.MAX_VALUE,s=-1;return G(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),f,h;if(l.getAxisTooltipData){var p=l.getAxisTooltipData(c,i,e);h=p.dataIndices,f=p.nestestValue}else{if(h=l.indicesOfNearest(n,c[0],i,e.type==="category"?.5:null),!h.length)return;f=l.getData().get(c[0],h[0])}if(!(f==null||!isFinite(f))){var g=i-f,m=Math.abs(g);m<=o&&((m<o||g>=0&&s<0)&&(o=m,s=g,r=f,a.length=0),G(h,function(_){a.push({seriesIndex:l.seriesIndex,dataIndexInside:_,dataIndex:l.getData().getRawIndex(_)})}))}}),{payloadBatch:a,snapToValue:r}}function DEt(i,t,e,n){i[t.key]={value:e,payloadBatch:n}}function REt(i,t,e,n){var r=e.payloadBatch,a=t.axis,o=a.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!r.length)){var l=t.coordSys.model,u=Lb(l),c=i.map[u];c||(c=i.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},i.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function LEt(i,t,e){var n=e.axesInfo=[];G(t,function(r,a){var o=r.axisPointerModel.option,s=i[a];s?(!r.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:o.value})})}function IEt(i,t,e,n){if(dE(t)||!i.list.length){n({type:"hideTip"});return}var r=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:i.list})}function NEt(i,t,e){var n=e.getZr(),r="axisPointerLastHighlights",a=r7(n)[r]||{},o=r7(n)[r]={};G(i,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&G(f.seriesDataIndices,function(h){var p=h.seriesIndex+" | "+h.dataIndex;o[p]=h})});var s=[],l=[];G(a,function(u,c){!o[c]&&l.push(u)}),G(o,function(u,c){!a[c]&&s.push(u)}),l.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function OEt(i,t){for(var e=0;e<(i||[]).length;e++){var n=i[e];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function o7(i){var t=i.axis.model,e={},n=e.axisDim=i.axis.dim;return e.axisIndex=e[n+"AxisIndex"]=t.componentIndex,e.axisName=e[n+"AxisName"]=t.name,e.axisId=e[n+"AxisId"]=t.id,e}function dE(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function mT(i){um.registerAxisPointerClass("CartesianAxisPointer",yEt),i.registerComponentModel(SEt),i.registerComponentView(wEt),i.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Vt(e)&&(t.axisPointer.link=[e])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Pxt(t,e)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},EEt)}function PEt(i){an(AQ),an(mT)}var zEt=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,r,a,o){var s=r.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),f=s.dataToCoord(n),h=a.get("type");if(h&&h!=="none"){var p=e5(a),g=UEt[h](s,l,f,c);g.style=p,e.graphicKey=g.type,e.pointer=g}var m=a.get(["label","margin"]),_=BEt(n,r,a,l,m);KJ(e,r,a,o,_)},t})(t5);function BEt(i,t,e,n,r){var a=t.axis,o=a.dataToCoord(i),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=n.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var h=la();wh(h,h,s),Iu(h,h,[n.cx,n.cy]),u=Cu([o,-r],h);var p=t.getModel("axisLabel").get("rotate")||0,g=Ko.innerTextLayout(s,p*Math.PI/180,-1);c=g.textAlign,f=g.textVerticalAlign}else{var m=l[1];u=n.coordToPoint([m+r,o]);var _=n.cx,S=n.cy;c=Math.abs(u[0]-_)/m<.3?"center":u[0]>_?"left":"right",f=Math.abs(u[1]-S)/m<.3?"middle":u[1]>S?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var UEt={line:function(i,t,e,n){return i.dim==="angle"?{type:"Line",shape:i5(t.coordToPoint([n[0],e]),t.coordToPoint([n[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(i,t,e,n){var r=Math.max(1,i.getBandWidth()),a=Math.PI/180;return i.dim==="angle"?{type:"Sector",shape:t7(t.cx,t.cy,n[0],n[1],(-e-r/2)*a,(-e+r/2)*a)}:{type:"Sector",shape:t7(t.cx,t.cy,e-r/2,e+r/2,0,Math.PI*2)}}},VEt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.findAxisModel=function(e){var n,r=this.ecModel;return r.eachComponent(e,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t})(pn),r5=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",$i).models[0]},t.type="polarAxis",t})(pn);fr(r5,H_);var HEt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="angleAxis",t})(r5),kEt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="radiusAxis",t})(r5),a5=(function(i){ht(t,i);function t(e,n){return i.call(this,"radius",e,n)||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t})(Fl);a5.prototype.dataToRadius=Fl.prototype.dataToCoord;a5.prototype.radiusToData=Fl.prototype.coordToData;var FEt=gn(),o5=(function(i){ht(t,i);function t(e,n){return i.call(this,"angle",e,n||[0,360])||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,n=e.getLabelModel(),r=e.scale,a=r.getExtent(),o=r.count();if(a[1]-a[0]<1)return 0;var s=a[0],l=e.dataToCoord(s+1)-e.dataToCoord(s),u=Math.abs(l),c=uD(s==null?"":s+"",n.getFont(),"center","top"),f=Math.max(c.height,7),h=f/u;isNaN(h)&&(h=1/0);var p=Math.max(0,Math.floor(h)),g=FEt(e.model),m=g.lastAutoInterval,_=g.lastTickCount;return m!=null&&_!=null&&Math.abs(m-p)<=1&&Math.abs(_-o)<=1&&m>p?p=m:(g.lastTickCount=o,g.lastAutoInterval=p),p},t})(Fl);o5.prototype.dataToAngle=Fl.prototype.dataToCoord;o5.prototype.angleToData=Fl.prototype.coordToData;var n$=["radius","angle"],GEt=(function(){function i(t){this.dimensions=n$,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new a5,this._angleAxis=new o5,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return i.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},i.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},i.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},i.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},i.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===t&&e.push(n),r.scale.type===t&&e.push(r),e},i.prototype.getAngleAxis=function(){return this._angleAxis},i.prototype.getRadiusAxis=function(){return this._radiusAxis},i.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},i.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},i.prototype.dataToPoint=function(t,e,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)],n)},i.prototype.pointToData=function(t,e,n){n=n||[];var r=this.pointToCoord(t);return n[0]=this._radiusAxis.radiusToData(r[0],e),n[1]=this._angleAxis.angleToData(r[1],e),n},i.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=this.getAngleAxis(),a=r.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);r.inverse?o=s-360:s=o+360;var l=Math.sqrt(e*e+n*n);e/=l,n/=l;for(var u=Math.atan2(-n,e)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=c*360;return[l,u]},i.prototype.coordToPoint=function(t,e){e=e||[];var n=t[0],r=t[1]/180*Math.PI;return e[0]=Math.cos(r)*n+this.cx,e[1]=-Math.sin(r)*n+this.cy,e},i.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),n=e.getExtent().slice();n[0]>n[1]&&n.reverse();var r=t.getExtent(),a=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-r[0]*a,endAngle:-r[1]*a,clockwise:t.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,f=u*u+c*c,h=this.r,p=this.r0;return h!==p&&f-o<=h*h&&f+o>=p*p},x:this.cx-n[1],y:this.cy-n[1],width:n[1]*2,height:n[1]*2}},i.prototype.convertToPixel=function(t,e,n){var r=s7(e);return r===this?this.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){var r=s7(e);return r===this?this.pointToData(n):null},i})();function s7(i){var t=i.seriesModel,e=i.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function XEt(i,t,e){var n=t.get("center"),r=jr(t,e).refContainer;i.cx=se(n[0],r.width)+r.x,i.cy=se(n[1],r.height)+r.y;var a=i.getRadiusAxis(),o=Math.min(r.width,r.height)/2,s=t.get("radius");s==null?s=[0,"100%"]:Vt(s)||(s=[0,s]);var l=[se(s[0],o),se(s[1],o)];a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}function WEt(i,t){var e=this,n=e.getAngleAxis(),r=e.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),i.eachSeries(function(s){if(s.coordinateSystem===e){var l=s.getData();G(FC(l,"radius"),function(u){r.scale.unionExtentFromData(l,u)}),G(FC(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),Kg(n.scale,n.model),Kg(r.scale,r.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),o=360/n.scale.count();n.inverse?a[1]+=o:a[1]-=o,n.setExtent(a[0],a[1])}}function YEt(i){return i.mainType==="angleAxis"}function l7(i,t){var e;if(i.type=t.get("type"),i.scale=fT(t),i.onBand=t.get("boundaryGap")&&i.type==="category",i.inverse=t.get("inverse"),YEt(t)){i.inverse=i.inverse!==t.get("clockwise");var n=t.get("startAngle"),r=(e=t.get("endAngle"))!==null&&e!==void 0?e:n+(i.inverse?-360:360);i.setExtent(n,r)}t.axis=i,i.model=t}var qEt={dimensions:n$,create:function(i,t){var e=[];return i.eachComponent("polar",function(n,r){var a=new GEt(r+"");a.update=WEt;var o=a.getRadiusAxis(),s=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");l7(o,l),l7(s,u),XEt(a,n,t),e.push(a),n.coordinateSystem=a,a.model=n}),i.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var r=n.getReferringComponents("polar",$i).models[0];n.coordinateSystem=r.coordinateSystem}}),e}},ZEt=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Rw(i,t,e){t[1]>t[0]&&(t=t.slice().reverse());var n=i.coordToPoint([t[0],e]),r=i.coordToPoint([t[1],e]);return{x1:n[0],y1:n[1],x2:r[0],y2:r[1]}}function Lw(i){var t=i.getRadiusAxis();return t.inverse?0:1}function u7(i){var t=i[0],e=i[i.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&i.pop()}var jEt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n){if(this.group.removeAll(),!!e.get("show")){var r=e.axis,a=r.polar,o=a.getRadiusAxis().getExtent(),s=r.getTicksCoords({breakTicks:"none"}),l=r.getMinorTicksCoords(),u=kt(r.getViewLabels(),function(c){c=Ee(c);var f=r.scale,h=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=r.dataToCoord(h),c});u7(u),u7(s),G(ZEt,function(c){e.get([c,"show"])&&(!r.scale.isBlank()||c==="axisLine")&&KEt[c](this.group,e,a,s,l,o,u)},this)}},t.type="angleAxis",t})(um),KEt={axisLine:function(i,t,e,n,r,a){var o=t.getModel(["axisLine","lineStyle"]),s=e.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=Lw(e),f=c?0:1,h,p=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?h=new am[p]({shape:{cx:e.cx,cy:e.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):h=new E_({shape:{cx:e.cx,cy:e.cy,r:a[c],r0:a[f]},style:o.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,i.add(h)},axisTick:function(i,t,e,n,r,a){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=a[Lw(e)],u=kt(n,function(c){return new Mr({shape:Rw(e,[l,l+s],c.coord)})});i.add(Bs(u,{style:Re(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(i,t,e,n,r,a){if(r.length){for(var o=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=a[Lw(e)],c=[],f=0;f<r.length;f++)for(var h=0;h<r[f].length;h++)c.push(new Mr({shape:Rw(e,[u,u+l],r[f][h].coord)}));i.add(Bs(c,{style:Re(s.getModel("lineStyle").getLineStyle(),Re(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(i,t,e,n,r,a,o){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");G(o,function(f,h){var p=l,g=f.tickValue,m=a[Lw(e)],_=e.coordToPoint([m+u,f.coord]),S=e.cx,T=e.cy,M=Math.abs(_[0]-S)/m<.3?"center":_[0]>S?"left":"right",w=Math.abs(_[1]-T)/m<.3?"middle":_[1]>T?"top":"bottom";if(s&&s[g]){var D=s[g];Le(D)&&D.textStyle&&(p=new yn(D.textStyle,l,l.ecModel))}var C=new wn({silent:Ko.isLabelSilent(t),style:Si(p,{x:_[0],y:_[1],fill:p.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:M,verticalAlign:w})});if(i.add(C),Ch({el:C,componentModel:t,itemName:f.formattedLabel,formatterParamsExtra:{isTruncated:function(){return C.isTruncated},value:f.rawLabel,tickIndex:h}}),c){var R=Ko.makeAxisEventDataBase(t);R.targetType="axisLabel",R.value=f.rawLabel,Ue(C).eventData=R}},this)},splitLine:function(i,t,e,n,r,a){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<n.length;f++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new Mr({shape:Rw(e,a,n[f].coord)}))}for(var f=0;f<c.length;f++)i.add(Bs(c[f],{style:Re({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(i,t,e,n,r,a){if(r.length){for(var o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<r.length;u++)for(var c=0;c<r[u].length;c++)l.push(new Mr({shape:Rw(e,a,r[u][c].coord)}));i.add(Bs(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(i,t,e,n,r,a){if(n.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,h=-n[0].coord*f,p=Math.min(a[0],a[1]),g=Math.max(a[0],a[1]),m=t.get("clockwise"),_=1,S=n.length;_<=S;_++){var T=_===S?n[0].coord:n[_].coord,M=u++%l.length;c[M]=c[M]||[],c[M].push(new Ka({shape:{cx:e.cx,cy:e.cy,r0:p,r:g,startAngle:h,endAngle:-T*f,clockwise:m},silent:!0})),h=-T*f}for(var _=0;_<c.length;_++)i.add(Bs(c[_],{style:Re({fill:l[_%l.length]},s.getAreaStyle()),silent:!0}))}}},QEt=["splitLine","splitArea","minorSplitLine"],JEt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n,r){if(this.group.removeAll(),!!e.get("show")){var a=this._axisGroup,o=this._axisGroup=new Ce;this.group.add(o);var s=e.axis,l=s.polar,u=l.getAngleAxis(),c=s.getTicksCoords(),f=s.getMinorTicksCoords(),h=u.getExtent()[0],p=s.getExtent(),g=tCt(l,e,h),m=new Ko(e,r,g);m.build(),o.add(m.group),sT(a,o,e),G(QEt,function(_){e.get([_,"show"])&&!s.scale.isBlank()&&$Et[_](this.group,e,l,h,p,c,f)},this)}},t.type="radiusAxis",t})(um),$Et={splitLine:function(i,t,e,n,r,a){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,c=e.getAngleAxis(),f=Math.PI/180,h=c.getExtent(),p=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var g=[],m=0;m<a.length;m++){var _=u++%l.length;g[_]=g[_]||[],g[_].push(new am[p]({shape:{cx:e.cx,cy:e.cy,r:Math.max(a[m].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:c.inverse}}))}for(var m=0;m<g.length;m++)i.add(Bs(g[m],{style:Re({stroke:l[m%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(i,t,e,n,r,a,o){if(o.length){for(var s=t.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var f=0;f<o[c].length;f++)u.push(new nf({shape:{cx:e.cx,cy:e.cy,r:o[c][f].coord}}));i.add(Bs(u,{style:Re({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(i,t,e,n,r,a){if(a.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,h=1;h<a.length;h++){var p=u++%l.length;c[p]=c[p]||[],c[p].push(new Ka({shape:{cx:e.cx,cy:e.cy,r0:f,r:a[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[h].coord}for(var h=0;h<c.length;h++)i.add(Bs(c[h],{style:Re({fill:l[h%l.length]},s.getAreaStyle()),silent:!0}))}}};function tCt(i,t,e){return{position:[i.cx,i.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function i$(i){return i.get("stack")||"__ec_stack_"+i.seriesIndex}function r$(i,t){return t.dim+i.model.componentIndex}function eCt(i,t,e){var n={},r=nCt(Gn(t.getSeriesByType(i),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));t.eachSeriesByType(i,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),s=a.coordinateSystem,l=s.getBaseAxis(),u=r$(s,l),c=i$(a),f=r[u][c],h=f.offset,p=f.width,g=s.getOtherAxis(l),m=a.coordinateSystem.cx,_=a.coordinateSystem.cy,S=a.get("barMinHeight")||0,T=a.get("barMinAngle")||0;n[c]=n[c]||[];for(var M=o.mapDimension(g.dim),w=o.mapDimension(l.dim),D=Th(o,M),C=l.dim!=="radius"||!a.get("roundCap",!0),R=g.model,z=R.get("startValue"),N=g.dataToCoord(z||0),O=0,U=o.count();O<U;O++){var F=o.get(M,O),V=o.get(w,O),W=F>=0?"p":"n",Z=N;D&&(n[c][V]||(n[c][V]={p:N,n:N}),Z=n[c][V][W]);var H=void 0,j=void 0,Y=void 0,Q=void 0;if(g.dim==="radius"){var nt=g.dataToCoord(F)-N,q=l.dataToCoord(V);Math.abs(nt)<S&&(nt=(nt<0?-1:1)*S),H=Z,j=Z+nt,Y=q-h,Q=Y-p,D&&(n[c][V][W]=j)}else{var $=g.dataToCoord(F,C)-N,st=l.dataToCoord(V);Math.abs($)<T&&($=($<0?-1:1)*T),H=st+h,j=H+p,Y=Z,Q=Z+$,D&&(n[c][V][W]=Q)}o.setItemLayout(O,{cx:m,cy:_,r0:H,r:j,startAngle:-Y*Math.PI/180,endAngle:-Q*Math.PI/180,clockwise:Y>=Q})}}})}function nCt(i){var t={};G(i,function(n,r){var a=n.getData(),o=n.coordinateSystem,s=o.getBaseAxis(),l=r$(o,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=t[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=f.stacks;t[l]=f;var p=i$(n);h[p]||f.autoWidthCount++,h[p]=h[p]||{width:0,maxWidth:0};var g=se(n.get("barWidth"),c),m=se(n.get("barMaxWidth"),c),_=n.get("barGap"),S=n.get("barCategoryGap");g&&!h[p].width&&(g=Math.min(f.remainedWidth,g),h[p].width=g,f.remainedWidth-=g),m&&(h[p].maxWidth=m),_!=null&&(f.gap=_),S!=null&&(f.categoryGap=S)});var e={};return G(t,function(n,r){e[r]={};var a=n.stacks,o=n.bandWidth,s=se(n.categoryGap,o),l=se(n.gap,1),u=n.remainedWidth,c=n.autoWidthCount,f=(u-s)/(c+(c-1)*l);f=Math.max(f,0),G(a,function(m,_){var S=m.maxWidth;S&&S<f&&(S=Math.min(S,u),m.width&&(S=Math.min(S,m.width)),u-=S,m.width=S,c--)}),f=(u-s)/(c+(c-1)*l),f=Math.max(f,0);var h=0,p;G(a,function(m,_){m.width||(m.width=f),p=m,h+=m.width*(1+l)}),p&&(h-=p.width*l);var g=-h/2;G(a,function(m,_){e[r][_]=e[r][_]||{offset:g,width:m.width},g+=m.width*(1+l)})}),e}var iCt={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},rCt={splitNumber:5},aCt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="polar",t})(Ti);function oCt(i){an(mT),um.registerAxisPointerClass("PolarAxisPointer",zEt),i.registerCoordinateSystem("polar",qEt),i.registerComponentModel(VEt),i.registerComponentView(aCt),c_(i,"angle",HEt,iCt),c_(i,"radius",kEt,rCt),i.registerComponentView(jEt),i.registerComponentView(JEt),i.registerLayout(Qe(eCt,"bar"))}function A3(i,t){t=t||{};var e=i.coordinateSystem,n=i.axis,r={},a=n.position,o=n.orient,s=e.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=[o==="vertical"?u.vertical[a]:l[0],o==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};r.rotation=Math.PI/2*c[o];var f={top:-1,bottom:1,right:1,left:-1};r.labelDirection=r.tickDirection=r.nameDirection=f[a],i.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),Da(t.labelInside,i.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=i.get(["axisLabel","rotate"]);return r.labelRotate=a==="top"?-h:h,r.z2=1,r}var sCt=["splitArea","splitLine","breakArea"],lCt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return t.prototype.render=function(e,n,r,a){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new Ce;var l=A3(e),u=new Ko(e,r,l);u.build(),o.add(this._axisGroup),o.add(u.group),G(sCt,function(c){e.get([c,"show"])&&uCt[c](this,this.group,this._axisGroup,e,r)},this),sT(s,this._axisGroup,e),i.prototype.render.call(this,e,n,r,a)},t.prototype.remove=function(){bQ(this)},t.type="singleAxis",t})(um),uCt={splitLine:function(i,t,e,n,r){var a=n.axis;if(!a.scale.isBlank()){var o=n.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var u=s.get("width"),c=n.coordinateSystem.getRect(),f=a.isHorizontal(),h=[],p=0,g=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),m=[],_=[],S=0;S<g.length;++S){var T=a.toGlobalCoord(g[S].coord);f?(m[0]=T,m[1]=c.y,_[0]=T,_[1]=c.y+c.height):(m[0]=c.x,m[1]=T,_[0]=c.x+c.width,_[1]=T);var M=new Mr({shape:{x1:m[0],y1:m[1],x2:_[0],y2:_[1]},silent:!0});r_(M.shape,u);var w=p++%l.length;h[w]=h[w]||[],h[w].push(M)}for(var D=s.getLineStyle(["color"]),S=0;S<h.length;++S)t.add(Bs(h[S],{style:Re({stroke:l[S%l.length]},D),silent:!0}))}},splitArea:function(i,t,e,n,r){xQ(i,e,n,n)},breakArea:function(i,t,e,n,r){var a=gT(),o=n.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,i,n,n.coordinateSystem.getRect(),r)}},pE=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},t})(pn);fr(pE,H_.prototype);var cCt=(function(i){ht(t,i);function t(e,n,r,a,o){var s=i.call(this,e,n,r)||this;return s.type=a||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.pointToData=function(e,n){return this.coordinateSystem.pointToData(e)[0]},t})(Fl),a$=["single"],fCt=(function(){function i(t,e,n){this.type="single",this.dimension="single",this.dimensions=a$,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return i.prototype._init=function(t,e,n){var r=this.dimension,a=new cCt(r,fT(t),[0,0],t.get("type"),t.get("position")),o=a.type==="category";a.onBand=o&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},i.prototype.update=function(t,e){t.eachSeries(function(n){if(n.coordinateSystem===this){var r=n.getData();G(r.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(r,a)},this),Kg(this._axis.scale,this._axis.model)}},this)},i.prototype.resize=function(t,e){var n=jr(t,e).refContainer;this._rect=Bi(t.getBoxLayoutParams(),n),this._adjustAxis()},i.prototype.getRect=function(){return this._rect},i.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),r=n?[0,t.width]:[0,t.height],a=e.inverse?1:0;e.setExtent(r[a],r[1-a]),this._updateAxisTransform(e,n?t.x:t.y)},i.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),r=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(o){return o+e}:function(o){return r-o+e},t.toLocalCoord=a?function(o){return o-e}:function(o){return r-o+e}},i.prototype.getAxis=function(){return this._axis},i.prototype.getBaseAxis=function(){return this._axis},i.prototype.getAxes=function(){return[this._axis]},i.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},i.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis(),r=n.orient;return r==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},i.prototype.pointToData=function(t,e,n){n=n||[];var r=this.getAxis();return n[0]=r.coordToData(r.toLocalCoord(t[r.orient==="horizontal"?0:1])),n},i.prototype.dataToPoint=function(t,e,n){var r=this.getAxis(),a=this.getRect();n=n||[];var o=r.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),n[o]=r.toGlobalCoord(r.dataToCoord(+t)),n[1-o]=o===0?a.y+a.height/2:a.x+a.width/2,n},i.prototype.convertToPixel=function(t,e,n){var r=c7(e);return r===this?this.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){var r=c7(e);return r===this?this.pointToData(n):null},i})();function c7(i){var t=i.seriesModel,e=i.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function hCt(i,t){var e=[];return i.eachComponent("singleAxis",function(n,r){var a=new fCt(n,i,t);a.name="single_"+r,a.resize(n,t),n.coordinateSystem=a,e.push(a)}),i.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var r=n.getReferringComponents("singleAxis",$i).models[0];n.coordinateSystem=r&&r.coordinateSystem}}),e}var dCt={create:hCt,dimensions:a$},f7=["x","y"],pCt=["width","height"],vCt=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,r,a,o){var s=r.axis,l=s.coordinateSystem,u=kN(l,1-s2(s)),c=l.dataToPoint(n)[0],f=a.get("type");if(f&&f!=="none"){var h=e5(a),p=gCt[f](s,c,u);p.style=h,e.graphicKey=p.type,e.pointer=p}var g=A3(r);JJ(n,e,g,r,a,o)},t.prototype.getHandleTransform=function(e,n,r){var a=A3(n,{labelInside:!1});a.labelMargin=r.get(["handle","margin"]);var o=n5(n.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,r,a){var o=r.axis,s=o.coordinateSystem,l=s2(o),u=kN(s,l),c=[e.x,e.y];c[l]+=n[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=kN(s,1-l),h=(f[1]+f[0])/2,p=[h,h];return p[l]=c[l],{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}},t})(t5),gCt={line:function(i,t,e){var n=i5([t,e[0]],[t,e[1]],s2(i));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(i,t,e){var n=i.getBandWidth(),r=e[1]-e[0];return{type:"Rect",shape:$J([t-n/2,e[0]],[n,r],s2(i))}}};function s2(i){return i.isHorizontal()?0:1}function kN(i,t){var e=i.getRect();return[e[f7[t]],e[f7[t]]+e[pCt[t]]]}var mCt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="single",t})(Ti);function yCt(i){an(mT),um.registerAxisPointerClass("SingleAxisPointer",vCt),i.registerComponentView(mCt),i.registerComponentView(lCt),i.registerComponentModel(pE),c_(i,"single",pE,pE.defaultOption),i.registerCoordinateSystem("single",dCt)}var _Ct=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,r){var a=om(e);i.prototype.init.apply(this,arguments),h7(e,a)},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),h7(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.layoutMode="box",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:vt.color.axisLine,width:1,type:"solid"}},itemStyle:{color:vt.color.neutral00,borderWidth:1,borderColor:vt.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:vt.size.s,color:vt.color.secondary},monthLabel:{show:!0,position:"start",margin:vt.size.s,align:"center",formatter:null,color:vt.color.secondary},yearLabel:{show:!0,position:null,margin:vt.size.xl,formatter:null,color:vt.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t})(pn);function h7(i,t){var e=i.cellSize,n;Vt(e)?n=e:n=i.cellSize=[e,e],n.length===1&&(n[1]=n[0]);var r=kt([0,1],function(a){return kvt(t,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});Qc(i,t,{type:"box",ignoreSize:r})}var SCt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){var a=this.group;a.removeAll();var o=e.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=n.getLocaleModel();this._renderDayRect(e,s,a),this._renderLines(e,s,l,a),this._renderYearText(e,s,l,a),this._renderMonthText(e,u,l,a),this._renderWeekText(e,u,s,l,a)},t.prototype._renderDayRect=function(e,n,r){for(var a=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),l=a.getCellHeight(),u=n.start.time;u<=n.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToCalendarLayout([u],!1).tl,f=new cn({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});r.add(f)}},t.prototype._renderLines=function(e,n,r,a){var o=this,s=e.coordinateSystem,l=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=n.start,h=0;f.time<=n.end.time;h++){g(f.formatedDate),h===0&&(f=s.getDateInfo(n.start.y+"-"+n.start.m));var p=f.date;p.setMonth(p.getMonth()+1),f=s.getDateInfo(p)}g(s.getNextNDay(n.end.time,1).formatedDate);function g(m){o._firstDayOfMonth.push(s.getDateInfo(m)),o._firstDayPoints.push(s.dataToCalendarLayout([m],!1).tl);var _=o._getLinePointsOfOneWeek(e,m,r);o._tlpoints.push(_[0]),o._blpoints.push(_[_.length-1]),u&&o._drawSplitline(_,l,a)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,r),l,a),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,r),l,a)},t.prototype._getEdgesPoints=function(e,n,r){var a=[e[0].slice(),e[e.length-1].slice()],o=r==="horizontal"?0:1;return a[0][o]=a[0][o]-n/2,a[1][o]=a[1][o]+n/2,a},t.prototype._drawSplitline=function(e,n,r){var a=new Ia({z2:20,shape:{points:e},style:n});r.add(a)},t.prototype._getLinePointsOfOneWeek=function(e,n,r){for(var a=e.coordinateSystem,o=a.getDateInfo(n),s=[],l=0;l<7;l++){var u=a.getNextNDay(o.time,l),c=a.dataToCalendarLayout([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[r==="horizontal"?"bl":"tr"]}return s},t.prototype._formatterLabel=function(e,n){return le(e)&&e?Ovt(e,n):Te(e)?e(n):n.nameMap},t.prototype._yearTextPositionControl=function(e,n,r,a,o){var s=n[0],l=n[1],u=["center","bottom"];a==="bottom"?(l+=o,u=["center","top"]):a==="left"?s-=o:a==="right"?(s+=o,u=["center","top"]):l-=o;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(e,n,r,a){var o=e.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=r!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,h=r==="horizontal"?0:1,p={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],f],right:[u[h][0],f]},g=n.start.y;+n.end.y>+n.start.y&&(g=g+"-"+n.end.y);var m=o.get("formatter"),_={start:n.start.y,end:n.end.y,nameMap:g},S=this._formatterLabel(m,_),T=new wn({z2:30,style:Si(o,{text:S}),silent:o.get("silent")});T.attr(this._yearTextPositionControl(T,p[l],r,l,s)),a.add(T)}},t.prototype._monthTextPositionControl=function(e,n,r,a,o){var s="left",l="top",u=e[0],c=e[1];return r==="horizontal"?(c=c+o,n&&(s="center"),a==="start"&&(l="bottom")):(u=u+o,n&&(l="middle"),a==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(e,n,r,a){var o=e.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),f=[this._tlpoints,this._blpoints];(!s||le(s))&&(s&&(n=SP(s)||n),s=n.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,p=r==="horizontal"?0:1;l=u==="start"?-l:l;for(var g=c==="center",m=o.get("silent"),_=0;_<f[h].length-1;_++){var S=f[h][_].slice(),T=this._firstDayOfMonth[_];if(g){var M=this._firstDayPoints[_];S[p]=(M[p]+f[0][_+1][p])/2}var w=o.get("formatter"),D=s[+T.m-1],C={yyyy:T.y,yy:(T.y+"").slice(2),MM:T.m,M:+T.m,nameMap:D},R=this._formatterLabel(w,C),z=new wn({z2:30,style:Rt(Si(o,{text:R}),this._monthTextPositionControl(S,g,r,u,l)),silent:m});a.add(z)}}},t.prototype._weekTextPositionControl=function(e,n,r,a,o){var s="center",l="middle",u=e[0],c=e[1],f=r==="start";return n==="horizontal"?(u=u+a+(f?1:-1)*o[0]/2,s=f?"right":"left"):(c=c+a+(f?1:-1)*o[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(e,n,r,a,o){var s=e.getModel("dayLabel");if(s.get("show")){var l=e.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),f=s.get("margin"),h=l.getFirstDayOfWeek();if(!c||le(c)){c&&(n=SP(c)||n);var p=n.get(["time","dayOfWeekShort"]);c=p||kt(n.get(["time","dayOfWeekAbbr"]),function(C){return C[0]})}var g=l.getNextNDay(r.end.time,7-r.lweek).time,m=[l.getCellWidth(),l.getCellHeight()];f=se(f,Math.min(m[1],m[0])),u==="start"&&(g=l.getNextNDay(r.start.time,-(7+r.fweek)).time,f=-f);for(var _=s.get("silent"),S=0;S<7;S++){var T=l.getNextNDay(g,S),M=l.dataToCalendarLayout([T.time],!1).center,w=S;w=Math.abs((S+h)%7);var D=new wn({z2:30,style:Rt(Si(s,{text:c[w]}),this._weekTextPositionControl(M,a,u,f,m)),silent:_});o.add(D)}}},t.type="calendar",t})(Ti),FN=864e5,xCt=(function(){function i(t,e,n){this.type="calendar",this.dimensions=i.dimensions,this.getDimensionsInfo=i.getDimensionsInfo,this._model=t,this._update(e,n)}return i.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},i.prototype.getRangeInfo=function(){return this._rangeInfo},i.prototype.getModel=function(){return this._model},i.prototype.getRect=function(){return this._rect},i.prototype.getCellWidth=function(){return this._sw},i.prototype.getCellHeight=function(){return this._sh},i.prototype.getOrient=function(){return this._orient},i.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},i.prototype.getDateInfo=function(t){t=ef(t);var e=t.getFullYear(),n=t.getMonth()+1,r=n<10?"0"+n:""+n,a=t.getDate(),o=a<10?"0"+a:""+a,s=t.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:e+"",m:r,d:o,day:s,time:t.getTime(),formatedDate:e+"-"+r+"-"+o,date:t}},i.prototype.getNextNDay=function(t,e){return e=e||0,e===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e),this.getDateInfo(t))},i.prototype._update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[n,7]:[7,n];G([0,1],function(f){c(a,f)&&(o[r[f]]=a[f]*s[f])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=Bi(o,l);G([0,1],function(f){c(a,f)||(a[f]=u[r[f]]/s[f])});function c(f,h){return f[h]!=null&&f[h]!=="auto"}this._sw=a[0],this._sh=a[1]},i.prototype.dataToPoint=function(t,e,n){n=n||[],Vt(t)&&(t=t[0]),e==null&&(e=!0);var r=this.getDateInfo(t),a=this._rangeInfo,o=r.formatedDate;if(e&&!(r.time>=a.start.time&&r.time<a.end.time+FN))return n[0]=n[1]=NaN,n;var s=r.day,l=this._getRangeInfo([a.start.time,o]).nthWeek;return this._orient==="vertical"?(n[0]=this._rect.x+s*this._sw+this._sw/2,n[1]=this._rect.y+l*this._sh+this._sh/2):(n[0]=this._rect.x+l*this._sw+this._sw/2,n[1]=this._rect.y+s*this._sh+this._sh/2),n},i.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},i.prototype.dataToLayout=function(t,e,n){n=n||{};var r=n.rect=n.rect||{},a=n.contentRect=n.contentRect||{},o=this.dataToPoint(t,e);return r.x=o[0]-this._sw/2,r.y=o[1]-this._sh/2,r.width=this._sw,r.height=this._sh,Oe.copy(a,r),qg(a,this._lineWidth/2,!0,!0),n},i.prototype.dataToCalendarLayout=function(t,e){var n=this.dataToPoint(t,e);return{center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},i.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,e-1,r):this._getDateByWeeksAndDay(e,n-1,r)},i.prototype.convertToPixel=function(t,e,n){var r=GN(e);return r===this?r.dataToPoint(n):null},i.prototype.convertToLayout=function(t,e,n){var r=GN(e);return r===this?r.dataToLayout(n):null},i.prototype.convertFromPixel=function(t,e,n){var r=GN(e);return r===this?r.pointToData(n):null},i.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},i.prototype._initRangeOption=function(){var t=this._model.get("range"),e;if(Vt(t)&&t.length===1&&(t=t[0]),Vt(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n),a=r.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);e=[r.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var s=this._getRangeInfo(e);return s.start.time>s.end.time&&e.reverse(),e},i.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],n;e[0].time>e[1].time&&(n=!0,e.reverse());var r=Math.floor(e[1].time/FN)-Math.floor(e[0].time/FN)+1,a=new Date(e[0].time),o=a.getDate(),s=e[1].date.getDate();a.setDate(o+r-1);var l=a.getDate();if(l!==s)for(var u=a.getTime()-e[1].time>0?1:-1;(l=a.getDate())!==s&&(a.getTime()-e[1].time)*u>0;)r-=u,a.setDate(l-u);var c=Math.floor((r+e[0].day+6)/7),f=n?-c+1:c-1;return n&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:r,weeks:c,nthWeek:f,fweek:e[0].day,lweek:e[1].day}},i.prototype._getDateByWeeksAndDay=function(t,e,n){var r=this._getRangeInfo(n);if(t>r.weeks||t===0&&e<r.fweek||t===r.weeks&&e>r.lweek)return null;var a=(t-1)*7-r.fweek+e,o=new Date(r.start.time);return o.setDate(+r.start.d+a),this.getDateInfo(o)},i.create=function(t,e){var n=[];return t.eachComponent("calendar",function(r){var a=new i(r,t,e);n.push(a),r.coordinateSystem=a}),t.eachComponent(function(r,a){uT({targetModel:a,coordSysType:"calendar",coordSysProvider:MZ})}),n},i.dimensions=["time","value"],i})();function GN(i){var t=i.calendarModel,e=i.seriesModel,n=t?t.coordinateSystem:e?e.coordinateSystem:null;return n}function bCt(i){i.registerComponentModel(_Ct),i.registerComponentView(SCt),i.registerCoordinateSystem("calendar",xCt)}var $f={level:1,leaf:2,nonLeaf:3},ph={none:0,all:1,body:2,corner:3};function w3(i,t,e){var n=t[We[e]].getCell(i);return!n&&En(i)&&i<0&&(n=t[We[1-e]].getUnitLayoutInfo(e,Math.round(i))),n}function o$(i){var t=i||[];return t[0]=t[0]||[],t[1]=t[1]||[],t[0][0]=t[0][1]=t[1][0]=t[1][1]=NaN,t}function s$(i,t,e,n,r){d7(i[0],t,r,e,n,0),d7(i[1],t,r,e,n,1)}function d7(i,t,e,n,r,a){i[0]=1/0,i[1]=-1/0;var o=n[a],s=Vt(o)?o:[o],l=s.length,u=!!e;if(l>=1?(p7(i,t,s,u,r,a,0),l>1&&p7(i,t,s,u,r,a,l-1)):i[0]=i[1]=NaN,u){var c=-r[We[1-a]].getLocatorCount(a),f=r[We[a]].getLocatorCount(a)-1;e===ph.body?c=br(0,c):e===ph.corner&&(f=Ys(-1,f)),f<c&&(c=f=NaN),Ya(i[0])&&(i[0]=c),Ya(i[1])&&(i[1]=f),i[0]=br(Ys(i[0],f),c),i[1]=br(Ys(i[1],f),c)}}function p7(i,t,e,n,r,a,o){var s=w3(e[o],r,a);if(!s){i[0]=i[1]=NaN;return}var l=s.id[We[a]],u=l,c=wCt(s);c&&(u+=c.span[We[a]]-1),i[0]=Ys(i[0],l,u),i[1]=br(i[1],l,u)}function Iw(i,t){return Ya(i[t][0])||Ya(i[t][1])}function v7(i,t,e,n){t=t||TCt;for(var r=0;r<n;r++)t[r]=!1;for(;;){for(var a=!1,r=0;r<n;r++){var o=e[r];!t[r]&&o.cellMergeOwner&&MCt(i,o.locatorRange)&&(t[r]=!0,a=!0)}if(!a)break}}var TCt=[];function MCt(i,t){return!g7(i[0],t[0])||!g7(i[1],t[1])?!1:(i[0][0]=Ys(i[0][0],t[0][0]),i[0][1]=br(i[0][1],t[0][1]),i[1][0]=Ys(i[1][0],t[1][0]),i[1][1]=br(i[1][1],t[1][1]),!0)}function g7(i,t){return i[1]>=t[0]&&i[0]<=t[1]}function m7(i,t){i.id.set(t[0][0],t[1][0]),i.span.set(t[0][1]-i.id.x+1,t[1][1]-i.id.y+1)}function ACt(i,t){i[0][0]=t[0][0],i[0][1]=t[0][1],i[1][0]=t[1][0],i[1][1]=t[1][1]}function y7(i,t,e,n){var r=w3(t[n][0],e,n),a=w3(t[n][1],e,n);i[We[n]]=i[Pr[n]]=NaN,r&&a&&(i[We[n]]=r.xy,i[Pr[n]]=a.xy+a.wh-r.xy)}function n1(i,t,e,n){return i[We[t]]=e,i[We[1-t]]=n,i}function wCt(i){return i&&(i.type===$f.leaf||i.type===$f.nonLeaf)?i:null}function l2(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var _7=(function(){function i(t,e){this._cells=[],this._levels=[],this.dim=t,this.dimIdx=t==="x"?0:1,this._model=e,this._uniqueValueGen=ECt(t);var n=e.get("data",!0);n!=null&&!Vt(n)&&(n=[]),n?this._initByDimModelData(n):this._initBySeriesData()}return i.prototype._initByDimModelData=function(t){var e=this,n=e._cells,r=e._levels,a=[],o=0;e._leavesCount=s(t,0,0),l();return;function s(u,c,f){var h=0;return u&&G(u,function(p,g){var m;le(p)?m={value:p}:Le(p)?(m=p,p.value!=null&&!le(p.value)&&(m={value:null})):m={value:null};var _={type:$f.nonLeaf,ordinal:NaN,level:f,firstLeafLocator:c,id:new Ne,span:n1(new Ne,e.dimIdx,1,1),option:m,xy:NaN,wh:NaN,dim:e,rect:l2()};o++,(a[c]||(a[c]=[])).push(_),r[f]||(r[f]={type:$f.level,xy:NaN,wh:NaN,option:null,id:new Ne,dim:e});var S=s(m.children,c,f+1),T=Math.max(1,S);_.span[We[e.dimIdx]]=T,h+=T,c+=T}),h}function l(){for(var u=[];n.length<o;)for(var c=0;c<a.length;c++){var f=a[c].pop();if(f){f.ordinal=u.length;var h=f.option.value;u.push(h),n.push(f),e._uniqueValueGen.calcDupBase(h)}}e._uniqueValueGen.ensureValueUnique(u,n);var p=e._ordinalMeta=new wb({categories:u,needCollect:!1,deduplication:!1});e._scale=new s_({ordinalMeta:p});for(var g=0;g<e._leavesCount;g++){var m=e._cells[g];m.type=$f.leaf,m.span[We[1-e.dimIdx]]=e._levels.length-m.level}e._initCellsId(),e._initLevelIdOptions()}},i.prototype._initBySeriesData=function(){var t=this;t._leavesCount=0,t._levels=[{type:$f.level,xy:NaN,wh:NaN,option:null,id:new Ne,dim:t}],t._initLevelIdOptions();var e=t._ordinalMeta=new wb({needCollect:!0,deduplication:!0,onCollect:function(n,r){var a=t._cells[r]={type:$f.leaf,ordinal:r,level:0,firstLeafLocator:r,id:new Ne,span:n1(new Ne,t.dimIdx,1,1),option:{value:n+""},xy:NaN,wh:NaN,dim:t,rect:l2()};t._leavesCount++,t._setCellId(a)}});t._scale=new s_({ordinalMeta:e})},i.prototype._setCellId=function(t){var e=this._levels.length,n=this.dimIdx;n1(t.id,n,t.firstLeafLocator,t.level-e)},i.prototype._initCellsId=function(){var t=this._levels.length,e=this.dimIdx;G(this._cells,function(n){n1(n.id,e,n.firstLeafLocator,n.level-t)})},i.prototype._initLevelIdOptions=function(){var t=this._levels.length,e=this.dimIdx,n=this._model.get("levels",!0);n=Vt(n)?n:[],G(this._levels,function(r,a){n1(r.id,e,0,a-t),r.option=n[a]})},i.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},i.prototype.resetLayoutIterator=function(t,e,n,r){if(t=t||new Qd,e===this.dimIdx){var a=this._leavesCount,o=n!=null?Math.max(0,n):0;r=r!=null?Math.min(r,a):a,t.reset(this._cells,o,o+r)}else{var a=this._levels.length,o=n!=null?Math.max(0,n+a):0;r=r!=null?Math.min(r,a):a,t.reset(this._levels,o,o+r)}return t},i.prototype.resetCellIterator=function(t){return(t||new Qd).reset(this._cells,0)},i.prototype.resetLevelIterator=function(t){return(t||new Qd).reset(this._levels,0)},i.prototype.getLayout=function(t,e,n){var r=this.getUnitLayoutInfo(e,n);t[We[e]]=r?r.xy:NaN,t[Pr[e]]=r?r.wh:NaN},i.prototype.getUnitLayoutInfo=function(t,e){return t===this.dimIdx?e<this._leavesCount?this._cells[e]:void 0:this._levels[e+this._levels.length]},i.prototype.getCell=function(t){var e=this._scale.parse(t);return Ya(e)?void 0:this._cells[e]},i.prototype.getLocatorCount=function(t){return t===this.dimIdx?this._leavesCount:this._levels.length},i.prototype.getOrdinalMeta=function(){return this._ordinalMeta},i})();function ECt(i){var t=i.toUpperCase(),e=new RegExp("^"+t+"([0-9]+)$"),n=0;function r(s){var l;s!=null&&(l=s.match(e))&&(n=br(n,+l[1]+1))}function a(){return""+t+n++}function o(s,l){for(var u=ye(),c=0;c<s.length;c++){var f=s[c];(f==null||u.get(f)!=null)&&(s[c]=f=a(),l[c].option=Re({value:f},l[c].option)),u.set(f,!0)}}return{calcDupBase:r,ensureValueUnique:o}}var S7=(function(){function i(t,e,n){this._model=e,this._dims=n,this._kind=t,this._cellMergeOwnerList=[]}return i.prototype._ensureCellMap=function(){var t=this,e=t._cellMap;return e||(e=t._cellMap=ye(),n()),e;function n(){var a=[],o=t._model.getShallow("data");o&&!Vt(o)&&(o=null),G(o,function(g,m){if(!(!Le(g)||!Vt(g.coord))){var _=o$([]),S=null;if(s$(_,S,g.coord,t._dims,g.coordClamp?ph[t._kind]:ph.none),!(Iw(_,0)||Iw(_,1))){var T=g&&g.mergeCells,M={id:new Ne,span:new Ne,locatorRange:_,option:g,cellMergeOwner:T};m7(M,_),a.push(M)}}});for(var s=[],l=0;l<a.length;l++){var u=a[l];if(u.cellMergeOwner){var c=u.locatorRange;v7(c,s,a,l);for(var f=0;f<l;f++)s[f]&&(a[f].cellMergeOwner=!1);if(c[0][0]!==u.id.x||c[1][0]!==u.id.y){u.cellMergeOwner=!1;var h=Rt({},u.option);h.coord=null;var p={id:new Ne,span:new Ne,locatorRange:c,option:h,cellMergeOwner:!0};m7(p,c),a.push(p)}}}G(a,function(g){var m=r(g.id.x,g.id.y);if(g.cellMergeOwner&&(m.cellMergeOwner=!0,m.span=g.span,m.locatorRange=g.locatorRange,m.spanRect=l2(),t._cellMergeOwnerList.push(m)),!(!g.cellMergeOwner&&!g.option))for(var _=0;_<g.span.y;_++)for(var S=0;S<g.span.x;S++){var T=r(g.id.x+S,g.id.y+_);T.option=g.option,g.cellMergeOwner&&(T.inSpanOf=m)}})}function r(a,o){var s=x7(a,o),l=e.get(s);return l||(l=e.set(s,{id:new Ne(a,o),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),l}},i.prototype.getCell=function(t){return this._ensureCellMap().get(x7(t[0],t[1]))},i.prototype.travelExistingCells=function(t){this._ensureCellMap().each(t)},i.prototype.expandRangeByCellMerge=function(t){if(!Iw(t,0)&&!Iw(t,1)&&t[0][0]===t[0][1]&&t[1][0]===t[1][1]){XN[0]=t[0][0],XN[1]=t[1][0];var e=this.getCell(XN),n=e&&e.inSpanOf;if(n){ACt(t,n.locatorRange);return}}var r=this._cellMergeOwnerList;v7(t,null,r,r.length)},i})(),XN=[];function x7(i,t){return i+"|"+t}var s5={show:!0,color:vt.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function l5(i){return{color:"none",borderWidth:1,borderColor:i?"none":vt.color.borderTint}}var b7={show:!0,label:s5,itemStyle:l5(!1),silent:void 0,dividerLineStyle:{width:1,color:vt.color.border}},CCt={label:s5,itemStyle:l5(!1),silent:void 0},DCt={label:s5,itemStyle:l5(!0),silent:void 0},RCt={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:b7,y:b7,body:CCt,corner:DCt,backgroundStyle:{color:"none",borderColor:vt.color.axisLine,borderWidth:1}},LCt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this._dimModels={x:new T7(this.get("x",!0)||{}),y:new T7(this.get("y",!0)||{})};e.x.option.type=e.y.option.type="category";var n=e.x.dim=new _7("x",e.x),r=e.y.dim=new _7("y",e.y),a={x:n,y:r};this._body=new S7("body",new yn(this.getShallow("body")),a),this._corner=new S7("corner",new yn(this.getShallow("corner")),a)},t.prototype.getDimensionModel=function(e){return this._dimModels[e]},t.prototype.getBody=function(){return this._body},t.prototype.getCorner=function(){return this._corner},t.type="matrix",t.layoutMode="box",t.defaultOption=RCt,t})(pn),T7=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},t})(yn),Nw=Math.round,ICt=0,NCt=99,OCt={normal:25,special:100},PCt={normal:50,special:125},zCt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n){this.group.removeAll();var r=this.group,a=e.coordinateSystem,o=a.getRect(),s=e.getDimensionModel("x"),l=e.getDimensionModel("y"),u=s.dim,c=l.dim;BCt(r,e,n),UCt(r,e,u,c,n);var f=e.getShallow("borderZ2",!0),h=_e(f,NCt),p=h-1,g=e.getModel("backgroundStyle").getItemStyle(["borderWidth"]);g.lineWidth=0;var m=e.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);m.fill="none";var _=E3(o.clone(),g,ICt),S=E3(o.clone(),m,h);_.silent=!0,S.silent=!0,r.add(_),r.add(S);var T=u.getUnitLayoutInfo(0,0),M=c.getUnitLayoutInfo(1,0);T&&M&&(u.shouldShow()&&r.add(M7({x1:o.x,y1:M.xy,x2:o.x+o.width,y2:M.xy},s.getModel("dividerLineStyle").getLineStyle(),p)),c.shouldShow()&&r.add(M7({x1:T.xy,y1:o.y,x2:T.xy,y2:o.y+o.height},l.getModel("dividerLineStyle").getLineStyle(),p)))},t.type="matrix",t})(Ti);function BCt(i,t,e){n(0),n(1);function n(r){var a=t.getDimensionModel(We[r]),o=a.dim;if(o.shouldShow())for(var s=a.getModel("itemStyle"),l=a.getModel("label"),u=t.getShallow("tooltip",!0),c=[],f=o.resetCellIterator();f.next();){var h=f.item,p={};Oe.copy(p,h.rect),oD(c,h.id.x,h.id.y),l$(c,t,i,e,h.option,s,l,a,p,h.option.value,PCt,u)}}}function UCt(i,t,e,n,r){a("body",t.getBody(),e,n),e.shouldShow()&&n.shouldShow()&&a("corner",t.getCorner(),n,e);function a(o,s,l,u){var c=new yn(t.getShallow(o,!0)),f=c.getModel("itemStyle"),h=c.getModel("label"),p=new Qd,g=new Qd,m=[],_=t.getShallow("tooltip",!0);for(u.resetLayoutIterator(g,1);g.next();)for(l.resetLayoutIterator(p,0);p.next();){var S=p.item,T=g.item;oD(m,S.id.x,T.id.y);var M=s.getCell(m);if(!(M&&M.inSpanOf&&M.inSpanOf!==M)){var w={};M&&M.span?Oe.copy(w,M.spanRect):(S.dim.getLayout(w,0,m[0]),T.dim.getLayout(w,1,m[1]));var D=M?M.option:null;l$(m,t,i,r,D,f,h,c,w,D?D.value:null,OCt,_)}}}}function l$(i,t,e,n,r,a,o,s,l,u,c,f){var h;Ow.option=r?r.itemStyle:null,Ow.parentModel=a,u0.option=r,u0.parentModel=s;var p=_e(u0.getShallow("z2"),r&&r.itemStyle?c.special:c.normal),g=f&&f.show,m=E3(l,Ow.getItemStyle(),p);e.add(m);var _=u0.get("cursor");_!=null&&m.attr("cursor",_);var S;if(u!=null){var T=u+"";if(c0.option=r?r.label:null,c0.parentModel=o,c0.ecModel=n,ha(m,{normal:c0},{defaultText:T,autoOverflowArea:!0,layoutRect:Ee(m.shape)}),S=m.getTextContent(),S){S.z2=p+1;var M=S.style;if(M&&M.overflow&&M.overflow!=="none"&&M.lineOverflow){var w={};Oe.copy(w,l),qg(w,(((h=m.style)===null||h===void 0?void 0:h.lineWidth)||0)/2,!0,!0),m.updateInnerText(),S.getLocalTransform(Pw),Pl(Pw,Pw),Oe.applyTransform(w,w,Pw),S.setClipPath(new cn({shape:w}))}}Ch({el:m,componentModel:t,itemName:T,itemTooltipOption:f,formatterParamsExtra:{xyLocator:i.slice()}})}if(S){var D=c0.get("silent");D==null&&(D=!g),S.silent=D,S.ignoreHostSilent=!0}var C=u0.get("silent");C==null&&(C=!m.style||m.style.fill==="none"||!m.style.fill),m.silent=C,iI(u0),iI(Ow),iI(c0)}var u0=new yn,Ow=new yn,c0=new yn,Pw=[];function E3(i,t,e){var n=t.lineWidth;if(n){var r=i.x+i.width,a=i.y+i.height;i.x=Xs(i.x,n,!0),i.y=Xs(i.y,n,!0),i.width=Xs(r,n,!0)-i.x,i.height=Xs(a,n,!0)-i.y}return new cn({shape:i,style:t,z2:e})}function M7(i,t,e){var n=t.lineWidth;return n&&(Nw(i.x1*2)===Nw(i.x2*2)&&(i.x1=i.x2=Xs(i.x1,n,!0)),Nw(i.y1*2)===Nw(i.y2*2)&&(i.y1=i.y2=Xs(i.y1,n,!0))),new Mr({shape:i,style:t,silent:!0,z2:e})}var VCt=(function(){function i(t,e,n){this.dimensions=i.dimensions,this.type="matrix",this._model=t;var r=this._dimModels={x:t.getDimensionModel("x"),y:t.getDimensionModel("y")};this._dims={x:r.x.dim,y:r.y.dim},this._resize(t,n)}return i.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},i.create=function(t,e){var n=[];return t.eachComponent("matrix",function(r){var a=new i(r,t,e);n.push(a),r.coordinateSystem=a}),t.eachComponent(function(r,a){uT({targetModel:a,coordSysType:"matrix",coordSysProvider:MZ})}),n},i.prototype.getRect=function(){return this._rect},i.prototype._resize=function(t,e){var n=this._dims,r=this._dimModels,a=this._rect=Bi(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});A7(r,n,a,0),A7(r,n,a,1),w7(0,n),w7(1,n),E7(this._model.getBody(),n),E7(this._model.getCorner(),n)},i.prototype.dataToPoint=function(t,e,n){return n=n||[],this.dataToLayout(t,e,i1),n[0]=i1.rect.x+i1.rect.width/2,n[1]=i1.rect.y+i1.rect.height/2,n},i.prototype.dataToLayout=function(t,e,n){var r=this._dims;n=n||{};var a=n.rect=n.rect||{};a.x=a.y=a.width=a.height=NaN;var o=n.matrixXYLocatorRange=o$(n.matrixXYLocatorRange);return Vt(t)&&(s$(o,null,t,r,_e(e&&e.clamp,ph.none)),(!e||!e.ignoreMergeCells)&&((!e||e.clamp!==ph.corner)&&this._model.getBody().expandRangeByCellMerge(o),(!e||e.clamp!==ph.body)&&this._model.getCorner().expandRangeByCellMerge(o)),y7(a,o,r,0),y7(a,o,r,1)),n},i.prototype.pointToData=function(t,e,n){var r=this._dims;return C7(wc,0,r,t,e&&e.clamp),C7(wc,1,r,t,e&&e.clamp),n=n||[],n[0]=n[1]=NaN,wc.y===Xa.inCorner&&wc.x===Xa.inBody?D7(wc,n,0,r):wc.x===Xa.inCorner&&wc.y===Xa.inBody?D7(wc,n,1,r):(R7(wc,n,0,r),R7(wc,n,1,r)),n},i.prototype.convertToPixel=function(t,e,n,r){var a=YN(e);return a===this?a.dataToPoint(n,r):void 0},i.prototype.convertToLayout=function(t,e,n,r){var a=YN(e);return a===this?a.dataToLayout(n,r):void 0},i.prototype.convertFromPixel=function(t,e,n,r){var a=YN(e);return a===this?a.pointToData(n,r):void 0},i.prototype.containPoint=function(t){return this._rect.contain(t[0],t[1])},i.dimensions=["x","y","value"],i})(),i1={rect:l2()},zw=new Qd,WN=new Qd;function A7(i,t,e,n){for(var r=1-n,a=t[We[n]],o=t[We[r]],s=o.shouldShow(),l=a.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var u=o.resetLayoutIterator(null,n);u.next();)u.item.wh=u.item.xy=NaN;for(var c=e[Pr[n]],f=a.getLocatorCount(n)+o.getLocatorCount(n),h=new yn,p=o.resetLevelIterator();p.next();)h.option=p.item.option,h.parentModel=i[We[r]],_(p.item,s?h.get("levelSize"):0);for(var g=new yn,m=a.resetCellIterator();m.next();)m.item.type===$f.leaf&&(g.option=m.item.option,g.parentModel=void 0,_(m.item,g.get("size")));function _(R,z){var N=HCt(z,n,e);Ya(N)||(R.wh=C3(N,c),c=C3(c-R.wh),f--)}var S=f?c/f:0,T=!f&&c>=1,M=e[We[n]],w=a.getLocatorCount(n)-1,D=new Qd;for(o.resetLayoutIterator(D,n);D.next();)C(D.item);for(a.resetLayoutIterator(D,n);D.next();)C(D.item);function C(R){Ya(R.wh)&&(R.wh=S),R.xy=M,R.id[We[n]]===w&&!T&&(R.wh=e[We[n]]+e[Pr[n]]-R.xy),M+=R.wh}}function w7(i,t){for(var e=t[We[i]].resetCellIterator();e.next();){var n=e.item;u2(n.rect,i,n.id,n.span,t),u2(n.rect,1-i,n.id,n.span,t),n.type===$f.nonLeaf&&(n.xy=n.rect[We[i]],n.wh=n.rect[Pr[i]])}}function E7(i,t){i.travelExistingCells(function(e){var n=e.span;if(n){var r=e.spanRect,a=e.id;u2(r,0,a,n,t),u2(r,1,a,n,t)}})}function u2(i,t,e,n,r){i[Pr[t]]=0;var a=e[We[t]],o=a<0?r[We[1-t]]:r[We[t]],s=o.getUnitLayoutInfo(t,e[We[t]]);if(i[We[t]]=s.xy,i[Pr[t]]=s.wh,n[We[t]]>1){var l=o.getUnitLayoutInfo(t,e[We[t]]+n[We[t]]-1);i[Pr[t]]=l.xy+l.wh-s.xy}}function HCt(i,t,e){var n=bC(i,e[Pr[t]]);return C3(n,e[Pr[t]])}function C3(i,t){return Math.max(Math.min(i,_e(t,1/0)),0)}function YN(i){var t=i.matrixModel,e=i.seriesModel,n=t?t.coordinateSystem:e?e.coordinateSystem:null;return n}var Xa={inBody:1,inCorner:2,outside:3},wc={x:null,y:null,point:[]};function C7(i,t,e,n,r){var a=e[We[t]],o=e[We[1-t]],s=a.getUnitLayoutInfo(t,a.getLocatorCount(t)-1),l=a.getUnitLayoutInfo(t,0),u=o.getUnitLayoutInfo(t,-o.getLocatorCount(t)),c=o.shouldShow()?o.getUnitLayoutInfo(t,-1):null,f=i.point[t]=n[t];if(!l&&!c){i[We[t]]=Xa.outside;return}if(r===ph.body){l?(i[We[t]]=Xa.inBody,f=Ys(s.xy+s.wh,br(l.xy,f)),i.point[t]=f):i[We[t]]=Xa.outside;return}else if(r===ph.corner){c?(i[We[t]]=Xa.inCorner,f=Ys(c.xy+c.wh,br(u.xy,f)),i.point[t]=f):i[We[t]]=Xa.outside;return}var h=l?l.xy:c?c.xy+c.wh:NaN,p=u?u.xy:h,g=s?s.xy+s.wh:h;if(f<p){if(!r){i[We[t]]=Xa.outside;return}f=p}else if(f>g){if(!r){i[We[t]]=Xa.outside;return}f=g}i.point[t]=f,i[We[t]]=h<=f&&f<=g?Xa.inBody:p<=f&&f<=h?Xa.inCorner:Xa.outside}function D7(i,t,e,n){var r=1-e;if(i[We[e]]!==Xa.outside)for(n[We[e]].resetCellIterator(WN);WN.next();){var a=WN.item;if(L7(i.point[e],a.rect,e)&&L7(i.point[r],a.rect,r)){t[e]=a.ordinal,t[r]=a.id[We[r]];return}}}function R7(i,t,e,n){if(i[We[e]]!==Xa.outside){var r=i[We[e]]===Xa.inCorner?n[We[1-e]]:n[We[e]];for(r.resetLayoutIterator(zw,e);zw.next();)if(kCt(i.point[e],zw.item)){t[e]=zw.item.id[We[e]];return}}}function kCt(i,t){return t.xy<=i&&i<=t.xy+t.wh}function L7(i,t,e){return t[We[e]]<=i&&i<=t[We[e]]+t[Pr[e]]}function FCt(i){i.registerComponentModel(LCt),i.registerComponentView(zCt),i.registerCoordinateSystem("matrix",VCt)}function GCt(i,t){var e=i.existing;if(t.id=i.keyInfo.id,!t.type&&e&&(t.type=e.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:e&&(t.parentId=e.parentId)}t.parentOption=null}function I7(i,t){var e;return G(t,function(n){i[n]!=null&&i[n]!=="auto"&&(e=!0)}),e}function XCt(i,t,e){var n=Rt({},e),r=i[t],a=e.$action||"merge";a==="merge"?r?(en(r,n,!0),Qc(r,n,{ignoreSize:!0}),DZ(e,r),Bw(e,r),Bw(e,r,"shape"),Bw(e,r,"style"),Bw(e,r,"extra"),e.clipPath=r.clipPath):i[t]=n:a==="replace"?i[t]=n:a==="remove"&&r&&(i[t]=null)}var u$=["transition","enterFrom","leaveTo"],WCt=u$.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Bw(i,t,e){if(e&&(!i[e]&&t[e]&&(i[e]={}),i=i[e],t=t[e]),!(!i||!t))for(var n=e?u$:WCt,r=0;r<n.length;r++){var a=n[r];i[a]==null&&t[a]!=null&&(i[a]=t[a])}}function YCt(i,t){if(i&&(i.hv=t.hv=[I7(t,["left","right"]),I7(t,["top","bottom"])],i.type==="group")){var e=i,n=t;e.width==null&&(e.width=n.width=0),e.height==null&&(e.height=n.height=0)}}var qCt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.mergeOption=function(e,n){var r=this.option.elements;this.option.elements=null,i.prototype.mergeOption.call(this,e,n),this.option.elements=r},t.prototype.optionUpdated=function(e,n){var r=this.option,a=(n?r:e).elements,o=r.elements=n?[]:r.elements,s=[];this._flatten(a,s,null);var l=_q(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];G(l,function(c,f){var h=c.newOption;h&&(u.push(h),GCt(c,h),XCt(o,f,h),YCt(o[f],h))},this),r.elements=Gn(o,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(e,n,r){G(e,function(a){if(a){r&&(a.parentOption=r),n.push(a);var o=a.children;o&&o.length&&this._flatten(o,n,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t})(pn),N7={path:null,compoundPath:null,group:Ce,image:da,text:wn},wl=gn(),ZCt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._elMap=ye()},t.prototype.render=function(e,n,r){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,r)},t.prototype._updateElements=function(e){var n=e.useElOptionsToUpdate();if(n){var r=this._elMap,a=this.group,o=e.get("z"),s=e.get("zlevel");G(n,function(l){var u=Yr(l.id,null),c=u!=null?r.get(u):null,f=Yr(l.parentId,null),h=f!=null?r.get(f):a,p=l.type,g=l.style;p==="text"&&g&&l.hv&&l.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null);var m=l.textContent,_=l.textConfig;if(g&&HJ(g,p,!!_,!!m)){var S=kJ(g,p,!0);!_&&S.textConfig&&(_=l.textConfig=S.textConfig),!m&&S.textContent&&(m=S.textContent)}var T=jCt(l),M=l.$action||"merge",w=M==="merge",D=M==="replace";if(w){var C=!c,R=c;C?R=O7(u,h,l.type,r):(R&&(wl(R).isNew=!1),WJ(R)),R&&(hE(R,T,e,{isInit:C}),P7(R,l,o,s))}else if(D){vE(c,l,r,e);var z=O7(u,h,l.type,r);z&&(hE(z,T,e,{isInit:!0}),P7(z,l,o,s))}else M==="remove"&&(GJ(c,l),vE(c,l,r,e));var N=r.get(u);if(N&&m)if(w){var O=N.getTextContent();O?O.attr(m):N.setTextContent(new wn(m))}else D&&N.setTextContent(new wn(m));if(N){var U=l.clipPath;if(U){var F=U.type,V=void 0,C=!1;if(w){var W=N.getClipPath();C=!W||wl(W).type!==F,V=C?D3(F):W}else D&&(C=!0,V=D3(F));N.setClipPath(V),hE(V,U,e,{isInit:C}),a2(V,U.keyframeAnimation,e)}var Z=wl(N);N.setTextConfig(_),Z.option=l,KCt(N,e,l),Ch({el:N,componentModel:e,itemName:N.name,itemTooltipOption:l.tooltip}),a2(N,l.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,n){for(var r=e.option.elements,a=this.group,o=this._elMap,s=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<r.length;c++){var f=r[c],h=Yr(f.id,null),p=h!=null?o.get(h):null;if(!(!p||!p.isGroup)){var g=p.parent,m=g===a,_=wl(p),S=wl(g);_.width=se(_.option.width,m?s:S.width)||0,_.height=se(_.option.height,m?l:S.height)||0}}for(var c=r.length-1;c>=0;c--){var f=r[c],h=Yr(f.id,null),p=h!=null?o.get(h):null;if(p){var g=p.parent,S=wl(g),T=g===a?{width:s,height:l}:{width:S.width,height:S.height},M={},w=TD(p,f,T,null,{hv:f.hv,boundingMode:f.bounding},M);if(!wl(p).isNew&&w){for(var D=f.transition,C={},R=0;R<u.length;R++){var z=u[R],N=M[z];D&&(Og(D)||tn(D,z)>=0)?C[z]=N:p[z]=N}Pn(p,C,e,0)}else p.attr(M)}}},t.prototype._clear=function(){var e=this,n=this._elMap;n.each(function(r){vE(r,wl(r).option,n,e._lastGraphicModel)}),this._elMap=ye()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t})(Ti);function D3(i){var t=ge(N7,i)?N7[i]:yb(i),e=new t({});return wl(e).type=i,e}function O7(i,t,e,n){var r=D3(e);return t.add(r),n.set(i,r),wl(r).id=i,wl(r).isNew=!0,r}function vE(i,t,e,n){var r=i&&i.parent;r&&(i.type==="group"&&i.traverse(function(a){vE(a,t,e,n)}),VD(i,t,n),e.removeKey(wl(i).id))}function P7(i,t,e,n){i.isGroup||G([["cursor",zl.prototype.cursor],["zlevel",n||0],["z",e||0],["z2",0]],function(r){var a=r[0];ge(t,a)?i[a]=_e(t[a],r[1]):i[a]==null&&(i[a]=r[1])}),G(Tn(t),function(r){if(r.indexOf("on")===0){var a=t[r];i[r]=Te(a)?a:null}}),ge(t,"draggable")&&(i.draggable=t.draggable),t.name!=null&&(i.name=t.name),t.id!=null&&(i.id=t.id)}function jCt(i){return i=Rt({},i),G(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(AZ),function(t){delete i[t]}),i}function KCt(i,t,e){var n=Ue(i).eventData;!i.silent&&!i.ignore&&!n&&(n=Ue(i).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:i.name}),n&&(n.info=e.info)}function QCt(i){i.registerComponentModel(qCt),i.registerComponentView(ZCt),i.registerPreprocessor(function(t){var e=t.graphic;Vt(e)?!e[0]||!e[0].elements?t.graphic=[{elements:e}]:t.graphic=[t.graphic[0]]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}var z7=["x","y","radius","angle","single"],JCt=["cartesian2d","polar","singleAxis"];function $Ct(i){var t=i.get("coordinateSystem");return tn(JCt,t)>=0}function qd(i){return i+"Axis"}function t2t(i,t){var e=ye(),n=[],r=ye();i.eachComponent({mainType:"dataZoom",query:t},function(c){r.get(c.uid)||s(c)});var a;do a=!1,i.eachComponent("dataZoom",o);while(a);function o(c){!r.get(c.uid)&&l(c)&&(s(c),a=!0)}function s(c){r.set(c.uid,!0),n.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(h,p){var g=e.get(h);g&&g[p]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,h){(e.get(f)||e.set(f,[]))[h]=!0})}return n}function c$(i){var t=i.ecModel,e={infoList:[],infoMap:ye()};return i.eachTargetAxis(function(n,r){var a=t.getComponent(qd(n),r);if(a){var o=a.getCoordSysModel();if(o){var s=o.uid,l=e.infoMap.get(s);l||(l={model:o,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(a)}}}),e}var qN=(function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},i})(),Bb=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,n,r){var a=B7(e);this.settledOption=a,this.mergeDefaultAndTheme(e,r),this._doInit(a)},t.prototype.mergeOption=function(e){var n=B7(e);en(this.option,e,!0),en(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var r=this.settledOption;G([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(n[a[0]]=r[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),n=this._targetAxisInfoMap=ye(),r=this._fillSpecifiedTargetAxis(n);r?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var n=!1;return G(z7,function(r){var a=this.getReferringComponents(qd(r),ydt);if(a.specified){n=!0;var o=new qN;G(a.models,function(s){o.add(s.componentIndex)}),e.set(r,o)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(e,n){var r=this.ecModel,a=!0;if(a){var o=n==="vertical"?"y":"x",s=r.findComponents({mainType:o+"Axis"});l(s,o)}if(a){var s=r.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});l(s,"single")}function l(u,c){var f=u[0];if(f){var h=new qN;if(h.add(f.componentIndex),e.set(c,h),a=!1,c==="x"||c==="y"){var p=f.getReferringComponents("grid",$i).models[0];p&&G(u,function(g){f.componentIndex!==g.componentIndex&&p===g.getReferringComponents("grid",$i).models[0]&&h.add(g.componentIndex)})}}}a&&G(z7,function(u){if(a){var c=r.findComponents({mainType:qd(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var f=new qN;f.add(c[0].componentIndex),e.set(u,f),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(n){!e&&(e=n)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var n=this._rangePropMode,r=this.get("rangeMode");G([["start","startValue"],["end","endValue"]],function(a,o){var s=e[a[0]]!=null,l=e[a[1]]!=null;s&&!l?n[o]="percent":!s&&l?n[o]="value":r?n[o]=r[o]:s&&(n[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(n,r){e==null&&(e=this.ecModel.getComponent(qd(n),r))},this),e},t.prototype.eachTargetAxis=function(e,n){this._targetAxisInfoMap.each(function(r,a){G(r.indexList,function(o){e.call(n,a,o)})})},t.prototype.getAxisProxy=function(e,n){var r=this.getAxisModel(e,n);if(r)return r.__dzAxisProxy},t.prototype.getAxisModel=function(e,n){var r=this._targetAxisInfoMap.get(e);if(r&&r.indexMap[n])return this.ecModel.getComponent(qd(e),n)},t.prototype.setRawRange=function(e){var n=this.option,r=this.settledOption;G([["start","startValue"],["end","endValue"]],function(a){(e[a[0]]!=null||e[a[1]]!=null)&&(n[a[0]]=r[a[0]]=e[a[0]],n[a[1]]=r[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var n=this.option;G(["start","startValue","end","endValue"],function(r){n[r]=e[r]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,n){if(e==null&&n==null){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataValueWindow()}else return this.getAxisProxy(e,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var n,r=this._targetAxisInfoMap.keys(),a=0;a<r.length;a++)for(var o=r[a],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t})(pn);function B7(i){var t={};return G(["start","end","startValue","endValue","throttle"],function(e){i.hasOwnProperty(e)&&(t[e]=i[e])}),t}var e2t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(Bb),u5=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r,a){this.dataZoomModel=e,this.ecModel=n,this.api=r},t.type="dataZoom",t})(Ti),n2t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(u5),y0=G,U7=Fs,i2t=(function(){function i(t,e,n,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=n}return i.prototype.hostedBy=function(t){return this._dataZoomModel===t},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if($Ct(e)){var n=qd(this._dimName),r=e.getReferringComponents(n,$i).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}},this),t},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return Ee(this._minMaxSpan)},i.prototype.calculateDataWindow=function(t){var e=this._dataExtent,n=this.getAxisModel(),r=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;y0(["start","end"],function(h,p){var g=t[h],m=t[h+"Value"];a[p]==="percent"?(g==null&&(g=o[p]),m=r.parse(Yn(g,o,e))):(u=!0,m=m==null?e[p]:r.parse(m),g=Yn(m,e,o)),l[p]=m==null||isNaN(m)?e[p]:m,s[p]=g==null||isNaN(g)?o[p]:g}),U7(l),U7(s);var c=this._minMaxSpan;u?f(l,s,e,o,!1):f(s,l,o,e,!0);function f(h,p,g,m,_){var S=_?"Span":"ValueSpan";up(0,h,g,"all",c["min"+S],c["max"+S]);for(var T=0;T<2;T++)p[T]=Yn(h[T],g,m,!0),_&&(p[T]=r.parse(p[T]))}return{valueWindow:l,percentWindow:s}},i.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=r2t(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var n=this._dimName,r=this.getTargetSeriesModels(),a=t.get("filterMode"),o=this._valueWindow;if(a==="none")return;y0(r,function(l){var u=l.getData(),c=u.mapDimensionsAll(n);if(c.length){if(a==="weakFilter"){var f=u.getStore(),h=kt(c,function(p){return u.getDimensionIndex(p)},u);u.filterSelf(function(p){for(var g,m,_,S=0;S<c.length;S++){var T=f.get(h[S],p),M=!isNaN(T),w=T<o[0],D=T>o[1];if(M&&!w&&!D)return!0;M&&(_=!0),w&&(g=!0),D&&(m=!0)}return _&&g&&m})}else y0(c,function(p){if(a==="empty")l.setData(u=u.map(p,function(m){return s(m)?m:NaN}));else{var g={};g[p]=o,u.selectRange(g)}});y0(c,function(p){u.setApproximateExtent(o,p)})}});function s(l){return l>=o[0]&&l<=o[1]}},i.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;y0(["min","max"],function(r){var a=e.get(r+"Span"),o=e.get(r+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=Yn(n[0]+o,n,[0,100],!0):a!=null&&(o=Yn(a,[0,100],n,!0)-n[0]),t[r+"Span"]=a,t[r+"ValueSpan"]=o},this)},i.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var r=Jz(n,[0,500]);r=Math.min(r,20);var a=t.axis.scale.rawExtentInfo;e[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(r)),e[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(r)),a.freeze()}},i})();function r2t(i,t,e){var n=[1/0,-1/0];y0(e,function(o){b0t(n,o.getData(),t)});var r=i.getAxisModel(),a=uK(r.axis.scale,r,n).calculate();return[a.min,a.max]}var a2t={getTargetSeries:function(i){function t(r){i.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var l=i.getComponent(qd(o),s);r(o,s,l,a)})})}t(function(r,a,o,s){o.__dzAxisProxy=null});var e=[];t(function(r,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new i2t(r,a,s,i),e.push(o.__dzAxisProxy))});var n=ye();return G(e,function(r){G(r.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(i,t){i.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(n,r){e.getAxisProxy(n,r).reset(e)}),e.eachTargetAxis(function(n,r){e.getAxisProxy(n,r).filterData(e,t)})}),i.eachComponent("dataZoom",function(e){var n=e.findRepresentativeAxisProxy();if(n){var r=n.getDataPercentWindow(),a=n.getDataValueWindow();e.setCalculatedRange({start:r[0],end:r[1],startValue:a[0],endValue:a[1]})}})}};function o2t(i){i.registerAction("dataZoom",function(t,e){var n=t2t(e,t);G(n,function(r){r.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var V7=!1;function c5(i){V7||(V7=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,a2t),o2t(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function s2t(i){i.registerComponentModel(e2t),i.registerComponentView(n2t),c5(i)}var Cl=(function(){function i(){}return i})(),f$={};function _0(i,t){f$[i]=t}function h$(i){return f$[i]}var l2t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){i.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;G(this.option.feature,function(n,r){var a=h$(r);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),en(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:vt.color.border,borderRadius:0,borderWidth:0,padding:vt.size.m,itemSize:15,itemGap:vt.size.s,showTitle:!0,iconStyle:{borderColor:vt.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:vt.color.accent50}},tooltip:{show:!1,position:"bottom"}},t})(pn);function d$(i,t){var e=N_(t.get("padding")),n=t.getItemStyle(["color","opacity"]);n.fill=t.get("backgroundColor");var r=new cn({shape:{x:i.x-e[3],y:i.y-e[0],width:i.width+e[1]+e[3],height:i.height+e[0]+e[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1});return r}var u2t=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.render=function(e,n,r,a){var o=this.group;if(o.removeAll(),!e.get("show"))return;var s=+e.get("itemSize"),l=e.get("orient")==="vertical",u=e.get("feature")||{},c=this._features||(this._features={}),f=[];G(u,function(T,M){f.push(M)}),new bh(this._featureNames||[],f).add(h).update(h).remove(Qe(h,null)).execute(),this._featureNames=f;function h(T,M){var w=f[T],D=f[M],C=u[w],R=new yn(C,e,e.ecModel),z;if(a&&a.newTitle!=null&&a.featureName===w&&(C.title=a.newTitle),w&&!D){if(c2t(w))z={onclick:R.option.onclick,featureName:w};else{var N=h$(w);if(!N)return;z=new N}c[w]=z}else if(z=c[D],!z)return;z.uid=I_("toolbox-feature"),z.model=R,z.ecModel=n,z.api=r;var O=z instanceof Cl;if(!w&&D){O&&z.dispose&&z.dispose(n,r);return}if(!R.get("show")||O&&z.unusable){O&&z.remove&&z.remove(n,r);return}p(R,z,w),R.setIconStatus=function(U,F){var V=this.option,W=this.iconPaths;V.iconStatus=V.iconStatus||{},V.iconStatus[U]=F,W[U]&&(F==="emphasis"?Sh:xh)(W[U])},z instanceof Cl&&z.render&&z.render(R,n,r,a)}function p(T,M,w){var D=T.getModel("iconStyle"),C=T.getModel(["emphasis","iconStyle"]),R=M instanceof Cl&&M.getIcons?M.getIcons():T.get("icon"),z=T.get("title")||{},N,O;le(R)?(N={},N[w]=R):N=R,le(z)?(O={},O[w]=z):O=z;var U=T.iconPaths={};G(N,function(F,V){var W=R_(F,{},{x:-s/2,y:-s/2,width:s,height:s});W.setStyle(D.getItemStyle());var Z=W.ensureState("emphasis");Z.style=C.getItemStyle();var H=new wn({style:{text:O[V],align:C.get("textAlign"),borderRadius:C.get("textBorderRadius"),padding:C.get("textPadding"),fill:null,font:xB({fontStyle:C.get("textFontStyle"),fontFamily:C.get("textFontFamily"),fontSize:C.get("textFontSize"),fontWeight:C.get("textFontWeight")},n)},ignore:!0});W.setTextContent(H),Ch({el:W,componentModel:e,itemName:V,formatterParamsExtra:{title:O[V]}}),W.__title=O[V],W.on("mouseover",function(){var j=C.getItemStyle(),Y=l?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";H.setStyle({fill:C.get("textFill")||j.fill||j.stroke||vt.color.neutral99,backgroundColor:C.get("textBackgroundColor")}),W.setTextConfig({position:C.get("textPosition")||Y}),H.ignore=!e.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){T.get(["iconStatus",V])!=="emphasis"&&r.leaveEmphasis(this),H.hide()}),(T.get(["iconStatus",V])==="emphasis"?Sh:xh)(W),o.add(W),W.on("click",ue(M.onclick,M,n,r,V)),U[V]=W})}var g=jr(e,r).refContainer,m=e.getBoxLayoutParams(),_=e.get("padding"),S=Bi(m,g,_);Lg(e.get("orient"),o,e.get("itemGap"),S.width,S.height),TD(o,m,g,_),o.add(d$(o.getBoundingRect(),e)),l||o.eachChild(function(T){var M=T.__title,w=T.ensureState("emphasis"),D=w.textConfig||(w.textConfig={}),C=T.getTextContent(),R=C&&C.ensureState("emphasis");if(R&&!Te(R)&&M){var z=R.style||(R.style={}),N=uD(M,wn.makeFont(z)),O=T.x+o.x,U=T.y+o.y+s,F=!1;U+N.height>r.getHeight()&&(D.position="top",F=!0);var V=F?-5-N.height:s+10;O+N.width/2>r.getWidth()?(D.position=["100%",V],z.align="right"):O-N.width/2<0&&(D.position=[0,V],z.align="left")}})},t.prototype.updateView=function(e,n,r,a){G(this._features,function(o){o instanceof Cl&&o.updateView&&o.updateView(o.model,n,r,a)})},t.prototype.remove=function(e,n){G(this._features,function(r){r instanceof Cl&&r.remove&&r.remove(e,n)}),this.group.removeAll()},t.prototype.dispose=function(e,n){G(this._features,function(r){r instanceof Cl&&r.dispose&&r.dispose(e,n)})},t.type="toolbox",t})(Ti);function c2t(i){return i.indexOf("my")===0}var f2t=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){var r=this.model,a=r.get("name")||e.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",s=o?"svg":r.get("type",!0)||"png",l=n.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||e.get("backgroundColor")||vt.color.neutral00,connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),u=xn.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+s,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var h=l.split(","),p=h[0].indexOf("base64")>-1,g=o?decodeURIComponent(h[1]):h[1];p&&(g=window.atob(g));var m=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var _=g.length,S=new Uint8Array(_);_--;)S[_]=g.charCodeAt(_);var T=new Blob([S]);window.navigator.msSaveOrOpenBlob(T,m)}else{var M=document.createElement("iframe");document.body.appendChild(M);var w=M.contentWindow,D=w.document;D.open("image/svg+xml","replace"),D.write(g),D.close(),w.focus(),D.execCommand("SaveAs",!0,m),document.body.removeChild(M)}}else{var C=r.get("lang"),R='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(C&&C[0]||"")+'" /></body>',z=window.open();z.document.write(R),z.document.title=a}},t.getDefaultOption=function(e){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:vt.color.neutral00,name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t})(Cl),H7="__ec_magicType_stack__",h2t=[["line","bar"],["stack"]],d2t=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,n=e.get("icon"),r={};return G(e.get("type"),function(a){n[a]&&(r[a]=n[a])}),r},t.getDefaultOption=function(e){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(e,n,r){var a=this.model,o=a.get(["seriesIndex",r]);if(k7[r]){var s={series:[]},l=function(f){var h=f.subType,p=f.id,g=k7[r](h,p,f,a);g&&(Re(g,f.option),s.series.push(g));var m=f.coordinateSystem;if(m&&m.type==="cartesian2d"&&(r==="line"||r==="bar")){var _=m.getAxesByScale("ordinal")[0];if(_){var S=_.dim,T=S+"Axis",M=f.getReferringComponents(T,$i).models[0],w=M.componentIndex;s[T]=s[T]||[];for(var D=0;D<=w;D++)s[T][w]=s[T][w]||{};s[T][w].boundaryGap=r==="bar"}}};G(h2t,function(f){tn(f,r)>=0&&G(f,function(h){a.setIconStatus(h,"normal")})}),a.setIconStatus(r,"emphasis"),e.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=r;r==="stack"&&(u=en({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",r])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},t})(Cl),k7={line:function(i,t,e,n){if(i==="bar")return en({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(i,t,e,n){if(i==="line")return en({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(i,t,e,n){var r=e.get("stack")===H7;if(i==="line"||i==="bar")return n.setIconStatus("stack",r?"normal":"emphasis"),en({id:t,stack:r?"":H7},n.get(["option","stack"])||{},!0)}};Uu({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,t){t.mergeOption(i.newOption)});var HD=new Array(60).join("-"),p_="	";function p2t(i){var t={},e=[],n=[];return i.eachRawSeries(function(r){var a=r.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(r)}else e.push(r)}else e.push(r)}),{seriesGroupByCategoryAxis:t,other:e,meta:n}}function v2t(i){var t=[];return G(i,function(e,n){var r=e.categoryAxis,a=e.valueAxis,o=a.dim,s=[" "].concat(kt(e.series,function(p){return p.name})),l=[r.model.getCategories()];G(e.series,function(p){var g=p.getRawData();l.push(p.getRawData().mapArray(g.mapDimension(o),function(m){return m}))});for(var u=[s.join(p_)],c=0;c<l[0].length;c++){for(var f=[],h=0;h<l.length;h++)f.push(l[h][c]);u.push(f.join(p_))}t.push(u.join(`
`))}),t.join(`

`+HD+`

`)}function g2t(i){return kt(i,function(t){var e=t.getRawData(),n=[t.name],r=[];return e.each(e.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=e.getName(o),l=0;l<a-1;l++)r[l]=arguments[l];n.push((s?s+p_:"")+r.join(p_))}),n.join(`
`)}).join(`

`+HD+`

`)}function m2t(i){var t=p2t(i);return{value:Gn([v2t(t.seriesGroupByCategoryAxis),g2t(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+HD+`

`),meta:t.meta}}function c2(i){return i.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function y2t(i){var t=i.slice(0,i.indexOf(`
`));if(t.indexOf(p_)>=0)return!0}var R3=new RegExp("["+p_+"]+","g");function _2t(i){for(var t=i.split(/\n+/g),e=c2(t.shift()).split(R3),n=[],r=kt(e,function(l){return{name:l,data:[]}}),a=0;a<t.length;a++){var o=c2(t[a]).split(R3);n.push(o.shift());for(var s=0;s<o.length;s++)r[s]&&(r[s].data[a]=o[s])}return{series:r,categories:n}}function S2t(i){for(var t=i.split(/\n+/g),e=c2(t.shift()),n=[],r=0;r<t.length;r++){var a=c2(t[r]);if(a){var o=a.split(R3),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),n[r]={name:s,value:[]},l=n[r].value):l=n[r]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?n[r].value=l[0]:n[r]=l[0])}}return{name:e,data:n}}function x2t(i,t){var e=i.split(new RegExp(`
*`+HD+`
*`,"g")),n={series:[]};return G(e,function(r,a){if(y2t(r)){var o=_2t(r),s=t[a],l=s.axisDim+"Axis";s&&(n[l]=n[l]||[],n[l][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=S2t(r);n.series.push(o)}}),n}var b2t=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var r=n.getDom(),a=this.model;this._dom&&r.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||vt.color.neutral00;var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),h=a.get("contentToOption"),p=m2t(e);if(Te(f)){var g=f(n.getOption());le(g)?u.innerHTML=g:Fg(g)&&u.appendChild(g)}else{c.readOnly=a.get("readOnly");var m=c.style;m.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",m.color=a.get("textColor"),m.borderColor=a.get("textareaBorderColor"),m.backgroundColor=a.get("textareaColor"),c.value=p.value,u.appendChild(c)}var _=p.meta,S=document.createElement("div");S.style.cssText="position:absolute;bottom:5px;left:0;right:0";var T="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",M=document.createElement("div"),w=document.createElement("div");T+=";background-color:"+a.get("buttonColor"),T+=";color:"+a.get("buttonTextColor");var D=this;function C(){r.removeChild(o),D._dom=null}HO(M,"click",C),HO(w,"click",function(){if(h==null&&f!=null||h!=null&&f==null){C();return}var R;try{Te(h)?R=h(u,n.getOption()):R=x2t(c.value,_)}catch(z){throw C(),new Error("Data view format error "+z)}R&&n.dispatchAction({type:"changeDataView",newOption:R}),C()}),M.innerHTML=l[1],w.innerHTML=l[2],w.style.cssText=M.style.cssText=T,!a.get("readOnly")&&S.appendChild(w),S.appendChild(M),o.appendChild(s),o.appendChild(u),o.appendChild(S),u.style.height=r.clientHeight-80+"px",r.appendChild(o),this._dom=o},t.prototype.remove=function(e,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.getDefaultOption=function(e){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:vt.color.background,textColor:vt.color.primary,textareaColor:vt.color.background,textareaBorderColor:vt.color.border,buttonColor:vt.color.accent50,buttonTextColor:vt.color.neutral00};return n},t})(Cl);function T2t(i,t){return kt(i,function(e,n){var r=t&&t[n];if(Le(r)&&!Vt(r)){var a=Le(e)&&!Vt(e);a||(e={value:e});var o=r.name!=null&&e.name==null;return e=Re(e,r),o&&delete e.name,e}else return e})}Uu({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(i,t){var e=[];G(i.newOption.series,function(n){var r=t.getSeriesByName(n.name)[0];if(!r)e.push(Rt({type:"scatter"},n));else{var a=r.get("data");e.push({name:n.name,data:T2t(n.data,a)})}}),t.mergeOption(Re({series:e},i.newOption))});var p$=G,v$=gn();function M2t(i,t){var e=f5(i);p$(t,function(n,r){for(var a=e.length-1;a>=0;a--){var o=e[a];if(o[r])break}if(a<0){var s=i.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var l=s.getPercentRange();e[0][r]={dataZoomId:r,start:l[0],end:l[1]}}}}),e.push(t)}function A2t(i){var t=f5(i),e=t[t.length-1];t.length>1&&t.pop();var n={};return p$(e,function(r,a){for(var o=t.length-1;o>=0;o--)if(r=t[o][a],r){n[a]=r;break}}),n}function w2t(i){v$(i).snapshots=null}function E2t(i){return f5(i).length}function f5(i){var t=v$(i);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var C2t=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){w2t(e),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return n},t})(Cl);Uu({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,t){t.resetOption("recreate")});var D2t=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],h5=(function(){function i(t,e,n){var r=this;this._targetInfoList=[];var a=F7(e,t);G(R2t,function(o,s){(!n||!n.include||tn(n.include,s)>=0)&&o(a,r._targetInfoList)})}return i.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(n,r,a){if((n.coordRanges||(n.coordRanges=[])).push(r),!n.coordRange){n.coordRange=r;var o=ZN[n.brushType](0,a,r);n.__rangeOffset={offset:Y7[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},i.prototype.matchOutputRanges=function(t,e,n){G(t,function(r){var a=this.findTargetInfo(r,e);a&&a!==!0&&G(a.coordSyses,function(o){var s=ZN[r.brushType](1,o,r.range,!0);n(r,s.values,o,e)})},this)},i.prototype.setInputRanges=function(t,e){G(t,function(n){var r=this.findTargetInfo(n,e);if(n.range=n.range||[],r&&r!==!0){n.panelId=r.panelId;var a=ZN[n.brushType](0,r.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?Y7[n.brushType](a.values,o.offset,L2t(a.xyMinMax,o.xyMinMax)):a.values}},this)},i.prototype.makePanelOpts=function(t,e){return kt(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:SJ(r),isTargetByCursor:bJ(r,t,n.coordSysModel),getLinearBrushOtherExtent:xJ(r)}})},i.prototype.controlSeries=function(t,e,n){var r=this.findTargetInfo(t,n);return r===!0||r&&tn(r.coordSyses,e.coordinateSystem)>=0},i.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,r=F7(e,t),a=0;a<n.length;a++){var o=n[a],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<G7.length;l++)if(G7[l](r,o))return o}return!0},i})();function L3(i){return i[0]>i[1]&&i.reverse(),i}function F7(i,t){return O0(i,t,{includeMainTypes:D2t})}var R2t={grid:function(i,t){var e=i.xAxisModels,n=i.yAxisModels,r=i.gridModels,a=ye(),o={},s={};!e&&!n&&!r||(G(e,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),G(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),G(r,function(l){a.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];G(u.getCartesians(),function(f,h){(tn(e,f.getAxis("x").model)>=0||tn(n,f.getAxis("y").model)>=0)&&c.push(f)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:X7.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(i,t){G(i.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:X7.geo})})}},G7=[function(i,t){var e=i.xAxisModel,n=i.yAxisModel,r=i.gridModel;return!r&&e&&(r=e.axis.grid.model),!r&&n&&(r=n.axis.grid.model),r&&r===t.gridModel},function(i,t){var e=i.geoModel;return e&&e===t.geoModel}],X7={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var i=this.coordSys,t=i.getBoundingRect().clone();return t.applyTransform($d(i)),t}},ZN={lineX:Qe(W7,0),lineY:Qe(W7,1),rect:function(i,t,e,n){var r=i?t.pointToData([e[0][0],e[1][0]],n):t.dataToPoint([e[0][0],e[1][0]],n),a=i?t.pointToData([e[0][1],e[1][1]],n):t.dataToPoint([e[0][1],e[1][1]],n),o=[L3([r[0],a[0]]),L3([r[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(i,t,e,n){var r=[[1/0,-1/0],[1/0,-1/0]],a=kt(e,function(o){var s=i?t.pointToData(o,n):t.dataToPoint(o,n);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s});return{values:a,xyMinMax:r}}};function W7(i,t,e,n){var r=e.getAxis(["x","y"][i]),a=L3(kt([0,1],function(s){return t?r.coordToData(r.toLocalCoord(n[s]),!0):r.toGlobalCoord(r.dataToCoord(n[s]))})),o=[];return o[i]=a,o[1-i]=[NaN,NaN],{values:a,xyMinMax:o}}var Y7={lineX:Qe(q7,0),lineY:Qe(q7,1),rect:function(i,t,e){return[[i[0][0]-e[0]*t[0][0],i[0][1]-e[0]*t[0][1]],[i[1][0]-e[1]*t[1][0],i[1][1]-e[1]*t[1][1]]]},polygon:function(i,t,e){return kt(i,function(n,r){return[n[0]-e[0]*t[r][0],n[1]-e[1]*t[r][1]]})}};function q7(i,t,e,n){return[t[0]-n[i]*e[0],t[1]-n[i]*e[1]]}function L2t(i,t){var e=Z7(i),n=Z7(t),r=[e[0]/n[0],e[1]/n[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}function Z7(i){return i?[i[0][1]-i[0][0],i[1][1]-i[1][0]]:[NaN,NaN]}var I3=G,I2t=ddt("toolbox-dataZoom_"),N2t=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.render=function(e,n,r,a){this._brushController||(this._brushController=new BU(r.getZr()),this._brushController.on("brush",ue(this._onBrush,this)).mount()),z2t(e,n,this,a,r),P2t(e,n)},t.prototype.onclick=function(e,n,r){O2t[r].call(this)},t.prototype.remove=function(e,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var n=e.areas;if(!e.isEnd||!n.length)return;var r={},a=this.ecModel;this._brushController.updateCovers([]);var o=new h5(d5(this.model),a,{include:["grid"]});o.matchOutputRanges(n,a,function(u,c,f){if(f.type==="cartesian2d"){var h=u.brushType;h==="rect"?(s("x",f,c[0]),s("y",f,c[1])):s({lineX:"x",lineY:"y"}[h],f,c)}}),M2t(a,r),this._dispatchZoomAction(r);function s(u,c,f){var h=c.getAxis(u),p=h.model,g=l(u,p,a),m=g.findRepresentativeAxisProxy(p).getMinMaxSpan();(m.minValueSpan!=null||m.maxValueSpan!=null)&&(f=up(0,f.slice(),h.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),g&&(r[g.id]={dataZoomId:g.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var h;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(p){var g=p.getAxisModel(u,c.componentIndex);g&&(h=p)}),h}},t.prototype._dispatchZoomAction=function(e){var n=[];I3(e,function(r,a){n.push(Ee(r))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(e){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:vt.color.backgroundTint}};return n},t})(Cl),O2t={zoom:function(){var i=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:i})},back:function(){this._dispatchZoomAction(A2t(this.ecModel))}};function d5(i){var t={xAxisIndex:i.get("xAxisIndex",!0),yAxisIndex:i.get("yAxisIndex",!0),xAxisId:i.get("xAxisId",!0),yAxisId:i.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function P2t(i,t){i.setIconStatus("back",E2t(t)>1?"emphasis":"normal")}function z2t(i,t,e,n,r){var a=e._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),e._isZoomActive=a,i.setIconStatus("zoom",a?"emphasis":"normal");var o=new h5(d5(i),t,{include:["grid"]}),s=o.makePanelOpts(r,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:i.getModel("brushStyle").getItemStyle()}:!1)}Zvt("dataZoom",function(i){var t=i.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var n=t.getModel(e),r=[],a=d5(n),o=O0(i,a);I3(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),I3(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var f=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:I2t+u+f};h[c]=f,r.push(h)}return r});function B2t(i){i.registerComponentModel(l2t),i.registerComponentView(u2t),_0("saveAsImage",f2t),_0("magicType",d2t),_0("dataView",b2t),_0("dataZoom",N2t),_0("restore",C2t),an(s2t)}var U2t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:vt.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:vt.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:vt.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:vt.color.tertiary,fontSize:14}},t})(pn);function g$(i){var t=i.get("confine");return t!=null?!!t:i.get("renderMode")==="richText"}function m$(i){if(xn.domSupported){for(var t=document.documentElement.style,e=0,n=i.length;e<n;e++)if(i[e]in t)return i[e]}}var y$=m$(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),V2t=m$(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function _$(i,t){if(!i)return t;t=OB(t,!0);var e=i.indexOf(t);return i=e===-1?t:"-"+i.slice(0,e)+"-"+t,i.toLowerCase()}function H2t(i,t){var e=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return e?e[t]:null}var k2t=_$(V2t,"transition"),p5=_$(y$,"transform"),F2t="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(xn.transform3dSupported?"will-change:transform;":"");function G2t(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function X2t(i,t,e){if(!le(e)||e==="inside")return"";var n=i.get("backgroundColor"),r=i.get("borderWidth");t=jg(t);var a=G2t(e),o=Math.max(Math.round(r)*1.5,6),s="",l=p5+":",u;tn(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+r,h=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),p=Math.round(((h-Math.SQRT2*r)/2+Math.SQRT2*r-(h-f)/2)*100)/100;s+=";"+a+":-"+p+"px";var g=t+" solid "+r+"px;",m=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+n+";"];return'<div style="'+m.join("")+'"></div>'}function W2t(i,t,e){var n="cubic-bezier(0.23,1,0.32,1)",r="",a="";return e&&(r=" "+i/2+"s "+n,a="opacity"+r+",visibility"+r),t||(r=" "+i+"s "+n,a+=(a.length?",":"")+(xn.transformSupported?""+p5+r:",left"+r+",top"+r)),k2t+":"+a}function j7(i,t,e){var n=i.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!xn.transformSupported)return e?"top:"+r+";left:"+n+";":[["top",r],["left",n]];var a=xn.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+r+(a?",0":"")+")";return e?"top:0;left:0;"+p5+":"+o+";":[["top",0],["left",0],[y$,o]]}function Y2t(i){var t=[],e=i.get("fontSize"),n=i.getTextColor();n&&t.push("color:"+n),t.push("font:"+i.getFont());var r=_e(i.get("lineHeight"),Math.round(e*3/2));e&&t.push("line-height:"+r+"px");var a=i.get("textShadowColor"),o=i.get("textShadowBlur")||0,s=i.get("textShadowOffsetX")||0,l=i.get("textShadowOffsetY")||0;return a&&o&&t.push("text-shadow:"+s+"px "+l+"px "+o+"px "+a),G(["decoration","align"],function(u){var c=i.get(u);c&&t.push("text-"+u+":"+c)}),t.join(";")}function q2t(i,t,e,n){var r=[],a=i.get("transitionDuration"),o=i.get("backgroundColor"),s=i.get("shadowBlur"),l=i.get("shadowColor"),u=i.get("shadowOffsetX"),c=i.get("shadowOffsetY"),f=i.getModel("textStyle"),h=sj(i,"html"),p=u+"px "+c+"px "+s+"px "+l;return r.push("box-shadow:"+p),t&&a>0&&r.push(W2t(a,e,n)),o&&r.push("background-color:"+o),G(["width","color","radius"],function(g){var m="border-"+g,_=OB(m),S=i.get(_);S!=null&&r.push(m+":"+S+(g==="color"?"":"px"))}),r.push(Y2t(f)),h!=null&&r.push("padding:"+N_(h).join("px ")+"px"),r.join(";")+";"}function K7(i,t,e,n,r){var a=t&&t.painter;if(e){var o=a&&a.getViewportRoot();o&&Ift(i,o,e,n,r)}else{i[0]=n,i[1]=r;var s=a&&a.getViewportRootOffset();s&&(i[0]+=s.offsetLeft,i[1]+=s.offsetTop)}i[2]=i[0]/t.getWidth(),i[3]=i[1]/t.getHeight()}var Z2t=(function(){function i(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,xn.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var r=this._zr=t.getZr(),a=e.appendTo,o=a&&(le(a)?document.querySelector(a):Fg(a)?a:Te(a)&&a(t.getDom()));K7(this._styleCoord,r,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(n),this._api=t,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=r.handler,c=r.painter.getViewportRoot();Tl(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return i.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),n=H2t(e,"position"),r=e.style;r.position!=="absolute"&&n!=="absolute"&&(r.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=t.get("displayTransition")&&t.get("transitionDuration")>0,this.el.className=t.get("className")||""},i.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,a=this._styleCoord;n.innerHTML?r.cssText=F2t+q2t(t,!this._firstShow,this._longHide,this._enableDisplayTransition)+j7(a[0],a[1],!0)+("border-color:"+jg(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(t,e,n,r,a){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(le(a)&&n.get("trigger")==="item"&&!g$(n)&&(s=X2t(n,r,a)),le(t))o.innerHTML=t+s;else if(t){o.innerHTML="",Vt(t)||(t=[t]);for(var l=0;l<t.length;l++)Fg(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},i.prototype.setEnterable=function(t){this._enterable=t},i.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},i.prototype.moveTo=function(t,e){if(this.el){var n=this._styleCoord;if(K7(n,this._zr,this._container,t,e),n[0]!=null&&n[1]!=null){var r=this.el.style,a=j7(n[0],n[1]);G(a,function(o){r[o[0]]=o[1]})}}},i.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},i.prototype.hide=function(){var t=this,e=this.el.style;this._enableDisplayTransition?(e.visibility="hidden",e.opacity="0"):e.display="none",xn.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},i.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(ue(this.hide,this),t)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this._zr;Nft(t&&t.painter&&t.painter.getViewportRoot(),this._container);var e=this.el;if(e){e.onmouseenter=e.onmousemove=e.onmouseleave=null;var n=e.parentNode;n&&n.removeChild(e)}this.el=this._container=null},i})(),j2t=(function(){function i(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),J7(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return i.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(t,e,n,r,a){var o=this;Le(t)&&qn(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new wn({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:sj(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),G(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=n.get(u)}),G(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},i.prototype.setEnterable=function(t){this._enterable=t},i.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=Q7(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},i.prototype.moveTo=function(t,e){var n=this.el;if(n){var r=this._styleCoord;J7(r,this._zr,t,e),t=r[0],e=r[1];var a=n.style,o=Od(a.borderWidth||0),s=Q7(a);n.x=t+o+s.left,n.y=e+o+s.top,n.markRedraw()}},i.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(ue(this.hide,this),t)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i})();function Od(i){return Math.max(0,i)}function Q7(i){var t=Od(i.shadowBlur||0),e=Od(i.shadowOffsetX||0),n=Od(i.shadowOffsetY||0);return{left:Od(t-e),right:Od(t+e),top:Od(t-n),bottom:Od(t+n)}}function J7(i,t,e,n){i[0]=e,i[1]=n,i[2]=i[0]/t.getWidth(),i[3]=i[1]/t.getHeight()}var K2t=new cn({shape:{x:-1,y:-1,width:2,height:2}}),Q2t=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){if(!(xn.node||!n.getDom())){var r=e.getComponent("tooltip"),a=this._renderMode=Sdt(r.get("renderMode"));this._tooltipContent=a==="richText"?new j2t(n):new Z2t(n,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},t.prototype.render=function(e,n,r){if(!(xn.node||!r.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=n,this._api=r;var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?z_(this,"_updatePosition",50,"fixRate"):bb(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,n=e.get("triggerOn");t$("itemTooltip",this._api,ue(function(r,a,o){n!=="none"&&(n.indexOf(r)>=0?this._tryShow(a,o):r==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,n=this._ecModel,r=this._api,a=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&o.manuallyShowTip(e,n,r,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,n,r,a){if(!(a.from===this.uid||xn.node||!r.getDom())){var o=$7(a,r);this._ticket="";var s=a.dataByCoordSys,l=eDt(a,n,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=K2t;c.x=a.x,c.y=a.y,c.update(),Ue(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(e,n,r,a))return;var f=e$(a,n),h=f.point[0],p=f.point[1];h!=null&&p!=null&&this._tryShow({offsetX:h,offsetY:p,target:f.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:r.getZr().findHover(a.x,a.y).target},o))}},t.prototype.manuallyHideTip=function(e,n,r,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide($7(a,r))},t.prototype._manuallyAxisShowTip=function(e,n,r,a){var o=a.seriesIndex,s=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=n.getSeriesByIndex(o);if(u){var c=u.getData(),f=r1([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},t.prototype._tryShow=function(e,n){var r=e.target,a=this._tooltipModel;if(a){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(r){var s=Ue(r);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;bg(r,function(c){if(c.tooltipDisabled)return l=u=null,!0;l||u||(Ue(c).dataIndex!=null?l=c:Ue(c).tooltipConfig!=null&&(u=c))},!0),l?this._showSeriesItemTooltip(e,l,n):u?this._showComponentItemTooltip(e,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(e,n){var r=e.get("showDelay");n=ue(n,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(n,r):n()},t.prototype._showAxisTooltip=function(e,n){var r=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],s=r1([n.tooltipOption],a),l=this._renderMode,u=[],c=zr("section",{blocks:[],noHeader:!0}),f=[],h=new DI;G(e,function(T){G(T.dataByAxis,function(M){var w=r.getComponent(M.axisDim+"Axis",M.axisIndex),D=M.value;if(!(!w||D==null)){var C=QJ(D,w.axis,r,M.seriesDataIndices,M.valueLabelOpt),R=zr("section",{header:C,noHeader:!ks(C),sortBlocks:!0,blocks:[]});c.blocks.push(R),G(M.seriesDataIndices,function(z){var N=r.getSeriesByIndex(z.seriesIndex),O=z.dataIndexInside,U=N.getDataParams(O);if(!(U.dataIndex<0)){U.axisDim=M.axisDim,U.axisIndex=M.axisIndex,U.axisType=M.axisType,U.axisId=M.axisId,U.axisValue=kC(w.axis,{value:D}),U.axisValueLabel=C,U.marker=h.makeTooltipMarker("item",jg(U.color),l);var F=vF(N.formatTooltip(O,!0,null)),V=F.frag;if(V){var W=r1([N],a).get("valueFormatter");R.blocks.push(W?Rt({valueFormatter:W},V):V)}F.text&&f.push(F.text),u.push(U)}})}})}),c.blocks.reverse(),f.reverse();var p=n.position,g=s.get("order"),m=xF(c,h,l,g,r.get("useUTC"),s.get("textStyle"));m&&f.unshift(m);var _=l==="richText"?`

`:"<br/>",S=f.join(_);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(s,p,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,S,u,Math.random()+"",o[0],o[1],p,null,h)})},t.prototype._showSeriesItemTooltip=function(e,n,r){var a=this._ecModel,o=Ue(n),s=o.seriesIndex,l=a.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,h=u.getData(f),p=this._renderMode,g=e.positionDefault,m=r1([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),_=m.get("trigger");if(!(_!=null&&_!=="item")){var S=u.getDataParams(c,f),T=new DI;S.marker=T.makeTooltipMarker("item",jg(S.color),p);var M=vF(u.formatTooltip(c,!1,f)),w=m.get("order"),D=m.get("valueFormatter"),C=M.frag,R=C?xF(D?Rt({valueFormatter:D},C):C,T,p,w,a.get("useUTC"),m.get("textStyle")):M.text,z="item_"+u.name+"_"+c;this._showOrMove(m,function(){this._showTooltipContent(m,R,S,z,e.offsetX,e.offsetY,e.position,e.target,T)}),r({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,n,r){var a=this._renderMode==="html",o=Ue(n),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(le(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=Ee(l),l.content=yo(l.content));var f=[l],h=this._ecModel.getComponent(o.componentMainType,o.componentIndex);h&&f.push(h),f.push({formatter:l.content});var p=e.positionDefault,g=r1(f,this._tooltipModel,p?{position:p}:null),m=g.get("content"),_=Math.random()+"",S=new DI;this._showOrMove(g,function(){var T=Ee(g.get("formatterParams")||{});this._showTooltipContent(g,m,T,_,e.offsetX,e.offsetY,e.position,n,S)}),r({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,n,r,a,o,s,l,u,c){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var f=this._tooltipContent;f.setEnterable(e.get("enterable"));var h=e.get("formatter");l=l||e.get("position");var p=n,g=this._getNearestPoint([o,s],r,e.get("trigger"),e.get("borderColor"),e.get("defaultBorderColor",!0)),m=g.color;if(h)if(le(h)){var _=e.ecModel.get("useUTC"),S=Vt(r)?r[0]:r,T=S&&S.axisType&&S.axisType.indexOf("time")>=0;p=h,T&&(p=lT(S.axisValue,p,_)),p=PB(p,r,!0)}else if(Te(h)){var M=ue(function(w,D){w===this._ticket&&(f.setContent(D,c,e,m,l),this._updatePosition(e,l,o,s,f,r,u))},this);this._ticket=a,p=h(r,a,M)}else p=h;f.setContent(p,c,e,m,l),f.show(e,m),this._updatePosition(e,l,o,s,f,r,u)}},t.prototype._getNearestPoint=function(e,n,r,a,o){if(r==="axis"||Vt(n))return{color:a||o};if(!Vt(n))return{color:a||n.color||n.borderColor}},t.prototype._updatePosition=function(e,n,r,a,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||e.get("position");var f=o.getSize(),h=e.get("align"),p=e.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),Te(n)&&(n=n([r,a],s,o.el,g,{viewSize:[u,c],contentSize:f.slice()})),Vt(n))r=se(n[0],u),a=se(n[1],c);else if(Le(n)){var m=n;m.width=f[0],m.height=f[1];var _=Bi(m,{width:u,height:c});r=_.x,a=_.y,h=null,p=null}else if(le(n)&&l){var S=tDt(n,g,f,e.get("borderWidth"));r=S[0],a=S[1]}else{var S=J2t(r,a,o,u,c,h?null:20,p?null:20);r=S[0],a=S[1]}if(h&&(r-=t9(h)?f[0]/2:h==="right"?f[0]:0),p&&(a-=t9(p)?f[1]/2:p==="bottom"?f[1]:0),g$(e)){var S=$2t(r,a,o,u,c);r=S[0],a=S[1]}o.moveTo(r,a)},t.prototype._updateContentNotChangedOnAxis=function(e,n){var r=this._lastDataByCoordSys,a=this._cbParamsList,o=!!r&&r.length===e.length;return o&&G(r,function(s,l){var u=s.dataByAxis||[],c=e[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&G(u,function(h,p){var g=f[p]||{},m=h.seriesDataIndices||[],_=g.seriesDataIndices||[];o=o&&h.value===g.value&&h.axisType===g.axisType&&h.axisId===g.axisId&&m.length===_.length,o&&G(m,function(S,T){var M=_[T];o=o&&S.seriesIndex===M.seriesIndex&&S.dataIndex===M.dataIndex}),a&&G(h.seriesDataIndices,function(S){var T=S.seriesIndex,M=n[T],w=a[T];M&&w&&w.data!==M.data&&(o=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=n,!!o},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,n){xn.node||!n.getDom()||(bb(this,"_updatePosition"),this._tooltipContent.dispose(),M3("itemTooltip",n))},t.type="tooltip",t})(Ti);function r1(i,t,e){var n=t.ecModel,r;e?(r=new yn(e,n,n),r=new yn(t.option,r,n)):r=t;for(var a=i.length-1;a>=0;a--){var o=i[a];o&&(o instanceof yn&&(o=o.get("tooltip",!0)),le(o)&&(o={formatter:o}),o&&(r=new yn(o,r,n)))}return r}function $7(i,t){return i.dispatchAction||ue(t.dispatchAction,t)}function J2t(i,t,e,n,r,a,o){var s=e.getSize(),l=s[0],u=s[1];return a!=null&&(i+l+a+2>n?i-=l+a:i+=a),o!=null&&(t+u+o>r?t-=u+o:t+=o),[i,t]}function $2t(i,t,e,n,r){var a=e.getSize(),o=a[0],s=a[1];return i=Math.min(i+o,n)-o,t=Math.min(t+s,r)-s,i=Math.max(i,0),t=Math.max(t,0),[i,t]}function tDt(i,t,e,n){var r=e[0],a=e[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,u=t.width,c=t.height;switch(i){case"inside":s=t.x+u/2-r/2,l=t.y+c/2-a/2;break;case"top":s=t.x+u/2-r/2,l=t.y-a-o;break;case"bottom":s=t.x+u/2-r/2,l=t.y+c+o;break;case"left":s=t.x-r-o,l=t.y+c/2-a/2;break;case"right":s=t.x+u+o,l=t.y+c/2-a/2}return[s,l]}function t9(i){return i==="center"||i==="middle"}function eDt(i,t,e){var n=iB(i).queryOptionMap,r=n.keys()[0];if(!(!r||r==="series")){var a=A_(t,r,n.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=e.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=Ue(u).tooltipConfig;if(c&&c.name===i.name)return l=u,!0}),l)return{componentMainType:r,componentIndex:o.componentIndex,el:l}}}}function nDt(i){an(mT),i.registerComponentModel(U2t),i.registerComponentView(Q2t),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ur),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ur)}var iDt=["rect","polygon","keep","clear"];function rDt(i,t){var e=bi(i?i.brush:[]);if(e.length){var n=[];G(e,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var r=i&&i.toolbox;Vt(r)&&(r=r[0]),r||(r={feature:{}},i.toolbox=[r]);var a=r.feature||(r.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,n),aDt(s),t&&!s.length&&s.push.apply(s,iDt)}}function aDt(i){var t={};G(i,function(e){t[e]=1}),i.length=0,G(t,function(e,n){i.push(n)})}var e9=G;function n9(i){if(i){for(var t in i)if(i.hasOwnProperty(t))return!0}}function N3(i,t,e){var n={};return e9(t,function(a){var o=n[a]=r();e9(i[a],function(s,l){if(ua.isValidType(l)){var u={type:l,visual:s};e&&e(u,a),o[l]=new ua(u),l==="opacity"&&(u=Ee(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new ua(u))}})}),n;function r(){var a=function(){};a.prototype.__hidden=a.prototype;var o=new a;return o}}function S$(i,t,e){var n;G(e,function(r){t.hasOwnProperty(r)&&n9(t[r])&&(n=!0)}),n&&G(e,function(r){t.hasOwnProperty(r)&&n9(t[r])?i[r]=Ee(t[r]):delete i[r]})}function oDt(i,t,e,n,r,a){var o={};G(i,function(f){var h=ua.prepareVisualTypes(t[f]);o[f]=h});var s;function l(f){return WB(e,s,f)}function u(f,h){mj(e,s,f,h)}e.each(c);function c(f,h){s=f;var p=e.getRawDataItem(s);if(!(p&&p.visualMap===!1))for(var g=n.call(r,f),m=t[g],_=o[g],S=0,T=_.length;S<T;S++){var M=_[S];m[M]&&m[M].applyVisual(f,l,u)}}}function sDt(i,t,e,n){var r={};return G(i,function(a){var o=ua.prepareVisualTypes(t[a]);r[a]=o}),{progress:function(o,s){var l;n!=null&&(l=s.getDimensionIndex(n));function u(D){return WB(s,f,D)}function c(D,C){mj(s,f,D,C)}for(var f,h=s.getStore();(f=o.next())!=null;){var p=s.getRawDataItem(f);if(!(p&&p.visualMap===!1))for(var g=n!=null?h.get(l,f):f,m=e(g),_=t[m],S=r[m],T=0,M=S.length;T<M;T++){var w=S[T];_[w]&&_[w].applyVisual(g,u,c)}}}}}function lDt(i){var t=i.brushType,e={point:function(n){return i9[t].point(n,e,i)},rect:function(n){return i9[t].rect(n,e,i)}};return e}var i9={lineX:r9(0),lineY:r9(1),rect:{point:function(i,t,e){return i&&e.boundingRect.contain(i[0],i[1])},rect:function(i,t,e){return i&&e.boundingRect.intersect(i)}},polygon:{point:function(i,t,e){return i&&e.boundingRect.contain(i[0],i[1])&&cg(e.range,i[0],i[1])},rect:function(i,t,e){var n=e.range;if(!i||n.length<=1)return!1;var r=i.x,a=i.y,o=i.width,s=i.height,l=n[0];if(cg(n,r,a)||cg(n,r+o,a)||cg(n,r,a+s)||cg(n,r+o,a+s)||Oe.create(i).contain(l[0],l[1])||m1(r,a,r+o,a,n)||m1(r,a,r,a+s,n)||m1(r+o,a,r+o,a+s,n)||m1(r,a+s,r+o,a+s,n))return!0}}};function r9(i){var t=["x","y"],e=["width","height"];return{point:function(n,r,a){if(n){var o=a.range,s=n[i];return a1(s,o)}},rect:function(n,r,a){if(n){var o=a.range,s=[n[t[i]],n[t[i]]+n[e[i]]];return s[1]<s[0]&&s.reverse(),a1(s[0],o)||a1(s[1],o)||a1(o[0],s)||a1(o[1],s)}}}}function a1(i,t){return t[0]<=i&&i<=t[1]}var a9=["inBrush","outOfBrush"],jN="__ecBrushSelect",O3="__ecInBrushSelectEvent";function x$(i){i.eachComponent({mainType:"brush"},function(t){var e=t.brushTargetManager=new h5(t.option,i);e.setInputRanges(t.areas,i)})}function uDt(i,t,e){var n=[],r,a;i.eachComponent({mainType:"brush"},function(o){e&&e.type==="takeGlobalCursor"&&o.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),x$(i),i.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:Ee(o.areas),selected:[]};n.push(l);var u=o.option,c=u.brushLink,f=[],h=[],p=[],g=!1;s||(r=u.throttleType,a=u.throttleDelay);var m=kt(o.areas,function(D){var C=dDt[D.brushType],R=Re({boundingRect:C?C(D):void 0},D);return R.selectors=lDt(R),R}),_=N3(o.option,a9,function(D){D.mappingMethod="fixed"});Vt(c)&&G(c,function(D){f[D]=1});function S(D){return c==="all"||!!f[D]}function T(D){return!!D.length}i.eachSeries(function(D,C){var R=p[C]=[];D.subType==="parallel"?M(D,C):w(D,C,R)});function M(D,C){var R=D.coordinateSystem;g=g||R.hasAxisBrushed(),S(C)&&R.eachActiveState(D.getData(),function(z,N){z==="active"&&(h[N]=1)})}function w(D,C,R){if(!(!D.brushSelector||hDt(o,C))&&(G(m,function(N){o.brushTargetManager.controlSeries(N,D,i)&&R.push(N),g=g||T(R)}),S(C)&&T(R))){var z=D.getData();z.each(function(N){o9(D,R,z,N)&&(h[N]=1)})}}i.eachSeries(function(D,C){var R={seriesId:D.id,seriesIndex:C,seriesName:D.name,dataIndex:[]};l.selected.push(R);var z=p[C],N=D.getData(),O=S(C)?function(U){return h[U]?(R.dataIndex.push(N.getRawIndex(U)),"inBrush"):"outOfBrush"}:function(U){return o9(D,z,N,U)?(R.dataIndex.push(N.getRawIndex(U)),"inBrush"):"outOfBrush"};(S(C)?g:T(z))&&oDt(a9,_,N,O)})}),cDt(t,r,a,n,e)}function cDt(i,t,e,n,r){if(r){var a=i.getZr();if(!a[O3]){a[jN]||(a[jN]=fDt);var o=z_(a,jN,e,t);o(i,n)}}}function fDt(i,t){if(!i.isDisposed()){var e=i.getZr();e[O3]=!0,i.dispatchAction({type:"brushSelect",batch:t}),e[O3]=!1}}function o9(i,t,e,n){for(var r=0,a=t.length;r<a;r++){var o=t[r];if(i.brushSelector(n,e,o.selectors,o))return!0}}function hDt(i,t){var e=i.option.seriesIndex;return e!=null&&e!=="all"&&(Vt(e)?tn(e,t)<0:t!==e)}var dDt={rect:function(i){return s9(i.range)},polygon:function(i){for(var t,e=i.range,n=0,r=e.length;n<r;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=e[n];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&s9(t)}};function s9(i){return new Oe(i[0][0],i[1][0],i[0][1]-i[0][0],i[1][1]-i[1][0])}var pDt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n,this.model,(this._brushController=new BU(n.getZr())).on("brush",ue(this._onBrush,this)).mount()},t.prototype.render=function(e,n,r,a){this.model=e,this._updateController(e,n,r,a)},t.prototype.updateTransform=function(e,n,r,a){x$(n),this._updateController(e,n,r,a)},t.prototype.updateVisual=function(e,n,r,a){this.updateTransform(e,n,r,a)},t.prototype.updateView=function(e,n,r,a){this._updateController(e,n,r,a)},t.prototype._updateController=function(e,n,r,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(r)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var n=this.model.id,r=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Ee(r),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Ee(r),$from:n})},t.type="brush",t})(Ti),vDt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return t.prototype.optionUpdated=function(e,n){var r=this.option;!n&&S$(r,e,["inBrush","outOfBrush"]);var a=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:this.option.defaultOutOfBrushColor},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=kt(e,function(n){return l9(this.option,n)},this))},t.prototype.setBrushOption=function(e){this.brushOption=l9(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:vt.color.backgroundTint,borderColor:vt.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:vt.color.disabled},t})(pn);function l9(i,t){return en({brushType:i.brushType,brushMode:i.brushMode,transformable:i.transformable,brushStyle:new yn(i.brushStyle).getItemStyle(),removeOnClick:i.removeOnClick,z:i.z},t,!0)}var gDt=["rect","polygon","lineX","lineY","keep","clear"],mDt=(function(i){ht(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.render=function(e,n,r){var a,o,s;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=a,this._brushMode=o,G(e.get("type",!0),function(l){e.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===a)?"emphasis":"normal")})},t.prototype.updateView=function(e,n,r){this.render(e,n,r)},t.prototype.getIcons=function(){var e=this.model,n=e.get("icon",!0),r={};return G(e.get("type",!0),function(a){n[a]&&(r[a]=n[a])}),r},t.prototype.onclick=function(e,n,r){var a=this._brushType,o=this._brushMode;r==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:r==="keep"?a:a===r?!1:r,brushMode:r==="keep"?o==="multiple"?"single":"multiple":o}})},t.getDefaultOption=function(e){var n={show:!0,type:gDt.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return n},t})(Cl);function yDt(i){i.registerComponentView(pDt),i.registerComponentModel(vDt),i.registerPreprocessor(rDt),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,uDt),i.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},ur),i.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},ur),_0("brush",mDt)}var _Dt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:vt.size.m,backgroundColor:vt.color.transparent,borderColor:vt.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:vt.color.primary},subtextStyle:{fontSize:12,color:vt.color.quaternary}},t})(pn),SDt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){if(this.group.removeAll(),!!e.get("show")){var a=this.group,o=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=_e(e.get("textBaseline"),e.get("textVerticalAlign")),c=new wn({style:Si(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),h=e.get("subtext"),p=new wn({style:Si(s,{text:h,fill:s.getTextColor(),y:f.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=e.get("link"),m=e.get("sublink"),_=e.get("triggerEvent",!0);c.silent=!g&&!_,p.silent=!m&&!_,g&&c.on("click",function(){RC(g,"_"+e.get("target"))}),m&&p.on("click",function(){RC(m,"_"+e.get("subtarget"))}),Ue(c).eventData=Ue(p).eventData=_?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(c),h&&a.add(p);var S=a.getBoundingRect(),T=e.getBoxLayoutParams();T.width=S.width,T.height=S.height;var M=jr(e,r),w=Bi(T,M.refContainer,e.get("padding"));l||(l=e.get("left")||e.get("right"),l==="middle"&&(l="center"),l==="right"?w.x+=w.width:l==="center"&&(w.x+=w.width/2)),u||(u=e.get("top")||e.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?w.y+=w.height:u==="middle"&&(w.y+=w.height/2),u=u||"top"),a.x=w.x,a.y=w.y,a.markRedraw();var D={align:l,verticalAlign:u};c.setStyle(D),p.setStyle(D),S=a.getBoundingRect();var C=w.margin,R=e.getItemStyle(["color","opacity"]);R.fill=e.get("backgroundColor");var z=new cn({shape:{x:S.x-C[3],y:S.y-C[0],width:S.width+C[1]+C[3],height:S.height+C[0]+C[2],r:e.get("borderRadius")},style:R,subPixelOptimize:!0,silent:!0});a.add(z)}},t.type="title",t})(Ti);function xDt(i){i.registerComponentModel(_Dt),i.registerComponentView(SDt)}var u9=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r),this._initData()},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var n=this._data.count();this.option.loop?e=(e%n+n)%n:(e>=n&&(e=n-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e=this.option,n=e.data||[],r=e.axisType,a=this._names=[],o;r==="category"?(o=[],G(n,function(u,c){var f=Yr(M_(u),""),h;Le(u)?(h=Ee(u),h.value=c):h=c,o.push(h),a.push(f)})):o=n;var s={category:"ordinal",time:"time",value:"number"}[r]||"number",l=this._data=new xo([{name:"value",type:s}],this);l.initData(o,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:vt.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:vt.color.secondary},data:[]},t})(pn),b$=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline.slider",t.defaultOption=yp(u9.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:vt.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:vt.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:vt.color.tertiary},itemStyle:{color:vt.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:vt.color.accent50,borderColor:vt.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:vt.color.accent50,borderColor:vt.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:vt.color.accent60},itemStyle:{color:vt.color.accent60,borderColor:vt.color.accent60},controlStyle:{color:vt.color.accent70,borderColor:vt.color.accent70}},progress:{lineStyle:{color:vt.color.accent30},itemStyle:{color:vt.color.accent40}},data:[]}),t})(u9);fr(b$,AD.prototype);var bDt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline",t})(Ti),TDt=(function(i){ht(t,i);function t(e,n,r,a){var o=i.call(this,e,n,r)||this;return o.type=a||"value",o}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t})(Fl),KN=Math.PI,c9=gn(),MDt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.api=n},t.prototype.render=function(e,n,r){if(this.model=e,this.api=r,this.ecModel=n,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,r),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,e);e.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return zr("nameValue",{noName:!0,value:c})},G(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,o,l,e)},this),this._renderAxisLabel(a,s,l,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,n){var r=e.get(["label","position"]),a=e.get("orient"),o=wDt(e,n),s;r==null||r==="auto"?s=a==="horizontal"?o.y+o.height/2<n.getHeight()/2?"-":"+":o.x+o.width/2<n.getWidth()/2?"+":"-":le(r)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][r]:s=r;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:KN/2},f=a==="vertical"?o.height:o.width,h=e.getModel("controlStyle"),p=h.get("show",!0),g=p?h.get("itemSize"):0,m=p?h.get("itemGap"):0,_=g+m,S=e.get(["label","rotate"])||0;S=S*KN/180;var T,M,w,D=h.get("position",!0),C=p&&h.get("showPlayBtn",!0),R=p&&h.get("showPrevBtn",!0),z=p&&h.get("showNextBtn",!0),N=0,O=f;D==="left"||D==="bottom"?(C&&(T=[0,0],N+=_),R&&(M=[N,0],N+=_),z&&(w=[O-g,0],O-=_)):(C&&(T=[O-g,0],O-=_),R&&(M=[0,0],N+=_),z&&(w=[O-g,0],O-=_));var U=[N,O];return e.get("inverse")&&U.reverse(),{viewRect:o,mainLength:f,orient:a,rotation:c[a],labelRotation:S,labelPosOpt:s,labelAlign:e.get(["label","align"])||l[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||u[a],playPosition:T,prevBtnPosition:M,nextBtnPosition:w,axisExtent:U,controlSize:g,controlGap:m}},t.prototype._position=function(e,n){var r=this._mainGroup,a=this._labelGroup,o=e.viewRect;if(e.orient==="vertical"){var s=la(),l=o.x,u=o.y+o.height;Iu(s,s,[-l,-u]),wh(s,s,-KN/2),Iu(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var c=T(o),f=T(r.getBoundingRect()),h=T(a.getBoundingRect()),p=[r.x,r.y],g=[a.x,a.y];g[0]=p[0]=c[0][0];var m=e.labelPosOpt;if(m==null||le(m)){var _=m==="+"?0:1;M(p,f,c,1,_),M(g,h,c,1,1-_)}else{var _=m>=0?0:1;M(p,f,c,1,_),g[1]=p[1]+m}r.setPosition(p),a.setPosition(g),r.rotation=a.rotation=e.rotation,S(r),S(a);function S(w){w.originX=c[0][0]-w.x,w.originY=c[1][0]-w.y}function T(w){return[[w.x,w.x+w.width],[w.y,w.y+w.height]]}function M(w,D,C,R,z){w[R]+=C[R][z]-D[R][z]}},t.prototype._createAxis=function(e,n){var r=n.getData(),a=n.get("axisType"),o=ADt(n,a);o.getTicks=function(){return r.mapArray(["value"],function(u){return{value:u}})};var s=r.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new TDt("value",o,e.axisExtent,a);return l.model=n,l},t.prototype._createGroup=function(e){var n=this[e]=new Ce;return this.group.add(n),n},t.prototype._renderAxisLine=function(e,n,r,a){var o=r.getExtent();if(a.get(["lineStyle","show"])){var s=new Mr({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:Rt({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(s);var l=this._progressLine=new Mr({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:Re({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},t.prototype._renderAxisTick=function(e,n,r,a){var o=this,s=a.getData(),l=r.scale.getTicks();this._tickSymbols=[],G(l,function(u){var c=r.dataToCoord(u.value),f=s.getItemModel(u.value),h=f.getModel("itemStyle"),p=f.getModel(["emphasis","itemStyle"]),g=f.getModel(["progress","itemStyle"]),m={x:c,y:0,onclick:ue(o._changeTimeline,o,u.value)},_=f9(f,h,n,m);_.ensureState("emphasis").style=p.getItemStyle(),_.ensureState("progress").style=g.getItemStyle(),Jd(_);var S=Ue(_);f.get("tooltip")?(S.dataIndex=u.value,S.dataModel=a):S.dataIndex=S.dataModel=null,o._tickSymbols.push(_)})},t.prototype._renderAxisLabel=function(e,n,r,a){var o=this,s=r.getLabelModel();if(s.get("show")){var l=a.getData(),u=r.getViewLabels();this._tickLabels=[],G(u,function(c){var f=c.tickValue,h=l.getItemModel(f),p=h.getModel("label"),g=h.getModel(["emphasis","label"]),m=h.getModel(["progress","label"]),_=r.dataToCoord(c.tickValue),S=new wn({x:_,y:0,rotation:e.labelRotation-e.rotation,onclick:ue(o._changeTimeline,o,f),silent:!1,style:Si(p,{text:c.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});S.ensureState("emphasis").style=Si(g),S.ensureState("progress").style=Si(m),n.add(S),Jd(S),c9(S).dataIndex=f,o._tickLabels.push(S)})}},t.prototype._renderControl=function(e,n,r,a){var o=e.controlSize,s=e.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);h(e.nextBtnPosition,"next",ue(this._changeTimeline,this,f?"-":"+")),h(e.prevBtnPosition,"prev",ue(this._changeTimeline,this,f?"+":"-")),h(e.playPosition,c?"stop":"play",ue(this._handlePlayClick,this,!c),!0);function h(p,g,m,_){if(p){var S=Nu(_e(a.get(["controlStyle",g+"BtnSize"]),o),o),T=[0,-S/2,S,S],M=EDt(a,g+"Icon",T,{x:p[0],y:p[1],originX:o/2,originY:0,rotation:_?-s:0,rectHover:!0,style:l,onclick:m});M.ensureState("emphasis").style=u,n.add(M),Jd(M)}}},t.prototype._renderCurrentPointer=function(e,n,r,a){var o=a.getData(),s=a.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=ue(u._handlePointerDrag,u),f.ondragend=ue(u._handlePointerDragend,u),h9(f,u._progressLine,s,r,a,!0)},onUpdate:function(f){h9(f,u._progressLine,s,r,a)}};this._currentPointer=f9(l,l,this._mainGroup,{},this._currentPointer,c)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,n,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,n){var r=this._toAxisCoord(e)[0],a=this._axis,o=Fs(a.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=r,s.dirty());var l=this._findNearestTick(r),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=e.model;e._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var n=this._mainGroup.getLocalTransform();return Cu(e,n,!0)},t.prototype._findNearestTick=function(e){var n=this.model.getData(),r=1/0,a,o=this._axis;return n.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-e);c<r&&(r=c,a=l)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var n=this.model.getCurrentIndex();e==="+"?e=n+1:e==="-"&&(e=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),n=this._tickSymbols,r=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<e);if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",c9(r[a]).dataIndex<=e)},t.type="timeline.slider",t})(bDt);function ADt(i,t){if(t=t||i.get("type"),t)switch(t){case"category":return new s_({ordinalMeta:i.getCategories(),extent:[1/0,-1/0]});case"time":return new sU({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new Mh}}function wDt(i,t){return Bi(i.getBoxLayoutParams(),jr(i,t).refContainer,i.get("padding"))}function EDt(i,t,e,n){var r=n.style,a=R_(i.get(["controlStyle",t]),n||{},new Oe(e[0],e[1],e[2],e[3]));return r&&a.setStyle(r),a}function f9(i,t,e,n,r,a){var o=t.get("color");if(r)r.setColor(o),e.add(r),a&&a.onUpdate(r);else{var s=i.get("symbol");r=Ar(s,-1,-1,2,2,o),r.setStyle("strokeNoScale",!0),e.add(r),a&&a.onCreate(r)}var l=t.getItemStyle(["color"]);r.setStyle(l),n=en({rectHover:!0,z2:100},n,!0);var u=B_(i.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var c=lm(i.get("symbolOffset"),u);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var f=i.get("symbolRotate");return n.rotation=(f||0)*Math.PI/180||0,r.attr(n),r.updateTransform(),r}function h9(i,t,e,n,r,a){if(!i.dragging){var o=r.getModel("checkpointStyle"),s=n.dataToCoord(r.getData().get("value",e));if(a||!o.get("animation",!0))i.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};i.stopAnimation(null,!0),i.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function CDt(i){i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,n){var r=e.getComponent("timeline");return r&&t.currentIndex!=null&&(r.setCurrentIndex(t.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),Re({currentIndex:r.option.currentIndex},t)}),i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&t.playState!=null&&n.setPlayState(t.playState)})}function DDt(i){var t=i&&i.timeline;Vt(t)||(t=t?[t]:[]),G(t,function(e){e&&RDt(e)})}function RDt(i){var t=i.type,e={number:"value",time:"time"};if(e[t]&&(i.axisType=e[t],delete i.type),d9(i),dg(i,"controlPosition")){var n=i.controlStyle||(i.controlStyle={});dg(n,"position")||(n.position=i.controlPosition),n.position==="none"&&!dg(n,"show")&&(n.show=!1,delete n.position),delete i.controlPosition}G(i.data||[],function(r){Le(r)&&!Vt(r)&&(!dg(r,"value")&&dg(r,"name")&&(r.value=r.name),d9(r))})}function d9(i){var t=i.itemStyle||(i.itemStyle={}),e=t.emphasis||(t.emphasis={}),n=i.label||i.label||{},r=n.normal||(n.normal={}),a={normal:1,emphasis:1};G(n,function(o,s){!a[s]&&!dg(r,s)&&(r[s]=o)}),e.label&&!dg(n,"emphasis")&&(n.emphasis=e.label,delete e.label)}function dg(i,t){return i.hasOwnProperty(t)}function LDt(i){i.registerComponentModel(b$),i.registerComponentView(MDt),i.registerSubTypeDefaulter("timeline",function(){return"slider"}),CDt(i),i.registerPreprocessor(DDt)}function v5(i,t){if(!i)return!1;for(var e=Vt(i)?i:[i],n=0;n<e.length;n++)if(e[n]&&e[n][t])return!0;return!1}function Uw(i){Gg(i,"label",["show"])}var Vw=gn(),$c=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e.preventAutoZ=!0,e}return t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r),this._mergeOption(e,r,!1,!0)},t.prototype.isAnimationEnabled=function(){if(xn.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,n){this._mergeOption(e,n,!1,!1)},t.prototype._mergeOption=function(e,n,r,a){var o=this.mainType;r||n.eachSeries(function(s){var l=s.get(this.mainType,!0),u=Vw(s)[o];if(!l||!l.data){Vw(s)[o]=null;return}u?u._mergeOption(l,n,!0):(a&&Uw(l),G(l.data,function(c){c instanceof Array?(Uw(c[0]),Uw(c[1])):Uw(c)}),u=this.createMarkerModelFromSeries(l,this,n),Rt(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),Vw(s)[o]=u},this)},t.prototype.formatTooltip=function(e,n,r){var a=this.getData(),o=this.getRawValue(e),s=a.getName(e);return zr("section",{header:this.name,blocks:[zr("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,n){var r=AD.prototype.getDataParams.call(this,e,n),a=this.__hostSeries;return a&&(r.seriesId=a.id,r.seriesName=a.name,r.seriesType=a.subType),r},t.getMarkerModelFromSeries=function(e,n){return Vw(e)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t})(pn);fr($c,AD.prototype);var IDt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t})($c);function P3(i){return!(isNaN(parseFloat(i.x))&&isNaN(parseFloat(i.y)))}function NDt(i){return!isNaN(parseFloat(i.x))&&!isNaN(parseFloat(i.y))}function Hw(i,t,e,n,r,a,o){var s=[],l=Th(t,r),u=l?t.getCalculationInfo("stackResultDimension"):r,c=f2(t,u,i),f=t.hostModel,h=f.indicesOfNearest(e,u,c)[0];s[a]=t.get(n,h),s[o]=t.get(u,h);var p=t.get(r,h),g=Mu(t.get(r,h));return g=Math.min(g,20),g>=0&&(s[o]=+s[o].toFixed(g)),[s,p]}var kw={min:Qe(Hw,"min"),max:Qe(Hw,"max"),average:Qe(Hw,"average"),median:Qe(Hw,"median")};function Ub(i,t){if(t){var e=i.getData(),n=i.coordinateSystem,r=n&&n.dimensions;if(!NDt(t)&&!Vt(t.coord)&&Vt(r)){var a=T$(t,e,n,i);if(t=Ee(t),t.type&&kw[t.type]&&a.baseAxis&&a.valueAxis){var o=tn(r,a.baseAxis.dim),s=tn(r,a.valueAxis.dim),l=kw[t.type](e,a.valueAxis.dim,a.baseDataDim,a.valueDataDim,o,s);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!Vt(r)){t.coord=[];var u=i.getBaseAxis();if(u&&t.type&&kw[t.type]){var c=n.getOtherAxis(u);c&&(t.value=f2(e,e.mapDimension(c.dim),t.type))}}else for(var f=t.coord,h=0;h<2;h++)kw[f[h]]&&(f[h]=f2(e,e.mapDimension(r[h]),f[h]));return t}}function T$(i,t,e,n){var r={};return i.valueIndex!=null||i.valueDim!=null?(r.valueDataDim=i.valueIndex!=null?t.getDimension(i.valueIndex):i.valueDim,r.valueAxis=e.getAxis(ODt(n,r.valueDataDim)),r.baseAxis=e.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=n.getBaseAxis(),r.valueAxis=e.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function ODt(i,t){var e=i.getData().getDimensionInfo(t);return e&&e.coordDim}function Vb(i,t){return i&&i.containData&&t.coord&&!P3(t)?i.containData(t.coord):!0}function PDt(i,t,e){return i&&i.containZone&&t.coord&&e.coord&&!P3(t)&&!P3(e)?i.containZone(t.coord,e.coord):!0}function M$(i,t){return i?function(e,n,r,a){var o=a<2?e.coord&&e.coord[a]:e.value;return ep(o,t[a])}:function(e,n,r,a){return ep(e.value,t[a])}}function f2(i,t,e){if(e==="average"){var n=0,r=0;return i.each(t,function(a,o){isNaN(a)||(n+=a,r++)}),n/r}else return e==="median"?i.getMedian(t):i.getDataExtent(t)[e==="max"?1:0]}var QN=gn(),g5=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this.markerGroupMap=ye()},t.prototype.render=function(e,n,r){var a=this,o=this.markerGroupMap;o.each(function(s){QN(s).keep=!1}),n.eachSeries(function(s){var l=$c.getMarkerModelFromSeries(s,a.type);l&&a.renderSeries(s,l,n,r)}),o.each(function(s){!QN(s).keep&&a.group.remove(s.group)}),zDt(n,o,this.type)},t.prototype.markKeep=function(e){QN(e).keep=!0},t.prototype.toggleBlurSeries=function(e,n){var r=this;G(e,function(a){var o=$c.getMarkerModelFromSeries(a,r.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(n?Vq(l):fB(l))})}})},t.type="marker",t})(Ti);function zDt(i,t,e){i.eachSeries(function(n){var r=$c.getMarkerModelFromSeries(n,e),a=t.get(n.id);if(r&&a&&a.group){var o=Zg(r),s=o.z,l=o.zlevel;xD(a.group,s,l)}})}function p9(i,t,e){var n=t.coordinateSystem,r=e.getWidth(),a=e.getHeight(),o=n&&n.getArea&&n.getArea();i.each(function(s){var l=i.getItemModel(s),u=l.get("relativeTo")==="coordinate",c=u?o?o.width:0:r,f=u?o?o.height:0:a,h=u&&o?o.x:0,p=u&&o?o.y:0,g,m=se(l.get("x"),c)+h,_=se(l.get("y"),f)+p;if(!isNaN(m)&&!isNaN(_))g=[m,_];else if(t.getMarkerPosition)g=t.getMarkerPosition(i.getValues(i.dimensions,s));else if(n){var S=i.get(n.dimensions[0],s),T=i.get(n.dimensions[1],s);g=n.dataToPoint([S,T])}isNaN(m)||(g[0]=m),isNaN(_)||(g[1]=_),i.setItemLayout(s,g)})}var BDt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,r){n.eachSeries(function(a){var o=$c.getMarkerModelFromSeries(a,"markPoint");o&&(p9(o.getData(),a,r),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(e,n,r,a){var o=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new dT),f=UDt(o,e,n);n.setData(f),p9(n.getData(),e,a),f.each(function(h){var p=f.getItemModel(h),g=p.getShallow("symbol"),m=p.getShallow("symbolSize"),_=p.getShallow("symbolRotate"),S=p.getShallow("symbolOffset"),T=p.getShallow("symbolKeepAspect");if(Te(g)||Te(m)||Te(_)||Te(S)){var M=n.getRawValue(h),w=n.getDataParams(h);Te(g)&&(g=g(M,w)),Te(m)&&(m=m(M,w)),Te(_)&&(_=_(M,w)),Te(S)&&(S=S(M,w))}var D=p.getModel("itemStyle").getItemStyle(),C=p.get("z2"),R=cT(l,"color");D.fill||(D.fill=R),f.setItemVisual(h,{z2:_e(C,0),symbol:g,symbolSize:m,symbolRotate:_,symbolOffset:S,symbolKeepAspect:T,style:D})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(h){h.traverse(function(p){Ue(p).dataModel=n})}),this.markKeep(c),c.group.silent=n.get("silent")||e.get("silent")},t.type="markPoint",t})(g5);function UDt(i,t,e){var n;i?n=kt(i&&i.dimensions,function(s){var l=t.getData().getDimensionInfo(t.getData().mapDimension(s))||{};return Rt(Rt({},l),{name:s,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var r=new xo(n,e),a=kt(e.get("data"),Qe(Ub,t));i&&(a=Gn(a,Qe(Vb,i)));var o=M$(!!i,n);return r.initData(a,null,o),r}function VDt(i){i.registerComponentModel(IDt),i.registerComponentView(BDt),i.registerPreprocessor(function(t){v5(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var HDt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t})($c),Fw=gn(),kDt=function(i,t,e,n){var r=i.getData(),a;if(Vt(n))a=n;else{var o=n.type;if(o==="min"||o==="max"||o==="average"||o==="median"||n.xAxis!=null||n.yAxis!=null){var s=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)s=t.getAxis(n.yAxis!=null?"y":"x"),l=Da(n.yAxis,n.xAxis);else{var u=T$(n,r,t,i);s=u.valueAxis;var c=rU(r,u.valueDataDim);l=f2(r,c,o)}var f=s.dim==="x"?0:1,h=1-f,p=Ee(n),g={coord:[]};p.type=null,p.coord=[],p.coord[h]=-1/0,g.coord[h]=1/0;var m=e.get("precision");m>=0&&En(l)&&(l=+l.toFixed(Math.min(m,20))),p.coord[f]=g.coord[f]=l,a=[p,g,{type:o,valueIndex:n.valueIndex,value:l}]}else a=[]}var _=[Ub(i,a[0]),Ub(i,a[1]),Rt({},a[2])];return _[2].type=_[2].type||null,en(_[2],_[0]),en(_[2],_[1]),_};function h2(i){return!isNaN(i)&&!isFinite(i)}function v9(i,t,e,n){var r=1-i,a=n.dimensions[i];return h2(t[r])&&h2(e[r])&&t[i]===e[i]&&n.getAxis(a).containData(t[i])}function FDt(i,t){if(i.type==="cartesian2d"){var e=t[0].coord,n=t[1].coord;if(e&&n&&(v9(1,e,n,i)||v9(0,e,n,i)))return!0}return Vb(i,t[0])&&Vb(i,t[1])}function JN(i,t,e,n,r){var a=n.coordinateSystem,o=i.getItemModel(t),s,l=se(o.get("x"),r.getWidth()),u=se(o.get("y"),r.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition)s=n.getMarkerPosition(i.getValues(i.dimensions,t));else{var c=a.dimensions,f=i.get(c[0],t),h=i.get(c[1],t);s=a.dataToPoint([f,h])}if(lp(a,"cartesian2d")){var p=a.getAxis("x"),g=a.getAxis("y"),c=a.dimensions;h2(i.get(c[0],t))?s[0]=p.toGlobalCoord(p.getExtent()[e?0:1]):h2(i.get(c[1],t))&&(s[1]=g.toGlobalCoord(g.getExtent()[e?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}i.setItemLayout(t,s)}var GDt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,r){n.eachSeries(function(a){var o=$c.getMarkerModelFromSeries(a,"markLine");if(o){var s=o.getData(),l=Fw(o).from,u=Fw(o).to;l.each(function(c){JN(l,c,!0,a,r),JN(u,c,!1,a,r)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,n,r,a){var o=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new PU);this.group.add(c.group);var f=XDt(o,e,n),h=f.from,p=f.to,g=f.line;Fw(n).from=h,Fw(n).to=p,n.setData(g);var m=n.get("symbol"),_=n.get("symbolSize"),S=n.get("symbolRotate"),T=n.get("symbolOffset");Vt(m)||(m=[m,m]),Vt(_)||(_=[_,_]),Vt(S)||(S=[S,S]),Vt(T)||(T=[T,T]),f.from.each(function(w){M(h,w,!0),M(p,w,!1)}),g.each(function(w){var D=g.getItemModel(w),C=D.getModel("lineStyle").getLineStyle();g.setItemLayout(w,[h.getItemLayout(w),p.getItemLayout(w)]);var R=D.get("z2");C.stroke==null&&(C.stroke=h.getItemVisual(w,"style").fill),g.setItemVisual(w,{z2:_e(R,0),fromSymbolKeepAspect:h.getItemVisual(w,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(w,"symbolOffset"),fromSymbolRotate:h.getItemVisual(w,"symbolRotate"),fromSymbolSize:h.getItemVisual(w,"symbolSize"),fromSymbol:h.getItemVisual(w,"symbol"),toSymbolKeepAspect:p.getItemVisual(w,"symbolKeepAspect"),toSymbolOffset:p.getItemVisual(w,"symbolOffset"),toSymbolRotate:p.getItemVisual(w,"symbolRotate"),toSymbolSize:p.getItemVisual(w,"symbolSize"),toSymbol:p.getItemVisual(w,"symbol"),style:C})}),c.updateData(g),f.line.eachItemGraphicEl(function(w){Ue(w).dataModel=n,w.traverse(function(D){Ue(D).dataModel=n})});function M(w,D,C){var R=w.getItemModel(D);JN(w,D,C,e,a);var z=R.getModel("itemStyle").getItemStyle();z.fill==null&&(z.fill=cT(l,"color")),w.setItemVisual(D,{symbolKeepAspect:R.get("symbolKeepAspect"),symbolOffset:_e(R.get("symbolOffset",!0),T[C?0:1]),symbolRotate:_e(R.get("symbolRotate",!0),S[C?0:1]),symbolSize:_e(R.get("symbolSize"),_[C?0:1]),symbol:_e(R.get("symbol",!0),m[C?0:1]),style:z})}this.markKeep(c),c.group.silent=n.get("silent")||e.get("silent")},t.type="markLine",t})(g5);function XDt(i,t,e){var n;i?n=kt(i&&i.dimensions,function(u){var c=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return Rt(Rt({},c),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var r=new xo(n,e),a=new xo(n,e),o=new xo([],e),s=kt(e.get("data"),Qe(kDt,t,i,e));i&&(s=Gn(s,Qe(FDt,i)));var l=M$(!!i,n);return r.initData(kt(s,function(u){return u[0]}),null,l),a.initData(kt(s,function(u){return u[1]}),null,l),o.initData(kt(s,function(u){return u[2]})),o.hasItemOption=!0,{from:r,to:a,line:o}}function WDt(i){i.registerComponentModel(HDt),i.registerComponentView(GDt),i.registerPreprocessor(function(t){v5(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var YDt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t})($c),Gw=gn(),qDt=function(i,t,e,n){var r=n[0],a=n[1];if(!(!r||!a)){var o=Ub(i,r),s=Ub(i,a),l=o.coord,u=s.coord;l[0]=Da(l[0],-1/0),l[1]=Da(l[1],-1/0),u[0]=Da(u[0],1/0),u[1]=Da(u[1],1/0);var c=rD([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function d2(i){return!isNaN(i)&&!isFinite(i)}function g9(i,t,e,n){var r=1-i;return d2(t[r])&&d2(e[r])}function ZDt(i,t){var e=t.coord[0],n=t.coord[1],r={coord:e,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return lp(i,"cartesian2d")?e&&n&&(g9(1,e,n)||g9(0,e,n))?!0:PDt(i,r,a):Vb(i,r)||Vb(i,a)}function m9(i,t,e,n,r){var a=n.coordinateSystem,o=i.getItemModel(t),s,l=se(o.get(e[0]),r.getWidth()),u=se(o.get(e[1]),r.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition){var c=i.getValues(["x0","y0"],t),f=i.getValues(["x1","y1"],t),h=a.clampData(c),p=a.clampData(f),g=[];e[0]==="x0"?g[0]=h[0]>p[0]?f[0]:c[0]:g[0]=h[0]>p[0]?c[0]:f[0],e[1]==="y0"?g[1]=h[1]>p[1]?f[1]:c[1]:g[1]=h[1]>p[1]?c[1]:f[1],s=n.getMarkerPosition(g,e,!0)}else{var m=i.get(e[0],t),_=i.get(e[1],t),S=[m,_];a.clampData&&a.clampData(S,S),s=a.dataToPoint(S,!0)}if(lp(a,"cartesian2d")){var T=a.getAxis("x"),M=a.getAxis("y"),m=i.get(e[0],t),_=i.get(e[1],t);d2(m)?s[0]=T.toGlobalCoord(T.getExtent()[e[0]==="x0"?0:1]):d2(_)&&(s[1]=M.toGlobalCoord(M.getExtent()[e[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var y9=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],jDt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,r){n.eachSeries(function(a){var o=$c.getMarkerModelFromSeries(a,"markArea");if(o){var s=o.getData();s.each(function(l){var u=kt(y9,function(f){return m9(s,l,f,a,r)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},t.prototype.renderSeries=function(e,n,r,a){var o=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new Ce});this.group.add(c.group),this.markKeep(c);var f=KDt(o,e,n);n.setData(f),f.each(function(h){var p=kt(y9,function(O){return m9(f,h,O,e,a)}),g=o.getAxis("x").scale,m=o.getAxis("y").scale,_=g.getExtent(),S=m.getExtent(),T=[g.parse(f.get("x0",h)),g.parse(f.get("x1",h))],M=[m.parse(f.get("y0",h)),m.parse(f.get("y1",h))];Fs(T),Fs(M);var w=!(_[0]>T[1]||_[1]<T[0]||S[0]>M[1]||S[1]<M[0]),D=!w;f.setItemLayout(h,{points:p,allClipped:D});var C=f.getItemModel(h),R=C.getModel("itemStyle").getItemStyle(),z=C.get("z2"),N=cT(l,"color");R.fill||(R.fill=N,le(R.fill)&&(R.fill=hb(R.fill,.4))),R.stroke||(R.stroke=N),f.setItemVisual(h,"style",R),f.setItemVisual(h,"z2",_e(z,0))}),f.diff(Gw(c).data).add(function(h){var p=f.getItemLayout(h),g=f.getItemVisual(h,"z2");if(!p.allClipped){var m=new Qa({z2:_e(g,0),shape:{points:p.points}});f.setItemGraphicEl(h,m),c.group.add(m)}}).update(function(h,p){var g=Gw(c).data.getItemGraphicEl(p),m=f.getItemLayout(h),_=f.getItemVisual(h,"z2");m.allClipped?g&&c.group.remove(g):(g?Pn(g,{z2:_e(_,0),shape:{points:m.points}},n,h):g=new Qa({shape:{points:m.points}}),f.setItemGraphicEl(h,g),c.group.add(g))}).remove(function(h){var p=Gw(c).data.getItemGraphicEl(h);c.group.remove(p)}).execute(),f.eachItemGraphicEl(function(h,p){var g=f.getItemModel(p),m=f.getItemVisual(p,"style");h.useStyle(f.getItemVisual(p,"style")),ha(h,Zr(g),{labelFetcher:n,labelDataIndex:p,defaultText:f.getName(p)||"",inheritColor:le(m.fill)?hb(m.fill,1):vt.color.neutral99}),qr(h,g),Fi(h,null,null,g.get(["emphasis","disabled"])),Ue(h).dataModel=n}),Gw(c).data=f,c.group.silent=n.get("silent")||e.get("silent")},t.type="markArea",t})(g5);function KDt(i,t,e){var n,r,a=["x0","y0","x1","y1"];if(i){var o=kt(i&&i.dimensions,function(u){var c=t.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return Rt(Rt({},f),{name:u,ordinalMeta:null})});r=kt(a,function(u,c){return{name:u,type:o[c%2].type}}),n=new xo(r,e)}else r=[{name:"value",type:"float"}],n=new xo(r,e);var s=kt(e.get("data"),Qe(qDt,t,i,e));i&&(s=Gn(s,Qe(ZDt,i)));var l=i?function(u,c,f,h){var p=u.coord[Math.floor(h/2)][h%2];return ep(p,r[h])}:function(u,c,f,h){return ep(u.value,r[h])};return n.initData(s,null,l),n.hasItemOption=!0,n}function QDt(i){i.registerComponentModel(YDt),i.registerComponentView(jDt),i.registerPreprocessor(function(t){v5(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var JDt=function(i,t){if(t==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},z3=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},t.prototype._updateSelector=function(e){var n=e.selector,r=this.ecModel;n===!0&&(n=e.selector=["all","inverse"]),Vt(n)&&G(n,function(a,o){le(a)&&(a={type:a}),n[o]=en(a,JDt(r,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var n=!1,r=0;r<e.length;r++){var a=e[r].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var n=[],r=[];e.eachRawSeries(function(l){var u=l.name;r.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,h=f.getAllNames();e.isSeriesFiltered(l)||(r=r.concat(h)),h.length?n=n.concat(h):c=!0}else c=!0;c&&nB(l)&&n.push(l.name)}),this._availableNames=r;var a=this.get("data")||n,o=ye(),s=kt(a,function(l){return(le(l)||En(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new yn(l,this,this.ecModel))},this);this._data=Gn(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var n=this.option.selected,r=this.get("selectedMode");if(r==="single"){var a=this._data;G(a,function(o){n[o.get("name")]=!1})}n[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var n=this.option.selected;n.hasOwnProperty(e)||(n[e]=!0),this[n[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,n=this.option.selected;G(e,function(r){n[r.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,n=this.option.selected;G(e,function(r){var a=r.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},t.prototype.isSelected=function(e){var n=this.option.selected;return!(n.hasOwnProperty(e)&&!n[e])&&tn(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:vt.size.m,align:"auto",backgroundColor:vt.color.transparent,borderColor:vt.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:vt.color.disabled,inactiveBorderColor:vt.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:vt.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:vt.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:vt.color.tertiary,borderWidth:1,borderColor:vt.color.border},emphasis:{selectorLabel:{show:!0,color:vt.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},t})(pn),f0=Qe,B3=G,Xw=Ce,A$=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new Xw),this.group.add(this._selectorGroup=new Xw),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,n,r){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),s=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,e,n,r,l,s,u);var c=jr(e,r).refContainer,f=e.getBoxLayoutParams(),h=e.get("padding"),p=Bi(f,c,h),g=this.layoutInner(e,o,p,a,l,u),m=Bi(Re({width:g.width,height:g.height},f),c,h);this.group.x=m.x-g.x,this.group.y=m.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=d$(g,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,n,r,a,o,s,l){var u=this.getContentGroup(),c=ye(),f=n.get("selectedMode"),h=n.get("triggerEvent"),p=[];r.eachRawSeries(function(g){!g.get("legendHoverLink")&&p.push(g.id)}),B3(n.getData(),function(g,m){var _=this,S=g.get("name");if(!this.newlineDisabled&&(S===""||S===`
`)){var T=new Xw;T.newline=!0,u.add(T);return}var M=r.getSeriesByName(S)[0];if(!c.get(S))if(M){var w=M.getData(),D=w.getVisual("legendLineStyle")||{},C=w.getVisual("legendIcon"),R=w.getVisual("style"),z=this._createItem(M,S,m,g,n,e,D,R,C,f,a);z.on("click",f0(_9,S,null,a,p)).on("mouseover",f0(U3,M.name,null,a,p)).on("mouseout",f0(V3,M.name,null,a,p)),r.ssr&&z.eachChild(function(N){var O=Ue(N);O.seriesIndex=M.seriesIndex,O.dataIndex=m,O.ssrType="legend"}),h&&z.eachChild(function(N){_.packEventData(N,n,M,m,S)}),c.set(S,!0)}else r.eachRawSeries(function(N){var O=this;if(!c.get(S)&&N.legendVisualProvider){var U=N.legendVisualProvider;if(!U.containName(S))return;var F=U.indexOfName(S),V=U.getItemVisual(F,"style"),W=U.getItemVisual(F,"legendIcon"),Z=So(V.fill);Z&&Z[3]===0&&(Z[3]=.2,V=Rt(Rt({},V),{fill:Ll(Z,"rgba")}));var H=this._createItem(N,S,m,g,n,e,{},V,W,f,a);H.on("click",f0(_9,null,S,a,p)).on("mouseover",f0(U3,null,S,a,p)).on("mouseout",f0(V3,null,S,a,p)),r.ssr&&H.eachChild(function(j){var Y=Ue(j);Y.seriesIndex=N.seriesIndex,Y.dataIndex=m,Y.ssrType="legend"}),h&&H.eachChild(function(j){O.packEventData(j,n,N,m,S)}),c.set(S,!0)}},this)},this),o&&this._createSelector(o,n,a,s,l)},t.prototype.packEventData=function(e,n,r,a,o){var s={componentType:"legend",componentIndex:n.componentIndex,dataIndex:a,value:o,seriesIndex:r.seriesIndex};Ue(e).eventData=s},t.prototype._createSelector=function(e,n,r,a,o){var s=this.getSelectorGroup();B3(e,function(u){var c=u.type,f=new wn({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});s.add(f);var h=n.getModel("selectorLabel"),p=n.getModel(["emphasis","selectorLabel"]);ha(f,{normal:h,emphasis:p},{defaultText:u.title}),Jd(f)})},t.prototype._createItem=function(e,n,r,a,o,s,l,u,c,f,h){var p=e.visualDrawType,g=o.get("itemWidth"),m=o.get("itemHeight"),_=o.isSelected(n),S=a.get("symbolRotate"),T=a.get("symbolKeepAspect"),M=a.get("icon");c=M||c||"roundRect";var w=$Dt(c,a,l,u,p,_,h),D=new Xw,C=a.getModel("textStyle");if(Te(e.getLegendIcon)&&(!M||M==="inherit"))D.add(e.getLegendIcon({itemWidth:g,itemHeight:m,icon:c,iconRotate:S,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:T}));else{var R=M==="inherit"&&e.getData().getVisual("symbol")?S==="inherit"?e.getData().getVisual("symbolRotate"):S:0;D.add(tRt({itemWidth:g,itemHeight:m,icon:c,iconRotate:R,itemStyle:w.itemStyle,symbolKeepAspect:T}))}var z=s==="left"?g+5:-5,N=s,O=o.get("formatter"),U=n;le(O)&&O?U=O.replace("{name}",n??""):Te(O)&&(U=O(n));var F=_?C.getTextColor():a.get("inactiveColor");D.add(new wn({style:Si(C,{text:U,x:z,y:m/2,fill:F,align:N,verticalAlign:"middle"},{inheritColor:F})}));var V=new cn({shape:D.getBoundingRect(),style:{fill:"transparent"}}),W=a.getModel("tooltip");return W.get("show")&&Ch({el:V,componentModel:o,itemName:n,itemTooltipOption:W.option}),D.add(V),D.eachChild(function(Z){Z.silent=!0}),V.silent=!f,this.getContentGroup().add(D),Jd(D),D.__legendDataIndex=r,D},t.prototype.layoutInner=function(e,n,r,a,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Lg(e.get("orient"),l,e.get("itemGap"),r.width,r.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){Lg("horizontal",u,e.get("selectorItemGap",!0));var h=u.getBoundingRect(),p=[-h.x,-h.y],g=e.get("selectorButtonGap",!0),m=e.getOrient().index,_=m===0?"width":"height",S=m===0?"height":"width",T=m===0?"y":"x";s==="end"?p[m]+=c[_]+g:f[m]+=h[_]+g,p[1-m]+=c[S]/2-h[S]/2,u.x=p[0],u.y=p[1],l.x=f[0],l.y=f[1];var M={x:0,y:0};return M[_]=c[_]+g+h[_],M[S]=Math.max(c[S],h[S]),M[T]=Math.min(0,h[T]+p[1-m]),M}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t})(Ti);function $Dt(i,t,e,n,r,a,o){function s(_,S){_.lineWidth==="auto"&&(_.lineWidth=S.lineWidth>0?2:0),B3(_,function(T,M){_[M]==="inherit"&&(_[M]=S[M])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=i.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?n.decal:o_(f,o),u.fill==="inherit"&&(u.fill=n[r]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(r==="fill"?n:e).opacity),s(u,n);var h=t.getModel("lineStyle"),p=h.getLineStyle();if(s(p,e),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),p.stroke==="auto"&&(p.stroke=n.fill),!a){var g=t.get("inactiveBorderWidth"),m=u[c];u.lineWidth=g==="auto"?n.lineWidth>0&&m?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),p.stroke=h.get("inactiveColor"),p.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:p}}function tRt(i){var t=i.icon||"roundRect",e=Ar(t,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return e.setStyle(i.itemStyle),e.rotation=(i.iconRotate||0)*Math.PI/180,e.setOrigin([i.itemWidth/2,i.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill=vt.color.neutral00,e.style.lineWidth=2),e}function _9(i,t,e,n){V3(i,t,e,n),e.dispatchAction({type:"legendToggleSelect",name:i??t}),U3(i,t,e,n)}function w$(i){for(var t=i.getZr().storage.getDisplayList(),e,n=0,r=t.length;n<r&&!(e=t[n].states.emphasis);)n++;return e&&e.hoverLayer}function U3(i,t,e,n){w$(e)||e.dispatchAction({type:"highlight",seriesName:i,name:t,excludeSeriesId:n})}function V3(i,t,e,n){w$(e)||e.dispatchAction({type:"downplay",seriesName:i,name:t,excludeSeriesId:n})}function eRt(i){var t=i.findComponents({mainType:"legend"});t&&t.length&&i.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}function o1(i,t,e){var n=i==="allSelect"||i==="inverseSelect",r={},a=[];e.eachComponent({mainType:"legend",query:t},function(s){n?s[i]():s[i](t.name),S9(s,r),a.push(s.componentIndex)});var o={};return e.eachComponent("legend",function(s){G(r,function(l,u){s[l?"select":"unSelect"](u)}),S9(s,o)}),n?{selected:o,legendIndex:a}:{name:t.name,selected:o}}function S9(i,t){var e=t||{};return G(i.getData(),function(n){var r=n.get("name");if(!(r===`
`||r==="")){var a=i.isSelected(r);ge(e,r)?e[r]=e[r]&&a:e[r]=a}}),e}function nRt(i){i.registerAction("legendToggleSelect","legendselectchanged",Qe(o1,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",Qe(o1,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",Qe(o1,"inverseSelect")),i.registerAction("legendSelect","legendselected",Qe(o1,"select")),i.registerAction("legendUnSelect","legendunselected",Qe(o1,"unSelect"))}function E$(i){i.registerComponentModel(z3),i.registerComponentView(A$),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,eRt),i.registerSubTypeDefaulter("legend",function(){return"plain"}),nRt(i)}var iRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,n,r){var a=om(e);i.prototype.init.call(this,e,n,r),x9(this,e,a)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),x9(this,this.option,e)},t.type="legend.scroll",t.defaultOption=yp(z3.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:vt.color.accent50,pageIconInactiveColor:vt.color.accent10,pageIconSize:15,pageTextStyle:{color:vt.color.tertiary},animationDurationUpdate:800}),t})(z3);function x9(i,t,e){var n=i.getOrient(),r=[1,1];r[n.index]=0,Qc(t,e,{type:"box",ignoreSize:!!r})}var b9=Ce,$N=["width","height"],tO=["x","y"],rRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new b9),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new b9)},t.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,n,r,a,o,s,l){var u=this;i.prototype.renderInner.call(this,e,n,r,a,o,s,l);var c=this._controllerGroup,f=n.get("pageIconSize",!0),h=Vt(f)?f:[f,f];g("pagePrev",0);var p=n.getModel("pageTextStyle");c.add(new wn({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1);function g(m,_){var S=m+"DataIndex",T=R_(n.get("pageIcons",!0)[n.getOrient().name][_],{onclick:ue(u._pageGo,u,S,n,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});T.name=m,c.add(T)}},t.prototype.layoutInner=function(e,n,r,a,o,s){var l=this.getSelectorGroup(),u=e.getOrient().index,c=$N[u],f=tO[u],h=$N[1-u],p=tO[1-u];o&&Lg("horizontal",l,e.get("selectorItemGap",!0));var g=e.get("selectorButtonGap",!0),m=l.getBoundingRect(),_=[-m.x,-m.y],S=Ee(r);o&&(S[c]=r[c]-m[c]-g);var T=this._layoutContentAndController(e,a,S,u,c,h,p,f);if(o){if(s==="end")_[u]+=T[c]+g;else{var M=m[c]+g;_[u]-=M,T[f]-=M}T[c]+=m[c]+g,_[1-u]+=T[p]+T[h]/2-m[h]/2,T[h]=Math.max(T[h],m[h]),T[p]=Math.min(T[p],m[p]+_[1-u]),l.x=_[0],l.y=_[1],l.markRedraw()}return T},t.prototype._layoutContentAndController=function(e,n,r,a,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;Lg(e.get("orient"),c,e.get("itemGap"),a?r.width:null,a?null:r.height),Lg("horizontal",h,e.get("pageButtonItemGap",!0));var p=c.getBoundingRect(),g=h.getBoundingRect(),m=this._showController=p[o]>r[o],_=[-p.x,-p.y];n||(_[a]=c[u]);var S=[0,0],T=[-g.x,-g.y],M=_e(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(m){var w=e.get("pageButtonPosition",!0);w==="end"?T[a]+=r[o]-g[o]:S[a]+=g[o]+M}T[1-a]+=p[s]/2-g[s]/2,c.setPosition(_),f.setPosition(S),h.setPosition(T);var D={x:0,y:0};if(D[o]=m?r[o]:p[o],D[s]=Math.max(p[s],g[s]),D[l]=Math.min(0,g[l]+T[1-a]),f.__rectSize=r[o],m){var C={x:0,y:0};C[o]=Math.max(r[o]-g[o]-M,0),C[s]=D[s],f.setClipPath(new cn({shape:C})),f.__rectSize=C[o]}else h.eachChild(function(z){z.attr({invisible:!0,silent:!0})});var R=this._getPageInfo(e);return R.pageIndex!=null&&Pn(c,{x:R.contentPosition[0],y:R.contentPosition[1]},m?e:null),this._updatePageInfoView(e,R),D},t.prototype._pageGo=function(e,n,r){var a=this._getPageInfo(n)[e];a!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},t.prototype._updatePageInfoView=function(e,n){var r=this._controllerGroup;G(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",h=n[f]!=null,p=r.childOfName(c);p&&(p.setStyle("fill",h?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),p.cursor=h?"pointer":"default")});var a=r.childOfName("pageText"),o=e.get("pageFormatter"),s=n.pageIndex,l=s!=null?s+1:0,u=n.pageCount;a&&o&&a.setStyle("text",le(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(e){var n=e.get("scrollDataIndex",!0),r=this.getContentGroup(),a=this._containerGroup.__rectSize,o=e.getOrient().index,s=$N[o],l=tO[o],u=this._findTargetItemIndex(n),c=r.children(),f=c[u],h=c.length,p=h?1:0,g={contentPosition:[r.x,r.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return g;var m=w(f);g.contentPosition[o]=-m.s;for(var _=u+1,S=m,T=m,M=null;_<=h;++_)M=w(c[_]),(!M&&T.e>S.s+a||M&&!D(M,S.s))&&(T.i>S.i?S=T:S=M,S&&(g.pageNextDataIndex==null&&(g.pageNextDataIndex=S.i),++g.pageCount)),T=M;for(var _=u-1,S=m,T=m,M=null;_>=-1;--_)M=w(c[_]),(!M||!D(T,M.s))&&S.i<T.i&&(T=S,g.pagePrevDataIndex==null&&(g.pagePrevDataIndex=S.i),++g.pageCount,++g.pageIndex),S=M;return g;function w(C){if(C){var R=C.getBoundingRect(),z=R[l]+C[l];return{s:z,e:z+R[s],i:C.__legendDataIndex}}}function D(C,R){return C.e>=R&&C.s<=R+a}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var n,r=this.getContentGroup(),a;return r.eachChild(function(o,s){var l=o.__legendDataIndex;a==null&&l!=null&&(a=s),l===e&&(n=s)}),n??a},t.type="legend.scroll",t})(A$);function aRt(i){i.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;n!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(r){r.setScrollDataIndex(n)})})}function oRt(i){an(E$),i.registerComponentModel(iRt),i.registerComponentView(rRt),aRt(i)}function sRt(i){an(E$),an(oRt)}var lRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=yp(Bb.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t})(Bb),m5=gn();function uRt(i,t,e){m5(i).coordSysRecordMap.each(function(n){var r=n.dataZoomInfoMap.get(t.uid);r&&(r.getRange=e)})}function cRt(i,t){for(var e=m5(i).coordSysRecordMap,n=e.keys(),r=0;r<n.length;r++){var a=n[r],o=e.get(a),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||C$(e,o))}}}function C$(i,t){if(t){i.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function fRt(i,t){var e={model:t,containsPoint:Qe(dRt,t),dispatchAction:Qe(hRt,i),dataZoomInfoMap:null,controller:null},n=e.controller=new cm(i.getZr());return G(["pan","zoom","scrollMove"],function(r){n.on(r,function(a){var o=[];e.dataZoomInfoMap.each(function(s){if(a.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[r],u=l&&l(s.dzReferCoordSysInfo,e.model.mainType,e.controller,a);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&e.dispatchAction(o)})}),e}function hRt(i,t){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function dRt(i,t,e,n){return i.coordinateSystem.containPoint([e,n])}function pRt(i,t,e){var n,r="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return i.each(function(s){var l=s.model,u=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;a[r+u]>a[r+n]&&(n=u),o=o&&l.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o,api:e,zInfo:{component:t.model},triggerInfo:{roamTrigger:null,isInSelf:t.containsPoint}}}}function vRt(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=m5(e),r=n.coordSysRecordMap||(n.coordSysRecordMap=ye());r.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var o=c$(a);G(o.infoList,function(s){var l=s.model.uid,u=r.get(l)||r.set(l,fRt(e,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=ye());c.set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),r.each(function(a){var o=a.controller,s,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){C$(r,a);return}var c=pRt(l,a,e);o.enable(c.controlType,c.opt),z_(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var gRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,n,r){if(i.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),uRt(r,e,{pan:ue(eO.pan,this),zoom:ue(eO.zoom,this),scrollMove:ue(eO.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){cRt(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t})(u5),eO={zoom:function(i,t,e,n){var r=this.range,a=r.slice(),o=i.axisModels[0];if(o){var s=nO[t](null,[n.originX,n.originY],o,e,i),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(up(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,r[0]!==a[0]||r[1]!==a[1])return a}},pan:T9(function(i,t,e,n,r,a){var o=nO[n]([a.oldX,a.oldY],[a.newX,a.newY],t,r,e);return o.signal*(i[1]-i[0])*o.pixel/o.pixelLength}),scrollMove:T9(function(i,t,e,n,r,a){var o=nO[n]([0,0],[a.scrollDelta,a.scrollDelta],t,r,e);return o.signal*(i[1]-i[0])*a.scrollDelta})};function T9(i){return function(t,e,n,r){var a=this.range,o=a.slice(),s=t.axisModels[0];if(s){var l=i(o,s,t,e,n,r);if(up(l,o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}}}var nO={grid:function(i,t,e,n,r){var a=e.axis,o={},s=r.model.coordinateSystem.getRect();return i=i||[0,0],a.dim==="x"?(o.pixel=t[0]-i[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-i[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(i,t,e,n,r){var a=e.axis,o={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return i=i?s.pointToCoord(i):[0,0],t=s.pointToCoord(t),e.mainType==="radiusAxis"?(o.pixel=t[0]-i[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=t[1]-i[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?-1:1),o},singleAxis:function(i,t,e,n,r){var a=e.axis,o=r.model.coordinateSystem.getRect(),s={};return i=i||[0,0],a.orient==="horizontal"?(s.pixel=t[0]-i[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-i[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};function D$(i){c5(i),i.registerComponentModel(lRt),i.registerComponentView(gRt),vRt(i)}var mRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=yp(Bb.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:vt.color.accent10,borderRadius:0,backgroundColor:vt.color.transparent,dataBackground:{lineStyle:{color:vt.color.accent30,width:.5},areaStyle:{color:vt.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:vt.color.accent40,width:.5},areaStyle:{color:vt.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:vt.color.neutral00,borderColor:vt.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:vt.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:vt.color.tertiary},brushSelect:!0,brushStyle:{color:vt.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:vt.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),t})(Bb),s1=cn,yRt=1,iO=30,_Rt=7,l1="horizontal",M9="vertical",SRt=5,xRt=["line","bar","candlestick","scatter"],bRt={easing:"cubicOut",duration:100,delay:0},TRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,n){this.api=n,this._onBrush=ue(this._onBrush,this),this._onBrushEnd=ue(this._onBrushEnd,this)},t.prototype.render=function(e,n,r,a){if(i.prototype.render.apply(this,arguments),z_(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){bb(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new Ce;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,n=this.api,r=e.get("brushSelect"),a=r?_Rt:0,o=jr(e,n).refContainer,s=this._findCoordRect(),l=e.get("defaultLocationEdgeGap",!0)||0,u=this._orient===l1?{right:o.width-s.x-s.width,top:o.height-iO-l-a,width:s.width,height:iO}:{right:l,top:s.y,width:iO,height:s.height},c=om(e.option);G(["right","top","width","height"],function(h){c[h]==="ph"&&(c[h]=u[h])});var f=Bi(c,o);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===M9&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,n=this._location,r=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r===l1&&!o?{scaleY:l?1:-1,scaleX:1}:r===l1&&o?{scaleY:l?1:-1,scaleX:-1}:r===M9&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=e.getBoundingRect([s]);e.x=n.x-u.x,e.y=n.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,n=this._size,r=this._displayables.sliderGroup,a=e.get("brushSelect");r.add(new s1({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new s1({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:ue(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var n=this._size,r=this._shadowSize||[],a=e.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),l=s&&o.getDimensionInfo(s)?a.getShadowDim():e.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||n[0]!==r[0]||n[1]!==r[1]){var f=o.getDataExtent(e.thisDim),h=o.getDataExtent(l),p=(h[1]-h[0])*.3;h=[h[0]-p,h[1]+p];var g=[0,n[1]],m=[0,n[0]],_=[[n[0],0],[0,0]],S=[],T=m[1]/Math.max(1,o.count()-1),M=n[0]/(f[1]-f[0]),w=e.thisAxis.type==="time",D=-T,C=Math.round(o.count()/n[0]),R;o.each([e.thisDim,l],function(F,V,W){if(C>0&&W%C){w||(D+=T);return}D=w?(+F-f[0])*M:D+T;var Z=V==null||isNaN(V)||V==="",H=Z?0:Yn(V,h,g,!0);Z&&!R&&W?(_.push([_[_.length-1][0],0]),S.push([S[S.length-1][0],0])):!Z&&R&&(_.push([D,0]),S.push([D,0])),Z||(_.push([D,H]),S.push([D,H])),R=Z}),u=this._shadowPolygonPts=_,c=this._shadowPolylinePts=S}this._shadowData=o,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var z=this.dataZoomModel;function N(F){var V=z.getModel(F?"selectedDataBackground":"dataBackground"),W=new Ce,Z=new Qa({shape:{points:u},segmentIgnoreThreshold:1,style:V.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),H=new Ia({shape:{points:c},segmentIgnoreThreshold:1,style:V.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return W.add(Z),W.add(H),W}for(var O=0;O<3;O++){var U=N(O===1);this._displayables.sliderGroup.add(U),this._displayables.dataShadowSegs.push(U)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,n=e.get("showDataShadow");if(n!==!1){var r,a=this.ecModel;return e.eachTargetAxis(function(o,s){var l=e.getAxisProxy(o,s).getTargetSeriesModels();G(l,function(u){if(!r&&!(n!==!0&&tn(xRt,u.get("type"))<0)){var c=a.getComponent(qd(o),s).axis,f=MRt(o),h,p=u.coordinateSystem;f!=null&&p.getOtherAxis&&(h=p.getOtherAxis(c).inverse),f=u.getData().mapDimension(f);var g=u.getData().mapDimension(o);r={thisAxis:c,series:u,thisDim:g,otherDim:f,otherAxisInverse:h}}},this)},this),r}},t.prototype._renderHandle=function(){var e=this.group,n=this._displayables,r=n.handles=[null,null],a=n.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),h=n.filler=new s1({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(h),o.add(new s1({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:yRt,fill:vt.color.transparent}})),G([0,1],function(M){var w=l.get("handleIcon");!NC[w]&&w.indexOf("path://")<0&&w.indexOf("image://")<0&&(w="path://"+w);var D=Ar(w,-1,0,2,2,null,!0);D.attr({cursor:ARt(this._orient),draggable:!0,drift:ue(this._onDragMove,this,M),ondragend:ue(this._onDragEnd,this),onmouseover:ue(this._showDataInfo,this,!0),onmouseout:ue(this._showDataInfo,this,!1),z2:5});var C=D.getBoundingRect(),R=l.get("handleSize");this._handleHeight=se(R,this._size[1]),this._handleWidth=C.width/C.height*this._handleHeight,D.setStyle(l.getModel("handleStyle").getItemStyle()),D.style.strokeNoScale=!0,D.rectHover=!0,D.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Jd(D);var z=l.get("handleColor");z!=null&&(D.style.fill=z),o.add(r[M]=D);var N=l.getModel("textStyle"),O=l.get("handleLabel")||{},U=O.show||!1;e.add(a[M]=new wn({silent:!0,invisible:!U,style:Si(N,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:N.getTextColor(),font:N.getFont()}),z2:10}))},this);var p=h;if(f){var g=se(l.get("moveHandleSize"),s[1]),m=n.moveHandle=new cn({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:g}}),_=g*.8,S=n.moveHandleIcon=Ar(l.get("moveHandleIcon"),-_/2,-_/2,_,_,vt.color.neutral00,!0);S.silent=!0,S.y=s[1]+g/2-.5,m.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var T=Math.min(s[1]/2,Math.max(g,10));p=n.moveZone=new cn({invisible:!0,shape:{y:s[1]-T,height:g+T}}),p.on("mouseover",function(){u.enterEmphasis(m)}).on("mouseout",function(){u.leaveEmphasis(m)}),o.add(m),o.add(S),o.add(p)}p.attr({draggable:!0,cursor:"default",drift:ue(this._onDragMove,this,"all"),ondragstart:ue(this._showDataInfo,this,!0),ondragend:ue(this._onDragEnd,this),onmouseover:ue(this._showDataInfo,this,!0),onmouseout:ue(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[Yn(e[0],[0,100],n,!0),Yn(e[1],[0,100],n,!0)]},t.prototype._updateInterval=function(e,n){var r=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];up(n,a,o,r.get("zoomLock")?"all":e,s.minSpan!=null?Yn(s.minSpan,l,o,!0):null,s.maxSpan!=null?Yn(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=Fs([Yn(a[0],o,l,!0),Yn(a[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(e){var n=this._displayables,r=this._handleEnds,a=Fs(r.slice()),o=this._size;G([0,1],function(p){var g=n.handles[p],m=this._handleHeight;g.attr({scaleX:m/2,scaleY:m/2,x:r[p]+(p?-1:1),y:o[1]/2-m/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=n.dataShadowSegs,u=[0,a[0],a[1],o[0]],c=0;c<l.length;c++){var f=l[c],h=f.getClipPath();h||(h=new cn,f.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var n=this.dataZoomModel,r=this._displayables,a=r.handleLabels,o=this._orient,s=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=e?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var h=Fs(this._handleEnds.slice());p.call(this,0),p.call(this,1);function p(g){var m=$d(r.handles[g].parent,this.group),_=SD(g===0?"right":"left",m),S=this._handleWidth/2+SRt,T=Cu([h[g]+(g===0?-S:S),this._size[1]/2],m);a[g].setStyle({x:T[0],y:T[1],verticalAlign:o===l1?"middle":_,align:o===l1?_:"center",text:s[g]})}},t.prototype._formatLabel=function(e,n){var r=this.dataZoomModel,a=r.get("labelFormatter"),o=r.get("labelPrecision");(o==null||o==="auto")&&(o=n.getPixelPrecision());var s=e==null||isNaN(e)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return Te(a)?a(e,s):le(a)?a.replace("{value}",s):s},t.prototype._showDataInfo=function(e){var n=this.dataZoomModel.get("handleLabel")||{},r=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=a.get("show")||!1,s=e||this._dragging?o:r,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(e,n,r,a){this._dragging=!0,_h(a.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=Cu([n,r],o,!0),l=this._updateInterval(e,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var n=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(r[0]<0||r[0]>n[0]||r[1]<0||r[1]>n[1])){var a=this._handleEnds,o=(a[0]+a[1])/2,s=this._updateInterval("all",r[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var n=e.offsetX,r=e.offsetY;this._brushStart=new Ne(n,r),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var r=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),s=[0,100],l=this._handleEnds=[r.x,r.x+r.width],u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();up(0,l,o,0,u.minSpan!=null?Yn(u.minSpan,s,o,!0):null,u.maxSpan!=null?Yn(u.maxSpan,s,o,!0):null),this._range=Fs([Yn(l[0],o,s,!0),Yn(l[1],o,s,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(_h(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,n){var r=this._displayables,a=this.dataZoomModel,o=r.brushRect;o||(o=r.brushRect=new s1({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,n),c=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},t.prototype._dispatchZoomAction=function(e){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?bRt:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var e,n=c$(this.dataZoomModel).infoList;if(!e&&n.length){var r=n[0].model.coordinateSystem;e=r.getRect&&r.getRect()}if(!e){var a=this.api.getWidth(),o=this.api.getHeight();e={x:a*.2,y:o*.2,width:a*.6,height:o*.6}}return e},t.type="dataZoom.slider",t})(u5);function MRt(i){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[i]}function ARt(i){return i==="vertical"?"ns-resize":"ew-resize"}function R$(i){i.registerComponentModel(mRt),i.registerComponentView(TRt),c5(i)}function wRt(i){an(D$),an(R$)}var L$={get:function(i,t,e){var n=Ee((ERt[i]||{})[t]);return e&&Vt(n)?n[n.length-1]:n}},ERt={color:{active:["#006edd","#e0ffff"],inactive:[vt.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},A9=ua.mapVisual,CRt=ua.eachVisual,DRt=Vt,w9=G,RRt=Fs,LRt=Yn,p2=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r)},t.prototype.optionUpdated=function(e,n){var r=this.option;!n&&S$(r,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var n=this.stateList;e=ue(e,this),this.controllerVisuals=N3(this.option.controller,n,e),this.targetVisuals=N3(this.option.target,n,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesId,n=this.option.seriesIndex;n==null&&e==null&&(n="all");var r=A_(this.ecModel,"series",{index:n,id:e},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return kt(r,function(a){return a.componentIndex})},t.prototype.eachTargetSeries=function(e,n){G(this.getTargetSeriesIndices(),function(r){var a=this.ecModel.getSeriesByIndex(r);a&&e.call(n,a)},this)},t.prototype.isTargetSeries=function(e){var n=!1;return this.eachTargetSeries(function(r){r===e&&(n=!0)}),n},t.prototype.formatValueText=function(e,n,r){var a=this.option,o=a.precision,s=this.dataBound,l=a.formatter,u;r=r||["<",">"],Vt(e)&&(e=e.slice(),u=!0);var c=n?e:u?[f(e[0]),f(e[1])]:f(e);if(le(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Te(l))return u?l(e[0],e[1]):l(e);if(u)return e[0]===s[0]?r[0]+" "+c[1]:e[1]===s[1]?r[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(h){return h===s[0]?"min":h===s[1]?"max":(+h).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,n=RRt([e.min,e.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(e){var n=this.option.dimension;if(n!=null)return e.getDimensionIndex(n);for(var r=e.dimensions,a=r.length-1;a>=0;a--){var o=r[a],s=e.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,n=this.option,r={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),o=n.controller||(n.controller={});en(a,r),en(o,r);var s=this.isCategory();l.call(this,a),l.call(this,o),u.call(this,a,"inRange","outOfRange"),c.call(this,o);function l(f){DRt(n.color)&&!f.inRange&&(f.inRange={color:n.color.slice().reverse()}),f.inRange=f.inRange||{color:e.get("gradientColor")}}function u(f,h,p){var g=f[h],m=f[p];g&&!m&&(m=f[p]={},w9(g,function(_,S){if(ua.isValidType(S)){var T=L$.get(S,"inactive",s);T!=null&&(m[S]=T,S==="color"&&!m.hasOwnProperty("opacity")&&!m.hasOwnProperty("colorAlpha")&&(m.opacity=[0,0]))}}))}function c(f){var h=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,p=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,g=this.get("inactiveColor"),m=this.getItemSymbol(),_=m||"roundRect";w9(this.stateList,function(S){var T=this.itemSize,M=f[S];M||(M=f[S]={color:s?g:[g]}),M.symbol==null&&(M.symbol=h&&Ee(h)||(s?_:[_])),M.symbolSize==null&&(M.symbolSize=p&&Ee(p)||(s?T[0]:[T[0],T[0]])),M.symbol=A9(M.symbol,function(C){return C==="none"?_:C});var w=M.symbolSize;if(w!=null){var D=-1/0;CRt(w,function(C){C>D&&(D=C)}),M.symbolSize=A9(w,function(C){return LRt(C,[0,D],[0,T[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:vt.color.transparent,borderColor:vt.color.borderTint,contentColor:vt.color.theme[0],inactiveColor:vt.color.disabled,borderWidth:0,padding:vt.size.m,textGap:10,precision:0,textStyle:{color:vt.color.secondary}},t})(pn),E9=[20,140],IRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(e,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=E9[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=E9[1])},t.prototype._resetRange=function(){var e=this.getExtent(),n=this.option.range;!n||n.auto?(e.auto=1,this.option.range=e):Vt(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],e[0]),n[1]=Math.min(n[1],e[1]))},t.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),G(this.stateList,function(e){var n=this.option.controller[e].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),n=Fs((this.get("range")||[]).slice());return n[0]>e[1]&&(n[0]=e[1]),n[1]>e[1]&&(n[1]=e[1]),n[0]<e[0]&&(n[0]=e[0]),n[1]<e[0]&&(n[1]=e[0]),n},t.prototype.getValueState=function(e){var n=this.option.range,r=this.getExtent(),a=_e(this.option.unboundedRange,!0);return(a&&n[0]<=r[0]||n[0]<=e)&&(a&&n[1]>=r[1]||e<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[];return this.eachTargetSeries(function(r){var a=[],o=r.getData();o.each(this.getDataDimensionIndex(o),function(s,l){e[0]<=s&&s<=e[1]&&a.push(l)},this),n.push({seriesId:r.id,dataIndex:a})},this),n},t.prototype.getVisualMeta=function(e){var n=C9(this,"outOfRange",this.getExtent()),r=C9(this,"inRange",this.option.range.slice()),a=[];function o(p,g){a.push({value:p,color:e(p,g)})}for(var s=0,l=0,u=r.length,c=n.length;l<c&&(!r.length||n[l]<=r[0]);l++)n[l]<r[s]&&o(n[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&a.length&&o(r[s],"outOfRange"),o(r[s],"inRange");for(var f=1;l<c;l++)(!r.length||r[r.length-1]<n[l])&&(f&&(a.length&&o(a[a.length-1].value,"outOfRange"),f=0),o(n[l],"outOfRange"));var h=a.length;return{stops:a,outerColors:[h?a[0].color:"transparent",h?a[h-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=yp(p2.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:vt.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:vt.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:vt.color.shadow}}),t})(p2);function C9(i,t,e){if(e[0]===e[1])return e.slice();for(var n=200,r=(e[1]-e[0])/n,a=e[0],o=[],s=0;s<=n&&a<e[1];s++)o.push(a),a+=r;return o.push(e[1]),o}var I$=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n},t.prototype.render=function(e,n,r,a){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,n,r,a)},t.prototype.renderBackground=function(e){var n=this.visualMapModel,r=N_(n.get("padding")||0),a=e.getBoundingRect();e.add(new cn({z2:-1,silent:!0,shape:{x:a.x-r[3],y:a.y-r[0],width:a.width+r[3]+r[1],height:a.height+r[0]+r[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,n,r){r=r||{};var a=r.forceState,o=this.visualMapModel,s={};if(n==="color"){var l=o.get("contentColor");s.color=l}function u(p){return s[p]}function c(p,g){s[p]=g}var f=o.controllerVisuals[a||o.getValueState(e)],h=ua.prepareVisualTypes(f);return G(h,function(p){var g=f[p];r.convertOpacityToAlpha&&p==="opacity"&&(p="colorAlpha",g=f.__alphaForOpacity),ua.dependsOn(p,n)&&g&&g.applyVisual(e,u,c)}),s[n]},t.prototype.positionGroup=function(e){var n=this.visualMapModel,r=this.api,a=jr(n,r).refContainer;TD(e,n.getBoxLayoutParams(),a)},t.prototype.doRender=function(e,n,r,a){},t.type="visualMap",t})(Ti),D9=[["left","right","width"],["top","bottom","height"]];function N$(i,t,e){var n=i.option,r=n.align;if(r!=null&&r!=="auto")return r;for(var a={width:t.getWidth(),height:t.getHeight()},o=n.orient==="horizontal"?1:0,s=D9[o],l=[0,null,10],u={},c=0;c<3;c++)u[D9[1-o][c]]=l[c],u[s[c]]=c===2?e[0]:n[s[c]];var f=[["x","width",3],["y","height",0]][o],h=Bi(u,a,n.padding);return s[(h.margin[f[2]]||0)+h[f[0]]+h[f[1]]*.5<a[f[1]]*.5?0:1]}function gE(i,t){return G(i||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),i}var Dc=Yn,NRt=G,R9=Math.min,rO=Math.max,ORt=12,PRt=6,zRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return t.prototype.init=function(e,n){i.prototype.init.call(this,e,n),this._hoverLinkFromSeriesMouseOver=ue(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=ue(this._hideIndicator,this)},t.prototype.doRender=function(e,n,r,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,n=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(n);var r=e.get("text");this._renderEndsText(n,r,0),this._renderEndsText(n,r,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(e,n,r){if(n){var a=n[1-r];a=a!=null?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,r===0?-s:l[1]+s],u),f=this._applyTransform(r===0?"bottom":"top",u),h=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new wn({style:Si(p,{x:c[0],y:c[1],verticalAlign:p.get("verticalAlign")||(h==="horizontal"?"middle":f),align:p.get("align")||(h==="horizontal"?f:"center"),text:a})}))}},t.prototype._renderBar=function(e){var n=this.visualMapModel,r=this._shapes,a=n.itemSize,o=this._orient,s=this._useHandle,l=N$(n,this.api,a),u=r.mainGroup=this._createBarGroup(l),c=new Ce;u.add(c),c.add(r.outOfRange=L9()),c.add(r.inRange=L9(null,s?N9(this._orient):null,ue(this._dragHandle,this,"all",!1),ue(this._dragHandle,this,"all",!0))),c.setClipPath(new cn({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=n.textStyleModel.getTextRect("国"),h=rO(f.width,f.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(n,u,0,a,h,o),this._createHandle(n,u,1,a,h,o)),this._createIndicator(n,u,a,h,o),e.add(u)},t.prototype._createHandle=function(e,n,r,a,o,s){var l=ue(this._dragHandle,this,r,!1),u=ue(this._dragHandle,this,r,!0),c=Nu(e.get("handleSize"),a[0]),f=Ar(e.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=N9(this._orient);f.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(S){_h(S.event)}}),f.x=a[0]/2,f.useStyle(e.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Sg(f,!0),n.add(f);var p=this.visualMapModel.textStyleModel,g=new wn({cursor:h,draggable:!0,drift:l,onmousemove:function(S){_h(S.event)},ondragend:u,style:Si(p,{x:0,y:0,text:""})});g.ensureState("blur").style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var m=[c,0],_=this._shapes;_.handleThumbs[r]=f,_.handleLabelPoints[r]=m,_.handleLabels[r]=g},t.prototype._createIndicator=function(e,n,r,a,o){var s=Nu(e.get("indicatorSize"),r[0]),l=Ar(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof da){var c=l.style;l.useStyle(Rt({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);n.add(l);var f=this.visualMapModel.textStyleModel,h=new wn({silent:!0,invisible:!0,style:Si(f,{x:0,y:0,text:""})});this.group.add(h);var p=[(o==="horizontal"?a/2:PRt)+r[0]/2,0],g=this._shapes;g.indicator=l,g.indicatorLabel=h,g.indicatorLabelPoint=p,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,n,r,a){if(this._useHandle){if(this._dragging=!n,!n){var o=this._applyTransform([r,a],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():I9(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,n=this._dataInterval=e.getSelected(),r=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[Dc(n[0],r,a,!0),Dc(n[1],r,a,!0)]},t.prototype._updateInterval=function(e,n){n=n||0;var r=this.visualMapModel,a=this._handleEnds,o=[0,r.itemSize[1]];up(n,a,o,e,0);var s=r.getExtent();this._dataInterval=[Dc(a[0],o,s,!0),Dc(a[1],o,s,!0)]},t.prototype._updateView=function(e){var n=this.visualMapModel,r=n.getExtent(),a=this._shapes,o=[0,n.itemSize[1]],s=e?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),u=this._createBarVisual(r,r,o,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(e,n,r,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,o),l=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],u=this._createBarPoints(r,l);return{barColor:new rm(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,n){var r=100,a=[],o=(e[1]-e[0])/r;a.push({color:this.getControllerVisual(e[0],"color",n),offset:0});for(var s=1;s<r;s++){var l=e[0]+o*s;if(l>e[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:s/r})}return a.push({color:this.getControllerVisual(e[1],"color",n),offset:1}),a},t.prototype._createBarPoints=function(e,n){var r=this.visualMapModel.itemSize;return[[r[0]-n[0],e[0]],[r[0],e[0]],[r[0],e[1]],[r[0]-n[1],e[1]]]},t.prototype._createBarGroup=function(e){var n=this._orient,r=this.visualMapModel.get("inverse");return new Ce(n==="horizontal"&&!r?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&r?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!r?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},t.prototype._updateHandle=function(e,n){if(this._useHandle){var r=this._shapes,a=this.visualMapModel,o=r.handleThumbs,s=r.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",r.mainGroup);NRt([0,1],function(f){var h=o[f];h.setStyle("fill",n.handlesColor[f]),h.y=e[f];var p=Dc(e[f],[0,l[1]],u,!0),g=this.getControllerVisual(p,"symbolSize");h.scaleX=h.scaleY=g/l[0],h.x=l[0]-g/2;var m=Cu(r.handleLabelPoints[f],$d(h,this.group));if(this._orient==="horizontal"){var _=c==="left"||c==="top"?(l[0]-g)/2:(l[0]-g)/-2;m[1]+=_}s[f].setStyle({x:m[0],y:m[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,n,r,a){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var h={convertOpacityToAlpha:!0},p=this.getControllerVisual(e,"color",h),g=this.getControllerVisual(e,"symbolSize"),m=Dc(e,s,u,!0),_=l[0]-g/2,S={x:f.x,y:f.y};f.y=m,f.x=_;var T=Cu(c.indicatorLabelPoint,$d(f,this.group)),M=c.indicatorLabel;M.attr("invisible",!1);var w=this._applyTransform("left",c.mainGroup),D=this._orient,C=D==="horizontal";M.setStyle({text:(r||"")+o.formatValueText(n),verticalAlign:C?w:"middle",align:C?"center":w});var R={x:_,y:m,style:{fill:p}},z={style:{x:T[0],y:T[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var N={duration:100,easing:"cubicInOut",additive:!0};f.x=S.x,f.y=S.y,f.animateTo(R,N),M.animateTo(z,N)}else f.attr(R),M.attr(z);this._firstShowIndicator=!1;var O=this._shapes.handleLabels;if(O)for(var U=0;U<O.length;U++)this.api.enterBlur(O[U])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(n){if(e._hovering=!0,!e._dragging){var r=e.visualMapModel.itemSize,a=e._applyTransform([n.offsetX,n.offsetY],e._shapes.mainGroup,!0,!0);a[1]=R9(rO(0,a[1]),r[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=r[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,n){var r=this.visualMapModel,a=r.itemSize;if(r.option.hoverLink){var o=[0,a[1]],s=r.getExtent();e=R9(rO(o[0],e),o[1]);var l=BRt(r,s,o),u=[e-l,e+l],c=Dc(e,o,s,!0),f=[Dc(u[0],o,s,!0),Dc(u[1],o,s,!0)];u[0]<o[0]&&(f[0]=-1/0),u[1]>o[1]&&(f[1]=1/0),n&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c,"≈ ",l));var h=this._hoverLinkDataIndices,p=[];(n||I9(r))&&(p=this._hoverLinkDataIndices=r.findTargetDataIndices(f));var g=gdt(h,p);this._dispatchHighDown("downplay",gE(g[0],r)),this._dispatchHighDown("highlight",gE(g[1],r))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var n;if(bg(e.target,function(l){var u=Ue(l);if(u.dataIndex!=null)return n=u,!0},!0),!!n){var r=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(r)){var o=r.getData(n.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),n.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var r=0;r<n.length;r++)this.api.leaveBlur(n[r])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",gE(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,n,r,a){var o=$d(n,a?null:this.group);return Vt(e)?Cu(e,o,r):SD(e,o,r)},t.prototype._dispatchHighDown=function(e,n){n&&n.length&&this.api.dispatchAction({type:e,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t})(I$);function L9(i,t,e,n){return new Qa({shape:{points:i},draggable:!!e,cursor:t,drift:e,onmousemove:function(r){_h(r.event)},ondragend:n})}function BRt(i,t,e){var n=ORt/2,r=i.get("hoverLinkDataSize");return r&&(n=Dc(r,t,e,!0)/2),n}function I9(i){var t=i.get("hoverLinkOnHandle");return!!(t??i.get("realtime"))}function N9(i){return i==="vertical"?"ns-resize":"ew-resize"}var URt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},VRt=function(i,t){t.eachComponent({mainType:"visualMap",query:i},function(e){e.setSelected(i.selected)})},HRt=[{createOnAllSeries:!0,reset:function(i,t){var e=[];return t.eachComponent("visualMap",function(n){var r=i.pipelineContext;!n.isTargetSeries(i)||r&&r.large||e.push(sDt(n.stateList,n.targetVisuals,ue(n.getValueState,n),n.getDataDimensionIndex(i.getData())))}),e}},{createOnAllSeries:!0,reset:function(i,t){var e=i.getData(),n=[];t.eachComponent("visualMap",function(r){if(r.isTargetSeries(i)){var a=r.getVisualMeta(ue(kRt,null,i,r))||{stops:[],outerColors:[]},o=r.getDataDimensionIndex(e);o>=0&&(a.dimension=o,n.push(a))}}),i.getData().setVisual("visualMeta",n)}}];function kRt(i,t,e,n){for(var r=t.targetVisuals[n],a=ua.prepareVisualTypes(r),o={color:cT(i.getData(),"color")},s=0,l=a.length;s<l;s++){var u=a[s],c=r[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(e,f,h)}return o.color;function f(p){return o[p]}function h(p,g){o[p]=g}}var O9=G;function FRt(i){var t=i&&i.visualMap;Vt(t)||(t=t?[t]:[]),O9(t,function(e){if(e){h0(e,"splitList")&&!h0(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var n=e.pieces;n&&Vt(n)&&O9(n,function(r){Le(r)&&(h0(r,"start")&&!h0(r,"min")&&(r.min=r.start),h0(r,"end")&&!h0(r,"max")&&(r.max=r.end))})}})}function h0(i,t){return i&&i.hasOwnProperty&&i.hasOwnProperty(t)}var P9=!1;function O$(i){P9||(P9=!0,i.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),i.registerAction(URt,VRt),G(HRt,function(t){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,t)}),i.registerPreprocessor(FRt))}function P$(i){i.registerComponentModel(IRt),i.registerComponentView(zRt),O$(i)}var GRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return t.prototype.optionUpdated=function(e,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],XRt[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var a=this.option.categories;this.resetVisual(function(o,s){r==="categories"?(o.mappingMethod="category",o.categories=Ee(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=kt(this._pieceList,function(l){return l=Ee(l),s!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,n={},r=ua.listVisualTypes(),a=this.isCategory();G(e.pieces,function(s){G(r,function(l){s.hasOwnProperty(l)&&(n[l]=1)})}),G(n,function(s,l){var u=!1;G(this.stateList,function(c){u=u||o(e,c,l)||o(e.target,c,l)},this),!u&&G(this.stateList,function(c){(e[c]||(e[c]={}))[l]=L$.get(l,c==="inRange"?"active":"inactive",a)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}i.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,n){var r=this.option,a=this._pieceList,o=(n?r:e).selected||{};if(r.selected=o,G(a,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),r.selectedMode==="single"){var s=!1;G(a,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Ee(e)},t.prototype.getValueState=function(e){var n=ua.findPieceIndex(e,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[],r=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=ua.findPieceIndex(l,r);c===e&&o.push(u)},this),n.push({seriesId:a.id,dataIndex:o})},this),n},t.prototype.getRepresentValue=function(e){var n;if(this.isCategory())n=e.value;else if(e.value!=null)n=e.value;else{var r=e.interval||[];n=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return n},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var n=[],r=["",""],a=this;function o(c,f){var h=a.getRepresentValue({interval:c});f||(f=a.getValueState(h));var p=e(h,f);c[0]===-1/0?r[0]=p:c[1]===1/0?r[1]=p:n.push({value:c[0],color:p},{value:c[1],color:p})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return G(s,function(c){var f=c.interval;f&&(f[0]>u&&o([u,f[0]],"outOfRange"),o(f.slice()),u=f[1])},this),{stops:n,outerColors:r}},t.type="visualMap.piecewise",t.defaultOption=yp(p2.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t})(p2),XRt={splitNumber:function(i){var t=this.option,e=Math.min(t.precision,20),n=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var a=(n[1]-n[0])/r;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e),t.minOpen&&i.push({interval:[-1/0,n[0]],close:[0,0]});for(var o=0,s=n[0];o<r;s+=a,o++){var l=o===r-1?n[1]:s+a;i.push({interval:[s,l],close:[1,1]})}t.maxOpen&&i.push({interval:[n[1],1/0],close:[0,0]}),rP(i),G(i,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(i){var t=this.option;G(t.categories,function(e){i.push({text:this.formatValueText(e,!0),value:e})},this),z9(t,i)},pieces:function(i){var t=this.option;G(t.pieces,function(e,n){Le(e)||(e={value:e});var r={text:"",index:n};if(e.label!=null&&(r.text=e.label),e.hasOwnProperty("value")){var a=r.value=e.value;r.interval=[a,a],r.close=[1,1]}else{for(var o=r.interval=[],s=r.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var h=[["gte","gt","min"],["lte","lt","max"]][f],p=0;p<3&&o[f]==null;p++)o[f]=e[h[p]],s[f]=l[p],c[f]=p===2;o[f]==null&&(o[f]=u[f])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(r.value=o[0])}r.visual=ua.retrieveVisuals(e),i.push(r)},this),z9(t,i),rP(i),G(i,function(e){var n=e.close,r=[["<","≤"][n[1]],[">","≥"][n[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,r)},this)}};function z9(i,t){var e=i.inverse;(i.orient==="vertical"?!e:e)&&t.reverse()}var WRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var n=this.visualMapModel,r=n.get("textGap"),a=n.textStyleModel,o=this._getItemAlign(),s=n.itemSize,l=this._getViewData(),u=l.endsText,c=Da(n.get("showLabel",!0),!u),f=!n.get("selectedMode");u&&this._renderEndsText(e,u[0],s,c,o),G(l.viewPieceList,function(h){var p=h.piece,g=new Ce;g.onclick=ue(this._onItemClick,this,p),this._enableHoverLink(g,h.indexInModelPieceList);var m=n.getRepresentValue(p);if(this._createItemSymbol(g,m,[0,0,s[0],s[1]],f),c){var _=this.visualMapModel.getValueState(m),S=a.get("align")||o;g.add(new wn({style:Si(a,{x:S==="right"?-r:s[0]+r,y:s[1]/2,text:p.text,verticalAlign:a.get("verticalAlign")||"middle",align:S,opacity:_e(a.get("opacity"),_==="outOfRange"?.5:1)}),silent:f}))}e.add(g)},this),u&&this._renderEndsText(e,u[1],s,c,o),Lg(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,n){var r=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:o,batch:gE(s.findTargetDataIndices(n),s)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,n=e.option;if(n.orient==="vertical")return N$(e,this.api,e.itemSize);var r=n.align;return(!r||r==="auto")&&(r="left"),r},t.prototype._renderEndsText=function(e,n,r,a,o){if(n){var s=new Ce,l=this.visualMapModel.textStyleModel;s.add(new wn({style:Si(l,{x:a?o==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:a?o:"center",text:n})})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,n=kt(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=e.get("text"),a=e.get("orient"),o=e.get("inverse");return(a==="horizontal"?o:!o)?n.reverse():r&&(r=r.slice().reverse()),{viewPieceList:n,endsText:r}},t.prototype._createItemSymbol=function(e,n,r,a){var o=Ar(this.getControllerVisual(n,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(n,"color"));o.silent=a,e.add(o)},t.prototype._onItemClick=function(e){var n=this.visualMapModel,r=n.option,a=r.selectedMode;if(a){var o=Ee(r.selected),s=n.getSelectedMapKey(e);a==="single"||a===!0?(o[s]=!0,G(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t})(I$);function z$(i){i.registerComponentModel(GRt),i.registerComponentView(WRt),O$(i)}function YRt(i){an(P$),an(z$)}var qRt=(function(){function i(t){this._thumbnailModel=t}return i.prototype.reset=function(t){this._renderVersion=t.getMainProcessVersion()},i.prototype.renderContent=function(t){var e=t.api.getViewOfComponentModel(this._thumbnailModel);e&&(t.group.silent=!0,e.renderContent({group:t.group,targetTrans:t.targetTrans,z2Range:oZ(t.group),roamType:t.roamType,viewportRect:t.viewportRect,renderVersion:this._renderVersion}))},i.prototype.updateWindow=function(t,e){var n=e.getViewOfComponentModel(this._thumbnailModel);n&&n.updateWindow({targetTrans:t,renderVersion:this._renderVersion})},i})(),ZRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.optionUpdated=function(e,n){this._updateBridge()},t.prototype._updateBridge=function(){var e=this._birdge=this._birdge||new qRt(this);if(this._target=null,this.ecModel.eachSeries(function(r){s8(r,null)}),this.shouldShow()){var n=this.getTarget();s8(n.baseMapProvider,e)}},t.prototype.shouldShow=function(){return this.getShallow("show",!0)},t.prototype.getBridge=function(){return this._birdge},t.prototype.getTarget=function(){if(this._target)return this._target;var e=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return e?e.subType!=="graph"&&(e=null):e=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:e},this._target},t.type="thumbnail",t.layoutMode="box",t.dependencies=["series","geo"],t.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:vt.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:vt.color.neutral30,borderColor:vt.color.neutral40,opacity:.3},z:10},t})(pn),jRt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){if(this._api=r,this._model=e,this._coordSys||(this._coordSys=new fm),!this._isEnabled()){this._clear();return}this._renderVersion=r.getMainProcessVersion();var a=this.group;a.removeAll();var o=e.getModel("itemStyle"),s=o.getItemStyle();s.fill==null&&(s.fill=n.get("backgroundColor")||vt.color.neutral00);var l=jr(e,r).refContainer,u=Bi(wZ(e,!0),l),c=s.lineWidth||0,f=this._contentRect=qg(u.clone(),c/2,!0,!0),h=new Ce;a.add(h),h.setClipPath(new cn({shape:f.plain()}));var p=this._targetGroup=new Ce;h.add(p);var g=u.plain();g.r=o.getShallow("borderRadius",!0),a.add(this._bgRect=new cn({style:s,shape:g,silent:!1,cursor:"grab"}));var m=e.getModel("windowStyle"),_=m.getShallow("borderRadius",!0);h.add(this._windowRect=new cn({shape:{x:0,y:0,width:0,height:0,r:_},style:m.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),U9(e,this)},t.prototype.renderContent=function(e){this._bridgeRendered=e,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),U9(this._model,this))},t.prototype._dealRenderContent=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var n=this._targetGroup,r=this._coordSys,a=this._contentRect;if(n.removeAll(),!!e){var o=e.group,s=o.getBoundingRect();n.add(o),this._bgRect.z2=e.z2Range.min-10,r.setBoundingRect(s.x,s.y,s.width,s.height);var l=Bi({left:"center",top:"center",aspect:s.width/s.height},a);r.setViewRect(l.x,l.y,l.width,l.height),o.attr(r.getTransformInfo().raw),this._windowRect.z2=e.z2Range.max+10,this._resetRoamController(e.roamType)}}},t.prototype.updateWindow=function(e){var n=this._bridgeRendered;n&&n.renderVersion===e.renderVersion&&(n.targetTrans=e.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},t.prototype._dealUpdateWindow=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var n=Pl([],e.targetTrans),r=wu([],this._coordSys.transform,n);this._transThisToTarget=Pl([],r);var a=e.viewportRect;a?a=a.clone():a=new Oe(0,0,this._api.getWidth(),this._api.getHeight()),a.applyTransform(r);var o=this._windowRect,s=o.shape.r;o.setShape(Re({r:s},a))}},t.prototype._resetRoamController=function(e){var n=this,r=this._api,a=this._roamController;if(a||(a=this._roamController=new cm(r.getZr())),!e||!this._isEnabled()){a.disable();return}a.enable(e,{api:r,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(o,s,l){return n._contentRect.contain(s,l)}}}),a.off("pan").off("zoom").on("pan",ue(this._onPan,this)).on("zoom",ue(this._onZoom,this))},t.prototype._onPan=function(e){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var r=cr([],[e.oldX,e.oldY],n),a=cr([],[e.oldX-e.dx,e.oldY-e.dy],n);this._api.dispatchAction(B9(this._model.getTarget().baseMapProvider,{dx:a[0]-r[0],dy:a[1]-r[1]}))}},t.prototype._onZoom=function(e){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var r=cr([],[e.originX,e.originY],n);this._api.dispatchAction(B9(this._model.getTarget().baseMapProvider,{zoom:1/e.scale,originX:r[0],originY:r[1]}))}},t.prototype._isEnabled=function(){var e=this._model;if(!e||!e.shouldShow())return!1;var n=e.getTarget().baseMapProvider;return!!n},t.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},t.prototype.remove=function(){this._clear()},t.prototype.dispose=function(){this._clear()},t.type="thumbnail",t})(Ti);function B9(i,t){var e=i.mainType==="series"?i.subType+"Roam":i.mainType+"Roam",n={type:e};return n[i.mainType+"Id"]=i.id,Rt(n,t),n}function U9(i,t){var e=Zg(i);xD(t.group,e.z,e.zlevel)}function KRt(i){i.registerComponentModel(ZRt),i.registerComponentView(jRt)}var QRt={label:{enabled:!0},decal:{show:!1}},V9=gn(),JRt={};function $Rt(i,t){var e=i.getModel("aria");if(!e.get("enabled"))return;var n=Ee(QRt);en(n.label,i.getLocaleModel().get("aria"),!1),en(e.option,n,!1),r(),a();function r(){var u=e.getModel("decal"),c=u.get("show");if(c){var f=ye();i.eachSeries(function(h){if(!h.isColorBySeries()){var p=f.get(h.type);p||(p={},f.set(h.type,p)),V9(h).scope=p}}),i.eachRawSeries(function(h){if(i.isSeriesFiltered(h))return;if(Te(h.enableAriaDecal)){h.enableAriaDecal();return}var p=h.getData();if(h.isColorBySeries()){var T=AP(h.ecModel,h.name,JRt,i.getSeriesCount()),M=p.getVisual("decal");p.setVisual("decal",w(M,T))}else{var g=h.getRawData(),m={},_=V9(h).scope;p.each(function(D){var C=p.getRawIndex(D);m[C]=D});var S=g.count();g.each(function(D){var C=m[D],R=g.getName(D)||D+"",z=AP(h.ecModel,R,_,S),N=p.getItemVisual(C,"decal");p.setItemVisual(C,"decal",w(N,z))})}function w(D,C){var R=D?Rt(Rt({},C),D):C;return R.dirty=!0,R}})}}function a(){var u=t.getZr().dom;if(u){var c=i.getLocaleModel().get("aria"),f=e.getModel("label");if(f.option=Re(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var h=i.getSeriesCount(),p=f.get(["data","maxCount"])||10,g=f.get(["series","maxCount"])||10,m=Math.min(h,g),_;if(!(h<1)){var S=s();if(S){var T=f.get(["general","withTitle"]);_=o(T,{title:S})}else _=f.get(["general","withoutTitle"]);var M=[],w=h>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);_+=o(w,{seriesCount:h}),i.eachSeries(function(z,N){if(N<m){var O=void 0,U=z.get("name"),F=U?"withName":"withoutName";O=h>1?f.get(["series","multiple",F]):f.get(["series","single",F]),O=o(O,{seriesId:z.seriesIndex,seriesName:z.get("name"),seriesType:l(z.subType)});var V=z.getData();if(V.count()>p){var W=f.get(["data","partialData"]);O+=o(W,{displayCnt:p})}else O+=f.get(["data","allData"]);for(var Z=f.get(["data","separator","middle"]),H=f.get(["data","separator","end"]),j=f.get(["data","excludeDimensionId"]),Y=[],Q=0;Q<V.count();Q++)if(Q<p){var nt=V.getName(Q),q=j?Gn(V.getValues(Q),function(st,ft){return tn(j,ft)===-1}):V.getValues(Q),$=f.get(["data",nt?"withName":"withoutName"]);Y.push(o($,{name:nt,value:q.join(Z)}))}O+=Y.join(Z)+H,M.push(O)}});var D=f.getModel(["series","multiple","separator"]),C=D.get("middle"),R=D.get("end");_+=M.join(C)+R,u.setAttribute("aria-label",_)}}}}function o(u,c){if(!le(u))return u;var f=u;return G(c,function(h,p){f=f.replace(new RegExp("\\{\\s*"+p+"\\s*\\}","g"),h)}),f}function s(){var u=i.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=i.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function tLt(i){if(!(!i||!i.aria)){var t=i.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},G(["description","general","series","data"],function(e){t[e]!=null&&(t.label[e]=t[e])})}}function eLt(i){i.registerPreprocessor(tLt),i.registerVisual(i.PRIORITY.VISUAL.ARIA,$Rt)}var H9={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},nLt=(function(){function i(t){var e=this._condVal=le(t)?new RegExp(t):RY(t)?t:null;if(e==null){var n="";qn(n)}}return i.prototype.evaluate=function(t){var e=typeof t;return le(e)?this._condVal.test(t):En(e)?this._condVal.test(t+""):!1},i})(),iLt=(function(){function i(){}return i.prototype.evaluate=function(){return this.value},i})(),rLt=(function(){function i(){}return i.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},i})(),aLt=(function(){function i(){}return i.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},i})(),oLt=(function(){function i(){}return i.prototype.evaluate=function(){return!this.child.evaluate()},i})(),sLt=(function(){function i(){}return i.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,n=e(this.valueGetterParam),r=t?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?r:n))return!1;return!0},i})();function y5(i,t){if(i===!0||i===!1){var e=new iLt;return e.value=i,e}var n="";return B$(i)||qn(n),i.and?k9("and",i,t):i.or?k9("or",i,t):i.not?lLt(i,t):uLt(i,t)}function k9(i,t,e){var n=t[i],r="";Vt(n)||qn(r),n.length||qn(r);var a=i==="and"?new rLt:new aLt;return a.children=kt(n,function(o){return y5(o,e)}),a.children.length||qn(r),a}function lLt(i,t){var e=i.not,n="";B$(e)||qn(n);var r=new oLt;return r.child=y5(e,t),r.child||qn(n),r}function uLt(i,t){for(var e="",n=t.prepareGetValue(i),r=[],a=Tn(i),o=i.parser,s=o?ZZ(o):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||t.valueGetterAttrMap.get(u))){var c=ge(H9,u)?H9[u]:u,f=i[u],h=s?s(f):f,p=Dgt(c,h)||c==="reg"&&new nLt(h);p||qn(e),r.push(p)}}r.length||qn(e);var g=new sLt;return g.valueGetterParam=n,g.valueParser=s,g.getValue=t.getValue,g.subCondList=r,g}function B$(i){return Le(i)&&!Za(i)}var cLt=(function(){function i(t,e){this._cond=y5(t,e)}return i.prototype.evaluate=function(){return this._cond.evaluate()},i})();function fLt(i,t){return new cLt(i,t)}var hLt={type:"echarts:filter",transform:function(i){for(var t=i.upstream,e,n=fLt(i.config,{valueGetterAttrMap:ye({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;ge(s,"dimension")||qn(l);var c=t.getDimensionInfo(u);return c||qn(l),{dimIdx:c.index}},getValue:function(s){return t.retrieveValueFromItem(e,s.dimIdx)}}),r=[],a=0,o=t.count();a<o;a++)e=t.getRawDataItem(a),n.evaluate()&&r.push(e);return{data:r}}},dLt={type:"echarts:sort",transform:function(i){var t=i.upstream,e=i.config,n="",r=bi(e);r.length||qn(n);var a=[];G(r,function(c){var f=c.dimension,h=c.order,p=c.parser,g=c.incomparable;if(f==null&&qn(n),h!=="asc"&&h!=="desc"&&qn(n),g&&g!=="min"&&g!=="max"){var m="";qn(m)}if(h!=="asc"&&h!=="desc"){var _="";qn(_)}var S=t.getDimensionInfo(f);S||qn(n);var T=p?ZZ(p):null;p&&!T&&qn(n),a.push({dimIdx:S.index,parser:T,comparator:new KZ(h,g)})});var o=t.sourceFormat;o!==Na&&o!==js&&qn(n);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(c,f){for(var h=0;h<a.length;h++){var p=a[h],g=t.retrieveValueFromItem(c,p.dimIdx),m=t.retrieveValueFromItem(f,p.dimIdx);p.parser&&(g=p.parser(g),m=p.parser(m));var _=p.comparator.evaluate(g,m);if(_!==0)return _}return 0}),{data:s}}};function pLt(i){i.registerTransform(hLt),i.registerTransform(dLt)}var vLt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="dataset",e}return t.prototype.init=function(e,n,r){i.prototype.init.call(this,e,n,r),this._sourceManager=new tj(this),_F(this)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),_F(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Du},t})(pn),gLt=(function(i){ht(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="dataset",e}return t.type="dataset",t})(Ti);function mLt(i){i.registerComponentModel(vLt),i.registerComponentView(gLt)}var Ec=Kc.CMD;function C0(i,t){return Math.abs(i-t)<1e-5}function H3(i){var t=i.data,e=i.len(),n=[],r,a=0,o=0,s=0,l=0;function u(V,W){r&&r.length>2&&n.push(r),r=[V,W]}function c(V,W,Z,H){C0(V,Z)&&C0(W,H)||r.push(V,W,Z,H,Z,H)}function f(V,W,Z,H,j,Y){var Q=Math.abs(W-V),nt=Math.tan(Q/4)*4/3,q=W<V?-1:1,$=Math.cos(V),st=Math.sin(V),ft=Math.cos(W),Mt=Math.sin(W),dt=$*j+Z,xt=st*Y+H,Lt=ft*j+Z,Ct=Mt*Y+H,Wt=j*nt*q,Xt=Y*nt*q;r.push(dt-Wt*st,xt+Xt*$,Lt+Wt*Mt,Ct-Xt*ft,Lt,Ct)}for(var h,p,g,m,_=0;_<e;){var S=t[_++],T=_===1;switch(T&&(a=t[_],o=t[_+1],s=a,l=o,(S===Ec.L||S===Ec.C||S===Ec.Q)&&(r=[s,l])),S){case Ec.M:a=s=t[_++],o=l=t[_++],u(s,l);break;case Ec.L:h=t[_++],p=t[_++],c(a,o,h,p),a=h,o=p;break;case Ec.C:r.push(t[_++],t[_++],t[_++],t[_++],a=t[_++],o=t[_++]);break;case Ec.Q:h=t[_++],p=t[_++],g=t[_++],m=t[_++],r.push(a+2/3*(h-a),o+2/3*(p-o),g+2/3*(h-g),m+2/3*(p-m),g,m),a=g,o=m;break;case Ec.A:var M=t[_++],w=t[_++],D=t[_++],C=t[_++],R=t[_++],z=t[_++]+R;_+=1;var N=!t[_++];h=Math.cos(R)*D+M,p=Math.sin(R)*C+w,T?(s=h,l=p,u(s,l)):c(a,o,h,p),a=Math.cos(z)*D+M,o=Math.sin(z)*C+w;for(var O=(N?-1:1)*Math.PI/2,U=R;N?U>z:U<z;U+=O){var F=N?Math.max(U+O,z):Math.min(U+O,z);f(U,F,M,w,D,C)}break;case Ec.R:s=a=t[_++],l=o=t[_++],h=s+t[_++],p=l+t[_++],u(h,l),c(h,l,h,p),c(h,p,s,p),c(s,p,s,l),c(s,l,h,l);break;case Ec.Z:r&&c(a,o,s,l),a=s,o=l;break}}return r&&r.length>2&&n.push(r),n}function k3(i,t,e,n,r,a,o,s,l,u){if(C0(i,e)&&C0(t,n)&&C0(r,o)&&C0(a,s)){l.push(o,s);return}var c=2/u,f=c*c,h=o-i,p=s-t,g=Math.sqrt(h*h+p*p);h/=g,p/=g;var m=e-i,_=n-t,S=r-o,T=a-s,M=m*m+_*_,w=S*S+T*T;if(M<f&&w<f){l.push(o,s);return}var D=h*m+p*_,C=-h*S-p*T,R=M-D*D,z=w-C*C;if(R<f&&D>=0&&z<f&&C>=0){l.push(o,s);return}var N=[],O=[];op(i,e,r,o,.5,N),op(t,n,a,s,.5,O),k3(N[0],O[0],N[1],O[1],N[2],O[2],N[3],O[3],l,u),k3(N[4],O[4],N[5],O[5],N[6],O[6],N[7],O[7],l,u)}function yLt(i,t){var e=H3(i),n=[];t=t||1;for(var r=0;r<e.length;r++){var a=e[r],o=[],s=a[0],l=a[1];o.push(s,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],h=a[u++],p=a[u++],g=a[u++],m=a[u++];k3(s,l,c,f,h,p,g,m,o,t),s=g,l=m}n.push(o)}return n}function U$(i,t,e){var n=i[t],r=i[1-t],a=Math.abs(n/r),o=Math.ceil(Math.sqrt(a*e)),s=Math.floor(e/o);s===0&&(s=1,o=e);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,f=e-c;if(f>0)for(var u=0;u<f;u++)l[u%o]+=1;return l}function F9(i,t,e){for(var n=i.r0,r=i.r,a=i.startAngle,o=i.endAngle,s=Math.abs(o-a),l=s*r,u=r-n,c=l>Math.abs(u),f=U$([l,u],c?0:1,t),h=(c?s:u)/f.length,p=0;p<f.length;p++)for(var g=(c?u:s)/f[p],m=0;m<f[p];m++){var _={};c?(_.startAngle=a+h*p,_.endAngle=a+h*(p+1),_.r0=n+g*m,_.r=n+g*(m+1)):(_.startAngle=a+g*m,_.endAngle=a+g*(m+1),_.r0=n+h*p,_.r=n+h*(p+1)),_.clockwise=i.clockwise,_.cx=i.cx,_.cy=i.cy,e.push(_)}}function _Lt(i,t,e){for(var n=i.width,r=i.height,a=n>r,o=U$([n,r],a?0:1,t),s=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=i[s]/o.length,h=0;h<o.length;h++)for(var p=i[l]/o[h],g=0;g<o[h];g++){var m={};m[u]=h*f,m[c]=g*p,m[s]=f,m[l]=p,m.x+=i.x,m.y+=i.y,e.push(m)}}function G9(i,t,e,n){return i*n-e*t}function SLt(i,t,e,n,r,a,o,s){var l=e-i,u=n-t,c=o-r,f=s-a,h=G9(c,f,l,u);if(Math.abs(h)<1e-6)return null;var p=i-r,g=t-a,m=G9(p,g,c,f)/h;return m<0||m>1?null:new Ne(m*l+i,m*u+t)}function xLt(i,t,e){var n=new Ne;Ne.sub(n,e,t),n.normalize();var r=new Ne;Ne.sub(r,i,t);var a=r.dot(n);return a}function d0(i,t){var e=i[i.length-1];e&&e[0]===t[0]&&e[1]===t[1]||i.push(t)}function bLt(i,t,e){for(var n=i.length,r=[],a=0;a<n;a++){var o=i[a],s=i[(a+1)%n],l=SLt(o[0],o[1],s[0],s[1],t.x,t.y,e.x,e.y);l&&r.push({projPt:xLt(l,t,e),pt:l,idx:a})}if(r.length<2)return[{points:i},{points:i}];r.sort(function(_,S){return _.projPt-S.projPt});var u=r[0],c=r[r.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var h=[u.pt.x,u.pt.y],p=[c.pt.x,c.pt.y],g=[h],m=[p],a=u.idx+1;a<=c.idx;a++)d0(g,i[a].slice());d0(g,p),d0(g,h);for(var a=c.idx+1;a<=u.idx+n;a++)d0(m,i[a%n].slice());return d0(m,h),d0(m,p),[{points:g},{points:m}]}function X9(i){var t=i.points,e=[],n=[];vD(t,e,n);var r=new Oe(e[0],e[1],n[0]-e[0],n[1]-e[1]),a=r.width,o=r.height,s=r.x,l=r.y,u=new Ne,c=new Ne;return a>o?(u.x=c.x=s+a/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+a),bLt(t,u,c)}function v2(i,t,e,n){if(e===1)n.push(t);else{var r=Math.floor(e/2),a=i(t);v2(i,a[0],r,n),v2(i,a[1],e-r,n)}return n}function TLt(i,t){for(var e=[],n=0;n<t;n++)e.push(dB(i));return e}function MLt(i,t){t.setStyle(i.style),t.z=i.z,t.z2=i.z2,t.zlevel=i.zlevel}function ALt(i){for(var t=[],e=0;e<i.length;)t.push([i[e++],i[e++]]);return t}function wLt(i,t){var e=[],n=i.shape,r;switch(i.type){case"rect":_Lt(n,t,e),r=cn;break;case"sector":F9(n,t,e),r=Ka;break;case"circle":F9({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,e),r=Ka;break;default:var a=i.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=kt(yLt(i.getUpdatedPathProxy(),o),function(S){return ALt(S)}),l=s.length;if(l===0)v2(X9,{points:s[0]},t,e);else if(l===t)for(var u=0;u<l;u++)e.push({points:s[u]});else{var c=0,f=kt(s,function(S){var T=[],M=[];vD(S,T,M);var w=(M[1]-T[1])*(M[0]-T[0]);return c+=w,{poly:S,area:w}});f.sort(function(S,T){return T.area-S.area});for(var h=t,u=0;u<l;u++){var p=f[u];if(h<=0)break;var g=u===l-1?h:Math.ceil(p.area/c*t);g<0||(v2(X9,{points:p.poly},g,e),h-=g)}}r=Qa;break}if(!r)return TLt(i,t);for(var m=[],u=0;u<e.length;u++){var _=new r;_.setShape(e[u]),MLt(i,_),m.push(_)}return m}function ELt(i,t){var e=i.length,n=t.length;if(e===n)return[i,t];for(var r=[],a=[],o=e<n?i:t,s=Math.min(e,n),l=Math.abs(n-e)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,f=[o[0],o[1]],h=l,p=2;p<s;){var g=o[p-2],m=o[p-1],_=o[p++],S=o[p++],T=o[p++],M=o[p++],w=o[p++],D=o[p++];if(h<=0){f.push(_,S,T,M,w,D);continue}for(var C=Math.min(h,c-1)+1,R=1;R<=C;R++){var z=R/C;op(g,_,T,w,z,r),op(m,S,M,D,z,a),g=r[3],m=a[3],f.push(r[1],a[1],r[2],a[2],g,m),_=r[5],S=a[5],T=r[6],M=a[6]}h-=C-1}return o===i?[f,t]:[i,f]}function W9(i,t){for(var e=i.length,n=i[e-2],r=i[e-1],a=[],o=0;o<t.length;)a[o++]=n,a[o++]=r;return a}function CLt(i,t){for(var e,n,r,a=[],o=[],s=0;s<Math.max(i.length,t.length);s++){var l=i[s],u=t[s],c=void 0,f=void 0;l?u?(e=ELt(l,u),c=e[0],f=e[1],n=c,r=f):(f=W9(r||l,l),c=l):(c=W9(n||u,u),f=u),a.push(c),o.push(f)}return[a,o]}function Y9(i){for(var t=0,e=0,n=0,r=i.length,a=0,o=r-2;a<r;o=a,a+=2){var s=i[o],l=i[o+1],u=i[a],c=i[a+1],f=s*c-u*l;t+=f,e+=(s+u)*f,n+=(l+c)*f}return t===0?[i[0]||0,i[1]||0]:[e/t/3,n/t/3,t]}function DLt(i,t,e,n){for(var r=(i.length-2)/6,a=1/0,o=0,s=i.length,l=s-2,u=0;u<r;u++){for(var c=u*6,f=0,h=0;h<s;h+=2){var p=h===0?c:(c+h-2)%l+2,g=i[p]-e[0],m=i[p+1]-e[1],_=t[h]-n[0],S=t[h+1]-n[1],T=_-g,M=S-m;f+=T*T+M*M}f<a&&(a=f,o=u)}return o}function RLt(i){for(var t=[],e=i.length,n=0;n<e;n+=2)t[n]=i[e-n-2],t[n+1]=i[e-n-1];return t}function LLt(i,t,e,n){for(var r=[],a,o=0;o<i.length;o++){var s=i[o],l=t[o],u=Y9(s),c=Y9(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],h=[],p=0,g=1/0,m=[],_=s.length;a&&(s=RLt(s));for(var S=DLt(s,l,u,c)*6,T=_-2,M=0;M<T;M+=2){var w=(S+M)%T+2;f[M+2]=s[w]-u[0],f[M+3]=s[w+1]-u[1]}f[0]=s[S]-u[0],f[1]=s[S+1]-u[1];for(var D=n/e,C=-n/2;C<=n/2;C+=D){for(var R=Math.sin(C),z=Math.cos(C),N=0,M=0;M<s.length;M+=2){var O=f[M],U=f[M+1],F=l[M]-c[0],V=l[M+1]-c[1],W=F*z-V*R,Z=F*R+V*z;m[M]=W,m[M+1]=Z;var H=W-O,j=Z-U;N+=H*H+j*j}if(N<g){g=N,p=C;for(var Y=0;Y<m.length;Y++)h[Y]=m[Y]}}r.push({from:f,to:h,fromCp:u,toCp:c,rotation:-p})}return r}function g2(i){return i.__isCombineMorphing}var V$="__mOriginal_";function m2(i,t,e){var n=V$+t,r=i[n]||i[t];i[n]||(i[n]=i[t]);var a=e.replace,o=e.after,s=e.before;i[t]=function(){var l=arguments,u;return s&&s.apply(this,l),a?u=a.apply(this,l):u=r.apply(this,l),o&&o.apply(this,l),u}}function j1(i,t){var e=V$+t;i[e]&&(i[t]=i[e],i[e]=null)}function q9(i,t){for(var e=0;e<i.length;e++)for(var n=i[e],r=0;r<n.length;){var a=n[r],o=n[r+1];n[r++]=t[0]*a+t[2]*o+t[4],n[r++]=t[1]*a+t[3]*o+t[5]}}function H$(i,t){var e=i.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),r=CLt(H3(e),H3(n)),a=r[0],o=r[1],s=i.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}s&&q9(a,s),l&&q9(o,l),m2(t,"updateTransform",{replace:u}),t.transform=null;var c=LLt(a,o,10,Math.PI),f=[];m2(t,"buildPath",{replace:function(h){for(var p=t.__morphT,g=1-p,m=[],_=0;_<c.length;_++){var S=c[_],T=S.from,M=S.to,w=S.rotation*p,D=S.fromCp,C=S.toCp,R=Math.sin(w),z=Math.cos(w);B1(m,D,C,p);for(var N=0;N<T.length;N+=2){var O=T[N],U=T[N+1],F=M[N],V=M[N+1],W=O*g+F*p,Z=U*g+V*p;f[N]=W*z-Z*R+m[0],f[N+1]=W*R+Z*z+m[1]}var H=f[0],j=f[1];h.moveTo(H,j);for(var N=2;N<T.length;){var F=f[N++],V=f[N++],Y=f[N++],Q=f[N++],nt=f[N++],q=f[N++];H===F&&j===V&&Y===nt&&Q===q?h.lineTo(nt,q):h.bezierCurveTo(F,V,Y,Q,nt,q),H=nt,j=q}}}})}function _5(i,t,e){if(!i||!t)return t;var n=e.done,r=e.during;H$(i,t),t.__morphT=0;function a(){j1(t,"buildPath"),j1(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},Re({during:function(o){t.dirtyShape(),r&&r(o)},done:function(){a(),n&&n()}},e)),t}function ILt(i,t,e,n,r,a){var o=16;i=r===e?0:Math.round(32767*(i-e)/(r-e)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,f=0;(i&u)>0&&(c=1),(t&u)>0&&(f=1),s+=u*u*(3*c^f),f===0&&(c===1&&(i=u-1-i,t=u-1-t),l=i,i=t,t=l)}return s}function y2(i){var t=1/0,e=1/0,n=-1/0,r=-1/0,a=kt(i,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return t=Math.min(c,t),e=Math.min(f,e),n=Math.max(c,n),r=Math.max(f,r),[c,f]}),o=kt(a,function(s,l){return{cp:s,z:ILt(s[0],s[1],t,e,n,r),path:i[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function k$(i){return wLt(i.path,i.count)}function F3(){return{fromIndividuals:[],toIndividuals:[],count:0}}function NLt(i,t,e){var n=[];function r(D){for(var C=0;C<D.length;C++){var R=D[C];g2(R)?r(R.childrenRef()):R instanceof _n&&n.push(R)}}r(i);var a=n.length;if(!a)return F3();var o=e.dividePath||k$,s=o({path:t,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),F3();n=y2(n),s=y2(s);for(var l=e.done,u=e.during,c=e.individualDelay,f=new rh,h=0;h<a;h++){var p=n[h],g=s[h];g.parent=t,g.copyTransform(f),c||H$(p,g)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function m(D){for(var C=0;C<s.length;C++)s[C].addSelfToZr(D)}m2(t,"addSelfToZr",{after:function(D){m(D)}}),m2(t,"removeSelfFromZr",{after:function(D){for(var C=0;C<s.length;C++)s[C].removeSelfFromZr(D)}});function _(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,j1(t,"addSelfToZr"),j1(t,"removeSelfFromZr")}var S=s.length;if(c)for(var T=S,M=function(){T--,T===0&&(_(),l&&l())},h=0;h<S;h++){var w=c?Re({delay:(e.delay||0)+c(h,S,n[h],s[h]),done:M},e):e;_5(n[h],s[h],w)}else t.__morphT=0,t.animateTo({__morphT:1},Re({during:function(D){for(var C=0;C<S;C++){var R=s[C];R.__morphT=t.__morphT,R.dirtyShape()}u&&u(D)},done:function(){_();for(var D=0;D<i.length;D++)j1(i[D],"updateTransform");l&&l()}},e));return t.__zr&&m(t.__zr),{fromIndividuals:n,toIndividuals:s,count:S}}function OLt(i,t,e){var n=t.length,r=[],a=e.dividePath||k$;function o(p){for(var g=0;g<p.length;g++){var m=p[g];g2(m)?o(m.childrenRef()):m instanceof _n&&r.push(m)}}if(g2(i)){o(i.childrenRef());var s=r.length;if(s<n)for(var l=0,u=s;u<n;u++)r.push(dB(r[l++%s]));r.length=n}else{r=a({path:i,count:n});for(var c=i.getComputedTransform(),u=0;u<r.length;u++)r[u].setLocalTransform(c);if(r.length!==n)return console.error("Invalid morphing: unmatched splitted path"),F3()}r=y2(r),t=y2(t);for(var f=e.individualDelay,u=0;u<n;u++){var h=f?Re({delay:(e.delay||0)+f(u,n,r[u],t[u])},e):e;_5(r[u],t[u],h)}return{fromIndividuals:r,toIndividuals:t,count:t.length}}function Z9(i){return Vt(i[0])}function j9(i,t){for(var e=[],n=i.length,r=0;r<n;r++)e.push({one:i[r],many:[]});for(var r=0;r<t.length;r++){var a=t[r].length,o=void 0;for(o=0;o<a;o++)e[o%n].many.push(t[r][o])}for(var s=0,r=n-1;r>=0;r--)if(!e[r].many.length){var l=e[s].many;if(l.length<=1)if(s)s=0;else return e;var a=l.length,u=Math.ceil(a/2);e[r].many=l.slice(u,a),e[s].many=l.slice(0,u),s++}return e}var PLt={clone:function(i){for(var t=[],e=1-Math.pow(1-i.path.style.opacity,1/i.count),n=0;n<i.count;n++){var r=dB(i.path);r.setStyle("opacity",e),t.push(r)}return t},split:null};function aO(i,t,e,n,r,a){if(!i.length||!t.length)return;var o=D_("update",n,r);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;Z9(i)&&(u=i,c=t),Z9(t)&&(u=t,c=i);function f(S,T,M,w,D){var C=S.many,R=S.one;if(C.length===1&&!D){var z=T?C[0]:R,N=T?R:C[0];if(g2(z))f({many:[z],one:N},!0,M,w,!0);else{var O=s?Re({delay:s(M,w)},l):l;_5(z,N,O),a(z,N,z,N,O)}}else for(var U=Re({dividePath:PLt[e],individualDelay:s&&function(j,Y,Q,nt){return s(j+M,w)}},l),F=T?NLt(C,R,U):OLt(R,C,U),V=F.fromIndividuals,W=F.toIndividuals,Z=V.length,H=0;H<Z;H++){var O=s?Re({delay:s(H,Z)},l):l;a(V[H],W[H],T?C[H]:S.one,T?S.one:C[H],O)}}for(var h=u?u===i:i.length>t.length,p=u?j9(c,u):j9(h?t:i,[h?i:t]),g=0,m=0;m<p.length;m++)g+=p[m].many.length;for(var _=0,m=0;m<p.length;m++)f(p[m],h,_,g),_+=p[m].many.length}function lg(i){if(!i)return[];if(Vt(i)){for(var t=[],e=0;e<i.length;e++)t.push(lg(i[e]));return t}var n=[];return i.traverse(function(r){r instanceof _n&&!r.disableMorphing&&!r.invisible&&!r.ignore&&n.push(r)}),n}var F$=1e4,zLt=0,K9=1,Q9=2,BLt=gn();function ULt(i,t){for(var e=i.dimensions,n=0;n<e.length;n++){var r=i.getDimensionInfo(e[n]);if(r&&r.otherDims[t]===0)return e[n]}}function VLt(i,t,e){var n=i.getDimensionInfo(e),r=n&&n.ordinalMeta;if(n){var a=i.get(n.name,t);return r&&r.categories[a]||a+""}}function J9(i,t,e,n){var r=n?"itemChildGroupId":"itemGroupId",a=ULt(i,r);if(a){var o=VLt(i,t,a);return o}var s=i.getRawDataItem(t),l=n?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!n)return e||i.getId(t)}function $9(i){var t=[];return G(i,function(e){var n=e.data,r=e.dataGroupId;if(!(n.count()>F$))for(var a=n.getIndices(),o=0;o<a.length;o++)t.push({data:n,groupId:J9(n,o,r,!1),childGroupId:J9(n,o,r,!0),divide:e.divide,dataIndex:o})}),t}function oO(i,t,e){i.traverse(function(n){n instanceof _n&&Li(n,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function sO(i){if(i.parent){var t=i.getComputedTransform();i.setLocalTransform(t),i.parent.remove(i)}}function p0(i){i.stopAnimation(),i.isGroup&&i.traverse(function(t){t.stopAnimation()})}function HLt(i,t,e){var n=D_("update",e,t);n&&i.traverse(function(r){if(r instanceof zl){var a=ivt(r);a&&r.animateFrom({style:a},n)}})}function kLt(i,t){var e=i.length;if(e!==t.length)return!1;for(var n=0;n<e;n++){var r=i[n],a=t[n];if(r.data.getId(r.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function G$(i,t,e){var n=$9(i),r=$9(t);function a(M,w,D,C,R){(D||M)&&w.animateFrom({style:D&&D!==M?Rt(Rt({},D.style),M.style):M.style},R)}var o=!1,s=zLt,l=ye(),u=ye();n.forEach(function(M){M.groupId&&l.set(M.groupId,!0),M.childGroupId&&u.set(M.childGroupId,!0)});for(var c=0;c<r.length;c++){var f=r[c].groupId;if(u.get(f)){s=K9;break}var h=r[c].childGroupId;if(h&&l.get(h)){s=Q9;break}}function p(M,w){return function(D){var C=D.data,R=D.dataIndex;return w?C.getId(R):M?s===K9?D.childGroupId:D.groupId:s===Q9?D.childGroupId:D.groupId}}var g=kLt(n,r),m={};if(!g)for(var c=0;c<r.length;c++){var _=r[c],S=_.data.getItemGraphicEl(_.dataIndex);S&&(m[S.id]=!0)}function T(M,w){var D=n[w],C=r[M],R=C.data.hostModel,z=D.data.getItemGraphicEl(D.dataIndex),N=C.data.getItemGraphicEl(C.dataIndex);if(z===N){N&&HLt(N,C.dataIndex,R);return}z&&m[z.id]||N&&(p0(N),z?(p0(z),sO(z),o=!0,aO(lg(z),lg(N),C.divide,R,M,a)):oO(N,R,M))}new bh(n,r,p(!0,g),p(!1,g),null,"multiple").update(T).updateManyToOne(function(M,w){var D=r[M],C=D.data,R=C.hostModel,z=C.getItemGraphicEl(D.dataIndex),N=Gn(kt(w,function(O){return n[O].data.getItemGraphicEl(n[O].dataIndex)}),function(O){return O&&O!==z&&!m[O.id]});z&&(p0(z),N.length?(G(N,function(O){p0(O),sO(O)}),o=!0,aO(lg(N),lg(z),D.divide,R,M,a)):oO(z,R,D.dataIndex))}).updateOneToMany(function(M,w){var D=n[w],C=D.data.getItemGraphicEl(D.dataIndex);if(!(C&&m[C.id])){var R=Gn(kt(M,function(N){return r[N].data.getItemGraphicEl(r[N].dataIndex)}),function(N){return N&&N!==C}),z=r[M[0]].data.hostModel;R.length&&(G(R,function(N){return p0(N)}),C?(p0(C),sO(C),o=!0,aO(lg(C),lg(R),D.divide,z,M[0],a)):G(R,function(N){return oO(N,z,M[0])}))}}).updateManyToMany(function(M,w){new bh(w,M,function(D){return n[D].data.getId(n[D].dataIndex)},function(D){return r[D].data.getId(r[D].dataIndex)}).update(function(D,C){T(M[D],w[C])}).execute()}).execute(),o&&G(t,function(M){var w=M.data,D=w.hostModel,C=D&&e.getViewOfSeriesModel(D),R=D_("update",D,0);C&&D.isAnimationEnabled()&&R&&R.duration>0&&C.group.traverse(function(z){z instanceof _n&&!z.animators.length&&z.animateFrom({style:{opacity:0}},R)})})}function tX(i){var t=i.getModel("universalTransition").get("seriesKey");return t||i.id}function eX(i){return Vt(i)?i.sort().join(","):i}function zd(i){if(i.hostModel)return i.hostModel.getModel("universalTransition").get("divideShape")}function FLt(i,t){var e=ye(),n=ye(),r=ye();return G(i.oldSeries,function(a,o){var s=i.oldDataGroupIds[o],l=i.oldData[o],u=tX(a),c=eX(u);n.set(c,{dataGroupId:s,data:l}),Vt(u)&&G(u,function(f){r.set(f,{key:c,dataGroupId:s,data:l})})}),G(t.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),l=tX(a),u=eX(l),c=n.get(u);if(c)e.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:zd(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:zd(s),data:s}]});else if(Vt(l)){var f=[];G(l,function(g){var m=n.get(g);m.data&&f.push({dataGroupId:m.dataGroupId,divide:zd(m.data),data:m.data})}),f.length&&e.set(u,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:zd(s)}]})}else{var h=r.get(l);if(h){var p=e.get(h.key);p||(p={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:zd(h.data)}],newSeries:[]},e.set(h.key,p)),p.newSeries.push({dataGroupId:o,data:s,divide:zd(s)})}}}}),e}function nX(i,t){for(var e=0;e<i.length;e++){var n=t.seriesIndex!=null&&t.seriesIndex===i[e].seriesIndex||t.seriesId!=null&&t.seriesId===i[e].id;if(n)return e}}function GLt(i,t,e,n){var r=[],a=[];G(bi(i.from),function(o){var s=nX(t.oldSeries,o);s>=0&&r.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:zd(t.oldData[s]),groupIdDim:o.dimension})}),G(bi(i.to),function(o){var s=nX(e.updatedSeries,o);if(s>=0){var l=e.updatedSeries[s].getData();a.push({dataGroupId:t.oldDataGroupIds[s],data:l,divide:zd(l),groupIdDim:o.dimension})}}),r.length>0&&a.length>0&&G$(r,a,n)}function XLt(i){i.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){G(bi(n.seriesTransition),function(r){G(bi(r.to),function(a){for(var o=n.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][uE]=!0)})})}),i.registerUpdateLifecycle("series:transition",function(t,e,n){var r=BLt(e);if(r.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)G(bi(a),function(p){GLt(p,r,n,e)});else{var o=FLt(r,n);G(o.keys(),function(p){var g=o.get(p);G$(g.oldSeries,g.newSeries,e)})}G(n.updatedSeries,function(p){p[uE]&&(p[uE]=!1)})}for(var s=t.getSeries(),l=r.oldSeries=[],u=r.oldDataGroupIds=[],c=r.oldData=[],f=0;f<s.length;f++){var h=s[f].getData();h.count()<F$&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),c.push(h))}})}var WLt=(function(){function i(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return i.prototype.setBreaks=function(t){this.breaks=t.breaks},i.prototype.update=function(t){qLt(this,t);var e=this._elapsedExtent;e[0]=this.elapse(t[0]),e[1]=this.elapse(t[1])},i.prototype.hasBreaks=function(){return!!this.breaks.length},i.prototype.calcNiceTickMultiple=function(t,e){for(var n=0;n<this.breaks.length;n++){var r=this.breaks[n];if(r.vmin<t&&t<r.vmax){var a=e(t,r.vmax);return a}}return 0},i.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},i.prototype.normalize=function(t){var e=this._elapsedExtent[1]-this._elapsedExtent[0];return e===0?.5:(this.elapse(t)-this._elapsedExtent[0])/e},i.prototype.scale=function(t){return this.unelapse(t*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},i.prototype.elapse=function(t){for(var e=iX,n=rX,r=!0,a=0;a<this.breaks.length;a++){var o=this.breaks[a];if(t<=o.vmax){t>o.vmin?e+=o.vmin-n+(t-o.vmin)/(o.vmax-o.vmin)*o.gapReal:e+=t-n,n=o.vmax,r=!1;break}e+=o.vmin-n+o.gapReal,n=o.vmax}return r&&(e+=t-n),e},i.prototype.unelapse=function(t){for(var e=iX,n=rX,r=!0,a=0,o=0;o<this.breaks.length;o++){var s=this.breaks[o],l=e+s.vmin-n,u=l+s.gapReal;if(t<=u){t>l?a=s.vmin+(t-l)/(u-l)*(s.vmax-s.vmin):a=n+t-e,n=s.vmax,r=!1;break}e=u,n=s.vmax}return r&&(a=n+t-e),a},i})();function YLt(){return new WLt}var iX=0,rX=0;function qLt(i,t){var e=0,n={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},r=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:r(),tpPrct:r()},E:{tpAbs:r(),tpPrct:r()}};G(i.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(e+=l.val);var u=S5(s,t);if(u){var c=u.vmin!==s.vmin,f=u.vmax!==s.vmax,h=u.vmax-u.vmin;if(!(c&&f))if(c||f){var p=c?"S":"E";a[p][l.type].has=!0,a[p][l.type].span=h,a[p][l.type].inExtFrac=h/(s.vmax-s.vmin),a[p][l.type].val=l.val}else n[l.type].span+=h,n[l.type].val+=l.val}});var o=e*(0+(t[1]-t[0])+(n.tpAbs.val-n.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-n.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-n.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));G(i.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(s.gapReal=e!==0?Math.max(o,0)*l.val/e:0),l.type==="tpAbs"&&(s.gapReal=l.val),s.gapReal==null&&(s.gapReal=0)})}function ZLt(i,t,e,n,r,a){i!=="no"&&G(e,function(o){var s=S5(o,a);if(s)for(var l=t.length-1;l>=0;l--){var u=t[l],c=n(u),f=r*3/4;c>s.vmin-f&&c<s.vmax+f&&(i!=="preserve_extent_bound"||c!==a[0]&&c!==a[1])&&t.splice(l,1)}})}function jLt(i,t,e,n){G(t,function(r){var a=S5(r,e);a&&(i.push({value:a.vmin,break:{type:"vmin",parsedBreak:a},time:n?n(a):void 0}),i.push({value:a.vmax,break:{type:"vmax",parsedBreak:a},time:n?n(a):void 0}))}),t.length&&i.sort(function(r,a){return r.value-a.value})}function S5(i,t){var e=Math.max(i.vmin,t[0]),n=Math.min(i.vmax,t[1]);return e<n||e===n&&e>t[0]&&e<t[1]?{vmin:e,vmax:n,breakOption:i.breakOption,gapParsed:i.gapParsed,gapReal:i.gapReal}:null}function G3(i,t,e){var n=[];if(!i)return{breaks:n};function r(o,s){return o>=0&&o<1-1e-5}G(i,function(o){if(!(!o||o.start==null||o.end==null)&&!o.isExpanded){var s={breakOption:Ee(o),vmin:t(o.start),vmax:t(o.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(o.gap!=null){var l=!1;if(le(o.gap)){var u=ks(o.gap);if(u.match(/%$/)){var c=parseFloat(u)/100;r(c)||(c=0),s.gapParsed.type="tpPrct",s.gapParsed.val=c,l=!0}}if(!l){var f=t(o.gap);(!isFinite(f)||f<0)&&(f=0),s.gapParsed.type="tpAbs",s.gapParsed.val=f}}if(s.vmin===s.vmax&&(s.gapParsed.type="tpAbs",s.gapParsed.val=0),e&&e.noNegative&&G(["vmin","vmax"],function(p){s[p]<0&&(s[p]=0)}),s.vmin>s.vmax){var h=s.vmax;s.vmax=s.vmin,s.vmin=h}n.push(s)}}),n.sort(function(o,s){return o.vmin-s.vmin});var a=-1/0;return G(n,function(o,s){a>o.vmin&&(n[s]=null),a=o.vmax}),{breaks:n.filter(function(o){return!!o})}}function x5(i,t){return X3(t)===X3(i)}function X3(i){return i.start+"_\0_"+i.end}function KLt(i,t,e){var n=[];G(i,function(a,o){var s=t(a);s&&s.type==="vmin"&&n.push([o])}),G(i,function(a,o){var s=t(a);if(s&&s.type==="vmax"){var l=vp(n,function(u){return x5(t(i[u[0]]).parsedBreak.breakOption,s.parsedBreak.breakOption)});l&&l.push(o)}});var r=[];return G(n,function(a){a.length===2&&r.push(e?a:[i[a[0]],i[a[1]]])}),r}function QLt(i,t,e,n){var r,a;if(i.break){var o=i.break.parsedBreak,s=vp(e,function(f){return x5(f.breakOption,i.break.parsedBreak.breakOption)}),l=n(Math.pow(t,o.vmin),s.vmin),u=n(Math.pow(t,o.vmax),s.vmax),c={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Tr(Math.pow(t,o.vmin+o.gapParsed.val))-l:o.gapParsed.val};r={type:i.break.type,parsedBreak:{breakOption:o.breakOption,vmin:l,vmax:u,gapParsed:c,gapReal:o.gapReal}},a=s[i.break.type]}return{brkRoundingCriterion:a,vBreak:r}}function JLt(i,t,e){var n={noNegative:!0},r=G3(i,e,n),a=G3(i,e,n),o=Math.log(t);return a.breaks=kt(a.breaks,function(s){var l=Math.log(s.vmin)/o,u=Math.log(s.vmax)/o,c={type:s.gapParsed.type,val:s.gapParsed.type==="tpAbs"?Math.log(s.vmin+s.gapParsed.val)/o-l:s.gapParsed.val};return{vmin:l,vmax:u,gapParsed:c,gapReal:s.gapReal,breakOption:s.breakOption}}),{parsedOriginal:r,parsedLogged:a}}var $Lt={vmin:"start",vmax:"end"};function tIt(i,t){return t&&(i=i||{},i.break={type:$Lt[t.type],start:t.parsedBreak.vmin,end:t.parsedBreak.vmax}),i}function eIt(){Tvt({createScaleBreakContext:YLt,pruneTicksByBreak:ZLt,addBreaksToTicks:jLt,parseAxisBreakOption:G3,identifyAxisBreak:x5,serializeAxisBreakIdentifier:X3,retrieveAxisBreakPairs:KLt,getTicksLogTransformBreak:QLt,logarithmicParseBreaksFromOption:JLt,makeAxisLabelFormatterParamBreak:tIt})}var aX=gn();function nIt(i,t){var e=vp(i,function(n){return Or().identifyAxisBreak(n.parsedBreak.breakOption,t.breakOption)});return e||i.push(e={zigzagRandomList:[],parsedBreak:t,shouldRemove:!1}),e}function iIt(i){G(i,function(t){return t.shouldRemove=!0})}function rIt(i){for(var t=i.length-1;t>=0;t--)i[t].shouldRemove&&i.splice(t,1)}function aIt(i,t,e,n,r){var a=e.axis;if(a.scale.isBlank()||!Or())return;var o=Or().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(N){return N.break},!1);if(!o.length)return;var s=e.getModel("breakArea"),l=s.get("zigzagAmplitude"),u=s.get("zigzagMinSpan"),c=s.get("zigzagMaxSpan");u=Math.max(2,u||0),c=Math.max(u,c||0);var f=s.get("expandOnClick"),h=s.get("zigzagZ"),p=s.getModel("itemStyle"),g=p.getItemStyle(),m=g.stroke,_=g.lineWidth,S=g.lineDash,T=g.fill,M=new Ce({ignoreModelZ:!0}),w=a.isHorizontal(),D=aX(t).visualList||(aX(t).visualList=[]);iIt(D);for(var C=function(N){var O=o[N][0].break.parsedBreak,U=[];U[0]=a.toGlobalCoord(a.dataToCoord(O.vmin,!0)),U[1]=a.toGlobalCoord(a.dataToCoord(O.vmax,!0)),U[1]<U[0]&&U.reverse();var F=nIt(D,O);F.shouldRemove=!1;var V=new Ce;z(F.zigzagRandomList,V,U[0],U[1],w,O),f&&V.on("click",function(){var W={type:ID,breaks:[{start:O.breakOption.start,end:O.breakOption.end}]};W[a.dim+"AxisIndex"]=e.componentIndex,r.dispatchAction(W)}),V.silent=!f,M.add(V)},R=0;R<o.length;R++)C(R);i.add(M),rIt(D);function z(N,O,U,F,V,W){var Z={stroke:m,lineWidth:_,lineDash:S,fill:"none"},H=V?0:1,j=1-H,Y=n[We[j]]+n[Pr[j]];function Q(at){var wt=[],It=[];wt[H]=It[H]=at,wt[j]=n[We[j]],It[j]=Y;var Nt={x1:wt[0],y1:wt[1],x2:It[0],y2:It[1]};return mD(Nt,Nt,{lineWidth:1}),wt[0]=Nt.x1,wt[1]=Nt.y1,wt[H]}U=Q(U),F=Q(F);for(var nt=[],q=[],$=!0,st=n[We[j]],ft=0;;ft++){var Mt=st===n[We[j]],dt=st>=Y;dt&&(st=Y);var xt=[],Lt=[];xt[H]=U,Lt[H]=F,!Mt&&!dt&&(xt[H]+=$?-l:l,Lt[H]-=$?l:-l),xt[j]=st,Lt[j]=st,nt.push(xt),q.push(Lt);var Ct=void 0;if(ft<N.length?Ct=N[ft]:(Ct=Math.random(),N.push(Ct)),st+=Ct*(c-u)+u,$=!$,dt)break}var Wt=Or().serializeAxisBreakIdentifier(W.breakOption);if(O.add(new Ia({anid:"break_a_"+Wt,shape:{points:nt},style:Z,z:h})),W.gapReal!==0){O.add(new Ia({anid:"break_b_"+Wt,shape:{points:q},style:Z,z:h}));var Xt=q.slice();Xt.reverse();var ae=nt.concat(Xt);O.add(new Qa({anid:"break_c_"+Wt,shape:{points:ae},style:{fill:T,opacity:g.opacity},z:h}))}}}function oIt(i,t,e,n){var r=i.axis,a=e.transform;ja(n.style);var o=r.getExtent();r.inverse&&(o=o.slice(),o.reverse());var s=Or().retrieveAxisBreakPairs(r.scale.getTicks({breakTicks:"only_break"}),function(_){return _.break},!1),l=kt(s,function(_){var S=_[0].break.parsedBreak,T=[r.dataToCoord(S.vmin,!0),r.dataToCoord(S.vmax,!0)];return T[0]>T[1]&&T.reverse(),{coordPair:T,brkId:Or().serializeAxisBreakIdentifier(S.breakOption)}});l.sort(function(_,S){return _.coordPair[0]-S.coordPair[0]});for(var u=o[0],c=null,f=0;f<l.length;f++){var h=l[f],p=Math.max(h.coordPair[0],o[0]),g=Math.min(h.coordPair[1],o[1]);u<=p&&m(u,p,c,h),u=g,c=h}u<=o[1]&&m(u,o[1],c,null);function m(_,S,T,M){function w(U,F){a&&(cr(U,U,a),cr(F,F,a))}function D(U,F){var V={x1:U[0],y1:U[1],x2:F[0],y2:F[1]};mD(V,V,n.style),U[0]=V.x1,U[1]=V.y1,F[0]=V.x2,F[1]=V.y2}var C=[_,0],R=[S,0],z=[_,5],N=[S,5];w(C,z),D(C,z),w(R,N),D(R,N),D(C,R);var O=new Mr(Rt({shape:{x1:C[0],y1:C[1],x2:R[0],y2:R[1]}},n));t.add(O),O.anid="breakLine_"+(T?T.brkId:"\0")+"_\0_"+(M?M.brkId:"\0")}}function sIt(i,t,e){if(vp(e,function(T){return!T}))return;var n=new Ne;if(!RD(e[0],e[1],n,{direction:-(i?t+Math.PI:t),touchThreshold:0,bidirectional:!1}))return;var r=la();wh(r,r,-t);var a=kt(e,function(T){return T.transform?wu(la(),r,T.transform):r});function o(T){var M=e[0].localRect,w=new Ne(M[Pr[T]]*a[0][0],M[Pr[T]]*a[0][1]);return Math.abs(w.y)<1e-5}var s=.5;if(o(0)||o(1)){var l=kt(e,function(T,M){var w=T.localRect.clone();return w.applyTransform(a[M]),w}),u=new Ne;u.copy(e[0].label).add(e[1].label).scale(.5),u.transform(r);var c=n.clone().transform(r),f=l[0].x+l[1].x+(c.x>=0?l[0].width:l[1].width),h=(f+c.x)/2-u.x,p=Math.min(h,h-c.x),g=Math.max(h,h-c.x),m=g<0?g:p>0?p:0;s=(h-m)/c.x}var _=new Ne,S=new Ne;Ne.scale(_,n,-s),Ne.scale(S,n,1-s),WP(e[0],_),WP(e[1],S)}function lIt(i,t){var e={breaks:[]};return G(t.breaks,function(n){if(n){var r=vp(i.get("breaks",!0),function(s){return Or().identifyAxisBreak(s,n)});if(r){var a=t.type,o={isExpanded:!!r.isExpanded};r.isExpanded=a===ID?!0:a===cQ?!1:a===fQ?!r.isExpanded:r.isExpanded,e.breaks.push({start:r.start,end:r.end,isExpanded:!!r.isExpanded,old:o})}}}),e}function uIt(){rxt({adjustBreakLabelPair:sIt,buildAxisBreakLine:oIt,rectCoordBuildBreakAxis:aIt,updateModelAxisBreak:lIt})}function cIt(i){cxt(i),eIt(),uIt()}function fIt(){Lxt(hIt)}function hIt(i,t){G(i,function(e){if(!e.model.get(["axisLabel","inside"])){var n=dIt(e);if(n){var r=e.isHorizontal()?"height":"width",a=e.model.get(["axisLabel","margin"]);t[r]-=n[r]+a,e.position==="top"?t.y+=n.height+a:e.position==="left"&&(t.x+=n.width+a)}}})}function dIt(i){var t=i.model,e=i.scale;if(!t.get(["axisLabel","show"])||e.isBlank())return;var n,r,a=e.getExtent();e instanceof s_?r=e.count():(n=e.getTicks(),r=n.length);var o=i.getLabelModel(),s=V_(i),l,u=1;r>40&&(u=Math.ceil(r/40));for(var c=0;c<r;c+=u){var f=n?n[c]:{value:a[0]+c},h=s(f,c),p=o.getTextRect(h),g=m(p,o.get("rotate")||0);l?l.union(g):l=g}return l;function m(_,S){var T=S*Math.PI/180,M=_.width,w=_.height,D=M*Math.abs(Math.cos(T))+Math.abs(w*Math.sin(T)),C=M*Math.abs(Math.sin(T))+Math.abs(w*Math.cos(T)),R=new Oe(_.x,_.y,D,C);return R}}an([nSt]);an([Q_t]);an([bSt,BSt,qSt,Kxt,s1t,K1t,Tbt,oTt,ETt,OTt,HTt,ZTt,kMt,fAt,bAt,UAt,FAt,JAt,awt,gwt,bwt,Iwt,gEt]);an(PEt);an(oCt);an(BQ);an(yCt);an(TJ);an(bCt);an(FCt);an(QCt);an(B2t);an(nDt);an(mT);an(yDt);an(xDt);an(LDt);an(VDt);an(WDt);an(QDt);an(sRt);an(wRt);an(D$);an(R$);an(YRt);an(P$);an(z$);an(KRt);an(eLt);an(pLt);an(mLt);an(XLt);an(m_t);an(cIt);an(fIt);an(Qxt);const LIt=Object.freeze(Object.defineProperty({__proto__:null,Axis:Fl,ChartView:si,ComponentModel:pn,ComponentView:Ti,List:xo,Model:yn,PRIORITY:Lj,SeriesModel:di,color:vht,connect:Syt,dataTool:Cyt,dependencies:nyt,disConnect:xyt,disconnect:Vj,dispose:byt,env:xn,extendChartView:n_t,extendComponentModel:$0t,extendComponentView:t_t,extendSeriesModel:e_t,format:U0t,getCoordinateSystemDimensions:Myt,getInstanceByDom:QB,getInstanceById:Tyt,getMap:Eyt,graphic:B0t,helper:D0t,init:_yt,innerDrawElementOnCanvas:qB,matrix:Xft,number:P0t,parseGeoJSON:GP,parseGeoJson:GP,registerAction:Uu,registerCoordinateSystem:Fj,registerCustomSeries:Ayt,registerLayout:Gj,registerLoading:nU,registerLocale:MB,registerMap:Xj,registerPostInit:Hj,registerPostUpdate:kj,registerPreprocessor:$B,registerProcessor:tU,registerTheme:JB,registerTransform:Wj,registerUpdateLifecycle:DD,registerVisual:_p,setCanvasCreator:wyt,setPlatformAPI:wY,throttle:ED,time:z0t,use:an,util:V0t,vector:Dft,version:eyt,zrUtil:bft,zrender:Qht},Symbol.toStringTag,{value:"Module"}));export{Wa as B,MIt as C,AIt as G,QX as M,CIt as O,Sr as P,u1 as R,it as V,mIt as _,Lz as a,Xut as b,gIt as c,ht as d,DIt as e,RH as f,_2 as g,RIt as h,LIt as i,Os as j,pIt as k,vIt as l,wIt as p,vn as r,Td as u};
