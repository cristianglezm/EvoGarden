var LPe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZD(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var JL={exports:{}},TS={};var zF;function Lee(){if(zF)return TS;zF=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var s in r)s!=="key"&&(a[s]=r[s])}else a=r;return r=a.ref,{$$typeof:i,type:n,key:o,ref:r!==void 0?r:null,props:a}}return TS.Fragment=e,TS.jsx=t,TS.jsxs=t,TS}var BF;function Iee(){return BF||(BF=1,JL.exports=Lee()),JL.exports}var Gs=Iee(),eI={exports:{}},Ln={};var kF;function Pee(){if(kF)return Ln;kF=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator;function p(Y){return Y===null||typeof Y!="object"?null:(Y=h&&Y[h]||Y["@@iterator"],typeof Y=="function"?Y:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,_={};function x(Y,ee,oe){this.props=Y,this.context=ee,this.refs=_,this.updater=oe||g}x.prototype.isReactComponent={},x.prototype.setState=function(Y,ee){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ee,"setState")},x.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function M(){}M.prototype=x.prototype;function T(Y,ee,oe){this.props=Y,this.context=ee,this.refs=_,this.updater=oe||g}var C=T.prototype=new M;C.constructor=T,y(C,x.prototype),C.isPureReactComponent=!0;var E=Array.isArray;function D(){}var L={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function P(Y,ee,oe){var de=oe.ref;return{$$typeof:i,type:Y,key:ee,ref:de!==void 0?de:null,props:oe}}function N(Y,ee){return P(Y.type,ee,Y.props)}function B(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===i}function G(Y){var ee={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(oe){return ee[oe]})}var U=/\/+/g;function X(Y,ee){return typeof Y=="object"&&Y!==null&&Y.key!=null?G(""+Y.key):ee.toString(36)}function q(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(D,D):(Y.status="pending",Y.then(function(ee){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ee)},function(ee){Y.status==="pending"&&(Y.status="rejected",Y.reason=ee)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function V(Y,ee,oe,de,Pe){var he=typeof Y;(he==="undefined"||he==="boolean")&&(Y=null);var Se=!1;if(Y===null)Se=!0;else switch(he){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(Y.$$typeof){case i:case e:Se=!0;break;case c:return Se=Y._init,V(Se(Y._payload),ee,oe,de,Pe)}}if(Se)return Pe=Pe(Y),Se=de===""?"."+X(Y,0):de,E(Pe)?(oe="",Se!=null&&(oe=Se.replace(U,"$&/")+"/"),V(Pe,ee,oe,"",function(He){return He})):Pe!=null&&(B(Pe)&&(Pe=N(Pe,oe+(Pe.key==null||Y&&Y.key===Pe.key?"":(""+Pe.key).replace(U,"$&/")+"/")+Se)),ee.push(Pe)),1;Se=0;var Ee=de===""?".":de+":";if(E(Y))for(var Te=0;Te<Y.length;Te++)de=Y[Te],he=Ee+X(de,Te),Se+=V(de,ee,oe,he,Pe);else if(Te=p(Y),typeof Te=="function")for(Y=Te.call(Y),Te=0;!(de=Y.next()).done;)de=de.value,he=Ee+X(de,Te++),Se+=V(de,ee,oe,he,Pe);else if(he==="object"){if(typeof Y.then=="function")return V(q(Y),ee,oe,de,Pe);throw ee=String(Y),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Se}function j(Y,ee,oe){if(Y==null)return Y;var de=[],Pe=0;return V(Y,de,"","",function(he){return ee.call(oe,he,Pe++)}),de}function K(Y){if(Y._status===-1){var ee=Y._result;ee=ee(),ee.then(function(oe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=oe)},function(oe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=oe)}),Y._status===-1&&(Y._status=0,Y._result=ee)}if(Y._status===1)return Y._result.default;throw Y._result}var te=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},ie={map:j,forEach:function(Y,ee,oe){j(Y,function(){ee.apply(this,arguments)},oe)},count:function(Y){var ee=0;return j(Y,function(){ee++}),ee},toArray:function(Y){return j(Y,function(ee){return ee})||[]},only:function(Y){if(!B(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Ln.Activity=f,Ln.Children=ie,Ln.Component=x,Ln.Fragment=t,Ln.Profiler=r,Ln.PureComponent=T,Ln.StrictMode=n,Ln.Suspense=l,Ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ln.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return L.H.useMemoCache(Y)}},Ln.cache=function(Y){return function(){return Y.apply(null,arguments)}},Ln.cacheSignal=function(){return null},Ln.cloneElement=function(Y,ee,oe){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var de=y({},Y.props),Pe=Y.key;if(ee!=null)for(he in ee.key!==void 0&&(Pe=""+ee.key),ee)!z.call(ee,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ee.ref===void 0||(de[he]=ee[he]);var he=arguments.length-2;if(he===1)de.children=oe;else if(1<he){for(var Se=Array(he),Ee=0;Ee<he;Ee++)Se[Ee]=arguments[Ee+2];de.children=Se}return P(Y.type,Pe,de)},Ln.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},Ln.createElement=function(Y,ee,oe){var de,Pe={},he=null;if(ee!=null)for(de in ee.key!==void 0&&(he=""+ee.key),ee)z.call(ee,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Pe[de]=ee[de]);var Se=arguments.length-2;if(Se===1)Pe.children=oe;else if(1<Se){for(var Ee=Array(Se),Te=0;Te<Se;Te++)Ee[Te]=arguments[Te+2];Pe.children=Ee}if(Y&&Y.defaultProps)for(de in Se=Y.defaultProps,Se)Pe[de]===void 0&&(Pe[de]=Se[de]);return P(Y,he,Pe)},Ln.createRef=function(){return{current:null}},Ln.forwardRef=function(Y){return{$$typeof:s,render:Y}},Ln.isValidElement=B,Ln.lazy=function(Y){return{$$typeof:c,_payload:{_status:-1,_result:Y},_init:K}},Ln.memo=function(Y,ee){return{$$typeof:u,type:Y,compare:ee===void 0?null:ee}},Ln.startTransition=function(Y){var ee=L.T,oe={};L.T=oe;try{var de=Y(),Pe=L.S;Pe!==null&&Pe(oe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(D,te)}catch(he){te(he)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),L.T=ee}},Ln.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ln.use=function(Y){return L.H.use(Y)},Ln.useActionState=function(Y,ee,oe){return L.H.useActionState(Y,ee,oe)},Ln.useCallback=function(Y,ee){return L.H.useCallback(Y,ee)},Ln.useContext=function(Y){return L.H.useContext(Y)},Ln.useDebugValue=function(){},Ln.useDeferredValue=function(Y,ee){return L.H.useDeferredValue(Y,ee)},Ln.useEffect=function(Y,ee){return L.H.useEffect(Y,ee)},Ln.useEffectEvent=function(Y){return L.H.useEffectEvent(Y)},Ln.useId=function(){return L.H.useId()},Ln.useImperativeHandle=function(Y,ee,oe){return L.H.useImperativeHandle(Y,ee,oe)},Ln.useInsertionEffect=function(Y,ee){return L.H.useInsertionEffect(Y,ee)},Ln.useLayoutEffect=function(Y,ee){return L.H.useLayoutEffect(Y,ee)},Ln.useMemo=function(Y,ee){return L.H.useMemo(Y,ee)},Ln.useOptimistic=function(Y,ee){return L.H.useOptimistic(Y,ee)},Ln.useReducer=function(Y,ee,oe){return L.H.useReducer(Y,ee,oe)},Ln.useRef=function(Y){return L.H.useRef(Y)},Ln.useState=function(Y){return L.H.useState(Y)},Ln.useSyncExternalStore=function(Y,ee,oe){return L.H.useSyncExternalStore(Y,ee,oe)},Ln.useTransition=function(){return L.H.useTransition()},Ln.version="19.2.3",Ln}var UF;function Z1(){return UF||(UF=1,eI.exports=Pee()),eI.exports}var _n=Z1();const R0=ZD(_n);var tI={exports:{}},wS={},nI={exports:{}},iI={};var FF;function Nee(){return FF||(FF=1,(function(i){function e(V,j){var K=V.length;V.push(j);e:for(;0<K;){var te=K-1>>>1,ie=V[te];if(0<r(ie,j))V[te]=j,V[K]=ie,K=te;else break e}}function t(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var j=V[0],K=V.pop();if(K!==j){V[0]=K;e:for(var te=0,ie=V.length,Y=ie>>>1;te<Y;){var ee=2*(te+1)-1,oe=V[ee],de=ee+1,Pe=V[de];if(0>r(oe,K))de<ie&&0>r(Pe,oe)?(V[te]=Pe,V[de]=K,te=de):(V[te]=oe,V[ee]=K,te=ee);else if(de<ie&&0>r(Pe,K))V[te]=Pe,V[de]=K,te=de;else break e}}return j}function r(V,j){var K=V.sortIndex-j.sortIndex;return K!==0?K:V.id-j.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();i.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(V){for(var j=t(u);j!==null;){if(j.callback===null)n(u);else if(j.startTime<=V)n(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(u)}}function E(V){if(y=!1,C(V),!g)if(t(l)!==null)g=!0,D||(D=!0,G());else{var j=t(u);j!==null&&q(E,j.startTime-V)}}var D=!1,L=-1,z=5,P=-1;function N(){return _?!0:!(i.unstable_now()-P<z)}function B(){if(_=!1,D){var V=i.unstable_now();P=V;var j=!0;try{e:{g=!1,y&&(y=!1,M(L),L=-1),p=!0;var K=h;try{t:{for(C(V),f=t(l);f!==null&&!(f.expirationTime>V&&N());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var ie=te(f.expirationTime<=V);if(V=i.unstable_now(),typeof ie=="function"){f.callback=ie,C(V),j=!0;break t}f===t(l)&&n(l),C(V)}else n(l);f=t(l)}if(f!==null)j=!0;else{var Y=t(u);Y!==null&&q(E,Y.startTime-V),j=!1}}break e}finally{f=null,h=K,p=!1}j=void 0}}finally{j?G():D=!1}}}var G;if(typeof T=="function")G=function(){T(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,X=U.port2;U.port1.onmessage=B,G=function(){X.postMessage(null)}}else G=function(){x(B,0)};function q(V,j){L=x(function(){V(i.unstable_now())},j)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return h},i.unstable_next=function(V){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var K=h;h=j;try{return V()}finally{h=K}},i.unstable_requestPaint=function(){_=!0},i.unstable_runWithPriority=function(V,j){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=h;h=V;try{return j()}finally{h=K}},i.unstable_scheduleCallback=function(V,j,K){var te=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?te+K:te):K=te,V){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=K+ie,V={id:c++,callback:j,priorityLevel:V,startTime:K,expirationTime:ie,sortIndex:-1},K>te?(V.sortIndex=K,e(u,V),t(l)===null&&V===t(u)&&(y?(M(L),L=-1):y=!0,q(E,K-te))):(V.sortIndex=ie,e(l,V),g||p||(g=!0,D||(D=!0,G()))),V},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(V){var j=h;return function(){var K=h;h=j;try{return V.apply(this,arguments)}finally{h=K}}}})(iI)),iI}var VF;function M7(){return VF||(VF=1,nI.exports=Nee()),nI.exports}var rI={exports:{}},go={};var GF;function Oee(){if(GF)return go;GF=1;var i=Z1();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(l,u,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:f==null?null:""+f,children:l,containerInfo:u,implementation:c}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return go.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,go.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,c)},go.flushSync=function(l){var u=o.T,c=n.p;try{if(o.T=null,n.p=2,l)return l()}finally{o.T=u,n.p=c,n.d.f()}},go.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},go.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},go.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,f=s(c,u.crossOrigin),h=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:p}):c==="script"&&n.d.X(l,{crossOrigin:f,integrity:h,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},go.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=s(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},go.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,f=s(c,u.crossOrigin);n.d.L(l,c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},go.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=s(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},go.requestFormReset=function(l){n.d.r(l)},go.unstable_batchedUpdates=function(l,u){return l(u)},go.useFormState=function(l,u,c){return o.H.useFormState(l,u,c)},go.useFormStatus=function(){return o.H.useHostTransitionStatus()},go.version="19.2.3",go}var HF;function zee(){if(HF)return rI.exports;HF=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rI.exports=Oee(),rI.exports}var WF;function Bee(){if(WF)return wS;WF=1;var i=M7(),e=Z1(),t=zee();function n(d){var v="https://react.dev/errors/"+d;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function a(d){var v=d,b=d;if(d.alternate)for(;v.return;)v=v.return;else{d=v;do v=d,(v.flags&4098)!==0&&(b=v.return),d=v.return;while(d)}return v.tag===3?b:null}function o(d){if(d.tag===13){var v=d.memoizedState;if(v===null&&(d=d.alternate,d!==null&&(v=d.memoizedState)),v!==null)return v.dehydrated}return null}function s(d){if(d.tag===31){var v=d.memoizedState;if(v===null&&(d=d.alternate,d!==null&&(v=d.memoizedState)),v!==null)return v.dehydrated}return null}function l(d){if(a(d)!==d)throw Error(n(188))}function u(d){var v=d.alternate;if(!v){if(v=a(d),v===null)throw Error(n(188));return v!==d?null:d}for(var b=d,w=v;;){var I=b.return;if(I===null)break;var O=I.alternate;if(O===null){if(w=I.return,w!==null){b=w;continue}break}if(I.child===O.child){for(O=I.child;O;){if(O===b)return l(I),d;if(O===w)return l(I),v;O=O.sibling}throw Error(n(188))}if(b.return!==w.return)b=I,w=O;else{for(var W=!1,J=I.child;J;){if(J===b){W=!0,b=I,w=O;break}if(J===w){W=!0,w=I,b=O;break}J=J.sibling}if(!W){for(J=O.child;J;){if(J===b){W=!0,b=O,w=I;break}if(J===w){W=!0,w=O,b=I;break}J=J.sibling}if(!W)throw Error(n(189))}}if(b.alternate!==w)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?d:v}function c(d){var v=d.tag;if(v===5||v===26||v===27||v===6)return d;for(d=d.child;d!==null;){if(v=c(d),v!==null)return v;d=d.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function G(d){return d===null||typeof d!="object"?null:(d=B&&d[B]||d["@@iterator"],typeof d=="function"?d:null)}var U=Symbol.for("react.client.reference");function X(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===U?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case y:return"Fragment";case x:return"Profiler";case _:return"StrictMode";case E:return"Suspense";case D:return"SuspenseList";case P:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case g:return"Portal";case T:return d.displayName||"Context";case M:return(d._context.displayName||"Context")+".Consumer";case C:var v=d.render;return d=d.displayName,d||(d=v.displayName||v.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case L:return v=d.displayName||null,v!==null?v:X(d.type)||"Memo";case z:v=d._payload,d=d._init;try{return X(d(v))}catch{}}return null}var q=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},te=[],ie=-1;function Y(d){return{current:d}}function ee(d){0>ie||(d.current=te[ie],te[ie]=null,ie--)}function oe(d,v){ie++,te[ie]=d.current,d.current=v}var de=Y(null),Pe=Y(null),he=Y(null),Se=Y(null);function Ee(d,v){switch(oe(he,v),oe(Pe,d),oe(de,null),v.nodeType){case 9:case 11:d=(d=v.documentElement)&&(d=d.namespaceURI)?aF(d):0;break;default:if(d=v.tagName,v=v.namespaceURI)v=aF(v),d=oF(v,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}ee(de),oe(de,d)}function Te(){ee(de),ee(Pe),ee(he)}function He(d){d.memoizedState!==null&&oe(Se,d);var v=de.current,b=oF(v,d.type);v!==b&&(oe(Pe,d),oe(de,b))}function We(d){Pe.current===d&&(ee(de),ee(Pe)),Se.current===d&&(ee(Se),xS._currentValue=K)}var Qe,yt;function be(d){if(Qe===void 0)try{throw Error()}catch(b){var v=b.stack.trim().match(/\n( *(at )?)/);Qe=v&&v[1]||"",yt=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+d+yt}var Ue=!1;function Ie(d,v){if(!d||Ue)return"";Ue=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(v){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Ve){var Le=Ve}Reflect.construct(d,[],Ke)}else{try{Ke.call()}catch(Ve){Le=Ve}d.call(Ke.prototype)}}else{try{throw Error()}catch(Ve){Le=Ve}(Ke=d())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Ve){if(Ve&&Le&&typeof Ve.stack=="string")return[Ve.stack,Le.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=w.DetermineComponentFrameRoot(),W=O[0],J=O[1];if(W&&J){var ue=W.split(`
`),Ae=J.split(`
`);for(I=w=0;w<ue.length&&!ue[w].includes("DetermineComponentFrameRoot");)w++;for(;I<Ae.length&&!Ae[I].includes("DetermineComponentFrameRoot");)I++;if(w===ue.length||I===Ae.length)for(w=ue.length-1,I=Ae.length-1;1<=w&&0<=I&&ue[w]!==Ae[I];)I--;for(;1<=w&&0<=I;w--,I--)if(ue[w]!==Ae[I]){if(w!==1||I!==1)do if(w--,I--,0>I||ue[w]!==Ae[I]){var Xe=`
`+ue[w].replace(" at new "," at ");return d.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",d.displayName)),Xe}while(1<=w&&0<=I);break}}}finally{Ue=!1,Error.prepareStackTrace=b}return(b=d?d.displayName||d.name:"")?be(b):""}function $e(d,v){switch(d.tag){case 26:case 27:case 5:return be(d.type);case 16:return be("Lazy");case 13:return d.child!==v&&v!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return Ie(d.type,!1);case 11:return Ie(d.type.render,!1);case 1:return Ie(d.type,!0);case 31:return be("Activity");default:return""}}function ae(d){try{var v="",b=null;do v+=$e(d,b),b=d,d=d.return;while(d);return v}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var Mt=Object.prototype.hasOwnProperty,vt=i.unstable_scheduleCallback,Vt=i.unstable_cancelCallback,ot=i.unstable_shouldYield,ne=i.unstable_requestPaint,Z=i.unstable_now,ve=i.unstable_getCurrentPriorityLevel,ke=i.unstable_ImmediatePriority,qe=i.unstable_UserBlockingPriority,Be=i.unstable_NormalPriority,Dt=i.unstable_LowPriority,ht=i.unstable_IdlePriority,Ft=i.log,tn=i.unstable_setDisableYieldValue,et=null,ft=null;function wt(d){if(typeof Ft=="function"&&tn(d),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(et,d)}catch{}}var se=Math.clz32?Math.clz32:le,Me=Math.log,mt=Math.LN2;function le(d){return d>>>=0,d===0?32:31-(Me(d)/mt|0)|0}var ut=256,tt=262144,xt=4194304;function nt(d){var v=d&42;if(v!==0)return v;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Ye(d,v,b){var w=d.pendingLanes;if(w===0)return 0;var I=0,O=d.suspendedLanes,W=d.pingedLanes;d=d.warmLanes;var J=w&134217727;return J!==0?(w=J&~O,w!==0?I=nt(w):(W&=J,W!==0?I=nt(W):b||(b=J&~d,b!==0&&(I=nt(b))))):(J=w&~O,J!==0?I=nt(J):W!==0?I=nt(W):b||(b=w&~d,b!==0&&(I=nt(b)))),I===0?0:v!==0&&v!==I&&(v&O)===0&&(O=I&-I,b=v&-v,O>=b||O===32&&(b&4194048)!==0)?v:I}function ct(d,v){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&v)===0}function $t(d,v){switch(d){case 1:case 2:case 4:case 8:case 64:return v+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nn(){var d=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),d}function Bn(d){for(var v=[],b=0;31>b;b++)v.push(d);return v}function ji(d,v){d.pendingLanes|=v,v!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function zr(d,v,b,w,I,O){var W=d.pendingLanes;d.pendingLanes=b,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=b,d.entangledLanes&=b,d.errorRecoveryDisabledLanes&=b,d.shellSuspendCounter=0;var J=d.entanglements,ue=d.expirationTimes,Ae=d.hiddenUpdates;for(b=W&~b;0<b;){var Xe=31-se(b),Ke=1<<Xe;J[Xe]=0,ue[Xe]=-1;var Le=Ae[Xe];if(Le!==null)for(Ae[Xe]=null,Xe=0;Xe<Le.length;Xe++){var Ve=Le[Xe];Ve!==null&&(Ve.lane&=-536870913)}b&=~Ke}w!==0&&$u(d,w,0),O!==0&&I===0&&d.tag!==0&&(d.suspendedLanes|=O&~(W&~v))}function $u(d,v,b){d.pendingLanes|=v,d.suspendedLanes&=~v;var w=31-se(v);d.entangledLanes|=v,d.entanglements[w]=d.entanglements[w]|1073741824|b&261930}function Qu(d,v){var b=d.entangledLanes|=v;for(d=d.entanglements;b;){var w=31-se(b),I=1<<w;I&v|d[w]&v&&(d[w]|=v),b&=~I}}function _f(d,v){var b=v&-v;return b=(b&42)!==0?1:Ju(b),(b&(d.suspendedLanes|v))!==0?0:b}function Ju(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function iu(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function xf(){var d=j.p;return d!==0?d:(d=window.event,d===void 0?32:DF(d.type))}function wa(d,v){var b=j.p;try{return j.p=d,v()}finally{j.p=b}}var Eo=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Eo,Br="__reactProps$"+Eo,Do="__reactContainer$"+Eo,Ro="__reactEvents$"+Eo,Lo="__reactListeners$"+Eo,ec="__reactHandles$"+Eo,Sf="__reactResources$"+Eo,Ls="__reactMarker$"+Eo;function ru(d){delete d[Ki],delete d[Br],delete d[Ro],delete d[Lo],delete d[ec]}function au(d){var v=d[Ki];if(v)return v;for(var b=d.parentNode;b;){if(v=b[Do]||b[Ki]){if(b=v.alternate,v.child!==null||b!==null&&b.child!==null)for(d=dF(d);d!==null;){if(b=d[Ki])return b;d=dF(d)}return v}d=b,b=d.parentNode}return null}function ou(d){if(d=d[Ki]||d[Do]){var v=d.tag;if(v===5||v===6||v===13||v===31||v===26||v===27||v===3)return d}return null}function tc(d){var v=d.tag;if(v===5||v===26||v===27||v===6)return d.stateNode;throw Error(n(33))}function rl(d){var v=d[Sf];return v||(v=d[Sf]={hoistableStyles:new Map,hoistableScripts:new Map}),v}function Q(d){d[Ls]=!0}var me=new Set,Ne={};function De(d,v){_e(d,v),_e(d+"Capture",v)}function _e(d,v){for(Ne[d]=v,d=0;d<v.length;d++)me.add(v[d])}var dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pt={},lt={};function Gt(d){return Mt.call(lt,d)?!0:Mt.call(Pt,d)?!1:dt.test(d)?lt[d]=!0:(Pt[d]=!0,!1)}function Wt(d,v,b){if(Gt(v))if(b===null)d.removeAttribute(v);else{switch(typeof b){case"undefined":case"function":case"symbol":d.removeAttribute(v);return;case"boolean":var w=v.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){d.removeAttribute(v);return}}d.setAttribute(v,""+b)}}function rn(d,v,b){if(b===null)d.removeAttribute(v);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(v);return}d.setAttribute(v,""+b)}}function Yt(d,v,b,w){if(w===null)d.removeAttribute(b);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(b);return}d.setAttributeNS(v,b,""+w)}}function un(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function li(d){var v=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function Ii(d,v,b){var w=Object.getOwnPropertyDescriptor(d.constructor.prototype,v);if(!d.hasOwnProperty(v)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var I=w.get,O=w.set;return Object.defineProperty(d,v,{configurable:!0,get:function(){return I.call(this)},set:function(W){b=""+W,O.call(this,W)}}),Object.defineProperty(d,v,{enumerable:w.enumerable}),{getValue:function(){return b},setValue:function(W){b=""+W},stopTracking:function(){d._valueTracker=null,delete d[v]}}}}function wi(d){if(!d._valueTracker){var v=li(d)?"checked":"value";d._valueTracker=Ii(d,v,""+d[v])}}function wn(d){if(!d)return!1;var v=d._valueTracker;if(!v)return!0;var b=v.getValue(),w="";return d&&(w=li(d)?d.checked?"true":"false":d.value),d=w,d!==b?(v.setValue(d),!0):!1}function Tt(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var ai=/[\n"\\]/g;function pn(d){return d.replace(ai,function(v){return"\\"+v.charCodeAt(0).toString(16)+" "})}function br(d,v,b,w,I,O,W,J){d.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?d.type=W:d.removeAttribute("type"),v!=null?W==="number"?(v===0&&d.value===""||d.value!=v)&&(d.value=""+un(v)):d.value!==""+un(v)&&(d.value=""+un(v)):W!=="submit"&&W!=="reset"||d.removeAttribute("value"),v!=null?Fi(d,W,un(v)):b!=null?Fi(d,W,un(b)):w!=null&&d.removeAttribute("value"),I==null&&O!=null&&(d.defaultChecked=!!O),I!=null&&(d.checked=I&&typeof I!="function"&&typeof I!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?d.name=""+un(J):d.removeAttribute("name")}function Is(d,v,b,w,I,O,W,J){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(d.type=O),v!=null||b!=null){if(!(O!=="submit"&&O!=="reset"||v!=null)){wi(d);return}b=b!=null?""+un(b):"",v=v!=null?""+un(v):b,J||v===d.value||(d.value=v),d.defaultValue=v}w=w??I,w=typeof w!="function"&&typeof w!="symbol"&&!!w,d.checked=J?d.checked:!!w,d.defaultChecked=!!w,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(d.name=W),wi(d)}function Fi(d,v,b){v==="number"&&Tt(d.ownerDocument)===d||d.defaultValue===""+b||(d.defaultValue=""+b)}function Ua(d,v,b,w){if(d=d.options,v){v={};for(var I=0;I<b.length;I++)v["$"+b[I]]=!0;for(b=0;b<d.length;b++)I=v.hasOwnProperty("$"+d[b].value),d[b].selected!==I&&(d[b].selected=I),I&&w&&(d[b].defaultSelected=!0)}else{for(b=""+un(b),v=null,I=0;I<d.length;I++){if(d[I].value===b){d[I].selected=!0,w&&(d[I].defaultSelected=!0);return}v!==null||d[I].disabled||(v=d[I])}v!==null&&(v.selected=!0)}}function pi(d,v,b){if(v!=null&&(v=""+un(v),v!==d.value&&(d.value=v),b==null)){d.defaultValue!==v&&(d.defaultValue=v);return}d.defaultValue=b!=null?""+un(b):""}function kr(d,v,b,w){if(v==null){if(w!=null){if(b!=null)throw Error(n(92));if(q(w)){if(1<w.length)throw Error(n(93));w=w[0]}b=w}b==null&&(b=""),v=b}b=un(v),d.defaultValue=b,w=d.textContent,w===b&&w!==""&&w!==null&&(d.value=w),wi(d)}function Mr(d,v){if(v){var b=d.firstChild;if(b&&b===d.lastChild&&b.nodeType===3){b.nodeValue=v;return}}d.textContent=v}var $r=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qr(d,v,b){var w=v.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?w?d.setProperty(v,""):v==="float"?d.cssFloat="":d[v]="":w?d.setProperty(v,b):typeof b!="number"||b===0||$r.has(v)?v==="float"?d.cssFloat=b:d[v]=(""+b).trim():d[v]=b+"px"}function bf(d,v,b){if(v!=null&&typeof v!="object")throw Error(n(62));if(d=d.style,b!=null){for(var w in b)!b.hasOwnProperty(w)||v!=null&&v.hasOwnProperty(w)||(w.indexOf("--")===0?d.setProperty(w,""):w==="float"?d.cssFloat="":d[w]="");for(var I in v)w=v[I],v.hasOwnProperty(I)&&b[I]!==w&&Qr(d,I,w)}else for(var O in v)v.hasOwnProperty(O)&&Qr(d,O,v[O])}function is(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),J_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bp(d){return J_.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function su(){}var Mm=null;function Tm(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Mf=null,nc=null;function ex(d){var v=ou(d);if(v&&(d=v.stateNode)){var b=d[Br]||null;e:switch(d=v.stateNode,v.type){case"input":if(br(d,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),v=b.name,b.type==="radio"&&v!=null){for(b=d;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+pn(""+v)+'"][type="radio"]'),v=0;v<b.length;v++){var w=b[v];if(w!==d&&w.form===d.form){var I=w[Br]||null;if(!I)throw Error(n(90));br(w,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(v=0;v<b.length;v++)w=b[v],w.form===d.form&&wn(w)}break e;case"textarea":pi(d,b.value,b.defaultValue);break e;case"select":v=b.value,v!=null&&Ua(d,!!b.multiple,v,!1)}}}var wm=!1;function tx(d,v,b){if(wm)return d(v,b);wm=!0;try{var w=d(v);return w}finally{if(wm=!1,(Mf!==null||nc!==null)&&(Bs(),Mf&&(v=Mf,d=nc,nc=Mf=null,ex(v),d)))for(v=0;v<d.length;v++)ex(d[v])}}function Fh(d,v){var b=d.stateNode;if(b===null)return null;var w=b[Br]||null;if(w===null)return null;b=w[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(d=d.type,w=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!w;break e;default:d=!1}if(d)return null;if(b&&typeof b!="function")throw Error(n(231,v,typeof b));return b}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nx=!1;if(al)try{var Vh={};Object.defineProperty(Vh,"passive",{get:function(){nx=!0}}),window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{nx=!1}var Io=null,Am=null,Tf=null;function kp(){if(Tf)return Tf;var d,v=Am,b=v.length,w,I="value"in Io?Io.value:Io.textContent,O=I.length;for(d=0;d<b&&v[d]===I[d];d++);var W=b-d;for(w=1;w<=W&&v[b-w]===I[O-w];w++);return Tf=I.slice(d,1<w?1-w:void 0)}function Up(d){var v=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&v===13&&(d=13)):d=v,d===10&&(d=13),32<=d||d===13?d:0}function Gh(){return!0}function EM(){return!1}function Fa(d){function v(b,w,I,O,W){this._reactName=b,this._targetInst=I,this.type=w,this.nativeEvent=O,this.target=W,this.currentTarget=null;for(var J in d)d.hasOwnProperty(J)&&(b=d[J],this[J]=b?b(O):O[J]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Gh:EM,this.isPropagationStopped=EM,this}return f(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=Gh)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=Gh)},persist:function(){},isPersistent:Gh}),v}var ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fp=Fa(ic),Hh=f({},ic,{view:0,detail:0}),DM=Fa(Hh),Vp,Cm,Wh,Xh=f({},Hh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Wh&&(Wh&&d.type==="mousemove"?(Vp=d.screenX-Wh.screenX,Cm=d.screenY-Wh.screenY):Cm=Vp=0,Wh=d),Vp)},movementY:function(d){return"movementY"in d?d.movementY:Cm}}),ix=Fa(Xh),RM=f({},Xh,{dataTransfer:0}),LM=Fa(RM),rx=f({},Hh,{relatedTarget:0}),Em=Fa(rx),IM=f({},ic,{animationName:0,elapsedTime:0,pseudoElement:0}),_L=Fa(IM),xL=f({},ic,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),PM=Fa(xL),Gp=f({},ic,{data:0}),Dm=Fa(Gp),Rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ax(d){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(d):(d=OM[d])?!!v[d]:!1}function Lm(){return ax}var zM=f({},Hh,{key:function(d){if(d.key){var v=Rm[d.key]||d.key;if(v!=="Unidentified")return v}return d.type==="keypress"?(d=Up(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?NM[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(d){return d.type==="keypress"?Up(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Up(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),wf=Fa(zM),Im=f({},Xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ox=Fa(Im),sx=f({},Hh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),BM=Fa(sx),kM=f({},ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),SL=Fa(kM),fa=f({},Xh,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),UM=Fa(fa),FM=f({},ic,{newState:0,oldState:0}),VM=Fa(FM),GM=[9,13,27,32],Af=al&&"CompositionEvent"in window,Yh=null;al&&"documentMode"in document&&(Yh=document.documentMode);var Pm=al&&"TextEvent"in window&&!Yh,lx=al&&(!Af||Yh&&8<Yh&&11>=Yh),HM=" ",Hp=!1;function Nm(d,v){switch(d){case"keyup":return GM.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ux(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Cf=!1;function WM(d,v){switch(d){case"compositionend":return ux(v);case"keypress":return v.which!==32?null:(Hp=!0,HM);case"textInput":return d=v.data,d===HM&&Hp?null:d;default:return null}}function cx(d,v){if(Cf)return d==="compositionend"||!Af&&Nm(d,v)?(d=kp(),Tf=Am=Io=null,Cf=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return lx&&v.locale!=="ko"?null:v.data;default:return null}}var fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hx(d){var v=d&&d.nodeName&&d.nodeName.toLowerCase();return v==="input"?!!fx[d.type]:v==="textarea"}function Om(d,v,b,w){Mf?nc?nc.push(w):nc=[w]:Mf=w,v=jT(v,"onChange"),0<v.length&&(b=new Fp("onChange","change",null,b,w),d.push({event:b,listeners:v}))}var rc=null,Ef=null;function XM(d){J2(d,0)}function qh(d){var v=tc(d);if(wn(v))return d}function dx(d,v){if(d==="change")return v}var ol=!1;if(al){var Wp;if(al){var px="oninput"in document;if(!px){var vx=document.createElement("div");vx.setAttribute("oninput","return;"),px=typeof vx.oninput=="function"}Wp=px}else Wp=!1;ol=Wp&&(!document.documentMode||9<document.documentMode)}function rs(){rc&&(rc.detachEvent("onpropertychange",Xp),Ef=rc=null)}function Xp(d){if(d.propertyName==="value"&&qh(Ef)){var v=[];Om(v,Ef,d,Tm(d)),tx(XM,v)}}function YM(d,v,b){d==="focusin"?(rs(),rc=v,Ef=b,rc.attachEvent("onpropertychange",Xp)):d==="focusout"&&rs()}function gx(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return qh(Ef)}function qM(d,v){if(d==="click")return qh(v)}function ZM(d,v){if(d==="input"||d==="change")return qh(v)}function mx(d,v){return d===v&&(d!==0||1/d===1/v)||d!==d&&v!==v}var Va=typeof Object.is=="function"?Object.is:mx;function Zh(d,v){if(Va(d,v))return!0;if(typeof d!="object"||d===null||typeof v!="object"||v===null)return!1;var b=Object.keys(d),w=Object.keys(v);if(b.length!==w.length)return!1;for(w=0;w<b.length;w++){var I=b[w];if(!Mt.call(v,I)||!Va(d[I],v[I]))return!1}return!0}function Yp(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function jh(d,v){var b=Yp(d);d=0;for(var w;b;){if(b.nodeType===3){if(w=d+b.textContent.length,d<=v&&w>=v)return{node:b,offset:v-d};d=w}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=Yp(b)}}function Pi(d,v){return d&&v?d===v?!0:d&&d.nodeType===3?!1:v&&v.nodeType===3?Pi(d,v.parentNode):"contains"in d?d.contains(v):d.compareDocumentPosition?!!(d.compareDocumentPosition(v)&16):!1:!1}function jM(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var v=Tt(d.document);v instanceof d.HTMLIFrameElement;){try{var b=typeof v.contentWindow.location.href=="string"}catch{b=!1}if(b)d=v.contentWindow;else break;v=Tt(d.document)}return v}function yx(d){var v=d&&d.nodeName&&d.nodeName.toLowerCase();return v&&(v==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||v==="textarea"||d.contentEditable==="true")}var KM=al&&"documentMode"in document&&11>=document.documentMode,sl=null,ll=null,Kh=null,zm=!1;function $h(d,v,b){var w=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;zm||sl==null||sl!==Tt(w)||(w=sl,"selectionStart"in w&&yx(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Kh&&Zh(Kh,w)||(Kh=w,w=jT(ll,"onSelect"),0<w.length&&(v=new Fp("onSelect","select",null,v,b),d.push({event:v,listeners:w}),v.target=sl)))}function Aa(d,v){var b={};return b[d.toLowerCase()]=v.toLowerCase(),b["Webkit"+d]="webkit"+v,b["Moz"+d]="moz"+v,b}var Df={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},qp={},_x={};al&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete Df.animationend.animation,delete Df.animationiteration.animation,delete Df.animationstart.animation),"TransitionEvent"in window||delete Df.transitionend.transition);function lu(d){if(qp[d])return qp[d];if(!Df[d])return d;var v=Df[d],b;for(b in v)if(v.hasOwnProperty(b)&&b in _x)return qp[d]=v[b];return d}var Bm=lu("animationend"),Zp=lu("animationiteration"),xx=lu("animationstart"),$M=lu("transitionrun"),bL=lu("transitionstart"),QM=lu("transitioncancel"),Sx=lu("transitionend"),as=new Map,jp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jp.push("scrollEnd");function os(d,v){as.set(d,v),De(v,[d])}var Kp=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var v=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(v))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},ss=[],uu=0,Jr=0;function $p(){for(var d=uu,v=Jr=uu=0;v<d;){var b=ss[v];ss[v++]=null;var w=ss[v];ss[v++]=null;var I=ss[v];ss[v++]=null;var O=ss[v];if(ss[v++]=null,w!==null&&I!==null){var W=w.pending;W===null?I.next=I:(I.next=W.next,W.next=I),w.pending=I}O!==0&&ac(b,I,O)}}function ea(d,v,b,w){ss[uu++]=d,ss[uu++]=v,ss[uu++]=b,ss[uu++]=w,Jr|=w,d.lanes|=w,d=d.alternate,d!==null&&(d.lanes|=w)}function km(d,v,b,w){return ea(d,v,b,w),ls(d)}function Ga(d,v){return ea(d,null,null,v),ls(d)}function ac(d,v,b){d.lanes|=b;var w=d.alternate;w!==null&&(w.lanes|=b);for(var I=!1,O=d.return;O!==null;)O.childLanes|=b,w=O.alternate,w!==null&&(w.childLanes|=b),O.tag===22&&(d=O.stateNode,d===null||d._visibility&1||(I=!0)),d=O,O=O.return;return d.tag===3?(O=d.stateNode,I&&v!==null&&(I=31-se(b),d=O.hiddenUpdates,w=d[I],w===null?d[I]=[v]:w.push(v),v.lane=b|536870912),O):null}function ls(d){if(50<Tc)throw Tc=0,Zf=null,Error(n(185));for(var v=d.return;v!==null;)d=v,v=d.return;return d.tag===3?d.stateNode:null}var oc={};function bx(d,v,b,w){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(d,v,b,w){return new bx(d,v,b,w)}function Um(d){return d=d.prototype,!(!d||!d.isReactComponent)}function ao(d,v){var b=d.alternate;return b===null?(b=$i(d.tag,v,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=v,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&65011712,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,v=d.dependencies,b.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b.refCleanup=d.refCleanup,b}function Qh(d,v){d.flags&=65011714;var b=d.alternate;return b===null?(d.childLanes=0,d.lanes=v,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=b.childLanes,d.lanes=b.lanes,d.child=b.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=b.memoizedProps,d.memoizedState=b.memoizedState,d.updateQueue=b.updateQueue,d.type=b.type,v=b.dependencies,d.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),d}function ul(d,v,b,w,I,O){var W=0;if(w=d,typeof d=="function")Um(d)&&(W=1);else if(typeof d=="string")W=_ee(d,b,de.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case P:return d=$i(31,b,v,I),d.elementType=P,d.lanes=O,d;case y:return sc(b.children,I,O,v);case _:W=8,I|=24;break;case x:return d=$i(12,b,v,I|2),d.elementType=x,d.lanes=O,d;case E:return d=$i(13,b,v,I),d.elementType=E,d.lanes=O,d;case D:return d=$i(19,b,v,I),d.elementType=D,d.lanes=O,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case T:W=10;break e;case M:W=9;break e;case C:W=11;break e;case L:W=14;break e;case z:W=16,w=null;break e}W=29,b=Error(n(130,d===null?"null":typeof d,"")),w=null}return v=$i(W,b,v,I),v.elementType=d,v.type=w,v.lanes=O,v}function sc(d,v,b,w){return d=$i(7,d,w,v),d.lanes=b,d}function Fm(d,v,b){return d=$i(6,d,null,v),d.lanes=b,d}function Jh(d){var v=$i(18,null,null,0);return v.stateNode=d,v}function Vm(d,v,b){return v=$i(4,d.children!==null?d.children:[],d.key,v),v.lanes=b,v.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},v}var Qp=new WeakMap;function Po(d,v){if(typeof d=="object"&&d!==null){var b=Qp.get(d);return b!==void 0?b:(v={value:d,source:v,stack:ae(v)},Qp.set(d,v),v)}return{value:d,source:v,stack:ae(v)}}var lc=[],uc=0,ed=null,td=0,oo=[],Wi=0,cu=null,Qi=1,Ps="";function cl(d,v){lc[uc++]=td,lc[uc++]=ed,ed=d,td=v}function JM(d,v,b){oo[Wi++]=Qi,oo[Wi++]=Ps,oo[Wi++]=cu,cu=d;var w=Qi;d=Ps;var I=32-se(w)-1;w&=~(1<<I),b+=1;var O=32-se(v)+I;if(30<O){var W=I-I%5;O=(w&(1<<W)-1).toString(32),w>>=W,I-=W,Qi=1<<32-se(v)+I|b<<I|w,Ps=O+d}else Qi=1<<O|b<<I|w,Ps=d}function fl(d){d.return!==null&&(cl(d,1),JM(d,1,0))}function Gm(d){for(;d===ed;)ed=lc[--uc],lc[uc]=null,td=lc[--uc],lc[uc]=null;for(;d===cu;)cu=oo[--Wi],oo[Wi]=null,Ps=oo[--Wi],oo[Wi]=null,Qi=oo[--Wi],oo[Wi]=null}function Hm(d,v){oo[Wi++]=Qi,oo[Wi++]=Ps,oo[Wi++]=cu,Qi=v.id,Ps=v.overflow,cu=d}var rr=null,Ni=null,$n=!1,fu=null,No=!1,nd=Error(n(519));function hl(d){var v=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(Po(v,d)),nd}function eT(d){var v=d.stateNode,b=d.type,w=d.memoizedProps;switch(v[Ki]=d,v[Br]=w,b){case"dialog":ii("cancel",v),ii("close",v);break;case"iframe":case"object":case"embed":ii("load",v);break;case"video":case"audio":for(b=0;b<Ss.length;b++)ii(Ss[b],v);break;case"source":ii("error",v);break;case"img":case"image":case"link":ii("error",v),ii("load",v);break;case"details":ii("toggle",v);break;case"input":ii("invalid",v),Is(v,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":ii("invalid",v);break;case"textarea":ii("invalid",v),kr(v,w.value,w.defaultValue,w.children)}b=w.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||v.textContent===""+b||w.suppressHydrationWarning===!0||iF(v.textContent,b)?(w.popover!=null&&(ii("beforetoggle",v),ii("toggle",v)),w.onScroll!=null&&ii("scroll",v),w.onScrollEnd!=null&&ii("scrollend",v),w.onClick!=null&&(v.onclick=su),v=!0):v=!1,v||hl(d,!0)}function tT(d){for(rr=d.return;rr;)switch(rr.tag){case 5:case 31:case 13:No=!1;return;case 27:case 3:No=!0;return;default:rr=rr.return}}function id(d){if(d!==rr)return!1;if(!$n)return tT(d),$n=!0,!1;var v=d.tag,b;if((b=v!==3&&v!==27)&&((b=v===5)&&(b=d.type,b=!(b!=="form"&&b!=="button")||kL(d.type,d.memoizedProps)),b=!b),b&&Ni&&hl(d),tT(d),v===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));Ni=hF(d)}else if(v===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));Ni=hF(d)}else v===27?(v=Ni,Md(d.type)?(d=HL,HL=null,Ni=d):Ni=v):Ni=rr?Cl(d.stateNode.nextSibling):null;return!0}function cc(){Ni=rr=null,$n=!1}function Wm(){var d=fu;return d!==null&&(or===null?or=d:or.push.apply(or,d),fu=null),d}function dl(d){fu===null?fu=[d]:fu.push(d)}var rd=Y(null),fc=null,pl=null;function hu(d,v,b){oe(rd,v._currentValue),v._currentValue=b}function vl(d){d._currentValue=rd.current,ee(rd)}function Xm(d,v,b){for(;d!==null;){var w=d.alternate;if((d.childLanes&v)!==v?(d.childLanes|=v,w!==null&&(w.childLanes|=v)):w!==null&&(w.childLanes&v)!==v&&(w.childLanes|=v),d===b)break;d=d.return}}function Ym(d,v,b,w){var I=d.child;for(I!==null&&(I.return=d);I!==null;){var O=I.dependencies;if(O!==null){var W=I.child;O=O.firstContext;e:for(;O!==null;){var J=O;O=I;for(var ue=0;ue<v.length;ue++)if(J.context===v[ue]){O.lanes|=b,J=O.alternate,J!==null&&(J.lanes|=b),Xm(O.return,b,d),w||(W=null);break e}O=J.next}}else if(I.tag===18){if(W=I.return,W===null)throw Error(n(341));W.lanes|=b,O=W.alternate,O!==null&&(O.lanes|=b),Xm(W,b,d),W=null}else W=I.child;if(W!==null)W.return=I;else for(W=I;W!==null;){if(W===d){W=null;break}if(I=W.sibling,I!==null){I.return=W.return,W=I;break}W=W.return}I=W}}function gl(d,v,b,w){d=null;for(var I=v,O=!1;I!==null;){if(!O){if((I.flags&524288)!==0)O=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var W=I.alternate;if(W===null)throw Error(n(387));if(W=W.memoizedProps,W!==null){var J=I.type;Va(I.pendingProps.value,W.value)||(d!==null?d.push(J):d=[J])}}else if(I===Se.current){if(W=I.alternate,W===null)throw Error(n(387));W.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(d!==null?d.push(xS):d=[xS])}I=I.return}d!==null&&Ym(v,d,b,w),v.flags|=262144}function Jp(d){for(d=d.firstContext;d!==null;){if(!Va(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function hc(d){fc=d,pl=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function gn(d){return nT(fc,d)}function ad(d,v){return fc===null&&hc(d),nT(d,v)}function nT(d,v){var b=v._currentValue;if(v={context:v,memoizedValue:b,next:null},pl===null){if(d===null)throw Error(n(308));pl=v,d.dependencies={lanes:0,firstContext:v},d.flags|=524288}else pl=pl.next=v;return b}var iT=typeof AbortController<"u"?AbortController:function(){var d=[],v=this.signal={aborted:!1,addEventListener:function(b,w){d.push(w)}};this.abort=function(){v.aborted=!0,d.forEach(function(b){return b()})}},ML=i.unstable_scheduleCallback,TL=i.unstable_NormalPriority,Tr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mx(){return{controller:new iT,data:new Map,refCount:0}}function Rf(d){d.refCount--,d.refCount===0&&ML(TL,function(){d.controller.abort()})}var Oo=null,qm=0,du=0,us=null;function Tx(d,v){if(Oo===null){var b=Oo=[];qm=0,du=Oe(),us={status:"pending",value:void 0,then:function(w){b.push(w)}}}return qm++,v.then(Ax,Ax),v}function Ax(){if(--qm===0&&Oo!==null){us!==null&&(us.status="fulfilled");var d=Oo;Oo=null,du=0,us=null;for(var v=0;v<d.length;v++)(0,d[v])()}}function Cx(d,v){var b=[],w={status:"pending",value:null,reason:null,then:function(I){b.push(I)}};return d.then(function(){w.status="fulfilled",w.value=v;for(var I=0;I<b.length;I++)(0,b[I])(v)},function(I){for(w.status="rejected",w.reason=I,I=0;I<b.length;I++)(0,b[I])(void 0)}),w}var rT=V.S;V.S=function(d,v){pS=Z(),typeof v=="object"&&v!==null&&typeof v.then=="function"&&Tx(d,v),rT!==null&&rT(d,v)};var dc=Y(null);function Zm(){var d=dc.current;return d!==null?d:Mn.pooledCache}function ev(d,v){v===null?oe(dc,dc.current):oe(dc,v.pool)}function Ex(){var d=Zm();return d===null?null:{parent:Tr._currentValue,pool:d}}var Lf=Error(n(460)),tv=Error(n(474)),kn=Error(n(542)),jm={then:function(){}};function so(d){return d=d.status,d==="fulfilled"||d==="rejected"}function Km(d,v,b){switch(b=d[b],b===void 0?d.push(v):b!==v&&(v.then(su,su),v=b),v.status){case"fulfilled":return v.value;case"rejected":throw d=v.reason,Nf(d),d;default:if(typeof v.status=="string")v.then(su,su);else{if(d=Mn,d!==null&&100<d.shellSuspendCounter)throw Error(n(482));d=v,d.status="pending",d.then(function(w){if(v.status==="pending"){var I=v;I.status="fulfilled",I.value=w}},function(w){if(v.status==="pending"){var I=v;I.status="rejected",I.reason=w}})}switch(v.status){case"fulfilled":return v.value;case"rejected":throw d=v.reason,Nf(d),d}throw ml=v,Lf}}function If(d){try{var v=d._init;return v(d._payload)}catch(b){throw b!==null&&typeof b=="object"&&typeof b.then=="function"?(ml=b,Lf):b}}var ml=null;function Pf(){if(ml===null)throw Error(n(459));var d=ml;return ml=null,d}function Nf(d){if(d===Lf||d===kn)throw Error(n(483))}var Of=null,zf=0;function nv(d){var v=zf;return zf+=1,Of===null&&(Of=[]),Km(Of,d,v)}function cs(d,v){v=v.props.ref,d.ref=v!==void 0?v:null}function od(d,v){throw v.$$typeof===h?Error(n(525)):(d=Object.prototype.toString.call(v),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":d)))}function $m(d){function v(ye,pe){if(d){var we=ye.deletions;we===null?(ye.deletions=[pe],ye.flags|=16):we.push(pe)}}function b(ye,pe){if(!d)return null;for(;pe!==null;)v(ye,pe),pe=pe.sibling;return null}function w(ye){for(var pe=new Map;ye!==null;)ye.key!==null?pe.set(ye.key,ye):pe.set(ye.index,ye),ye=ye.sibling;return pe}function I(ye,pe){return ye=ao(ye,pe),ye.index=0,ye.sibling=null,ye}function O(ye,pe,we){return ye.index=we,d?(we=ye.alternate,we!==null?(we=we.index,we<pe?(ye.flags|=67108866,pe):we):(ye.flags|=67108866,pe)):(ye.flags|=1048576,pe)}function W(ye){return d&&ye.alternate===null&&(ye.flags|=67108866),ye}function J(ye,pe,we,je){return pe===null||pe.tag!==6?(pe=Fm(we,ye.mode,je),pe.return=ye,pe):(pe=I(pe,we),pe.return=ye,pe)}function ue(ye,pe,we,je){var on=we.type;return on===y?Xe(ye,pe,we.props.children,je,we.key):pe!==null&&(pe.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===z&&If(on)===pe.type)?(pe=I(pe,we.props),cs(pe,we),pe.return=ye,pe):(pe=ul(we.type,we.key,we.props,null,ye.mode,je),cs(pe,we),pe.return=ye,pe)}function Ae(ye,pe,we,je){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==we.containerInfo||pe.stateNode.implementation!==we.implementation?(pe=Vm(we,ye.mode,je),pe.return=ye,pe):(pe=I(pe,we.children||[]),pe.return=ye,pe)}function Xe(ye,pe,we,je,on){return pe===null||pe.tag!==7?(pe=sc(we,ye.mode,je,on),pe.return=ye,pe):(pe=I(pe,we),pe.return=ye,pe)}function Ke(ye,pe,we){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=Fm(""+pe,ye.mode,we),pe.return=ye,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case p:return we=ul(pe.type,pe.key,pe.props,null,ye.mode,we),cs(we,pe),we.return=ye,we;case g:return pe=Vm(pe,ye.mode,we),pe.return=ye,pe;case z:return pe=If(pe),Ke(ye,pe,we)}if(q(pe)||G(pe))return pe=sc(pe,ye.mode,we,null),pe.return=ye,pe;if(typeof pe.then=="function")return Ke(ye,nv(pe),we);if(pe.$$typeof===T)return Ke(ye,ad(ye,pe),we);od(ye,pe)}return null}function Le(ye,pe,we,je){var on=pe!==null?pe.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return on!==null?null:J(ye,pe,""+we,je);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case p:return we.key===on?ue(ye,pe,we,je):null;case g:return we.key===on?Ae(ye,pe,we,je):null;case z:return we=If(we),Le(ye,pe,we,je)}if(q(we)||G(we))return on!==null?null:Xe(ye,pe,we,je,null);if(typeof we.then=="function")return Le(ye,pe,nv(we),je);if(we.$$typeof===T)return Le(ye,pe,ad(ye,we),je);od(ye,we)}return null}function Ve(ye,pe,we,je,on){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ye=ye.get(we)||null,J(pe,ye,""+je,on);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case p:return ye=ye.get(je.key===null?we:je.key)||null,ue(pe,ye,je,on);case g:return ye=ye.get(je.key===null?we:je.key)||null,Ae(pe,ye,je,on);case z:return je=If(je),Ve(ye,pe,we,je,on)}if(q(je)||G(je))return ye=ye.get(we)||null,Xe(pe,ye,je,on,null);if(typeof je.then=="function")return Ve(ye,pe,we,nv(je),on);if(je.$$typeof===T)return Ve(ye,pe,we,ad(pe,je),on);od(pe,je)}return null}function qt(ye,pe,we,je){for(var on=null,gi=null,jt=pe,Hn=pe=0,si=null;jt!==null&&Hn<we.length;Hn++){jt.index>Hn?(si=jt,jt=null):si=jt.sibling;var mi=Le(ye,jt,we[Hn],je);if(mi===null){jt===null&&(jt=si);break}d&&jt&&mi.alternate===null&&v(ye,jt),pe=O(mi,pe,Hn),gi===null?on=mi:gi.sibling=mi,gi=mi,jt=si}if(Hn===we.length)return b(ye,jt),$n&&cl(ye,Hn),on;if(jt===null){for(;Hn<we.length;Hn++)jt=Ke(ye,we[Hn],je),jt!==null&&(pe=O(jt,pe,Hn),gi===null?on=jt:gi.sibling=jt,gi=jt);return $n&&cl(ye,Hn),on}for(jt=w(jt);Hn<we.length;Hn++)si=Ve(jt,ye,Hn,we[Hn],je),si!==null&&(d&&si.alternate!==null&&jt.delete(si.key===null?Hn:si.key),pe=O(si,pe,Hn),gi===null?on=si:gi.sibling=si,gi=si);return d&&jt.forEach(function(Ed){return v(ye,Ed)}),$n&&cl(ye,Hn),on}function vn(ye,pe,we,je){if(we==null)throw Error(n(151));for(var on=null,gi=null,jt=pe,Hn=pe=0,si=null,mi=we.next();jt!==null&&!mi.done;Hn++,mi=we.next()){jt.index>Hn?(si=jt,jt=null):si=jt.sibling;var Ed=Le(ye,jt,mi.value,je);if(Ed===null){jt===null&&(jt=si);break}d&&jt&&Ed.alternate===null&&v(ye,jt),pe=O(Ed,pe,Hn),gi===null?on=Ed:gi.sibling=Ed,gi=Ed,jt=si}if(mi.done)return b(ye,jt),$n&&cl(ye,Hn),on;if(jt===null){for(;!mi.done;Hn++,mi=we.next())mi=Ke(ye,mi.value,je),mi!==null&&(pe=O(mi,pe,Hn),gi===null?on=mi:gi.sibling=mi,gi=mi);return $n&&cl(ye,Hn),on}for(jt=w(jt);!mi.done;Hn++,mi=we.next())mi=Ve(jt,ye,Hn,mi.value,je),mi!==null&&(d&&mi.alternate!==null&&jt.delete(mi.key===null?Hn:mi.key),pe=O(mi,pe,Hn),gi===null?on=mi:gi.sibling=mi,gi=mi);return d&&jt.forEach(function(Ree){return v(ye,Ree)}),$n&&cl(ye,Hn),on}function Bi(ye,pe,we,je){if(typeof we=="object"&&we!==null&&we.type===y&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case p:e:{for(var on=we.key;pe!==null;){if(pe.key===on){if(on=we.type,on===y){if(pe.tag===7){b(ye,pe.sibling),je=I(pe,we.props.children),je.return=ye,ye=je;break e}}else if(pe.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===z&&If(on)===pe.type){b(ye,pe.sibling),je=I(pe,we.props),cs(je,we),je.return=ye,ye=je;break e}b(ye,pe);break}else v(ye,pe);pe=pe.sibling}we.type===y?(je=sc(we.props.children,ye.mode,je,we.key),je.return=ye,ye=je):(je=ul(we.type,we.key,we.props,null,ye.mode,je),cs(je,we),je.return=ye,ye=je)}return W(ye);case g:e:{for(on=we.key;pe!==null;){if(pe.key===on)if(pe.tag===4&&pe.stateNode.containerInfo===we.containerInfo&&pe.stateNode.implementation===we.implementation){b(ye,pe.sibling),je=I(pe,we.children||[]),je.return=ye,ye=je;break e}else{b(ye,pe);break}else v(ye,pe);pe=pe.sibling}je=Vm(we,ye.mode,je),je.return=ye,ye=je}return W(ye);case z:return we=If(we),Bi(ye,pe,we,je)}if(q(we))return qt(ye,pe,we,je);if(G(we)){if(on=G(we),typeof on!="function")throw Error(n(150));return we=on.call(we),vn(ye,pe,we,je)}if(typeof we.then=="function")return Bi(ye,pe,nv(we),je);if(we.$$typeof===T)return Bi(ye,pe,ad(ye,we),je);od(ye,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,pe!==null&&pe.tag===6?(b(ye,pe.sibling),je=I(pe,we),je.return=ye,ye=je):(b(ye,pe),je=Fm(we,ye.mode,je),je.return=ye,ye=je),W(ye)):b(ye,pe)}return function(ye,pe,we,je){try{zf=0;var on=Bi(ye,pe,we,je);return Of=null,on}catch(jt){if(jt===Lf||jt===kn)throw jt;var gi=$i(29,jt,null,ye.mode);return gi.lanes=je,gi.return=ye,gi}}}var pu=$m(!0),Qm=$m(!1),Ha=!1;function iv(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dx(d,v){d=d.updateQueue,v.updateQueue===d&&(v.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function vu(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function pc(d,v,b){var w=d.updateQueue;if(w===null)return null;if(w=w.shared,(Kt&2)!==0){var I=w.pending;return I===null?v.next=v:(v.next=I.next,I.next=v),w.pending=v,v=ls(d),ac(d,null,b),v}return ea(d,w,v,b),ls(d)}function vc(d,v,b){if(v=v.updateQueue,v!==null&&(v=v.shared,(b&4194048)!==0)){var w=v.lanes;w&=d.pendingLanes,b|=w,v.lanes=b,Qu(d,b)}}function an(d,v){var b=d.updateQueue,w=d.alternate;if(w!==null&&(w=w.updateQueue,b===w)){var I=null,O=null;if(b=b.firstBaseUpdate,b!==null){do{var W={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};O===null?I=O=W:O=O.next=W,b=b.next}while(b!==null);O===null?I=O=v:O=O.next=v}else I=O=v;b={baseState:w.baseState,firstBaseUpdate:I,lastBaseUpdate:O,shared:w.shared,callbacks:w.callbacks},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=v:d.next=v,b.lastBaseUpdate=v}var Rx=!1;function rv(){if(Rx){var d=us;if(d!==null)throw d}}function sd(d,v,b,w){Rx=!1;var I=d.updateQueue;Ha=!1;var O=I.firstBaseUpdate,W=I.lastBaseUpdate,J=I.shared.pending;if(J!==null){I.shared.pending=null;var ue=J,Ae=ue.next;ue.next=null,W===null?O=Ae:W.next=Ae,W=ue;var Xe=d.alternate;Xe!==null&&(Xe=Xe.updateQueue,J=Xe.lastBaseUpdate,J!==W&&(J===null?Xe.firstBaseUpdate=Ae:J.next=Ae,Xe.lastBaseUpdate=ue))}if(O!==null){var Ke=I.baseState;W=0,Xe=Ae=ue=null,J=O;do{var Le=J.lane&-536870913,Ve=Le!==J.lane;if(Ve?(On&Le)===Le:(w&Le)===Le){Le!==0&&Le===du&&(Rx=!0),Xe!==null&&(Xe=Xe.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var qt=d,vn=J;Le=v;var Bi=b;switch(vn.tag){case 1:if(qt=vn.payload,typeof qt=="function"){Ke=qt.call(Bi,Ke,Le);break e}Ke=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=vn.payload,Le=typeof qt=="function"?qt.call(Bi,Ke,Le):qt,Le==null)break e;Ke=f({},Ke,Le);break e;case 2:Ha=!0}}Le=J.callback,Le!==null&&(d.flags|=64,Ve&&(d.flags|=8192),Ve=I.callbacks,Ve===null?I.callbacks=[Le]:Ve.push(Le))}else Ve={lane:Le,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Xe===null?(Ae=Xe=Ve,ue=Ke):Xe=Xe.next=Ve,W|=Le;if(J=J.next,J===null){if(J=I.shared.pending,J===null)break;Ve=J,J=Ve.next,Ve.next=null,I.lastBaseUpdate=Ve,I.shared.pending=null}}while(!0);Xe===null&&(ue=Ke),I.baseState=ue,I.firstBaseUpdate=Ae,I.lastBaseUpdate=Xe,O===null&&(I.shared.lanes=0),Tl|=W,d.lanes=W,d.memoizedState=Ke}}function ld(d,v){if(typeof d!="function")throw Error(n(191,d));d.call(v)}function aT(d,v){var b=d.callbacks;if(b!==null)for(d.callbacks=null,d=0;d<b.length;d++)ld(b[d],v)}var ud=Y(null),Jm=Y(0);function oT(d,v){d=Uo,oe(Jm,d),oe(ud,v),Uo=d|v.baseLanes}function Lx(){oe(Jm,Uo),oe(ud,ud.current)}function av(){Uo=Jm.current,ee(ud),ee(Jm)}var lo=Y(null),Wa=null;function gu(d){var v=d.alternate;oe(Qn,Qn.current&1),oe(lo,d),Wa===null&&(v===null||ud.current!==null||v.memoizedState!==null)&&(Wa=d)}function Ix(d){oe(Qn,Qn.current),oe(lo,d),Wa===null&&(Wa=d)}function sT(d){d.tag===22?(oe(Qn,Qn.current),oe(lo,d),Wa===null&&(Wa=d)):uo()}function uo(){oe(Qn,Qn.current),oe(lo,lo.current)}function cr(d){ee(lo),Wa===d&&(Wa=null),ee(Qn)}var Qn=Y(0);function zo(d){for(var v=d;v!==null;){if(v.tag===13){var b=v.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||VL(b)||GL(b)))return v}else if(v.tag===19&&(v.memoizedProps.revealOrder==="forwards"||v.memoizedProps.revealOrder==="backwards"||v.memoizedProps.revealOrder==="unstable_legacy-backwards"||v.memoizedProps.revealOrder==="together")){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Xi=0,Dn=null,Ai=null,qn=null,fs=!1,cd=!1,Bf=!1,ey=0,ov=0,fd=null,Px=0;function Ji(){throw Error(n(321))}function Nx(d,v){if(v===null)return!1;for(var b=0;b<v.length&&b<d.length;b++)if(!Va(d[b],v[b]))return!1;return!0}function ty(d,v,b,w,I,O){return Xi=O,Dn=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,V.H=d===null||d.memoizedState===null?UT:eS,Bf=!1,O=b(w,I),Bf=!1,cd&&(O=kf(v,b,w,I)),lT(d),O}function lT(d){V.H=hd;var v=Ai!==null&&Ai.next!==null;if(Xi=0,qn=Ai=Dn=null,fs=!1,ov=0,fd=null,v)throw Error(n(300));d===null||wr||(d=d.dependencies,d!==null&&Jp(d)&&(wr=!0))}function kf(d,v,b,w){Dn=d;var I=0;do{if(cd&&(fd=null),ov=0,cd=!1,25<=I)throw Error(n(301));if(I+=1,qn=Ai=null,d.updateQueue!=null){var O=d.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}V.H=hs,O=v(b,w)}while(cd);return O}function Uf(){var d=V.H,v=d.useState()[0];return v=typeof v.then=="function"?sv(v):v,d=d.useState()[0],(Ai!==null?Ai.memoizedState:null)!==d&&(Dn.flags|=1024),v}function Ox(){var d=ey!==0;return ey=0,d}function zx(d,v,b){v.updateQueue=d.updateQueue,v.flags&=-2053,d.lanes&=~b}function Bx(d){if(fs){for(d=d.memoizedState;d!==null;){var v=d.queue;v!==null&&(v.pending=null),d=d.next}fs=!1}Xi=0,qn=Ai=Dn=null,cd=!1,ov=ey=0,fd=null}function Ur(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?Dn.memoizedState=qn=d:qn=qn.next=d,qn}function fr(){if(Ai===null){var d=Dn.alternate;d=d!==null?d.memoizedState:null}else d=Ai.next;var v=qn===null?Dn.memoizedState:qn.next;if(v!==null)qn=v,Ai=d;else{if(d===null)throw Dn.alternate===null?Error(n(467)):Error(n(310));Ai=d,d={memoizedState:Ai.memoizedState,baseState:Ai.baseState,baseQueue:Ai.baseQueue,queue:Ai.queue,next:null},qn===null?Dn.memoizedState=qn=d:qn=qn.next=d}return qn}function ny(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sv(d){var v=ov;return ov+=1,fd===null&&(fd=[]),d=Km(fd,d,v),v=Dn,(qn===null?v.memoizedState:qn.next)===null&&(v=v.alternate,V.H=v===null||v.memoizedState===null?UT:eS),d}function gc(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return sv(d);if(d.$$typeof===T)return gn(d)}throw Error(n(438,String(d)))}function kx(d){var v=null,b=Dn.updateQueue;if(b!==null&&(v=b.memoCache),v==null){var w=Dn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(v={data:w.data.map(function(I){return I.slice()}),index:0})))}if(v==null&&(v={data:[],index:0}),b===null&&(b=ny(),Dn.updateQueue=b),b.memoCache=v,b=v.data[v.index],b===void 0)for(b=v.data[v.index]=Array(d),w=0;w<d;w++)b[w]=N;return v.index++,b}function mu(d,v){return typeof v=="function"?v(d):v}function iy(d){var v=fr();return Ux(v,Ai,d)}function Ux(d,v,b){var w=d.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=b;var I=d.baseQueue,O=w.pending;if(O!==null){if(I!==null){var W=I.next;I.next=O.next,O.next=W}v.baseQueue=I=O,w.pending=null}if(O=d.baseState,I===null)d.memoizedState=O;else{v=I.next;var J=W=null,ue=null,Ae=v,Xe=!1;do{var Ke=Ae.lane&-536870913;if(Ke!==Ae.lane?(On&Ke)===Ke:(Xi&Ke)===Ke){var Le=Ae.revertLane;if(Le===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),Ke===du&&(Xe=!0);else if((Xi&Le)===Le){Ae=Ae.next,Le===du&&(Xe=!0);continue}else Ke={lane:0,revertLane:Ae.revertLane,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ue===null?(J=ue=Ke,W=O):ue=ue.next=Ke,Dn.lanes|=Le,Tl|=Le;Ke=Ae.action,Bf&&b(O,Ke),O=Ae.hasEagerState?Ae.eagerState:b(O,Ke)}else Le={lane:Ke,revertLane:Ae.revertLane,gesture:Ae.gesture,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ue===null?(J=ue=Le,W=O):ue=ue.next=Le,Dn.lanes|=Ke,Tl|=Ke;Ae=Ae.next}while(Ae!==null&&Ae!==v);if(ue===null?W=O:ue.next=J,!Va(O,d.memoizedState)&&(wr=!0,Xe&&(b=us,b!==null)))throw b;d.memoizedState=O,d.baseState=W,d.baseQueue=ue,w.lastRenderedState=O}return I===null&&(w.lanes=0),[d.memoizedState,w.dispatch]}function Fx(d){var v=fr(),b=v.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=d;var w=b.dispatch,I=b.pending,O=v.memoizedState;if(I!==null){b.pending=null;var W=I=I.next;do O=d(O,W.action),W=W.next;while(W!==I);Va(O,v.memoizedState)||(wr=!0),v.memoizedState=O,v.baseQueue===null&&(v.baseState=O),b.lastRenderedState=O}return[O,w]}function uT(d,v,b){var w=Dn,I=fr(),O=$n;if(O){if(b===void 0)throw Error(n(407));b=b()}else b=v();var W=!Va((Ai||I).memoizedState,b);if(W&&(I.memoizedState=b,wr=!0),I=I.queue,Zx(hT.bind(null,w,I,d),[d]),I.getSnapshot!==v||W||qn!==null&&qn.memoizedState.tag&1){if(w.flags|=2048,mc(9,{destroy:void 0},fT.bind(null,w,I,b,v),null),Mn===null)throw Error(n(349));O||(Xi&127)!==0||cT(w,v,b)}return b}function cT(d,v,b){d.flags|=16384,d={getSnapshot:v,value:b},v=Dn.updateQueue,v===null?(v=ny(),Dn.updateQueue=v,v.stores=[d]):(b=v.stores,b===null?v.stores=[d]:b.push(d))}function fT(d,v,b,w){v.value=b,v.getSnapshot=w,dT(v)&&pT(d)}function hT(d,v,b){return b(function(){dT(v)&&pT(d)})}function dT(d){var v=d.getSnapshot;d=d.value;try{var b=v();return!Va(d,b)}catch{return!0}}function pT(d){var v=Ga(d,2);v!==null&&Fn(v,d,2)}function Vx(d){var v=Ur();if(typeof d=="function"){var b=d;if(d=b(),Bf){wt(!0);try{b()}finally{wt(!1)}}}return v.memoizedState=v.baseState=d,v.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:d},v}function Gx(d,v,b,w){return d.baseState=b,Ux(d,Ai,typeof w=="function"?w:mu)}function wL(d,v,b,w,I){if(sy(d))throw Error(n(485));if(d=v.action,d!==null){var O={payload:I,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){O.listeners.push(W)}};V.T!==null?b(!0):O.isTransition=!1,w(O),b=v.pending,b===null?(O.next=v.pending=O,vT(v,O)):(O.next=b.next,v.pending=b.next=O)}}function vT(d,v){var b=v.action,w=v.payload,I=d.state;if(v.isTransition){var O=V.T,W={};V.T=W;try{var J=b(I,w),ue=V.S;ue!==null&&ue(W,J),gT(d,v,J)}catch(Ae){Hx(d,v,Ae)}finally{O!==null&&W.types!==null&&(O.types=W.types),V.T=O}}else try{O=b(I,w),gT(d,v,O)}catch(Ae){Hx(d,v,Ae)}}function gT(d,v,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(w){mT(d,v,w)},function(w){return Hx(d,v,w)}):mT(d,v,b)}function mT(d,v,b){v.status="fulfilled",v.value=b,yT(v),d.state=b,v=d.pending,v!==null&&(b=v.next,b===v?d.pending=null:(b=b.next,v.next=b,vT(d,b)))}function Hx(d,v,b){var w=d.pending;if(d.pending=null,w!==null){w=w.next;do v.status="rejected",v.reason=b,yT(v),v=v.next;while(v!==w)}d.action=null}function yT(d){d=d.listeners;for(var v=0;v<d.length;v++)(0,d[v])()}function Wx(d,v){return v}function Xx(d,v){if($n){var b=Mn.formState;if(b!==null){e:{var w=Dn;if($n){if(Ni){t:{for(var I=Ni,O=No;I.nodeType!==8;){if(!O){I=null;break t}if(I=Cl(I.nextSibling),I===null){I=null;break t}}O=I.data,I=O==="F!"||O==="F"?I:null}if(I){Ni=Cl(I.nextSibling),w=I.data==="F!";break e}}hl(w)}w=!1}w&&(v=b[0])}}return b=Ur(),b.memoizedState=b.baseState=v,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wx,lastRenderedState:v},b.queue=w,b=zT.bind(null,Dn,w),w.dispatch=b,w=Vx(!1),O=Jx.bind(null,Dn,!1,w.queue),w=Ur(),I={state:v,dispatch:null,action:d,pending:null},w.queue=I,b=wL.bind(null,Dn,I,O,b),I.dispatch=b,w.memoizedState=d,[v,b,!1]}function _T(d){var v=fr();return Yx(v,Ai,d)}function Yx(d,v,b){if(v=Ux(d,v,Wx)[0],d=iy(mu)[0],typeof v=="object"&&v!==null&&typeof v.then=="function")try{var w=sv(v)}catch(W){throw W===Lf?kn:W}else w=v;v=fr();var I=v.queue,O=I.dispatch;return b!==v.memoizedState&&(Dn.flags|=2048,mc(9,{destroy:void 0},xT.bind(null,I,b),null)),[w,O,d]}function xT(d,v){d.action=v}function qx(d){var v=fr(),b=Ai;if(b!==null)return Yx(v,b,d);fr(),v=v.memoizedState,b=fr();var w=b.queue.dispatch;return b.memoizedState=d,[v,w,!1]}function mc(d,v,b,w){return d={tag:d,create:b,deps:w,inst:v,next:null},v=Dn.updateQueue,v===null&&(v=ny(),Dn.updateQueue=v),b=v.lastEffect,b===null?v.lastEffect=d.next=d:(w=b.next,b.next=d,d.next=w,v.lastEffect=d),d}function ry(){return fr().memoizedState}function ay(d,v,b,w){var I=Ur();Dn.flags|=d,I.memoizedState=mc(1|v,{destroy:void 0},b,w===void 0?null:w)}function oy(d,v,b,w){var I=fr();w=w===void 0?null:w;var O=I.memoizedState.inst;Ai!==null&&w!==null&&Nx(w,Ai.memoizedState.deps)?I.memoizedState=mc(v,O,b,w):(Dn.flags|=d,I.memoizedState=mc(1|v,O,b,w))}function ST(d,v){ay(8390656,8,d,v)}function Zx(d,v){oy(2048,8,d,v)}function bT(d){Dn.flags|=4;var v=Dn.updateQueue;if(v===null)v=ny(),Dn.updateQueue=v,v.events=[d];else{var b=v.events;b===null?v.events=[d]:b.push(d)}}function MT(d){var v=fr().memoizedState;return bT({ref:v,nextImpl:d}),function(){if((Kt&2)!==0)throw Error(n(440));return v.impl.apply(void 0,arguments)}}function TT(d,v){return oy(4,2,d,v)}function wT(d,v){return oy(4,4,d,v)}function AT(d,v){if(typeof v=="function"){d=d();var b=v(d);return function(){typeof b=="function"?b():v(null)}}if(v!=null)return d=d(),v.current=d,function(){v.current=null}}function CT(d,v,b){b=b!=null?b.concat([d]):null,oy(4,4,AT.bind(null,v,d),b)}function jx(){}function ET(d,v){var b=fr();v=v===void 0?null:v;var w=b.memoizedState;return v!==null&&Nx(v,w[1])?w[0]:(b.memoizedState=[d,v],d)}function DT(d,v){var b=fr();v=v===void 0?null:v;var w=b.memoizedState;if(v!==null&&Nx(v,w[1]))return w[0];if(w=d(),Bf){wt(!0);try{d()}finally{wt(!1)}}return b.memoizedState=[w,v],w}function Kx(d,v,b){return b===void 0||(Xi&1073741824)!==0&&(On&261930)===0?d.memoizedState=v:(d.memoizedState=b,d=Xn(),Dn.lanes|=d,Tl|=d,b)}function RT(d,v,b,w){return Va(b,v)?b:ud.current!==null?(d=Kx(d,b,w),Va(d,v)||(wr=!0),d):(Xi&42)===0||(Xi&1073741824)!==0&&(On&261930)===0?(wr=!0,d.memoizedState=b):(d=Xn(),Dn.lanes|=d,Tl|=d,v)}function LT(d,v,b,w,I){var O=j.p;j.p=O!==0&&8>O?O:8;var W=V.T,J={};V.T=J,Jx(d,!1,v,b);try{var ue=I(),Ae=V.S;if(Ae!==null&&Ae(J,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Xe=Cx(ue,w);lv(d,v,Xe,Vo(d))}else lv(d,v,w,Vo(d))}catch(Ke){lv(d,v,{then:function(){},status:"rejected",reason:Ke},Vo())}finally{j.p=O,W!==null&&J.types!==null&&(W.types=J.types),V.T=W}}function AL(){}function $x(d,v,b,w){if(d.tag!==5)throw Error(n(476));var I=IT(d).queue;LT(d,I,v,K,b===null?AL:function(){return PT(d),b(w)})}function IT(d){var v=d.memoizedState;if(v!==null)return v;v={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:K},next:null};var b={};return v.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:b},next:null},d.memoizedState=v,d=d.alternate,d!==null&&(d.memoizedState=v),v}function PT(d){var v=IT(d);v.next===null&&(v=d.alternate.memoizedState),lv(d,v.next.queue,{},Vo())}function Qx(){return gn(xS)}function NT(){return fr().memoizedState}function OT(){return fr().memoizedState}function CL(d){for(var v=d.return;v!==null;){switch(v.tag){case 24:case 3:var b=Vo();d=vu(b);var w=pc(v,d,b);w!==null&&(Fn(w,v,b),vc(w,v,b)),v={cache:Mx()},d.payload=v;return}v=v.return}}function EL(d,v,b){var w=Vo();b={lane:w,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},sy(d)?BT(v,b):(b=km(d,v,b,w),b!==null&&(Fn(b,d,w),kT(b,v,w)))}function zT(d,v,b){var w=Vo();lv(d,v,b,w)}function lv(d,v,b,w){var I={lane:w,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null};if(sy(d))BT(v,I);else{var O=d.alternate;if(d.lanes===0&&(O===null||O.lanes===0)&&(O=v.lastRenderedReducer,O!==null))try{var W=v.lastRenderedState,J=O(W,b);if(I.hasEagerState=!0,I.eagerState=J,Va(J,W))return ea(d,v,I,0),Mn===null&&$p(),!1}catch{}if(b=km(d,v,I,w),b!==null)return Fn(b,d,w),kT(b,v,w),!0}return!1}function Jx(d,v,b,w){if(w={lane:2,revertLane:Oe(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},sy(d)){if(v)throw Error(n(479))}else v=km(d,b,w,2),v!==null&&Fn(v,d,2)}function sy(d){var v=d.alternate;return d===Dn||v!==null&&v===Dn}function BT(d,v){cd=fs=!0;var b=d.pending;b===null?v.next=v:(v.next=b.next,b.next=v),d.pending=v}function kT(d,v,b){if((b&4194048)!==0){var w=v.lanes;w&=d.pendingLanes,b|=w,v.lanes=b,Qu(d,b)}}var hd={readContext:gn,use:gc,useCallback:Ji,useContext:Ji,useEffect:Ji,useImperativeHandle:Ji,useLayoutEffect:Ji,useInsertionEffect:Ji,useMemo:Ji,useReducer:Ji,useRef:Ji,useState:Ji,useDebugValue:Ji,useDeferredValue:Ji,useTransition:Ji,useSyncExternalStore:Ji,useId:Ji,useHostTransitionStatus:Ji,useFormState:Ji,useActionState:Ji,useOptimistic:Ji,useMemoCache:Ji,useCacheRefresh:Ji};hd.useEffectEvent=Ji;var UT={readContext:gn,use:gc,useCallback:function(d,v){return Ur().memoizedState=[d,v===void 0?null:v],d},useContext:gn,useEffect:ST,useImperativeHandle:function(d,v,b){b=b!=null?b.concat([d]):null,ay(4194308,4,AT.bind(null,v,d),b)},useLayoutEffect:function(d,v){return ay(4194308,4,d,v)},useInsertionEffect:function(d,v){ay(4,2,d,v)},useMemo:function(d,v){var b=Ur();v=v===void 0?null:v;var w=d();if(Bf){wt(!0);try{d()}finally{wt(!1)}}return b.memoizedState=[w,v],w},useReducer:function(d,v,b){var w=Ur();if(b!==void 0){var I=b(v);if(Bf){wt(!0);try{b(v)}finally{wt(!1)}}}else I=v;return w.memoizedState=w.baseState=I,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:I},w.queue=d,d=d.dispatch=EL.bind(null,Dn,d),[w.memoizedState,d]},useRef:function(d){var v=Ur();return d={current:d},v.memoizedState=d},useState:function(d){d=Vx(d);var v=d.queue,b=zT.bind(null,Dn,v);return v.dispatch=b,[d.memoizedState,b]},useDebugValue:jx,useDeferredValue:function(d,v){var b=Ur();return Kx(b,d,v)},useTransition:function(){var d=Vx(!1);return d=LT.bind(null,Dn,d.queue,!0,!1),Ur().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,v,b){var w=Dn,I=Ur();if($n){if(b===void 0)throw Error(n(407));b=b()}else{if(b=v(),Mn===null)throw Error(n(349));(On&127)!==0||cT(w,v,b)}I.memoizedState=b;var O={value:b,getSnapshot:v};return I.queue=O,ST(hT.bind(null,w,O,d),[d]),w.flags|=2048,mc(9,{destroy:void 0},fT.bind(null,w,O,b,v),null),b},useId:function(){var d=Ur(),v=Mn.identifierPrefix;if($n){var b=Ps,w=Qi;b=(w&~(1<<32-se(w)-1)).toString(32)+b,v="_"+v+"R_"+b,b=ey++,0<b&&(v+="H"+b.toString(32)),v+="_"}else b=Px++,v="_"+v+"r_"+b.toString(32)+"_";return d.memoizedState=v},useHostTransitionStatus:Qx,useFormState:Xx,useActionState:Xx,useOptimistic:function(d){var v=Ur();v.memoizedState=v.baseState=d;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return v.queue=b,v=Jx.bind(null,Dn,!0,b),b.dispatch=v,[d,v]},useMemoCache:kx,useCacheRefresh:function(){return Ur().memoizedState=CL.bind(null,Dn)},useEffectEvent:function(d){var v=Ur(),b={impl:d};return v.memoizedState=b,function(){if((Kt&2)!==0)throw Error(n(440));return b.impl.apply(void 0,arguments)}}},eS={readContext:gn,use:gc,useCallback:ET,useContext:gn,useEffect:Zx,useImperativeHandle:CT,useInsertionEffect:TT,useLayoutEffect:wT,useMemo:DT,useReducer:iy,useRef:ry,useState:function(){return iy(mu)},useDebugValue:jx,useDeferredValue:function(d,v){var b=fr();return RT(b,Ai.memoizedState,d,v)},useTransition:function(){var d=iy(mu)[0],v=fr().memoizedState;return[typeof d=="boolean"?d:sv(d),v]},useSyncExternalStore:uT,useId:NT,useHostTransitionStatus:Qx,useFormState:_T,useActionState:_T,useOptimistic:function(d,v){var b=fr();return Gx(b,Ai,d,v)},useMemoCache:kx,useCacheRefresh:OT};eS.useEffectEvent=MT;var hs={readContext:gn,use:gc,useCallback:ET,useContext:gn,useEffect:Zx,useImperativeHandle:CT,useInsertionEffect:TT,useLayoutEffect:wT,useMemo:DT,useReducer:Fx,useRef:ry,useState:function(){return Fx(mu)},useDebugValue:jx,useDeferredValue:function(d,v){var b=fr();return Ai===null?Kx(b,d,v):RT(b,Ai.memoizedState,d,v)},useTransition:function(){var d=Fx(mu)[0],v=fr().memoizedState;return[typeof d=="boolean"?d:sv(d),v]},useSyncExternalStore:uT,useId:NT,useHostTransitionStatus:Qx,useFormState:qx,useActionState:qx,useOptimistic:function(d,v){var b=fr();return Ai!==null?Gx(b,Ai,d,v):(b.baseState=d,[d,b.queue.dispatch])},useMemoCache:kx,useCacheRefresh:OT};hs.useEffectEvent=MT;function ly(d,v,b,w){v=d.memoizedState,b=b(w,v),b=b==null?v:f({},v,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}var uv={enqueueSetState:function(d,v,b){d=d._reactInternals;var w=Vo(),I=vu(w);I.payload=v,b!=null&&(I.callback=b),v=pc(d,I,w),v!==null&&(Fn(v,d,w),vc(v,d,w))},enqueueReplaceState:function(d,v,b){d=d._reactInternals;var w=Vo(),I=vu(w);I.tag=1,I.payload=v,b!=null&&(I.callback=b),v=pc(d,I,w),v!==null&&(Fn(v,d,w),vc(v,d,w))},enqueueForceUpdate:function(d,v){d=d._reactInternals;var b=Vo(),w=vu(b);w.tag=2,v!=null&&(w.callback=v),v=pc(d,w,b),v!==null&&(Fn(v,d,b),vc(v,d,b))}};function tS(d,v,b,w,I,O,W){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(w,O,W):v.prototype&&v.prototype.isPureReactComponent?!Zh(b,w)||!Zh(I,O):!0}function nS(d,v,b,w){d=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(b,w),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(b,w),v.state!==d&&uv.enqueueReplaceState(v,v.state,null)}function yc(d,v){var b=v;if("ref"in v){b={};for(var w in v)w!=="ref"&&(b[w]=v[w])}if(d=d.defaultProps){b===v&&(b=f({},b));for(var I in d)b[I]===void 0&&(b[I]=d[I])}return b}function FT(d){Kp(d)}function iS(d){console.error(d)}function rS(d){Kp(d)}function uy(d,v){try{var b=d.onUncaughtError;b(v.value,{componentStack:v.stack})}catch(w){setTimeout(function(){throw w})}}function VT(d,v,b){try{var w=d.onCaughtError;w(b.value,{componentStack:b.stack,errorBoundary:v.tag===1?v.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function aS(d,v,b){return b=vu(b),b.tag=3,b.payload={element:null},b.callback=function(){uy(d,v)},b}function oS(d){return d=vu(d),d.tag=3,d}function GT(d,v,b,w){var I=b.type.getDerivedStateFromError;if(typeof I=="function"){var O=w.value;d.payload=function(){return I(O)},d.callback=function(){VT(v,b,w)}}var W=b.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(d.callback=function(){VT(v,b,w),typeof I!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var J=w.stack;this.componentDidCatch(w.value,{componentStack:J!==null?J:""})})}function Fr(d,v,b,w,I){if(b.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(v=b.alternate,v!==null&&gl(v,b,I,!0),b=lo.current,b!==null){switch(b.tag){case 31:case 13:return Wa===null?_d():b.alternate===null&&er===0&&(er=3),b.flags&=-257,b.flags|=65536,b.lanes=I,w===jm?b.flags|=16384:(v=b.updateQueue,v===null?b.updateQueue=new Set([w]):v.add(w),Sv(d,w,I)),!1;case 22:return b.flags|=65536,w===jm?b.flags|=16384:(v=b.updateQueue,v===null?(v={transitions:null,markerInstances:null,retryQueue:new Set([w])},b.updateQueue=v):(b=v.retryQueue,b===null?v.retryQueue=new Set([w]):b.add(w)),Sv(d,w,I)),!1}throw Error(n(435,b.tag))}return Sv(d,w,I),_d(),!1}if($n)return v=lo.current,v!==null?((v.flags&65536)===0&&(v.flags|=256),v.flags|=65536,v.lanes=I,w!==nd&&(d=Error(n(422),{cause:w}),dl(Po(d,b)))):(w!==nd&&(v=Error(n(423),{cause:w}),dl(Po(v,b))),d=d.current.alternate,d.flags|=65536,I&=-I,d.lanes|=I,w=Po(w,b),I=aS(d.stateNode,w,I),an(d,I),er!==4&&(er=2)),!1;var O=Error(n(520),{cause:w});if(O=Po(O,b),qf===null?qf=[O]:qf.push(O),er!==4&&(er=2),v===null)return!0;w=Po(w,b),b=v;do{switch(b.tag){case 3:return b.flags|=65536,d=I&-I,b.lanes|=d,d=aS(b.stateNode,w,d),an(b,d),!1;case 1:if(v=b.type,O=b.stateNode,(b.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(pr===null||!pr.has(O))))return b.flags|=65536,I&=-I,b.lanes|=I,I=oS(I),GT(I,d,b,w),an(b,I),!1}b=b.return}while(b!==null);return!1}var cy=Error(n(461)),wr=!1;function ta(d,v,b,w){v.child=d===null?Qm(v,null,b,w):pu(v,d.child,b,w)}function sS(d,v,b,w,I){b=b.render;var O=v.ref;if("ref"in w){var W={};for(var J in w)J!=="ref"&&(W[J]=w[J])}else W=w;return hc(v),w=ty(d,v,b,W,O,I),J=Ox(),d!==null&&!wr?(zx(d,v,I),hr(d,v,I)):($n&&J&&fl(v),v.flags|=1,ta(d,v,w,I),v.child)}function Ff(d,v,b,w,I){if(d===null){var O=b.type;return typeof O=="function"&&!Um(O)&&O.defaultProps===void 0&&b.compare===null?(v.tag=15,v.type=O,fy(d,v,O,w,I)):(d=ul(b.type,null,w,v,v.mode,I),d.ref=v.ref,d.return=v,v.child=d)}if(O=d.child,!my(d,I)){var W=O.memoizedProps;if(b=b.compare,b=b!==null?b:Zh,b(W,w)&&d.ref===v.ref)return hr(d,v,I)}return v.flags|=1,d=ao(O,w),d.ref=v.ref,d.return=v,v.child=d}function fy(d,v,b,w,I){if(d!==null){var O=d.memoizedProps;if(Zh(O,w)&&d.ref===v.ref)if(wr=!1,v.pendingProps=w=O,my(d,I))(d.flags&131072)!==0&&(wr=!0);else return v.lanes=d.lanes,hr(d,v,I)}return dd(d,v,b,w,I)}function Vf(d,v,b,w){var I=w.children,O=d!==null?d.memoizedState:null;if(d===null&&v.stateNode===null&&(v.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((v.flags&128)!==0){if(O=O!==null?O.baseLanes|b:b,d!==null){for(w=v.child=d.child,I=0;w!==null;)I=I|w.lanes|w.childLanes,w=w.sibling;w=I&~O}else w=0,v.child=null;return co(d,v,O,b,w)}if((b&536870912)!==0)v.memoizedState={baseLanes:0,cachePool:null},d!==null&&ev(v,O!==null?O.cachePool:null),O!==null?oT(v,O):Lx(),sT(v);else return w=v.lanes=536870912,co(d,v,O!==null?O.baseLanes|b:b,b,w)}else O!==null?(ev(v,O.cachePool),oT(v,O),uo(),v.memoizedState=null):(d!==null&&ev(v,null),Lx(),uo());return ta(d,v,I,b),v.child}function yl(d,v){return d!==null&&d.tag===22||v.stateNode!==null||(v.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.sibling}function co(d,v,b,w,I){var O=Zm();return O=O===null?null:{parent:Tr._currentValue,pool:O},v.memoizedState={baseLanes:b,cachePool:O},d!==null&&ev(v,null),Lx(),sT(v),d!==null&&gl(d,v,w,!0),v.childLanes=I,null}function hy(d,v){return v=gy({mode:v.mode,children:v.children},d.mode),v.ref=d.ref,d.child=v,v.return=d,v}function HT(d,v,b){return pu(v,d.child,null,b),d=hy(v,v.pendingProps),d.flags|=2,cr(v),v.memoizedState=null,d}function dy(d,v,b){var w=v.pendingProps,I=(v.flags&128)!==0;if(v.flags&=-129,d===null){if($n){if(w.mode==="hidden")return d=hy(v,w),v.lanes=536870912,yl(null,d);if(Ix(v),(d=Ni)?(d=fF(d,No),d=d!==null&&d.data==="&"?d:null,d!==null&&(v.memoizedState={dehydrated:d,treeContext:cu!==null?{id:Qi,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},b=Jh(d),b.return=v,v.child=b,rr=v,Ni=null)):d=null,d===null)throw hl(v);return v.lanes=536870912,null}return hy(v,w)}var O=d.memoizedState;if(O!==null){var W=O.dehydrated;if(Ix(v),I)if(v.flags&256)v.flags&=-257,v=HT(d,v,b);else if(v.memoizedState!==null)v.child=d.child,v.flags|=128,v=null;else throw Error(n(558));else if(wr||gl(d,v,b,!1),I=(b&d.childLanes)!==0,wr||I){if(w=Mn,w!==null&&(W=_f(w,b),W!==0&&W!==O.retryLane))throw O.retryLane=W,Ga(d,W),Fn(w,d,W),cy;_d(),v=HT(d,v,b)}else d=O.treeContext,Ni=Cl(W.nextSibling),rr=v,$n=!0,fu=null,No=!1,d!==null&&Hm(v,d),v=hy(v,w),v.flags|=4096;return v}return d=ao(d.child,{mode:w.mode,children:w.children}),d.ref=v.ref,v.child=d,d.return=v,d}function Gf(d,v){var b=v.ref;if(b===null)d!==null&&d.ref!==null&&(v.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(n(284));(d===null||d.ref!==b)&&(v.flags|=4194816)}}function dd(d,v,b,w,I){return hc(v),b=ty(d,v,b,w,void 0,I),w=Ox(),d!==null&&!wr?(zx(d,v,I),hr(d,v,I)):($n&&w&&fl(v),v.flags|=1,ta(d,v,b,I),v.child)}function cv(d,v,b,w,I,O){return hc(v),v.updateQueue=null,b=kf(v,w,b,I),lT(d),w=Ox(),d!==null&&!wr?(zx(d,v,O),hr(d,v,O)):($n&&w&&fl(v),v.flags|=1,ta(d,v,b,O),v.child)}function py(d,v,b,w,I){if(hc(v),v.stateNode===null){var O=oc,W=b.contextType;typeof W=="object"&&W!==null&&(O=gn(W)),O=new b(w,O),v.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=uv,v.stateNode=O,O._reactInternals=v,O=v.stateNode,O.props=w,O.state=v.memoizedState,O.refs={},iv(v),W=b.contextType,O.context=typeof W=="object"&&W!==null?gn(W):oc,O.state=v.memoizedState,W=b.getDerivedStateFromProps,typeof W=="function"&&(ly(v,b,W,w),O.state=v.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(W=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),W!==O.state&&uv.enqueueReplaceState(O,O.state,null),sd(v,w,O,I),rv(),O.state=v.memoizedState),typeof O.componentDidMount=="function"&&(v.flags|=4194308),w=!0}else if(d===null){O=v.stateNode;var J=v.memoizedProps,ue=yc(b,J);O.props=ue;var Ae=O.context,Xe=b.contextType;W=oc,typeof Xe=="object"&&Xe!==null&&(W=gn(Xe));var Ke=b.getDerivedStateFromProps;Xe=typeof Ke=="function"||typeof O.getSnapshotBeforeUpdate=="function",J=v.pendingProps!==J,Xe||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(J||Ae!==W)&&nS(v,O,w,W),Ha=!1;var Le=v.memoizedState;O.state=Le,sd(v,w,O,I),rv(),Ae=v.memoizedState,J||Le!==Ae||Ha?(typeof Ke=="function"&&(ly(v,b,Ke,w),Ae=v.memoizedState),(ue=Ha||tS(v,b,ue,w,Le,Ae,W))?(Xe||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(v.flags|=4194308)):(typeof O.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=w,v.memoizedState=Ae),O.props=w,O.state=Ae,O.context=W,w=ue):(typeof O.componentDidMount=="function"&&(v.flags|=4194308),w=!1)}else{O=v.stateNode,Dx(d,v),W=v.memoizedProps,Xe=yc(b,W),O.props=Xe,Ke=v.pendingProps,Le=O.context,Ae=b.contextType,ue=oc,typeof Ae=="object"&&Ae!==null&&(ue=gn(Ae)),J=b.getDerivedStateFromProps,(Ae=typeof J=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==Ke||Le!==ue)&&nS(v,O,w,ue),Ha=!1,Le=v.memoizedState,O.state=Le,sd(v,w,O,I),rv();var Ve=v.memoizedState;W!==Ke||Le!==Ve||Ha||d!==null&&d.dependencies!==null&&Jp(d.dependencies)?(typeof J=="function"&&(ly(v,b,J,w),Ve=v.memoizedState),(Xe=Ha||tS(v,b,Xe,w,Le,Ve,ue)||d!==null&&d.dependencies!==null&&Jp(d.dependencies))?(Ae||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(w,Ve,ue),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(w,Ve,ue)),typeof O.componentDidUpdate=="function"&&(v.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof O.componentDidUpdate!="function"||W===d.memoizedProps&&Le===d.memoizedState||(v.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===d.memoizedProps&&Le===d.memoizedState||(v.flags|=1024),v.memoizedProps=w,v.memoizedState=Ve),O.props=w,O.state=Ve,O.context=ue,w=Xe):(typeof O.componentDidUpdate!="function"||W===d.memoizedProps&&Le===d.memoizedState||(v.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===d.memoizedProps&&Le===d.memoizedState||(v.flags|=1024),w=!1)}return O=w,Gf(d,v),w=(v.flags&128)!==0,O||w?(O=v.stateNode,b=w&&typeof b.getDerivedStateFromError!="function"?null:O.render(),v.flags|=1,d!==null&&w?(v.child=pu(v,d.child,null,I),v.child=pu(v,null,b,I)):ta(d,v,b,I),v.memoizedState=O.state,d=v.child):d=hr(d,v,I),d}function WT(d,v,b,w){return cc(),v.flags|=256,ta(d,v,b,w),v.child}var lS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ca(d){return{baseLanes:d,cachePool:Ex()}}function vy(d,v,b){return d=d!==null?d.childLanes&~b:0,v&&(d|=qa),d}function XT(d,v,b){var w=v.pendingProps,I=!1,O=(v.flags&128)!==0,W;if((W=O)||(W=d!==null&&d.memoizedState===null?!1:(Qn.current&2)!==0),W&&(I=!0,v.flags&=-129),W=(v.flags&32)!==0,v.flags&=-33,d===null){if($n){if(I?gu(v):uo(),(d=Ni)?(d=fF(d,No),d=d!==null&&d.data!=="&"?d:null,d!==null&&(v.memoizedState={dehydrated:d,treeContext:cu!==null?{id:Qi,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},b=Jh(d),b.return=v,v.child=b,rr=v,Ni=null)):d=null,d===null)throw hl(v);return GL(d)?v.lanes=32:v.lanes=536870912,null}var J=w.children;return w=w.fallback,I?(uo(),I=v.mode,J=gy({mode:"hidden",children:J},I),w=sc(w,I,b,null),J.return=v,w.return=v,J.sibling=w,v.child=J,w=v.child,w.memoizedState=Ca(b),w.childLanes=vy(d,W,b),v.memoizedState=lS,yl(null,w)):(gu(v),fv(v,J))}var ue=d.memoizedState;if(ue!==null&&(J=ue.dehydrated,J!==null)){if(O)v.flags&256?(gu(v),v.flags&=-257,v=uS(d,v,b)):v.memoizedState!==null?(uo(),v.child=d.child,v.flags|=128,v=null):(uo(),J=w.fallback,I=v.mode,w=gy({mode:"visible",children:w.children},I),J=sc(J,I,b,null),J.flags|=2,w.return=v,J.return=v,w.sibling=J,v.child=w,pu(v,d.child,null,b),w=v.child,w.memoizedState=Ca(b),w.childLanes=vy(d,W,b),v.memoizedState=lS,v=yl(null,w));else if(gu(v),GL(J)){if(W=J.nextSibling&&J.nextSibling.dataset,W)var Ae=W.dgst;W=Ae,w=Error(n(419)),w.stack="",w.digest=W,dl({value:w,source:null,stack:null}),v=uS(d,v,b)}else if(wr||gl(d,v,b,!1),W=(b&d.childLanes)!==0,wr||W){if(W=Mn,W!==null&&(w=_f(W,b),w!==0&&w!==ue.retryLane))throw ue.retryLane=w,Ga(d,w),Fn(W,d,w),cy;VL(J)||_d(),v=uS(d,v,b)}else VL(J)?(v.flags|=192,v.child=d.child,v=null):(d=ue.treeContext,Ni=Cl(J.nextSibling),rr=v,$n=!0,fu=null,No=!1,d!==null&&Hm(v,d),v=fv(v,w.children),v.flags|=4096);return v}return I?(uo(),J=w.fallback,I=v.mode,ue=d.child,Ae=ue.sibling,w=ao(ue,{mode:"hidden",children:w.children}),w.subtreeFlags=ue.subtreeFlags&65011712,Ae!==null?J=ao(Ae,J):(J=sc(J,I,b,null),J.flags|=2),J.return=v,w.return=v,w.sibling=J,v.child=w,yl(null,w),w=v.child,J=d.child.memoizedState,J===null?J=Ca(b):(I=J.cachePool,I!==null?(ue=Tr._currentValue,I=I.parent!==ue?{parent:ue,pool:ue}:I):I=Ex(),J={baseLanes:J.baseLanes|b,cachePool:I}),w.memoizedState=J,w.childLanes=vy(d,W,b),v.memoizedState=lS,yl(d.child,w)):(gu(v),b=d.child,d=b.sibling,b=ao(b,{mode:"visible",children:w.children}),b.return=v,b.sibling=null,d!==null&&(W=v.deletions,W===null?(v.deletions=[d],v.flags|=16):W.push(d)),v.child=b,v.memoizedState=null,b)}function fv(d,v){return v=gy({mode:"visible",children:v},d.mode),v.return=d,d.child=v}function gy(d,v){return d=$i(22,d,null,v),d.lanes=0,d}function uS(d,v,b){return pu(v,d.child,null,b),d=fv(v,v.pendingProps.children),d.flags|=2,v.memoizedState=null,d}function YT(d,v,b){d.lanes|=v;var w=d.alternate;w!==null&&(w.lanes|=v),Xm(d.return,v,b)}function Hf(d,v,b,w,I,O){var W=d.memoizedState;W===null?d.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:w,tail:b,tailMode:I,treeForkCount:O}:(W.isBackwards=v,W.rendering=null,W.renderingStartTime=0,W.last=w,W.tail=b,W.tailMode=I,W.treeForkCount=O)}function fo(d,v,b){var w=v.pendingProps,I=w.revealOrder,O=w.tail;w=w.children;var W=Qn.current,J=(W&2)!==0;if(J?(W=W&1|2,v.flags|=128):W&=1,oe(Qn,W),ta(d,v,w,b),w=$n?td:0,!J&&d!==null&&(d.flags&128)!==0)e:for(d=v.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&YT(d,b,v);else if(d.tag===19)YT(d,b,v);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===v)break e;for(;d.sibling===null;){if(d.return===null||d.return===v)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(I){case"forwards":for(b=v.child,I=null;b!==null;)d=b.alternate,d!==null&&zo(d)===null&&(I=b),b=b.sibling;b=I,b===null?(I=v.child,v.child=null):(I=b.sibling,b.sibling=null),Hf(v,!1,I,b,O,w);break;case"backwards":case"unstable_legacy-backwards":for(b=null,I=v.child,v.child=null;I!==null;){if(d=I.alternate,d!==null&&zo(d)===null){v.child=I;break}d=I.sibling,I.sibling=b,b=I,I=d}Hf(v,!0,b,null,O,w);break;case"together":Hf(v,!1,null,null,void 0,w);break;default:v.memoizedState=null}return v.child}function hr(d,v,b){if(d!==null&&(v.dependencies=d.dependencies),Tl|=v.lanes,(b&v.childLanes)===0)if(d!==null){if(gl(d,v,b,!1),(b&v.childLanes)===0)return null}else return null;if(d!==null&&v.child!==d.child)throw Error(n(153));if(v.child!==null){for(d=v.child,b=ao(d,d.pendingProps),v.child=b,b.return=v;d.sibling!==null;)d=d.sibling,b=b.sibling=ao(d,d.pendingProps),b.return=v;b.sibling=null}return v.child}function my(d,v){return(d.lanes&v)!==0?!0:(d=d.dependencies,!!(d!==null&&Jp(d)))}function DL(d,v,b){switch(v.tag){case 3:Ee(v,v.stateNode.containerInfo),hu(v,Tr,d.memoizedState.cache),cc();break;case 27:case 5:He(v);break;case 4:Ee(v,v.stateNode.containerInfo);break;case 10:hu(v,v.type,v.memoizedProps.value);break;case 31:if(v.memoizedState!==null)return v.flags|=128,Ix(v),null;break;case 13:var w=v.memoizedState;if(w!==null)return w.dehydrated!==null?(gu(v),v.flags|=128,null):(b&v.child.childLanes)!==0?XT(d,v,b):(gu(v),d=hr(d,v,b),d!==null?d.sibling:null);gu(v);break;case 19:var I=(d.flags&128)!==0;if(w=(b&v.childLanes)!==0,w||(gl(d,v,b,!1),w=(b&v.childLanes)!==0),I){if(w)return fo(d,v,b);v.flags|=128}if(I=v.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),oe(Qn,Qn.current),w)break;return null;case 22:return v.lanes=0,Vf(d,v,b,v.pendingProps);case 24:hu(v,Tr,d.memoizedState.cache)}return hr(d,v,b)}function yy(d,v,b){if(d!==null)if(d.memoizedProps!==v.pendingProps)wr=!0;else{if(!my(d,b)&&(v.flags&128)===0)return wr=!1,DL(d,v,b);wr=(d.flags&131072)!==0}else wr=!1,$n&&(v.flags&1048576)!==0&&JM(v,td,v.index);switch(v.lanes=0,v.tag){case 16:e:{var w=v.pendingProps;if(d=If(v.elementType),v.type=d,typeof d=="function")Um(d)?(w=yc(d,w),v.tag=1,v=py(null,v,d,w,b)):(v.tag=0,v=dd(null,v,d,w,b));else{if(d!=null){var I=d.$$typeof;if(I===C){v.tag=11,v=sS(null,v,d,w,b);break e}else if(I===L){v.tag=14,v=Ff(null,v,d,w,b);break e}}throw v=X(d)||d,Error(n(306,v,""))}}return v;case 0:return dd(d,v,v.type,v.pendingProps,b);case 1:return w=v.type,I=yc(w,v.pendingProps),py(d,v,w,I,b);case 3:e:{if(Ee(v,v.stateNode.containerInfo),d===null)throw Error(n(387));w=v.pendingProps;var O=v.memoizedState;I=O.element,Dx(d,v),sd(v,w,null,b);var W=v.memoizedState;if(w=W.cache,hu(v,Tr,w),w!==O.cache&&Ym(v,[Tr],b,!0),rv(),w=W.element,O.isDehydrated)if(O={element:w,isDehydrated:!1,cache:W.cache},v.updateQueue.baseState=O,v.memoizedState=O,v.flags&256){v=WT(d,v,w,b);break e}else if(w!==I){I=Po(Error(n(424)),v),dl(I),v=WT(d,v,w,b);break e}else{switch(d=v.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Ni=Cl(d.firstChild),rr=v,$n=!0,fu=null,No=!0,b=Qm(v,null,w,b),v.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling}else{if(cc(),w===I){v=hr(d,v,b);break e}ta(d,v,w,b)}v=v.child}return v;case 26:return Gf(d,v),d===null?(b=mF(v.type,null,v.pendingProps,null))?v.memoizedState=b:$n||(b=v.type,d=v.pendingProps,w=KT(he.current).createElement(b),w[Ki]=v,w[Br]=d,ja(w,b,d),Q(w),v.stateNode=w):v.memoizedState=mF(v.type,d.memoizedProps,v.pendingProps,d.memoizedState),null;case 27:return He(v),d===null&&$n&&(w=v.stateNode=pF(v.type,v.pendingProps,he.current),rr=v,No=!0,I=Ni,Md(v.type)?(HL=I,Ni=Cl(w.firstChild)):Ni=I),ta(d,v,v.pendingProps.children,b),Gf(d,v),d===null&&(v.flags|=4194304),v.child;case 5:return d===null&&$n&&((I=w=Ni)&&(w=oee(w,v.type,v.pendingProps,No),w!==null?(v.stateNode=w,rr=v,Ni=Cl(w.firstChild),No=!1,I=!0):I=!1),I||hl(v)),He(v),I=v.type,O=v.pendingProps,W=d!==null?d.memoizedProps:null,w=O.children,kL(I,O)?w=null:W!==null&&kL(I,W)&&(v.flags|=32),v.memoizedState!==null&&(I=ty(d,v,Uf,null,null,b),xS._currentValue=I),Gf(d,v),ta(d,v,w,b),v.child;case 6:return d===null&&$n&&((d=b=Ni)&&(b=see(b,v.pendingProps,No),b!==null?(v.stateNode=b,rr=v,Ni=null,d=!0):d=!1),d||hl(v)),null;case 13:return XT(d,v,b);case 4:return Ee(v,v.stateNode.containerInfo),w=v.pendingProps,d===null?v.child=pu(v,null,w,b):ta(d,v,w,b),v.child;case 11:return sS(d,v,v.type,v.pendingProps,b);case 7:return ta(d,v,v.pendingProps,b),v.child;case 8:return ta(d,v,v.pendingProps.children,b),v.child;case 12:return ta(d,v,v.pendingProps.children,b),v.child;case 10:return w=v.pendingProps,hu(v,v.type,w.value),ta(d,v,w.children,b),v.child;case 9:return I=v.type._context,w=v.pendingProps.children,hc(v),I=gn(I),w=w(I),v.flags|=1,ta(d,v,w,b),v.child;case 14:return Ff(d,v,v.type,v.pendingProps,b);case 15:return fy(d,v,v.type,v.pendingProps,b);case 19:return fo(d,v,b);case 31:return dy(d,v,b);case 22:return Vf(d,v,b,v.pendingProps);case 24:return hc(v),w=gn(Tr),d===null?(I=Zm(),I===null&&(I=Mn,O=Mx(),I.pooledCache=O,O.refCount++,O!==null&&(I.pooledCacheLanes|=b),I=O),v.memoizedState={parent:w,cache:I},iv(v),hu(v,Tr,I)):((d.lanes&b)!==0&&(Dx(d,v),sd(v,null,null,b),rv()),I=d.memoizedState,O=v.memoizedState,I.parent!==w?(I={parent:w,cache:w},v.memoizedState=I,v.lanes===0&&(v.memoizedState=v.updateQueue.baseState=I),hu(v,Tr,w)):(w=O.cache,hu(v,Tr,w),w!==I.cache&&Ym(v,[Tr],b,!0))),ta(d,v,v.pendingProps.children,b),v.child;case 29:throw v.pendingProps}throw Error(n(156,v.tag))}function _l(d){d.flags|=4}function hv(d,v,b,w,I){if((v=(d.mode&32)!==0)&&(v=!1),v){if(d.flags|=16777216,(I&335544128)===I)if(d.stateNode.complete)d.flags|=8192;else if(nr())d.flags|=8192;else throw ml=jm,tv}else d.flags&=-16777217}function cS(d,v){if(v.type!=="stylesheet"||(v.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!bF(v))if(nr())d.flags|=8192;else throw ml=jm,tv}function yu(d,v){v!==null&&(d.flags|=4),d.flags&16384&&(v=d.tag!==22?Nn():536870912,d.lanes|=v,Vi|=v)}function xl(d,v){if(!$n)switch(d.tailMode){case"hidden":v=d.tail;for(var b=null;v!==null;)v.alternate!==null&&(b=v),v=v.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var w=null;b!==null;)b.alternate!==null&&(w=b),b=b.sibling;w===null?v||d.tail===null?d.tail=null:d.tail.sibling=null:w.sibling=null}}function Ci(d){var v=d.alternate!==null&&d.alternate.child===d.child,b=0,w=0;if(v)for(var I=d.child;I!==null;)b|=I.lanes|I.childLanes,w|=I.subtreeFlags&65011712,w|=I.flags&65011712,I.return=d,I=I.sibling;else for(I=d.child;I!==null;)b|=I.lanes|I.childLanes,w|=I.subtreeFlags,w|=I.flags,I.return=d,I=I.sibling;return d.subtreeFlags|=w,d.childLanes=b,v}function dv(d,v,b){var w=v.pendingProps;switch(Gm(v),v.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(v),null;case 1:return Ci(v),null;case 3:return b=v.stateNode,w=null,d!==null&&(w=d.memoizedState.cache),v.memoizedState.cache!==w&&(v.flags|=2048),vl(Tr),Te(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(d===null||d.child===null)&&(id(v)?_l(v):d===null||d.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,Wm())),Ci(v),null;case 26:var I=v.type,O=v.memoizedState;return d===null?(_l(v),O!==null?(Ci(v),cS(v,O)):(Ci(v),hv(v,I,null,w,b))):O?O!==d.memoizedState?(_l(v),Ci(v),cS(v,O)):(Ci(v),v.flags&=-16777217):(d=d.memoizedProps,d!==w&&_l(v),Ci(v),hv(v,I,d,w,b)),null;case 27:if(We(v),b=he.current,I=v.type,d!==null&&v.stateNode!=null)d.memoizedProps!==w&&_l(v);else{if(!w){if(v.stateNode===null)throw Error(n(166));return Ci(v),null}d=de.current,id(v)?eT(v):(d=pF(I,w,b),v.stateNode=d,_l(v))}return Ci(v),null;case 5:if(We(v),I=v.type,d!==null&&v.stateNode!=null)d.memoizedProps!==w&&_l(v);else{if(!w){if(v.stateNode===null)throw Error(n(166));return Ci(v),null}if(O=de.current,id(v))eT(v);else{var W=KT(he.current);switch(O){case 1:O=W.createElementNS("http://www.w3.org/2000/svg",I);break;case 2:O=W.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;default:switch(I){case"svg":O=W.createElementNS("http://www.w3.org/2000/svg",I);break;case"math":O=W.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;case"script":O=W.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof w.is=="string"?W.createElement("select",{is:w.is}):W.createElement("select"),w.multiple?O.multiple=!0:w.size&&(O.size=w.size);break;default:O=typeof w.is=="string"?W.createElement(I,{is:w.is}):W.createElement(I)}}O[Ki]=v,O[Br]=w;e:for(W=v.child;W!==null;){if(W.tag===5||W.tag===6)O.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===v)break e;for(;W.sibling===null;){if(W.return===null||W.return===v)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}v.stateNode=O;e:switch(ja(O,I,w),I){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&_l(v)}}return Ci(v),hv(v,v.type,d===null?null:d.memoizedProps,v.pendingProps,b),null;case 6:if(d&&v.stateNode!=null)d.memoizedProps!==w&&_l(v);else{if(typeof w!="string"&&v.stateNode===null)throw Error(n(166));if(d=he.current,id(v)){if(d=v.stateNode,b=v.memoizedProps,w=null,I=rr,I!==null)switch(I.tag){case 27:case 5:w=I.memoizedProps}d[Ki]=v,d=!!(d.nodeValue===b||w!==null&&w.suppressHydrationWarning===!0||iF(d.nodeValue,b)),d||hl(v,!0)}else d=KT(d).createTextNode(w),d[Ki]=v,v.stateNode=d}return Ci(v),null;case 31:if(b=v.memoizedState,d===null||d.memoizedState!==null){if(w=id(v),b!==null){if(d===null){if(!w)throw Error(n(318));if(d=v.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(557));d[Ki]=v}else cc(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;Ci(v),d=!1}else b=Wm(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=b),d=!0;if(!d)return v.flags&256?(cr(v),v):(cr(v),null);if((v.flags&128)!==0)throw Error(n(558))}return Ci(v),null;case 13:if(w=v.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(I=id(v),w!==null&&w.dehydrated!==null){if(d===null){if(!I)throw Error(n(318));if(I=v.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[Ki]=v}else cc(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;Ci(v),I=!1}else I=Wm(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=I),I=!0;if(!I)return v.flags&256?(cr(v),v):(cr(v),null)}return cr(v),(v.flags&128)!==0?(v.lanes=b,v):(b=w!==null,d=d!==null&&d.memoizedState!==null,b&&(w=v.child,I=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(I=w.alternate.memoizedState.cachePool.pool),O=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(O=w.memoizedState.cachePool.pool),O!==I&&(w.flags|=2048)),b!==d&&b&&(v.child.flags|=8192),yu(v,v.updateQueue),Ci(v),null);case 4:return Te(),d===null&&PL(v.stateNode.containerInfo),Ci(v),null;case 10:return vl(v.type),Ci(v),null;case 19:if(ee(Qn),w=v.memoizedState,w===null)return Ci(v),null;if(I=(v.flags&128)!==0,O=w.rendering,O===null)if(I)xl(w,!1);else{if(er!==0||d!==null&&(d.flags&128)!==0)for(d=v.child;d!==null;){if(O=zo(d),O!==null){for(v.flags|=128,xl(w,!1),d=O.updateQueue,v.updateQueue=d,yu(v,d),v.subtreeFlags=0,d=b,b=v.child;b!==null;)Qh(b,d),b=b.sibling;return oe(Qn,Qn.current&1|2),$n&&cl(v,w.treeForkCount),v.child}d=d.sibling}w.tail!==null&&Z()>dr&&(v.flags|=128,I=!0,xl(w,!1),v.lanes=4194304)}else{if(!I)if(d=zo(O),d!==null){if(v.flags|=128,I=!0,d=d.updateQueue,v.updateQueue=d,yu(v,d),xl(w,!0),w.tail===null&&w.tailMode==="hidden"&&!O.alternate&&!$n)return Ci(v),null}else 2*Z()-w.renderingStartTime>dr&&b!==536870912&&(v.flags|=128,I=!0,xl(w,!1),v.lanes=4194304);w.isBackwards?(O.sibling=v.child,v.child=O):(d=w.last,d!==null?d.sibling=O:v.child=O,w.last=O)}return w.tail!==null?(d=w.tail,w.rendering=d,w.tail=d.sibling,w.renderingStartTime=Z(),d.sibling=null,b=Qn.current,oe(Qn,I?b&1|2:b&1),$n&&cl(v,w.treeForkCount),d):(Ci(v),null);case 22:case 23:return cr(v),av(),w=v.memoizedState!==null,d!==null?d.memoizedState!==null!==w&&(v.flags|=8192):w&&(v.flags|=8192),w?(b&536870912)!==0&&(v.flags&128)===0&&(Ci(v),v.subtreeFlags&6&&(v.flags|=8192)):Ci(v),b=v.updateQueue,b!==null&&yu(v,b.retryQueue),b=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),w=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(w=v.memoizedState.cachePool.pool),w!==b&&(v.flags|=2048),d!==null&&ee(dc),null;case 24:return b=null,d!==null&&(b=d.memoizedState.cache),v.memoizedState.cache!==b&&(v.flags|=2048),vl(Tr),Ci(v),null;case 25:return null;case 30:return null}throw Error(n(156,v.tag))}function ds(d,v){switch(Gm(v),v.tag){case 1:return d=v.flags,d&65536?(v.flags=d&-65537|128,v):null;case 3:return vl(Tr),Te(),d=v.flags,(d&65536)!==0&&(d&128)===0?(v.flags=d&-65537|128,v):null;case 26:case 27:case 5:return We(v),null;case 31:if(v.memoizedState!==null){if(cr(v),v.alternate===null)throw Error(n(340));cc()}return d=v.flags,d&65536?(v.flags=d&-65537|128,v):null;case 13:if(cr(v),d=v.memoizedState,d!==null&&d.dehydrated!==null){if(v.alternate===null)throw Error(n(340));cc()}return d=v.flags,d&65536?(v.flags=d&-65537|128,v):null;case 19:return ee(Qn),null;case 4:return Te(),null;case 10:return vl(v.type),null;case 22:case 23:return cr(v),av(),d!==null&&ee(dc),d=v.flags,d&65536?(v.flags=d&-65537|128,v):null;case 24:return vl(Tr),null;case 25:return null;default:return null}}function Bo(d,v){switch(Gm(v),v.tag){case 3:vl(Tr),Te();break;case 26:case 27:case 5:We(v);break;case 4:Te();break;case 31:v.memoizedState!==null&&cr(v);break;case 13:cr(v);break;case 19:ee(Qn);break;case 10:vl(v.type);break;case 22:case 23:cr(v),av(),d!==null&&ee(dc);break;case 24:vl(Tr)}}function ps(d,v){try{var b=v.updateQueue,w=b!==null?b.lastEffect:null;if(w!==null){var I=w.next;b=I;do{if((b.tag&d)===d){w=void 0;var O=b.create,W=b.inst;w=O(),W.destroy=w}b=b.next}while(b!==I)}}catch(J){ui(v,v.return,J)}}function ha(d,v,b){try{var w=v.updateQueue,I=w!==null?w.lastEffect:null;if(I!==null){var O=I.next;w=O;do{if((w.tag&d)===d){var W=w.inst,J=W.destroy;if(J!==void 0){W.destroy=void 0,I=v;var ue=b,Ae=J;try{Ae()}catch(Xe){ui(I,ue,Xe)}}}w=w.next}while(w!==O)}}catch(Xe){ui(v,v.return,Xe)}}function Ns(d){var v=d.updateQueue;if(v!==null){var b=d.stateNode;try{aT(v,b)}catch(w){ui(d,d.return,w)}}}function na(d,v,b){b.props=yc(d.type,d.memoizedProps),b.state=d.memoizedState;try{b.componentWillUnmount()}catch(w){ui(d,v,w)}}function _u(d,v){try{var b=d.ref;if(b!==null){switch(d.tag){case 26:case 27:case 5:var w=d.stateNode;break;case 30:w=d.stateNode;break;default:w=d.stateNode}typeof b=="function"?d.refCleanup=b(w):b.current=w}}catch(I){ui(d,v,I)}}function da(d,v){var b=d.ref,w=d.refCleanup;if(b!==null)if(typeof w=="function")try{w()}catch(I){ui(d,v,I)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(I){ui(d,v,I)}else b.current=null}function pv(d){var v=d.type,b=d.memoizedProps,w=d.stateNode;try{e:switch(v){case"button":case"input":case"select":case"textarea":b.autoFocus&&w.focus();break e;case"img":b.src?w.src=b.src:b.srcSet&&(w.srcset=b.srcSet)}}catch(I){ui(d,d.return,I)}}function Vr(d,v,b){try{var w=d.stateNode;eee(w,d.type,b,v),w[Br]=v}catch(I){ui(d,d.return,I)}}function Yi(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&Md(d.type)||d.tag===4}function Zn(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Yi(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&Md(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Sl(d,v,b){var w=d.tag;if(w===5||w===6)d=d.stateNode,v?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(d,v):(v=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,v.appendChild(d),b=b._reactRootContainer,b!=null||v.onclick!==null||(v.onclick=su));else if(w!==4&&(w===27&&Md(d.type)&&(b=d.stateNode,v=null),d=d.child,d!==null))for(Sl(d,v,b),d=d.sibling;d!==null;)Sl(d,v,b),d=d.sibling}function Xa(d,v,b){var w=d.tag;if(w===5||w===6)d=d.stateNode,v?b.insertBefore(d,v):b.appendChild(d);else if(w!==4&&(w===27&&Md(d.type)&&(b=d.stateNode),d=d.child,d!==null))for(Xa(d,v,b),d=d.sibling;d!==null;)Xa(d,v,b),d=d.sibling}function _y(d){var v=d.stateNode,b=d.memoizedProps;try{for(var w=d.type,I=v.attributes;I.length;)v.removeAttributeNode(I[0]);ja(v,w,b),v[Ki]=d,v[Br]=b}catch(O){ui(d,d.return,O)}}var vs=!1,Oi=!1,Os=!1,qT=typeof WeakSet=="function"?WeakSet:Set,ia=null;function RL(d,v){if(d=d.containerInfo,zL=iw,d=jM(d),yx(d)){if("selectionStart"in d)var b={start:d.selectionStart,end:d.selectionEnd};else e:{b=(b=d.ownerDocument)&&b.defaultView||window;var w=b.getSelection&&b.getSelection();if(w&&w.rangeCount!==0){b=w.anchorNode;var I=w.anchorOffset,O=w.focusNode;w=w.focusOffset;try{b.nodeType,O.nodeType}catch{b=null;break e}var W=0,J=-1,ue=-1,Ae=0,Xe=0,Ke=d,Le=null;t:for(;;){for(var Ve;Ke!==b||I!==0&&Ke.nodeType!==3||(J=W+I),Ke!==O||w!==0&&Ke.nodeType!==3||(ue=W+w),Ke.nodeType===3&&(W+=Ke.nodeValue.length),(Ve=Ke.firstChild)!==null;)Le=Ke,Ke=Ve;for(;;){if(Ke===d)break t;if(Le===b&&++Ae===I&&(J=W),Le===O&&++Xe===w&&(ue=W),(Ve=Ke.nextSibling)!==null)break;Ke=Le,Le=Ke.parentNode}Ke=Ve}b=J===-1||ue===-1?null:{start:J,end:ue}}else b=null}b=b||{start:0,end:0}}else b=null;for(BL={focusedElem:d,selectionRange:b},iw=!1,ia=v;ia!==null;)if(v=ia,d=v.child,(v.subtreeFlags&1028)!==0&&d!==null)d.return=v,ia=d;else for(;ia!==null;){switch(v=ia,O=v.alternate,d=v.flags,v.tag){case 0:if((d&4)!==0&&(d=v.updateQueue,d=d!==null?d.events:null,d!==null))for(b=0;b<d.length;b++)I=d[b],I.ref.impl=I.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&O!==null){d=void 0,b=v,I=O.memoizedProps,O=O.memoizedState,w=b.stateNode;try{var qt=yc(b.type,I);d=w.getSnapshotBeforeUpdate(qt,O),w.__reactInternalSnapshotBeforeUpdate=d}catch(vn){ui(b,b.return,vn)}}break;case 3:if((d&1024)!==0){if(d=v.stateNode.containerInfo,b=d.nodeType,b===9)FL(d);else if(b===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":FL(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(n(163))}if(d=v.sibling,d!==null){d.return=v.return,ia=d;break}ia=v.return}}function qi(d,v,b){var w=b.flags;switch(b.tag){case 0:case 11:case 15:ys(d,b),w&4&&ps(5,b);break;case 1:if(ys(d,b),w&4)if(d=b.stateNode,v===null)try{d.componentDidMount()}catch(W){ui(b,b.return,W)}else{var I=yc(b.type,v.memoizedProps);v=v.memoizedState;try{d.componentDidUpdate(I,v,d.__reactInternalSnapshotBeforeUpdate)}catch(W){ui(b,b.return,W)}}w&64&&Ns(b),w&512&&_u(b,b.return);break;case 3:if(ys(d,b),w&64&&(d=b.updateQueue,d!==null)){if(v=null,b.child!==null)switch(b.child.tag){case 27:case 5:v=b.child.stateNode;break;case 1:v=b.child.stateNode}try{aT(d,v)}catch(W){ui(b,b.return,W)}}break;case 27:v===null&&w&4&&_y(b);case 26:case 5:ys(d,b),v===null&&w&4&&pv(b),w&512&&_u(b,b.return);break;case 12:ys(d,b);break;case 31:ys(d,b),w&4&&_c(d,b);break;case 13:ys(d,b),w&4&&pd(d,b),w&64&&(d=b.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(b=A.bind(null,b),lee(d,b))));break;case 22:if(w=b.memoizedState!==null||vs,!w){v=v!==null&&v.memoizedState!==null||Oi,I=vs;var O=Oi;vs=w,(Oi=v)&&!O?Ya(d,b,(b.subtreeFlags&8772)!==0):ys(d,b),vs=I,Oi=O}break;case 30:break;default:ys(d,b)}}function vv(d){var v=d.alternate;v!==null&&(d.alternate=null,vv(v)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(v=d.stateNode,v!==null&&ru(v)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var yi=null,Ea=!1;function gs(d,v,b){for(b=b.child;b!==null;)xy(d,v,b),b=b.sibling}function xy(d,v,b){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(et,b)}catch{}switch(b.tag){case 26:Oi||da(b,v),gs(d,v,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:Oi||da(b,v);var w=yi,I=Ea;Md(b.type)&&(yi=b.stateNode,Ea=!1),gs(d,v,b),mS(b.stateNode),yi=w,Ea=I;break;case 5:Oi||da(b,v);case 6:if(w=yi,I=Ea,yi=null,gs(d,v,b),yi=w,Ea=I,yi!==null)if(Ea)try{(yi.nodeType===9?yi.body:yi.nodeName==="HTML"?yi.ownerDocument.body:yi).removeChild(b.stateNode)}catch(O){ui(b,v,O)}else try{yi.removeChild(b.stateNode)}catch(O){ui(b,v,O)}break;case 18:yi!==null&&(Ea?(d=yi,uF(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,b.stateNode),Ey(d)):uF(yi,b.stateNode));break;case 4:w=yi,I=Ea,yi=b.stateNode.containerInfo,Ea=!0,gs(d,v,b),yi=w,Ea=I;break;case 0:case 11:case 14:case 15:ha(2,b,v),Oi||ha(4,b,v),gs(d,v,b);break;case 1:Oi||(da(b,v),w=b.stateNode,typeof w.componentWillUnmount=="function"&&na(b,v,w)),gs(d,v,b);break;case 21:gs(d,v,b);break;case 22:Oi=(w=Oi)||b.memoizedState!==null,gs(d,v,b),Oi=w;break;default:gs(d,v,b)}}function _c(d,v){if(v.memoizedState===null&&(d=v.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{Ey(d)}catch(b){ui(v,v.return,b)}}}function pd(d,v){if(v.memoizedState===null&&(d=v.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Ey(d)}catch(b){ui(v,v.return,b)}}function fS(d){switch(d.tag){case 31:case 13:case 19:var v=d.stateNode;return v===null&&(v=d.stateNode=new qT),v;case 22:return d=d.stateNode,v=d._retryCache,v===null&&(v=d._retryCache=new qT),v;default:throw Error(n(435,d.tag))}}function xu(d,v){var b=fS(d);v.forEach(function(w){if(!b.has(w)){b.add(w);var I=R.bind(null,d,w);w.then(I,I)}})}function Gr(d,v){var b=v.deletions;if(b!==null)for(var w=0;w<b.length;w++){var I=b[w],O=d,W=v,J=W;e:for(;J!==null;){switch(J.tag){case 27:if(Md(J.type)){yi=J.stateNode,Ea=!1;break e}break;case 5:yi=J.stateNode,Ea=!1;break e;case 3:case 4:yi=J.stateNode.containerInfo,Ea=!0;break e}J=J.return}if(yi===null)throw Error(n(160));xy(O,W,I),yi=null,Ea=!1,O=I.alternate,O!==null&&(O.return=null),I.return=null}if(v.subtreeFlags&13886)for(v=v.child;v!==null;)xc(v,d),v=v.sibling}var ms=null;function xc(d,v){var b=d.alternate,w=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Gr(v,d),Hr(d),w&4&&(ha(3,d,d.return),ps(3,d),ha(5,d,d.return));break;case 1:Gr(v,d),Hr(d),w&512&&(Oi||b===null||da(b,b.return)),w&64&&vs&&(d=d.updateQueue,d!==null&&(w=d.callbacks,w!==null&&(b=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=b===null?w:b.concat(w))));break;case 26:var I=ms;if(Gr(v,d),Hr(d),w&512&&(Oi||b===null||da(b,b.return)),w&4){var O=b!==null?b.memoizedState:null;if(w=d.memoizedState,b===null)if(w===null)if(d.stateNode===null){e:{w=d.type,b=d.memoizedProps,I=I.ownerDocument||I;t:switch(w){case"title":O=I.getElementsByTagName("title")[0],(!O||O[Ls]||O[Ki]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=I.createElement(w),I.head.insertBefore(O,I.querySelector("head > title"))),ja(O,w,b),O[Ki]=d,Q(O),w=O;break e;case"link":var W=xF("link","href",I).get(w+(b.href||""));if(W){for(var J=0;J<W.length;J++)if(O=W[J],O.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&O.getAttribute("rel")===(b.rel==null?null:b.rel)&&O.getAttribute("title")===(b.title==null?null:b.title)&&O.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){W.splice(J,1);break t}}O=I.createElement(w),ja(O,w,b),I.head.appendChild(O);break;case"meta":if(W=xF("meta","content",I).get(w+(b.content||""))){for(J=0;J<W.length;J++)if(O=W[J],O.getAttribute("content")===(b.content==null?null:""+b.content)&&O.getAttribute("name")===(b.name==null?null:b.name)&&O.getAttribute("property")===(b.property==null?null:b.property)&&O.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&O.getAttribute("charset")===(b.charSet==null?null:b.charSet)){W.splice(J,1);break t}}O=I.createElement(w),ja(O,w,b),I.head.appendChild(O);break;default:throw Error(n(468,w))}O[Ki]=d,Q(O),w=O}d.stateNode=w}else SF(I,d.type,d.stateNode);else d.stateNode=_F(I,w,d.memoizedProps);else O!==w?(O===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):O.count--,w===null?SF(I,d.type,d.stateNode):_F(I,w,d.memoizedProps)):w===null&&d.stateNode!==null&&Vr(d,d.memoizedProps,b.memoizedProps)}break;case 27:Gr(v,d),Hr(d),w&512&&(Oi||b===null||da(b,b.return)),b!==null&&w&4&&Vr(d,d.memoizedProps,b.memoizedProps);break;case 5:if(Gr(v,d),Hr(d),w&512&&(Oi||b===null||da(b,b.return)),d.flags&32){I=d.stateNode;try{Mr(I,"")}catch(qt){ui(d,d.return,qt)}}w&4&&d.stateNode!=null&&(I=d.memoizedProps,Vr(d,I,b!==null?b.memoizedProps:I)),w&1024&&(Os=!0);break;case 6:if(Gr(v,d),Hr(d),w&4){if(d.stateNode===null)throw Error(n(162));w=d.memoizedProps,b=d.stateNode;try{b.nodeValue=w}catch(qt){ui(d,d.return,qt)}}break;case 3:if(JT=null,I=ms,ms=$T(v.containerInfo),Gr(v,d),ms=I,Hr(d),w&4&&b!==null&&b.memoizedState.isDehydrated)try{Ey(v.containerInfo)}catch(qt){ui(d,d.return,qt)}Os&&(Os=!1,Sy(d));break;case 4:w=ms,ms=$T(d.stateNode.containerInfo),Gr(v,d),Hr(d),ms=w;break;case 12:Gr(v,d),Hr(d);break;case 31:Gr(v,d),Hr(d),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,xu(d,w)));break;case 13:Gr(v,d),Hr(d),d.child.flags&8192&&d.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(vd=Z()),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,xu(d,w)));break;case 22:I=d.memoizedState!==null;var ue=b!==null&&b.memoizedState!==null,Ae=vs,Xe=Oi;if(vs=Ae||I,Oi=Xe||ue,Gr(v,d),Oi=Xe,vs=Ae,Hr(d),w&8192)e:for(v=d.stateNode,v._visibility=I?v._visibility&-2:v._visibility|1,I&&(b===null||ue||vs||Oi||bl(d)),b=null,v=d;;){if(v.tag===5||v.tag===26){if(b===null){ue=b=v;try{if(O=ue.stateNode,I)W=O.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{J=ue.stateNode;var Ke=ue.memoizedProps.style,Le=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;J.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(qt){ui(ue,ue.return,qt)}}}else if(v.tag===6){if(b===null){ue=v;try{ue.stateNode.nodeValue=I?"":ue.memoizedProps}catch(qt){ui(ue,ue.return,qt)}}}else if(v.tag===18){if(b===null){ue=v;try{var Ve=ue.stateNode;I?cF(Ve,!0):cF(ue.stateNode,!1)}catch(qt){ui(ue,ue.return,qt)}}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===d)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break e;for(;v.sibling===null;){if(v.return===null||v.return===d)break e;b===v&&(b=null),v=v.return}b===v&&(b=null),v.sibling.return=v.return,v=v.sibling}w&4&&(w=d.updateQueue,w!==null&&(b=w.retryQueue,b!==null&&(w.retryQueue=null,xu(d,b))));break;case 19:Gr(v,d),Hr(d),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,xu(d,w)));break;case 30:break;case 21:break;default:Gr(v,d),Hr(d)}}function Hr(d){var v=d.flags;if(v&2){try{for(var b,w=d.return;w!==null;){if(Yi(w)){b=w;break}w=w.return}if(b==null)throw Error(n(160));switch(b.tag){case 27:var I=b.stateNode,O=Zn(d);Xa(d,O,I);break;case 5:var W=b.stateNode;b.flags&32&&(Mr(W,""),b.flags&=-33);var J=Zn(d);Xa(d,J,W);break;case 3:case 4:var ue=b.stateNode.containerInfo,Ae=Zn(d);Sl(d,Ae,ue);break;default:throw Error(n(161))}}catch(Xe){ui(d,d.return,Xe)}d.flags&=-3}v&4096&&(d.flags&=-4097)}function Sy(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var v=d;Sy(v),v.tag===5&&v.flags&1024&&v.stateNode.reset(),d=d.sibling}}function ys(d,v){if(v.subtreeFlags&8772)for(v=v.child;v!==null;)qi(d,v.alternate,v),v=v.sibling}function bl(d){for(d=d.child;d!==null;){var v=d;switch(v.tag){case 0:case 11:case 14:case 15:ha(4,v,v.return),bl(v);break;case 1:da(v,v.return);var b=v.stateNode;typeof b.componentWillUnmount=="function"&&na(v,v.return,b),bl(v);break;case 27:mS(v.stateNode);case 26:case 5:da(v,v.return),bl(v);break;case 22:v.memoizedState===null&&bl(v);break;case 30:bl(v);break;default:bl(v)}d=d.sibling}}function Ya(d,v,b){for(b=b&&(v.subtreeFlags&8772)!==0,v=v.child;v!==null;){var w=v.alternate,I=d,O=v,W=O.flags;switch(O.tag){case 0:case 11:case 15:Ya(I,O,b),ps(4,O);break;case 1:if(Ya(I,O,b),w=O,I=w.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(Ae){ui(w,w.return,Ae)}if(w=O,I=w.updateQueue,I!==null){var J=w.stateNode;try{var ue=I.shared.hiddenCallbacks;if(ue!==null)for(I.shared.hiddenCallbacks=null,I=0;I<ue.length;I++)ld(ue[I],J)}catch(Ae){ui(w,w.return,Ae)}}b&&W&64&&Ns(O),_u(O,O.return);break;case 27:_y(O);case 26:case 5:Ya(I,O,b),b&&w===null&&W&4&&pv(O),_u(O,O.return);break;case 12:Ya(I,O,b);break;case 31:Ya(I,O,b),b&&W&4&&_c(I,O);break;case 13:Ya(I,O,b),b&&W&4&&pd(I,O);break;case 22:O.memoizedState===null&&Ya(I,O,b),_u(O,O.return);break;case 30:break;default:Ya(I,O,b)}v=v.sibling}}function Sc(d,v){var b=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),d=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(d=v.memoizedState.cachePool.pool),d!==b&&(d!=null&&d.refCount++,b!=null&&Rf(b))}function Wf(d,v){d=null,v.alternate!==null&&(d=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==d&&(v.refCount++,d!=null&&Rf(d))}function pa(d,v,b,w){if(v.subtreeFlags&10256)for(v=v.child;v!==null;)hS(d,v,b,w),v=v.sibling}function hS(d,v,b,w){var I=v.flags;switch(v.tag){case 0:case 11:case 15:pa(d,v,b,w),I&2048&&ps(9,v);break;case 1:pa(d,v,b,w);break;case 3:pa(d,v,b,w),I&2048&&(d=null,v.alternate!==null&&(d=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==d&&(v.refCount++,d!=null&&Rf(d)));break;case 12:if(I&2048){pa(d,v,b,w),d=v.stateNode;try{var O=v.memoizedProps,W=O.id,J=O.onPostCommit;typeof J=="function"&&J(W,v.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(ue){ui(v,v.return,ue)}}else pa(d,v,b,w);break;case 31:pa(d,v,b,w);break;case 13:pa(d,v,b,w);break;case 23:break;case 22:O=v.stateNode,W=v.alternate,v.memoizedState!==null?O._visibility&2?pa(d,v,b,w):Ml(d,v):O._visibility&2?pa(d,v,b,w):(O._visibility|=2,va(d,v,b,w,(v.subtreeFlags&10256)!==0||!1)),I&2048&&Sc(W,v);break;case 24:pa(d,v,b,w),I&2048&&Wf(v.alternate,v);break;default:pa(d,v,b,w)}}function va(d,v,b,w,I){for(I=I&&((v.subtreeFlags&10256)!==0||!1),v=v.child;v!==null;){var O=d,W=v,J=b,ue=w,Ae=W.flags;switch(W.tag){case 0:case 11:case 15:va(O,W,J,ue,I),ps(8,W);break;case 23:break;case 22:var Xe=W.stateNode;W.memoizedState!==null?Xe._visibility&2?va(O,W,J,ue,I):Ml(O,W):(Xe._visibility|=2,va(O,W,J,ue,I)),I&&Ae&2048&&Sc(W.alternate,W);break;case 24:va(O,W,J,ue,I),I&&Ae&2048&&Wf(W.alternate,W);break;default:va(O,W,J,ue,I)}v=v.sibling}}function Ml(d,v){if(v.subtreeFlags&10256)for(v=v.child;v!==null;){var b=d,w=v,I=w.flags;switch(w.tag){case 22:Ml(b,w),I&2048&&Sc(w.alternate,w);break;case 24:Ml(b,w),I&2048&&Wf(w.alternate,w);break;default:Ml(b,w)}v=v.sibling}}var Xf=8192;function ko(d,v,b){if(d.subtreeFlags&Xf)for(d=d.child;d!==null;)by(d,v,b),d=d.sibling}function by(d,v,b){switch(d.tag){case 26:ko(d,v,b),d.flags&Xf&&d.memoizedState!==null&&xee(b,ms,d.memoizedState,d.memoizedProps);break;case 5:ko(d,v,b);break;case 3:case 4:var w=ms;ms=$T(d.stateNode.containerInfo),ko(d,v,b),ms=w;break;case 22:d.memoizedState===null&&(w=d.alternate,w!==null&&w.memoizedState!==null?(w=Xf,Xf=16777216,ko(d,v,b),Xf=w):ko(d,v,b));break;default:ko(d,v,b)}}function Yf(d){var v=d.alternate;if(v!==null&&(d=v.child,d!==null)){v.child=null;do v=d.sibling,d.sibling=null,d=v;while(d!==null)}}function bc(d){var v=d.deletions;if((d.flags&16)!==0){if(v!==null)for(var b=0;b<v.length;b++){var w=v[b];ia=w,ar(w,d)}Yf(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)ho(d),d=d.sibling}function ho(d){switch(d.tag){case 0:case 11:case 15:bc(d),d.flags&2048&&ha(9,d,d.return);break;case 3:bc(d);break;case 12:bc(d);break;case 22:var v=d.stateNode;d.memoizedState!==null&&v._visibility&2&&(d.return===null||d.return.tag!==13)?(v._visibility&=-3,po(d)):bc(d);break;default:bc(d)}}function po(d){var v=d.deletions;if((d.flags&16)!==0){if(v!==null)for(var b=0;b<v.length;b++){var w=v[b];ia=w,ar(w,d)}Yf(d)}for(d=d.child;d!==null;){switch(v=d,v.tag){case 0:case 11:case 15:ha(8,v,v.return),po(v);break;case 22:b=v.stateNode,b._visibility&2&&(b._visibility&=-3,po(v));break;default:po(v)}d=d.sibling}}function ar(d,v){for(;ia!==null;){var b=ia;switch(b.tag){case 0:case 11:case 15:ha(8,b,v);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var w=b.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Rf(b.memoizedState.cache)}if(w=b.child,w!==null)w.return=b,ia=w;else e:for(b=d;ia!==null;){w=ia;var I=w.sibling,O=w.return;if(vv(w),w===b){ia=null;break e}if(I!==null){I.return=O,ia=I;break e}ia=O}}}var Su={getCacheForType:function(d){var v=gn(Tr),b=v.data.get(d);return b===void 0&&(b=d(),v.data.set(d,b)),b},cacheSignal:function(){return gn(Tr).controller.signal}},Rn=typeof WeakMap=="function"?WeakMap:Map,Kt=0,Mn=null,Un=null,On=0,ni=0,Da=null,_s=!1,zs=!1,dS=!1,Uo=0,er=0,Tl=0,Mc=0,gv=0,qa=0,Vi=0,qf=null,or=null,sr=!1,vd=0,pS=0,dr=1/0,tr=null,pr=null,_i=0,Fo=null,gd=null,xs=0,md=0,yd=null,mv=null,Tc=0,Zf=null;function Vo(){return(Kt&2)!==0&&On!==0?On&-On:V.T!==null?Oe():xf()}function Xn(){if(qa===0)if((On&536870912)===0||$n){var d=tt;tt<<=1,(tt&3932160)===0&&(tt=262144),qa=d}else qa=536870912;return d=lo.current,d!==null&&(d.flags|=32),qa}function Fn(d,v,b){(d===Mn&&(ni===2||ni===9)||d.cancelPendingCommit!==null)&&(Ac(d,0),Ar(d,On,qa,!1)),ji(d,b),((Kt&2)===0||d!==Mn)&&(d===Mn&&((Kt&2)===0&&(Mc|=b),er===4&&Ar(d,On,qa,!1)),st(d))}function Yn(d,v,b){if((Kt&6)!==0)throw Error(n(327));var w=!b&&(v&127)===0&&(v&d.expiredLanes)===0||ct(d,v),I=w?yv(d,v):Za(d,v,!0),O=w;do{if(I===0){zs&&!w&&Ar(d,v,0,!1);break}else{if(b=d.current.alternate,O&&!xi(b)){I=Za(d,v,!1),O=!1;continue}if(I===2){if(O=v,d.errorRecoveryDisabledLanes&O)var W=0;else W=d.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){v=W;e:{var J=d;I=qf;var ue=J.current.memoizedState.isDehydrated;if(ue&&(Ac(J,W).flags|=256),W=Za(J,W,!1),W!==2){if(dS&&!ue){J.errorRecoveryDisabledLanes|=O,Mc|=O,I=4;break e}O=or,or=I,O!==null&&(or===null?or=O:or.push.apply(or,O))}I=W}if(O=!1,I!==2)continue}}if(I===1){Ac(d,0),Ar(d,v,0,!0);break}e:{switch(w=d,O=I,O){case 0:case 1:throw Error(n(345));case 4:if((v&4194048)!==v)break;case 6:Ar(w,v,qa,!_s);break e;case 2:or=null;break;case 3:case 5:break;default:throw Error(n(329))}if((v&62914560)===v&&(I=vd+300-Z(),10<I)){if(Ar(w,v,qa,!_s),Ye(w,0,!0)!==0)break e;xs=v,w.timeoutHandle=sF(jn.bind(null,w,b,or,tr,sr,v,qa,Mc,Vi,_s,O,"Throttled",-0,0),I);break e}jn(w,b,or,tr,sr,v,qa,Mc,Vi,_s,O,null,-0,0)}}break}while(!0);st(d)}function jn(d,v,b,w,I,O,W,J,ue,Ae,Xe,Ke,Le,Ve){if(d.timeoutHandle=-1,Ke=v.subtreeFlags,Ke&8192||(Ke&16785408)===16785408){Ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:su},by(v,O,Ke);var qt=(O&62914560)===O?vd-Z():(O&4194048)===O?pS-Z():0;if(qt=See(Ke,qt),qt!==null){xs=O,d.cancelPendingCommit=qt(Mu.bind(null,d,v,O,b,w,I,W,J,ue,Xe,Ke,null,Le,Ve)),Ar(d,O,W,!Ae);return}}Mu(d,v,O,b,w,I,W,J,ue)}function xi(d){for(var v=d;;){var b=v.tag;if((b===0||b===11||b===15)&&v.flags&16384&&(b=v.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var w=0;w<b.length;w++){var I=b[w],O=I.getSnapshot;I=I.value;try{if(!Va(O(),I))return!1}catch{return!1}}if(b=v.child,v.subtreeFlags&16384&&b!==null)b.return=v,v=b;else{if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Ar(d,v,b,w){v&=~gv,v&=~Mc,d.suspendedLanes|=v,d.pingedLanes&=~v,w&&(d.warmLanes|=v),w=d.expirationTimes;for(var I=v;0<I;){var O=31-se(I),W=1<<O;w[O]=-1,I&=~W}b!==0&&$u(d,b,v)}function Bs(){return(Kt&6)===0?(Nt(0),!1):!0}function wc(){if(Un!==null){if(ni===0)var d=Un.return;else d=Un,pl=fc=null,Bx(d),Of=null,zf=0,d=Un;for(;d!==null;)Bo(d.alternate,d),d=d.return;Un=null}}function Ac(d,v){var b=d.timeoutHandle;b!==-1&&(d.timeoutHandle=-1,iee(b)),b=d.cancelPendingCommit,b!==null&&(d.cancelPendingCommit=null,b()),xs=0,wc(),Mn=d,Un=b=ao(d.current,null),On=v,ni=0,Da=null,_s=!1,zs=ct(d,v),dS=!1,Vi=qa=gv=Mc=Tl=er=0,or=qf=null,sr=!1,(v&8)!==0&&(v|=v&32);var w=d.entangledLanes;if(w!==0)for(d=d.entanglements,w&=v;0<w;){var I=31-se(w),O=1<<I;v|=d[I],w&=~O}return Uo=v,$p(),b}function wl(d,v){Dn=null,V.H=hd,v===Lf||v===kn?(v=Pf(),ni=3):v===tv?(v=Pf(),ni=4):ni=v===cy?8:v!==null&&typeof v=="object"&&typeof v.then=="function"?6:1,Da=v,Un===null&&(er=1,uy(d,Po(v,d.current)))}function nr(){var d=lo.current;return d===null?!0:(On&4194048)===On?Wa===null:(On&62914560)===On||(On&536870912)!==0?d===Wa:!1}function bu(){var d=V.H;return V.H=hd,d===null?hd:d}function Cc(){var d=V.A;return V.A=Su,d}function _d(){er=4,_s||(On&4194048)!==On&&lo.current!==null||(zs=!0),(Tl&134217727)===0&&(Mc&134217727)===0||Mn===null||Ar(Mn,On,qa,!1)}function Za(d,v,b){var w=Kt;Kt|=2;var I=bu(),O=Cc();(Mn!==d||On!==v)&&(tr=null,Ac(d,v)),v=!1;var W=er;e:do try{if(ni!==0&&Un!==null){var J=Un,ue=Da;switch(ni){case 8:wc(),W=6;break e;case 3:case 2:case 9:case 6:lo.current===null&&(v=!0);var Ae=ni;if(ni=0,Da=null,jf(d,J,ue,Ae),b&&zs){W=0;break e}break;default:Ae=ni,ni=0,Da=null,jf(d,J,ue,Ae)}}xd(),W=er;break}catch(Xe){wl(d,Xe)}while(!0);return v&&d.shellSuspendCounter++,pl=fc=null,Kt=w,V.H=I,V.A=O,Un===null&&(Mn=null,On=0,$p()),W}function xd(){for(;Un!==null;)My(Un)}function yv(d,v){var b=Kt;Kt|=2;var w=bu(),I=Cc();Mn!==d||On!==v?(tr=null,dr=Z()+500,Ac(d,v)):zs=ct(d,v);e:do try{if(ni!==0&&Un!==null){v=Un;var O=Da;t:switch(ni){case 1:ni=0,Da=null,jf(d,v,O,1);break;case 2:case 9:if(so(O)){ni=0,Da=null,_v(v);break}v=function(){ni!==2&&ni!==9||Mn!==d||(ni=7),st(d)},O.then(v,v);break e;case 3:ni=7;break e;case 4:ni=5;break e;case 7:so(O)?(ni=0,Da=null,_v(v)):(ni=0,Da=null,jf(d,v,O,7));break;case 5:var W=null;switch(Un.tag){case 26:W=Un.memoizedState;case 5:case 27:var J=Un;if(W?bF(W):J.stateNode.complete){ni=0,Da=null;var ue=J.sibling;if(ue!==null)Un=ue;else{var Ae=J.return;Ae!==null?(Un=Ae,Ec(Ae)):Un=null}break t}}ni=0,Da=null,jf(d,v,O,5);break;case 6:ni=0,Da=null,jf(d,v,O,6);break;case 8:wc(),er=6;break e;default:throw Error(n(462))}}vo();break}catch(Xe){wl(d,Xe)}while(!0);return pl=fc=null,V.H=w,V.A=I,Kt=b,Un!==null?0:(Mn=null,On=0,$p(),er)}function vo(){for(;Un!==null&&!ot();)My(Un)}function My(d){var v=yy(d.alternate,d,Uo);d.memoizedProps=d.pendingProps,v===null?Ec(d):Un=v}function _v(d){var v=d,b=v.alternate;switch(v.tag){case 15:case 0:v=cv(b,v,v.pendingProps,v.type,void 0,On);break;case 11:v=cv(b,v,v.pendingProps,v.type.render,v.ref,On);break;case 5:Bx(v);default:Bo(b,v),v=Un=Qh(v,Uo),v=yy(b,v,Uo)}d.memoizedProps=d.pendingProps,v===null?Ec(d):Un=v}function jf(d,v,b,w){pl=fc=null,Bx(v),Of=null,zf=0;var I=v.return;try{if(Fr(d,I,v,b,On)){er=1,uy(d,Po(b,d.current)),Un=null;return}}catch(O){if(I!==null)throw Un=I,O;er=1,uy(d,Po(b,d.current)),Un=null;return}v.flags&32768?($n||w===1?d=!0:zs||(On&536870912)!==0?d=!1:(_s=d=!0,(w===2||w===9||w===3||w===6)&&(w=lo.current,w!==null&&w.tag===13&&(w.flags|=16384))),xv(v,d)):Ec(v)}function Ec(d){var v=d;do{if((v.flags&32768)!==0){xv(v,_s);return}d=v.return;var b=dv(v.alternate,v,Uo);if(b!==null){Un=b;return}if(v=v.sibling,v!==null){Un=v;return}Un=v=d}while(v!==null);er===0&&(er=5)}function xv(d,v){do{var b=ds(d.alternate,d);if(b!==null){b.flags&=32767,Un=b;return}if(b=d.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!v&&(d=d.sibling,d!==null)){Un=d;return}Un=d=b}while(d!==null);er=6,Un=null}function Mu(d,v,b,w,I,O,W,J,ue){d.cancelPendingCommit=null;do Sd();while(_i!==0);if((Kt&6)!==0)throw Error(n(327));if(v!==null){if(v===d.current)throw Error(n(177));if(O=v.lanes|v.childLanes,O|=Jr,zr(d,b,O,W,J,ue),d===Mn&&(Un=Mn=null,On=0),gd=v,Fo=d,xs=b,md=O,yd=I,mv=w,(v.subtreeFlags&10256)!==0||(v.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,k(Be,function(){return Ty(),null})):(d.callbackNode=null,d.callbackPriority=0),w=(v.flags&13878)!==0,(v.subtreeFlags&13878)!==0||w){w=V.T,V.T=null,I=j.p,j.p=2,W=Kt,Kt|=4;try{RL(d,v,b)}finally{Kt=W,j.p=I,V.T=w}}_i=1,Cr(),Tu(),Kf()}}function Cr(){if(_i===1){_i=0;var d=Fo,v=gd,b=(v.flags&13878)!==0;if((v.subtreeFlags&13878)!==0||b){b=V.T,V.T=null;var w=j.p;j.p=2;var I=Kt;Kt|=4;try{xc(v,d);var O=BL,W=jM(d.containerInfo),J=O.focusedElem,ue=O.selectionRange;if(W!==J&&J&&J.ownerDocument&&Pi(J.ownerDocument.documentElement,J)){if(ue!==null&&yx(J)){var Ae=ue.start,Xe=ue.end;if(Xe===void 0&&(Xe=Ae),"selectionStart"in J)J.selectionStart=Ae,J.selectionEnd=Math.min(Xe,J.value.length);else{var Ke=J.ownerDocument||document,Le=Ke&&Ke.defaultView||window;if(Le.getSelection){var Ve=Le.getSelection(),qt=J.textContent.length,vn=Math.min(ue.start,qt),Bi=ue.end===void 0?vn:Math.min(ue.end,qt);!Ve.extend&&vn>Bi&&(W=Bi,Bi=vn,vn=W);var ye=jh(J,vn),pe=jh(J,Bi);if(ye&&pe&&(Ve.rangeCount!==1||Ve.anchorNode!==ye.node||Ve.anchorOffset!==ye.offset||Ve.focusNode!==pe.node||Ve.focusOffset!==pe.offset)){var we=Ke.createRange();we.setStart(ye.node,ye.offset),Ve.removeAllRanges(),vn>Bi?(Ve.addRange(we),Ve.extend(pe.node,pe.offset)):(we.setEnd(pe.node,pe.offset),Ve.addRange(we))}}}}for(Ke=[],Ve=J;Ve=Ve.parentNode;)Ve.nodeType===1&&Ke.push({element:Ve,left:Ve.scrollLeft,top:Ve.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Ke.length;J++){var je=Ke[J];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}iw=!!zL,BL=zL=null}finally{Kt=I,j.p=w,V.T=b}}d.current=v,_i=2}}function Tu(){if(_i===2){_i=0;var d=Fo,v=gd,b=(v.flags&8772)!==0;if((v.subtreeFlags&8772)!==0||b){b=V.T,V.T=null;var w=j.p;j.p=2;var I=Kt;Kt|=4;try{qi(d,v.alternate,v)}finally{Kt=I,j.p=w,V.T=b}}_i=3}}function Kf(){if(_i===4||_i===3){_i=0,ne();var d=Fo,v=gd,b=xs,w=mv;(v.subtreeFlags&10256)!==0||(v.flags&10256)!==0?_i=5:(_i=0,gd=Fo=null,Al(d,d.pendingLanes));var I=d.pendingLanes;if(I===0&&(pr=null),iu(b),v=v.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(et,v,void 0,(v.current.flags&128)===128)}catch{}if(w!==null){v=V.T,I=j.p,j.p=2,V.T=null;try{for(var O=d.onRecoverableError,W=0;W<w.length;W++){var J=w[W];O(J.value,{componentStack:J.stack})}}finally{V.T=v,j.p=I}}(xs&3)!==0&&Sd(),st(d),I=d.pendingLanes,(b&261930)!==0&&(I&42)!==0?d===Zf?Tc++:(Tc=0,Zf=d):Tc=0,Nt(0)}}function Al(d,v){(d.pooledCacheLanes&=v)===0&&(v=d.pooledCache,v!=null&&(d.pooledCache=null,Rf(v)))}function Sd(){return Cr(),Tu(),Kf(),Ty()}function Ty(){if(_i!==5)return!1;var d=Fo,v=md;md=0;var b=iu(xs),w=V.T,I=j.p;try{j.p=32>b?32:b,V.T=null,b=yd,yd=null;var O=Fo,W=xs;if(_i=0,gd=Fo=null,xs=0,(Kt&6)!==0)throw Error(n(331));var J=Kt;if(Kt|=4,ho(O.current),hS(O,O.current,W,b),Kt=J,Nt(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(et,O)}catch{}return!0}finally{j.p=I,V.T=w,Al(d,v)}}function vS(d,v,b){v=Po(b,v),v=aS(d.stateNode,v,2),d=pc(d,v,2),d!==null&&(ji(d,2),st(d))}function ui(d,v,b){if(d.tag===3)vS(d,d,b);else for(;v!==null;){if(v.tag===3){vS(v,d,b);break}else if(v.tag===1){var w=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(pr===null||!pr.has(w))){d=Po(b,d),b=oS(2),w=pc(v,b,2),w!==null&&(GT(b,w,v,d),ji(w,2),st(w));break}}v=v.return}}function Sv(d,v,b){var w=d.pingCache;if(w===null){w=d.pingCache=new Rn;var I=new Set;w.set(v,I)}else I=w.get(v),I===void 0&&(I=new Set,w.set(v,I));I.has(b)||(dS=!0,I.add(b),d=m.bind(null,d,v,b),v.then(d,d))}function m(d,v,b){var w=d.pingCache;w!==null&&w.delete(v),d.pingedLanes|=d.suspendedLanes&b,d.warmLanes&=~b,Mn===d&&(On&b)===b&&(er===4||er===3&&(On&62914560)===On&&300>Z()-vd?(Kt&2)===0&&Ac(d,0):gv|=b,Vi===On&&(Vi=0)),st(d)}function S(d,v){v===0&&(v=Nn()),d=Ga(d,v),d!==null&&(ji(d,v),st(d))}function A(d){var v=d.memoizedState,b=0;v!==null&&(b=v.retryLane),S(d,b)}function R(d,v){var b=0;switch(d.tag){case 31:case 13:var w=d.stateNode,I=d.memoizedState;I!==null&&(b=I.retryLane);break;case 19:w=d.stateNode;break;case 22:w=d.stateNode._retryCache;break;default:throw Error(n(314))}w!==null&&w.delete(v),S(d,b)}function k(d,v){return vt(d,v)}var F=null,$=null,ce=!1,Fe=!1,Je=!1,_t=0;function st(d){d!==$&&d.next===null&&($===null?F=$=d:$=$.next=d),Fe=!0,ce||(ce=!0,xe())}function Nt(d,v){if(!Je&&Fe){Je=!0;do for(var b=!1,w=F;w!==null;){if(d!==0){var I=w.pendingLanes;if(I===0)var O=0;else{var W=w.suspendedLanes,J=w.pingedLanes;O=(1<<31-se(42|d)+1)-1,O&=I&~(W&~J),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(b=!0,Re(w,O))}else O=On,O=Ye(w,w===Mn?O:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(O&3)===0||ct(w,O)||(b=!0,Re(w,O));w=w.next}while(b);Je=!1}}function Cn(){vr()}function vr(){Fe=ce=!1;var d=0;_t!==0&&nee()&&(d=_t);for(var v=Z(),b=null,w=F;w!==null;){var I=w.next,O=bd(w,v);O===0?(w.next=null,b===null?F=I:b.next=I,I===null&&($=b)):(b=w,(d!==0||(O&3)!==0)&&(Fe=!0)),w=I}_i!==0&&_i!==5||Nt(d),_t!==0&&(_t=0)}function bd(d,v){for(var b=d.suspendedLanes,w=d.pingedLanes,I=d.expirationTimes,O=d.pendingLanes&-62914561;0<O;){var W=31-se(O),J=1<<W,ue=I[W];ue===-1?((J&b)===0||(J&w)!==0)&&(I[W]=$t(J,v)):ue<=v&&(d.expiredLanes|=J),O&=~J}if(v=Mn,b=On,b=Ye(d,d===v?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),w=d.callbackNode,b===0||d===v&&(ni===2||ni===9)||d.cancelPendingCommit!==null)return w!==null&&w!==null&&Vt(w),d.callbackNode=null,d.callbackPriority=0;if((b&3)===0||ct(d,b)){if(v=b&-b,v===d.callbackPriority)return v;switch(w!==null&&Vt(w),iu(b)){case 2:case 8:b=qe;break;case 32:b=Be;break;case 268435456:b=ht;break;default:b=Be}return w=Dc.bind(null,d),b=vt(b,w),d.callbackPriority=v,d.callbackNode=b,v}return w!==null&&w!==null&&Vt(w),d.callbackPriority=2,d.callbackNode=null,2}function Dc(d,v){if(_i!==0&&_i!==5)return d.callbackNode=null,d.callbackPriority=0,null;var b=d.callbackNode;if(Sd()&&d.callbackNode!==b)return null;var w=On;return w=Ye(d,d===Mn?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),w===0?null:(Yn(d,w,v),bd(d,Z()),d.callbackNode!=null&&d.callbackNode===b?Dc.bind(null,d):null)}function Re(d,v){if(Sd())return null;Yn(d,v,!0)}function xe(){ree(function(){(Kt&6)!==0?vt(ke,Cn):vr()})}function Oe(){if(_t===0){var d=du;d===0&&(d=ut,ut<<=1,(ut&261888)===0&&(ut=256)),_t=d}return _t}function pt(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Bp(""+d)}function ln(d,v){var b=v.ownerDocument.createElement("input");return b.name=v.name,b.value=v.value,d.id&&b.setAttribute("form",d.id),v.parentNode.insertBefore(b,v),d=new FormData(d),b.parentNode.removeChild(b),d}function ir(d,v,b,w,I){if(v==="submit"&&b&&b.stateNode===I){var O=pt((I[Br]||null).action),W=w.submitter;W&&(v=(v=W[Br]||null)?pt(v.formAction):W.getAttribute("formAction"),v!==null&&(O=v,W=null));var J=new Fp("action","action",null,w,I);d.push({event:J,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(_t!==0){var ue=W?ln(I,W):new FormData(I);$x(b,{pending:!0,data:ue,method:I.method,action:O},null,ue)}}else typeof O=="function"&&(J.preventDefault(),ue=W?ln(I,W):new FormData(I),$x(b,{pending:!0,data:ue,method:I.method,action:O},O,ue))},currentTarget:I}]})}}for(var cn=0;cn<jp.length;cn++){var oi=jp[cn],ra=oi.toLowerCase(),hi=oi[0].toUpperCase()+oi.slice(1);os(ra,"on"+hi)}os(Bm,"onAnimationEnd"),os(Zp,"onAnimationIteration"),os(xx,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os($M,"onTransitionRun"),os(bL,"onTransitionStart"),os(QM,"onTransitionCancel"),os(Sx,"onTransitionEnd"),_e("onMouseEnter",["mouseout","mouseover"]),_e("onMouseLeave",["mouseout","mouseover"]),_e("onPointerEnter",["pointerout","pointerover"]),_e("onPointerLeave",["pointerout","pointerover"]),De("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),De("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),De("onBeforeInput",["compositionend","keypress","textInput","paste"]),De("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),De("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),De("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ss));function J2(d,v){v=(v&4)!==0;for(var b=0;b<d.length;b++){var w=d[b],I=w.event;w=w.listeners;e:{var O=void 0;if(v)for(var W=w.length-1;0<=W;W--){var J=w[W],ue=J.instance,Ae=J.currentTarget;if(J=J.listener,ue!==O&&I.isPropagationStopped())break e;O=J,I.currentTarget=Ae;try{O(I)}catch(Xe){Kp(Xe)}I.currentTarget=null,O=ue}else for(W=0;W<w.length;W++){if(J=w[W],ue=J.instance,Ae=J.currentTarget,J=J.listener,ue!==O&&I.isPropagationStopped())break e;O=J,I.currentTarget=Ae;try{O(I)}catch(Xe){Kp(Xe)}I.currentTarget=null,O=ue}}}}function ii(d,v){var b=v[Ro];b===void 0&&(b=v[Ro]=new Set);var w=d+"__bubble";b.has(w)||(eF(v,d,2,!1),b.add(w))}function IL(d,v,b){var w=0;v&&(w|=4),eF(b,d,w,v)}var ZT="_reactListening"+Math.random().toString(36).slice(2);function PL(d){if(!d[ZT]){d[ZT]=!0,me.forEach(function(b){b!=="selectionchange"&&(LL.has(b)||IL(b,!1,d),IL(b,!0,d))});var v=d.nodeType===9?d:d.ownerDocument;v===null||v[ZT]||(v[ZT]=!0,IL("selectionchange",!1,v))}}function eF(d,v,b,w){switch(DF(v)){case 2:var I=Tee;break;case 8:I=wee;break;default:I=ZL}b=I.bind(null,v,b,d),I=void 0,!nx||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(I=!0),w?I!==void 0?d.addEventListener(v,b,{capture:!0,passive:I}):d.addEventListener(v,b,!0):I!==void 0?d.addEventListener(v,b,{passive:I}):d.addEventListener(v,b,!1)}function NL(d,v,b,w,I){var O=w;if((v&1)===0&&(v&2)===0&&w!==null)e:for(;;){if(w===null)return;var W=w.tag;if(W===3||W===4){var J=w.stateNode.containerInfo;if(J===I)break;if(W===4)for(W=w.return;W!==null;){var ue=W.tag;if((ue===3||ue===4)&&W.stateNode.containerInfo===I)return;W=W.return}for(;J!==null;){if(W=au(J),W===null)return;if(ue=W.tag,ue===5||ue===6||ue===26||ue===27){w=O=W;continue e}J=J.parentNode}}w=w.return}tx(function(){var Ae=O,Xe=Tm(b),Ke=[];e:{var Le=as.get(d);if(Le!==void 0){var Ve=Fp,qt=d;switch(d){case"keypress":if(Up(b)===0)break e;case"keydown":case"keyup":Ve=wf;break;case"focusin":qt="focus",Ve=Em;break;case"focusout":qt="blur",Ve=Em;break;case"beforeblur":case"afterblur":Ve=Em;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=ix;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=LM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=BM;break;case Bm:case Zp:case xx:Ve=_L;break;case Sx:Ve=SL;break;case"scroll":case"scrollend":Ve=DM;break;case"wheel":Ve=UM;break;case"copy":case"cut":case"paste":Ve=PM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=ox;break;case"toggle":case"beforetoggle":Ve=VM}var vn=(v&4)!==0,Bi=!vn&&(d==="scroll"||d==="scrollend"),ye=vn?Le!==null?Le+"Capture":null:Le;vn=[];for(var pe=Ae,we;pe!==null;){var je=pe;if(we=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||we===null||ye===null||(je=Fh(pe,ye),je!=null&&vn.push(gS(pe,je,we))),Bi)break;pe=pe.return}0<vn.length&&(Le=new Ve(Le,qt,null,b,Xe),Ke.push({event:Le,listeners:vn}))}}if((v&7)===0){e:{if(Le=d==="mouseover"||d==="pointerover",Ve=d==="mouseout"||d==="pointerout",Le&&b!==Mm&&(qt=b.relatedTarget||b.fromElement)&&(au(qt)||qt[Do]))break e;if((Ve||Le)&&(Le=Xe.window===Xe?Xe:(Le=Xe.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ve?(qt=b.relatedTarget||b.toElement,Ve=Ae,qt=qt?au(qt):null,qt!==null&&(Bi=a(qt),vn=qt.tag,qt!==Bi||vn!==5&&vn!==27&&vn!==6)&&(qt=null)):(Ve=null,qt=Ae),Ve!==qt)){if(vn=ix,je="onMouseLeave",ye="onMouseEnter",pe="mouse",(d==="pointerout"||d==="pointerover")&&(vn=ox,je="onPointerLeave",ye="onPointerEnter",pe="pointer"),Bi=Ve==null?Le:tc(Ve),we=qt==null?Le:tc(qt),Le=new vn(je,pe+"leave",Ve,b,Xe),Le.target=Bi,Le.relatedTarget=we,je=null,au(Xe)===Ae&&(vn=new vn(ye,pe+"enter",qt,b,Xe),vn.target=we,vn.relatedTarget=Bi,je=vn),Bi=je,Ve&&qt)t:{for(vn=$J,ye=Ve,pe=qt,we=0,je=ye;je;je=vn(je))we++;je=0;for(var on=pe;on;on=vn(on))je++;for(;0<we-je;)ye=vn(ye),we--;for(;0<je-we;)pe=vn(pe),je--;for(;we--;){if(ye===pe||pe!==null&&ye===pe.alternate){vn=ye;break t}ye=vn(ye),pe=vn(pe)}vn=null}else vn=null;Ve!==null&&tF(Ke,Le,Ve,vn,!1),qt!==null&&Bi!==null&&tF(Ke,Bi,qt,vn,!0)}}e:{if(Le=Ae?tc(Ae):window,Ve=Le.nodeName&&Le.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Le.type==="file")var gi=dx;else if(hx(Le))if(ol)gi=ZM;else{gi=gx;var jt=YM}else Ve=Le.nodeName,!Ve||Ve.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Ae&&is(Ae.elementType)&&(gi=dx):gi=qM;if(gi&&(gi=gi(d,Ae))){Om(Ke,gi,b,Xe);break e}jt&&jt(d,Le,Ae),d==="focusout"&&Ae&&Le.type==="number"&&Ae.memoizedProps.value!=null&&Fi(Le,"number",Le.value)}switch(jt=Ae?tc(Ae):window,d){case"focusin":(hx(jt)||jt.contentEditable==="true")&&(sl=jt,ll=Ae,Kh=null);break;case"focusout":Kh=ll=sl=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,$h(Ke,b,Xe);break;case"selectionchange":if(KM)break;case"keydown":case"keyup":$h(Ke,b,Xe)}var Hn;if(Af)e:{switch(d){case"compositionstart":var si="onCompositionStart";break e;case"compositionend":si="onCompositionEnd";break e;case"compositionupdate":si="onCompositionUpdate";break e}si=void 0}else Cf?Nm(d,b)&&(si="onCompositionEnd"):d==="keydown"&&b.keyCode===229&&(si="onCompositionStart");si&&(lx&&b.locale!=="ko"&&(Cf||si!=="onCompositionStart"?si==="onCompositionEnd"&&Cf&&(Hn=kp()):(Io=Xe,Am="value"in Io?Io.value:Io.textContent,Cf=!0)),jt=jT(Ae,si),0<jt.length&&(si=new Dm(si,d,null,b,Xe),Ke.push({event:si,listeners:jt}),Hn?si.data=Hn:(Hn=ux(b),Hn!==null&&(si.data=Hn)))),(Hn=Pm?WM(d,b):cx(d,b))&&(si=jT(Ae,"onBeforeInput"),0<si.length&&(jt=new Dm("onBeforeInput","beforeinput",null,b,Xe),Ke.push({event:jt,listeners:si}),jt.data=Hn)),ir(Ke,d,Ae,b,Xe)}J2(Ke,v)})}function gS(d,v,b){return{instance:d,listener:v,currentTarget:b}}function jT(d,v){for(var b=v+"Capture",w=[];d!==null;){var I=d,O=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||O===null||(I=Fh(d,b),I!=null&&w.unshift(gS(d,I,O)),I=Fh(d,v),I!=null&&w.push(gS(d,I,O))),d.tag===3)return w;d=d.return}return[]}function $J(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function tF(d,v,b,w,I){for(var O=v._reactName,W=[];b!==null&&b!==w;){var J=b,ue=J.alternate,Ae=J.stateNode;if(J=J.tag,ue!==null&&ue===w)break;J!==5&&J!==26&&J!==27||Ae===null||(ue=Ae,I?(Ae=Fh(b,O),Ae!=null&&W.unshift(gS(b,Ae,ue))):I||(Ae=Fh(b,O),Ae!=null&&W.push(gS(b,Ae,ue)))),b=b.return}W.length!==0&&d.push({event:v,listeners:W})}var QJ=/\r\n?/g,JJ=/\u0000|\uFFFD/g;function nF(d){return(typeof d=="string"?d:""+d).replace(QJ,`
`).replace(JJ,"")}function iF(d,v){return v=nF(v),nF(d)===v}function zi(d,v,b,w,I,O){switch(b){case"children":typeof w=="string"?v==="body"||v==="textarea"&&w===""||Mr(d,w):(typeof w=="number"||typeof w=="bigint")&&v!=="body"&&Mr(d,""+w);break;case"className":rn(d,"class",w);break;case"tabIndex":rn(d,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":rn(d,b,w);break;case"style":bf(d,w,O);break;case"data":if(v!=="object"){rn(d,"data",w);break}case"src":case"href":if(w===""&&(v!=="a"||b!=="href")){d.removeAttribute(b);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){d.removeAttribute(b);break}w=Bp(""+w),d.setAttribute(b,w);break;case"action":case"formAction":if(typeof w=="function"){d.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(b==="formAction"?(v!=="input"&&zi(d,v,"name",I.name,I,null),zi(d,v,"formEncType",I.formEncType,I,null),zi(d,v,"formMethod",I.formMethod,I,null),zi(d,v,"formTarget",I.formTarget,I,null)):(zi(d,v,"encType",I.encType,I,null),zi(d,v,"method",I.method,I,null),zi(d,v,"target",I.target,I,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){d.removeAttribute(b);break}w=Bp(""+w),d.setAttribute(b,w);break;case"onClick":w!=null&&(d.onclick=su);break;case"onScroll":w!=null&&ii("scroll",d);break;case"onScrollEnd":w!=null&&ii("scrollend",d);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(b=w.__html,b!=null){if(I.children!=null)throw Error(n(60));d.innerHTML=b}}break;case"multiple":d.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":d.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){d.removeAttribute("xlink:href");break}b=Bp(""+w),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(b,""+w):d.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(b,""):d.removeAttribute(b);break;case"capture":case"download":w===!0?d.setAttribute(b,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(b,w):d.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?d.setAttribute(b,w):d.removeAttribute(b);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?d.removeAttribute(b):d.setAttribute(b,w);break;case"popover":ii("beforetoggle",d),ii("toggle",d),Wt(d,"popover",w);break;case"xlinkActuate":Yt(d,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Yt(d,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Yt(d,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Yt(d,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Yt(d,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Yt(d,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Yt(d,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Yt(d,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Yt(d,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Wt(d,"is",w);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=CM.get(b)||b,Wt(d,b,w))}}function OL(d,v,b,w,I,O){switch(b){case"style":bf(d,w,O);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(b=w.__html,b!=null){if(I.children!=null)throw Error(n(60));d.innerHTML=b}}break;case"children":typeof w=="string"?Mr(d,w):(typeof w=="number"||typeof w=="bigint")&&Mr(d,""+w);break;case"onScroll":w!=null&&ii("scroll",d);break;case"onScrollEnd":w!=null&&ii("scrollend",d);break;case"onClick":w!=null&&(d.onclick=su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ne.hasOwnProperty(b))e:{if(b[0]==="o"&&b[1]==="n"&&(I=b.endsWith("Capture"),v=b.slice(2,I?b.length-7:void 0),O=d[Br]||null,O=O!=null?O[b]:null,typeof O=="function"&&d.removeEventListener(v,O,I),typeof w=="function")){typeof O!="function"&&O!==null&&(b in d?d[b]=null:d.hasAttribute(b)&&d.removeAttribute(b)),d.addEventListener(v,w,I);break e}b in d?d[b]=w:w===!0?d.setAttribute(b,""):Wt(d,b,w)}}}function ja(d,v,b){switch(v){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ii("error",d),ii("load",d);var w=!1,I=!1,O;for(O in b)if(b.hasOwnProperty(O)){var W=b[O];if(W!=null)switch(O){case"src":w=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,v));default:zi(d,v,O,W,b,null)}}I&&zi(d,v,"srcSet",b.srcSet,b,null),w&&zi(d,v,"src",b.src,b,null);return;case"input":ii("invalid",d);var J=O=W=I=null,ue=null,Ae=null;for(w in b)if(b.hasOwnProperty(w)){var Xe=b[w];if(Xe!=null)switch(w){case"name":I=Xe;break;case"type":W=Xe;break;case"checked":ue=Xe;break;case"defaultChecked":Ae=Xe;break;case"value":O=Xe;break;case"defaultValue":J=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(n(137,v));break;default:zi(d,v,w,Xe,b,null)}}Is(d,O,J,ue,Ae,W,I,!1);return;case"select":ii("invalid",d),w=W=O=null;for(I in b)if(b.hasOwnProperty(I)&&(J=b[I],J!=null))switch(I){case"value":O=J;break;case"defaultValue":W=J;break;case"multiple":w=J;default:zi(d,v,I,J,b,null)}v=O,b=W,d.multiple=!!w,v!=null?Ua(d,!!w,v,!1):b!=null&&Ua(d,!!w,b,!0);return;case"textarea":ii("invalid",d),O=I=w=null;for(W in b)if(b.hasOwnProperty(W)&&(J=b[W],J!=null))switch(W){case"value":w=J;break;case"defaultValue":I=J;break;case"children":O=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(91));break;default:zi(d,v,W,J,b,null)}kr(d,w,I,O);return;case"option":for(ue in b)if(b.hasOwnProperty(ue)&&(w=b[ue],w!=null))switch(ue){case"selected":d.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:zi(d,v,ue,w,b,null)}return;case"dialog":ii("beforetoggle",d),ii("toggle",d),ii("cancel",d),ii("close",d);break;case"iframe":case"object":ii("load",d);break;case"video":case"audio":for(w=0;w<Ss.length;w++)ii(Ss[w],d);break;case"image":ii("error",d),ii("load",d);break;case"details":ii("toggle",d);break;case"embed":case"source":case"link":ii("error",d),ii("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in b)if(b.hasOwnProperty(Ae)&&(w=b[Ae],w!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,v));default:zi(d,v,Ae,w,b,null)}return;default:if(is(v)){for(Xe in b)b.hasOwnProperty(Xe)&&(w=b[Xe],w!==void 0&&OL(d,v,Xe,w,b,void 0));return}}for(J in b)b.hasOwnProperty(J)&&(w=b[J],w!=null&&zi(d,v,J,w,b,null))}function eee(d,v,b,w){switch(v){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,O=null,W=null,J=null,ue=null,Ae=null,Xe=null;for(Ve in b){var Ke=b[Ve];if(b.hasOwnProperty(Ve)&&Ke!=null)switch(Ve){case"checked":break;case"value":break;case"defaultValue":ue=Ke;default:w.hasOwnProperty(Ve)||zi(d,v,Ve,null,w,Ke)}}for(var Le in w){var Ve=w[Le];if(Ke=b[Le],w.hasOwnProperty(Le)&&(Ve!=null||Ke!=null))switch(Le){case"type":O=Ve;break;case"name":I=Ve;break;case"checked":Ae=Ve;break;case"defaultChecked":Xe=Ve;break;case"value":W=Ve;break;case"defaultValue":J=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(n(137,v));break;default:Ve!==Ke&&zi(d,v,Le,Ve,w,Ke)}}br(d,W,J,ue,Ae,Xe,O,I);return;case"select":Ve=W=J=Le=null;for(O in b)if(ue=b[O],b.hasOwnProperty(O)&&ue!=null)switch(O){case"value":break;case"multiple":Ve=ue;default:w.hasOwnProperty(O)||zi(d,v,O,null,w,ue)}for(I in w)if(O=w[I],ue=b[I],w.hasOwnProperty(I)&&(O!=null||ue!=null))switch(I){case"value":Le=O;break;case"defaultValue":J=O;break;case"multiple":W=O;default:O!==ue&&zi(d,v,I,O,w,ue)}v=J,b=W,w=Ve,Le!=null?Ua(d,!!b,Le,!1):!!w!=!!b&&(v!=null?Ua(d,!!b,v,!0):Ua(d,!!b,b?[]:"",!1));return;case"textarea":Ve=Le=null;for(J in b)if(I=b[J],b.hasOwnProperty(J)&&I!=null&&!w.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:zi(d,v,J,null,w,I)}for(W in w)if(I=w[W],O=b[W],w.hasOwnProperty(W)&&(I!=null||O!=null))switch(W){case"value":Le=I;break;case"defaultValue":Ve=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:I!==O&&zi(d,v,W,I,w,O)}pi(d,Le,Ve);return;case"option":for(var qt in b)if(Le=b[qt],b.hasOwnProperty(qt)&&Le!=null&&!w.hasOwnProperty(qt))switch(qt){case"selected":d.selected=!1;break;default:zi(d,v,qt,null,w,Le)}for(ue in w)if(Le=w[ue],Ve=b[ue],w.hasOwnProperty(ue)&&Le!==Ve&&(Le!=null||Ve!=null))switch(ue){case"selected":d.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:zi(d,v,ue,Le,w,Ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vn in b)Le=b[vn],b.hasOwnProperty(vn)&&Le!=null&&!w.hasOwnProperty(vn)&&zi(d,v,vn,null,w,Le);for(Ae in w)if(Le=w[Ae],Ve=b[Ae],w.hasOwnProperty(Ae)&&Le!==Ve&&(Le!=null||Ve!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(n(137,v));break;default:zi(d,v,Ae,Le,w,Ve)}return;default:if(is(v)){for(var Bi in b)Le=b[Bi],b.hasOwnProperty(Bi)&&Le!==void 0&&!w.hasOwnProperty(Bi)&&OL(d,v,Bi,void 0,w,Le);for(Xe in w)Le=w[Xe],Ve=b[Xe],!w.hasOwnProperty(Xe)||Le===Ve||Le===void 0&&Ve===void 0||OL(d,v,Xe,Le,w,Ve);return}}for(var ye in b)Le=b[ye],b.hasOwnProperty(ye)&&Le!=null&&!w.hasOwnProperty(ye)&&zi(d,v,ye,null,w,Le);for(Ke in w)Le=w[Ke],Ve=b[Ke],!w.hasOwnProperty(Ke)||Le===Ve||Le==null&&Ve==null||zi(d,v,Ke,Le,w,Ve)}function rF(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tee(){if(typeof performance.getEntriesByType=="function"){for(var d=0,v=0,b=performance.getEntriesByType("resource"),w=0;w<b.length;w++){var I=b[w],O=I.transferSize,W=I.initiatorType,J=I.duration;if(O&&J&&rF(W)){for(W=0,J=I.responseEnd,w+=1;w<b.length;w++){var ue=b[w],Ae=ue.startTime;if(Ae>J)break;var Xe=ue.transferSize,Ke=ue.initiatorType;Xe&&rF(Ke)&&(ue=ue.responseEnd,W+=Xe*(ue<J?1:(J-Ae)/(ue-Ae)))}if(--w,v+=8*(O+W)/(I.duration/1e3),d++,10<d)break}}if(0<d)return v/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var zL=null,BL=null;function KT(d){return d.nodeType===9?d:d.ownerDocument}function aF(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oF(d,v){if(d===0)switch(v){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&v==="foreignObject"?0:d}function kL(d,v){return d==="textarea"||d==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.children=="bigint"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var UL=null;function nee(){var d=window.event;return d&&d.type==="popstate"?d===UL?!1:(UL=d,!0):(UL=null,!1)}var sF=typeof setTimeout=="function"?setTimeout:void 0,iee=typeof clearTimeout=="function"?clearTimeout:void 0,lF=typeof Promise=="function"?Promise:void 0,ree=typeof queueMicrotask=="function"?queueMicrotask:typeof lF<"u"?function(d){return lF.resolve(null).then(d).catch(aee)}:sF;function aee(d){setTimeout(function(){throw d})}function Md(d){return d==="head"}function uF(d,v){var b=v,w=0;do{var I=b.nextSibling;if(d.removeChild(b),I&&I.nodeType===8)if(b=I.data,b==="/$"||b==="/&"){if(w===0){d.removeChild(I),Ey(v);return}w--}else if(b==="$"||b==="$?"||b==="$~"||b==="$!"||b==="&")w++;else if(b==="html")mS(d.ownerDocument.documentElement);else if(b==="head"){b=d.ownerDocument.head,mS(b);for(var O=b.firstChild;O;){var W=O.nextSibling,J=O.nodeName;O[Ls]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&O.rel.toLowerCase()==="stylesheet"||b.removeChild(O),O=W}}else b==="body"&&mS(d.ownerDocument.body);b=I}while(b);Ey(v)}function cF(d,v){var b=d;d=0;do{var w=b.nextSibling;if(b.nodeType===1?v?(b._stashedDisplay=b.style.display,b.style.display="none"):(b.style.display=b._stashedDisplay||"",b.getAttribute("style")===""&&b.removeAttribute("style")):b.nodeType===3&&(v?(b._stashedText=b.nodeValue,b.nodeValue=""):b.nodeValue=b._stashedText||""),w&&w.nodeType===8)if(b=w.data,b==="/$"){if(d===0)break;d--}else b!=="$"&&b!=="$?"&&b!=="$~"&&b!=="$!"||d++;b=w}while(b)}function FL(d){var v=d.firstChild;for(v&&v.nodeType===10&&(v=v.nextSibling);v;){var b=v;switch(v=v.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":FL(b),ru(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}d.removeChild(b)}}function oee(d,v,b,w){for(;d.nodeType===1;){var I=b;if(d.nodeName.toLowerCase()!==v.toLowerCase()){if(!w&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(w){if(!d[Ls])switch(v){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(O=d.getAttribute("rel"),O==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(O!==I.rel||d.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||d.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||d.getAttribute("title")!==(I.title==null?null:I.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(O=d.getAttribute("src"),(O!==(I.src==null?null:I.src)||d.getAttribute("type")!==(I.type==null?null:I.type)||d.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&O&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(v==="input"&&d.type==="hidden"){var O=I.name==null?null:""+I.name;if(I.type==="hidden"&&d.getAttribute("name")===O)return d}else return d;if(d=Cl(d.nextSibling),d===null)break}return null}function see(d,v,b){if(v==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!b||(d=Cl(d.nextSibling),d===null))return null;return d}function fF(d,v){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!v||(d=Cl(d.nextSibling),d===null))return null;return d}function VL(d){return d.data==="$?"||d.data==="$~"}function GL(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function lee(d,v){var b=d.ownerDocument;if(d.data==="$~")d._reactRetry=v;else if(d.data!=="$?"||b.readyState!=="loading")v();else{var w=function(){v(),b.removeEventListener("DOMContentLoaded",w)};b.addEventListener("DOMContentLoaded",w),d._reactRetry=w}}function Cl(d){for(;d!=null;d=d.nextSibling){var v=d.nodeType;if(v===1||v===3)break;if(v===8){if(v=d.data,v==="$"||v==="$!"||v==="$?"||v==="$~"||v==="&"||v==="F!"||v==="F")break;if(v==="/$"||v==="/&")return null}}return d}var HL=null;function hF(d){d=d.nextSibling;for(var v=0;d;){if(d.nodeType===8){var b=d.data;if(b==="/$"||b==="/&"){if(v===0)return Cl(d.nextSibling);v--}else b!=="$"&&b!=="$!"&&b!=="$?"&&b!=="$~"&&b!=="&"||v++}d=d.nextSibling}return null}function dF(d){d=d.previousSibling;for(var v=0;d;){if(d.nodeType===8){var b=d.data;if(b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"){if(v===0)return d;v--}else b!=="/$"&&b!=="/&"||v++}d=d.previousSibling}return null}function pF(d,v,b){switch(v=KT(b),d){case"html":if(d=v.documentElement,!d)throw Error(n(452));return d;case"head":if(d=v.head,!d)throw Error(n(453));return d;case"body":if(d=v.body,!d)throw Error(n(454));return d;default:throw Error(n(451))}}function mS(d){for(var v=d.attributes;v.length;)d.removeAttributeNode(v[0]);ru(d)}var El=new Map,vF=new Set;function $T(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var $f=j.d;j.d={f:uee,r:cee,D:fee,C:hee,L:dee,m:pee,X:gee,S:vee,M:mee};function uee(){var d=$f.f(),v=Bs();return d||v}function cee(d){var v=ou(d);v!==null&&v.tag===5&&v.type==="form"?PT(v):$f.r(d)}var wy=typeof document>"u"?null:document;function gF(d,v,b){var w=wy;if(w&&typeof v=="string"&&v){var I=pn(v);I='link[rel="'+d+'"][href="'+I+'"]',typeof b=="string"&&(I+='[crossorigin="'+b+'"]'),vF.has(I)||(vF.add(I),d={rel:d,crossOrigin:b,href:v},w.querySelector(I)===null&&(v=w.createElement("link"),ja(v,"link",d),Q(v),w.head.appendChild(v)))}}function fee(d){$f.D(d),gF("dns-prefetch",d,null)}function hee(d,v){$f.C(d,v),gF("preconnect",d,v)}function dee(d,v,b){$f.L(d,v,b);var w=wy;if(w&&d&&v){var I='link[rel="preload"][as="'+pn(v)+'"]';v==="image"&&b&&b.imageSrcSet?(I+='[imagesrcset="'+pn(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(I+='[imagesizes="'+pn(b.imageSizes)+'"]')):I+='[href="'+pn(d)+'"]';var O=I;switch(v){case"style":O=Ay(d);break;case"script":O=Cy(d)}El.has(O)||(d=f({rel:"preload",href:v==="image"&&b&&b.imageSrcSet?void 0:d,as:v},b),El.set(O,d),w.querySelector(I)!==null||v==="style"&&w.querySelector(yS(O))||v==="script"&&w.querySelector(_S(O))||(v=w.createElement("link"),ja(v,"link",d),Q(v),w.head.appendChild(v)))}}function pee(d,v){$f.m(d,v);var b=wy;if(b&&d){var w=v&&typeof v.as=="string"?v.as:"script",I='link[rel="modulepreload"][as="'+pn(w)+'"][href="'+pn(d)+'"]',O=I;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Cy(d)}if(!El.has(O)&&(d=f({rel:"modulepreload",href:d},v),El.set(O,d),b.querySelector(I)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(_S(O)))return}w=b.createElement("link"),ja(w,"link",d),Q(w),b.head.appendChild(w)}}}function vee(d,v,b){$f.S(d,v,b);var w=wy;if(w&&d){var I=rl(w).hoistableStyles,O=Ay(d);v=v||"default";var W=I.get(O);if(!W){var J={loading:0,preload:null};if(W=w.querySelector(yS(O)))J.loading=5;else{d=f({rel:"stylesheet",href:d,"data-precedence":v},b),(b=El.get(O))&&WL(d,b);var ue=W=w.createElement("link");Q(ue),ja(ue,"link",d),ue._p=new Promise(function(Ae,Xe){ue.onload=Ae,ue.onerror=Xe}),ue.addEventListener("load",function(){J.loading|=1}),ue.addEventListener("error",function(){J.loading|=2}),J.loading|=4,QT(W,v,w)}W={type:"stylesheet",instance:W,count:1,state:J},I.set(O,W)}}}function gee(d,v){$f.X(d,v);var b=wy;if(b&&d){var w=rl(b).hoistableScripts,I=Cy(d),O=w.get(I);O||(O=b.querySelector(_S(I)),O||(d=f({src:d,async:!0},v),(v=El.get(I))&&XL(d,v),O=b.createElement("script"),Q(O),ja(O,"link",d),b.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},w.set(I,O))}}function mee(d,v){$f.M(d,v);var b=wy;if(b&&d){var w=rl(b).hoistableScripts,I=Cy(d),O=w.get(I);O||(O=b.querySelector(_S(I)),O||(d=f({src:d,async:!0,type:"module"},v),(v=El.get(I))&&XL(d,v),O=b.createElement("script"),Q(O),ja(O,"link",d),b.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},w.set(I,O))}}function mF(d,v,b,w){var I=(I=he.current)?$T(I):null;if(!I)throw Error(n(446));switch(d){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(v=Ay(b.href),b=rl(I).hoistableStyles,w=b.get(v),w||(w={type:"style",instance:null,count:0,state:null},b.set(v,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){d=Ay(b.href);var O=rl(I).hoistableStyles,W=O.get(d);if(W||(I=I.ownerDocument||I,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(d,W),(O=I.querySelector(yS(d)))&&!O._p&&(W.instance=O,W.state.loading=5),El.has(d)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},El.set(d,b),O||yee(I,d,b,W.state))),v&&w===null)throw Error(n(528,""));return W}if(v&&w!==null)throw Error(n(529,""));return null;case"script":return v=b.async,b=b.src,typeof b=="string"&&v&&typeof v!="function"&&typeof v!="symbol"?(v=Cy(b),b=rl(I).hoistableScripts,w=b.get(v),w||(w={type:"script",instance:null,count:0,state:null},b.set(v,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,d))}}function Ay(d){return'href="'+pn(d)+'"'}function yS(d){return'link[rel="stylesheet"]['+d+"]"}function yF(d){return f({},d,{"data-precedence":d.precedence,precedence:null})}function yee(d,v,b,w){d.querySelector('link[rel="preload"][as="style"]['+v+"]")?w.loading=1:(v=d.createElement("link"),w.preload=v,v.addEventListener("load",function(){return w.loading|=1}),v.addEventListener("error",function(){return w.loading|=2}),ja(v,"link",b),Q(v),d.head.appendChild(v))}function Cy(d){return'[src="'+pn(d)+'"]'}function _S(d){return"script[async]"+d}function _F(d,v,b){if(v.count++,v.instance===null)switch(v.type){case"style":var w=d.querySelector('style[data-href~="'+pn(b.href)+'"]');if(w)return v.instance=w,Q(w),w;var I=f({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return w=(d.ownerDocument||d).createElement("style"),Q(w),ja(w,"style",I),QT(w,b.precedence,d),v.instance=w;case"stylesheet":I=Ay(b.href);var O=d.querySelector(yS(I));if(O)return v.state.loading|=4,v.instance=O,Q(O),O;w=yF(b),(I=El.get(I))&&WL(w,I),O=(d.ownerDocument||d).createElement("link"),Q(O);var W=O;return W._p=new Promise(function(J,ue){W.onload=J,W.onerror=ue}),ja(O,"link",w),v.state.loading|=4,QT(O,b.precedence,d),v.instance=O;case"script":return O=Cy(b.src),(I=d.querySelector(_S(O)))?(v.instance=I,Q(I),I):(w=b,(I=El.get(O))&&(w=f({},b),XL(w,I)),d=d.ownerDocument||d,I=d.createElement("script"),Q(I),ja(I,"link",w),d.head.appendChild(I),v.instance=I);case"void":return null;default:throw Error(n(443,v.type))}else v.type==="stylesheet"&&(v.state.loading&4)===0&&(w=v.instance,v.state.loading|=4,QT(w,b.precedence,d));return v.instance}function QT(d,v,b){for(var w=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=w.length?w[w.length-1]:null,O=I,W=0;W<w.length;W++){var J=w[W];if(J.dataset.precedence===v)O=J;else if(O!==I)break}O?O.parentNode.insertBefore(d,O.nextSibling):(v=b.nodeType===9?b.head:b,v.insertBefore(d,v.firstChild))}function WL(d,v){d.crossOrigin==null&&(d.crossOrigin=v.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=v.referrerPolicy),d.title==null&&(d.title=v.title)}function XL(d,v){d.crossOrigin==null&&(d.crossOrigin=v.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=v.referrerPolicy),d.integrity==null&&(d.integrity=v.integrity)}var JT=null;function xF(d,v,b){if(JT===null){var w=new Map,I=JT=new Map;I.set(b,w)}else I=JT,w=I.get(b),w||(w=new Map,I.set(b,w));if(w.has(d))return w;for(w.set(d,null),b=b.getElementsByTagName(d),I=0;I<b.length;I++){var O=b[I];if(!(O[Ls]||O[Ki]||d==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var W=O.getAttribute(v)||"";W=d+W;var J=w.get(W);J?J.push(O):w.set(W,[O])}}return w}function SF(d,v,b){d=d.ownerDocument||d,d.head.insertBefore(b,v==="title"?d.querySelector("head > title"):null)}function _ee(d,v,b){if(b===1||v.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof v.precedence!="string"||typeof v.href!="string"||v.href==="")break;return!0;case"link":if(typeof v.rel!="string"||typeof v.href!="string"||v.href===""||v.onLoad||v.onError)break;switch(v.rel){case"stylesheet":return d=v.disabled,typeof v.precedence=="string"&&d==null;default:return!0}case"script":if(v.async&&typeof v.async!="function"&&typeof v.async!="symbol"&&!v.onLoad&&!v.onError&&v.src&&typeof v.src=="string")return!0}return!1}function bF(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function xee(d,v,b,w){if(b.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(b.state.loading&4)===0){if(b.instance===null){var I=Ay(w.href),O=v.querySelector(yS(I));if(O){v=O._p,v!==null&&typeof v=="object"&&typeof v.then=="function"&&(d.count++,d=ew.bind(d),v.then(d,d)),b.state.loading|=4,b.instance=O,Q(O);return}O=v.ownerDocument||v,w=yF(w),(I=El.get(I))&&WL(w,I),O=O.createElement("link"),Q(O);var W=O;W._p=new Promise(function(J,ue){W.onload=J,W.onerror=ue}),ja(O,"link",w),b.instance=O}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(b,v),(v=b.state.preload)&&(b.state.loading&3)===0&&(d.count++,b=ew.bind(d),v.addEventListener("load",b),v.addEventListener("error",b))}}var YL=0;function See(d,v){return d.stylesheets&&d.count===0&&nw(d,d.stylesheets),0<d.count||0<d.imgCount?function(b){var w=setTimeout(function(){if(d.stylesheets&&nw(d,d.stylesheets),d.unsuspend){var O=d.unsuspend;d.unsuspend=null,O()}},6e4+v);0<d.imgBytes&&YL===0&&(YL=62500*tee());var I=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&nw(d,d.stylesheets),d.unsuspend)){var O=d.unsuspend;d.unsuspend=null,O()}},(d.imgBytes>YL?50:800)+v);return d.unsuspend=b,function(){d.unsuspend=null,clearTimeout(w),clearTimeout(I)}}:null}function ew(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nw(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var tw=null;function nw(d,v){d.stylesheets=null,d.unsuspend!==null&&(d.count++,tw=new Map,v.forEach(bee,d),tw=null,ew.call(d))}function bee(d,v){if(!(v.state.loading&4)){var b=tw.get(d);if(b)var w=b.get(null);else{b=new Map,tw.set(d,b);for(var I=d.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<I.length;O++){var W=I[O];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(b.set(W.dataset.precedence,W),w=W)}w&&b.set(null,w)}I=v.instance,W=I.getAttribute("data-precedence"),O=b.get(W)||w,O===w&&b.set(null,I),b.set(W,I),this.count++,w=ew.bind(this),I.addEventListener("load",w),I.addEventListener("error",w),O?O.parentNode.insertBefore(I,O.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(I,d.firstChild)),v.state.loading|=4}}var xS={$$typeof:T,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Mee(d,v,b,w,I,O,W,J,ue){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=w,this.onUncaughtError=I,this.onCaughtError=O,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function MF(d,v,b,w,I,O,W,J,ue,Ae,Xe,Ke){return d=new Mee(d,v,b,W,ue,Ae,Xe,Ke,J),v=1,O===!0&&(v|=24),O=$i(3,null,null,v),d.current=O,O.stateNode=d,v=Mx(),v.refCount++,d.pooledCache=v,v.refCount++,O.memoizedState={element:w,isDehydrated:b,cache:v},iv(O),d}function TF(d){return d?(d=oc,d):oc}function wF(d,v,b,w,I,O){I=TF(I),w.context===null?w.context=I:w.pendingContext=I,w=vu(v),w.payload={element:b},O=O===void 0?null:O,O!==null&&(w.callback=O),b=pc(d,w,v),b!==null&&(Fn(b,d,v),vc(b,d,v))}function AF(d,v){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<v?b:v}}function qL(d,v){AF(d,v),(d=d.alternate)&&AF(d,v)}function CF(d){if(d.tag===13||d.tag===31){var v=Ga(d,67108864);v!==null&&Fn(v,d,67108864),qL(d,67108864)}}function EF(d){if(d.tag===13||d.tag===31){var v=Vo();v=Ju(v);var b=Ga(d,v);b!==null&&Fn(b,d,v),qL(d,v)}}var iw=!0;function Tee(d,v,b,w){var I=V.T;V.T=null;var O=j.p;try{j.p=2,ZL(d,v,b,w)}finally{j.p=O,V.T=I}}function wee(d,v,b,w){var I=V.T;V.T=null;var O=j.p;try{j.p=8,ZL(d,v,b,w)}finally{j.p=O,V.T=I}}function ZL(d,v,b,w){if(iw){var I=jL(w);if(I===null)NL(d,v,w,rw,b),RF(d,w);else if(Cee(I,d,v,b,w))w.stopPropagation();else if(RF(d,w),v&4&&-1<Aee.indexOf(d)){for(;I!==null;){var O=ou(I);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var W=nt(O.pendingLanes);if(W!==0){var J=O;for(J.pendingLanes|=2,J.entangledLanes|=2;W;){var ue=1<<31-se(W);J.entanglements[1]|=ue,W&=~ue}st(O),(Kt&6)===0&&(dr=Z()+500,Nt(0))}}break;case 31:case 13:J=Ga(O,2),J!==null&&Fn(J,O,2),Bs(),qL(O,2)}if(O=jL(w),O===null&&NL(d,v,w,rw,b),O===I)break;I=O}I!==null&&w.stopPropagation()}else NL(d,v,w,null,b)}}function jL(d){return d=Tm(d),KL(d)}var rw=null;function KL(d){if(rw=null,d=au(d),d!==null){var v=a(d);if(v===null)d=null;else{var b=v.tag;if(b===13){if(d=o(v),d!==null)return d;d=null}else if(b===31){if(d=s(v),d!==null)return d;d=null}else if(b===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;d=null}else v!==d&&(d=null)}}return rw=d,null}function DF(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case ke:return 2;case qe:return 8;case Be:case Dt:return 32;case ht:return 268435456;default:return 32}default:return 32}}var $L=!1,Td=null,wd=null,Ad=null,SS=new Map,bS=new Map,Cd=[],Aee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RF(d,v){switch(d){case"focusin":case"focusout":Td=null;break;case"dragenter":case"dragleave":wd=null;break;case"mouseover":case"mouseout":Ad=null;break;case"pointerover":case"pointerout":SS.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":bS.delete(v.pointerId)}}function MS(d,v,b,w,I,O){return d===null||d.nativeEvent!==O?(d={blockedOn:v,domEventName:b,eventSystemFlags:w,nativeEvent:O,targetContainers:[I]},v!==null&&(v=ou(v),v!==null&&CF(v)),d):(d.eventSystemFlags|=w,v=d.targetContainers,I!==null&&v.indexOf(I)===-1&&v.push(I),d)}function Cee(d,v,b,w,I){switch(v){case"focusin":return Td=MS(Td,d,v,b,w,I),!0;case"dragenter":return wd=MS(wd,d,v,b,w,I),!0;case"mouseover":return Ad=MS(Ad,d,v,b,w,I),!0;case"pointerover":var O=I.pointerId;return SS.set(O,MS(SS.get(O)||null,d,v,b,w,I)),!0;case"gotpointercapture":return O=I.pointerId,bS.set(O,MS(bS.get(O)||null,d,v,b,w,I)),!0}return!1}function LF(d){var v=au(d.target);if(v!==null){var b=a(v);if(b!==null){if(v=b.tag,v===13){if(v=o(b),v!==null){d.blockedOn=v,wa(d.priority,function(){EF(b)});return}}else if(v===31){if(v=s(b),v!==null){d.blockedOn=v,wa(d.priority,function(){EF(b)});return}}else if(v===3&&b.stateNode.current.memoizedState.isDehydrated){d.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}d.blockedOn=null}function aw(d){if(d.blockedOn!==null)return!1;for(var v=d.targetContainers;0<v.length;){var b=jL(d.nativeEvent);if(b===null){b=d.nativeEvent;var w=new b.constructor(b.type,b);Mm=w,b.target.dispatchEvent(w),Mm=null}else return v=ou(b),v!==null&&CF(v),d.blockedOn=b,!1;v.shift()}return!0}function IF(d,v,b){aw(d)&&b.delete(v)}function Eee(){$L=!1,Td!==null&&aw(Td)&&(Td=null),wd!==null&&aw(wd)&&(wd=null),Ad!==null&&aw(Ad)&&(Ad=null),SS.forEach(IF),bS.forEach(IF)}function ow(d,v){d.blockedOn===v&&(d.blockedOn=null,$L||($L=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Eee)))}var sw=null;function PF(d){sw!==d&&(sw=d,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){sw===d&&(sw=null);for(var v=0;v<d.length;v+=3){var b=d[v],w=d[v+1],I=d[v+2];if(typeof w!="function"){if(KL(w||b)===null)continue;break}var O=ou(b);O!==null&&(d.splice(v,3),v-=3,$x(O,{pending:!0,data:I,method:b.method,action:w},w,I))}}))}function Ey(d){function v(ue){return ow(ue,d)}Td!==null&&ow(Td,d),wd!==null&&ow(wd,d),Ad!==null&&ow(Ad,d),SS.forEach(v),bS.forEach(v);for(var b=0;b<Cd.length;b++){var w=Cd[b];w.blockedOn===d&&(w.blockedOn=null)}for(;0<Cd.length&&(b=Cd[0],b.blockedOn===null);)LF(b),b.blockedOn===null&&Cd.shift();if(b=(d.ownerDocument||d).$$reactFormReplay,b!=null)for(w=0;w<b.length;w+=3){var I=b[w],O=b[w+1],W=I[Br]||null;if(typeof O=="function")W||PF(b);else if(W){var J=null;if(O&&O.hasAttribute("formAction")){if(I=O,W=O[Br]||null)J=W.formAction;else if(KL(I)!==null)continue}else J=W.action;typeof J=="function"?b[w+1]=J:(b.splice(w,3),w-=3),PF(b)}}}function NF(){function d(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(W){return I=W})},focusReset:"manual",scroll:"manual"})}function v(){I!==null&&(I(),I=null),w||setTimeout(b,20)}function b(){if(!w&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,I=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",v),navigation.addEventListener("navigateerror",v),setTimeout(b,100),function(){w=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",v),navigation.removeEventListener("navigateerror",v),I!==null&&(I(),I=null)}}}function QL(d){this._internalRoot=d}lw.prototype.render=QL.prototype.render=function(d){var v=this._internalRoot;if(v===null)throw Error(n(409));var b=v.current,w=Vo();wF(b,w,d,v,null,null)},lw.prototype.unmount=QL.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var v=d.containerInfo;wF(d.current,2,null,d,null,null),Bs(),v[Do]=null}};function lw(d){this._internalRoot=d}lw.prototype.unstable_scheduleHydration=function(d){if(d){var v=xf();d={blockedOn:null,target:d,priority:v};for(var b=0;b<Cd.length&&v!==0&&v<Cd[b].priority;b++);Cd.splice(b,0,d),b===0&&LF(d)}};var OF=e.version;if(OF!=="19.2.3")throw Error(n(527,OF,"19.2.3"));j.findDOMNode=function(d){var v=d._reactInternals;if(v===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=u(v),d=d!==null?c(d):null,d=d===null?null:d.stateNode,d};var Dee={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uw.isDisabled&&uw.supportsFiber)try{et=uw.inject(Dee),ft=uw}catch{}}return wS.createRoot=function(d,v){if(!r(d))throw Error(n(299));var b=!1,w="",I=FT,O=iS,W=rS;return v!=null&&(v.unstable_strictMode===!0&&(b=!0),v.identifierPrefix!==void 0&&(w=v.identifierPrefix),v.onUncaughtError!==void 0&&(I=v.onUncaughtError),v.onCaughtError!==void 0&&(O=v.onCaughtError),v.onRecoverableError!==void 0&&(W=v.onRecoverableError)),v=MF(d,1,!1,null,null,b,w,null,I,O,W,NF),d[Do]=v.current,PL(d),new QL(v)},wS.hydrateRoot=function(d,v,b){if(!r(d))throw Error(n(299));var w=!1,I="",O=FT,W=iS,J=rS,ue=null;return b!=null&&(b.unstable_strictMode===!0&&(w=!0),b.identifierPrefix!==void 0&&(I=b.identifierPrefix),b.onUncaughtError!==void 0&&(O=b.onUncaughtError),b.onCaughtError!==void 0&&(W=b.onCaughtError),b.onRecoverableError!==void 0&&(J=b.onRecoverableError),b.formState!==void 0&&(ue=b.formState)),v=MF(d,1,!0,v,b??null,w,I,ue,O,W,J,NF),v.context=TF(null),b=v.current,w=Vo(),w=Ju(w),I=vu(w),I.callback=null,pc(b,I,w),b=w,v.current.lanes=b,ji(v,b),st(v),d[Do]=v.current,PL(d),new lw(v)},wS.version="19.2.3",wS}var XF;function kee(){if(XF)return tI.exports;XF=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),tI.exports=Bee(),tI.exports}var Uee=kee();const IPe=ZD(Uee),YF=i=>{let e;const t=new Set,n=(u,c)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const h=e;e=c??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(p=>p(e,h))}},r=()=>e,s={setState:n,getState:r,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=i(n,r,s);return s},T7=(i=>i?YF(i):YF),Fee=i=>i;function Vee(i,e=Fee){const t=R0.useSyncExternalStore(i.subscribe,R0.useCallback(()=>e(i.getState()),[i,e]),R0.useCallback(()=>e(i.getInitialState()),[i,e]));return R0.useDebugValue(t),t}const qF=i=>{const e=T7(i),t=n=>Vee(e,n);return Object.assign(t,e),t},PPe=(i=>i?qF(i):qF),Gee="modulepreload",Hee=function(i){return"/EvoGarden/"+i},ZF={},NPe=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let l=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");r=l(t.map(u=>{if(u=Hee(u),u in ZF)return;ZF[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Gee,c||(h.as="script"),h.crossOrigin="",h.href=u,s&&h.setAttribute("nonce",s),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return r.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};const jD="182",ug={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},cg={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},w7=0,PN=1,A7=2,Wee=3,C7=0,U0=1,Nb=2,Mg=3,af=0,Qo=1,Nu=2,Jc=0,Og=1,NN=2,ON=3,zN=4,E7=5,Kd=100,D7=101,R7=102,L7=103,I7=104,P7=200,N7=201,O7=202,z7=203,GC=204,HC=205,B7=206,k7=207,U7=208,F7=209,V7=210,G7=211,H7=212,W7=213,X7=214,WC=0,XC=1,YC=2,Xg=3,qC=4,ZC=5,jC=6,KC=7,j1=0,Y7=1,q7=2,Hl=0,yB=1,_B=2,xB=3,KD=4,SB=5,bB=6,MB=7,BN="attached",Z7="detached",$D=300,of=301,yp=302,r1=303,a1=304,A_=306,_p=1e3,Ko=1001,j0=1002,yr=1003,QD=1004,Xee=1004,Tg=1005,Yee=1005,ki=1006,F0=1007,qee=1007,Gl=1008,Zee=1008,Zo=1009,TB=1010,wB=1011,K0=1012,JD=1013,Yl=1014,$o=1015,sf=1016,eR=1017,tR=1018,$0=1020,AB=35902,CB=35899,EB=1021,DB=1022,To=1023,lf=1026,Jd=1027,nR=1028,K1=1029,Yg=1030,iR=1031,jee=1032,rR=1033,Ob=33776,zb=33777,Bb=33778,kb=33779,$C=35840,QC=35841,JC=35842,eE=35843,tE=36196,nE=37492,iE=37496,rE=37488,aE=37489,oE=37490,sE=37491,lE=37808,uE=37809,cE=37810,fE=37811,hE=37812,dE=37813,pE=37814,vE=37815,gE=37816,mE=37817,yE=37818,_E=37819,xE=37820,SE=37821,bE=36492,ME=36494,TE=36495,wE=36283,AE=36284,CE=36285,EE=36286,j7=2200,K7=2201,$7=2202,Q0=2300,J0=2301,mC=2302,wg=2400,Ag=2401,o1=2402,aR=2500,RB=2501,Q7=0,LB=1,DE=2,J7=3200,Kee=3201,$ee=3202,Qee=3203,Ep=0,eX=1,hh="",Yr="srgb",eo="srgb-linear",s1="linear",Di="srgb",Jee="",ete="rg",tte="ga",nte=0,fg=7680,ite=7681,rte=7682,ate=7683,ote=34055,ste=34056,lte=5386,ute=512,cte=513,fte=514,hte=515,dte=516,pte=517,vte=518,kN=519,tX=512,nX=513,iX=514,oR=515,rX=516,aX=517,sR=518,oX=519,l1=35044,gte=35048,mte=35040,yte=35045,_te=35049,xte=35041,Ste=35046,bte=35050,Mte=35042,Tte="100",UN="300 es",Ys=2e3,e_=2001,wte={COMPUTE:"compute",RENDER:"render"},Ate={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Cte={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function sX(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const Ete={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function L0(i,e){return new Ete[i](e)}function lX(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function u1(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function uX(){const i=u1("canvas");return i.style.display="block",i}const jF={};let xp=null;function Dte(i){xp=i}function Rte(){return xp}function c1(...i){const e="THREE."+i.shift();xp?xp("log",e,...i):console.log(e,...i)}function At(...i){const e="THREE."+i.shift();xp?xp("warn",e,...i):console.warn(e,...i)}function Jt(...i){const e="THREE."+i.shift();xp?xp("error",e,...i):console.error(e,...i)}function t_(...i){const e=i.join(" ");e in jF||(jF[e]=!0,At(...i))}function Lte(i,e,t){return new Promise(function(n,r){function a(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:n()}}setTimeout(a,t)})}let vf=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const r=n[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}};const mo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let KF=1234567;const zg=Math.PI/180,n_=180/Math.PI;function Qs(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(mo[i&255]+mo[i>>8&255]+mo[i>>16&255]+mo[i>>24&255]+"-"+mo[e&255]+mo[e>>8&255]+"-"+mo[e>>16&15|64]+mo[e>>24&255]+"-"+mo[t&63|128]+mo[t>>8&255]+"-"+mo[t>>16&255]+mo[t>>24&255]+mo[n&255]+mo[n>>8&255]+mo[n>>16&255]+mo[n>>24&255]).toLowerCase()}function xn(i,e,t){return Math.max(e,Math.min(t,i))}function IB(i,e){return(i%e+e)%e}function Ite(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function Pte(i,e,t){return i!==e?(t-i)/(e-i):0}function Ub(i,e,t){return(1-t)*i+t*e}function Nte(i,e,t,n){return Ub(i,e,1-Math.exp(-t*n))}function Ote(i,e=1){return e-Math.abs(IB(i,e*2)-e)}function zte(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function Bte(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function kte(i,e){return i+Math.floor(Math.random()*(e-i+1))}function Ute(i,e){return i+Math.random()*(e-i)}function Fte(i){return i*(.5-Math.random())}function Vte(i){i!==void 0&&(KF=i);let e=KF+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Gte(i){return i*zg}function Hte(i){return i*n_}function Wte(i){return(i&i-1)===0&&i!==0}function Xte(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function Yte(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function qte(i,e,t,n,r){const a=Math.cos,o=Math.sin,s=a(t/2),l=o(t/2),u=a((e+n)/2),c=o((e+n)/2),f=a((e-n)/2),h=o((e-n)/2),p=a((n-e)/2),g=o((n-e)/2);switch(r){case"XYX":i.set(s*c,l*f,l*h,s*u);break;case"YZY":i.set(l*h,s*c,l*f,s*u);break;case"ZXZ":i.set(l*f,l*h,s*c,s*u);break;case"XZX":i.set(s*c,l*g,l*p,s*u);break;case"YXY":i.set(l*p,s*c,l*g,s*u);break;case"ZYZ":i.set(l*g,l*p,s*c,s*u);break;default:At("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function jo(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Vn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const cX={DEG2RAD:zg,RAD2DEG:n_,generateUUID:Qs,clamp:xn,euclideanModulo:IB,mapLinear:Ite,inverseLerp:Pte,lerp:Ub,damp:Nte,pingpong:Ote,smoothstep:zte,smootherstep:Bte,randInt:kte,randFloat:Ute,randFloatSpread:Fte,seededRandom:Vte,degToRad:Gte,radToDeg:Hte,isPowerOfTwo:Wte,ceilPowerOfTwo:Xte,floorPowerOfTwo:Yte,setQuaternionFromProperEuler:qte,normalize:Vn,denormalize:jo};class Ze{constructor(e=0,t=0){Ze.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*n-o*r+e.x,this.y=a*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Oa{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,a,o,s){let l=n[r+0],u=n[r+1],c=n[r+2],f=n[r+3],h=a[o+0],p=a[o+1],g=a[o+2],y=a[o+3];if(s<=0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f;return}if(s>=1){e[t+0]=h,e[t+1]=p,e[t+2]=g,e[t+3]=y;return}if(f!==y||l!==h||u!==p||c!==g){let _=l*h+u*p+c*g+f*y;_<0&&(h=-h,p=-p,g=-g,y=-y,_=-_);let x=1-s;if(_<.9995){const M=Math.acos(_),T=Math.sin(M);x=Math.sin(x*M)/T,s=Math.sin(s*M)/T,l=l*x+h*s,u=u*x+p*s,c=c*x+g*s,f=f*x+y*s}else{l=l*x+h*s,u=u*x+p*s,c=c*x+g*s,f=f*x+y*s;const M=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=M,u*=M,c*=M,f*=M}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,n,r,a,o){const s=n[r],l=n[r+1],u=n[r+2],c=n[r+3],f=a[o],h=a[o+1],p=a[o+2],g=a[o+3];return e[t]=s*g+c*f+l*p-u*h,e[t+1]=l*g+c*h+u*f-s*p,e[t+2]=u*g+c*p+s*h-l*f,e[t+3]=c*g-s*f-l*h-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,u=s(n/2),c=s(r/2),f=s(a/2),h=l(n/2),p=l(r/2),g=l(a/2);switch(o){case"XYZ":this._x=h*c*f+u*p*g,this._y=u*p*f-h*c*g,this._z=u*c*g+h*p*f,this._w=u*c*f-h*p*g;break;case"YXZ":this._x=h*c*f+u*p*g,this._y=u*p*f-h*c*g,this._z=u*c*g-h*p*f,this._w=u*c*f+h*p*g;break;case"ZXY":this._x=h*c*f-u*p*g,this._y=u*p*f+h*c*g,this._z=u*c*g+h*p*f,this._w=u*c*f-h*p*g;break;case"ZYX":this._x=h*c*f-u*p*g,this._y=u*p*f+h*c*g,this._z=u*c*g-h*p*f,this._w=u*c*f+h*p*g;break;case"YZX":this._x=h*c*f+u*p*g,this._y=u*p*f+h*c*g,this._z=u*c*g-h*p*f,this._w=u*c*f-h*p*g;break;case"XZY":this._x=h*c*f-u*p*g,this._y=u*p*f-h*c*g,this._z=u*c*g+h*p*f,this._w=u*c*f+h*p*g;break;default:At("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],a=t[8],o=t[1],s=t[5],l=t[9],u=t[2],c=t[6],f=t[10],h=n+s+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(c-l)*p,this._y=(a-u)*p,this._z=(o-r)*p}else if(n>s&&n>f){const p=2*Math.sqrt(1+n-s-f);this._w=(c-l)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(a+u)/p}else if(s>f){const p=2*Math.sqrt(1+s-n-f);this._w=(a-u)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(l+c)/p}else{const p=2*Math.sqrt(1+f-n-s);this._w=(o-r)/p,this._x=(a+u)/p,this._y=(l+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,a=e._z,o=e._w,s=t._x,l=t._y,u=t._z,c=t._w;return this._x=n*c+o*s+r*u-a*l,this._y=r*c+o*l+a*s-n*u,this._z=a*c+o*u+n*l-r*s,this._w=o*c-n*s-r*l-a*u,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,r=e._y,a=e._z,o=e._w,s=this.dot(e);s<0&&(n=-n,r=-r,a=-a,o=-o,s=-s);let l=1-t;if(s<.9995){const u=Math.acos(s),c=Math.sin(u);l=Math.sin(l*u)/c,t=Math.sin(t*u)/c,this._x=this._x*l+n*t,this._y=this._y*l+r*t,this._z=this._z*l+a*t,this._w=this._w*l+o*t,this._onChangeCallback()}else this._x=this._x*l+n*t,this._y=this._y*l+r*t,this._z=this._z*l+a*t,this._w=this._w*l+o*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),a=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class re{constructor(e=0,t=0,n=0){re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion($F.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion($F.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,a=e.elements,o=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*o,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*o,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,a=e.x,o=e.y,s=e.z,l=e.w,u=2*(o*r-s*n),c=2*(s*t-a*r),f=2*(a*n-o*t);return this.x=t+l*u+o*f-s*c,this.y=n+l*c+s*u-a*f,this.z=r+l*f+a*c-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,a=e.z,o=t.x,s=t.y,l=t.z;return this.x=r*l-a*s,this.y=a*o-n*l,this.z=n*s-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return aI.copy(this).projectOnVector(e),this.sub(aI)}reflect(e){return this.sub(aI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const aI=new re,$F=new Oa;class zn{constructor(e,t,n,r,a,o,s,l,u){zn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,o,s,l,u)}set(e,t,n,r,a,o,s,l,u){const c=this.elements;return c[0]=e,c[1]=r,c[2]=s,c[3]=t,c[4]=a,c[5]=l,c[6]=n,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,a=this.elements,o=n[0],s=n[3],l=n[6],u=n[1],c=n[4],f=n[7],h=n[2],p=n[5],g=n[8],y=r[0],_=r[3],x=r[6],M=r[1],T=r[4],C=r[7],E=r[2],D=r[5],L=r[8];return a[0]=o*y+s*M+l*E,a[3]=o*_+s*T+l*D,a[6]=o*x+s*C+l*L,a[1]=u*y+c*M+f*E,a[4]=u*_+c*T+f*D,a[7]=u*x+c*C+f*L,a[2]=h*y+p*M+g*E,a[5]=h*_+p*T+g*D,a[8]=h*x+p*C+g*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t*o*c-t*s*u-n*a*c+n*s*l+r*a*u-r*o*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*o-s*u,h=s*l-c*a,p=u*a-o*l,g=t*f+n*h+r*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=f*y,e[1]=(r*u-c*n)*y,e[2]=(s*n-r*o)*y,e[3]=h*y,e[4]=(c*t-r*l)*y,e[5]=(r*a-s*t)*y,e[6]=p*y,e[7]=(n*l-u*t)*y,e[8]=(o*t-n*a)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,a,o,s){const l=Math.cos(a),u=Math.sin(a);return this.set(n*l,n*u,-n*(l*o+u*s)+o+e,-r*u,r*l,-r*(-u*o+l*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(oI.makeScale(e,t)),this}rotate(e){return this.premultiply(oI.makeRotation(-e)),this}translate(e,t){return this.premultiply(oI.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const oI=new zn,QF=new zn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),JF=new zn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Zte(){const i={enabled:!0,workingColorSpace:eo,spaces:{},convert:function(r,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===Di&&(r.r=Sh(r.r),r.g=Sh(r.g),r.b=Sh(r.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Di&&(r.r=V0(r.r),r.g=V0(r.g),r.b=V0(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===hh?s1:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,o){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return t_("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return t_("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[eo]:{primaries:e,whitePoint:n,transfer:s1,toXYZ:QF,fromXYZ:JF,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Yr},outputColorSpaceConfig:{drawingBufferColorSpace:Yr}},[Yr]:{primaries:e,whitePoint:n,transfer:Di,toXYZ:QF,fromXYZ:JF,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Yr}}}),i}const Jn=Zte();function Sh(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function V0(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Dy;class fX{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Dy===void 0&&(Dy=u1("canvas")),Dy.width=e.width,Dy.height=e.height;const r=Dy.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Dy}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=u1("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=Sh(a[o]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Sh(t[n]/255)*255):t[n]=Sh(t[n]);return{data:t,width:e.width,height:e.height}}else return At("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let jte=0;class ep{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:jte++}),this.uuid=Qs(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let o=0,s=r.length;o<s;o++)r[o].isDataTexture?a.push(sI(r[o].image)):a.push(sI(r[o]))}else a=sI(r);n.url=a}return t||(e.images[this.uuid]=n),n}}function sI(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?fX.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(At("Texture: Unable to serialize Texture."),{})}let Kte=0;const lI=new re;class ur extends vf{constructor(e=ur.DEFAULT_IMAGE,t=ur.DEFAULT_MAPPING,n=Ko,r=Ko,a=ki,o=Gl,s=To,l=Zo,u=ur.DEFAULT_ANISOTROPY,c=hh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Kte++}),this.uuid=Qs(),this.name="",this.source=new ep(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Ze(0,0),this.repeat=new Ze(1,1),this.center=new Ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(lI).x}get height(){return this.source.getSize(lI).y}get depth(){return this.source.getSize(lI).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){At(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){At(`Texture.setValues(): property '${t}' does not exist.`);continue}r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==$D)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _p:e.x=e.x-Math.floor(e.x);break;case Ko:e.x=e.x<0?0:1;break;case j0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case _p:e.y=e.y-Math.floor(e.y);break;case Ko:e.y=e.y<0?0:1;break;case j0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ur.DEFAULT_IMAGE=null;ur.DEFAULT_MAPPING=$D;ur.DEFAULT_ANISOTROPY=1;class Gi{constructor(e=0,t=0,n=0,r=1){Gi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*a,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*a,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*a,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,a;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],p=l[5],g=l[9],y=l[2],_=l[6],x=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-y)<.01&&Math.abs(g-_)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+y)<.1&&Math.abs(g+_)<.1&&Math.abs(u+p+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(u+1)/2,C=(p+1)/2,E=(x+1)/2,D=(c+h)/4,L=(f+y)/4,z=(g+_)/4;return T>C&&T>E?T<.01?(n=0,r=.707106781,a=.707106781):(n=Math.sqrt(T),r=D/n,a=L/n):C>E?C<.01?(n=.707106781,r=0,a=.707106781):(r=Math.sqrt(C),n=D/r,a=z/r):E<.01?(n=.707106781,r=.707106781,a=0):(a=Math.sqrt(E),n=L/a,r=z/a),this.set(n,r,a,t),this}let M=Math.sqrt((_-g)*(_-g)+(f-y)*(f-y)+(h-c)*(h-c));return Math.abs(M)<.001&&(M=1),this.x=(_-g)/M,this.y=(f-y)/M,this.z=(h-c)/M,this.w=Math.acos((u+p+x-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this.w=xn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this.w=xn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class PB extends vf{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ki,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Gi(0,0,e,t),this.scissorTest=!1,this.viewport=new Gi(0,0,e,t);const r={width:e,height:t,depth:n.depth},a=new ur(r);this.textures=[];const o=n.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:ki,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new ep(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Js extends PB{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class lR extends ur{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=yr,this.minFilter=yr,this.wrapR=Ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class $te extends Js{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new lR(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class uR extends ur{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=yr,this.minFilter=yr,this.wrapR=Ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Qte extends Js{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new uR(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Qa{constructor(e=new re(1/0,1/0,1/0),t=new re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(wu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(wu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=wu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const a=n.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,wu):wu.fromBufferAttribute(a,o),wu.applyMatrix4(e.matrixWorld),this.expandByPoint(wu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),cw.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),cw.copy(n.boundingBox)),cw.applyMatrix4(e.matrixWorld),this.union(cw)}const r=e.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,wu),wu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(AS),fw.subVectors(this.max,AS),Ry.subVectors(e.a,AS),Ly.subVectors(e.b,AS),Iy.subVectors(e.c,AS),Dd.subVectors(Ly,Ry),Rd.subVectors(Iy,Ly),bv.subVectors(Ry,Iy);let t=[0,-Dd.z,Dd.y,0,-Rd.z,Rd.y,0,-bv.z,bv.y,Dd.z,0,-Dd.x,Rd.z,0,-Rd.x,bv.z,0,-bv.x,-Dd.y,Dd.x,0,-Rd.y,Rd.x,0,-bv.y,bv.x,0];return!uI(t,Ry,Ly,Iy,fw)||(t=[1,0,0,0,1,0,0,0,1],!uI(t,Ry,Ly,Iy,fw))?!1:(hw.crossVectors(Dd,Rd),t=[hw.x,hw.y,hw.z],uI(t,Ry,Ly,Iy,fw))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(wu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Qf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Qf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Qf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Qf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Qf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Qf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Qf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Qf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Qf),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Qf=[new re,new re,new re,new re,new re,new re,new re,new re],wu=new re,cw=new Qa,Ry=new re,Ly=new re,Iy=new re,Dd=new re,Rd=new re,bv=new re,AS=new re,fw=new re,hw=new re,Mv=new re;function uI(i,e,t,n,r){for(let a=0,o=i.length-3;a<=o;a+=3){Mv.fromArray(i,a);const s=r.x*Math.abs(Mv.x)+r.y*Math.abs(Mv.y)+r.z*Math.abs(Mv.z),l=e.dot(Mv),u=t.dot(Mv),c=n.dot(Mv);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const Jte=new Qa,CS=new re,cI=new re;class za{constructor(e=new re,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):Jte.setFromPoints(e).getCenter(n);let r=0;for(let a=0,o=e.length;a<o;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;CS.subVectors(e,this.center);const t=CS.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(CS,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(cI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(CS.copy(e.center).add(cI)),this.expandByPoint(CS.copy(e.center).sub(cI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Jf=new re,fI=new re,dw=new re,Ld=new re,hI=new re,pw=new re,dI=new re;class cm{constructor(e=new re,t=new re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Jf)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Jf.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Jf.copy(this.origin).addScaledVector(this.direction,t),Jf.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){fI.copy(e).add(t).multiplyScalar(.5),dw.copy(t).sub(e).normalize(),Ld.copy(this.origin).sub(fI);const a=e.distanceTo(t)*.5,o=-this.direction.dot(dw),s=Ld.dot(this.direction),l=-Ld.dot(dw),u=Ld.lengthSq(),c=Math.abs(1-o*o);let f,h,p,g;if(c>0)if(f=o*l-s,h=o*s-l,g=a*c,f>=0)if(h>=-g)if(h<=g){const y=1/c;f*=y,h*=y,p=f*(f+o*h+2*s)+h*(o*f+h+2*l)+u}else h=a,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+u;else h=-a,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+u;else h<=-g?(f=Math.max(0,-(-o*a+s)),h=f>0?-a:Math.min(Math.max(-a,-l),a),p=-f*f+h*(h+2*l)+u):h<=g?(f=0,h=Math.min(Math.max(-a,-l),a),p=h*(h+2*l)+u):(f=Math.max(0,-(o*a+s)),h=f>0?a:Math.min(Math.max(-a,-l),a),p=-f*f+h*(h+2*l)+u);else h=o>0?-a:a,f=Math.max(0,-(o*h+s)),p=-f*f+h*(h+2*l)+u;return n&&n.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(fI).addScaledVector(dw,h),p}intersectSphere(e,t){Jf.subVectors(e.center,this.origin);const n=Jf.dot(this.direction),r=Jf.dot(Jf)-n*n,a=e.radius*e.radius;if(r>a)return null;const o=Math.sqrt(a-r),s=n-o,l=n+o;return l<0?null:s<0?this.at(l,t):this.at(s,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,a,o,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),c>=0?(a=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(a=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||a>r||((a>n||isNaN(n))&&(n=a),(o<r||isNaN(r))&&(r=o),f>=0?(s=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(s=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),n>l||s>r)||((s>n||n!==n)&&(n=s),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,Jf)!==null}intersectTriangle(e,t,n,r,a){hI.subVectors(t,e),pw.subVectors(n,e),dI.crossVectors(hI,pw);let o=this.direction.dot(dI),s;if(o>0){if(r)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Ld.subVectors(this.origin,e);const l=s*this.direction.dot(pw.crossVectors(Ld,pw));if(l<0)return null;const u=s*this.direction.dot(hI.cross(Ld));if(u<0||l+u>o)return null;const c=-s*Ld.dot(dI);return c<0?null:this.at(c/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class hn{constructor(e,t,n,r,a,o,s,l,u,c,f,h,p,g,y,_){hn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,o,s,l,u,c,f,h,p,g,y,_)}set(e,t,n,r,a,o,s,l,u,c,f,h,p,g,y,_){const x=this.elements;return x[0]=e,x[4]=t,x[8]=n,x[12]=r,x[1]=a,x[5]=o,x[9]=s,x[13]=l,x[2]=u,x[6]=c,x[10]=f,x[14]=h,x[3]=p,x[7]=g,x[11]=y,x[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new hn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),n.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this)}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,n=e.elements,r=1/Py.setFromMatrixColumn(e,0).length(),a=1/Py.setFromMatrixColumn(e,1).length(),o=1/Py.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,a=e.z,o=Math.cos(n),s=Math.sin(n),l=Math.cos(r),u=Math.sin(r),c=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const h=o*c,p=o*f,g=s*c,y=s*f;t[0]=l*c,t[4]=-l*f,t[8]=u,t[1]=p+g*u,t[5]=h-y*u,t[9]=-s*l,t[2]=y-h*u,t[6]=g+p*u,t[10]=o*l}else if(e.order==="YXZ"){const h=l*c,p=l*f,g=u*c,y=u*f;t[0]=h+y*s,t[4]=g*s-p,t[8]=o*u,t[1]=o*f,t[5]=o*c,t[9]=-s,t[2]=p*s-g,t[6]=y+h*s,t[10]=o*l}else if(e.order==="ZXY"){const h=l*c,p=l*f,g=u*c,y=u*f;t[0]=h-y*s,t[4]=-o*f,t[8]=g+p*s,t[1]=p+g*s,t[5]=o*c,t[9]=y-h*s,t[2]=-o*u,t[6]=s,t[10]=o*l}else if(e.order==="ZYX"){const h=o*c,p=o*f,g=s*c,y=s*f;t[0]=l*c,t[4]=g*u-p,t[8]=h*u+y,t[1]=l*f,t[5]=y*u+h,t[9]=p*u-g,t[2]=-u,t[6]=s*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,p=o*u,g=s*l,y=s*u;t[0]=l*c,t[4]=y-h*f,t[8]=g*f+p,t[1]=f,t[5]=o*c,t[9]=-s*c,t[2]=-u*c,t[6]=p*f+g,t[10]=h-y*f}else if(e.order==="XZY"){const h=o*l,p=o*u,g=s*l,y=s*u;t[0]=l*c,t[4]=-f,t[8]=u*c,t[1]=h*f+y,t[5]=o*c,t[9]=p*f-g,t[2]=g*f-p,t[6]=s*c,t[10]=y*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ene,e,tne)}lookAt(e,t,n){const r=this.elements;return ks.subVectors(e,t),ks.lengthSq()===0&&(ks.z=1),ks.normalize(),Id.crossVectors(n,ks),Id.lengthSq()===0&&(Math.abs(n.z)===1?ks.x+=1e-4:ks.z+=1e-4,ks.normalize(),Id.crossVectors(n,ks)),Id.normalize(),vw.crossVectors(ks,Id),r[0]=Id.x,r[4]=vw.x,r[8]=ks.x,r[1]=Id.y,r[5]=vw.y,r[9]=ks.y,r[2]=Id.z,r[6]=vw.z,r[10]=ks.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,a=this.elements,o=n[0],s=n[4],l=n[8],u=n[12],c=n[1],f=n[5],h=n[9],p=n[13],g=n[2],y=n[6],_=n[10],x=n[14],M=n[3],T=n[7],C=n[11],E=n[15],D=r[0],L=r[4],z=r[8],P=r[12],N=r[1],B=r[5],G=r[9],U=r[13],X=r[2],q=r[6],V=r[10],j=r[14],K=r[3],te=r[7],ie=r[11],Y=r[15];return a[0]=o*D+s*N+l*X+u*K,a[4]=o*L+s*B+l*q+u*te,a[8]=o*z+s*G+l*V+u*ie,a[12]=o*P+s*U+l*j+u*Y,a[1]=c*D+f*N+h*X+p*K,a[5]=c*L+f*B+h*q+p*te,a[9]=c*z+f*G+h*V+p*ie,a[13]=c*P+f*U+h*j+p*Y,a[2]=g*D+y*N+_*X+x*K,a[6]=g*L+y*B+_*q+x*te,a[10]=g*z+y*G+_*V+x*ie,a[14]=g*P+y*U+_*j+x*Y,a[3]=M*D+T*N+C*X+E*K,a[7]=M*L+T*B+C*q+E*te,a[11]=M*z+T*G+C*V+E*ie,a[15]=M*P+T*U+C*j+E*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],o=e[1],s=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],p=e[14],g=e[3],y=e[7],_=e[11],x=e[15],M=l*p-u*h,T=s*p-u*f,C=s*h-l*f,E=o*p-u*c,D=o*h-l*c,L=o*f-s*c;return t*(y*M-_*T+x*C)-n*(g*M-_*E+x*D)+r*(g*T-y*E+x*L)-a*(g*C-y*D+_*L)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],p=e[11],g=e[12],y=e[13],_=e[14],x=e[15],M=f*_*u-y*h*u+y*l*p-s*_*p-f*l*x+s*h*x,T=g*h*u-c*_*u-g*l*p+o*_*p+c*l*x-o*h*x,C=c*y*u-g*f*u+g*s*p-o*y*p-c*s*x+o*f*x,E=g*f*l-c*y*l-g*s*h+o*y*h+c*s*_-o*f*_,D=t*M+n*T+r*C+a*E;if(D===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/D;return e[0]=M*L,e[1]=(y*h*a-f*_*a-y*r*p+n*_*p+f*r*x-n*h*x)*L,e[2]=(s*_*a-y*l*a+y*r*u-n*_*u-s*r*x+n*l*x)*L,e[3]=(f*l*a-s*h*a-f*r*u+n*h*u+s*r*p-n*l*p)*L,e[4]=T*L,e[5]=(c*_*a-g*h*a+g*r*p-t*_*p-c*r*x+t*h*x)*L,e[6]=(g*l*a-o*_*a-g*r*u+t*_*u+o*r*x-t*l*x)*L,e[7]=(o*h*a-c*l*a+c*r*u-t*h*u-o*r*p+t*l*p)*L,e[8]=C*L,e[9]=(g*f*a-c*y*a-g*n*p+t*y*p+c*n*x-t*f*x)*L,e[10]=(o*y*a-g*s*a+g*n*u-t*y*u-o*n*x+t*s*x)*L,e[11]=(c*s*a-o*f*a-c*n*u+t*f*u+o*n*p-t*s*p)*L,e[12]=E*L,e[13]=(c*y*r-g*f*r+g*n*h-t*y*h-c*n*_+t*f*_)*L,e[14]=(g*s*r-o*y*r-g*n*l+t*y*l+o*n*_-t*s*_)*L,e[15]=(o*f*r-c*s*r+c*n*l-t*f*l-o*n*h+t*s*h)*L,this}scale(e){const t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),a=1-n,o=e.x,s=e.y,l=e.z,u=a*o,c=a*s;return this.set(u*o+n,u*s-r*l,u*l+r*s,0,u*s+r*l,c*s+n,c*l-r*o,0,u*l-r*s,c*l+r*o,a*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,a,o){return this.set(1,n,a,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,a=t._x,o=t._y,s=t._z,l=t._w,u=a+a,c=o+o,f=s+s,h=a*u,p=a*c,g=a*f,y=o*c,_=o*f,x=s*f,M=l*u,T=l*c,C=l*f,E=n.x,D=n.y,L=n.z;return r[0]=(1-(y+x))*E,r[1]=(p+C)*E,r[2]=(g-T)*E,r[3]=0,r[4]=(p-C)*D,r[5]=(1-(h+x))*D,r[6]=(_+M)*D,r[7]=0,r[8]=(g+T)*L,r[9]=(_-M)*L,r[10]=(1-(h+y))*L,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;if(e.x=r[12],e.y=r[13],e.z=r[14],this.determinant()===0)return n.set(1,1,1),t.identity(),this;let a=Py.set(r[0],r[1],r[2]).length();const o=Py.set(r[4],r[5],r[6]).length(),s=Py.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),Au.copy(this);const u=1/a,c=1/o,f=1/s;return Au.elements[0]*=u,Au.elements[1]*=u,Au.elements[2]*=u,Au.elements[4]*=c,Au.elements[5]*=c,Au.elements[6]*=c,Au.elements[8]*=f,Au.elements[9]*=f,Au.elements[10]*=f,t.setFromRotationMatrix(Au),n.x=a,n.y=o,n.z=s,this}makePerspective(e,t,n,r,a,o,s=Ys,l=!1){const u=this.elements,c=2*a/(t-e),f=2*a/(n-r),h=(t+e)/(t-e),p=(n+r)/(n-r);let g,y;if(l)g=a/(o-a),y=o*a/(o-a);else if(s===Ys)g=-(o+a)/(o-a),y=-2*o*a/(o-a);else if(s===e_)g=-o/(o-a),y=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=h,u[12]=0,u[1]=0,u[5]=f,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=g,u[14]=y,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,n,r,a,o,s=Ys,l=!1){const u=this.elements,c=2/(t-e),f=2/(n-r),h=-(t+e)/(t-e),p=-(n+r)/(n-r);let g,y;if(l)g=1/(o-a),y=o/(o-a);else if(s===Ys)g=-2/(o-a),y=-(o+a)/(o-a);else if(s===e_)g=-1/(o-a),y=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=0,u[12]=h,u[1]=0,u[5]=f,u[9]=0,u[13]=p,u[2]=0,u[6]=0,u[10]=g,u[14]=y,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Py=new re,Au=new hn,ene=new re(0,0,0),tne=new re(1,1,1),Id=new re,vw=new re,ks=new re,e5=new hn,t5=new Oa;class tl{constructor(e=0,t=0,n=0,r=tl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,a=r[0],o=r[4],s=r[8],l=r[1],u=r[5],c=r[9],f=r[2],h=r[6],p=r[10];switch(t){case"XYZ":this._y=Math.asin(xn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(xn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-xn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,p),this._y=0);break;default:At("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return e5.makeRotationFromQuaternion(e),this.setFromRotationMatrix(e5,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return t5.setFromEuler(this),this.setFromQuaternion(t5,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}tl.DEFAULT_ORDER="XYZ";class i_{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let nne=0;const n5=new re,Ny=new Oa,eh=new hn,gw=new re,ES=new re,ine=new re,rne=new Oa,i5=new re(1,0,0),r5=new re(0,1,0),a5=new re(0,0,1),o5={type:"added"},ane={type:"removed"},Oy={type:"childadded",child:null},pI={type:"childremoved",child:null};class ci extends vf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:nne++}),this.uuid=Qs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ci.DEFAULT_UP.clone();const e=new re,t=new tl,n=new Oa,r=new re(1,1,1);function a(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new hn},normalMatrix:{value:new zn}}),this.matrix=new hn,this.matrixWorld=new hn,this.matrixAutoUpdate=ci.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ci.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new i_,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ny.setFromAxisAngle(e,t),this.quaternion.multiply(Ny),this}rotateOnWorldAxis(e,t){return Ny.setFromAxisAngle(e,t),this.quaternion.premultiply(Ny),this}rotateX(e){return this.rotateOnAxis(i5,e)}rotateY(e){return this.rotateOnAxis(r5,e)}rotateZ(e){return this.rotateOnAxis(a5,e)}translateOnAxis(e,t){return n5.copy(e).applyQuaternion(this.quaternion),this.position.add(n5.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(i5,e)}translateY(e){return this.translateOnAxis(r5,e)}translateZ(e){return this.translateOnAxis(a5,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(eh.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?gw.copy(e):gw.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),ES.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?eh.lookAt(ES,gw,this.up):eh.lookAt(gw,ES,this.up),this.quaternion.setFromRotationMatrix(eh),r&&(eh.extractRotation(r.matrixWorld),Ny.setFromRotationMatrix(eh),this.quaternion.premultiply(Ny.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Jt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(o5),Oy.child=e,this.dispatchEvent(Oy),Oy.child=null):Jt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ane),pI.child=e,this.dispatchEvent(pI),pI.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),eh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),eh.multiply(e.parent.matrixWorld)),e.applyMatrix4(eh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(o5),Oy.child=e,this.dispatchEvent(Oy),Oy.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ES,e,ine),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ES,rne,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(s=>({...s})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(a(e.materials,this.material[l]));r.material=s}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];r.animations.push(a(e.animations,l))}}if(t){const s=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),h=o(e.skeletons),p=o(e.animations),g=o(e.nodes);s.length>0&&(n.geometries=s),l.length>0&&(n.materials=l),u.length>0&&(n.textures=u),c.length>0&&(n.images=c),f.length>0&&(n.shapes=f),h.length>0&&(n.skeletons=h),p.length>0&&(n.animations=p),g.length>0&&(n.nodes=g)}return n.object=r,n;function o(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}ci.DEFAULT_UP=new re(0,1,0);ci.DEFAULT_MATRIX_AUTO_UPDATE=!0;ci.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Cu=new re,th=new re,vI=new re,nh=new re,zy=new re,By=new re,s5=new re,gI=new re,mI=new re,yI=new re,_I=new Gi,xI=new Gi,SI=new Gi;let $d=class w0{constructor(e=new re,t=new re,n=new re){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Cu.subVectors(e,t),r.cross(Cu);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,n,r,a){Cu.subVectors(r,t),th.subVectors(n,t),vI.subVectors(e,t);const o=Cu.dot(Cu),s=Cu.dot(th),l=Cu.dot(vI),u=th.dot(th),c=th.dot(vI),f=o*u-s*s;if(f===0)return a.set(0,0,0),null;const h=1/f,p=(u*l-s*c)*h,g=(o*c-s*l)*h;return a.set(1-p-g,g,p)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,nh)===null?!1:nh.x>=0&&nh.y>=0&&nh.x+nh.y<=1}static getInterpolation(e,t,n,r,a,o,s,l){return this.getBarycoord(e,t,n,r,nh)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,nh.x),l.addScaledVector(o,nh.y),l.addScaledVector(s,nh.z),l)}static getInterpolatedAttribute(e,t,n,r,a,o){return _I.setScalar(0),xI.setScalar(0),SI.setScalar(0),_I.fromBufferAttribute(e,t),xI.fromBufferAttribute(e,n),SI.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(_I,a.x),o.addScaledVector(xI,a.y),o.addScaledVector(SI,a.z),o}static isFrontFacing(e,t,n,r){return Cu.subVectors(n,t),th.subVectors(e,t),Cu.cross(th).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Cu.subVectors(this.c,this.b),th.subVectors(this.a,this.b),Cu.cross(th).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return w0.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return w0.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,a){return w0.getInterpolation(e,this.a,this.b,this.c,t,n,r,a)}containsPoint(e){return w0.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return w0.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,a=this.c;let o,s;zy.subVectors(r,n),By.subVectors(a,n),gI.subVectors(e,n);const l=zy.dot(gI),u=By.dot(gI);if(l<=0&&u<=0)return t.copy(n);mI.subVectors(e,r);const c=zy.dot(mI),f=By.dot(mI);if(c>=0&&f<=c)return t.copy(r);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(n).addScaledVector(zy,o);yI.subVectors(e,a);const p=zy.dot(yI),g=By.dot(yI);if(g>=0&&p<=g)return t.copy(a);const y=p*u-l*g;if(y<=0&&u>=0&&g<=0)return s=u/(u-g),t.copy(n).addScaledVector(By,s);const _=c*g-p*f;if(_<=0&&f-c>=0&&p-g>=0)return s5.subVectors(a,r),s=(f-c)/(f-c+(p-g)),t.copy(r).addScaledVector(s5,s);const x=1/(_+y+h);return o=y*x,s=h*x,t.copy(n).addScaledVector(zy,o).addScaledVector(By,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}};const hX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pd={h:0,s:0,l:0},mw={h:0,s:0,l:0};function bI(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class Et{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Yr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Jn.colorSpaceToWorking(this,t),this}setRGB(e,t,n,r=Jn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Jn.colorSpaceToWorking(this,r),this}setHSL(e,t,n,r=Jn.workingColorSpace){if(e=IB(e,1),t=xn(t,0,1),n=xn(n,0,1),t===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+t):n+t-n*t,o=2*n-a;this.r=bI(o,a,e+1/3),this.g=bI(o,a,e),this.b=bI(o,a,e-1/3)}return Jn.colorSpaceToWorking(this,r),this}setStyle(e,t=Yr){function n(a){a!==void 0&&parseFloat(a)<1&&At("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=r[1],s=r[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:At("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);At("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Yr){const n=hX[e.toLowerCase()];return n!==void 0?this.setHex(n,t):At("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Sh(e.r),this.g=Sh(e.g),this.b=Sh(e.b),this}copyLinearToSRGB(e){return this.r=V0(e.r),this.g=V0(e.g),this.b=V0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Yr){return Jn.workingToColorSpace(yo.copy(this),e),Math.round(xn(yo.r*255,0,255))*65536+Math.round(xn(yo.g*255,0,255))*256+Math.round(xn(yo.b*255,0,255))}getHexString(e=Yr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Jn.workingColorSpace){Jn.workingToColorSpace(yo.copy(this),t);const n=yo.r,r=yo.g,a=yo.b,o=Math.max(n,r,a),s=Math.min(n,r,a);let l,u;const c=(s+o)/2;if(s===o)l=0,u=0;else{const f=o-s;switch(u=c<=.5?f/(o+s):f/(2-o-s),o){case n:l=(r-a)/f+(r<a?6:0);break;case r:l=(a-n)/f+2;break;case a:l=(n-r)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=Jn.workingColorSpace){return Jn.workingToColorSpace(yo.copy(this),t),e.r=yo.r,e.g=yo.g,e.b=yo.b,e}getStyle(e=Yr){Jn.workingToColorSpace(yo.copy(this),e);const t=yo.r,n=yo.g,r=yo.b;return e!==Yr?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(Pd),this.setHSL(Pd.h+e,Pd.s+t,Pd.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Pd),e.getHSL(mw);const n=Ub(Pd.h,mw.h,t),r=Ub(Pd.s,mw.s,t),a=Ub(Pd.l,mw.l,t);return this.setHSL(n,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*r,this.g=a[1]*t+a[4]*n+a[7]*r,this.b=a[2]*t+a[5]*n+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const yo=new Et;Et.NAMES=hX;let one=0;class ya extends vf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:one++}),this.uuid=Qs(),this.name="",this.type="Material",this.blending=Og,this.side=af,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=GC,this.blendDst=HC,this.blendEquation=Kd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Et(0,0,0),this.blendAlpha=0,this.depthFunc=Xg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=kN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=fg,this.stencilZFail=fg,this.stencilZPass=fg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){At(`Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){At(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Og&&(n.blending=this.blending),this.side!==af&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==GC&&(n.blendSrc=this.blendSrc),this.blendDst!==HC&&(n.blendDst=this.blendDst),this.blendEquation!==Kd&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Xg&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==kN&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==fg&&(n.stencilFail=this.stencilFail),this.stencilZFail!==fg&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==fg&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.allowOverride===!1&&(n.allowOverride=!1),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(t){const a=r(e.textures),o=r(e.images);a.length>0&&(n.textures=a),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let a=0;a!==r;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class qs extends ya{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.combine=j1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const dh=sne();function sne(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(n[l]=0,n[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(n[l]=1024>>-u-14,n[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(n[l]=u+15<<10,n[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(n[l]=31744,n[l|256]=64512,r[l]=24,r[l|256]=24):(n[l]=31744,n[l|256]=64512,r[l]=13,r[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;(u&8388608)===0;)u<<=1,c-=8388608;u&=-8388609,c+=947912704,a[l]=u|c}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:s}}function Ts(i){Math.abs(i)>65504&&At("DataUtils.toHalfFloat(): Value out of range."),i=xn(i,-65504,65504),dh.floatView[0]=i;const e=dh.uint32View[0],t=e>>23&511;return dh.baseTable[t]+((e&8388607)>>dh.shiftTable[t])}function yb(i){const e=i>>10;return dh.uint32View[0]=dh.mantissaTable[dh.offsetTable[e]+(i&1023)]+dh.exponentTable[e],dh.floatView[0]}class lne{static toHalfFloat(e){return Ts(e)}static fromHalfFloat(e){return yb(e)}}const aa=new re,yw=new Ze;let une=0;class bi{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:une++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=l1,this.updateRanges=[],this.gpuType=$o,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)yw.fromBufferAttribute(this,t),yw.applyMatrix3(e),this.setXY(t,yw.x,yw.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)aa.fromBufferAttribute(this,t),aa.applyMatrix3(e),this.setXYZ(t,aa.x,aa.y,aa.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)aa.fromBufferAttribute(this,t),aa.applyMatrix4(e),this.setXYZ(t,aa.x,aa.y,aa.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)aa.fromBufferAttribute(this,t),aa.applyNormalMatrix(e),this.setXYZ(t,aa.x,aa.y,aa.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)aa.fromBufferAttribute(this,t),aa.transformDirection(e),this.setXYZ(t,aa.x,aa.y,aa.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=jo(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Vn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=jo(t,this.array)),t}setX(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=jo(t,this.array)),t}setY(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=jo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=jo(t,this.array)),t}setW(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array),r=Vn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array),r=Vn(r,this.array),a=Vn(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==l1&&(e.usage=this.usage),e}}class cne extends bi{constructor(e,t,n){super(new Int8Array(e),t,n)}}class fne extends bi{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class hne extends bi{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class dne extends bi{constructor(e,t,n){super(new Int16Array(e),t,n)}}class NB extends bi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class pne extends bi{constructor(e,t,n){super(new Int32Array(e),t,n)}}class OB extends bi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class vne extends bi{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=yb(this.array[e*this.itemSize]);return this.normalized&&(t=jo(t,this.array)),t}setX(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize]=Ts(t),this}getY(e){let t=yb(this.array[e*this.itemSize+1]);return this.normalized&&(t=jo(t,this.array)),t}setY(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize+1]=Ts(t),this}getZ(e){let t=yb(this.array[e*this.itemSize+2]);return this.normalized&&(t=jo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize+2]=Ts(t),this}getW(e){let t=yb(this.array[e*this.itemSize+3]);return this.normalized&&(t=jo(t,this.array)),t}setW(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize+3]=Ts(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array)),this.array[e+0]=Ts(t),this.array[e+1]=Ts(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array),r=Vn(r,this.array)),this.array[e+0]=Ts(t),this.array[e+1]=Ts(n),this.array[e+2]=Ts(r),this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array),r=Vn(r,this.array),a=Vn(a,this.array)),this.array[e+0]=Ts(t),this.array[e+1]=Ts(n),this.array[e+2]=Ts(r),this.array[e+3]=Ts(a),this}}class Xt extends bi{constructor(e,t,n){super(new Float32Array(e),t,n)}}let gne=0;const Dl=new hn,MI=new ci,ky=new re,Us=new Qa,DS=new Qa,Ra=new re;class En extends vf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:gne++}),this.uuid=Qs(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(sX(e)?OB:NB)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new zn().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Dl.makeRotationFromQuaternion(e),this.applyMatrix4(Dl),this}rotateX(e){return Dl.makeRotationX(e),this.applyMatrix4(Dl),this}rotateY(e){return Dl.makeRotationY(e),this.applyMatrix4(Dl),this}rotateZ(e){return Dl.makeRotationZ(e),this.applyMatrix4(Dl),this}translate(e,t,n){return Dl.makeTranslation(e,t,n),this.applyMatrix4(Dl),this}scale(e,t,n){return Dl.makeScale(e,t,n),this.applyMatrix4(Dl),this}lookAt(e){return MI.lookAt(e),MI.updateMatrix(),this.applyMatrix4(MI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ky).negate(),this.translate(ky.x,ky.y,ky.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,a=e.length;r<a;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Xt(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&At("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Jt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new re(-1/0,-1/0,-1/0),new re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const a=t[n];Us.setFromBufferAttribute(a),this.morphTargetsRelative?(Ra.addVectors(this.boundingBox.min,Us.min),this.boundingBox.expandByPoint(Ra),Ra.addVectors(this.boundingBox.max,Us.max),this.boundingBox.expandByPoint(Ra)):(this.boundingBox.expandByPoint(Us.min),this.boundingBox.expandByPoint(Us.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Jt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new za);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Jt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new re,1/0);return}if(e){const n=this.boundingSphere.center;if(Us.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const s=t[a];DS.setFromBufferAttribute(s),this.morphTargetsRelative?(Ra.addVectors(Us.min,DS.min),Us.expandByPoint(Ra),Ra.addVectors(Us.max,DS.max),Us.expandByPoint(Ra)):(Us.expandByPoint(DS.min),Us.expandByPoint(DS.max))}Us.getCenter(n);let r=0;for(let a=0,o=e.count;a<o;a++)Ra.fromBufferAttribute(e,a),r=Math.max(r,n.distanceToSquared(Ra));if(t)for(let a=0,o=t.length;a<o;a++){const s=t[a],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)Ra.fromBufferAttribute(s,u),l&&(ky.fromBufferAttribute(e,u),Ra.add(ky)),r=Math.max(r,n.distanceToSquared(Ra))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&Jt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Jt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new bi(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let z=0;z<n.count;z++)s[z]=new re,l[z]=new re;const u=new re,c=new re,f=new re,h=new Ze,p=new Ze,g=new Ze,y=new re,_=new re;function x(z,P,N){u.fromBufferAttribute(n,z),c.fromBufferAttribute(n,P),f.fromBufferAttribute(n,N),h.fromBufferAttribute(a,z),p.fromBufferAttribute(a,P),g.fromBufferAttribute(a,N),c.sub(u),f.sub(u),p.sub(h),g.sub(h);const B=1/(p.x*g.y-g.x*p.y);isFinite(B)&&(y.copy(c).multiplyScalar(g.y).addScaledVector(f,-p.y).multiplyScalar(B),_.copy(f).multiplyScalar(p.x).addScaledVector(c,-g.x).multiplyScalar(B),s[z].add(y),s[P].add(y),s[N].add(y),l[z].add(_),l[P].add(_),l[N].add(_))}let M=this.groups;M.length===0&&(M=[{start:0,count:e.count}]);for(let z=0,P=M.length;z<P;++z){const N=M[z],B=N.start,G=N.count;for(let U=B,X=B+G;U<X;U+=3)x(e.getX(U+0),e.getX(U+1),e.getX(U+2))}const T=new re,C=new re,E=new re,D=new re;function L(z){E.fromBufferAttribute(r,z),D.copy(E);const P=s[z];T.copy(P),T.sub(E.multiplyScalar(E.dot(P))).normalize(),C.crossVectors(D,P);const B=C.dot(l[z])<0?-1:1;o.setXYZW(z,T.x,T.y,T.z,B)}for(let z=0,P=M.length;z<P;++z){const N=M[z],B=N.start,G=N.count;for(let U=B,X=B+G;U<X;U+=3)L(e.getX(U+0)),L(e.getX(U+1)),L(e.getX(U+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new bi(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let h=0,p=n.count;h<p;h++)n.setXYZ(h,0,0,0);const r=new re,a=new re,o=new re,s=new re,l=new re,u=new re,c=new re,f=new re;if(e)for(let h=0,p=e.count;h<p;h+=3){const g=e.getX(h+0),y=e.getX(h+1),_=e.getX(h+2);r.fromBufferAttribute(t,g),a.fromBufferAttribute(t,y),o.fromBufferAttribute(t,_),c.subVectors(o,a),f.subVectors(r,a),c.cross(f),s.fromBufferAttribute(n,g),l.fromBufferAttribute(n,y),u.fromBufferAttribute(n,_),s.add(c),l.add(c),u.add(c),n.setXYZ(g,s.x,s.y,s.z),n.setXYZ(y,l.x,l.y,l.z),n.setXYZ(_,u.x,u.y,u.z)}else for(let h=0,p=t.count;h<p;h+=3)r.fromBufferAttribute(t,h+0),a.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),c.subVectors(o,a),f.subVectors(r,a),c.cross(f),n.setXYZ(h+0,c.x,c.y,c.z),n.setXYZ(h+1,c.x,c.y,c.z),n.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ra.fromBufferAttribute(e,t),Ra.normalize(),e.setXYZ(t,Ra.x,Ra.y,Ra.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,f=s.normalized,h=new u.constructor(l.length*c);let p=0,g=0;for(let y=0,_=l.length;y<_;y++){s.isInterleavedBufferAttribute?p=l[y]*s.data.stride+s.offset:p=l[y]*c;for(let x=0;x<c;x++)h[g++]=u[p++]}return new bi(h,c,f)}if(this.index===null)return At("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new En,n=this.index.array,r=this.attributes;for(const s in r){const l=r[s],u=e(l,n);t.setAttribute(s,u)}const a=this.morphAttributes;for(const s in a){const l=[],u=a[s];for(let c=0,f=u.length;c<f;c++){const h=u[c],p=e(h,n);l.push(p)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const u=o[s];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const u=n[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const p=u[f];c.push(p.toJSON(e.data))}c.length>0&&(r[l]=c,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const r=e.attributes;for(const u in r){const c=r[u];this.setAttribute(u,c.clone(t))}const a=e.morphAttributes;for(const u in a){const c=[],f=a[u];for(let h=0,p=f.length;h<p;h++)c.push(f[h].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const l5=new hn,Tv=new cm,_w=new za,u5=new re,xw=new re,Sw=new re,bw=new re,TI=new re,Mw=new re,c5=new re,Tw=new re;class jr extends ci{constructor(e=new En,t=new qs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,a=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const s=this.morphTargetInfluences;if(a&&s){Mw.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const c=s[l],f=a[l];c!==0&&(TI.fromBufferAttribute(f,e),o?Mw.addScaledVector(TI,c):Mw.addScaledVector(TI.sub(t),c))}t.add(Mw)}return t}raycast(e,t){const n=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),_w.copy(n.boundingSphere),_w.applyMatrix4(a),Tv.copy(e.ray).recast(e.near),!(_w.containsPoint(Tv.origin)===!1&&(Tv.intersectSphere(_w,u5)===null||Tv.origin.distanceToSquared(u5)>(e.far-e.near)**2))&&(l5.copy(a).invert(),Tv.copy(e.ray).applyMatrix4(l5),!(n.boundingBox!==null&&Tv.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Tv)))}_computeIntersections(e,t,n){let r;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,u=a.attributes.uv,c=a.attributes.uv1,f=a.attributes.normal,h=a.groups,p=a.drawRange;if(s!==null)if(Array.isArray(o))for(let g=0,y=h.length;g<y;g++){const _=h[g],x=o[_.materialIndex],M=Math.max(_.start,p.start),T=Math.min(s.count,Math.min(_.start+_.count,p.start+p.count));for(let C=M,E=T;C<E;C+=3){const D=s.getX(C),L=s.getX(C+1),z=s.getX(C+2);r=ww(this,x,e,n,u,c,f,D,L,z),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const g=Math.max(0,p.start),y=Math.min(s.count,p.start+p.count);for(let _=g,x=y;_<x;_+=3){const M=s.getX(_),T=s.getX(_+1),C=s.getX(_+2);r=ww(this,o,e,n,u,c,f,M,T,C),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,y=h.length;g<y;g++){const _=h[g],x=o[_.materialIndex],M=Math.max(_.start,p.start),T=Math.min(l.count,Math.min(_.start+_.count,p.start+p.count));for(let C=M,E=T;C<E;C+=3){const D=C,L=C+1,z=C+2;r=ww(this,x,e,n,u,c,f,D,L,z),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const g=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let _=g,x=y;_<x;_+=3){const M=_,T=_+1,C=_+2;r=ww(this,o,e,n,u,c,f,M,T,C),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}}function mne(i,e,t,n,r,a,o,s){let l;if(e.side===Qo?l=n.intersectTriangle(o,a,r,!0,s):l=n.intersectTriangle(r,a,o,e.side===af,s),l===null)return null;Tw.copy(s),Tw.applyMatrix4(i.matrixWorld);const u=t.ray.origin.distanceTo(Tw);return u<t.near||u>t.far?null:{distance:u,point:Tw.clone(),object:i}}function ww(i,e,t,n,r,a,o,s,l,u){i.getVertexPosition(s,xw),i.getVertexPosition(l,Sw),i.getVertexPosition(u,bw);const c=mne(i,e,t,n,xw,Sw,bw,c5);if(c){const f=new re;$d.getBarycoord(c5,xw,Sw,bw,f),r&&(c.uv=$d.getInterpolatedAttribute(r,s,l,u,f,new Ze)),a&&(c.uv1=$d.getInterpolatedAttribute(a,s,l,u,f,new Ze)),o&&(c.normal=$d.getInterpolatedAttribute(o,s,l,u,f,new re),c.normal.dot(n.direction)>0&&c.normal.multiplyScalar(-1));const h={a:s,b:l,c:u,normal:new re,materialIndex:0};$d.getNormal(xw,Sw,bw,h.normal),c.face=h,c.barycoord=f}return c}class fm extends En{constructor(e=1,t=1,n=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:a,depthSegments:o};const s=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,p=0;g("z","y","x",-1,-1,n,t,e,o,a,0),g("z","y","x",1,-1,n,t,-e,o,a,1),g("x","z","y",1,1,e,n,t,r,o,2),g("x","z","y",1,-1,e,n,-t,r,o,3),g("x","y","z",1,-1,e,t,n,r,a,4),g("x","y","z",-1,-1,e,t,-n,r,a,5),this.setIndex(l),this.setAttribute("position",new Xt(u,3)),this.setAttribute("normal",new Xt(c,3)),this.setAttribute("uv",new Xt(f,2));function g(y,_,x,M,T,C,E,D,L,z,P){const N=C/L,B=E/z,G=C/2,U=E/2,X=D/2,q=L+1,V=z+1;let j=0,K=0;const te=new re;for(let ie=0;ie<V;ie++){const Y=ie*B-U;for(let ee=0;ee<q;ee++){const oe=ee*N-G;te[y]=oe*M,te[_]=Y*T,te[x]=X,u.push(te.x,te.y,te.z),te[y]=0,te[_]=0,te[x]=D>0?1:-1,c.push(te.x,te.y,te.z),f.push(ee/L),f.push(1-ie/z),j+=1}}for(let ie=0;ie<z;ie++)for(let Y=0;Y<L;Y++){const ee=h+Y+q*ie,oe=h+Y+q*(ie+1),de=h+(Y+1)+q*(ie+1),Pe=h+(Y+1)+q*ie;l.push(ee,oe,Pe),l.push(oe,de,Pe),K+=6}s.addGroup(p,K,P),p+=K,h+=j}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function r_(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(At("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function Wo(i){const e={};for(let t=0;t<i.length;t++){const n=r_(i[t]);for(const r in n)e[r]=n[r]}return e}function yne(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function dX(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Jn.workingColorSpace}const pX={clone:r_,merge:Wo};var _ne=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,xne=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ql extends ya{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=_ne,this.fragmentShader=xne,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=r_(e.uniforms),this.uniformsGroups=yne(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class cR extends ci{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new hn,this.projectionMatrix=new hn,this.projectionMatrixInverse=new hn,this.coordinateSystem=Ys,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Nd=new re,f5=new Ze,h5=new Ze;class Lr extends cR{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=n_*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(zg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return n_*2*Math.atan(Math.tan(zg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Nd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Nd.x,Nd.y).multiplyScalar(-e/Nd.z),Nd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Nd.x,Nd.y).multiplyScalar(-e/Nd.z)}getViewSize(e,t){return this.getViewBounds(e,f5,h5),t.subVectors(h5,f5)}setViewOffset(e,t,n,r,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(zg*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;a+=o.offsetX*r/l,t-=o.offsetY*n/u,r*=o.width/l,n*=o.height/u}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Uy=-90,Fy=1;class vX extends ci{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Lr(Uy,Fy,e,t);r.layers=this.layers,this.add(r);const a=new Lr(Uy,Fy,e,t);a.layers=this.layers,this.add(a);const o=new Lr(Uy,Fy,e,t);o.layers=this.layers,this.add(o);const s=new Lr(Uy,Fy,e,t);s.layers=this.layers,this.add(s);const l=new Lr(Uy,Fy,e,t);l.layers=this.layers,this.add(l);const u=new Lr(Uy,Fy,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,a,o,s,l]=t;for(const u of t)this.remove(u);if(e===Ys)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===e_)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,l,u,c]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const y=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,a),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,s),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,u),n.texture.generateMipmaps=y,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(f,h,p),e.xr.enabled=g,n.texture.needsPMREMUpdate=!0}}class $1 extends ur{constructor(e=[],t=of,n,r,a,o,s,l,u,c){super(e,t,n,r,a,o,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class zB extends Js{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new $1(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new fm(5,5,5),a=new ql({name:"CubemapFromEquirect",uniforms:r_(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Qo,blending:Jc});a.uniforms.tEquirect.value=t;const o=new jr(r,a),s=t.minFilter;return t.minFilter===Gl&&(t.minFilter=ki),new vX(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(a)}}let vh=class extends ci{constructor(){super(),this.isGroup=!0,this.type="Group"}};const Sne={type:"move"};class yC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new vh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new vh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new vh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,a=null,o=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const y of e.hand.values()){const _=t.getJointPose(y,n),x=this._getHandJoint(u,y);_!==null&&(x.matrix.fromArray(_.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=_.radius),x.visible=_!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),p=.02,g=.005;u.inputState.pinching&&h>p+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=p-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&a!==null&&(r=a),r!==null&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Sne)))}return s!==null&&(s.visible=r!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new vh;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class fR{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Et(e),this.density=t}clone(){return new fR(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class hR{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Et(e),this.near=t,this.far=n}clone(){return new hR(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class BB extends ci{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new tl,this.environmentIntensity=1,this.environmentRotation=new tl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Q1{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=l1,this.updateRanges=[],this.version=0,this.uuid=Qs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Go=new re;class Sp{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Go.fromBufferAttribute(this,t),Go.applyMatrix4(e),this.setXYZ(t,Go.x,Go.y,Go.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Go.fromBufferAttribute(this,t),Go.applyNormalMatrix(e),this.setXYZ(t,Go.x,Go.y,Go.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Go.fromBufferAttribute(this,t),Go.transformDirection(e),this.setXYZ(t,Go.x,Go.y,Go.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=jo(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Vn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Vn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=jo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=jo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=jo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=jo(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array),r=Vn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array),r=Vn(r,this.array),a=Vn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){c1("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new bi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Sp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){c1("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class kB extends ya{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Vy;const RS=new re,Gy=new re,Hy=new re,Wy=new Ze,LS=new Ze,gX=new hn,Aw=new re,IS=new re,Cw=new re,d5=new Ze,wI=new Ze,p5=new Ze;class mX extends ci{constructor(e=new kB){if(super(),this.isSprite=!0,this.type="Sprite",Vy===void 0){Vy=new En;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Q1(t,5);Vy.setIndex([0,1,2,0,2,3]),Vy.setAttribute("position",new Sp(n,3,0,!1)),Vy.setAttribute("uv",new Sp(n,2,3,!1))}this.geometry=Vy,this.material=e,this.center=new Ze(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Jt('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Gy.setFromMatrixScale(this.matrixWorld),gX.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Hy.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Gy.multiplyScalar(-Hy.z);const n=this.material.rotation;let r,a;n!==0&&(a=Math.cos(n),r=Math.sin(n));const o=this.center;Ew(Aw.set(-.5,-.5,0),Hy,o,Gy,r,a),Ew(IS.set(.5,-.5,0),Hy,o,Gy,r,a),Ew(Cw.set(.5,.5,0),Hy,o,Gy,r,a),d5.set(0,0),wI.set(1,0),p5.set(1,1);let s=e.ray.intersectTriangle(Aw,IS,Cw,!1,RS);if(s===null&&(Ew(IS.set(-.5,.5,0),Hy,o,Gy,r,a),wI.set(0,1),s=e.ray.intersectTriangle(Aw,Cw,IS,!1,RS),s===null))return;const l=e.ray.origin.distanceTo(RS);l<e.near||l>e.far||t.push({distance:l,point:RS.clone(),uv:$d.getInterpolation(RS,Aw,IS,Cw,d5,wI,p5,new Ze),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ew(i,e,t,n,r,a){Wy.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(LS.x=a*Wy.x-r*Wy.y,LS.y=r*Wy.x+a*Wy.y):LS.copy(Wy),i.copy(e),i.x+=LS.x,i.y+=LS.y,i.applyMatrix4(gX)}const Dw=new re,v5=new re;class yX extends ci{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const r=t.splice(n,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Dw.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Dw);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Dw.setFromMatrixPosition(e.matrixWorld),v5.setFromMatrixPosition(this.matrixWorld);const n=Dw.distanceTo(v5)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),n>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,a=n.length;r<a;r++){const o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const g5=new re,m5=new Gi,y5=new Gi,bne=new re,_5=new hn,Rw=new re,AI=new za,x5=new hn,CI=new cm;class UB extends jr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=BN,this.bindMatrix=new hn,this.bindMatrixInverse=new hn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Qa),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Rw),this.boundingBox.expandByPoint(Rw)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new za),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Rw),this.boundingSphere.expandByPoint(Rw)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),AI.copy(this.boundingSphere),AI.applyMatrix4(r),e.ray.intersectsSphere(AI)!==!1&&(x5.copy(r).invert(),CI.copy(e.ray).applyMatrix4(x5),!(this.boundingBox!==null&&CI.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,CI)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gi,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===BN?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Z7?this.bindMatrixInverse.copy(this.bindMatrix).invert():At("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;m5.fromBufferAttribute(r.attributes.skinIndex,e),y5.fromBufferAttribute(r.attributes.skinWeight,e),g5.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=y5.getComponent(a);if(o!==0){const s=m5.getComponent(a);_5.multiplyMatrices(n.bones[s].matrixWorld,n.boneInverses[s]),t.addScaledVector(bne.copy(g5).applyMatrix4(_5),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class dR extends ci{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ku extends ur{constructor(e=null,t=1,n=1,r,a,o,s,l,u=yr,c=yr,f,h){super(null,o,s,l,u,c,r,a,f,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const S5=new hn,Mne=new hn;class J1{constructor(e=[],t=[]){this.uuid=Qs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){At("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new hn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new hn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:Mne;S5.multiplyMatrices(s,t[a]),S5.toArray(n,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new J1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new ku(t,e,e,To,$o);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const a=e.bones[n];let o=t[a];o===void 0&&(At("Skeleton: No bone found with UUID:",a),o=new dR),this.bones.push(o),this.boneInverses.push(new hn().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const o=t[r];e.bones.push(o.uuid);const s=n[r];e.boneInverses.push(s.toArray())}return e}}class qg extends bi{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Xy=new hn,b5=new hn,Lw=[],M5=new Qa,Tne=new hn,PS=new jr,NS=new za;class FB extends jr{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new qg(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,Tne)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Qa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Xy),M5.copy(e.boundingBox).applyMatrix4(Xy),this.boundingBox.union(M5)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new za),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Xy),NS.copy(e.boundingSphere).applyMatrix4(Xy),this.boundingSphere.union(NS)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=n.length+1,o=e*a+1;for(let s=0;s<n.length;s++)n[s]=r[o+s]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(PS.geometry=this.geometry,PS.material=this.material,PS.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),NS.copy(this.boundingSphere),NS.applyMatrix4(n),e.ray.intersectsSphere(NS)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Xy),b5.multiplyMatrices(n,Xy),PS.matrixWorld=b5,PS.raycast(e,Lw);for(let o=0,s=Lw.length;o<s;o++){const l=Lw[o];l.instanceId=a,l.object=this,t.push(l)}Lw.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new qg(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new ku(new Float32Array(r*this.count),r,this.count,nR,$o));const a=this.morphTexture.source.data.data;let o=0;for(let u=0;u<n.length;u++)o+=n[u];const s=this.geometry.morphTargetsRelative?1:1-o,l=r*e;a[l]=s,a.set(n,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const EI=new re,wne=new re,Ane=new zn;class fh{constructor(e=new re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=EI.subVectors(n,t).cross(wne.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(EI),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Ane.getNormalMatrix(e),r=this.coplanarPoint(EI).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wv=new za,Cne=new Ze(.5,.5),Iw=new re;class C_{constructor(e=new fh,t=new fh,n=new fh,r=new fh,a=new fh,o=new fh){this.planes=[e,t,n,r,a,o]}set(e,t,n,r,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(r),s[4].copy(a),s[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Ys,n=!1){const r=this.planes,a=e.elements,o=a[0],s=a[1],l=a[2],u=a[3],c=a[4],f=a[5],h=a[6],p=a[7],g=a[8],y=a[9],_=a[10],x=a[11],M=a[12],T=a[13],C=a[14],E=a[15];if(r[0].setComponents(u-o,p-c,x-g,E-M).normalize(),r[1].setComponents(u+o,p+c,x+g,E+M).normalize(),r[2].setComponents(u+s,p+f,x+y,E+T).normalize(),r[3].setComponents(u-s,p-f,x-y,E-T).normalize(),n)r[4].setComponents(l,h,_,C).normalize(),r[5].setComponents(u-l,p-h,x-_,E-C).normalize();else if(r[4].setComponents(u-l,p-h,x-_,E-C).normalize(),t===Ys)r[5].setComponents(u+l,p+h,x+_,E+C).normalize();else if(t===e_)r[5].setComponents(l,h,_,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wv.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),wv.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wv)}intersectsSprite(e){wv.center.set(0,0,0);const t=Cne.distanceTo(e.center);return wv.radius=.7071067811865476+t,wv.applyMatrix4(e.matrixWorld),this.intersectsSphere(wv)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Iw.x=r.normal.x>0?e.max.x:e.min.x,Iw.y=r.normal.y>0?e.max.y:e.min.y,Iw.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Iw)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Rc=new hn,Lc=new C_;class pR{constructor(){this.coordinateSystem=Ys}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Rc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Lc.setFromProjectionMatrix(Rc,r.coordinateSystem,r.reversedDepth),Lc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Rc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Lc.setFromProjectionMatrix(Rc,r.coordinateSystem,r.reversedDepth),Lc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Rc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Lc.setFromProjectionMatrix(Rc,r.coordinateSystem,r.reversedDepth),Lc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Rc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Lc.setFromProjectionMatrix(Rc,r.coordinateSystem,r.reversedDepth),Lc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Rc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Lc.setFromProjectionMatrix(Rc,r.coordinateSystem,r.reversedDepth),Lc.containsPoint(e))return!0}return!1}clone(){return new pR}}function DI(i,e){return i-e}function Ene(i,e){return i.z-e.z}function Dne(i,e){return e.z-i.z}class Rne{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const s=a[this.index];o.push(s),this.index++,s.start=e,s.count=t,s.z=n,s.index=r}reset(){this.list.length=0,this.index=0}}const bs=new hn,Lne=new Et(1,1,1),T5=new C_,Ine=new pR,Pw=new Qa,Av=new za,OS=new re,w5=new re,Pne=new re,RI=new Rne,_o=new jr,Nw=[];function Nne(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const r=i.count;for(let a=0;a<r;a++)for(let o=0;o<n;o++)e.setComponent(a+t,o,i.getComponent(a,o))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function Cv(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class _X extends jr{constructor(e,t,n=t*2,r){super(new En,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new ku(t,e,e,To,$o);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new ku(t,e,e,K1,Yl);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new ku(t,e,e,To,$o);n.colorSpace=Jn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:s,itemSize:l,normalized:u}=o,c=new s.constructor(n*l),f=new bi(c,l,u);t.setAttribute(a,f)}if(e.getIndex()!==null){const a=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new bi(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),a=t.getAttribute(n);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qa);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,bs),this.getBoundingBoxAt(a,Pw).applyMatrix4(bs),e.union(Pw)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new za);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,bs),this.getBoundingSphereAt(a,Av).applyMatrix4(bs),e.union(Av)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(DI),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=n):(r=this._instanceInfo.length,this._instanceInfo.push(n));const a=this._matricesTexture;bs.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(Lne.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=n===-1?o.count:n),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(DI),l=this._availableGeometryIds.shift(),a[l]=r):(l=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=n.getIndex()!==null,a=n.getIndex(),o=t.getIndex(),s=this._geometryInfo[e];if(r&&o.count>s.reservedIndexCount||t.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.reservedVertexCount;s.vertexCount=t.getAttribute("position").count;for(const c in n.attributes){const f=t.getAttribute(c),h=n.getAttribute(c);Nne(f,h,l);const p=f.itemSize;for(let g=f.count,y=u;g<y;g++){const _=l+g;for(let x=0;x<p;x++)h.setComponent(_,x,0)}h.needsUpdate=!0,h.addUpdateRange(l*p,u*p)}if(r){const c=s.indexStart,f=s.reservedIndexCount;s.indexCount=t.getIndex().count;for(let h=0;h<o.count;h++)a.setX(c+h,l+o.getX(h));for(let h=o.count,p=f;h<p;h++)a.setX(c+h,l);a.needsUpdate=!0,a.addUpdateRange(c,s.reservedIndexCount)}return s.start=r?s.indexStart:s.vertexStart,s.count=r?s.indexCount:s.vertexCount,s.boundingBox=null,t.boundingBox!==null&&(s.boundingBox=t.boundingBox.clone()),s.boundingSphere=null,t.boundingSphere!==null&&(s.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let r=0,a=n.length;r<a;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((o,s)=>s).sort((o,s)=>n[o].vertexStart-n[s].vertexStart),a=this.geometry;for(let o=0,s=n.length;o<s;o++){const l=r[o],u=n[l];if(u.active!==!1){if(a.index!==null){if(u.indexStart!==t){const{indexStart:c,vertexStart:f,reservedIndexCount:h}=u,p=a.index,g=p.array,y=e-f;for(let _=c;_<c+h;_++)g[_]=g[_]+y;p.array.copyWithin(t,c,c+h),p.addUpdateRange(t,h),p.needsUpdate=!0,u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:c,reservedVertexCount:f}=u,h=a.attributes;for(const p in h){const g=h[p],{array:y,itemSize:_}=g;y.copyWithin(e*_,c*_,(c+f)*_),g.addUpdateRange(e*_,f*_),g.needsUpdate=!0}u.vertexStart=e}e+=u.reservedVertexCount,u.start=a.index?u.indexStart:u.vertexStart,this._nextIndexStart=a.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new Qa,o=n.index,s=n.attributes.position;for(let l=r.start,u=r.start+r.count;l<u;l++){let c=l;o&&(c=o.getX(c)),a.expandByPoint(OS.fromBufferAttribute(s,c))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new za;this.getBoundingBoxAt(e,Pw),Pw.getCenter(a.center);const o=n.index,s=n.attributes.position;let l=0;for(let u=r.start,c=r.start+r.count;u<c;u++){let f=u;o&&(f=o.getX(f)),OS.fromBufferAttribute(s,f),l=Math.max(l,a.center.distanceToSquared(OS))}a.radius=Math.sqrt(l),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(DI);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Cv(this._multiDrawCounts,r),Cv(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Cv(o.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Cv(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Cv(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...n.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new En,this._initializeGeometry(a));const o=this.geometry;a.index&&Cv(a.index.array,o.index.array);for(const s in a.attributes)Cv(a.attributes[s].array,o.attributes[s].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,o=this.geometry;_o.material=this.material,_o.geometry.index=o.index,_o.geometry.attributes=o.attributes,_o.geometry.boundingBox===null&&(_o.geometry.boundingBox=new Qa),_o.geometry.boundingSphere===null&&(_o.geometry.boundingSphere=new za);for(let s=0,l=n.length;s<l;s++){if(!n[s].visible||!n[s].active)continue;const u=n[s].geometryIndex,c=r[u];_o.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(s,_o.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,_o.geometry.boundingBox),this.getBoundingSphereAt(u,_o.geometry.boundingSphere),_o.raycast(e,Nw);for(let f=0,h=Nw.length;f<h;f++){const p=Nw[f];p.object=this,p.batchId=s,t.push(p)}Nw.length=0}_o.material=null,_o.geometry.index=null,_o.geometry.attributes={},_o.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),s=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,c=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,p=this._indirectTexture,g=p.image.data,y=n.isArrayCamera?Ine:T5;h&&!n.isArrayCamera&&(bs.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),T5.setFromProjectionMatrix(bs,n.coordinateSystem,n.reversedDepth));let _=0;if(this.sortObjects){bs.copy(this.matrixWorld).invert(),OS.setFromMatrixPosition(n.matrixWorld).applyMatrix4(bs),w5.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(bs);for(let T=0,C=l.length;T<C;T++)if(l[T].visible&&l[T].active){const E=l[T].geometryIndex;this.getMatrixAt(T,bs),this.getBoundingSphereAt(E,Av).applyMatrix4(bs);let D=!1;if(h&&(D=!y.intersectsSphere(Av,n)),!D){const L=f[E],z=Pne.subVectors(Av.center,OS).dot(w5);RI.push(L.start,L.count,z,T)}}const x=RI.list,M=this.customSort;M===null?x.sort(a.transparent?Dne:Ene):M.call(this,x,n);for(let T=0,C=x.length;T<C;T++){const E=x[T];u[_]=E.start*s,c[_]=E.count,g[_]=E.index,_++}RI.reset()}else for(let x=0,M=l.length;x<M;x++)if(l[x].visible&&l[x].active){const T=l[x].geometryIndex;let C=!1;if(h&&(this.getMatrixAt(x,bs),this.getBoundingSphereAt(T,Av).applyMatrix4(bs),C=!y.intersectsSphere(Av,n)),!C){const E=f[T];u[_]=E.start*s,c[_]=E.count,g[_]=x,_++}}p.needsUpdate=!0,this._multiDrawCount=_,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,a,o){this.onBeforeRender(e,null,r,a,o)}}class Co extends ya{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const RE=new re,LE=new re,A5=new hn,zS=new cm,Ow=new za,LI=new re,C5=new re;let Eh=class extends ci{constructor(e=new En,t=new Co){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,a=t.count;r<a;r++)RE.fromBufferAttribute(t,r-1),LE.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=RE.distanceTo(LE);e.setAttribute("lineDistance",new Xt(n,1))}else At("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Ow.copy(n.boundingSphere),Ow.applyMatrix4(r),Ow.radius+=a,e.ray.intersectsSphere(Ow)===!1)return;A5.copy(r).invert(),zS.copy(e.ray).applyMatrix4(A5);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=this.isLineSegments?2:1,c=n.index,h=n.attributes.position;if(c!==null){const p=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let y=p,_=g-1;y<_;y+=u){const x=c.getX(y),M=c.getX(y+1),T=zw(this,e,zS,l,x,M,y);T&&t.push(T)}if(this.isLineLoop){const y=c.getX(g-1),_=c.getX(p),x=zw(this,e,zS,l,y,_,g-1);x&&t.push(x)}}else{const p=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let y=p,_=g-1;y<_;y+=u){const x=zw(this,e,zS,l,y,y+1,y);x&&t.push(x)}if(this.isLineLoop){const y=zw(this,e,zS,l,g-1,p,g-1);y&&t.push(y)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}};function zw(i,e,t,n,r,a,o){const s=i.geometry.attributes.position;if(RE.fromBufferAttribute(s,r),LE.fromBufferAttribute(s,a),t.distanceSqToSegment(RE,LE,LI,C5)>n)return;LI.applyMatrix4(i.matrixWorld);const u=e.ray.origin.distanceTo(LI);if(!(u<e.near||u>e.far))return{distance:u,point:C5.clone().applyMatrix4(i.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:i}}const E5=new re,D5=new re;class qu extends Eh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,a=t.count;r<a;r+=2)E5.fromBufferAttribute(t,r),D5.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+E5.distanceTo(D5);e.setAttribute("lineDistance",new Xt(n,1))}else At("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class VB extends Eh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class vR extends ya{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const R5=new hn,FN=new cm,Bw=new za,kw=new re;class GB extends ci{constructor(e=new En,t=new vR){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Bw.copy(n.boundingSphere),Bw.applyMatrix4(r),Bw.radius+=a,e.ray.intersectsSphere(Bw)===!1)return;R5.copy(r).invert(),FN.copy(e.ray).applyMatrix4(R5);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=n.index,f=n.attributes.position;if(u!==null){const h=Math.max(0,o.start),p=Math.min(u.count,o.start+o.count);for(let g=h,y=p;g<y;g++){const _=u.getX(g);kw.fromBufferAttribute(f,_),L5(kw,_,l,r,e,t,this)}}else{const h=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let g=h,y=p;g<y;g++)kw.fromBufferAttribute(f,g),L5(kw,g,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function L5(i,e,t,n,r,a,o){const s=FN.distanceSqToPoint(i);if(s<t){const l=new re;FN.closestPointToPoint(i,l),l.applyMatrix4(n);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class xX extends ur{constructor(e,t,n,r,a=ki,o=ki,s,l,u){super(e,t,n,r,a,o,s,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const c=this;function f(){c.needsUpdate=!0,c._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class One extends xX{constructor(e,t,n,r,a,o,s,l){super({},e,t,n,r,a,o,s,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class zne extends ur{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=yr,this.minFilter=yr,this.generateMipmaps=!1,this.needsUpdate=!0}}class gR extends ur{constructor(e,t,n,r,a,o,s,l,u,c,f,h){super(null,o,s,l,u,c,r,a,f,h),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Bne extends gR{constructor(e,t,n,r,a,o){super(e,t,n,a,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ko,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class kne extends gR{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,of),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Une extends ur{constructor(e,t,n,r,a,o,s,l,u){super(e,t,n,r,a,o,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class a_ extends ur{constructor(e,t,n=Yl,r,a,o,s=yr,l=yr,u,c=lf,f=1){if(c!==lf&&c!==Jd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:t,depth:f};super(h,r,a,o,s,l,c,n,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new ep(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class SX extends a_{constructor(e,t=Yl,n=of,r,a,o=yr,s=yr,l,u=lf){const c={width:e,height:e,depth:1},f=[c,c,c,c,c,c];super(e,e,t,n,r,a,o,s,l,u),this.image=f,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class HB extends ur{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class mR extends En{constructor(e=1,t=1,n=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r,heightSegments:a},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const o=[],s=[],l=[],u=[],c=t/2,f=Math.PI/2*e,h=t,p=2*f+h,g=n*2+a,y=r+1,_=new re,x=new re;for(let M=0;M<=g;M++){let T=0,C=0,E=0,D=0;if(M<=n){const P=M/n,N=P*Math.PI/2;C=-c-e*Math.cos(N),E=e*Math.sin(N),D=-e*Math.cos(N),T=P*f}else if(M<=n+a){const P=(M-n)/a;C=-c+P*t,E=e,D=0,T=f+P*h}else{const P=(M-n-a)/n,N=P*Math.PI/2;C=c+e*Math.sin(N),E=e*Math.cos(N),D=e*Math.sin(N),T=f+h+P*f}const L=Math.max(0,Math.min(1,T/p));let z=0;M===0?z=.5/r:M===g&&(z=-.5/r);for(let P=0;P<=r;P++){const N=P/r,B=N*Math.PI*2,G=Math.sin(B),U=Math.cos(B);x.x=-E*U,x.y=C,x.z=E*G,s.push(x.x,x.y,x.z),_.set(-E*U,D,E*G),_.normalize(),l.push(_.x,_.y,_.z),u.push(N+z,L)}if(M>0){const P=(M-1)*y;for(let N=0;N<r;N++){const B=P+N,G=P+N+1,U=M*y+N,X=M*y+N+1;o.push(B,G,U),o.push(G,X,U)}}}this.setIndex(o),this.setAttribute("position",new Xt(s,3)),this.setAttribute("normal",new Xt(l,3)),this.setAttribute("uv",new Xt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mR(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class yR extends En{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const a=[],o=[],s=[],l=[],u=new re,c=new Ze;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=t;f++,h+=3){const p=n+f/t*r;u.x=e*Math.cos(p),u.y=e*Math.sin(p),o.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=t;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new Xt(o,3)),this.setAttribute("normal",new Xt(s,3)),this.setAttribute("uv",new Xt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yR(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class eM extends En{constructor(e=1,t=1,n=1,r=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const u=this;r=Math.floor(r),a=Math.floor(a);const c=[],f=[],h=[],p=[];let g=0;const y=[],_=n/2;let x=0;M(),o===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(c),this.setAttribute("position",new Xt(f,3)),this.setAttribute("normal",new Xt(h,3)),this.setAttribute("uv",new Xt(p,2));function M(){const C=new re,E=new re;let D=0;const L=(t-e)/n;for(let z=0;z<=a;z++){const P=[],N=z/a,B=N*(t-e)+e;for(let G=0;G<=r;G++){const U=G/r,X=U*l+s,q=Math.sin(X),V=Math.cos(X);E.x=B*q,E.y=-N*n+_,E.z=B*V,f.push(E.x,E.y,E.z),C.set(q,L,V).normalize(),h.push(C.x,C.y,C.z),p.push(U,1-N),P.push(g++)}y.push(P)}for(let z=0;z<r;z++)for(let P=0;P<a;P++){const N=y[P][z],B=y[P+1][z],G=y[P+1][z+1],U=y[P][z+1];(e>0||P!==0)&&(c.push(N,B,U),D+=3),(t>0||P!==a-1)&&(c.push(B,G,U),D+=3)}u.addGroup(x,D,0),x+=D}function T(C){const E=g,D=new Ze,L=new re;let z=0;const P=C===!0?e:t,N=C===!0?1:-1;for(let G=1;G<=r;G++)f.push(0,_*N,0),h.push(0,N,0),p.push(.5,.5),g++;const B=g;for(let G=0;G<=r;G++){const X=G/r*l+s,q=Math.cos(X),V=Math.sin(X);L.x=P*V,L.y=_*N,L.z=P*q,f.push(L.x,L.y,L.z),h.push(0,N,0),D.x=q*.5+.5,D.y=V*.5*N+.5,p.push(D.x,D.y),g++}for(let G=0;G<r;G++){const U=E+G,X=B+G;C===!0?c.push(X,X+1,U):c.push(X+1,X,U),z+=3}u.addGroup(x,z,C===!0?1:2),x+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eM(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tM extends eM{constructor(e=1,t=1,n=32,r=1,a=!1,o=0,s=Math.PI*2){super(0,e,t,n,r,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new tM(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Dp extends En{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const a=[],o=[];s(r),u(n),c(),this.setAttribute("position",new Xt(a,3)),this.setAttribute("normal",new Xt(a.slice(),3)),this.setAttribute("uv",new Xt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function s(M){const T=new re,C=new re,E=new re;for(let D=0;D<t.length;D+=3)p(t[D+0],T),p(t[D+1],C),p(t[D+2],E),l(T,C,E,M)}function l(M,T,C,E){const D=E+1,L=[];for(let z=0;z<=D;z++){L[z]=[];const P=M.clone().lerp(C,z/D),N=T.clone().lerp(C,z/D),B=D-z;for(let G=0;G<=B;G++)G===0&&z===D?L[z][G]=P:L[z][G]=P.clone().lerp(N,G/B)}for(let z=0;z<D;z++)for(let P=0;P<2*(D-z)-1;P++){const N=Math.floor(P/2);P%2===0?(h(L[z][N+1]),h(L[z+1][N]),h(L[z][N])):(h(L[z][N+1]),h(L[z+1][N+1]),h(L[z+1][N]))}}function u(M){const T=new re;for(let C=0;C<a.length;C+=3)T.x=a[C+0],T.y=a[C+1],T.z=a[C+2],T.normalize().multiplyScalar(M),a[C+0]=T.x,a[C+1]=T.y,a[C+2]=T.z}function c(){const M=new re;for(let T=0;T<a.length;T+=3){M.x=a[T+0],M.y=a[T+1],M.z=a[T+2];const C=_(M)/2/Math.PI+.5,E=x(M)/Math.PI+.5;o.push(C,1-E)}g(),f()}function f(){for(let M=0;M<o.length;M+=6){const T=o[M+0],C=o[M+2],E=o[M+4],D=Math.max(T,C,E),L=Math.min(T,C,E);D>.9&&L<.1&&(T<.2&&(o[M+0]+=1),C<.2&&(o[M+2]+=1),E<.2&&(o[M+4]+=1))}}function h(M){a.push(M.x,M.y,M.z)}function p(M,T){const C=M*3;T.x=e[C+0],T.y=e[C+1],T.z=e[C+2]}function g(){const M=new re,T=new re,C=new re,E=new re,D=new Ze,L=new Ze,z=new Ze;for(let P=0,N=0;P<a.length;P+=9,N+=6){M.set(a[P+0],a[P+1],a[P+2]),T.set(a[P+3],a[P+4],a[P+5]),C.set(a[P+6],a[P+7],a[P+8]),D.set(o[N+0],o[N+1]),L.set(o[N+2],o[N+3]),z.set(o[N+4],o[N+5]),E.copy(M).add(T).add(C).divideScalar(3);const B=_(E);y(D,N+0,M,B),y(L,N+2,T,B),y(z,N+4,C,B)}}function y(M,T,C,E){E<0&&M.x===1&&(o[T]=M.x-1),C.x===0&&C.z===0&&(o[T]=E/2/Math.PI+.5)}function _(M){return Math.atan2(M.z,-M.x)}function x(M){return Math.atan2(-M.y,Math.sqrt(M.x*M.x+M.z*M.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dp(e.vertices,e.indices,e.radius,e.detail)}}class _R extends Dp{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _R(e.radius,e.detail)}}const Uw=new re,Fw=new re,II=new re,Vw=new $d;class bX extends En{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(zg*t),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},p=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:y,b:_,c:x}=Vw;if(y.fromBufferAttribute(s,u[0]),_.fromBufferAttribute(s,u[1]),x.fromBufferAttribute(s,u[2]),Vw.getNormal(II),f[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,f[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,f[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let M=0;M<3;M++){const T=(M+1)%3,C=f[M],E=f[T],D=Vw[c[M]],L=Vw[c[T]],z=`${C}_${E}`,P=`${E}_${C}`;P in h&&h[P]?(II.dot(h[P].normal)<=a&&(p.push(D.x,D.y,D.z),p.push(L.x,L.y,L.z)),h[P]=null):z in h||(h[z]={index0:u[M],index1:u[T],normal:II.clone()})}}for(const g in h)if(h[g]){const{index0:y,index1:_}=h[g];Uw.fromBufferAttribute(s,y),Fw.fromBufferAttribute(s,_),p.push(Uw.x,Uw.y,Uw.z),p.push(Fw.x,Fw.y,Fw.z)}this.setAttribute("position",new Xt(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Zu{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){At("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),a+=n.distanceTo(r),t.push(a),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let r=0;const a=n.length;let o;t?o=t:o=e*n[a-1];let s=0,l=a-1,u;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),u=n[r]-o,u<0)s=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,n[r]===o)return r/(a-1);const c=n[r],h=n[r+1]-c,p=(o-c)/h;return(r+p)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const o=this.getPoint(r),s=this.getPoint(a),l=t||(o.isVector2?new Ze:new re);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new re,r=[],a=[],o=[],s=new re,l=new hn;for(let p=0;p<=e;p++){const g=p/e;r[p]=this.getTangentAt(g,new re)}a[0]=new re,o[0]=new re;let u=Number.MAX_VALUE;const c=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=u&&(u=c,n.set(1,0,0)),f<=u&&(u=f,n.set(0,1,0)),h<=u&&n.set(0,0,1),s.crossVectors(r[0],n).normalize(),a[0].crossVectors(r[0],s),o[0].crossVectors(r[0],a[0]);for(let p=1;p<=e;p++){if(a[p]=a[p-1].clone(),o[p]=o[p-1].clone(),s.crossVectors(r[p-1],r[p]),s.length()>Number.EPSILON){s.normalize();const g=Math.acos(xn(r[p-1].dot(r[p]),-1,1));a[p].applyMatrix4(l.makeRotationAxis(s,g))}o[p].crossVectors(r[p],a[p])}if(t===!0){let p=Math.acos(xn(a[0].dot(a[e]),-1,1));p/=e,r[0].dot(s.crossVectors(a[0],a[e]))>0&&(p=-p);for(let g=1;g<=e;g++)a[g].applyMatrix4(l.makeRotationAxis(r[g],p*g)),o[g].crossVectors(r[g],a[g])}return{tangents:r,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class xR extends Zu{constructor(e=0,t=0,n=1,r=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,t=new Ze){const n=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(o?a=0:a=r),this.aClockwise===!0&&!o&&(a===r?a=-r:a=a-r);const s=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,p=u-this.aY;l=h*c-p*f+this.aX,u=h*f+p*c+this.aY}return n.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class MX extends xR{constructor(e,t,n,r,a,o){super(e,t,n,n,r,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function WB(){let i=0,e=0,t=0,n=0;function r(a,o,s,l){i=a,e=s,t=-3*a+3*o-2*s-l,n=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,u){r(o,s,u*(s-a),u*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,u,c,f){let h=(o-a)/u-(s-a)/(u+c)+(s-o)/c,p=(s-o)/c-(l-o)/(c+f)+(l-s)/f;h*=c,p*=c,r(o,s,h,p)},calc:function(a){const o=a*a,s=o*a;return i+e*a+t*o+n*s}}}const Gw=new re,PI=new WB,NI=new WB,OI=new WB;class TX extends Zu{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new re){const n=t,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let u,c;this.closed||s>0?u=r[(s-1)%a]:(Gw.subVectors(r[0],r[1]).add(r[0]),u=Gw);const f=r[s%a],h=r[(s+1)%a];if(this.closed||s+2<a?c=r[(s+2)%a]:(Gw.subVectors(r[a-1],r[a-2]).add(r[a-1]),c=Gw),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),p),y=Math.pow(f.distanceToSquared(h),p),_=Math.pow(h.distanceToSquared(c),p);y<1e-4&&(y=1),g<1e-4&&(g=y),_<1e-4&&(_=y),PI.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,g,y,_),NI.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,g,y,_),OI.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,g,y,_)}else this.curveType==="catmullrom"&&(PI.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),NI.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),OI.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return n.set(PI.calc(l),NI.calc(l),OI.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new re().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function I5(i,e,t,n,r){const a=(n-e)*.5,o=(r-t)*.5,s=i*i,l=i*s;return(2*t-2*n+a+o)*l+(-3*t+3*n-2*a-o)*s+a*i+t}function Fne(i,e){const t=1-i;return t*t*e}function Vne(i,e){return 2*(1-i)*i*e}function Gne(i,e){return i*i*e}function Fb(i,e,t,n){return Fne(i,e)+Vne(i,t)+Gne(i,n)}function Hne(i,e){const t=1-i;return t*t*t*e}function Wne(i,e){const t=1-i;return 3*t*t*i*e}function Xne(i,e){return 3*(1-i)*i*i*e}function Yne(i,e){return i*i*i*e}function Vb(i,e,t,n,r){return Hne(i,e)+Wne(i,t)+Xne(i,n)+Yne(i,r)}class XB extends Zu{constructor(e=new Ze,t=new Ze,n=new Ze,r=new Ze){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Ze){const n=t,r=this.v0,a=this.v1,o=this.v2,s=this.v3;return n.set(Vb(e,r.x,a.x,o.x,s.x),Vb(e,r.y,a.y,o.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class wX extends Zu{constructor(e=new re,t=new re,n=new re,r=new re){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new re){const n=t,r=this.v0,a=this.v1,o=this.v2,s=this.v3;return n.set(Vb(e,r.x,a.x,o.x,s.x),Vb(e,r.y,a.y,o.y,s.y),Vb(e,r.z,a.z,o.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class YB extends Zu{constructor(e=new Ze,t=new Ze){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ze){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ze){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AX extends Zu{constructor(e=new re,t=new re){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new re){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new re){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qB extends Zu{constructor(e=new Ze,t=new Ze,n=new Ze){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ze){const n=t,r=this.v0,a=this.v1,o=this.v2;return n.set(Fb(e,r.x,a.x,o.x),Fb(e,r.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ZB extends Zu{constructor(e=new re,t=new re,n=new re){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new re){const n=t,r=this.v0,a=this.v1,o=this.v2;return n.set(Fb(e,r.x,a.x,o.x),Fb(e,r.y,a.y,o.y),Fb(e,r.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jB extends Zu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ze){const n=t,r=this.points,a=(r.length-1)*e,o=Math.floor(a),s=a-o,l=r[o===0?o:o-1],u=r[o],c=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return n.set(I5(s,l.x,u.x,c.x,f.x),I5(s,l.y,u.y,c.y,f.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Ze().fromArray(r))}return this}}var IE=Object.freeze({__proto__:null,ArcCurve:MX,CatmullRomCurve3:TX,CubicBezierCurve:XB,CubicBezierCurve3:wX,EllipseCurve:xR,LineCurve:YB,LineCurve3:AX,QuadraticBezierCurve:qB,QuadraticBezierCurve3:ZB,SplineCurve:jB});class CX extends Zu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new IE[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=n){const o=r[a]-n,s=this.curves[a],l=s.getLength(),u=l===0?0:1-o/l;return s.getPointAt(u,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,a=this.curves;r<a.length;r++){const o=a[r],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new IE[r.type]().fromJSON(r))}return this}}let PE=class extends CX{constructor(e){super(),this.type="Path",this.currentPoint=new Ze,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new YB(this.currentPoint.clone(),new Ze(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const a=new qB(this.currentPoint.clone(),new Ze(e,t),new Ze(n,r));return this.curves.push(a),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,a,o){const s=new XB(this.currentPoint.clone(),new Ze(e,t),new Ze(n,r),new Ze(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new jB(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,t+l,n,r,a,o),this}absarc(e,t,n,r,a,o){return this.absellipse(e,t,n,n,r,a,o),this}ellipse(e,t,n,r,a,o,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,n,r,a,o,s,l),this}absellipse(e,t,n,r,a,o,s,l){const u=new xR(e,t,n,r,a,o,s,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class Bg extends PE{constructor(e){super(e),this.uuid=Qs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new PE().fromJSON(r))}return this}}function qne(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let a=EX(i,0,r,t,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u;if(n&&(a=Qne(i,e,a,t)),i.length>80*t){s=i[0],l=i[1];let c=s,f=l;for(let h=t;h<r;h+=t){const p=i[h],g=i[h+1];p<s&&(s=p),g<l&&(l=g),p>c&&(c=p),g>f&&(f=g)}u=Math.max(c-s,f-l),u=u!==0?32767/u:0}return f1(a,o,t,s,l,u,0),o}function EX(i,e,t,n,r){let a;if(r===uie(i,e,t,n)>0)for(let o=e;o<t;o+=n)a=P5(o/n|0,i[o],i[o+1],a);else for(let o=t-n;o>=e;o-=n)a=P5(o/n|0,i[o],i[o+1],a);return a&&o_(a,a.next)&&(d1(a),a=a.next),a}function Zg(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(o_(t,t.next)||mr(t.prev,t,t.next)===0)){if(d1(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function f1(i,e,t,n,r,a,o){if(!i)return;!o&&a&&iie(i,n,r,a);let s=i;for(;i.prev!==i.next;){const l=i.prev,u=i.next;if(a?jne(i,n,r,a):Zne(i)){e.push(l.i,i.i,u.i),d1(i),i=u.next,s=u.next;continue}if(i=u,i===s){o?o===1?(i=Kne(Zg(i),e),f1(i,e,t,n,r,a,2)):o===2&&$ne(i,e,t,n,r,a):f1(Zg(i),e,t,n,r,a,1);break}}}function Zne(i){const e=i.prev,t=i,n=i.next;if(mr(e,t,n)>=0)return!1;const r=e.x,a=t.x,o=n.x,s=e.y,l=t.y,u=n.y,c=Math.min(r,a,o),f=Math.min(s,l,u),h=Math.max(r,a,o),p=Math.max(s,l,u);let g=n.next;for(;g!==e;){if(g.x>=c&&g.x<=h&&g.y>=f&&g.y<=p&&_b(r,s,a,l,o,u,g.x,g.y)&&mr(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function jne(i,e,t,n){const r=i.prev,a=i,o=i.next;if(mr(r,a,o)>=0)return!1;const s=r.x,l=a.x,u=o.x,c=r.y,f=a.y,h=o.y,p=Math.min(s,l,u),g=Math.min(c,f,h),y=Math.max(s,l,u),_=Math.max(c,f,h),x=VN(p,g,e,t,n),M=VN(y,_,e,t,n);let T=i.prevZ,C=i.nextZ;for(;T&&T.z>=x&&C&&C.z<=M;){if(T.x>=p&&T.x<=y&&T.y>=g&&T.y<=_&&T!==r&&T!==o&&_b(s,c,l,f,u,h,T.x,T.y)&&mr(T.prev,T,T.next)>=0||(T=T.prevZ,C.x>=p&&C.x<=y&&C.y>=g&&C.y<=_&&C!==r&&C!==o&&_b(s,c,l,f,u,h,C.x,C.y)&&mr(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;T&&T.z>=x;){if(T.x>=p&&T.x<=y&&T.y>=g&&T.y<=_&&T!==r&&T!==o&&_b(s,c,l,f,u,h,T.x,T.y)&&mr(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;C&&C.z<=M;){if(C.x>=p&&C.x<=y&&C.y>=g&&C.y<=_&&C!==r&&C!==o&&_b(s,c,l,f,u,h,C.x,C.y)&&mr(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Kne(i,e){let t=i;do{const n=t.prev,r=t.next.next;!o_(n,r)&&RX(n,t,t.next,r)&&h1(n,r)&&h1(r,n)&&(e.push(n.i,t.i,r.i),d1(t),d1(t.next),t=i=r),t=t.next}while(t!==i);return Zg(t)}function $ne(i,e,t,n,r,a){let o=i;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&oie(o,s)){let l=LX(o,s);o=Zg(o,o.next),l=Zg(l,l.next),f1(o,e,t,n,r,a,0),f1(l,e,t,n,r,a,0);return}s=s.next}o=o.next}while(o!==i)}function Qne(i,e,t,n){const r=[];for(let a=0,o=e.length;a<o;a++){const s=e[a]*n,l=a<o-1?e[a+1]*n:i.length,u=EX(i,s,l,n,!1);u===u.next&&(u.steiner=!0),r.push(aie(u))}r.sort(Jne);for(let a=0;a<r.length;a++)t=eie(r[a],t);return t}function Jne(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=n-r}return t}function eie(i,e){const t=tie(i,e);if(!t)return e;const n=LX(t,i);return Zg(n,n.next),Zg(t,t.next)}function tie(i,e){let t=e;const n=i.x,r=i.y;let a=-1/0,o;if(o_(i,t))return t;do{if(o_(i,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const f=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=n&&f>a&&(a=f,o=t.x<t.next.x?t:t.next,f===n))return o}t=t.next}while(t!==e);if(!o)return null;const s=o,l=o.x,u=o.y;let c=1/0;t=o;do{if(n>=t.x&&t.x>=l&&n!==t.x&&DX(r<u?n:a,r,l,u,r<u?a:n,r,t.x,t.y)){const f=Math.abs(r-t.y)/(n-t.x);h1(t,i)&&(f<c||f===c&&(t.x>o.x||t.x===o.x&&nie(o,t)))&&(o=t,c=f)}t=t.next}while(t!==s);return o}function nie(i,e){return mr(i.prev,i,e.prev)<0&&mr(e.next,i,i.next)<0}function iie(i,e,t,n){let r=i;do r.z===0&&(r.z=VN(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,rie(r)}function rie(i){let e,t=1;do{let n=i,r;i=null;let a=null;for(e=0;n;){e++;let o=n,s=0;for(let u=0;u<t&&(s++,o=o.nextZ,!!o);u++);let l=t;for(;s>0||l>0&&o;)s!==0&&(l===0||!o||n.z<=o.z)?(r=n,n=n.nextZ,s--):(r=o,o=o.nextZ,l--),a?a.nextZ=r:i=r,r.prevZ=a,a=r;n=o}a.nextZ=null,t*=2}while(e>1);return i}function VN(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function aie(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function DX(i,e,t,n,r,a,o,s){return(r-o)*(e-s)>=(i-o)*(a-s)&&(i-o)*(n-s)>=(t-o)*(e-s)&&(t-o)*(a-s)>=(r-o)*(n-s)}function _b(i,e,t,n,r,a,o,s){return!(i===o&&e===s)&&DX(i,e,t,n,r,a,o,s)}function oie(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!sie(i,e)&&(h1(i,e)&&h1(e,i)&&lie(i,e)&&(mr(i.prev,i,e.prev)||mr(i,e.prev,e))||o_(i,e)&&mr(i.prev,i,i.next)>0&&mr(e.prev,e,e.next)>0)}function mr(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function o_(i,e){return i.x===e.x&&i.y===e.y}function RX(i,e,t,n){const r=Ww(mr(i,e,t)),a=Ww(mr(i,e,n)),o=Ww(mr(t,n,i)),s=Ww(mr(t,n,e));return!!(r!==a&&o!==s||r===0&&Hw(i,t,e)||a===0&&Hw(i,n,e)||o===0&&Hw(t,i,n)||s===0&&Hw(t,e,n))}function Hw(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function Ww(i){return i>0?1:i<0?-1:0}function sie(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&RX(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function h1(i,e){return mr(i.prev,i,i.next)<0?mr(i,e,i.next)>=0&&mr(i,i.prev,e)>=0:mr(i,e,i.prev)<0||mr(i,i.next,e)<0}function lie(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,a=(i.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function LX(i,e){const t=GN(i.i,i.x,i.y),n=GN(e.i,e.x,e.y),r=i.next,a=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function P5(i,e,t,n){const r=GN(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function d1(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function GN(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function uie(i,e,t,n){let r=0;for(let a=e,o=t-n;a<t;a+=n)r+=(i[o]-i[a])*(i[a+1]+i[o+1]),o=a;return r}class cie{static triangulate(e,t,n=2){return qne(e,t,n)}}class Ou{static area(e){const t=e.length;let n=0;for(let r=t-1,a=0;a<t;r=a++)n+=e[r].x*e[a].y-e[a].x*e[r].y;return n*.5}static isClockWise(e){return Ou.area(e)<0}static triangulateShape(e,t){const n=[],r=[],a=[];N5(e),O5(n,e);let o=e.length;t.forEach(N5);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,O5(n,t[l]);const s=cie.triangulate(n,r);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function N5(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function O5(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class SR extends En{constructor(e=new Bg([new Ze(.5,.5),new Ze(-.5,.5),new Ze(-.5,-.5),new Ze(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],a=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];o(u)}this.setAttribute("position",new Xt(r,3)),this.setAttribute("uv",new Xt(a,2)),this.computeVertexNormals();function o(s){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:p-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,M=t.UVGenerator!==void 0?t.UVGenerator:fie;let T,C=!1,E,D,L,z;if(x){T=x.getSpacedPoints(c),C=!0,h=!1;const be=x.isCatmullRomCurve3?x.closed:!1;E=x.computeFrenetFrames(c,be),D=new re,L=new re,z=new re}h||(_=0,p=0,g=0,y=0);const P=s.extractPoints(u);let N=P.shape;const B=P.holes;if(!Ou.isClockWise(N)){N=N.reverse();for(let be=0,Ue=B.length;be<Ue;be++){const Ie=B[be];Ou.isClockWise(Ie)&&(B[be]=Ie.reverse())}}function U(be){const Ie=10000000000000001e-36;let $e=be[0];for(let ae=1;ae<=be.length;ae++){const Mt=ae%be.length,vt=be[Mt],Vt=vt.x-$e.x,ot=vt.y-$e.y,ne=Vt*Vt+ot*ot,Z=Math.max(Math.abs(vt.x),Math.abs(vt.y),Math.abs($e.x),Math.abs($e.y)),ve=Ie*Z*Z;if(ne<=ve){be.splice(Mt,1),ae--;continue}$e=vt}}U(N),B.forEach(U);const X=B.length,q=N;for(let be=0;be<X;be++){const Ue=B[be];N=N.concat(Ue)}function V(be,Ue,Ie){return Ue||Jt("ExtrudeGeometry: vec does not exist"),be.clone().addScaledVector(Ue,Ie)}const j=N.length;function K(be,Ue,Ie){let $e,ae,Mt;const vt=be.x-Ue.x,Vt=be.y-Ue.y,ot=Ie.x-be.x,ne=Ie.y-be.y,Z=vt*vt+Vt*Vt,ve=vt*ne-Vt*ot;if(Math.abs(ve)>Number.EPSILON){const ke=Math.sqrt(Z),qe=Math.sqrt(ot*ot+ne*ne),Be=Ue.x-Vt/ke,Dt=Ue.y+vt/ke,ht=Ie.x-ne/qe,Ft=Ie.y+ot/qe,tn=((ht-Be)*ne-(Ft-Dt)*ot)/(vt*ne-Vt*ot);$e=Be+vt*tn-be.x,ae=Dt+Vt*tn-be.y;const et=$e*$e+ae*ae;if(et<=2)return new Ze($e,ae);Mt=Math.sqrt(et/2)}else{let ke=!1;vt>Number.EPSILON?ot>Number.EPSILON&&(ke=!0):vt<-Number.EPSILON?ot<-Number.EPSILON&&(ke=!0):Math.sign(Vt)===Math.sign(ne)&&(ke=!0),ke?($e=-Vt,ae=vt,Mt=Math.sqrt(Z)):($e=vt,ae=Vt,Mt=Math.sqrt(Z/2))}return new Ze($e/Mt,ae/Mt)}const te=[];for(let be=0,Ue=q.length,Ie=Ue-1,$e=be+1;be<Ue;be++,Ie++,$e++)Ie===Ue&&(Ie=0),$e===Ue&&($e=0),te[be]=K(q[be],q[Ie],q[$e]);const ie=[];let Y,ee=te.concat();for(let be=0,Ue=X;be<Ue;be++){const Ie=B[be];Y=[];for(let $e=0,ae=Ie.length,Mt=ae-1,vt=$e+1;$e<ae;$e++,Mt++,vt++)Mt===ae&&(Mt=0),vt===ae&&(vt=0),Y[$e]=K(Ie[$e],Ie[Mt],Ie[vt]);ie.push(Y),ee=ee.concat(Y)}let oe;if(_===0)oe=Ou.triangulateShape(q,B);else{const be=[],Ue=[];for(let Ie=0;Ie<_;Ie++){const $e=Ie/_,ae=p*Math.cos($e*Math.PI/2),Mt=g*Math.sin($e*Math.PI/2)+y;for(let vt=0,Vt=q.length;vt<Vt;vt++){const ot=V(q[vt],te[vt],Mt);Te(ot.x,ot.y,-ae),$e===0&&be.push(ot)}for(let vt=0,Vt=X;vt<Vt;vt++){const ot=B[vt];Y=ie[vt];const ne=[];for(let Z=0,ve=ot.length;Z<ve;Z++){const ke=V(ot[Z],Y[Z],Mt);Te(ke.x,ke.y,-ae),$e===0&&ne.push(ke)}$e===0&&Ue.push(ne)}}oe=Ou.triangulateShape(be,Ue)}const de=oe.length,Pe=g+y;for(let be=0;be<j;be++){const Ue=h?V(N[be],ee[be],Pe):N[be];C?(L.copy(E.normals[0]).multiplyScalar(Ue.x),D.copy(E.binormals[0]).multiplyScalar(Ue.y),z.copy(T[0]).add(L).add(D),Te(z.x,z.y,z.z)):Te(Ue.x,Ue.y,0)}for(let be=1;be<=c;be++)for(let Ue=0;Ue<j;Ue++){const Ie=h?V(N[Ue],ee[Ue],Pe):N[Ue];C?(L.copy(E.normals[be]).multiplyScalar(Ie.x),D.copy(E.binormals[be]).multiplyScalar(Ie.y),z.copy(T[be]).add(L).add(D),Te(z.x,z.y,z.z)):Te(Ie.x,Ie.y,f/c*be)}for(let be=_-1;be>=0;be--){const Ue=be/_,Ie=p*Math.cos(Ue*Math.PI/2),$e=g*Math.sin(Ue*Math.PI/2)+y;for(let ae=0,Mt=q.length;ae<Mt;ae++){const vt=V(q[ae],te[ae],$e);Te(vt.x,vt.y,f+Ie)}for(let ae=0,Mt=B.length;ae<Mt;ae++){const vt=B[ae];Y=ie[ae];for(let Vt=0,ot=vt.length;Vt<ot;Vt++){const ne=V(vt[Vt],Y[Vt],$e);C?Te(ne.x,ne.y+T[c-1].y,T[c-1].x+Ie):Te(ne.x,ne.y,f+Ie)}}}he(),Se();function he(){const be=r.length/3;if(h){let Ue=0,Ie=j*Ue;for(let $e=0;$e<de;$e++){const ae=oe[$e];He(ae[2]+Ie,ae[1]+Ie,ae[0]+Ie)}Ue=c+_*2,Ie=j*Ue;for(let $e=0;$e<de;$e++){const ae=oe[$e];He(ae[0]+Ie,ae[1]+Ie,ae[2]+Ie)}}else{for(let Ue=0;Ue<de;Ue++){const Ie=oe[Ue];He(Ie[2],Ie[1],Ie[0])}for(let Ue=0;Ue<de;Ue++){const Ie=oe[Ue];He(Ie[0]+j*c,Ie[1]+j*c,Ie[2]+j*c)}}n.addGroup(be,r.length/3-be,0)}function Se(){const be=r.length/3;let Ue=0;Ee(q,Ue),Ue+=q.length;for(let Ie=0,$e=B.length;Ie<$e;Ie++){const ae=B[Ie];Ee(ae,Ue),Ue+=ae.length}n.addGroup(be,r.length/3-be,1)}function Ee(be,Ue){let Ie=be.length;for(;--Ie>=0;){const $e=Ie;let ae=Ie-1;ae<0&&(ae=be.length-1);for(let Mt=0,vt=c+_*2;Mt<vt;Mt++){const Vt=j*Mt,ot=j*(Mt+1),ne=Ue+$e+Vt,Z=Ue+ae+Vt,ve=Ue+ae+ot,ke=Ue+$e+ot;We(ne,Z,ve,ke)}}}function Te(be,Ue,Ie){l.push(be),l.push(Ue),l.push(Ie)}function He(be,Ue,Ie){Qe(be),Qe(Ue),Qe(Ie);const $e=r.length/3,ae=M.generateTopUV(n,r,$e-3,$e-2,$e-1);yt(ae[0]),yt(ae[1]),yt(ae[2])}function We(be,Ue,Ie,$e){Qe(be),Qe(Ue),Qe($e),Qe(Ue),Qe(Ie),Qe($e);const ae=r.length/3,Mt=M.generateSideWallUV(n,r,ae-6,ae-3,ae-2,ae-1);yt(Mt[0]),yt(Mt[1]),yt(Mt[3]),yt(Mt[1]),yt(Mt[2]),yt(Mt[3])}function Qe(be){r.push(l[be*3+0]),r.push(l[be*3+1]),r.push(l[be*3+2])}function yt(be){a.push(be.x),a.push(be.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return hie(t,n,e)}static fromJSON(e,t){const n=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=t[e.shapes[a]];n.push(s)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new IE[r.type]().fromJSON(r)),new SR(n,e.options)}}const fie={generateTopUV:function(i,e,t,n,r){const a=e[t*3],o=e[t*3+1],s=e[n*3],l=e[n*3+1],u=e[r*3],c=e[r*3+1];return[new Ze(a,o),new Ze(s,l),new Ze(u,c)]},generateSideWallUV:function(i,e,t,n,r,a){const o=e[t*3],s=e[t*3+1],l=e[t*3+2],u=e[n*3],c=e[n*3+1],f=e[n*3+2],h=e[r*3],p=e[r*3+1],g=e[r*3+2],y=e[a*3],_=e[a*3+1],x=e[a*3+2];return Math.abs(s-c)<Math.abs(o-u)?[new Ze(o,1-l),new Ze(u,1-f),new Ze(h,1-g),new Ze(y,1-x)]:[new Ze(s,1-l),new Ze(c,1-f),new Ze(p,1-g),new Ze(_,1-x)]}};function hie(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const a=i[n];t.shapes.push(a.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class bR extends Dp{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bR(e.radius,e.detail)}}class MR extends En{constructor(e=[new Ze(0,-.5),new Ze(.5,0),new Ze(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=xn(r,0,Math.PI*2);const a=[],o=[],s=[],l=[],u=[],c=1/t,f=new re,h=new Ze,p=new re,g=new re,y=new re;let _=0,x=0;for(let M=0;M<=e.length-1;M++)switch(M){case 0:_=e[M+1].x-e[M].x,x=e[M+1].y-e[M].y,p.x=x*1,p.y=-_,p.z=x*0,y.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[M+1].x-e[M].x,x=e[M+1].y-e[M].y,p.x=x*1,p.y=-_,p.z=x*0,g.copy(p),p.x+=y.x,p.y+=y.y,p.z+=y.z,p.normalize(),l.push(p.x,p.y,p.z),y.copy(g)}for(let M=0;M<=t;M++){const T=n+M*c*r,C=Math.sin(T),E=Math.cos(T);for(let D=0;D<=e.length-1;D++){f.x=e[D].x*C,f.y=e[D].y,f.z=e[D].x*E,o.push(f.x,f.y,f.z),h.x=M/t,h.y=D/(e.length-1),s.push(h.x,h.y);const L=l[3*D+0]*C,z=l[3*D+1],P=l[3*D+0]*E;u.push(L,z,P)}}for(let M=0;M<t;M++)for(let T=0;T<e.length-1;T++){const C=T+M*e.length,E=C,D=C+e.length,L=C+e.length+1,z=C+1;a.push(E,D,z),a.push(L,z,D)}this.setIndex(a),this.setAttribute("position",new Xt(o,3)),this.setAttribute("uv",new Xt(s,2)),this.setAttribute("normal",new Xt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MR(e.points,e.segments,e.phiStart,e.phiLength)}}class nM extends Dp{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nM(e.radius,e.detail)}}class E_ extends En{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const a=e/2,o=t/2,s=Math.floor(n),l=Math.floor(r),u=s+1,c=l+1,f=e/s,h=t/l,p=[],g=[],y=[],_=[];for(let x=0;x<c;x++){const M=x*h-o;for(let T=0;T<u;T++){const C=T*f-a;g.push(C,-M,0),y.push(0,0,1),_.push(T/s),_.push(1-x/l)}}for(let x=0;x<l;x++)for(let M=0;M<s;M++){const T=M+u*x,C=M+u*(x+1),E=M+1+u*(x+1),D=M+1+u*x;p.push(T,C,D),p.push(C,E,D)}this.setIndex(p),this.setAttribute("position",new Xt(g,3)),this.setAttribute("normal",new Xt(y,3)),this.setAttribute("uv",new Xt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new E_(e.width,e.height,e.widthSegments,e.heightSegments)}}class TR extends En{constructor(e=.5,t=1,n=32,r=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:o},n=Math.max(3,n),r=Math.max(1,r);const s=[],l=[],u=[],c=[];let f=e;const h=(t-e)/r,p=new re,g=new Ze;for(let y=0;y<=r;y++){for(let _=0;_<=n;_++){const x=a+_/n*o;p.x=f*Math.cos(x),p.y=f*Math.sin(x),l.push(p.x,p.y,p.z),u.push(0,0,1),g.x=(p.x/t+1)/2,g.y=(p.y/t+1)/2,c.push(g.x,g.y)}f+=h}for(let y=0;y<r;y++){const _=y*(n+1);for(let x=0;x<n;x++){const M=x+_,T=M,C=M+n+1,E=M+n+2,D=M+1;s.push(T,C,D),s.push(C,E,D)}}this.setIndex(s),this.setAttribute("position",new Xt(l,3)),this.setAttribute("normal",new Xt(u,3)),this.setAttribute("uv",new Xt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TR(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class wR extends En{constructor(e=new Bg([new Ze(0,.5),new Ze(-.5,-.5),new Ze(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],a=[],o=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(n),this.setAttribute("position",new Xt(r,3)),this.setAttribute("normal",new Xt(a,3)),this.setAttribute("uv",new Xt(o,2));function u(c){const f=r.length/3,h=c.extractPoints(t);let p=h.shape;const g=h.holes;Ou.isClockWise(p)===!1&&(p=p.reverse());for(let _=0,x=g.length;_<x;_++){const M=g[_];Ou.isClockWise(M)===!0&&(g[_]=M.reverse())}const y=Ou.triangulateShape(p,g);for(let _=0,x=g.length;_<x;_++){const M=g[_];p=p.concat(M)}for(let _=0,x=p.length;_<x;_++){const M=p[_];r.push(M.x,M.y,0),a.push(0,0,1),o.push(M.x,M.y)}for(let _=0,x=y.length;_<x;_++){const M=y[_],T=M[0]+f,C=M[1]+f,E=M[2]+f;n.push(T,C,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return die(t,e)}static fromJSON(e,t){const n=[];for(let r=0,a=e.shapes.length;r<a;r++){const o=t[e.shapes[r]];n.push(o)}return new wR(n,e.curveSegments)}}function die(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class iM extends En{constructor(e=1,t=32,n=16,r=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:a,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(o+s,Math.PI);let u=0;const c=[],f=new re,h=new re,p=[],g=[],y=[],_=[];for(let x=0;x<=n;x++){const M=[],T=x/n;let C=0;x===0&&o===0?C=.5/t:x===n&&l===Math.PI&&(C=-.5/t);for(let E=0;E<=t;E++){const D=E/t;f.x=-e*Math.cos(r+D*a)*Math.sin(o+T*s),f.y=e*Math.cos(o+T*s),f.z=e*Math.sin(r+D*a)*Math.sin(o+T*s),g.push(f.x,f.y,f.z),h.copy(f).normalize(),y.push(h.x,h.y,h.z),_.push(D+C,1-T),M.push(u++)}c.push(M)}for(let x=0;x<n;x++)for(let M=0;M<t;M++){const T=c[x][M+1],C=c[x][M],E=c[x+1][M],D=c[x+1][M+1];(x!==0||o>0)&&p.push(T,C,D),(x!==n-1||l<Math.PI)&&p.push(C,E,D)}this.setIndex(p),this.setAttribute("position",new Xt(g,3)),this.setAttribute("normal",new Xt(y,3)),this.setAttribute("uv",new Xt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iM(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class AR extends Dp{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new AR(e.radius,e.detail)}}class CR extends En{constructor(e=1,t=.4,n=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:a},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],l=[],u=[],c=new re,f=new re,h=new re;for(let p=0;p<=n;p++)for(let g=0;g<=r;g++){const y=g/r*a,_=p/n*Math.PI*2;f.x=(e+t*Math.cos(_))*Math.cos(y),f.y=(e+t*Math.cos(_))*Math.sin(y),f.z=t*Math.sin(_),s.push(f.x,f.y,f.z),c.x=e*Math.cos(y),c.y=e*Math.sin(y),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(g/r),u.push(p/n)}for(let p=1;p<=n;p++)for(let g=1;g<=r;g++){const y=(r+1)*p+g-1,_=(r+1)*(p-1)+g-1,x=(r+1)*(p-1)+g,M=(r+1)*p+g;o.push(y,_,M),o.push(_,x,M)}this.setIndex(o),this.setAttribute("position",new Xt(s,3)),this.setAttribute("normal",new Xt(l,3)),this.setAttribute("uv",new Xt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CR(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ER extends En{constructor(e=1,t=.4,n=64,r=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:a,q:o},n=Math.floor(n),r=Math.floor(r);const s=[],l=[],u=[],c=[],f=new re,h=new re,p=new re,g=new re,y=new re,_=new re,x=new re;for(let T=0;T<=n;++T){const C=T/n*a*Math.PI*2;M(C,a,o,e,p),M(C+.01,a,o,e,g),_.subVectors(g,p),x.addVectors(g,p),y.crossVectors(_,x),x.crossVectors(y,_),y.normalize(),x.normalize();for(let E=0;E<=r;++E){const D=E/r*Math.PI*2,L=-t*Math.cos(D),z=t*Math.sin(D);f.x=p.x+(L*x.x+z*y.x),f.y=p.y+(L*x.y+z*y.y),f.z=p.z+(L*x.z+z*y.z),l.push(f.x,f.y,f.z),h.subVectors(f,p).normalize(),u.push(h.x,h.y,h.z),c.push(T/n),c.push(E/r)}}for(let T=1;T<=n;T++)for(let C=1;C<=r;C++){const E=(r+1)*(T-1)+(C-1),D=(r+1)*T+(C-1),L=(r+1)*T+C,z=(r+1)*(T-1)+C;s.push(E,D,z),s.push(D,L,z)}this.setIndex(s),this.setAttribute("position",new Xt(l,3)),this.setAttribute("normal",new Xt(u,3)),this.setAttribute("uv",new Xt(c,2));function M(T,C,E,D,L){const z=Math.cos(T),P=Math.sin(T),N=E/C*T,B=Math.cos(N);L.x=D*(2+B)*.5*z,L.y=D*(2+B)*P*.5,L.z=D*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ER(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class DR extends En{constructor(e=new ZB(new re(-1,-1,0),new re(-1,1,0),new re(1,1,0)),t=64,n=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new re,l=new re,u=new Ze;let c=new re;const f=[],h=[],p=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new Xt(f,3)),this.setAttribute("normal",new Xt(h,3)),this.setAttribute("uv",new Xt(p,2));function y(){for(let T=0;T<t;T++)_(T);_(a===!1?t:0),M(),x()}function _(T){c=e.getPointAt(T/t,c);const C=o.normals[T],E=o.binormals[T];for(let D=0;D<=r;D++){const L=D/r*Math.PI*2,z=Math.sin(L),P=-Math.cos(L);l.x=P*C.x+z*E.x,l.y=P*C.y+z*E.y,l.z=P*C.z+z*E.z,l.normalize(),h.push(l.x,l.y,l.z),s.x=c.x+n*l.x,s.y=c.y+n*l.y,s.z=c.z+n*l.z,f.push(s.x,s.y,s.z)}}function x(){for(let T=1;T<=t;T++)for(let C=1;C<=r;C++){const E=(r+1)*(T-1)+(C-1),D=(r+1)*T+(C-1),L=(r+1)*T+C,z=(r+1)*(T-1)+C;g.push(E,D,z),g.push(D,L,z)}}function M(){for(let T=0;T<=t;T++)for(let C=0;C<=r;C++)u.x=T/t,u.y=C/r,p.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new DR(new IE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class IX extends En{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new re,a=new re;if(e.index!==null){const o=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,p=f.count;for(let g=h,y=h+p;g<y;g+=3)for(let _=0;_<3;_++){const x=s.getX(g+_),M=s.getX(g+(_+1)%3);r.fromBufferAttribute(o,x),a.fromBufferAttribute(o,M),z5(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,f=3*s+(u+1)%3;r.fromBufferAttribute(o,c),a.fromBufferAttribute(o,f),z5(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Xt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function z5(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var B5=Object.freeze({__proto__:null,BoxGeometry:fm,CapsuleGeometry:mR,CircleGeometry:yR,ConeGeometry:tM,CylinderGeometry:eM,DodecahedronGeometry:_R,EdgesGeometry:bX,ExtrudeGeometry:SR,IcosahedronGeometry:bR,LatheGeometry:MR,OctahedronGeometry:nM,PlaneGeometry:E_,PolyhedronGeometry:Dp,RingGeometry:TR,ShapeGeometry:wR,SphereGeometry:iM,TetrahedronGeometry:AR,TorusGeometry:CR,TorusKnotGeometry:ER,TubeGeometry:DR,WireframeGeometry:IX});class PX extends ya{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class KB extends ql{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class rM extends ya{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ep,this.normalScale=new Ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ql extends rM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Et(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class NX extends ya{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Et(16777215),this.specular=new Et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ep,this.normalScale=new Ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.combine=j1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class OX extends ya{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ep,this.normalScale=new Ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class zX extends ya{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ep,this.normalScale=new Ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class BX extends ya{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ep,this.normalScale=new Ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.combine=j1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $B extends ya{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=J7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class QB extends ya{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class kX extends ya{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ep,this.normalScale=new Ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class UX extends Co{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Cg(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function FX(i){function e(r,a){return i[r]-i[a]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function HN(i,e,t){const n=i.length,r=new i.constructor(n);for(let a=0,o=0;o!==n;++a){const s=t[a]*e;for(let l=0;l!==e;++l)r[o++]=i[s+l]}return r}function JB(i,e,t,n){let r=1,a=i[0];for(;a!==void 0&&a[n]===void 0;)a=i[r++];if(a===void 0)return;let o=a[n];if(o!==void 0)if(Array.isArray(o))do o=a[n],o!==void 0&&(e.push(a.time),t.push(...o)),a=i[r++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[n],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=i[r++];while(a!==void 0);else do o=a[n],o!==void 0&&(e.push(a.time),t.push(o)),a=i[r++];while(a!==void 0)}function pie(i,e,t,n,r=30){const a=i.clone();a.name=e;const o=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],c=u.getValueSize(),f=[],h=[];for(let p=0;p<u.times.length;++p){const g=u.times[p]*r;if(!(g<t||g>=n)){f.push(u.times[p]);for(let y=0;y<c;++y)h.push(u.values[p*c+y])}}f.length!==0&&(u.times=Cg(f,u.times.constructor),u.values=Cg(h,u.values.constructor),o.push(u))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function vie(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,a=e/n;for(let o=0;o<r;++o){const s=t.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=i.tracks.find(function(x){return x.name===s.name&&x.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const p=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);const g=s.times.length-1;let y;if(a<=s.times[0]){const x=c,M=f-c;y=s.values.slice(x,M)}else if(a>=s.times[g]){const x=g*f+c,M=x+f-c;y=s.values.slice(x,M)}else{const x=s.createInterpolant(),M=c,T=f-c;x.evaluate(a),y=x.resultBuffer.slice(M,T)}l==="quaternion"&&new Oa().fromArray(y).normalize().conjugate().toArray(y);const _=u.times.length;for(let x=0;x<_;++x){const M=x*p+h;if(l==="quaternion")Oa.multiplyQuaternionsFlat(u.values,M,y,0,u.values,M);else{const T=p-h*2;for(let C=0;C<T;++C)u.values[M+C]-=y[C]}}}return i.blendMode=RB,i}class gie{static convertArray(e,t){return Cg(e,t)}static isTypedArray(e){return lX(e)}static getKeyframeOrder(e){return FX(e)}static sortedArray(e,t,n){return HN(e,t,n)}static flattenJSON(e,t,n,r){JB(e,t,n,r)}static subclip(e,t,n,r,a=30){return pie(e,t,n,r,a)}static makeClipAdditive(e,t=0,n=e,r=30){return vie(e,t,n,r)}}class D_{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],a=t[n-1];e:{t:{let o;n:{i:if(!(e<r)){for(let s=n+2;;){if(r===void 0){if(e<a)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===s)break;if(a=r,r=t[++n],e<r)break t}o=t.length;break n}if(!(e>=a)){const s=t[1];e<s&&(n=2,a=s);for(let l=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=a,a=t[--n-1],e>=a)break t}o=n,n=0;break n}break e}for(;n<o;){const s=n+o>>>1;e<t[s]?o=s:n=s+1}if(r=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r;for(let o=0;o!==r;++o)t[o]=n[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class VX extends D_{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:wg,endingEnd:wg}}intervalChanged_(e,t,n){const r=this.parameterPositions;let a=e-2,o=e+1,s=r[a],l=r[o];if(s===void 0)switch(this.getSettings_().endingStart){case Ag:a=e,s=2*t-n;break;case o1:a=r.length-2,s=t+r[a]-r[a+1];break;default:a=e,s=n}if(l===void 0)switch(this.getSettings_().endingEnd){case Ag:o=e,l=2*n-t;break;case o1:o=1,l=n+r[1]-r[0];break;default:o=e-1,l=t}const u=(n-t)*.5,c=this.valueSize;this._weightPrev=u/(t-s),this._weightNext=u/(l-n),this._offsetPrev=a*c,this._offsetNext=o*c}interpolate_(e,t,n,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,p=this._weightNext,g=(n-t)/(r-t),y=g*g,_=y*g,x=-h*_+2*h*y-h*g,M=(1+h)*_+(-1.5-2*h)*y+(-.5+h)*g+1,T=(-1-p)*_+(1.5+p)*y+.5*g,C=p*_-p*y;for(let E=0;E!==s;++E)a[E]=x*o[c+E]+M*o[u+E]+T*o[l+E]+C*o[f+E];return a}}class ek extends D_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(n-t)/(r-t),f=1-c;for(let h=0;h!==s;++h)a[h]=o[u+h]*f+o[l+h]*c;return a}}class GX extends D_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Jl{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Cg(t,this.TimeBufferType),this.values=Cg(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Cg(e.times,Array),values:Cg(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new GX(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ek(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new VX(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Q0:t=this.InterpolantFactoryMethodDiscrete;break;case J0:t=this.InterpolantFactoryMethodLinear;break;case mC:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return At("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Q0;case this.InterpolantFactoryMethodLinear:return J0;case this.InterpolantFactoryMethodSmooth:return mC}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let a=0,o=r-1;for(;a!==r&&n[a]<e;)++a;for(;o!==-1&&n[o]>t;)--o;if(++o,a!==0||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=n.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Jt("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,a=n.length;a===0&&(Jt("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=n[s];if(typeof l=="number"&&isNaN(l)){Jt("KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){Jt("KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(r!==void 0&&lX(r))for(let s=0,l=r.length;s!==l;++s){const u=r[s];if(isNaN(u)){Jt("KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===mC,a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(r)l=!0;else{const f=s*n,h=f-n,p=f+n;for(let g=0;g!==n;++g){const y=t[f+g];if(y!==t[h+g]||y!==t[p+g]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const f=s*n,h=o*n;for(let p=0;p!==n;++p)t[h+p]=t[f+p]}++o}}if(a>0){e[o]=e[a];for(let s=a*n,l=o*n,u=0;u!==n;++u)t[l+u]=t[s+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Jl.prototype.ValueTypeName="";Jl.prototype.TimeBufferType=Float32Array;Jl.prototype.ValueBufferType=Float32Array;Jl.prototype.DefaultInterpolation=J0;class hm extends Jl{constructor(e,t,n){super(e,t,n)}}hm.prototype.ValueTypeName="bool";hm.prototype.ValueBufferType=Array;hm.prototype.DefaultInterpolation=Q0;hm.prototype.InterpolantFactoryMethodLinear=void 0;hm.prototype.InterpolantFactoryMethodSmooth=void 0;class tk extends Jl{constructor(e,t,n,r){super(e,t,n,r)}}tk.prototype.ValueTypeName="color";class jg extends Jl{constructor(e,t,n,r){super(e,t,n,r)}}jg.prototype.ValueTypeName="number";class HX extends D_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(n-t)/(r-t);let u=e*s;for(let c=u+s;u!==c;u+=4)Oa.slerpFlat(a,0,o,u-s,o,u,l);return a}}class Kg extends Jl{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new HX(this.times,this.values,this.getValueSize(),e)}}Kg.prototype.ValueTypeName="quaternion";Kg.prototype.InterpolantFactoryMethodSmooth=void 0;class dm extends Jl{constructor(e,t,n){super(e,t,n)}}dm.prototype.ValueTypeName="string";dm.prototype.ValueBufferType=Array;dm.prototype.DefaultInterpolation=Q0;dm.prototype.InterpolantFactoryMethodLinear=void 0;dm.prototype.InterpolantFactoryMethodSmooth=void 0;class $g extends Jl{constructor(e,t,n,r){super(e,t,n,r)}}$g.prototype.ValueTypeName="vector";class s_{constructor(e="",t=-1,n=[],r=aR){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Qs(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(yie(n[o]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,o=n.length;a!==o;++a)t.push(Jl.toJSON(n[a]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const a=t.length,o=[];for(let s=0;s<a;s++){let l=[],u=[];l.push((s+a-1)%a,s,(s+1)%a),u.push(0,1,0);const c=FX(l);l=HN(l,1,c),u=HN(u,1,c),!r&&l[0]===0&&(l.push(a),u.push(u[0])),o.push(new jg(".morphTargetInfluences["+t[s].name+"]",l,u).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(a);if(c&&c.length>1){const f=c[1];let h=r[f];h||(r[f]=h=[]),h.push(u)}}const o=[];for(const s in r)o.push(this.CreateFromMorphTargetSequence(s,r[s],t,n));return o}static parseAnimation(e,t){if(At("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Jt("AnimationClip: No animation in JSONLoader data."),null;const n=function(f,h,p,g,y){if(p.length!==0){const _=[],x=[];JB(p,_,x,g),_.length!==0&&y.push(new f(h,_,x))}},r=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const p={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let y=0;y<h[g].morphTargets.length;y++)p[h[g].morphTargets[y]]=-1;for(const y in p){const _=[],x=[];for(let M=0;M!==h[g].morphTargets.length;++M){const T=h[g];_.push(T.time),x.push(T.morphTarget===y?1:0)}r.push(new jg(".morphTargetInfluence["+y+"]",_,x))}l=p.length*o}else{const p=".bones["+t[f].name+"]";n($g,p+".position",h,"pos",r),n(Kg,p+".quaternion",h,"rot",r),n($g,p+".scale",h,"scl",r)}}return r.length===0?null:new this(a,l,r,s)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function mie(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jg;case"vector":case"vector2":case"vector3":case"vector4":return $g;case"color":return tk;case"quaternion":return Kg;case"bool":case"boolean":return hm;case"string":return dm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function yie(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=mie(i.type);if(i.times===void 0){const t=[],n=[];JB(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const qc={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class nk{constructor(e,t,n){const r=this;let a=!1,o=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(c){s++,a===!1&&r.onStart!==void 0&&r.onStart(c,o,s),a=!0},this.itemEnd=function(c){o++,r.onProgress!==void 0&&r.onProgress(c,o,s),o===s&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(c){r.onError!==void 0&&r.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const p=u[f],g=u[f+1];if(p.global&&(p.lastIndex=0),p.test(c))return g}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const WX=new nk;class ns{constructor(e){this.manager=e!==void 0?e:WX,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,a){n.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}ns.DEFAULT_MATERIAL_NAME="__DEFAULT";const ih={};class _ie extends Error{constructor(e,t){super(e),this.response=t}}class Hu extends ns{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=qc.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(ih[e]!==void 0){ih[e].push({onLoad:t,onProgress:n,onError:r});return}ih[e]=[],ih[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),s=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&At("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=ih[e],f=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),p=h?parseInt(h):0,g=p!==0;let y=0;const _=new ReadableStream({start(x){M();function M(){f.read().then(({done:T,value:C})=>{if(T)x.close();else{y+=C.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:p});for(let D=0,L=c.length;D<L;D++){const z=c[D];z.onProgress&&z.onProgress(E)}x.enqueue(C),M()}},T=>{x.error(T)})}}});return new Response(_)}else throw new _ie(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),h=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(h);return u.arrayBuffer().then(g=>p.decode(g))}}}).then(u=>{qc.add(`file:${e}`,u);const c=ih[e];delete ih[e];for(let f=0,h=c.length;f<h;f++){const p=c[f];p.onLoad&&p.onLoad(u)}}).catch(u=>{const c=ih[e];if(c===void 0)throw this.manager.itemError(e),u;delete ih[e];for(let f=0,h=c.length;f<h;f++){const p=c[f];p.onError&&p.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class xie extends ns{constructor(e){super(e)}load(e,t,n,r){const a=this,o=new Hu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){r?r(l):Jt(l),a.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=s_.parse(e[n]);t.push(r)}return t}}class Sie extends ns{constructor(e){super(e)}load(e,t,n,r){const a=this,o=[],s=new gR,l=new Hu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const p=a.parse(h,!0);o[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},u+=1,u===6&&(p.mipmapCount===1&&(s.minFilter=ki),s.image=o,s.format=p.format,s.needsUpdate=!0,t&&t(s))},n,r)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=a.parse(f,!0);if(h.isCubemap){const p=h.mipmaps.length/h.mipmapCount;for(let g=0;g<p;g++){o[g]={mipmaps:[]};for(let y=0;y<h.mipmapCount;y++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+y]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}s.image=o}else s.image.width=h.width,s.image.height=h.height,s.mipmaps=h.mipmaps;h.mipmapCount===1&&(s.minFilter=ki),s.format=h.format,s.needsUpdate=!0,t&&t(s)},n,r);return s}}const Yy=new WeakMap;class p1 extends ns{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=qc.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0);else{let f=Yy.get(o);f===void 0&&(f=[],Yy.set(o,f)),f.push({onLoad:t,onError:r})}return o}const s=u1("img");function l(){c(),t&&t(this);const f=Yy.get(this)||[];for(let h=0;h<f.length;h++){const p=f[h];p.onLoad&&p.onLoad(this)}Yy.delete(this),a.manager.itemEnd(e)}function u(f){c(),r&&r(f),qc.remove(`image:${e}`);const h=Yy.get(this)||[];for(let p=0;p<h.length;p++){const g=h[p];g.onError&&g.onError(f)}Yy.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),qc.add(`image:${e}`,s),a.manager.itemStart(e),s.src=e,s}}class bie extends ns{constructor(e){super(e)}load(e,t,n,r){const a=new $1;a.colorSpace=Yr;const o=new p1(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(u){o.load(e[u],function(c){a.images[u]=c,s++,s===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return a}}class Mie extends ns{constructor(e){super(e)}load(e,t,n,r){const a=this,o=new ku,s=new Hu(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){let u;try{u=a.parse(l)}catch(c){if(r!==void 0)r(c);else{c(c);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Ko,o.wrapT=u.wrapT!==void 0?u.wrapT:Ko,o.magFilter=u.magFilter!==void 0?u.magFilter:ki,o.minFilter=u.minFilter!==void 0?u.minFilter:ki,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Gl),u.mipmapCount===1&&(o.minFilter=ki),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u)},n,r),o}}class XX extends ns{constructor(e){super(e)}load(e,t,n,r){const a=new ur,o=new p1(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,t!==void 0&&t(a)},n,r),a}}class Rp extends ci{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Et(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}class YX extends Rp{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ci.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Et(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}toJSON(e){const t=super.toJSON(e);return t.object.groundColor=this.groundColor.getHex(),t}}const zI=new hn,k5=new re,U5=new re;class ik{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ze(512,512),this.mapType=Zo,this.map=null,this.mapPass=null,this.matrix=new hn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new C_,this._frameExtents=new Ze(1,1),this._viewportCount=1,this._viewports=[new Gi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;k5.setFromMatrixPosition(e.matrixWorld),t.position.copy(k5),U5.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(U5),t.updateMatrixWorld(),zI.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zI,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(zI)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Tie extends ik{constructor(){super(new Lr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=n_*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(n!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class rk extends Rp{constructor(e,t,n=0,r=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ci.DEFAULT_UP),this.updateMatrix(),this.target=new ci,this.distance=n,this.angle=r,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new Tie}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class wie extends ik{constructor(){super(new Lr(90,1,.5,500)),this.isPointLightShadow=!0}}class ak extends Rp{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new wie}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class ef extends cR{constructor(e=-1,t=1,n=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=n-e,o=n+e,s=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Aie extends ik{constructor(){super(new ef(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ok extends Rp{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ci.DEFAULT_UP),this.updateMatrix(),this.target=new ci,this.shadow=new Aie}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class qX extends Rp{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class ZX extends Rp{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class sk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new re)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*r)),t.addScaledVector(o[5],1.092548*(r*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(n*a)),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*r),t.addScaledVector(o[5],2*.429043*r*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*n*a),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-r*r)}}class jX extends Rp{constructor(e=new sk,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class RR extends ns{constructor(e){super(e),this.textures={}}load(e,t,n,r){const a=this,o=new Hu(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){r?r(l):Jt(l),a.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(a){return t[a]===void 0&&At("MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(r.allowOverride=e.allowOverride),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=n(o.value);break;case"c":r.uniforms[a].value=new Et().setHex(o.value);break;case"v2":r.uniforms[a].value=new Ze().fromArray(o.value);break;case"v3":r.uniforms[a].value=new re().fromArray(o.value);break;case"v4":r.uniforms[a].value=new Gi().fromArray(o.value);break;case"m3":r.uniforms[a].value=new zn().fromArray(o.value);break;case"m4":r.uniforms[a].value=new hn().fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Ze().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ze().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return RR.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:PX,SpriteMaterial:kB,RawShaderMaterial:KB,ShaderMaterial:ql,PointsMaterial:vR,MeshPhysicalMaterial:Ql,MeshStandardMaterial:rM,MeshPhongMaterial:NX,MeshToonMaterial:OX,MeshNormalMaterial:zX,MeshLambertMaterial:BX,MeshDepthMaterial:$B,MeshDistanceMaterial:QB,MeshBasicMaterial:qs,MeshMatcapMaterial:kX,LineDashedMaterial:UX,LineBasicMaterial:Co,Material:ya};return new t[e]}}class up{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class KX extends En{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class $X extends ns{constructor(e){super(e)}load(e,t,n,r){const a=this,o=new Hu(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){r?r(l):Jt(l),a.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(p,g){if(t[g]!==void 0)return t[g];const _=p.interleavedBuffers[g],x=a(p,_.buffer),M=L0(_.type,x),T=new Q1(M,_.stride);return T.uuid=_.uuid,t[g]=T,T}function a(p,g){if(n[g]!==void 0)return n[g];const _=p.arrayBuffers[g],x=new Uint32Array(_).buffer;return n[g]=x,x}const o=e.isInstancedBufferGeometry?new KX:new En,s=e.data.index;if(s!==void 0){const p=L0(s.type,s.array);o.setIndex(new bi(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let y;if(g.isInterleavedBufferAttribute){const _=r(e.data,g.data);y=new Sp(_,g.itemSize,g.offset,g.normalized)}else{const _=L0(g.type,g.array),x=g.isInstancedBufferAttribute?qg:bi;y=new x(_,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),o.setAttribute(p,y)}const u=e.data.morphAttributes;if(u)for(const p in u){const g=u[p],y=[];for(let _=0,x=g.length;_<x;_++){const M=g[_];let T;if(M.isInterleavedBufferAttribute){const C=r(e.data,M.data);T=new Sp(C,M.itemSize,M.offset,M.normalized)}else{const C=L0(M.type,M.array);T=new bi(C,M.itemSize,M.normalized)}M.name!==void 0&&(T.name=M.name),y.push(T)}o.morphAttributes[p]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let p=0,g=f.length;p!==g;++p){const y=f[p];o.addGroup(y.start,y.count,y.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(o.boundingSphere=new za().fromJSON(h)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Cie extends ns{constructor(e){super(e)}load(e,t,n,r){const a=this,o=this.path===""?up.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new Hu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){r!==void 0&&r(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),Jt("ObjectLoader: Can't load "+e);return}a.parse(u,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?up.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new Hu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),s=JSON.parse(o),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(s)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,a,l,s,n),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),t!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,s,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const a=new Bg().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new J1().fromJSON(e[a],r);n[s.uuid]=s}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new $X;for(let a=0,o=e.length;a<o;a++){let s;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=r.parse(l);break;default:l.type in B5?s=B5[l.type].fromJSON(l,t):At(`ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),n[l.uuid]=s}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const a=new RR;a.setTextures(t);for(let o=0,s=e.length;o<s;o++){const l=e[o];n[l.uuid]===void 0&&(n[l.uuid]=a.parse(l)),r[l.uuid]=n[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],a=s_.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const n=this,r={};let a;function o(l){return n.manager.itemStart(l),a.load(l,function(){n.manager.itemEnd(l)},void 0,function(){n.manager.itemError(l),n.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:n.resourcePath+u;return o(c)}else return l.data?{data:L0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new nk(t);a=new p1(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const p=[];for(let g=0,y=h.length;g<y;g++){const _=h[g],x=s(_);x!==null&&(x instanceof HTMLImageElement?p.push(x):p.push(new ku(x.data,x.width,x.height)))}r[f.uuid]=new ep(p)}else{const p=s(f.url);r[f.uuid]=new ep(p)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function a(o){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await r.loadAsync(l)}else return o.data?{data:L0(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new p1(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const p=u[f],g=await a(p);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new ku(g.data,g.width,g.height)))}n[l.uuid]=new ep(c)}else{const c=await a(l.url);n[l.uuid]=new ep(c)}}}return n}parseTextures(e,t){function n(a,o){return typeof a=="number"?a:(At("ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const r={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&At('ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&At("ObjectLoader: Undefined image",s.image);const l=t[s.image],u=l.data;let c;Array.isArray(u)?(c=new $1,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new ku:c=new ur,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=n(s.mapping,Eie)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=n(s.wrap[0],F5),c.wrapT=n(s.wrap[1],F5)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.minFilter!==void 0&&(c.minFilter=n(s.minFilter,V5)),s.magFilter!==void 0&&(c.magFilter=n(s.magFilter,V5)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),r[s.uuid]=c}return r}parseObject(e,t,n,r,a){let o;function s(h){return t[h]===void 0&&At("ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const p=[];for(let g=0,y=h.length;g<y;g++){const _=h[g];n[_]===void 0&&At("ObjectLoader: Undefined material",_),p.push(n[_])}return p}return n[h]===void 0&&At("ObjectLoader: Undefined material",h),n[h]}}function u(h){return r[h]===void 0&&At("ObjectLoader: Undefined texture",h),r[h]}let c,f;switch(e.type){case"Scene":o=new BB,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Et(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new hR(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new fR(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Lr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ef(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new qX(e.color,e.intensity);break;case"DirectionalLight":o=new ok(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new ak(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ZX(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new rk(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new YX(e.color,e.groundColor,e.intensity);break;case"LightProbe":const h=new sk().fromArray(e.sh);o=new jX(h,e.intensity);break;case"SkinnedMesh":c=s(e.geometry),f=l(e.material),o=new UB(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),f=l(e.material),o=new jr(c,f);break;case"InstancedMesh":c=s(e.geometry),f=l(e.material);const p=e.count,g=e.instanceMatrix,y=e.instanceColor;o=new FB(c,f,p),o.instanceMatrix=new qg(new Float32Array(g.array),16),y!==void 0&&(o.instanceColor=new qg(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":c=s(e.geometry),f=l(e.material),o=new _X(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=c,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(_=>{let x=null,M=null;return _.boundingBox!==void 0&&(x=new Qa().fromJSON(_.boundingBox)),_.boundingSphere!==void 0&&(M=new za().fromJSON(_.boundingSphere)),{..._,boundingBox:x,boundingSphere:M}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=u(e.matricesTexture.uuid),o._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new za().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Qa().fromJSON(e.boundingBox));break;case"LOD":o=new yX;break;case"Line":o=new Eh(s(e.geometry),l(e.material));break;case"LineLoop":o=new VB(s(e.geometry),l(e.material));break;case"LineSegments":o=new qu(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new GB(s(e.geometry),l(e.material));break;case"Sprite":o=new mX(l(e.material));break;case"Group":o=new vh;break;case"Bone":o=new dR;break;default:o=new ci}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let p=0;p<h.length;p++)o.add(this.parseObject(h[p],t,n,r,a))}if(e.animations!==void 0){const h=e.animations;for(let p=0;p<h.length;p++){const g=h[p];o.animations.push(a[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let p=0;p<h.length;p++){const g=h[p],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?At("ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);r!==void 0?t.target=r:t.target=new ci}})}}const Eie={UVMapping:$D,CubeReflectionMapping:of,CubeRefractionMapping:yp,EquirectangularReflectionMapping:r1,EquirectangularRefractionMapping:a1,CubeUVReflectionMapping:A_},F5={RepeatWrapping:_p,ClampToEdgeWrapping:Ko,MirroredRepeatWrapping:j0},V5={NearestFilter:yr,NearestMipmapNearestFilter:QD,NearestMipmapLinearFilter:Tg,LinearFilter:ki,LinearMipmapNearestFilter:F0,LinearMipmapLinearFilter:Gl},BI=new WeakMap;class QX extends ns{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&At("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&At("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=qc.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(u=>{if(BI.has(o)===!0)r&&r(BI.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(u),a.manager.itemEnd(e),u});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,s.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return qc.add(`image-bitmap:${e}`,u),t&&t(u),a.manager.itemEnd(e),u}).catch(function(u){r&&r(u),BI.set(l,u),qc.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});qc.add(`image-bitmap:${e}`,l),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Xw;class lk{static getContext(){return Xw===void 0&&(Xw=new(window.AudioContext||window.webkitAudioContext)),Xw}static setContext(e){Xw=e}}class Die extends ns{constructor(e){super(e)}load(e,t,n,r){const a=this,o=new Hu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);lk.getContext().decodeAudioData(u,function(f){t(f)}).catch(s)}catch(u){s(u)}},n,r);function s(l){r?r(l):Jt(l),a.manager.itemError(e)}}}const G5=new hn,H5=new hn,Ev=new hn;class Rie{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Lr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Lr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ev.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,o=t.near*Math.tan(zg*t.fov*.5)/t.zoom;let s,l;H5.elements[12]=-r,G5.elements[12]=r,s=-o*t.aspect+a,l=o*t.aspect+a,Ev.elements[0]=2*t.near/(l-s),Ev.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Ev),s=-o*t.aspect-a,l=o*t.aspect-a,Ev.elements[0]=2*t.near/(l-s),Ev.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Ev)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(H5),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(G5)}}class JX extends Lr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class uk{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Dv=new re,kI=new Oa,Lie=new re,Rv=new re,Lv=new re;class Iie extends ci{constructor(){super(),this.type="AudioListener",this.context=lk.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new uk}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Dv,kI,Lie),Rv.set(0,0,-1).applyQuaternion(kI),Lv.set(0,1,0).applyQuaternion(kI),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Dv.x,n),t.positionY.linearRampToValueAtTime(Dv.y,n),t.positionZ.linearRampToValueAtTime(Dv.z,n),t.forwardX.linearRampToValueAtTime(Rv.x,n),t.forwardY.linearRampToValueAtTime(Rv.y,n),t.forwardZ.linearRampToValueAtTime(Rv.z,n),t.upX.linearRampToValueAtTime(Lv.x,n),t.upY.linearRampToValueAtTime(Lv.y,n),t.upZ.linearRampToValueAtTime(Lv.z,n)}else t.setPosition(Dv.x,Dv.y,Dv.z),t.setOrientation(Rv.x,Rv.y,Rv.z,Lv.x,Lv.y,Lv.z)}}class eY extends ci{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){At("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(At("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(At("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Iv=new re,W5=new Oa,Pie=new re,Pv=new re;class Nie extends eY{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Iv,W5,Pie),Pv.set(0,0,1).applyQuaternion(W5);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Iv.x,n),t.positionY.linearRampToValueAtTime(Iv.y,n),t.positionZ.linearRampToValueAtTime(Iv.z,n),t.orientationX.linearRampToValueAtTime(Pv.x,n),t.orientationY.linearRampToValueAtTime(Pv.y,n),t.orientationZ.linearRampToValueAtTime(Pv.z,n)}else t.setPosition(Iv.x,Iv.y,Iv.z),t.setOrientation(Pv.x,Pv.y,Pv.z)}}class Oie{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class tY{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,a,o;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,a=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==r;++s)n[a+s]=n[s];o=t}else{o+=t;const s=t/o;this._mixBufferRegion(n,a,0,s,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(n,r,l,1-a,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){s.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let a=n,o=r;a!==o;++a)t[a]=t[r+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,a){if(r>=.5)for(let o=0;o!==a;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){Oa.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,a){const o=this._workIndex*a;Oa.multiplyQuaternionsFlat(e,o,e,t,e,n),Oa.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,a){const o=1-r;for(let s=0;s!==a;++s){const l=t+s;e[l]=e[l]*o+e[n+s]*r}}_lerpAdditive(e,t,n,r,a){for(let o=0;o!==a;++o){const s=t+o;e[s]=e[s]+e[n+o]*r}}}const ck="\\[\\]\\.:\\/",zie=new RegExp("["+ck+"]","g"),fk="[^"+ck+"]",Bie="[^"+ck.replace("\\.","")+"]",kie=/((?:WC+[\/:])*)/.source.replace("WC",fk),Uie=/(WCOD+)?/.source.replace("WCOD",Bie),Fie=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",fk),Vie=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",fk),Gie=new RegExp("^"+kie+Uie+Fie+Vie+"$"),Hie=["material","materials","bones","map"];class Wie{constructor(e,t,n){const r=n||di.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class di{constructor(e,t,n){this.path=t,this.parsedPath=n||di.parseTrackName(t),this.node=di.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new di.Composite(e,t,n):new di(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(zie,"")}static parseTrackName(e){const t=Gie.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=n.nodeName.substring(r+1);Hie.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===t||s.uuid===t)return s;const l=n(s.children);if(l)return l}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=di.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){At("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let u=t.objectIndex;switch(n){case"materials":if(!e.material){Jt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Jt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Jt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Jt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Jt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){Jt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(u!==void 0){if(e[u]===void 0){Jt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=t.nodeName;Jt("PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){Jt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Jt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}di.Composite=Wie;di.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};di.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};di.prototype.GetterByBindingType=[di.prototype._getValue_direct,di.prototype._getValue_array,di.prototype._getValue_arrayElement,di.prototype._getValue_toArray];di.prototype.SetterByBindingTypeAndVersioning=[[di.prototype._setValue_direct,di.prototype._setValue_direct_setNeedsUpdate,di.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[di.prototype._setValue_array,di.prototype._setValue_array_setNeedsUpdate,di.prototype._setValue_array_setMatrixWorldNeedsUpdate],[di.prototype._setValue_arrayElement,di.prototype._setValue_arrayElement_setNeedsUpdate,di.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[di.prototype._setValue_fromArray,di.prototype._setValue_fromArray_setNeedsUpdate,di.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Xie{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Qs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length;let s,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],p=h.uuid;let g=t[p];if(g===void 0){g=l++,t[p]=g,e.push(h);for(let y=0,_=o;y!==_;++y)a[y].push(new di(h,n[y],r[y]))}else if(g<u){s=e[g];const y=--u,_=e[y];t[_.uuid]=g,e[g]=_,t[p]=y,e[y]=h;for(let x=0,M=o;x!==M;++x){const T=a[x],C=T[y];let E=T[g];T[g]=C,E===void 0&&(E=new di(h,n[x],r[x])),T[y]=E}}else e[g]!==s&&Jt("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],u=l.uuid,c=t[u];if(c!==void 0&&c>=a){const f=a++,h=e[f];t[h.uuid]=c,e[c]=h,t[u]=f,e[f]=l;for(let p=0,g=r;p!==g;++p){const y=n[p],_=y[f],x=y[c];y[c]=_,y[f]=x}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],c=u.uuid,f=t[c];if(f!==void 0)if(delete t[c],f<a){const h=--a,p=e[h],g=--o,y=e[g];t[p.uuid]=f,e[f]=p,t[y.uuid]=h,e[h]=y,e.pop();for(let _=0,x=r;_!==x;++_){const M=n[_],T=M[h],C=M[g];M[f]=T,M[h]=C,M.pop()}}else{const h=--o,p=e[h];h>0&&(t[p.uuid]=f),e[f]=p,e.pop();for(let g=0,y=r;g!==y;++g){const _=n[g];_[f]=_[h],_.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const a=this._bindings;if(r!==void 0)return a[r];const o=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);r=a.length,n[e]=r,o.push(e),s.push(t),a.push(f);for(let h=c,p=l.length;h!==p;++h){const g=l[h];f[h]=new di(g,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],u=e[s];t[u]=n,o[n]=l,o.pop(),a[n]=a[s],a.pop(),r[n]=r[s],r.pop()}}}class nY{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const a=t.tracks,o=a.length,s=new Array(o),l={endingStart:wg,endingEnd:wg};for(let u=0;u!==o;++u){const c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=K7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const r=this._clip.duration,a=e._clip.duration,o=a/r,s=r/a;e.warp(1,o,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,a=r.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=r._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,l[1]=a+n,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*n;l<0||n===0?t=0:(this._startTime=null,t=n*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case RB:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);break;case aR:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(r,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,a=this._loopCount;const o=n===$7;if(e===0)return a===-1?r:o&&(a&1)===1?t-r:r;if(n===j7){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const s=Math.floor(r/t);r-=t*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=r;if(o&&(a&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Ag,r.endingEnd=Ag):(e?r.endingStart=this.zeroSlopeAtStart?Ag:wg:r.endingStart=o1,t?r.endingEnd=this.zeroSlopeAtEnd?Ag:wg:r.endingEnd=o1)}_scheduleFading(e,t,n){const r=this._mixer,a=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=t,s[1]=a+e,l[1]=n,this}}const Yie=new Float32Array(1);class qie extends vf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,a=r.length,o=e._propertyBindings,s=e._interpolants,l=n.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==a;++f){const h=r[f],p=h.name;let g=c[p];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const y=t&&t._propertyBindings[f].binding.parsedPath;g=new tY(di.create(n,p,y),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),o[f]=g}s[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,a=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,a=n.path,o=this._bindingsByRootAndName,s=o[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete s[a],Object.keys(s).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new ek(new Float32Array(2),new Float32Array(2),1,Yie),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){const r=t||this._root,a=r.uuid;let o=typeof e=="string"?s_.findByName(r,e):e;const s=o!==null?o.uuid:e,l=this._actionsByClip[s];let u=null;if(n===void 0&&(o!==null?n=o.blendMode:n=aR),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===n)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new nY(this,o,t,n);return this._bindAction(c,u),this._addInactiveAction(c,s,a),c}existingAction(e,t){const n=t||this._root,r=n.uuid,a=typeof e=="string"?s_.findByName(n,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==n;++u)t[u]._update(r,e,a,o);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,a=r[n];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const u=o[s];this._deactivateAction(u);const c=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,t[c]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const s=n[o].actionByRoot,l=s[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Zie extends PB{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new uR(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class hk{constructor(e){this.value=e}clone(){return new hk(this.value.clone===void 0?this.value:this.value.clone())}}let jie=0;class Kie extends vf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:jie++}),this.name="",this.usage=l1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const a=Array.isArray(t[n])?t[n]:[t[n]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class $ie extends Q1{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Qie{constructor(e,t,n,r,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const X5=new hn;class iY{constructor(e,t,n=0,r=1/0){this.ray=new cm(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new i_,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Jt("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return X5.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(X5),this}intersectObject(e,t=!0,n=[]){return WN(e,this,n,t),n.sort(Y5),n}intersectObjects(e,t=!0,n=[]){for(let r=0,a=e.length;r<a;r++)WN(e[r],this,n,t);return n.sort(Y5),n}}function Y5(i,e){return i.distance-e.distance}function WN(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const a=i.children;for(let o=0,s=a.length;o<s;o++)WN(a[o],e,t,!0)}}class Jie{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=ere.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function ere(){this._document.hidden===!1&&this.reset()}class XN{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=xn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class tre{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class dk{constructor(e,t,n,r){dk.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=n,a[3]=r,this}}const q5=new Ze;class nre{constructor(e=new Ze(1/0,1/0),t=new Ze(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=q5.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,q5).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Z5=new re,Yw=new re,qy=new re,Zy=new re,UI=new re,ire=new re,rre=new re;class are{constructor(e=new re,t=new re){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Z5.subVectors(e,this.start),Yw.subVectors(this.end,this.start);const n=Yw.dot(Yw);let a=Yw.dot(Z5)/n;return t&&(a=xn(a,0,1)),a}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=ire,n=rre){const r=10000000000000001e-32;let a,o;const s=this.start,l=e.start,u=this.end,c=e.end;qy.subVectors(u,s),Zy.subVectors(c,l),UI.subVectors(s,l);const f=qy.dot(qy),h=Zy.dot(Zy),p=Zy.dot(UI);if(f<=r&&h<=r)return t.copy(s),n.copy(l),t.sub(n),t.dot(t);if(f<=r)a=0,o=p/h,o=xn(o,0,1);else{const g=qy.dot(UI);if(h<=r)o=0,a=xn(-g/f,0,1);else{const y=qy.dot(Zy),_=f*h-y*y;_!==0?a=xn((y*p-g*h)/_,0,1):a=0,o=(y*a+p)/h,o<0?(o=0,a=xn(-g/f,0,1)):o>1&&(o=1,a=xn((y-g)/f,0,1))}}return t.copy(s).add(qy.multiplyScalar(a)),n.copy(l).add(Zy.multiplyScalar(o)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const j5=new re;class ore extends ci{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new En,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const u=o/l*Math.PI*2,c=s/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new Xt(r,3));const a=new Co({fog:!1,toneMapped:!1});this.cone=new qu(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),j5.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(j5),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Od=new re,qw=new hn,FI=new hn;class sre extends qu{constructor(e){const t=rY(e),n=new En,r=[],a=[];for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}n.setAttribute("position",new Xt(r,3)),n.setAttribute("color",new Xt(a,3));const o=new Co({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const s=new Et(255),l=new Et(65280);this.setColors(s,l)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");FI.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const s=t[a];s.parent&&s.parent.isBone&&(qw.multiplyMatrices(FI,s.matrixWorld),Od.setFromMatrixPosition(qw),r.setXYZ(o,Od.x,Od.y,Od.z),qw.multiplyMatrices(FI,s.parent.matrixWorld),Od.setFromMatrixPosition(qw),r.setXYZ(o+1,Od.x,Od.y,Od.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function rY(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...rY(i.children[t]));return e}class lre extends jr{constructor(e,t,n){const r=new iM(t,4,2),a=new qs({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ure=new re,K5=new Et,$5=new Et;class cre extends ci{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new nM(t);r.rotateY(Math.PI*.5),this.material=new qs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),o=new Float32Array(a.count*3);r.setAttribute("color",new bi(o,3)),this.add(new jr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");K5.copy(this.light.color),$5.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const a=n<r/2?K5:$5;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ure.setFromMatrixPosition(this.light.matrixWorld).negate())}}class fre extends qu{constructor(e=10,t=10,n=4473924,r=8947848){n=new Et(n),r=new Et(r);const a=t/2,o=e/t,s=e/2,l=[],u=[];for(let h=0,p=0,g=-s;h<=t;h++,g+=o){l.push(-s,0,g,s,0,g),l.push(g,0,-s,g,0,s);const y=h===a?n:r;y.toArray(u,p),p+=3,y.toArray(u,p),p+=3,y.toArray(u,p),p+=3,y.toArray(u,p),p+=3}const c=new En;c.setAttribute("position",new Xt(l,3)),c.setAttribute("color",new Xt(u,3));const f=new Co({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class hre extends qu{constructor(e=10,t=16,n=8,r=64,a=4473924,o=8947848){a=new Et(a),o=new Et(o);const s=[],l=[];if(t>1)for(let f=0;f<t;f++){const h=f/t*(Math.PI*2),p=Math.sin(h)*e,g=Math.cos(h)*e;s.push(0,0,0),s.push(p,0,g);const y=f&1?a:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let f=0;f<n;f++){const h=f&1?a:o,p=e-e/n*f;for(let g=0;g<r;g++){let y=g/r*(Math.PI*2),_=Math.sin(y)*p,x=Math.cos(y)*p;s.push(_,0,x),l.push(h.r,h.g,h.b),y=(g+1)/r*(Math.PI*2),_=Math.sin(y)*p,x=Math.cos(y)*p,s.push(_,0,x),l.push(h.r,h.g,h.b)}}const u=new En;u.setAttribute("position",new Xt(s,3)),u.setAttribute("color",new Xt(l,3));const c=new Co({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Q5=new re,Zw=new re,J5=new re;class dre extends ci{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new En;r.setAttribute("position",new Xt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Co({fog:!1,toneMapped:!1});this.lightPlane=new Eh(r,a),this.add(this.lightPlane),r=new En,r.setAttribute("position",new Xt([0,0,0,0,0,1],3)),this.targetLine=new Eh(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Q5.setFromMatrixPosition(this.light.matrixWorld),Zw.setFromMatrixPosition(this.light.target.matrixWorld),J5.subVectors(Zw,Q5),this.lightPlane.lookAt(Zw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Zw),this.targetLine.scale.z=J5.length()}}const jw=new re,Er=new cR;class pre extends qu{constructor(e){const t=new En,n=new Co({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(g,y){l(g),l(y)}function l(g){r.push(0,0,0),a.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(r.length/3-1)}t.setAttribute("position",new Xt(r,3)),t.setAttribute("color",new Xt(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Et(16755200),c=new Et(16711680),f=new Et(43775),h=new Et(16777215),p=new Et(3355443);this.setColors(u,c,f,h,p)}setColors(e,t,n,r,a){const s=this.geometry.getAttribute("color");return s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,n.r,n.g,n.b),s.setXYZ(33,n.r,n.g,n.b),s.setXYZ(34,n.r,n.g,n.b),s.setXYZ(35,n.r,n.g,n.b),s.setXYZ(36,n.r,n.g,n.b),s.setXYZ(37,n.r,n.g,n.b),s.setXYZ(38,r.r,r.g,r.b),s.setXYZ(39,r.r,r.g,r.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;let a,o;if(Er.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===Ys)a=-1,o=1;else if(this.camera.coordinateSystem===e_)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Wr("c",t,e,Er,0,0,a),Wr("t",t,e,Er,0,0,o),Wr("n1",t,e,Er,-n,-r,a),Wr("n2",t,e,Er,n,-r,a),Wr("n3",t,e,Er,-n,r,a),Wr("n4",t,e,Er,n,r,a),Wr("f1",t,e,Er,-n,-r,o),Wr("f2",t,e,Er,n,-r,o),Wr("f3",t,e,Er,-n,r,o),Wr("f4",t,e,Er,n,r,o),Wr("u1",t,e,Er,n*.7,r*1.1,a),Wr("u2",t,e,Er,-n*.7,r*1.1,a),Wr("u3",t,e,Er,0,r*2,a),Wr("cf1",t,e,Er,-n,0,o),Wr("cf2",t,e,Er,n,0,o),Wr("cf3",t,e,Er,0,-r,o),Wr("cf4",t,e,Er,0,r,o),Wr("cn1",t,e,Er,-n,0,a),Wr("cn2",t,e,Er,n,0,a),Wr("cn3",t,e,Er,0,-r,a),Wr("cn4",t,e,Er,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Wr(i,e,t,n,r,a,o){jw.set(r,a,o).unproject(n);const s=e[i];if(s!==void 0){const l=t.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],jw.x,jw.y,jw.z)}}const Kw=new Qa;class vre extends qu{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new En;a.setIndex(new bi(n,1)),a.setAttribute("position",new bi(r,3)),super(a,new Co({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Kw.setFromObject(this.object),Kw.isEmpty())return;const e=Kw.min,t=Kw.max,n=this.geometry.attributes.position,r=n.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class gre extends qu{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new En;a.setIndex(new bi(n,1)),a.setAttribute("position",new Xt(r,3)),super(a,new Co({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class mre extends Eh{constructor(e,t=1,n=16776960){const r=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new En;o.setAttribute("position",new Xt(a,3)),o.computeBoundingSphere(),super(o,new Co({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new En;l.setAttribute("position",new Xt(s,3)),l.computeBoundingSphere(),this.add(new jr(l,new qs({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const eV=new re;let $w,VI;class yre extends ci{constructor(e=new re(0,0,1),t=new re(0,0,0),n=1,r=16776960,a=n*.2,o=a*.2){super(),this.type="ArrowHelper",$w===void 0&&($w=new En,$w.setAttribute("position",new Xt([0,0,0,0,1,0],3)),VI=new tM(.5,1,5,1),VI.translate(0,-.5,0)),this.position.copy(t),this.line=new Eh($w,new Co({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new jr(VI,new qs({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{eV.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(eV,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class _re extends qu{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new En;r.setAttribute("position",new Xt(t,3)),r.setAttribute("color",new Xt(n,3));const a=new Co({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,n){const r=new Et,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(n),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xre{constructor(){this.type="ShapePath",this.color=new Et,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new PE,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,a,o){return this.currentPath.bezierCurveTo(e,t,n,r,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const M=[];for(let T=0,C=x.length;T<C;T++){const E=x[T],D=new Bg;D.curves=E.curves,M.push(D)}return M}function n(x,M){const T=M.length;let C=!1;for(let E=T-1,D=0;D<T;E=D++){let L=M[E],z=M[D],P=z.x-L.x,N=z.y-L.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(L=M[D],P=-P,z=M[E],N=-N),x.y<L.y||x.y>z.y)continue;if(x.y===L.y){if(x.x===L.x)return!0}else{const B=N*(x.x-L.x)-P*(x.y-L.y);if(B===0)return!0;if(B<0)continue;C=!C}}else{if(x.y!==L.y)continue;if(z.x<=x.x&&x.x<=L.x||L.x<=x.x&&x.x<=z.x)return!0}}return C}const r=Ou.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const u=[];if(a.length===1)return s=a[0],l=new Bg,l.curves=s.curves,u.push(l),u;let c=!r(a[0].getPoints());c=e?!c:c;const f=[],h=[];let p=[],g=0,y;h[g]=void 0,p[g]=[];for(let x=0,M=a.length;x<M;x++)s=a[x],y=s.getPoints(),o=r(y),o=e?!o:o,o?(!c&&h[g]&&g++,h[g]={s:new Bg,p:y},h[g].s.curves=s.curves,c&&g++,p[g]=[]):p[g].push({h:s,p:y[0]});if(!h[0])return t(a);if(h.length>1){let x=!1,M=0;for(let T=0,C=h.length;T<C;T++)f[T]=[];for(let T=0,C=h.length;T<C;T++){const E=p[T];for(let D=0;D<E.length;D++){const L=E[D];let z=!0;for(let P=0;P<h.length;P++)n(L.p,h[P].p)&&(T!==P&&M++,z?(z=!1,f[P].push(L)):x=!0);z&&f[T].push(L)}}M>0&&x===!1&&(p=f)}let _;for(let x=0,M=h.length;x<M;x++){l=h[x].s,u.push(l),_=p[x];for(let T=0,C=_.length;T<C;T++)l.holes.push(_[T].h)}return u}}class Sre extends vf{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){At("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function bre(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function Mre(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function Tre(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function YN(i,e,t,n){const r=wre(n);switch(t){case EB:return i*e;case nR:return i*e/r.components*r.byteLength;case K1:return i*e/r.components*r.byteLength;case Yg:return i*e*2/r.components*r.byteLength;case iR:return i*e*2/r.components*r.byteLength;case DB:return i*e*3/r.components*r.byteLength;case To:return i*e*4/r.components*r.byteLength;case rR:return i*e*4/r.components*r.byteLength;case Ob:case zb:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Bb:case kb:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case QC:case eE:return Math.max(i,16)*Math.max(e,8)/4;case $C:case JC:return Math.max(i,8)*Math.max(e,8)/2;case tE:case nE:case rE:case aE:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case iE:case oE:case sE:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case lE:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case uE:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case cE:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case fE:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case hE:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case dE:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case pE:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case vE:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case gE:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case mE:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case yE:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case _E:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case xE:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case SE:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case bE:case ME:case TE:return Math.ceil(i/4)*Math.ceil(e/4)*16;case wE:case AE:return Math.ceil(i/4)*Math.ceil(e/4)*8;case CE:case EE:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function wre(i){switch(i){case Zo:case TB:return{byteLength:1,components:1};case K0:case wB:case sf:return{byteLength:2,components:1};case eR:case tR:return{byteLength:2,components:4};case Yl:case JD:case $o:return{byteLength:4,components:1};case AB:case CB:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class Are{static contain(e,t){return bre(e,t)}static cover(e,t){return Mre(e,t)}static fill(e){return Tre(e)}static getByteLength(e,t,n,r){return YN(e,t,n,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:jD}}));typeof window<"u"&&(window.__THREE__?At("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=jD);function aY(){let i=null,e=!1,t=null,n=null;function r(a,o){t(a,o),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){i=a}}}function Cre(i){const e=new WeakMap;function t(s,l){const u=s.array,c=s.usage,f=u.byteLength,h=i.createBuffer();i.bindBuffer(l,h),i.bufferData(l,u,c),s.onUploadCallback();let p;if(u instanceof Float32Array)p=i.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)p=i.HALF_FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?p=i.HALF_FLOAT:p=i.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=i.SHORT;else if(u instanceof Uint32Array)p=i.UNSIGNED_INT;else if(u instanceof Int32Array)p=i.INT;else if(u instanceof Int8Array)p=i.BYTE;else if(u instanceof Uint8Array)p=i.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:f}}function n(s,l,u){const c=l.array,f=l.updateRanges;if(i.bindBuffer(u,s),f.length===0)i.bufferSubData(u,0,c);else{f.sort((p,g)=>p.start-g.start);let h=0;for(let p=1;p<f.length;p++){const g=f[h],y=f[p];y.start<=g.start+g.count+1?g.count=Math.max(g.count,y.start+y.count-g.start):(++h,f[h]=y)}f.length=h+1;for(let p=0,g=f.length;p<g;p++){const y=f[p];i.bufferSubData(u,y.start*c.BYTES_PER_ELEMENT,c,y.start,y.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function a(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(i.deleteBuffer(l.buffer),e.delete(s))}function o(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const c=e.get(s);(!c||c.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const u=e.get(s);if(u===void 0)e.set(s,t(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(u.buffer,s,l),u.version=s.version}}return{get:r,remove:a,update:o}}var Ere=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Dre=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Rre=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Lre=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ire=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Pre=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Nre=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ore=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,zre=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Bre=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,kre=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Ure=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Fre=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Vre=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Gre=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Hre=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Wre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Xre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Yre=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,qre=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Zre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,jre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Kre=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,$re=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Qre=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Jre=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,eae=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,tae=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,nae=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,iae=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,rae="gl_FragColor = linearToOutputTexel( gl_FragColor );",aae=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,oae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,sae=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,lae=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,uae=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,cae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fae=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,hae=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,dae=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,pae=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,vae=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,gae=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,mae=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,yae=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,_ae=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,xae=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Sae=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,bae=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Mae=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Tae=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,wae=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Aae=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Cae=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Eae=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Dae=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Rae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Lae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Iae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Pae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Nae=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Oae=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,zae=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Bae=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,kae=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Uae=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Fae=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Vae=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Gae=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Hae=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Wae=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Xae=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Yae=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,qae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Zae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jae=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Kae=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$ae=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Qae=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Jae=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,eoe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,toe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,noe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,ioe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,roe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,aoe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,ooe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,soe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,loe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,uoe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,coe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,foe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,hoe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,doe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,poe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,voe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,goe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,moe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,yoe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,_oe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,xoe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Soe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,boe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Moe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Toe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,woe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Aoe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Coe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Eoe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Doe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Roe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Loe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ioe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Poe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Noe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Ooe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,zoe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,Boe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,koe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Uoe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Foe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Voe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Goe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hoe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Woe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xoe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Yoe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qoe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Zoe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,joe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Koe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$oe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Qoe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Joe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ese=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tse=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,nse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ise=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rse=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ase=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ose=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Wn={alphahash_fragment:Ere,alphahash_pars_fragment:Dre,alphamap_fragment:Rre,alphamap_pars_fragment:Lre,alphatest_fragment:Ire,alphatest_pars_fragment:Pre,aomap_fragment:Nre,aomap_pars_fragment:Ore,batching_pars_vertex:zre,batching_vertex:Bre,begin_vertex:kre,beginnormal_vertex:Ure,bsdfs:Fre,iridescence_fragment:Vre,bumpmap_pars_fragment:Gre,clipping_planes_fragment:Hre,clipping_planes_pars_fragment:Wre,clipping_planes_pars_vertex:Xre,clipping_planes_vertex:Yre,color_fragment:qre,color_pars_fragment:Zre,color_pars_vertex:jre,color_vertex:Kre,common:$re,cube_uv_reflection_fragment:Qre,defaultnormal_vertex:Jre,displacementmap_pars_vertex:eae,displacementmap_vertex:tae,emissivemap_fragment:nae,emissivemap_pars_fragment:iae,colorspace_fragment:rae,colorspace_pars_fragment:aae,envmap_fragment:oae,envmap_common_pars_fragment:sae,envmap_pars_fragment:lae,envmap_pars_vertex:uae,envmap_physical_pars_fragment:xae,envmap_vertex:cae,fog_vertex:fae,fog_pars_vertex:hae,fog_fragment:dae,fog_pars_fragment:pae,gradientmap_pars_fragment:vae,lightmap_pars_fragment:gae,lights_lambert_fragment:mae,lights_lambert_pars_fragment:yae,lights_pars_begin:_ae,lights_toon_fragment:Sae,lights_toon_pars_fragment:bae,lights_phong_fragment:Mae,lights_phong_pars_fragment:Tae,lights_physical_fragment:wae,lights_physical_pars_fragment:Aae,lights_fragment_begin:Cae,lights_fragment_maps:Eae,lights_fragment_end:Dae,logdepthbuf_fragment:Rae,logdepthbuf_pars_fragment:Lae,logdepthbuf_pars_vertex:Iae,logdepthbuf_vertex:Pae,map_fragment:Nae,map_pars_fragment:Oae,map_particle_fragment:zae,map_particle_pars_fragment:Bae,metalnessmap_fragment:kae,metalnessmap_pars_fragment:Uae,morphinstance_vertex:Fae,morphcolor_vertex:Vae,morphnormal_vertex:Gae,morphtarget_pars_vertex:Hae,morphtarget_vertex:Wae,normal_fragment_begin:Xae,normal_fragment_maps:Yae,normal_pars_fragment:qae,normal_pars_vertex:Zae,normal_vertex:jae,normalmap_pars_fragment:Kae,clearcoat_normal_fragment_begin:$ae,clearcoat_normal_fragment_maps:Qae,clearcoat_pars_fragment:Jae,iridescence_pars_fragment:eoe,opaque_fragment:toe,packing:noe,premultiplied_alpha_fragment:ioe,project_vertex:roe,dithering_fragment:aoe,dithering_pars_fragment:ooe,roughnessmap_fragment:soe,roughnessmap_pars_fragment:loe,shadowmap_pars_fragment:uoe,shadowmap_pars_vertex:coe,shadowmap_vertex:foe,shadowmask_pars_fragment:hoe,skinbase_vertex:doe,skinning_pars_vertex:poe,skinning_vertex:voe,skinnormal_vertex:goe,specularmap_fragment:moe,specularmap_pars_fragment:yoe,tonemapping_fragment:_oe,tonemapping_pars_fragment:xoe,transmission_fragment:Soe,transmission_pars_fragment:boe,uv_pars_fragment:Moe,uv_pars_vertex:Toe,uv_vertex:woe,worldpos_vertex:Aoe,background_vert:Coe,background_frag:Eoe,backgroundCube_vert:Doe,backgroundCube_frag:Roe,cube_vert:Loe,cube_frag:Ioe,depth_vert:Poe,depth_frag:Noe,distance_vert:Ooe,distance_frag:zoe,equirect_vert:Boe,equirect_frag:koe,linedashed_vert:Uoe,linedashed_frag:Foe,meshbasic_vert:Voe,meshbasic_frag:Goe,meshlambert_vert:Hoe,meshlambert_frag:Woe,meshmatcap_vert:Xoe,meshmatcap_frag:Yoe,meshnormal_vert:qoe,meshnormal_frag:Zoe,meshphong_vert:joe,meshphong_frag:Koe,meshphysical_vert:$oe,meshphysical_frag:Qoe,meshtoon_vert:Joe,meshtoon_frag:ese,points_vert:tse,points_frag:nse,shadow_vert:ise,shadow_frag:rse,sprite_vert:ase,sprite_frag:ose},Rt={common:{diffuse:{value:new Et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new zn},alphaMap:{value:null},alphaMapTransform:{value:new zn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new zn}},envmap:{envMap:{value:null},envMapRotation:{value:new zn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new zn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new zn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new zn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new zn},normalScale:{value:new Ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new zn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new zn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new zn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new zn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new zn},alphaTest:{value:0},uvTransform:{value:new zn}},sprite:{diffuse:{value:new Et(16777215)},opacity:{value:1},center:{value:new Ze(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new zn},alphaMap:{value:null},alphaMapTransform:{value:new zn},alphaTest:{value:0}}},Pu={basic:{uniforms:Wo([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.fog]),vertexShader:Wn.meshbasic_vert,fragmentShader:Wn.meshbasic_frag},lambert:{uniforms:Wo([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,Rt.lights,{emissive:{value:new Et(0)}}]),vertexShader:Wn.meshlambert_vert,fragmentShader:Wn.meshlambert_frag},phong:{uniforms:Wo([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,Rt.lights,{emissive:{value:new Et(0)},specular:{value:new Et(1118481)},shininess:{value:30}}]),vertexShader:Wn.meshphong_vert,fragmentShader:Wn.meshphong_frag},standard:{uniforms:Wo([Rt.common,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.roughnessmap,Rt.metalnessmap,Rt.fog,Rt.lights,{emissive:{value:new Et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Wn.meshphysical_vert,fragmentShader:Wn.meshphysical_frag},toon:{uniforms:Wo([Rt.common,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.gradientmap,Rt.fog,Rt.lights,{emissive:{value:new Et(0)}}]),vertexShader:Wn.meshtoon_vert,fragmentShader:Wn.meshtoon_frag},matcap:{uniforms:Wo([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,{matcap:{value:null}}]),vertexShader:Wn.meshmatcap_vert,fragmentShader:Wn.meshmatcap_frag},points:{uniforms:Wo([Rt.points,Rt.fog]),vertexShader:Wn.points_vert,fragmentShader:Wn.points_frag},dashed:{uniforms:Wo([Rt.common,Rt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Wn.linedashed_vert,fragmentShader:Wn.linedashed_frag},depth:{uniforms:Wo([Rt.common,Rt.displacementmap]),vertexShader:Wn.depth_vert,fragmentShader:Wn.depth_frag},normal:{uniforms:Wo([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,{opacity:{value:1}}]),vertexShader:Wn.meshnormal_vert,fragmentShader:Wn.meshnormal_frag},sprite:{uniforms:Wo([Rt.sprite,Rt.fog]),vertexShader:Wn.sprite_vert,fragmentShader:Wn.sprite_frag},background:{uniforms:{uvTransform:{value:new zn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Wn.background_vert,fragmentShader:Wn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new zn}},vertexShader:Wn.backgroundCube_vert,fragmentShader:Wn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Wn.cube_vert,fragmentShader:Wn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Wn.equirect_vert,fragmentShader:Wn.equirect_frag},distance:{uniforms:Wo([Rt.common,Rt.displacementmap,{referencePosition:{value:new re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Wn.distance_vert,fragmentShader:Wn.distance_frag},shadow:{uniforms:Wo([Rt.lights,Rt.fog,{color:{value:new Et(0)},opacity:{value:1}}]),vertexShader:Wn.shadow_vert,fragmentShader:Wn.shadow_frag}};Pu.physical={uniforms:Wo([Pu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new zn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new zn},clearcoatNormalScale:{value:new Ze(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new zn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new zn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new zn},sheen:{value:0},sheenColor:{value:new Et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new zn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new zn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new zn},transmissionSamplerSize:{value:new Ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new zn},attenuationDistance:{value:0},attenuationColor:{value:new Et(0)},specularColor:{value:new Et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new zn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new zn},anisotropyVector:{value:new Ze},anisotropyMap:{value:null},anisotropyMapTransform:{value:new zn}}]),vertexShader:Wn.meshphysical_vert,fragmentShader:Wn.meshphysical_frag};const Qw={r:0,b:0,g:0},Nv=new tl,sse=new hn;function lse(i,e,t,n,r,a,o){const s=new Et(0);let l=a===!0?0:1,u,c,f=null,h=0,p=null;function g(T){let C=T.isScene===!0?T.background:null;return C&&C.isTexture&&(C=(T.backgroundBlurriness>0?t:e).get(C)),C}function y(T){let C=!1;const E=g(T);E===null?x(s,l):E&&E.isColor&&(x(E,1),C=!0);const D=i.xr.getEnvironmentBlendMode();D==="additive"?n.buffers.color.setClear(0,0,0,1,o):D==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(i.autoClear||C)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function _(T,C){const E=g(C);E&&(E.isCubeTexture||E.mapping===A_)?(c===void 0&&(c=new jr(new fm(1,1,1),new ql({name:"BackgroundCubeMaterial",uniforms:r_(Pu.backgroundCube.uniforms),vertexShader:Pu.backgroundCube.vertexShader,fragmentShader:Pu.backgroundCube.fragmentShader,side:Qo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(D,L,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),Nv.copy(C.backgroundRotation),Nv.x*=-1,Nv.y*=-1,Nv.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Nv.y*=-1,Nv.z*=-1),c.material.uniforms.envMap.value=E,c.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(sse.makeRotationFromEuler(Nv)),c.material.toneMapped=Jn.getTransfer(E.colorSpace)!==Di,(f!==E||h!==E.version||p!==i.toneMapping)&&(c.material.needsUpdate=!0,f=E,h=E.version,p=i.toneMapping),c.layers.enableAll(),T.unshift(c,c.geometry,c.material,0,0,null)):E&&E.isTexture&&(u===void 0&&(u=new jr(new E_(2,2),new ql({name:"BackgroundMaterial",uniforms:r_(Pu.background.uniforms),vertexShader:Pu.background.vertexShader,fragmentShader:Pu.background.fragmentShader,side:af,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=E,u.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,u.material.toneMapped=Jn.getTransfer(E.colorSpace)!==Di,E.matrixAutoUpdate===!0&&E.updateMatrix(),u.material.uniforms.uvTransform.value.copy(E.matrix),(f!==E||h!==E.version||p!==i.toneMapping)&&(u.material.needsUpdate=!0,f=E,h=E.version,p=i.toneMapping),u.layers.enableAll(),T.unshift(u,u.geometry,u.material,0,0,null))}function x(T,C){T.getRGB(Qw,dX(i)),n.buffers.color.setClear(Qw.r,Qw.g,Qw.b,C,o)}function M(){c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return s},setClearColor:function(T,C=1){s.set(T),l=C,x(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(T){l=T,x(s,l)},render:y,addToRenderList:_,dispose:M}}function use(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=h(null);let a=r,o=!1;function s(N,B,G,U,X){let q=!1;const V=f(U,G,B);a!==V&&(a=V,u(a.object)),q=p(N,U,G,X),q&&g(N,U,G,X),X!==null&&e.update(X,i.ELEMENT_ARRAY_BUFFER),(q||o)&&(o=!1,C(N,B,G,U),X!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(X).buffer))}function l(){return i.createVertexArray()}function u(N){return i.bindVertexArray(N)}function c(N){return i.deleteVertexArray(N)}function f(N,B,G){const U=G.wireframe===!0;let X=n[N.id];X===void 0&&(X={},n[N.id]=X);let q=X[B.id];q===void 0&&(q={},X[B.id]=q);let V=q[U];return V===void 0&&(V=h(l()),q[U]=V),V}function h(N){const B=[],G=[],U=[];for(let X=0;X<t;X++)B[X]=0,G[X]=0,U[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:G,attributeDivisors:U,object:N,attributes:{},index:null}}function p(N,B,G,U){const X=a.attributes,q=B.attributes;let V=0;const j=G.getAttributes();for(const K in j)if(j[K].location>=0){const ie=X[K];let Y=q[K];if(Y===void 0&&(K==="instanceMatrix"&&N.instanceMatrix&&(Y=N.instanceMatrix),K==="instanceColor"&&N.instanceColor&&(Y=N.instanceColor)),ie===void 0||ie.attribute!==Y||Y&&ie.data!==Y.data)return!0;V++}return a.attributesNum!==V||a.index!==U}function g(N,B,G,U){const X={},q=B.attributes;let V=0;const j=G.getAttributes();for(const K in j)if(j[K].location>=0){let ie=q[K];ie===void 0&&(K==="instanceMatrix"&&N.instanceMatrix&&(ie=N.instanceMatrix),K==="instanceColor"&&N.instanceColor&&(ie=N.instanceColor));const Y={};Y.attribute=ie,ie&&ie.data&&(Y.data=ie.data),X[K]=Y,V++}a.attributes=X,a.attributesNum=V,a.index=U}function y(){const N=a.newAttributes;for(let B=0,G=N.length;B<G;B++)N[B]=0}function _(N){x(N,0)}function x(N,B){const G=a.newAttributes,U=a.enabledAttributes,X=a.attributeDivisors;G[N]=1,U[N]===0&&(i.enableVertexAttribArray(N),U[N]=1),X[N]!==B&&(i.vertexAttribDivisor(N,B),X[N]=B)}function M(){const N=a.newAttributes,B=a.enabledAttributes;for(let G=0,U=B.length;G<U;G++)B[G]!==N[G]&&(i.disableVertexAttribArray(G),B[G]=0)}function T(N,B,G,U,X,q,V){V===!0?i.vertexAttribIPointer(N,B,G,X,q):i.vertexAttribPointer(N,B,G,U,X,q)}function C(N,B,G,U){y();const X=U.attributes,q=G.getAttributes(),V=B.defaultAttributeValues;for(const j in q){const K=q[j];if(K.location>=0){let te=X[j];if(te===void 0&&(j==="instanceMatrix"&&N.instanceMatrix&&(te=N.instanceMatrix),j==="instanceColor"&&N.instanceColor&&(te=N.instanceColor)),te!==void 0){const ie=te.normalized,Y=te.itemSize,ee=e.get(te);if(ee===void 0)continue;const oe=ee.buffer,de=ee.type,Pe=ee.bytesPerElement,he=de===i.INT||de===i.UNSIGNED_INT||te.gpuType===JD;if(te.isInterleavedBufferAttribute){const Se=te.data,Ee=Se.stride,Te=te.offset;if(Se.isInstancedInterleavedBuffer){for(let He=0;He<K.locationSize;He++)x(K.location+He,Se.meshPerAttribute);N.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let He=0;He<K.locationSize;He++)_(K.location+He);i.bindBuffer(i.ARRAY_BUFFER,oe);for(let He=0;He<K.locationSize;He++)T(K.location+He,Y/K.locationSize,de,ie,Ee*Pe,(Te+Y/K.locationSize*He)*Pe,he)}else{if(te.isInstancedBufferAttribute){for(let Se=0;Se<K.locationSize;Se++)x(K.location+Se,te.meshPerAttribute);N.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let Se=0;Se<K.locationSize;Se++)_(K.location+Se);i.bindBuffer(i.ARRAY_BUFFER,oe);for(let Se=0;Se<K.locationSize;Se++)T(K.location+Se,Y/K.locationSize,de,ie,Y*Pe,Y/K.locationSize*Se*Pe,he)}}else if(V!==void 0){const ie=V[j];if(ie!==void 0)switch(ie.length){case 2:i.vertexAttrib2fv(K.location,ie);break;case 3:i.vertexAttrib3fv(K.location,ie);break;case 4:i.vertexAttrib4fv(K.location,ie);break;default:i.vertexAttrib1fv(K.location,ie)}}}}M()}function E(){z();for(const N in n){const B=n[N];for(const G in B){const U=B[G];for(const X in U)c(U[X].object),delete U[X];delete B[G]}delete n[N]}}function D(N){if(n[N.id]===void 0)return;const B=n[N.id];for(const G in B){const U=B[G];for(const X in U)c(U[X].object),delete U[X];delete B[G]}delete n[N.id]}function L(N){for(const B in n){const G=n[B];if(G[N.id]===void 0)continue;const U=G[N.id];for(const X in U)c(U[X].object),delete U[X];delete G[N.id]}}function z(){P(),o=!0,a!==r&&(a=r,u(a.object))}function P(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:s,reset:z,resetDefaultState:P,dispose:E,releaseStatesOfGeometry:D,releaseStatesOfProgram:L,initAttributes:y,enableAttribute:_,disableUnusedAttributes:M}}function cse(i,e,t){let n;function r(u){n=u}function a(u,c){i.drawArrays(n,u,c),t.update(c,n,1)}function o(u,c,f){f!==0&&(i.drawArraysInstanced(n,u,c,f),t.update(c,n,f))}function s(u,c,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,u,0,c,0,f);let p=0;for(let g=0;g<f;g++)p+=c[g];t.update(p,n,1)}function l(u,c,f,h){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<u.length;g++)o(u[g],c[g],h[g]);else{p.multiDrawArraysInstancedWEBGL(n,u,0,c,0,h,0,f);let g=0;for(let y=0;y<f;y++)g+=c[y]*h[y];t.update(g,n,1)}}this.setMode=r,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function fse(i,e,t,n){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(L){return!(L!==To&&n.convert(L)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(L){const z=L===sf&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(L!==Zo&&n.convert(L)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&L!==$o&&!z)}function l(L){if(L==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const c=l(u);c!==u&&(At("WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=t.logarithmicDepthBuffer===!0,h=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),p=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),g=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=i.getParameter(i.MAX_TEXTURE_SIZE),_=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),x=i.getParameter(i.MAX_VERTEX_ATTRIBS),M=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),T=i.getParameter(i.MAX_VARYING_VECTORS),C=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),E=i.getParameter(i.MAX_SAMPLES),D=i.getParameter(i.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:f,reversedDepthBuffer:h,maxTextures:p,maxVertexTextures:g,maxTextureSize:y,maxCubemapSize:_,maxAttributes:x,maxVertexUniforms:M,maxVaryings:T,maxFragmentUniforms:C,maxSamples:E,samples:D}}function hse(i){const e=this;let t=null,n=0,r=!1,a=!1;const o=new fh,s=new zn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||n!==0||r;return r=h,n=f.length,p},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,h){t=c(f,h,0)},this.setState=function(f,h,p){const g=f.clippingPlanes,y=f.clipIntersection,_=f.clipShadows,x=i.get(f);if(!r||g===null||g.length===0||a&&!_)a?c(null):u();else{const M=a?0:n,T=M*4;let C=x.clippingState||null;l.value=C,C=c(g,h,T,p);for(let E=0;E!==T;++E)C[E]=t[E];x.clippingState=C,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=M}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(f,h,p,g){const y=f!==null?f.length:0;let _=null;if(y!==0){if(_=l.value,g!==!0||_===null){const x=p+y*4,M=h.matrixWorldInverse;s.getNormalMatrix(M),(_===null||_.length<x)&&(_=new Float32Array(x));for(let T=0,C=p;T!==y;++T,C+=4)o.copy(f[T]).applyMatrix4(M,s),o.normal.toArray(_,C),_[C+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function dse(i){let e=new WeakMap;function t(o,s){return s===r1?o.mapping=of:s===a1&&(o.mapping=yp),o}function n(o){if(o&&o.isTexture){const s=o.mapping;if(s===r1||s===a1)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new zB(l.height);return u.fromEquirectangularTexture(i,o),e.set(o,u),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const s=o.target;s.removeEventListener("dispose",r);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}const tp=4,tV=[.125,.215,.35,.446,.526,.582],yg=20,pse=256,BS=new ef,nV=new Et;let GI=null,HI=0,WI=0,XI=!1;const vse=new re;class qN{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,r=100,a={}){const{size:o=256,position:s=vse}=a;GI=this._renderer.getRenderTarget(),HI=this._renderer.getActiveCubeFace(),WI=this._renderer.getActiveMipmapLevel(),XI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,n,r,l,s),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=aV(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rV(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(GI,HI,WI),this._renderer.xr.enabled=XI,e.scissorTest=!1,jy(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===of||e.mapping===yp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),GI=this._renderer.getRenderTarget(),HI=this._renderer.getActiveCubeFace(),WI=this._renderer.getActiveMipmapLevel(),XI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ki,minFilter:ki,generateMipmaps:!1,type:sf,format:To,colorSpace:eo,depthBuffer:!1},r=iV(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=iV(e,t,n);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=gse(a)),this._blurMaterial=yse(a,e,t),this._ggxMaterial=mse(a,e,t)}return r}_compileMaterial(e){const t=new jr(new En,e);this._renderer.compile(t,BS)}_sceneToCubeUV(e,t,n,r,a){const l=new Lr(90,1,t,n),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(nV),f.toneMapping=Hl,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(r),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new jr(new fm,new qs({name:"PMREM.Background",side:Qo,depthWrite:!1,depthTest:!1})));const y=this._backgroundBox,_=y.material;let x=!1;const M=e.background;M?M.isColor&&(_.color.copy(M),e.background=null,x=!0):(_.color.copy(nV),x=!0);for(let T=0;T<6;T++){const C=T%3;C===0?(l.up.set(0,u[T],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+c[T],a.y,a.z)):C===1?(l.up.set(0,0,u[T]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+c[T],a.z)):(l.up.set(0,u[T],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+c[T]));const E=this._cubeSize;jy(r,C*E,T>2?E:0,E,E),f.setRenderTarget(r),x&&f.render(y,l),f.render(e,l)}f.toneMapping=p,f.autoClear=h,e.background=M}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===of||e.mapping===yp;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=aV()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rV());const a=r?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=a;const s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;jy(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(o,BS)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodMeshes.length;for(let a=1;a<r;a++)this._applyGGXFilter(e,a-1,a);t.autoClear=n}_applyGGXFilter(e,t,n){const r=this._renderer,a=this._pingPongRenderTarget,o=this._ggxMaterial,s=this._lodMeshes[n];s.material=o;const l=o.uniforms,u=n/(this._lodMeshes.length-1),c=t/(this._lodMeshes.length-1),f=Math.sqrt(u*u-c*c),h=0+u*1.25,p=f*h,{_lodMax:g}=this,y=this._sizeLods[n],_=3*y*(n>g-tp?n-g+tp:0),x=4*(this._cubeSize-y);l.envMap.value=e.texture,l.roughness.value=p,l.mipInt.value=g-t,jy(a,_,x,3*y,2*y),r.setRenderTarget(a),r.render(s,BS),l.envMap.value=a.texture,l.roughness.value=0,l.mipInt.value=g-n,jy(e,_,x,3*y,2*y),r.setRenderTarget(e),r.render(s,BS)}_blur(e,t,n,r,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",a),this._halfBlur(o,e,n,n,r,"longitudinal",a)}_halfBlur(e,t,n,r,a,o,s){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&Jt("blur direction must be either latitudinal or longitudinal!");const c=3,f=this._lodMeshes[r];f.material=u;const h=u.uniforms,p=this._sizeLods[n]-1,g=isFinite(a)?Math.PI/(2*p):2*Math.PI/(2*yg-1),y=a/g,_=isFinite(a)?1+Math.floor(c*y):yg;_>yg&&At(`sigmaRadians, ${a}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${yg}`);const x=[];let M=0;for(let L=0;L<yg;++L){const z=L/y,P=Math.exp(-z*z/2);x.push(P),L===0?M+=P:L<_&&(M+=2*P)}for(let L=0;L<x.length;L++)x[L]=x[L]/M;h.envMap.value=e.texture,h.samples.value=_,h.weights.value=x,h.latitudinal.value=o==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:T}=this;h.dTheta.value=g,h.mipInt.value=T-n;const C=this._sizeLods[r],E=3*C*(r>T-tp?r-T+tp:0),D=4*(this._cubeSize-C);jy(t,E,D,3*C,2*C),l.setRenderTarget(t),l.render(f,BS)}}function gse(i){const e=[],t=[],n=[];let r=i;const a=i-tp+1+tV.length;for(let o=0;o<a;o++){const s=Math.pow(2,r);e.push(s);let l=1/s;o>i-tp?l=tV[o-i+tp-1]:o===0&&(l=0),t.push(l);const u=1/(s-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],p=6,g=6,y=3,_=2,x=1,M=new Float32Array(y*g*p),T=new Float32Array(_*g*p),C=new Float32Array(x*g*p);for(let D=0;D<p;D++){const L=D%3*2/3-1,z=D>2?0:-1,P=[L,z,0,L+2/3,z,0,L+2/3,z+1,0,L,z,0,L+2/3,z+1,0,L,z+1,0];M.set(P,y*g*D),T.set(h,_*g*D);const N=[D,D,D,D,D,D];C.set(N,x*g*D)}const E=new En;E.setAttribute("position",new bi(M,y)),E.setAttribute("uv",new bi(T,_)),E.setAttribute("faceIndex",new bi(C,x)),n.push(new jr(E,null)),r>tp&&r--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function iV(i,e,t){const n=new Js(i,e,t);return n.texture.mapping=A_,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function jy(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function mse(i,e,t){return new ql({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:pse,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:LR(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Jc,depthTest:!1,depthWrite:!1})}function yse(i,e,t){const n=new Float32Array(yg),r=new re(0,1,0);return new ql({name:"SphericalGaussianBlur",defines:{n:yg,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:LR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Jc,depthTest:!1,depthWrite:!1})}function rV(){return new ql({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:LR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Jc,depthTest:!1,depthWrite:!1})}function aV(){return new ql({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:LR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Jc,depthTest:!1,depthWrite:!1})}function LR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function _se(i){let e=new WeakMap,t=null;function n(s){if(s&&s.isTexture){const l=s.mapping,u=l===r1||l===a1,c=l===of||l===yp;if(u||c){let f=e.get(s);const h=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==h)return t===null&&(t=new qN(i)),f=u?t.fromEquirectangular(s,f):t.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),f.texture;if(f!==void 0)return f.texture;{const p=s.image;return u&&p&&p.height>0||c&&p&&r(p)?(t===null&&(t=new qN(i)),f=u?t.fromEquirectangular(s):t.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),s.addEventListener("dispose",a),f.texture):null}}}return s}function r(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function a(s){const l=s.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function xse(i){const e={};function t(n){if(e[n]!==void 0)return e[n];const r=i.getExtension(n);return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&t_("WebGLRenderer: "+n+" extension not supported."),r}}}function Sse(i,e,t,n){const r={},a=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);h.removeEventListener("dispose",o),delete r[h.id];const p=a.get(h);p&&(e.remove(p),a.delete(h)),n.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function s(f,h){return r[h.id]===!0||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h}function l(f){const h=f.attributes;for(const p in h)e.update(h[p],i.ARRAY_BUFFER)}function u(f){const h=[],p=f.index,g=f.attributes.position;let y=0;if(p!==null){const M=p.array;y=p.version;for(let T=0,C=M.length;T<C;T+=3){const E=M[T+0],D=M[T+1],L=M[T+2];h.push(E,D,D,L,L,E)}}else if(g!==void 0){const M=g.array;y=g.version;for(let T=0,C=M.length/3-1;T<C;T+=3){const E=T+0,D=T+1,L=T+2;h.push(E,D,D,L,L,E)}}else return;const _=new(sX(h)?OB:NB)(h,1);_.version=y;const x=a.get(f);x&&e.remove(x),a.set(f,_)}function c(f){const h=a.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&u(f)}else u(f);return a.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function bse(i,e,t){let n;function r(h){n=h}let a,o;function s(h){a=h.type,o=h.bytesPerElement}function l(h,p){i.drawElements(n,p,a,h*o),t.update(p,n,1)}function u(h,p,g){g!==0&&(i.drawElementsInstanced(n,p,a,h*o,g),t.update(p,n,g))}function c(h,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,p,0,a,h,0,g);let _=0;for(let x=0;x<g;x++)_+=p[x];t.update(_,n,1)}function f(h,p,g,y){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let x=0;x<h.length;x++)u(h[x]/o,p[x],y[x]);else{_.multiDrawElementsInstancedWEBGL(n,p,0,a,h,0,y,0,g);let x=0;for(let M=0;M<g;M++)x+=p[M]*y[M];t.update(x,n,1)}}this.setMode=r,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function Mse(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,o,s){switch(t.calls++,o){case i.TRIANGLES:t.triangles+=s*(a/3);break;case i.LINES:t.lines+=s*(a/2);break;case i.LINE_STRIP:t.lines+=s*(a-1);break;case i.LINE_LOOP:t.lines+=s*a;break;case i.POINTS:t.points+=s*a;break;default:Jt("WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function Tse(i,e,t){const n=new WeakMap,r=new Gi;function a(o,s,l){const u=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=c!==void 0?c.length:0;let h=n.get(s);if(h===void 0||h.count!==f){let P=function(){L.dispose(),n.delete(s),s.removeEventListener("dispose",P)};h!==void 0&&h.texture.dispose();const p=s.morphAttributes.position!==void 0,g=s.morphAttributes.normal!==void 0,y=s.morphAttributes.color!==void 0,_=s.morphAttributes.position||[],x=s.morphAttributes.normal||[],M=s.morphAttributes.color||[];let T=0;p===!0&&(T=1),g===!0&&(T=2),y===!0&&(T=3);let C=s.attributes.position.count*T,E=1;C>e.maxTextureSize&&(E=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const D=new Float32Array(C*E*4*f),L=new lR(D,C,E,f);L.type=$o,L.needsUpdate=!0;const z=T*4;for(let N=0;N<f;N++){const B=_[N],G=x[N],U=M[N],X=C*E*4*N;for(let q=0;q<B.count;q++){const V=q*z;p===!0&&(r.fromBufferAttribute(B,q),D[X+V+0]=r.x,D[X+V+1]=r.y,D[X+V+2]=r.z,D[X+V+3]=0),g===!0&&(r.fromBufferAttribute(G,q),D[X+V+4]=r.x,D[X+V+5]=r.y,D[X+V+6]=r.z,D[X+V+7]=0),y===!0&&(r.fromBufferAttribute(U,q),D[X+V+8]=r.x,D[X+V+9]=r.y,D[X+V+10]=r.z,D[X+V+11]=U.itemSize===4?r.w:1)}}h={count:f,texture:L,size:new Ze(C,E)},n.set(s,h),s.addEventListener("dispose",P)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(i,"morphTexture",o.morphTexture,t);else{let p=0;for(let y=0;y<u.length;y++)p+=u[y];const g=s.morphTargetsRelative?1:1-p;l.getUniforms().setValue(i,"morphTargetBaseInfluence",g),l.getUniforms().setValue(i,"morphTargetInfluences",u)}l.getUniforms().setValue(i,"morphTargetsTexture",h.texture,t),l.getUniforms().setValue(i,"morphTargetsTextureSize",h.size)}return{update:a}}function wse(i,e,t,n){let r=new WeakMap;function a(l){const u=n.render.frame,c=l.geometry,f=e.get(l,c);if(r.get(f)!==u&&(e.update(f),r.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),r.get(l)!==u&&(t.update(l.instanceMatrix,i.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,i.ARRAY_BUFFER),r.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==u&&(h.update(),r.set(h,u))}return f}function o(){r=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:a,dispose:o}}const Ase={[yB]:"LINEAR_TONE_MAPPING",[_B]:"REINHARD_TONE_MAPPING",[xB]:"CINEON_TONE_MAPPING",[KD]:"ACES_FILMIC_TONE_MAPPING",[bB]:"AGX_TONE_MAPPING",[MB]:"NEUTRAL_TONE_MAPPING",[SB]:"CUSTOM_TONE_MAPPING"};function Cse(i,e,t,n,r){const a=new Js(e,t,{type:i,depthBuffer:n,stencilBuffer:r}),o=new Js(e,t,{type:sf,depthBuffer:!1,stencilBuffer:!1}),s=new En;s.setAttribute("position",new Xt([-1,3,0,-1,-1,0,3,-1,0],3)),s.setAttribute("uv",new Xt([0,2,0,0,2,0],2));const l=new KB({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),u=new jr(s,l),c=new ef(-1,1,1,-1,0,1);let f=null,h=null,p=!1,g,y=null,_=[],x=!1;this.setSize=function(M,T){a.setSize(M,T),o.setSize(M,T);for(let C=0;C<_.length;C++){const E=_[C];E.setSize&&E.setSize(M,T)}},this.setEffects=function(M){_=M,x=_.length>0&&_[0].isRenderPass===!0;const T=a.width,C=a.height;for(let E=0;E<_.length;E++){const D=_[E];D.setSize&&D.setSize(T,C)}},this.begin=function(M,T){if(p||M.toneMapping===Hl&&_.length===0)return!1;if(y=T,T!==null){const C=T.width,E=T.height;(a.width!==C||a.height!==E)&&this.setSize(C,E)}return x===!1&&M.setRenderTarget(a),g=M.toneMapping,M.toneMapping=Hl,!0},this.hasRenderPass=function(){return x},this.end=function(M,T){M.toneMapping=g,p=!0;let C=a,E=o;for(let D=0;D<_.length;D++){const L=_[D];if(L.enabled!==!1&&(L.render(M,E,C,T),L.needsSwap!==!1)){const z=C;C=E,E=z}}if(f!==M.outputColorSpace||h!==M.toneMapping){f=M.outputColorSpace,h=M.toneMapping,l.defines={},Jn.getTransfer(f)===Di&&(l.defines.SRGB_TRANSFER="");const D=Ase[h];D&&(l.defines[D]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=C.texture,M.setRenderTarget(y),M.render(u,c),y=null,p=!1},this.isCompositing=function(){return p},this.dispose=function(){a.dispose(),o.dispose(),s.dispose(),l.dispose()}}const oY=new ur,ZN=new a_(1,1),sY=new lR,lY=new uR,uY=new $1,oV=[],sV=[],lV=new Float32Array(16),uV=new Float32Array(9),cV=new Float32Array(4);function R_(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let a=oV[r];if(a===void 0&&(a=new Float32Array(r),oV[r]=a),e!==0){n.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=t,i[o].toArray(a,s)}return a}function Sa(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function ba(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function IR(i,e){let t=sV[e];t===void 0&&(t=new Int32Array(e),sV[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function Ese(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function Dse(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Sa(t,e))return;i.uniform2fv(this.addr,e),ba(t,e)}}function Rse(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Sa(t,e))return;i.uniform3fv(this.addr,e),ba(t,e)}}function Lse(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Sa(t,e))return;i.uniform4fv(this.addr,e),ba(t,e)}}function Ise(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Sa(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),ba(t,e)}else{if(Sa(t,n))return;cV.set(n),i.uniformMatrix2fv(this.addr,!1,cV),ba(t,n)}}function Pse(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Sa(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),ba(t,e)}else{if(Sa(t,n))return;uV.set(n),i.uniformMatrix3fv(this.addr,!1,uV),ba(t,n)}}function Nse(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Sa(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),ba(t,e)}else{if(Sa(t,n))return;lV.set(n),i.uniformMatrix4fv(this.addr,!1,lV),ba(t,n)}}function Ose(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function zse(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Sa(t,e))return;i.uniform2iv(this.addr,e),ba(t,e)}}function Bse(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Sa(t,e))return;i.uniform3iv(this.addr,e),ba(t,e)}}function kse(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Sa(t,e))return;i.uniform4iv(this.addr,e),ba(t,e)}}function Use(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function Fse(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Sa(t,e))return;i.uniform2uiv(this.addr,e),ba(t,e)}}function Vse(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Sa(t,e))return;i.uniform3uiv(this.addr,e),ba(t,e)}}function Gse(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Sa(t,e))return;i.uniform4uiv(this.addr,e),ba(t,e)}}function Hse(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let a;this.type===i.SAMPLER_2D_SHADOW?(ZN.compareFunction=t.isReversedDepthBuffer()?sR:oR,a=ZN):a=oY,t.setTexture2D(e||a,r)}function Wse(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||lY,r)}function Xse(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||uY,r)}function Yse(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||sY,r)}function qse(i){switch(i){case 5126:return Ese;case 35664:return Dse;case 35665:return Rse;case 35666:return Lse;case 35674:return Ise;case 35675:return Pse;case 35676:return Nse;case 5124:case 35670:return Ose;case 35667:case 35671:return zse;case 35668:case 35672:return Bse;case 35669:case 35673:return kse;case 5125:return Use;case 36294:return Fse;case 36295:return Vse;case 36296:return Gse;case 35678:case 36198:case 36298:case 36306:case 35682:return Hse;case 35679:case 36299:case 36307:return Wse;case 35680:case 36300:case 36308:case 36293:return Xse;case 36289:case 36303:case 36311:case 36292:return Yse}}function Zse(i,e){i.uniform1fv(this.addr,e)}function jse(i,e){const t=R_(e,this.size,2);i.uniform2fv(this.addr,t)}function Kse(i,e){const t=R_(e,this.size,3);i.uniform3fv(this.addr,t)}function $se(i,e){const t=R_(e,this.size,4);i.uniform4fv(this.addr,t)}function Qse(i,e){const t=R_(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function Jse(i,e){const t=R_(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function ele(i,e){const t=R_(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function tle(i,e){i.uniform1iv(this.addr,e)}function nle(i,e){i.uniform2iv(this.addr,e)}function ile(i,e){i.uniform3iv(this.addr,e)}function rle(i,e){i.uniform4iv(this.addr,e)}function ale(i,e){i.uniform1uiv(this.addr,e)}function ole(i,e){i.uniform2uiv(this.addr,e)}function sle(i,e){i.uniform3uiv(this.addr,e)}function lle(i,e){i.uniform4uiv(this.addr,e)}function ule(i,e,t){const n=this.cache,r=e.length,a=IR(t,r);Sa(n,a)||(i.uniform1iv(this.addr,a),ba(n,a));let o;this.type===i.SAMPLER_2D_SHADOW?o=ZN:o=oY;for(let s=0;s!==r;++s)t.setTexture2D(e[s]||o,a[s])}function cle(i,e,t){const n=this.cache,r=e.length,a=IR(t,r);Sa(n,a)||(i.uniform1iv(this.addr,a),ba(n,a));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||lY,a[o])}function fle(i,e,t){const n=this.cache,r=e.length,a=IR(t,r);Sa(n,a)||(i.uniform1iv(this.addr,a),ba(n,a));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||uY,a[o])}function hle(i,e,t){const n=this.cache,r=e.length,a=IR(t,r);Sa(n,a)||(i.uniform1iv(this.addr,a),ba(n,a));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||sY,a[o])}function dle(i){switch(i){case 5126:return Zse;case 35664:return jse;case 35665:return Kse;case 35666:return $se;case 35674:return Qse;case 35675:return Jse;case 35676:return ele;case 5124:case 35670:return tle;case 35667:case 35671:return nle;case 35668:case 35672:return ile;case 35669:case 35673:return rle;case 5125:return ale;case 36294:return ole;case 36295:return sle;case 36296:return lle;case 35678:case 36198:case 36298:case 36306:case 35682:return ule;case 35679:case 36299:case 36307:return cle;case 35680:case 36300:case 36308:case 36293:return fle;case 36289:case 36303:case 36311:case 36292:return hle}}class ple{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=qse(t.type)}}class vle{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=dle(t.type)}}class gle{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const s=r[a];s.setValue(e,t[s.id],n)}}}const YI=/(\w+)(\])?(\[|\.)?/g;function fV(i,e){i.seq.push(e),i.map[e.id]=e}function mle(i,e,t){const n=i.name,r=n.length;for(YI.lastIndex=0;;){const a=YI.exec(n),o=YI.lastIndex;let s=a[1];const l=a[2]==="]",u=a[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===r){fV(t,u===void 0?new ple(s,i,e):new vle(s,i,e));break}else{let f=t.map[s];f===void 0&&(f=new gle(s),fV(t,f)),t=f}}}class _C{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let o=0;o<n;++o){const s=e.getActiveUniform(t,o),l=e.getUniformLocation(t,s.name);mle(s,l,this)}const r=[],a=[];for(const o of this.seq)o.type===e.SAMPLER_2D_SHADOW||o.type===e.SAMPLER_CUBE_SHADOW||o.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(o):a.push(o);r.length>0&&(this.seq=r.concat(a))}setValue(e,t,n,r){const a=this.map[t];a!==void 0&&a.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let a=0,o=t.length;a!==o;++a){const s=t[a],l=n[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,a=e.length;r!==a;++r){const o=e[r];o.id in t&&n.push(o)}return n}}function hV(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const yle=37297;let _le=0;function xle(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=r;o<a;o++){const s=o+1;n.push(`${s===e?">":" "} ${s}: ${t[o]}`)}return n.join(`
`)}const dV=new zn;function Sle(i){Jn._getMatrix(dV,Jn.workingColorSpace,i);const e=`mat3( ${dV.elements.map(t=>t.toFixed(4))} )`;switch(Jn.getTransfer(i)){case s1:return[e,"LinearTransferOETF"];case Di:return[e,"sRGBTransferOETF"];default:return At("WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function pV(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),a=(i.getShaderInfoLog(e)||"").trim();if(n&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const s=parseInt(o[1]);return t.toUpperCase()+`

`+a+`

`+xle(i.getShaderSource(e),s)}else return a}function ble(i,e){const t=Sle(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const Mle={[yB]:"Linear",[_B]:"Reinhard",[xB]:"Cineon",[KD]:"ACESFilmic",[bB]:"AgX",[MB]:"Neutral",[SB]:"Custom"};function Tle(i,e){const t=Mle[e];return t===void 0?(At("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+i+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Jw=new re;function wle(){Jn.getLuminanceCoefficients(Jw);const i=Jw.x.toFixed(4),e=Jw.y.toFixed(4),t=Jw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Ale(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(xb).join(`
`)}function Cle(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function Ele(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const a=i.getActiveAttrib(e,r),o=a.name;let s=1;a.type===i.FLOAT_MAT2&&(s=2),a.type===i.FLOAT_MAT3&&(s=3),a.type===i.FLOAT_MAT4&&(s=4),t[o]={type:a.type,location:i.getAttribLocation(e,o),locationSize:s}}return t}function xb(i){return i!==""}function vV(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function gV(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Dle=/^[ \t]*#include +<([\w\d./]+)>/gm;function jN(i){return i.replace(Dle,Lle)}const Rle=new Map;function Lle(i,e){let t=Wn[e];if(t===void 0){const n=Rle.get(e);if(n!==void 0)t=Wn[n],At('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return jN(t)}const Ile=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function mV(i){return i.replace(Ile,Ple)}function Ple(i,e,t,n){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function yV(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const Nle={[U0]:"SHADOWMAP_TYPE_PCF",[Mg]:"SHADOWMAP_TYPE_VSM"};function Ole(i){return Nle[i.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const zle={[of]:"ENVMAP_TYPE_CUBE",[yp]:"ENVMAP_TYPE_CUBE",[A_]:"ENVMAP_TYPE_CUBE_UV"};function Ble(i){return i.envMap===!1?"ENVMAP_TYPE_CUBE":zle[i.envMapMode]||"ENVMAP_TYPE_CUBE"}const kle={[yp]:"ENVMAP_MODE_REFRACTION"};function Ule(i){return i.envMap===!1?"ENVMAP_MODE_REFLECTION":kle[i.envMapMode]||"ENVMAP_MODE_REFLECTION"}const Fle={[j1]:"ENVMAP_BLENDING_MULTIPLY",[Y7]:"ENVMAP_BLENDING_MIX",[q7]:"ENVMAP_BLENDING_ADD"};function Vle(i){return i.envMap===!1?"ENVMAP_BLENDING_NONE":Fle[i.combine]||"ENVMAP_BLENDING_NONE"}function Gle(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function Hle(i,e,t,n){const r=i.getContext(),a=t.defines;let o=t.vertexShader,s=t.fragmentShader;const l=Ole(t),u=Ble(t),c=Ule(t),f=Vle(t),h=Gle(t),p=Ale(t),g=Cle(a),y=r.createProgram();let _,x,M=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(xb).join(`
`),_.length>0&&(_+=`
`),x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(xb).join(`
`),x.length>0&&(x+=`
`)):(_=[yV(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(xb).join(`
`),x=[yV(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Hl?"#define TONE_MAPPING":"",t.toneMapping!==Hl?Wn.tonemapping_pars_fragment:"",t.toneMapping!==Hl?Tle("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Wn.colorspace_pars_fragment,ble("linearToOutputTexel",t.outputColorSpace),wle(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(xb).join(`
`)),o=jN(o),o=vV(o,t),o=gV(o,t),s=jN(s),s=vV(s,t),s=gV(s,t),o=mV(o),s=mV(s),t.isRawShaderMaterial!==!0&&(M=`#version 300 es
`,_=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,x=["#define varying in",t.glslVersion===UN?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===UN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const T=M+_+o,C=M+x+s,E=hV(r,r.VERTEX_SHADER,T),D=hV(r,r.FRAGMENT_SHADER,C);r.attachShader(y,E),r.attachShader(y,D),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y);function L(B){if(i.debug.checkShaderErrors){const G=r.getProgramInfoLog(y)||"",U=r.getShaderInfoLog(E)||"",X=r.getShaderInfoLog(D)||"",q=G.trim(),V=U.trim(),j=X.trim();let K=!0,te=!0;if(r.getProgramParameter(y,r.LINK_STATUS)===!1)if(K=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,y,E,D);else{const ie=pV(r,E,"vertex"),Y=pV(r,D,"fragment");Jt("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+q+`
`+ie+`
`+Y)}else q!==""?At("WebGLProgram: Program Info Log:",q):(V===""||j==="")&&(te=!1);te&&(B.diagnostics={runnable:K,programLog:q,vertexShader:{log:V,prefix:_},fragmentShader:{log:j,prefix:x}})}r.deleteShader(E),r.deleteShader(D),z=new _C(r,y),P=Ele(r,y)}let z;this.getUniforms=function(){return z===void 0&&L(this),z};let P;this.getAttributes=function(){return P===void 0&&L(this),P};let N=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=r.getProgramParameter(y,yle)),N},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=_le++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=D,this}let Wle=0;class Xle{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new Yle(e),t.set(e,n)),n}}class Yle{constructor(e){this.id=Wle++,this.code=e,this.usedTimes=0}}function qle(i,e,t,n,r,a,o){const s=new i_,l=new Xle,u=new Set,c=[],f=new Map,h=r.logarithmicDepthBuffer;let p=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(P){return u.add(P),P===0?"uv":`uv${P}`}function _(P,N,B,G,U){const X=G.fog,q=U.geometry,V=P.isMeshStandardMaterial?G.environment:null,j=(P.isMeshStandardMaterial?t:e).get(P.envMap||V),K=j&&j.mapping===A_?j.image.height:null,te=g[P.type];P.precision!==null&&(p=r.getMaxPrecision(P.precision),p!==P.precision&&At("WebGLProgram.getParameters:",P.precision,"not supported, using",p,"instead."));const ie=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,Y=ie!==void 0?ie.length:0;let ee=0;q.morphAttributes.position!==void 0&&(ee=1),q.morphAttributes.normal!==void 0&&(ee=2),q.morphAttributes.color!==void 0&&(ee=3);let oe,de,Pe,he;if(te){const Bn=Pu[te];oe=Bn.vertexShader,de=Bn.fragmentShader}else oe=P.vertexShader,de=P.fragmentShader,l.update(P),Pe=l.getVertexShaderID(P),he=l.getFragmentShaderID(P);const Se=i.getRenderTarget(),Ee=i.state.buffers.depth.getReversed(),Te=U.isInstancedMesh===!0,He=U.isBatchedMesh===!0,We=!!P.map,Qe=!!P.matcap,yt=!!j,be=!!P.aoMap,Ue=!!P.lightMap,Ie=!!P.bumpMap,$e=!!P.normalMap,ae=!!P.displacementMap,Mt=!!P.emissiveMap,vt=!!P.metalnessMap,Vt=!!P.roughnessMap,ot=P.anisotropy>0,ne=P.clearcoat>0,Z=P.dispersion>0,ve=P.iridescence>0,ke=P.sheen>0,qe=P.transmission>0,Be=ot&&!!P.anisotropyMap,Dt=ne&&!!P.clearcoatMap,ht=ne&&!!P.clearcoatNormalMap,Ft=ne&&!!P.clearcoatRoughnessMap,tn=ve&&!!P.iridescenceMap,et=ve&&!!P.iridescenceThicknessMap,ft=ke&&!!P.sheenColorMap,wt=ke&&!!P.sheenRoughnessMap,se=!!P.specularMap,Me=!!P.specularColorMap,mt=!!P.specularIntensityMap,le=qe&&!!P.transmissionMap,ut=qe&&!!P.thicknessMap,tt=!!P.gradientMap,xt=!!P.alphaMap,nt=P.alphaTest>0,Ye=!!P.alphaHash,ct=!!P.extensions;let $t=Hl;P.toneMapped&&(Se===null||Se.isXRRenderTarget===!0)&&($t=i.toneMapping);const Nn={shaderID:te,shaderType:P.type,shaderName:P.name,vertexShader:oe,fragmentShader:de,defines:P.defines,customVertexShaderID:Pe,customFragmentShaderID:he,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:p,batching:He,batchingColor:He&&U._colorsTexture!==null,instancing:Te,instancingColor:Te&&U.instanceColor!==null,instancingMorph:Te&&U.morphTexture!==null,outputColorSpace:Se===null?i.outputColorSpace:Se.isXRRenderTarget===!0?Se.texture.colorSpace:eo,alphaToCoverage:!!P.alphaToCoverage,map:We,matcap:Qe,envMap:yt,envMapMode:yt&&j.mapping,envMapCubeUVHeight:K,aoMap:be,lightMap:Ue,bumpMap:Ie,normalMap:$e,displacementMap:ae,emissiveMap:Mt,normalMapObjectSpace:$e&&P.normalMapType===eX,normalMapTangentSpace:$e&&P.normalMapType===Ep,metalnessMap:vt,roughnessMap:Vt,anisotropy:ot,anisotropyMap:Be,clearcoat:ne,clearcoatMap:Dt,clearcoatNormalMap:ht,clearcoatRoughnessMap:Ft,dispersion:Z,iridescence:ve,iridescenceMap:tn,iridescenceThicknessMap:et,sheen:ke,sheenColorMap:ft,sheenRoughnessMap:wt,specularMap:se,specularColorMap:Me,specularIntensityMap:mt,transmission:qe,transmissionMap:le,thicknessMap:ut,gradientMap:tt,opaque:P.transparent===!1&&P.blending===Og&&P.alphaToCoverage===!1,alphaMap:xt,alphaTest:nt,alphaHash:Ye,combine:P.combine,mapUv:We&&y(P.map.channel),aoMapUv:be&&y(P.aoMap.channel),lightMapUv:Ue&&y(P.lightMap.channel),bumpMapUv:Ie&&y(P.bumpMap.channel),normalMapUv:$e&&y(P.normalMap.channel),displacementMapUv:ae&&y(P.displacementMap.channel),emissiveMapUv:Mt&&y(P.emissiveMap.channel),metalnessMapUv:vt&&y(P.metalnessMap.channel),roughnessMapUv:Vt&&y(P.roughnessMap.channel),anisotropyMapUv:Be&&y(P.anisotropyMap.channel),clearcoatMapUv:Dt&&y(P.clearcoatMap.channel),clearcoatNormalMapUv:ht&&y(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ft&&y(P.clearcoatRoughnessMap.channel),iridescenceMapUv:tn&&y(P.iridescenceMap.channel),iridescenceThicknessMapUv:et&&y(P.iridescenceThicknessMap.channel),sheenColorMapUv:ft&&y(P.sheenColorMap.channel),sheenRoughnessMapUv:wt&&y(P.sheenRoughnessMap.channel),specularMapUv:se&&y(P.specularMap.channel),specularColorMapUv:Me&&y(P.specularColorMap.channel),specularIntensityMapUv:mt&&y(P.specularIntensityMap.channel),transmissionMapUv:le&&y(P.transmissionMap.channel),thicknessMapUv:ut&&y(P.thicknessMap.channel),alphaMapUv:xt&&y(P.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&($e||ot),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,pointsUvs:U.isPoints===!0&&!!q.attributes.uv&&(We||xt),fog:!!X,useFog:P.fog===!0,fogExp2:!!X&&X.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:Ee,skinning:U.isSkinnedMesh===!0,morphTargets:q.morphAttributes.position!==void 0,morphNormals:q.morphAttributes.normal!==void 0,morphColors:q.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:ee,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:i.shadowMap.enabled&&B.length>0,shadowMapType:i.shadowMap.type,toneMapping:$t,decodeVideoTexture:We&&P.map.isVideoTexture===!0&&Jn.getTransfer(P.map.colorSpace)===Di,decodeVideoTextureEmissive:Mt&&P.emissiveMap.isVideoTexture===!0&&Jn.getTransfer(P.emissiveMap.colorSpace)===Di,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Nu,flipSided:P.side===Qo,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:ct&&P.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ct&&P.extensions.multiDraw===!0||He)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return Nn.vertexUv1s=u.has(1),Nn.vertexUv2s=u.has(2),Nn.vertexUv3s=u.has(3),u.clear(),Nn}function x(P){const N=[];if(P.shaderID?N.push(P.shaderID):(N.push(P.customVertexShaderID),N.push(P.customFragmentShaderID)),P.defines!==void 0)for(const B in P.defines)N.push(B),N.push(P.defines[B]);return P.isRawShaderMaterial===!1&&(M(N,P),T(N,P),N.push(i.outputColorSpace)),N.push(P.customProgramCacheKey),N.join()}function M(P,N){P.push(N.precision),P.push(N.outputColorSpace),P.push(N.envMapMode),P.push(N.envMapCubeUVHeight),P.push(N.mapUv),P.push(N.alphaMapUv),P.push(N.lightMapUv),P.push(N.aoMapUv),P.push(N.bumpMapUv),P.push(N.normalMapUv),P.push(N.displacementMapUv),P.push(N.emissiveMapUv),P.push(N.metalnessMapUv),P.push(N.roughnessMapUv),P.push(N.anisotropyMapUv),P.push(N.clearcoatMapUv),P.push(N.clearcoatNormalMapUv),P.push(N.clearcoatRoughnessMapUv),P.push(N.iridescenceMapUv),P.push(N.iridescenceThicknessMapUv),P.push(N.sheenColorMapUv),P.push(N.sheenRoughnessMapUv),P.push(N.specularMapUv),P.push(N.specularColorMapUv),P.push(N.specularIntensityMapUv),P.push(N.transmissionMapUv),P.push(N.thicknessMapUv),P.push(N.combine),P.push(N.fogExp2),P.push(N.sizeAttenuation),P.push(N.morphTargetsCount),P.push(N.morphAttributeCount),P.push(N.numDirLights),P.push(N.numPointLights),P.push(N.numSpotLights),P.push(N.numSpotLightMaps),P.push(N.numHemiLights),P.push(N.numRectAreaLights),P.push(N.numDirLightShadows),P.push(N.numPointLightShadows),P.push(N.numSpotLightShadows),P.push(N.numSpotLightShadowsWithMaps),P.push(N.numLightProbes),P.push(N.shadowMapType),P.push(N.toneMapping),P.push(N.numClippingPlanes),P.push(N.numClipIntersection),P.push(N.depthPacking)}function T(P,N){s.disableAll(),N.instancing&&s.enable(0),N.instancingColor&&s.enable(1),N.instancingMorph&&s.enable(2),N.matcap&&s.enable(3),N.envMap&&s.enable(4),N.normalMapObjectSpace&&s.enable(5),N.normalMapTangentSpace&&s.enable(6),N.clearcoat&&s.enable(7),N.iridescence&&s.enable(8),N.alphaTest&&s.enable(9),N.vertexColors&&s.enable(10),N.vertexAlphas&&s.enable(11),N.vertexUv1s&&s.enable(12),N.vertexUv2s&&s.enable(13),N.vertexUv3s&&s.enable(14),N.vertexTangents&&s.enable(15),N.anisotropy&&s.enable(16),N.alphaHash&&s.enable(17),N.batching&&s.enable(18),N.dispersion&&s.enable(19),N.batchingColor&&s.enable(20),N.gradientMap&&s.enable(21),P.push(s.mask),s.disableAll(),N.fog&&s.enable(0),N.useFog&&s.enable(1),N.flatShading&&s.enable(2),N.logarithmicDepthBuffer&&s.enable(3),N.reversedDepthBuffer&&s.enable(4),N.skinning&&s.enable(5),N.morphTargets&&s.enable(6),N.morphNormals&&s.enable(7),N.morphColors&&s.enable(8),N.premultipliedAlpha&&s.enable(9),N.shadowMapEnabled&&s.enable(10),N.doubleSided&&s.enable(11),N.flipSided&&s.enable(12),N.useDepthPacking&&s.enable(13),N.dithering&&s.enable(14),N.transmission&&s.enable(15),N.sheen&&s.enable(16),N.opaque&&s.enable(17),N.pointsUvs&&s.enable(18),N.decodeVideoTexture&&s.enable(19),N.decodeVideoTextureEmissive&&s.enable(20),N.alphaToCoverage&&s.enable(21),P.push(s.mask)}function C(P){const N=g[P.type];let B;if(N){const G=Pu[N];B=pX.clone(G.uniforms)}else B=P.uniforms;return B}function E(P,N){let B=f.get(N);return B!==void 0?++B.usedTimes:(B=new Hle(i,N,P,a),c.push(B),f.set(N,B)),B}function D(P){if(--P.usedTimes===0){const N=c.indexOf(P);c[N]=c[c.length-1],c.pop(),f.delete(P.cacheKey),P.destroy()}}function L(P){l.remove(P)}function z(){l.dispose()}return{getParameters:_,getProgramCacheKey:x,getUniforms:C,acquireProgram:E,releaseProgram:D,releaseShaderCache:L,programs:c,dispose:z}}function Zle(){let i=new WeakMap;function e(o){return i.has(o)}function t(o){let s=i.get(o);return s===void 0&&(s={},i.set(o,s)),s}function n(o){i.delete(o)}function r(o,s,l){i.get(o)[s]=l}function a(){i=new WeakMap}return{has:e,get:t,remove:n,update:r,dispose:a}}function jle(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function _V(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function xV(){const i=[];let e=0;const t=[],n=[],r=[];function a(){e=0,t.length=0,n.length=0,r.length=0}function o(f,h,p,g,y,_){let x=i[e];return x===void 0?(x={id:f.id,object:f,geometry:h,material:p,groupOrder:g,renderOrder:f.renderOrder,z:y,group:_},i[e]=x):(x.id=f.id,x.object=f,x.geometry=h,x.material=p,x.groupOrder=g,x.renderOrder=f.renderOrder,x.z=y,x.group=_),e++,x}function s(f,h,p,g,y,_){const x=o(f,h,p,g,y,_);p.transmission>0?n.push(x):p.transparent===!0?r.push(x):t.push(x)}function l(f,h,p,g,y,_){const x=o(f,h,p,g,y,_);p.transmission>0?n.unshift(x):p.transparent===!0?r.unshift(x):t.unshift(x)}function u(f,h){t.length>1&&t.sort(f||jle),n.length>1&&n.sort(h||_V),r.length>1&&r.sort(h||_V)}function c(){for(let f=e,h=i.length;f<h;f++){const p=i[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:n,transparent:r,init:a,push:s,unshift:l,finish:c,sort:u}}function Kle(){let i=new WeakMap;function e(n,r){const a=i.get(n);let o;return a===void 0?(o=new xV,i.set(n,[o])):r>=a.length?(o=new xV,a.push(o)):o=a[r],o}function t(){i=new WeakMap}return{get:e,dispose:t}}function $le(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new re,color:new Et};break;case"SpotLight":t={position:new re,direction:new re,color:new Et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new re,color:new Et,distance:0,decay:0};break;case"HemisphereLight":t={direction:new re,skyColor:new Et,groundColor:new Et};break;case"RectAreaLight":t={color:new Et,position:new re,halfWidth:new re,halfHeight:new re};break}return i[e.id]=t,t}}}function Qle(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ze};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ze};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let Jle=0;function eue(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function tue(i){const e=new $le,t=Qle(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)n.probe.push(new re);const r=new re,a=new hn,o=new hn;function s(u){let c=0,f=0,h=0;for(let P=0;P<9;P++)n.probe[P].set(0,0,0);let p=0,g=0,y=0,_=0,x=0,M=0,T=0,C=0,E=0,D=0,L=0;u.sort(eue);for(let P=0,N=u.length;P<N;P++){const B=u[P],G=B.color,U=B.intensity,X=B.distance;let q=null;if(B.shadow&&B.shadow.map&&(B.shadow.map.texture.format===Yg?q=B.shadow.map.texture:q=B.shadow.map.depthTexture||B.shadow.map.texture),B.isAmbientLight)c+=G.r*U,f+=G.g*U,h+=G.b*U;else if(B.isLightProbe){for(let V=0;V<9;V++)n.probe[V].addScaledVector(B.sh.coefficients[V],U);L++}else if(B.isDirectionalLight){const V=e.get(B);if(V.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const j=B.shadow,K=t.get(B);K.shadowIntensity=j.intensity,K.shadowBias=j.bias,K.shadowNormalBias=j.normalBias,K.shadowRadius=j.radius,K.shadowMapSize=j.mapSize,n.directionalShadow[p]=K,n.directionalShadowMap[p]=q,n.directionalShadowMatrix[p]=B.shadow.matrix,M++}n.directional[p]=V,p++}else if(B.isSpotLight){const V=e.get(B);V.position.setFromMatrixPosition(B.matrixWorld),V.color.copy(G).multiplyScalar(U),V.distance=X,V.coneCos=Math.cos(B.angle),V.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),V.decay=B.decay,n.spot[y]=V;const j=B.shadow;if(B.map&&(n.spotLightMap[E]=B.map,E++,j.updateMatrices(B),B.castShadow&&D++),n.spotLightMatrix[y]=j.matrix,B.castShadow){const K=t.get(B);K.shadowIntensity=j.intensity,K.shadowBias=j.bias,K.shadowNormalBias=j.normalBias,K.shadowRadius=j.radius,K.shadowMapSize=j.mapSize,n.spotShadow[y]=K,n.spotShadowMap[y]=q,C++}y++}else if(B.isRectAreaLight){const V=e.get(B);V.color.copy(G).multiplyScalar(U),V.halfWidth.set(B.width*.5,0,0),V.halfHeight.set(0,B.height*.5,0),n.rectArea[_]=V,_++}else if(B.isPointLight){const V=e.get(B);if(V.color.copy(B.color).multiplyScalar(B.intensity),V.distance=B.distance,V.decay=B.decay,B.castShadow){const j=B.shadow,K=t.get(B);K.shadowIntensity=j.intensity,K.shadowBias=j.bias,K.shadowNormalBias=j.normalBias,K.shadowRadius=j.radius,K.shadowMapSize=j.mapSize,K.shadowCameraNear=j.camera.near,K.shadowCameraFar=j.camera.far,n.pointShadow[g]=K,n.pointShadowMap[g]=q,n.pointShadowMatrix[g]=B.shadow.matrix,T++}n.point[g]=V,g++}else if(B.isHemisphereLight){const V=e.get(B);V.skyColor.copy(B.color).multiplyScalar(U),V.groundColor.copy(B.groundColor).multiplyScalar(U),n.hemi[x]=V,x++}}_>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Rt.LTC_FLOAT_1,n.rectAreaLTC2=Rt.LTC_FLOAT_2):(n.rectAreaLTC1=Rt.LTC_HALF_1,n.rectAreaLTC2=Rt.LTC_HALF_2)),n.ambient[0]=c,n.ambient[1]=f,n.ambient[2]=h;const z=n.hash;(z.directionalLength!==p||z.pointLength!==g||z.spotLength!==y||z.rectAreaLength!==_||z.hemiLength!==x||z.numDirectionalShadows!==M||z.numPointShadows!==T||z.numSpotShadows!==C||z.numSpotMaps!==E||z.numLightProbes!==L)&&(n.directional.length=p,n.spot.length=y,n.rectArea.length=_,n.point.length=g,n.hemi.length=x,n.directionalShadow.length=M,n.directionalShadowMap.length=M,n.pointShadow.length=T,n.pointShadowMap.length=T,n.spotShadow.length=C,n.spotShadowMap.length=C,n.directionalShadowMatrix.length=M,n.pointShadowMatrix.length=T,n.spotLightMatrix.length=C+E-D,n.spotLightMap.length=E,n.numSpotLightShadowsWithMaps=D,n.numLightProbes=L,z.directionalLength=p,z.pointLength=g,z.spotLength=y,z.rectAreaLength=_,z.hemiLength=x,z.numDirectionalShadows=M,z.numPointShadows=T,z.numSpotShadows=C,z.numSpotMaps=E,z.numLightProbes=L,n.version=Jle++)}function l(u,c){let f=0,h=0,p=0,g=0,y=0;const _=c.matrixWorldInverse;for(let x=0,M=u.length;x<M;x++){const T=u[x];if(T.isDirectionalLight){const C=n.directional[f];C.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(_),f++}else if(T.isSpotLight){const C=n.spot[p];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(_),C.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(_),p++}else if(T.isRectAreaLight){const C=n.rectArea[g];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(_),o.identity(),a.copy(T.matrixWorld),a.premultiply(_),o.extractRotation(a),C.halfWidth.set(T.width*.5,0,0),C.halfHeight.set(0,T.height*.5,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),g++}else if(T.isPointLight){const C=n.point[h];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(_),h++}else if(T.isHemisphereLight){const C=n.hemi[y];C.direction.setFromMatrixPosition(T.matrixWorld),C.direction.transformDirection(_),y++}}}return{setup:s,setupView:l,state:n}}function SV(i){const e=new tue(i),t=[],n=[];function r(c){u.camera=c,t.length=0,n.length=0}function a(c){t.push(c)}function o(c){n.push(c)}function s(){e.setup(t)}function l(c){e.setupView(t,c)}const u={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:s,setupLightsView:l,pushLight:a,pushShadow:o}}function nue(i){let e=new WeakMap;function t(r,a=0){const o=e.get(r);let s;return o===void 0?(s=new SV(i),e.set(r,[s])):a>=o.length?(s=new SV(i),o.push(s)):s=o[a],s}function n(){e=new WeakMap}return{get:t,dispose:n}}const iue=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,rue=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,aue=[new re(1,0,0),new re(-1,0,0),new re(0,1,0),new re(0,-1,0),new re(0,0,1),new re(0,0,-1)],oue=[new re(0,-1,0),new re(0,-1,0),new re(0,0,1),new re(0,0,-1),new re(0,-1,0),new re(0,-1,0)],bV=new hn,kS=new re,qI=new re;function sue(i,e,t){let n=new C_;const r=new Ze,a=new Ze,o=new Gi,s=new $B,l=new QB,u={},c=t.maxTextureSize,f={[af]:Qo,[Qo]:af,[Nu]:Nu},h=new ql({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ze},radius:{value:4}},vertexShader:iue,fragmentShader:rue}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const g=new En;g.setAttribute("position",new bi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new jr(g,h),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=U0;let x=this.type;this.render=function(D,L,z){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||D.length===0)return;D.type===Nb&&(At("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),D.type=U0);const P=i.getRenderTarget(),N=i.getActiveCubeFace(),B=i.getActiveMipmapLevel(),G=i.state;G.setBlending(Jc),G.buffers.depth.getReversed()===!0?G.buffers.color.setClear(0,0,0,0):G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const U=x!==this.type;U&&L.traverse(function(X){X.material&&(Array.isArray(X.material)?X.material.forEach(q=>q.needsUpdate=!0):X.material.needsUpdate=!0)});for(let X=0,q=D.length;X<q;X++){const V=D[X],j=V.shadow;if(j===void 0){At("WebGLShadowMap:",V,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;r.copy(j.mapSize);const K=j.getFrameExtents();if(r.multiply(K),a.copy(j.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(a.x=Math.floor(c/K.x),r.x=a.x*K.x,j.mapSize.x=a.x),r.y>c&&(a.y=Math.floor(c/K.y),r.y=a.y*K.y,j.mapSize.y=a.y)),j.map===null||U===!0){if(j.map!==null&&(j.map.depthTexture!==null&&(j.map.depthTexture.dispose(),j.map.depthTexture=null),j.map.dispose()),this.type===Mg){if(V.isPointLight){At("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}j.map=new Js(r.x,r.y,{format:Yg,type:sf,minFilter:ki,magFilter:ki,generateMipmaps:!1}),j.map.texture.name=V.name+".shadowMap",j.map.depthTexture=new a_(r.x,r.y,$o),j.map.depthTexture.name=V.name+".shadowMapDepth",j.map.depthTexture.format=lf,j.map.depthTexture.compareFunction=null,j.map.depthTexture.minFilter=yr,j.map.depthTexture.magFilter=yr}else{V.isPointLight?(j.map=new zB(r.x),j.map.depthTexture=new SX(r.x,Yl)):(j.map=new Js(r.x,r.y),j.map.depthTexture=new a_(r.x,r.y,Yl)),j.map.depthTexture.name=V.name+".shadowMap",j.map.depthTexture.format=lf;const ie=i.state.buffers.depth.getReversed();this.type===U0?(j.map.depthTexture.compareFunction=ie?sR:oR,j.map.depthTexture.minFilter=ki,j.map.depthTexture.magFilter=ki):(j.map.depthTexture.compareFunction=null,j.map.depthTexture.minFilter=yr,j.map.depthTexture.magFilter=yr)}j.camera.updateProjectionMatrix()}const te=j.map.isWebGLCubeRenderTarget?6:1;for(let ie=0;ie<te;ie++){if(j.map.isWebGLCubeRenderTarget)i.setRenderTarget(j.map,ie),i.clear();else{ie===0&&(i.setRenderTarget(j.map),i.clear());const Y=j.getViewport(ie);o.set(a.x*Y.x,a.y*Y.y,a.x*Y.z,a.y*Y.w),G.viewport(o)}if(V.isPointLight){const Y=j.camera,ee=j.matrix,oe=V.distance||Y.far;oe!==Y.far&&(Y.far=oe,Y.updateProjectionMatrix()),kS.setFromMatrixPosition(V.matrixWorld),Y.position.copy(kS),qI.copy(Y.position),qI.add(aue[ie]),Y.up.copy(oue[ie]),Y.lookAt(qI),Y.updateMatrixWorld(),ee.makeTranslation(-kS.x,-kS.y,-kS.z),bV.multiplyMatrices(Y.projectionMatrix,Y.matrixWorldInverse),j._frustum.setFromProjectionMatrix(bV,Y.coordinateSystem,Y.reversedDepth)}else j.updateMatrices(V);n=j.getFrustum(),C(L,z,j.camera,V,this.type)}j.isPointLightShadow!==!0&&this.type===Mg&&M(j,z),j.needsUpdate=!1}x=this.type,_.needsUpdate=!1,i.setRenderTarget(P,N,B)};function M(D,L){const z=e.update(y);h.defines.VSM_SAMPLES!==D.blurSamples&&(h.defines.VSM_SAMPLES=D.blurSamples,p.defines.VSM_SAMPLES=D.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),D.mapPass===null&&(D.mapPass=new Js(r.x,r.y,{format:Yg,type:sf})),h.uniforms.shadow_pass.value=D.map.depthTexture,h.uniforms.resolution.value=D.mapSize,h.uniforms.radius.value=D.radius,i.setRenderTarget(D.mapPass),i.clear(),i.renderBufferDirect(L,null,z,h,y,null),p.uniforms.shadow_pass.value=D.mapPass.texture,p.uniforms.resolution.value=D.mapSize,p.uniforms.radius.value=D.radius,i.setRenderTarget(D.map),i.clear(),i.renderBufferDirect(L,null,z,p,y,null)}function T(D,L,z,P){let N=null;const B=z.isPointLight===!0?D.customDistanceMaterial:D.customDepthMaterial;if(B!==void 0)N=B;else if(N=z.isPointLight===!0?l:s,i.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0||L.alphaToCoverage===!0){const G=N.uuid,U=L.uuid;let X=u[G];X===void 0&&(X={},u[G]=X);let q=X[U];q===void 0&&(q=N.clone(),X[U]=q,L.addEventListener("dispose",E)),N=q}if(N.visible=L.visible,N.wireframe=L.wireframe,P===Mg?N.side=L.shadowSide!==null?L.shadowSide:L.side:N.side=L.shadowSide!==null?L.shadowSide:f[L.side],N.alphaMap=L.alphaMap,N.alphaTest=L.alphaToCoverage===!0?.5:L.alphaTest,N.map=L.map,N.clipShadows=L.clipShadows,N.clippingPlanes=L.clippingPlanes,N.clipIntersection=L.clipIntersection,N.displacementMap=L.displacementMap,N.displacementScale=L.displacementScale,N.displacementBias=L.displacementBias,N.wireframeLinewidth=L.wireframeLinewidth,N.linewidth=L.linewidth,z.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const G=i.properties.get(N);G.light=z}return N}function C(D,L,z,P,N){if(D.visible===!1)return;if(D.layers.test(L.layers)&&(D.isMesh||D.isLine||D.isPoints)&&(D.castShadow||D.receiveShadow&&N===Mg)&&(!D.frustumCulled||n.intersectsObject(D))){D.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,D.matrixWorld);const U=e.update(D),X=D.material;if(Array.isArray(X)){const q=U.groups;for(let V=0,j=q.length;V<j;V++){const K=q[V],te=X[K.materialIndex];if(te&&te.visible){const ie=T(D,te,P,N);D.onBeforeShadow(i,D,L,z,U,ie,K),i.renderBufferDirect(z,null,U,ie,D,K),D.onAfterShadow(i,D,L,z,U,ie,K)}}}else if(X.visible){const q=T(D,X,P,N);D.onBeforeShadow(i,D,L,z,U,q,null),i.renderBufferDirect(z,null,U,q,D,null),D.onAfterShadow(i,D,L,z,U,q,null)}}const G=D.children;for(let U=0,X=G.length;U<X;U++)C(G[U],L,z,P,N)}function E(D){D.target.removeEventListener("dispose",E);for(const z in u){const P=u[z],N=D.target.uuid;N in P&&(P[N].dispose(),delete P[N])}}}const lue={[WC]:XC,[YC]:jC,[qC]:KC,[Xg]:ZC,[XC]:WC,[jC]:YC,[KC]:qC,[ZC]:Xg};function uue(i,e){function t(){let le=!1;const ut=new Gi;let tt=null;const xt=new Gi(0,0,0,0);return{setMask:function(nt){tt!==nt&&!le&&(i.colorMask(nt,nt,nt,nt),tt=nt)},setLocked:function(nt){le=nt},setClear:function(nt,Ye,ct,$t,Nn){Nn===!0&&(nt*=$t,Ye*=$t,ct*=$t),ut.set(nt,Ye,ct,$t),xt.equals(ut)===!1&&(i.clearColor(nt,Ye,ct,$t),xt.copy(ut))},reset:function(){le=!1,tt=null,xt.set(-1,0,0,0)}}}function n(){let le=!1,ut=!1,tt=null,xt=null,nt=null;return{setReversed:function(Ye){if(ut!==Ye){const ct=e.get("EXT_clip_control");Ye?ct.clipControlEXT(ct.LOWER_LEFT_EXT,ct.ZERO_TO_ONE_EXT):ct.clipControlEXT(ct.LOWER_LEFT_EXT,ct.NEGATIVE_ONE_TO_ONE_EXT),ut=Ye;const $t=nt;nt=null,this.setClear($t)}},getReversed:function(){return ut},setTest:function(Ye){Ye?Se(i.DEPTH_TEST):Ee(i.DEPTH_TEST)},setMask:function(Ye){tt!==Ye&&!le&&(i.depthMask(Ye),tt=Ye)},setFunc:function(Ye){if(ut&&(Ye=lue[Ye]),xt!==Ye){switch(Ye){case WC:i.depthFunc(i.NEVER);break;case XC:i.depthFunc(i.ALWAYS);break;case YC:i.depthFunc(i.LESS);break;case Xg:i.depthFunc(i.LEQUAL);break;case qC:i.depthFunc(i.EQUAL);break;case ZC:i.depthFunc(i.GEQUAL);break;case jC:i.depthFunc(i.GREATER);break;case KC:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}xt=Ye}},setLocked:function(Ye){le=Ye},setClear:function(Ye){nt!==Ye&&(ut&&(Ye=1-Ye),i.clearDepth(Ye),nt=Ye)},reset:function(){le=!1,tt=null,xt=null,nt=null,ut=!1}}}function r(){let le=!1,ut=null,tt=null,xt=null,nt=null,Ye=null,ct=null,$t=null,Nn=null;return{setTest:function(Bn){le||(Bn?Se(i.STENCIL_TEST):Ee(i.STENCIL_TEST))},setMask:function(Bn){ut!==Bn&&!le&&(i.stencilMask(Bn),ut=Bn)},setFunc:function(Bn,ji,zr){(tt!==Bn||xt!==ji||nt!==zr)&&(i.stencilFunc(Bn,ji,zr),tt=Bn,xt=ji,nt=zr)},setOp:function(Bn,ji,zr){(Ye!==Bn||ct!==ji||$t!==zr)&&(i.stencilOp(Bn,ji,zr),Ye=Bn,ct=ji,$t=zr)},setLocked:function(Bn){le=Bn},setClear:function(Bn){Nn!==Bn&&(i.clearStencil(Bn),Nn=Bn)},reset:function(){le=!1,ut=null,tt=null,xt=null,nt=null,Ye=null,ct=null,$t=null,Nn=null}}}const a=new t,o=new n,s=new r,l=new WeakMap,u=new WeakMap;let c={},f={},h=new WeakMap,p=[],g=null,y=!1,_=null,x=null,M=null,T=null,C=null,E=null,D=null,L=new Et(0,0,0),z=0,P=!1,N=null,B=null,G=null,U=null,X=null;const q=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let V=!1,j=0;const K=i.getParameter(i.VERSION);K.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(K)[1]),V=j>=1):K.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),V=j>=2);let te=null,ie={};const Y=i.getParameter(i.SCISSOR_BOX),ee=i.getParameter(i.VIEWPORT),oe=new Gi().fromArray(Y),de=new Gi().fromArray(ee);function Pe(le,ut,tt,xt){const nt=new Uint8Array(4),Ye=i.createTexture();i.bindTexture(le,Ye),i.texParameteri(le,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(le,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let ct=0;ct<tt;ct++)le===i.TEXTURE_3D||le===i.TEXTURE_2D_ARRAY?i.texImage3D(ut,0,i.RGBA,1,1,xt,0,i.RGBA,i.UNSIGNED_BYTE,nt):i.texImage2D(ut+ct,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,nt);return Ye}const he={};he[i.TEXTURE_2D]=Pe(i.TEXTURE_2D,i.TEXTURE_2D,1),he[i.TEXTURE_CUBE_MAP]=Pe(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),he[i.TEXTURE_2D_ARRAY]=Pe(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),he[i.TEXTURE_3D]=Pe(i.TEXTURE_3D,i.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),s.setClear(0),Se(i.DEPTH_TEST),o.setFunc(Xg),Ie(!1),$e(PN),Se(i.CULL_FACE),be(Jc);function Se(le){c[le]!==!0&&(i.enable(le),c[le]=!0)}function Ee(le){c[le]!==!1&&(i.disable(le),c[le]=!1)}function Te(le,ut){return f[le]!==ut?(i.bindFramebuffer(le,ut),f[le]=ut,le===i.DRAW_FRAMEBUFFER&&(f[i.FRAMEBUFFER]=ut),le===i.FRAMEBUFFER&&(f[i.DRAW_FRAMEBUFFER]=ut),!0):!1}function He(le,ut){let tt=p,xt=!1;if(le){tt=h.get(ut),tt===void 0&&(tt=[],h.set(ut,tt));const nt=le.textures;if(tt.length!==nt.length||tt[0]!==i.COLOR_ATTACHMENT0){for(let Ye=0,ct=nt.length;Ye<ct;Ye++)tt[Ye]=i.COLOR_ATTACHMENT0+Ye;tt.length=nt.length,xt=!0}}else tt[0]!==i.BACK&&(tt[0]=i.BACK,xt=!0);xt&&i.drawBuffers(tt)}function We(le){return g!==le?(i.useProgram(le),g=le,!0):!1}const Qe={[Kd]:i.FUNC_ADD,[D7]:i.FUNC_SUBTRACT,[R7]:i.FUNC_REVERSE_SUBTRACT};Qe[L7]=i.MIN,Qe[I7]=i.MAX;const yt={[P7]:i.ZERO,[N7]:i.ONE,[O7]:i.SRC_COLOR,[GC]:i.SRC_ALPHA,[V7]:i.SRC_ALPHA_SATURATE,[U7]:i.DST_COLOR,[B7]:i.DST_ALPHA,[z7]:i.ONE_MINUS_SRC_COLOR,[HC]:i.ONE_MINUS_SRC_ALPHA,[F7]:i.ONE_MINUS_DST_COLOR,[k7]:i.ONE_MINUS_DST_ALPHA,[G7]:i.CONSTANT_COLOR,[H7]:i.ONE_MINUS_CONSTANT_COLOR,[W7]:i.CONSTANT_ALPHA,[X7]:i.ONE_MINUS_CONSTANT_ALPHA};function be(le,ut,tt,xt,nt,Ye,ct,$t,Nn,Bn){if(le===Jc){y===!0&&(Ee(i.BLEND),y=!1);return}if(y===!1&&(Se(i.BLEND),y=!0),le!==E7){if(le!==_||Bn!==P){if((x!==Kd||C!==Kd)&&(i.blendEquation(i.FUNC_ADD),x=Kd,C=Kd),Bn)switch(le){case Og:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case NN:i.blendFunc(i.ONE,i.ONE);break;case ON:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case zN:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:Jt("WebGLState: Invalid blending: ",le);break}else switch(le){case Og:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case NN:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case ON:Jt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case zN:Jt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Jt("WebGLState: Invalid blending: ",le);break}M=null,T=null,E=null,D=null,L.set(0,0,0),z=0,_=le,P=Bn}return}nt=nt||ut,Ye=Ye||tt,ct=ct||xt,(ut!==x||nt!==C)&&(i.blendEquationSeparate(Qe[ut],Qe[nt]),x=ut,C=nt),(tt!==M||xt!==T||Ye!==E||ct!==D)&&(i.blendFuncSeparate(yt[tt],yt[xt],yt[Ye],yt[ct]),M=tt,T=xt,E=Ye,D=ct),($t.equals(L)===!1||Nn!==z)&&(i.blendColor($t.r,$t.g,$t.b,Nn),L.copy($t),z=Nn),_=le,P=!1}function Ue(le,ut){le.side===Nu?Ee(i.CULL_FACE):Se(i.CULL_FACE);let tt=le.side===Qo;ut&&(tt=!tt),Ie(tt),le.blending===Og&&le.transparent===!1?be(Jc):be(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.blendColor,le.blendAlpha,le.premultipliedAlpha),o.setFunc(le.depthFunc),o.setTest(le.depthTest),o.setMask(le.depthWrite),a.setMask(le.colorWrite);const xt=le.stencilWrite;s.setTest(xt),xt&&(s.setMask(le.stencilWriteMask),s.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),s.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),Mt(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?Se(i.SAMPLE_ALPHA_TO_COVERAGE):Ee(i.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(le){N!==le&&(le?i.frontFace(i.CW):i.frontFace(i.CCW),N=le)}function $e(le){le!==w7?(Se(i.CULL_FACE),le!==B&&(le===PN?i.cullFace(i.BACK):le===A7?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):Ee(i.CULL_FACE),B=le}function ae(le){le!==G&&(V&&i.lineWidth(le),G=le)}function Mt(le,ut,tt){le?(Se(i.POLYGON_OFFSET_FILL),(U!==ut||X!==tt)&&(i.polygonOffset(ut,tt),U=ut,X=tt)):Ee(i.POLYGON_OFFSET_FILL)}function vt(le){le?Se(i.SCISSOR_TEST):Ee(i.SCISSOR_TEST)}function Vt(le){le===void 0&&(le=i.TEXTURE0+q-1),te!==le&&(i.activeTexture(le),te=le)}function ot(le,ut,tt){tt===void 0&&(te===null?tt=i.TEXTURE0+q-1:tt=te);let xt=ie[tt];xt===void 0&&(xt={type:void 0,texture:void 0},ie[tt]=xt),(xt.type!==le||xt.texture!==ut)&&(te!==tt&&(i.activeTexture(tt),te=tt),i.bindTexture(le,ut||he[le]),xt.type=le,xt.texture=ut)}function ne(){const le=ie[te];le!==void 0&&le.type!==void 0&&(i.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function Z(){try{i.compressedTexImage2D(...arguments)}catch(le){Jt("WebGLState:",le)}}function ve(){try{i.compressedTexImage3D(...arguments)}catch(le){Jt("WebGLState:",le)}}function ke(){try{i.texSubImage2D(...arguments)}catch(le){Jt("WebGLState:",le)}}function qe(){try{i.texSubImage3D(...arguments)}catch(le){Jt("WebGLState:",le)}}function Be(){try{i.compressedTexSubImage2D(...arguments)}catch(le){Jt("WebGLState:",le)}}function Dt(){try{i.compressedTexSubImage3D(...arguments)}catch(le){Jt("WebGLState:",le)}}function ht(){try{i.texStorage2D(...arguments)}catch(le){Jt("WebGLState:",le)}}function Ft(){try{i.texStorage3D(...arguments)}catch(le){Jt("WebGLState:",le)}}function tn(){try{i.texImage2D(...arguments)}catch(le){Jt("WebGLState:",le)}}function et(){try{i.texImage3D(...arguments)}catch(le){Jt("WebGLState:",le)}}function ft(le){oe.equals(le)===!1&&(i.scissor(le.x,le.y,le.z,le.w),oe.copy(le))}function wt(le){de.equals(le)===!1&&(i.viewport(le.x,le.y,le.z,le.w),de.copy(le))}function se(le,ut){let tt=u.get(ut);tt===void 0&&(tt=new WeakMap,u.set(ut,tt));let xt=tt.get(le);xt===void 0&&(xt=i.getUniformBlockIndex(ut,le.name),tt.set(le,xt))}function Me(le,ut){const xt=u.get(ut).get(le);l.get(ut)!==xt&&(i.uniformBlockBinding(ut,xt,le.__bindingPointIndex),l.set(ut,xt))}function mt(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),o.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),c={},te=null,ie={},f={},h=new WeakMap,p=[],g=null,y=!1,_=null,x=null,M=null,T=null,C=null,E=null,D=null,L=new Et(0,0,0),z=0,P=!1,N=null,B=null,G=null,U=null,X=null,oe.set(0,0,i.canvas.width,i.canvas.height),de.set(0,0,i.canvas.width,i.canvas.height),a.reset(),o.reset(),s.reset()}return{buffers:{color:a,depth:o,stencil:s},enable:Se,disable:Ee,bindFramebuffer:Te,drawBuffers:He,useProgram:We,setBlending:be,setMaterial:Ue,setFlipSided:Ie,setCullFace:$e,setLineWidth:ae,setPolygonOffset:Mt,setScissorTest:vt,activeTexture:Vt,bindTexture:ot,unbindTexture:ne,compressedTexImage2D:Z,compressedTexImage3D:ve,texImage2D:tn,texImage3D:et,updateUBOMapping:se,uniformBlockBinding:Me,texStorage2D:ht,texStorage3D:Ft,texSubImage2D:ke,texSubImage3D:qe,compressedTexSubImage2D:Be,compressedTexSubImage3D:Dt,scissor:ft,viewport:wt,reset:mt}}function cue(i,e,t,n,r,a,o){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Ze,c=new WeakMap;let f;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(ne,Z){return p?new OffscreenCanvas(ne,Z):u1("canvas")}function y(ne,Z,ve){let ke=1;const qe=ot(ne);if((qe.width>ve||qe.height>ve)&&(ke=ve/Math.max(qe.width,qe.height)),ke<1)if(typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ne instanceof ImageBitmap||typeof VideoFrame<"u"&&ne instanceof VideoFrame){const Be=Math.floor(ke*qe.width),Dt=Math.floor(ke*qe.height);f===void 0&&(f=g(Be,Dt));const ht=Z?g(Be,Dt):f;return ht.width=Be,ht.height=Dt,ht.getContext("2d").drawImage(ne,0,0,Be,Dt),At("WebGLRenderer: Texture has been resized from ("+qe.width+"x"+qe.height+") to ("+Be+"x"+Dt+")."),ht}else return"data"in ne&&At("WebGLRenderer: Image in DataTexture is too big ("+qe.width+"x"+qe.height+")."),ne;return ne}function _(ne){return ne.generateMipmaps}function x(ne){i.generateMipmap(ne)}function M(ne){return ne.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:ne.isWebGL3DRenderTarget?i.TEXTURE_3D:ne.isWebGLArrayRenderTarget||ne.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function T(ne,Z,ve,ke,qe=!1){if(ne!==null){if(i[ne]!==void 0)return i[ne];At("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let Be=Z;if(Z===i.RED&&(ve===i.FLOAT&&(Be=i.R32F),ve===i.HALF_FLOAT&&(Be=i.R16F),ve===i.UNSIGNED_BYTE&&(Be=i.R8)),Z===i.RED_INTEGER&&(ve===i.UNSIGNED_BYTE&&(Be=i.R8UI),ve===i.UNSIGNED_SHORT&&(Be=i.R16UI),ve===i.UNSIGNED_INT&&(Be=i.R32UI),ve===i.BYTE&&(Be=i.R8I),ve===i.SHORT&&(Be=i.R16I),ve===i.INT&&(Be=i.R32I)),Z===i.RG&&(ve===i.FLOAT&&(Be=i.RG32F),ve===i.HALF_FLOAT&&(Be=i.RG16F),ve===i.UNSIGNED_BYTE&&(Be=i.RG8)),Z===i.RG_INTEGER&&(ve===i.UNSIGNED_BYTE&&(Be=i.RG8UI),ve===i.UNSIGNED_SHORT&&(Be=i.RG16UI),ve===i.UNSIGNED_INT&&(Be=i.RG32UI),ve===i.BYTE&&(Be=i.RG8I),ve===i.SHORT&&(Be=i.RG16I),ve===i.INT&&(Be=i.RG32I)),Z===i.RGB_INTEGER&&(ve===i.UNSIGNED_BYTE&&(Be=i.RGB8UI),ve===i.UNSIGNED_SHORT&&(Be=i.RGB16UI),ve===i.UNSIGNED_INT&&(Be=i.RGB32UI),ve===i.BYTE&&(Be=i.RGB8I),ve===i.SHORT&&(Be=i.RGB16I),ve===i.INT&&(Be=i.RGB32I)),Z===i.RGBA_INTEGER&&(ve===i.UNSIGNED_BYTE&&(Be=i.RGBA8UI),ve===i.UNSIGNED_SHORT&&(Be=i.RGBA16UI),ve===i.UNSIGNED_INT&&(Be=i.RGBA32UI),ve===i.BYTE&&(Be=i.RGBA8I),ve===i.SHORT&&(Be=i.RGBA16I),ve===i.INT&&(Be=i.RGBA32I)),Z===i.RGB&&(ve===i.UNSIGNED_INT_5_9_9_9_REV&&(Be=i.RGB9_E5),ve===i.UNSIGNED_INT_10F_11F_11F_REV&&(Be=i.R11F_G11F_B10F)),Z===i.RGBA){const Dt=qe?s1:Jn.getTransfer(ke);ve===i.FLOAT&&(Be=i.RGBA32F),ve===i.HALF_FLOAT&&(Be=i.RGBA16F),ve===i.UNSIGNED_BYTE&&(Be=Dt===Di?i.SRGB8_ALPHA8:i.RGBA8),ve===i.UNSIGNED_SHORT_4_4_4_4&&(Be=i.RGBA4),ve===i.UNSIGNED_SHORT_5_5_5_1&&(Be=i.RGB5_A1)}return(Be===i.R16F||Be===i.R32F||Be===i.RG16F||Be===i.RG32F||Be===i.RGBA16F||Be===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Be}function C(ne,Z){let ve;return ne?Z===null||Z===Yl||Z===$0?ve=i.DEPTH24_STENCIL8:Z===$o?ve=i.DEPTH32F_STENCIL8:Z===K0&&(ve=i.DEPTH24_STENCIL8,At("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Z===null||Z===Yl||Z===$0?ve=i.DEPTH_COMPONENT24:Z===$o?ve=i.DEPTH_COMPONENT32F:Z===K0&&(ve=i.DEPTH_COMPONENT16),ve}function E(ne,Z){return _(ne)===!0||ne.isFramebufferTexture&&ne.minFilter!==yr&&ne.minFilter!==ki?Math.log2(Math.max(Z.width,Z.height))+1:ne.mipmaps!==void 0&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?Z.mipmaps.length:1}function D(ne){const Z=ne.target;Z.removeEventListener("dispose",D),z(Z),Z.isVideoTexture&&c.delete(Z)}function L(ne){const Z=ne.target;Z.removeEventListener("dispose",L),N(Z)}function z(ne){const Z=n.get(ne);if(Z.__webglInit===void 0)return;const ve=ne.source,ke=h.get(ve);if(ke){const qe=ke[Z.__cacheKey];qe.usedTimes--,qe.usedTimes===0&&P(ne),Object.keys(ke).length===0&&h.delete(ve)}n.remove(ne)}function P(ne){const Z=n.get(ne);i.deleteTexture(Z.__webglTexture);const ve=ne.source,ke=h.get(ve);delete ke[Z.__cacheKey],o.memory.textures--}function N(ne){const Z=n.get(ne);if(ne.depthTexture&&(ne.depthTexture.dispose(),n.remove(ne.depthTexture)),ne.isWebGLCubeRenderTarget)for(let ke=0;ke<6;ke++){if(Array.isArray(Z.__webglFramebuffer[ke]))for(let qe=0;qe<Z.__webglFramebuffer[ke].length;qe++)i.deleteFramebuffer(Z.__webglFramebuffer[ke][qe]);else i.deleteFramebuffer(Z.__webglFramebuffer[ke]);Z.__webglDepthbuffer&&i.deleteRenderbuffer(Z.__webglDepthbuffer[ke])}else{if(Array.isArray(Z.__webglFramebuffer))for(let ke=0;ke<Z.__webglFramebuffer.length;ke++)i.deleteFramebuffer(Z.__webglFramebuffer[ke]);else i.deleteFramebuffer(Z.__webglFramebuffer);if(Z.__webglDepthbuffer&&i.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let ke=0;ke<Z.__webglColorRenderbuffer.length;ke++)Z.__webglColorRenderbuffer[ke]&&i.deleteRenderbuffer(Z.__webglColorRenderbuffer[ke]);Z.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}const ve=ne.textures;for(let ke=0,qe=ve.length;ke<qe;ke++){const Be=n.get(ve[ke]);Be.__webglTexture&&(i.deleteTexture(Be.__webglTexture),o.memory.textures--),n.remove(ve[ke])}n.remove(ne)}let B=0;function G(){B=0}function U(){const ne=B;return ne>=r.maxTextures&&At("WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+r.maxTextures),B+=1,ne}function X(ne){const Z=[];return Z.push(ne.wrapS),Z.push(ne.wrapT),Z.push(ne.wrapR||0),Z.push(ne.magFilter),Z.push(ne.minFilter),Z.push(ne.anisotropy),Z.push(ne.internalFormat),Z.push(ne.format),Z.push(ne.type),Z.push(ne.generateMipmaps),Z.push(ne.premultiplyAlpha),Z.push(ne.flipY),Z.push(ne.unpackAlignment),Z.push(ne.colorSpace),Z.join()}function q(ne,Z){const ve=n.get(ne);if(ne.isVideoTexture&&vt(ne),ne.isRenderTargetTexture===!1&&ne.isExternalTexture!==!0&&ne.version>0&&ve.__version!==ne.version){const ke=ne.image;if(ke===null)At("WebGLRenderer: Texture marked for update but no image data found.");else if(ke.complete===!1)At("WebGLRenderer: Texture marked for update but image is incomplete");else{he(ve,ne,Z);return}}else ne.isExternalTexture&&(ve.__webglTexture=ne.sourceTexture?ne.sourceTexture:null);t.bindTexture(i.TEXTURE_2D,ve.__webglTexture,i.TEXTURE0+Z)}function V(ne,Z){const ve=n.get(ne);if(ne.isRenderTargetTexture===!1&&ne.version>0&&ve.__version!==ne.version){he(ve,ne,Z);return}else ne.isExternalTexture&&(ve.__webglTexture=ne.sourceTexture?ne.sourceTexture:null);t.bindTexture(i.TEXTURE_2D_ARRAY,ve.__webglTexture,i.TEXTURE0+Z)}function j(ne,Z){const ve=n.get(ne);if(ne.isRenderTargetTexture===!1&&ne.version>0&&ve.__version!==ne.version){he(ve,ne,Z);return}t.bindTexture(i.TEXTURE_3D,ve.__webglTexture,i.TEXTURE0+Z)}function K(ne,Z){const ve=n.get(ne);if(ne.isCubeDepthTexture!==!0&&ne.version>0&&ve.__version!==ne.version){Se(ve,ne,Z);return}t.bindTexture(i.TEXTURE_CUBE_MAP,ve.__webglTexture,i.TEXTURE0+Z)}const te={[_p]:i.REPEAT,[Ko]:i.CLAMP_TO_EDGE,[j0]:i.MIRRORED_REPEAT},ie={[yr]:i.NEAREST,[QD]:i.NEAREST_MIPMAP_NEAREST,[Tg]:i.NEAREST_MIPMAP_LINEAR,[ki]:i.LINEAR,[F0]:i.LINEAR_MIPMAP_NEAREST,[Gl]:i.LINEAR_MIPMAP_LINEAR},Y={[tX]:i.NEVER,[oX]:i.ALWAYS,[nX]:i.LESS,[oR]:i.LEQUAL,[iX]:i.EQUAL,[sR]:i.GEQUAL,[rX]:i.GREATER,[aX]:i.NOTEQUAL};function ee(ne,Z){if(Z.type===$o&&e.has("OES_texture_float_linear")===!1&&(Z.magFilter===ki||Z.magFilter===F0||Z.magFilter===Tg||Z.magFilter===Gl||Z.minFilter===ki||Z.minFilter===F0||Z.minFilter===Tg||Z.minFilter===Gl)&&At("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(ne,i.TEXTURE_WRAP_S,te[Z.wrapS]),i.texParameteri(ne,i.TEXTURE_WRAP_T,te[Z.wrapT]),(ne===i.TEXTURE_3D||ne===i.TEXTURE_2D_ARRAY)&&i.texParameteri(ne,i.TEXTURE_WRAP_R,te[Z.wrapR]),i.texParameteri(ne,i.TEXTURE_MAG_FILTER,ie[Z.magFilter]),i.texParameteri(ne,i.TEXTURE_MIN_FILTER,ie[Z.minFilter]),Z.compareFunction&&(i.texParameteri(ne,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(ne,i.TEXTURE_COMPARE_FUNC,Y[Z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Z.magFilter===yr||Z.minFilter!==Tg&&Z.minFilter!==Gl||Z.type===$o&&e.has("OES_texture_float_linear")===!1)return;if(Z.anisotropy>1||n.get(Z).__currentAnisotropy){const ve=e.get("EXT_texture_filter_anisotropic");i.texParameterf(ne,ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,r.getMaxAnisotropy())),n.get(Z).__currentAnisotropy=Z.anisotropy}}}function oe(ne,Z){let ve=!1;ne.__webglInit===void 0&&(ne.__webglInit=!0,Z.addEventListener("dispose",D));const ke=Z.source;let qe=h.get(ke);qe===void 0&&(qe={},h.set(ke,qe));const Be=X(Z);if(Be!==ne.__cacheKey){qe[Be]===void 0&&(qe[Be]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,ve=!0),qe[Be].usedTimes++;const Dt=qe[ne.__cacheKey];Dt!==void 0&&(qe[ne.__cacheKey].usedTimes--,Dt.usedTimes===0&&P(Z)),ne.__cacheKey=Be,ne.__webglTexture=qe[Be].texture}return ve}function de(ne,Z,ve){return Math.floor(Math.floor(ne/ve)/Z)}function Pe(ne,Z,ve,ke){const Be=ne.updateRanges;if(Be.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,Z.width,Z.height,ve,ke,Z.data);else{Be.sort((et,ft)=>et.start-ft.start);let Dt=0;for(let et=1;et<Be.length;et++){const ft=Be[Dt],wt=Be[et],se=ft.start+ft.count,Me=de(wt.start,Z.width,4),mt=de(ft.start,Z.width,4);wt.start<=se+1&&Me===mt&&de(wt.start+wt.count-1,Z.width,4)===Me?ft.count=Math.max(ft.count,wt.start+wt.count-ft.start):(++Dt,Be[Dt]=wt)}Be.length=Dt+1;const ht=i.getParameter(i.UNPACK_ROW_LENGTH),Ft=i.getParameter(i.UNPACK_SKIP_PIXELS),tn=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,Z.width);for(let et=0,ft=Be.length;et<ft;et++){const wt=Be[et],se=Math.floor(wt.start/4),Me=Math.ceil(wt.count/4),mt=se%Z.width,le=Math.floor(se/Z.width),ut=Me,tt=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,mt),i.pixelStorei(i.UNPACK_SKIP_ROWS,le),t.texSubImage2D(i.TEXTURE_2D,0,mt,le,ut,tt,ve,ke,Z.data)}ne.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,ht),i.pixelStorei(i.UNPACK_SKIP_PIXELS,Ft),i.pixelStorei(i.UNPACK_SKIP_ROWS,tn)}}function he(ne,Z,ve){let ke=i.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(ke=i.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(ke=i.TEXTURE_3D);const qe=oe(ne,Z),Be=Z.source;t.bindTexture(ke,ne.__webglTexture,i.TEXTURE0+ve);const Dt=n.get(Be);if(Be.version!==Dt.__version||qe===!0){t.activeTexture(i.TEXTURE0+ve);const ht=Jn.getPrimaries(Jn.workingColorSpace),Ft=Z.colorSpace===hh?null:Jn.getPrimaries(Z.colorSpace),tn=Z.colorSpace===hh||ht===Ft?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,Z.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,Z.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,tn);let et=y(Z.image,!1,r.maxTextureSize);et=Vt(Z,et);const ft=a.convert(Z.format,Z.colorSpace),wt=a.convert(Z.type);let se=T(Z.internalFormat,ft,wt,Z.colorSpace,Z.isVideoTexture);ee(ke,Z);let Me;const mt=Z.mipmaps,le=Z.isVideoTexture!==!0,ut=Dt.__version===void 0||qe===!0,tt=Be.dataReady,xt=E(Z,et);if(Z.isDepthTexture)se=C(Z.format===Jd,Z.type),ut&&(le?t.texStorage2D(i.TEXTURE_2D,1,se,et.width,et.height):t.texImage2D(i.TEXTURE_2D,0,se,et.width,et.height,0,ft,wt,null));else if(Z.isDataTexture)if(mt.length>0){le&&ut&&t.texStorage2D(i.TEXTURE_2D,xt,se,mt[0].width,mt[0].height);for(let nt=0,Ye=mt.length;nt<Ye;nt++)Me=mt[nt],le?tt&&t.texSubImage2D(i.TEXTURE_2D,nt,0,0,Me.width,Me.height,ft,wt,Me.data):t.texImage2D(i.TEXTURE_2D,nt,se,Me.width,Me.height,0,ft,wt,Me.data);Z.generateMipmaps=!1}else le?(ut&&t.texStorage2D(i.TEXTURE_2D,xt,se,et.width,et.height),tt&&Pe(Z,et,ft,wt)):t.texImage2D(i.TEXTURE_2D,0,se,et.width,et.height,0,ft,wt,et.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){le&&ut&&t.texStorage3D(i.TEXTURE_2D_ARRAY,xt,se,mt[0].width,mt[0].height,et.depth);for(let nt=0,Ye=mt.length;nt<Ye;nt++)if(Me=mt[nt],Z.format!==To)if(ft!==null)if(le){if(tt)if(Z.layerUpdates.size>0){const ct=YN(Me.width,Me.height,Z.format,Z.type);for(const $t of Z.layerUpdates){const Nn=Me.data.subarray($t*ct/Me.data.BYTES_PER_ELEMENT,($t+1)*ct/Me.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,nt,0,0,$t,Me.width,Me.height,1,ft,Nn)}Z.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,nt,0,0,0,Me.width,Me.height,et.depth,ft,Me.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,nt,se,Me.width,Me.height,et.depth,0,Me.data,0,0);else At("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else le?tt&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,nt,0,0,0,Me.width,Me.height,et.depth,ft,wt,Me.data):t.texImage3D(i.TEXTURE_2D_ARRAY,nt,se,Me.width,Me.height,et.depth,0,ft,wt,Me.data)}else{le&&ut&&t.texStorage2D(i.TEXTURE_2D,xt,se,mt[0].width,mt[0].height);for(let nt=0,Ye=mt.length;nt<Ye;nt++)Me=mt[nt],Z.format!==To?ft!==null?le?tt&&t.compressedTexSubImage2D(i.TEXTURE_2D,nt,0,0,Me.width,Me.height,ft,Me.data):t.compressedTexImage2D(i.TEXTURE_2D,nt,se,Me.width,Me.height,0,Me.data):At("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):le?tt&&t.texSubImage2D(i.TEXTURE_2D,nt,0,0,Me.width,Me.height,ft,wt,Me.data):t.texImage2D(i.TEXTURE_2D,nt,se,Me.width,Me.height,0,ft,wt,Me.data)}else if(Z.isDataArrayTexture)if(le){if(ut&&t.texStorage3D(i.TEXTURE_2D_ARRAY,xt,se,et.width,et.height,et.depth),tt)if(Z.layerUpdates.size>0){const nt=YN(et.width,et.height,Z.format,Z.type);for(const Ye of Z.layerUpdates){const ct=et.data.subarray(Ye*nt/et.data.BYTES_PER_ELEMENT,(Ye+1)*nt/et.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Ye,et.width,et.height,1,ft,wt,ct)}Z.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,et.width,et.height,et.depth,ft,wt,et.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,se,et.width,et.height,et.depth,0,ft,wt,et.data);else if(Z.isData3DTexture)le?(ut&&t.texStorage3D(i.TEXTURE_3D,xt,se,et.width,et.height,et.depth),tt&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,et.width,et.height,et.depth,ft,wt,et.data)):t.texImage3D(i.TEXTURE_3D,0,se,et.width,et.height,et.depth,0,ft,wt,et.data);else if(Z.isFramebufferTexture){if(ut)if(le)t.texStorage2D(i.TEXTURE_2D,xt,se,et.width,et.height);else{let nt=et.width,Ye=et.height;for(let ct=0;ct<xt;ct++)t.texImage2D(i.TEXTURE_2D,ct,se,nt,Ye,0,ft,wt,null),nt>>=1,Ye>>=1}}else if(mt.length>0){if(le&&ut){const nt=ot(mt[0]);t.texStorage2D(i.TEXTURE_2D,xt,se,nt.width,nt.height)}for(let nt=0,Ye=mt.length;nt<Ye;nt++)Me=mt[nt],le?tt&&t.texSubImage2D(i.TEXTURE_2D,nt,0,0,ft,wt,Me):t.texImage2D(i.TEXTURE_2D,nt,se,ft,wt,Me);Z.generateMipmaps=!1}else if(le){if(ut){const nt=ot(et);t.texStorage2D(i.TEXTURE_2D,xt,se,nt.width,nt.height)}tt&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,ft,wt,et)}else t.texImage2D(i.TEXTURE_2D,0,se,ft,wt,et);_(Z)&&x(ke),Dt.__version=Be.version,Z.onUpdate&&Z.onUpdate(Z)}ne.__version=Z.version}function Se(ne,Z,ve){if(Z.image.length!==6)return;const ke=oe(ne,Z),qe=Z.source;t.bindTexture(i.TEXTURE_CUBE_MAP,ne.__webglTexture,i.TEXTURE0+ve);const Be=n.get(qe);if(qe.version!==Be.__version||ke===!0){t.activeTexture(i.TEXTURE0+ve);const Dt=Jn.getPrimaries(Jn.workingColorSpace),ht=Z.colorSpace===hh?null:Jn.getPrimaries(Z.colorSpace),Ft=Z.colorSpace===hh||Dt===ht?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,Z.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,Z.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ft);const tn=Z.isCompressedTexture||Z.image[0].isCompressedTexture,et=Z.image[0]&&Z.image[0].isDataTexture,ft=[];for(let Ye=0;Ye<6;Ye++)!tn&&!et?ft[Ye]=y(Z.image[Ye],!0,r.maxCubemapSize):ft[Ye]=et?Z.image[Ye].image:Z.image[Ye],ft[Ye]=Vt(Z,ft[Ye]);const wt=ft[0],se=a.convert(Z.format,Z.colorSpace),Me=a.convert(Z.type),mt=T(Z.internalFormat,se,Me,Z.colorSpace),le=Z.isVideoTexture!==!0,ut=Be.__version===void 0||ke===!0,tt=qe.dataReady;let xt=E(Z,wt);ee(i.TEXTURE_CUBE_MAP,Z);let nt;if(tn){le&&ut&&t.texStorage2D(i.TEXTURE_CUBE_MAP,xt,mt,wt.width,wt.height);for(let Ye=0;Ye<6;Ye++){nt=ft[Ye].mipmaps;for(let ct=0;ct<nt.length;ct++){const $t=nt[ct];Z.format!==To?se!==null?le?tt&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ct,0,0,$t.width,$t.height,se,$t.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ct,mt,$t.width,$t.height,0,$t.data):At("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):le?tt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ct,0,0,$t.width,$t.height,se,Me,$t.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ct,mt,$t.width,$t.height,0,se,Me,$t.data)}}}else{if(nt=Z.mipmaps,le&&ut){nt.length>0&&xt++;const Ye=ot(ft[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,xt,mt,Ye.width,Ye.height)}for(let Ye=0;Ye<6;Ye++)if(et){le?tt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,ft[Ye].width,ft[Ye].height,se,Me,ft[Ye].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,mt,ft[Ye].width,ft[Ye].height,0,se,Me,ft[Ye].data);for(let ct=0;ct<nt.length;ct++){const Nn=nt[ct].image[Ye].image;le?tt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ct+1,0,0,Nn.width,Nn.height,se,Me,Nn.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ct+1,mt,Nn.width,Nn.height,0,se,Me,Nn.data)}}else{le?tt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,se,Me,ft[Ye]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,mt,se,Me,ft[Ye]);for(let ct=0;ct<nt.length;ct++){const $t=nt[ct];le?tt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ct+1,0,0,se,Me,$t.image[Ye]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,ct+1,mt,se,Me,$t.image[Ye])}}}_(Z)&&x(i.TEXTURE_CUBE_MAP),Be.__version=qe.version,Z.onUpdate&&Z.onUpdate(Z)}ne.__version=Z.version}function Ee(ne,Z,ve,ke,qe,Be){const Dt=a.convert(ve.format,ve.colorSpace),ht=a.convert(ve.type),Ft=T(ve.internalFormat,Dt,ht,ve.colorSpace),tn=n.get(Z),et=n.get(ve);if(et.__renderTarget=Z,!tn.__hasExternalTextures){const ft=Math.max(1,Z.width>>Be),wt=Math.max(1,Z.height>>Be);qe===i.TEXTURE_3D||qe===i.TEXTURE_2D_ARRAY?t.texImage3D(qe,Be,Ft,ft,wt,Z.depth,0,Dt,ht,null):t.texImage2D(qe,Be,Ft,ft,wt,0,Dt,ht,null)}t.bindFramebuffer(i.FRAMEBUFFER,ne),Mt(Z)?s.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,ke,qe,et.__webglTexture,0,ae(Z)):(qe===i.TEXTURE_2D||qe>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&qe<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,ke,qe,et.__webglTexture,Be),t.bindFramebuffer(i.FRAMEBUFFER,null)}function Te(ne,Z,ve){if(i.bindRenderbuffer(i.RENDERBUFFER,ne),Z.depthBuffer){const ke=Z.depthTexture,qe=ke&&ke.isDepthTexture?ke.type:null,Be=C(Z.stencilBuffer,qe),Dt=Z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;Mt(Z)?s.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ae(Z),Be,Z.width,Z.height):ve?i.renderbufferStorageMultisample(i.RENDERBUFFER,ae(Z),Be,Z.width,Z.height):i.renderbufferStorage(i.RENDERBUFFER,Be,Z.width,Z.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,Dt,i.RENDERBUFFER,ne)}else{const ke=Z.textures;for(let qe=0;qe<ke.length;qe++){const Be=ke[qe],Dt=a.convert(Be.format,Be.colorSpace),ht=a.convert(Be.type),Ft=T(Be.internalFormat,Dt,ht,Be.colorSpace);Mt(Z)?s.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ae(Z),Ft,Z.width,Z.height):ve?i.renderbufferStorageMultisample(i.RENDERBUFFER,ae(Z),Ft,Z.width,Z.height):i.renderbufferStorage(i.RENDERBUFFER,Ft,Z.width,Z.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function He(ne,Z,ve){const ke=Z.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(i.FRAMEBUFFER,ne),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const qe=n.get(Z.depthTexture);if(qe.__renderTarget=Z,(!qe.__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),ke){if(qe.__webglInit===void 0&&(qe.__webglInit=!0,Z.depthTexture.addEventListener("dispose",D)),qe.__webglTexture===void 0){qe.__webglTexture=i.createTexture(),t.bindTexture(i.TEXTURE_CUBE_MAP,qe.__webglTexture),ee(i.TEXTURE_CUBE_MAP,Z.depthTexture);const tn=a.convert(Z.depthTexture.format),et=a.convert(Z.depthTexture.type);let ft;Z.depthTexture.format===lf?ft=i.DEPTH_COMPONENT24:Z.depthTexture.format===Jd&&(ft=i.DEPTH24_STENCIL8);for(let wt=0;wt<6;wt++)i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+wt,0,ft,Z.width,Z.height,0,tn,et,null)}}else q(Z.depthTexture,0);const Be=qe.__webglTexture,Dt=ae(Z),ht=ke?i.TEXTURE_CUBE_MAP_POSITIVE_X+ve:i.TEXTURE_2D,Ft=Z.depthTexture.format===Jd?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;if(Z.depthTexture.format===lf)Mt(Z)?s.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Ft,ht,Be,0,Dt):i.framebufferTexture2D(i.FRAMEBUFFER,Ft,ht,Be,0);else if(Z.depthTexture.format===Jd)Mt(Z)?s.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Ft,ht,Be,0,Dt):i.framebufferTexture2D(i.FRAMEBUFFER,Ft,ht,Be,0);else throw new Error("Unknown depthTexture format")}function We(ne){const Z=n.get(ne),ve=ne.isWebGLCubeRenderTarget===!0;if(Z.__boundDepthTexture!==ne.depthTexture){const ke=ne.depthTexture;if(Z.__depthDisposeCallback&&Z.__depthDisposeCallback(),ke){const qe=()=>{delete Z.__boundDepthTexture,delete Z.__depthDisposeCallback,ke.removeEventListener("dispose",qe)};ke.addEventListener("dispose",qe),Z.__depthDisposeCallback=qe}Z.__boundDepthTexture=ke}if(ne.depthTexture&&!Z.__autoAllocateDepthBuffer)if(ve)for(let ke=0;ke<6;ke++)He(Z.__webglFramebuffer[ke],ne,ke);else{const ke=ne.texture.mipmaps;ke&&ke.length>0?He(Z.__webglFramebuffer[0],ne,0):He(Z.__webglFramebuffer,ne,0)}else if(ve){Z.__webglDepthbuffer=[];for(let ke=0;ke<6;ke++)if(t.bindFramebuffer(i.FRAMEBUFFER,Z.__webglFramebuffer[ke]),Z.__webglDepthbuffer[ke]===void 0)Z.__webglDepthbuffer[ke]=i.createRenderbuffer(),Te(Z.__webglDepthbuffer[ke],ne,!1);else{const qe=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Be=Z.__webglDepthbuffer[ke];i.bindRenderbuffer(i.RENDERBUFFER,Be),i.framebufferRenderbuffer(i.FRAMEBUFFER,qe,i.RENDERBUFFER,Be)}}else{const ke=ne.texture.mipmaps;if(ke&&ke.length>0?t.bindFramebuffer(i.FRAMEBUFFER,Z.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,Z.__webglFramebuffer),Z.__webglDepthbuffer===void 0)Z.__webglDepthbuffer=i.createRenderbuffer(),Te(Z.__webglDepthbuffer,ne,!1);else{const qe=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Be=Z.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Be),i.framebufferRenderbuffer(i.FRAMEBUFFER,qe,i.RENDERBUFFER,Be)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function Qe(ne,Z,ve){const ke=n.get(ne);Z!==void 0&&Ee(ke.__webglFramebuffer,ne,ne.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),ve!==void 0&&We(ne)}function yt(ne){const Z=ne.texture,ve=n.get(ne),ke=n.get(Z);ne.addEventListener("dispose",L);const qe=ne.textures,Be=ne.isWebGLCubeRenderTarget===!0,Dt=qe.length>1;if(Dt||(ke.__webglTexture===void 0&&(ke.__webglTexture=i.createTexture()),ke.__version=Z.version,o.memory.textures++),Be){ve.__webglFramebuffer=[];for(let ht=0;ht<6;ht++)if(Z.mipmaps&&Z.mipmaps.length>0){ve.__webglFramebuffer[ht]=[];for(let Ft=0;Ft<Z.mipmaps.length;Ft++)ve.__webglFramebuffer[ht][Ft]=i.createFramebuffer()}else ve.__webglFramebuffer[ht]=i.createFramebuffer()}else{if(Z.mipmaps&&Z.mipmaps.length>0){ve.__webglFramebuffer=[];for(let ht=0;ht<Z.mipmaps.length;ht++)ve.__webglFramebuffer[ht]=i.createFramebuffer()}else ve.__webglFramebuffer=i.createFramebuffer();if(Dt)for(let ht=0,Ft=qe.length;ht<Ft;ht++){const tn=n.get(qe[ht]);tn.__webglTexture===void 0&&(tn.__webglTexture=i.createTexture(),o.memory.textures++)}if(ne.samples>0&&Mt(ne)===!1){ve.__webglMultisampledFramebuffer=i.createFramebuffer(),ve.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,ve.__webglMultisampledFramebuffer);for(let ht=0;ht<qe.length;ht++){const Ft=qe[ht];ve.__webglColorRenderbuffer[ht]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,ve.__webglColorRenderbuffer[ht]);const tn=a.convert(Ft.format,Ft.colorSpace),et=a.convert(Ft.type),ft=T(Ft.internalFormat,tn,et,Ft.colorSpace,ne.isXRRenderTarget===!0),wt=ae(ne);i.renderbufferStorageMultisample(i.RENDERBUFFER,wt,ft,ne.width,ne.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ht,i.RENDERBUFFER,ve.__webglColorRenderbuffer[ht])}i.bindRenderbuffer(i.RENDERBUFFER,null),ne.depthBuffer&&(ve.__webglDepthRenderbuffer=i.createRenderbuffer(),Te(ve.__webglDepthRenderbuffer,ne,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Be){t.bindTexture(i.TEXTURE_CUBE_MAP,ke.__webglTexture),ee(i.TEXTURE_CUBE_MAP,Z);for(let ht=0;ht<6;ht++)if(Z.mipmaps&&Z.mipmaps.length>0)for(let Ft=0;Ft<Z.mipmaps.length;Ft++)Ee(ve.__webglFramebuffer[ht][Ft],ne,Z,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+ht,Ft);else Ee(ve.__webglFramebuffer[ht],ne,Z,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0);_(Z)&&x(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Dt){for(let ht=0,Ft=qe.length;ht<Ft;ht++){const tn=qe[ht],et=n.get(tn);let ft=i.TEXTURE_2D;(ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(ft=ne.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(ft,et.__webglTexture),ee(ft,tn),Ee(ve.__webglFramebuffer,ne,tn,i.COLOR_ATTACHMENT0+ht,ft,0),_(tn)&&x(ft)}t.unbindTexture()}else{let ht=i.TEXTURE_2D;if((ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(ht=ne.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(ht,ke.__webglTexture),ee(ht,Z),Z.mipmaps&&Z.mipmaps.length>0)for(let Ft=0;Ft<Z.mipmaps.length;Ft++)Ee(ve.__webglFramebuffer[Ft],ne,Z,i.COLOR_ATTACHMENT0,ht,Ft);else Ee(ve.__webglFramebuffer,ne,Z,i.COLOR_ATTACHMENT0,ht,0);_(Z)&&x(ht),t.unbindTexture()}ne.depthBuffer&&We(ne)}function be(ne){const Z=ne.textures;for(let ve=0,ke=Z.length;ve<ke;ve++){const qe=Z[ve];if(_(qe)){const Be=M(ne),Dt=n.get(qe).__webglTexture;t.bindTexture(Be,Dt),x(Be),t.unbindTexture()}}}const Ue=[],Ie=[];function $e(ne){if(ne.samples>0){if(Mt(ne)===!1){const Z=ne.textures,ve=ne.width,ke=ne.height;let qe=i.COLOR_BUFFER_BIT;const Be=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Dt=n.get(ne),ht=Z.length>1;if(ht)for(let tn=0;tn<Z.length;tn++)t.bindFramebuffer(i.FRAMEBUFFER,Dt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+tn,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,Dt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+tn,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,Dt.__webglMultisampledFramebuffer);const Ft=ne.texture.mipmaps;Ft&&Ft.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,Dt.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,Dt.__webglFramebuffer);for(let tn=0;tn<Z.length;tn++){if(ne.resolveDepthBuffer&&(ne.depthBuffer&&(qe|=i.DEPTH_BUFFER_BIT),ne.stencilBuffer&&ne.resolveStencilBuffer&&(qe|=i.STENCIL_BUFFER_BIT)),ht){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,Dt.__webglColorRenderbuffer[tn]);const et=n.get(Z[tn]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,et,0)}i.blitFramebuffer(0,0,ve,ke,0,0,ve,ke,qe,i.NEAREST),l===!0&&(Ue.length=0,Ie.length=0,Ue.push(i.COLOR_ATTACHMENT0+tn),ne.depthBuffer&&ne.resolveDepthBuffer===!1&&(Ue.push(Be),Ie.push(Be),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Ie)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,Ue))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),ht)for(let tn=0;tn<Z.length;tn++){t.bindFramebuffer(i.FRAMEBUFFER,Dt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+tn,i.RENDERBUFFER,Dt.__webglColorRenderbuffer[tn]);const et=n.get(Z[tn]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,Dt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+tn,i.TEXTURE_2D,et,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,Dt.__webglMultisampledFramebuffer)}else if(ne.depthBuffer&&ne.resolveDepthBuffer===!1&&l){const Z=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[Z])}}}function ae(ne){return Math.min(r.maxSamples,ne.samples)}function Mt(ne){const Z=n.get(ne);return ne.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function vt(ne){const Z=o.render.frame;c.get(ne)!==Z&&(c.set(ne,Z),ne.update())}function Vt(ne,Z){const ve=ne.colorSpace,ke=ne.format,qe=ne.type;return ne.isCompressedTexture===!0||ne.isVideoTexture===!0||ve!==eo&&ve!==hh&&(Jn.getTransfer(ve)===Di?(ke!==To||qe!==Zo)&&At("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Jt("WebGLTextures: Unsupported texture color space:",ve)),Z}function ot(ne){return typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement?(u.width=ne.naturalWidth||ne.width,u.height=ne.naturalHeight||ne.height):typeof VideoFrame<"u"&&ne instanceof VideoFrame?(u.width=ne.displayWidth,u.height=ne.displayHeight):(u.width=ne.width,u.height=ne.height),u}this.allocateTextureUnit=U,this.resetTextureUnits=G,this.setTexture2D=q,this.setTexture2DArray=V,this.setTexture3D=j,this.setTextureCube=K,this.rebindTextures=Qe,this.setupRenderTarget=yt,this.updateRenderTargetMipmap=be,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=We,this.setupFrameBufferTexture=Ee,this.useMultisampledRTT=Mt,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function cY(i,e){function t(n,r=hh){let a;const o=Jn.getTransfer(r);if(n===Zo)return i.UNSIGNED_BYTE;if(n===eR)return i.UNSIGNED_SHORT_4_4_4_4;if(n===tR)return i.UNSIGNED_SHORT_5_5_5_1;if(n===AB)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===CB)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===TB)return i.BYTE;if(n===wB)return i.SHORT;if(n===K0)return i.UNSIGNED_SHORT;if(n===JD)return i.INT;if(n===Yl)return i.UNSIGNED_INT;if(n===$o)return i.FLOAT;if(n===sf)return i.HALF_FLOAT;if(n===EB)return i.ALPHA;if(n===DB)return i.RGB;if(n===To)return i.RGBA;if(n===lf)return i.DEPTH_COMPONENT;if(n===Jd)return i.DEPTH_STENCIL;if(n===nR)return i.RED;if(n===K1)return i.RED_INTEGER;if(n===Yg)return i.RG;if(n===iR)return i.RG_INTEGER;if(n===rR)return i.RGBA_INTEGER;if(n===Ob||n===zb||n===Bb||n===kb)if(o===Di)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(n===Ob)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===zb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Bb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===kb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(n===Ob)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===zb)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Bb)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===kb)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===$C||n===QC||n===JC||n===eE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(n===$C)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===QC)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===JC)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===eE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===tE||n===nE||n===iE||n===rE||n===aE||n===oE||n===sE)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(n===tE||n===nE)return o===Di?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===iE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(n===rE)return a.COMPRESSED_R11_EAC;if(n===aE)return a.COMPRESSED_SIGNED_R11_EAC;if(n===oE)return a.COMPRESSED_RG11_EAC;if(n===sE)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(n===lE||n===uE||n===cE||n===fE||n===hE||n===dE||n===pE||n===vE||n===gE||n===mE||n===yE||n===_E||n===xE||n===SE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(n===lE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===uE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===cE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===fE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===hE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===dE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===pE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===vE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===gE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===mE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===yE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===_E)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===xE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===SE)return o===Di?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===bE||n===ME||n===TE)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(n===bE)return o===Di?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===ME)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===TE)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===wE||n===AE||n===CE||n===EE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(n===wE)return a.COMPRESSED_RED_RGTC1_EXT;if(n===AE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===CE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===EE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===$0?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const fue=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,hue=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class due{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new HB(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new ql({vertexShader:fue,fragmentShader:hue,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new jr(new E_(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class pue extends vf{constructor(e,t){super();const n=this;let r=null,a=1,o=null,s="local-floor",l=1,u=null,c=null,f=null,h=null,p=null,g=null;const y=typeof XRWebGLBinding<"u",_=new due,x={},M=t.getContextAttributes();let T=null,C=null;const E=[],D=[],L=new Ze;let z=null;const P=new Lr;P.viewport=new Gi;const N=new Lr;N.viewport=new Gi;const B=[P,N],G=new JX;let U=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(he){let Se=E[he];return Se===void 0&&(Se=new yC,E[he]=Se),Se.getTargetRaySpace()},this.getControllerGrip=function(he){let Se=E[he];return Se===void 0&&(Se=new yC,E[he]=Se),Se.getGripSpace()},this.getHand=function(he){let Se=E[he];return Se===void 0&&(Se=new yC,E[he]=Se),Se.getHandSpace()};function q(he){const Se=D.indexOf(he.inputSource);if(Se===-1)return;const Ee=E[Se];Ee!==void 0&&(Ee.update(he.inputSource,he.frame,u||o),Ee.dispatchEvent({type:he.type,data:he.inputSource}))}function V(){r.removeEventListener("select",q),r.removeEventListener("selectstart",q),r.removeEventListener("selectend",q),r.removeEventListener("squeeze",q),r.removeEventListener("squeezestart",q),r.removeEventListener("squeezeend",q),r.removeEventListener("end",V),r.removeEventListener("inputsourceschange",j);for(let he=0;he<E.length;he++){const Se=D[he];Se!==null&&(D[he]=null,E[he].disconnect(Se))}U=null,X=null,_.reset();for(const he in x)delete x[he];e.setRenderTarget(T),p=null,h=null,f=null,r=null,C=null,Pe.stop(),n.isPresenting=!1,e.setPixelRatio(z),e.setSize(L.width,L.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(he){a=he,n.isPresenting===!0&&At("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(he){s=he,n.isPresenting===!0&&At("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(he){u=he},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f===null&&y&&(f=new XRWebGLBinding(r,t)),f},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(he){if(r=he,r!==null){if(T=e.getRenderTarget(),r.addEventListener("select",q),r.addEventListener("selectstart",q),r.addEventListener("selectend",q),r.addEventListener("squeeze",q),r.addEventListener("squeezestart",q),r.addEventListener("squeezeend",q),r.addEventListener("end",V),r.addEventListener("inputsourceschange",j),M.xrCompatible!==!0&&await t.makeXRCompatible(),z=e.getPixelRatio(),e.getSize(L),y&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ee=null,Te=null,He=null;M.depth&&(He=M.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ee=M.stencil?Jd:lf,Te=M.stencil?$0:Yl);const We={colorFormat:t.RGBA8,depthFormat:He,scaleFactor:a};f=this.getBinding(),h=f.createProjectionLayer(We),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),C=new Js(h.textureWidth,h.textureHeight,{format:To,type:Zo,depthTexture:new a_(h.textureWidth,h.textureHeight,Te,void 0,void 0,void 0,void 0,void 0,void 0,Ee),stencilBuffer:M.stencil,colorSpace:e.outputColorSpace,samples:M.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const Ee={antialias:M.antialias,alpha:!0,depth:M.depth,stencil:M.stencil,framebufferScaleFactor:a};p=new XRWebGLLayer(r,t,Ee),r.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),C=new Js(p.framebufferWidth,p.framebufferHeight,{format:To,type:Zo,colorSpace:e.outputColorSpace,stencilBuffer:M.stencil,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(s),Pe.setContext(r),Pe.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};function j(he){for(let Se=0;Se<he.removed.length;Se++){const Ee=he.removed[Se],Te=D.indexOf(Ee);Te>=0&&(D[Te]=null,E[Te].disconnect(Ee))}for(let Se=0;Se<he.added.length;Se++){const Ee=he.added[Se];let Te=D.indexOf(Ee);if(Te===-1){for(let We=0;We<E.length;We++)if(We>=D.length){D.push(Ee),Te=We;break}else if(D[We]===null){D[We]=Ee,Te=We;break}if(Te===-1)break}const He=E[Te];He&&He.connect(Ee)}}const K=new re,te=new re;function ie(he,Se,Ee){K.setFromMatrixPosition(Se.matrixWorld),te.setFromMatrixPosition(Ee.matrixWorld);const Te=K.distanceTo(te),He=Se.projectionMatrix.elements,We=Ee.projectionMatrix.elements,Qe=He[14]/(He[10]-1),yt=He[14]/(He[10]+1),be=(He[9]+1)/He[5],Ue=(He[9]-1)/He[5],Ie=(He[8]-1)/He[0],$e=(We[8]+1)/We[0],ae=Qe*Ie,Mt=Qe*$e,vt=Te/(-Ie+$e),Vt=vt*-Ie;if(Se.matrixWorld.decompose(he.position,he.quaternion,he.scale),he.translateX(Vt),he.translateZ(vt),he.matrixWorld.compose(he.position,he.quaternion,he.scale),he.matrixWorldInverse.copy(he.matrixWorld).invert(),He[10]===-1)he.projectionMatrix.copy(Se.projectionMatrix),he.projectionMatrixInverse.copy(Se.projectionMatrixInverse);else{const ot=Qe+vt,ne=yt+vt,Z=ae-Vt,ve=Mt+(Te-Vt),ke=be*yt/ne*ot,qe=Ue*yt/ne*ot;he.projectionMatrix.makePerspective(Z,ve,ke,qe,ot,ne),he.projectionMatrixInverse.copy(he.projectionMatrix).invert()}}function Y(he,Se){Se===null?he.matrixWorld.copy(he.matrix):he.matrixWorld.multiplyMatrices(Se.matrixWorld,he.matrix),he.matrixWorldInverse.copy(he.matrixWorld).invert()}this.updateCamera=function(he){if(r===null)return;let Se=he.near,Ee=he.far;_.texture!==null&&(_.depthNear>0&&(Se=_.depthNear),_.depthFar>0&&(Ee=_.depthFar)),G.near=N.near=P.near=Se,G.far=N.far=P.far=Ee,(U!==G.near||X!==G.far)&&(r.updateRenderState({depthNear:G.near,depthFar:G.far}),U=G.near,X=G.far),G.layers.mask=he.layers.mask|6,P.layers.mask=G.layers.mask&3,N.layers.mask=G.layers.mask&5;const Te=he.parent,He=G.cameras;Y(G,Te);for(let We=0;We<He.length;We++)Y(He[We],Te);He.length===2?ie(G,P,N):G.projectionMatrix.copy(P.projectionMatrix),ee(he,G,Te)};function ee(he,Se,Ee){Ee===null?he.matrix.copy(Se.matrixWorld):(he.matrix.copy(Ee.matrixWorld),he.matrix.invert(),he.matrix.multiply(Se.matrixWorld)),he.matrix.decompose(he.position,he.quaternion,he.scale),he.updateMatrixWorld(!0),he.projectionMatrix.copy(Se.projectionMatrix),he.projectionMatrixInverse.copy(Se.projectionMatrixInverse),he.isPerspectiveCamera&&(he.fov=n_*2*Math.atan(1/he.projectionMatrix.elements[5]),he.zoom=1)}this.getCamera=function(){return G},this.getFoveation=function(){if(!(h===null&&p===null))return l},this.setFoveation=function(he){l=he,h!==null&&(h.fixedFoveation=he),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=he)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(G)},this.getCameraTexture=function(he){return x[he]};let oe=null;function de(he,Se){if(c=Se.getViewerPose(u||o),g=Se,c!==null){const Ee=c.views;p!==null&&(e.setRenderTargetFramebuffer(C,p.framebuffer),e.setRenderTarget(C));let Te=!1;Ee.length!==G.cameras.length&&(G.cameras.length=0,Te=!0);for(let yt=0;yt<Ee.length;yt++){const be=Ee[yt];let Ue=null;if(p!==null)Ue=p.getViewport(be);else{const $e=f.getViewSubImage(h,be);Ue=$e.viewport,yt===0&&(e.setRenderTargetTextures(C,$e.colorTexture,$e.depthStencilTexture),e.setRenderTarget(C))}let Ie=B[yt];Ie===void 0&&(Ie=new Lr,Ie.layers.enable(yt),Ie.viewport=new Gi,B[yt]=Ie),Ie.matrix.fromArray(be.transform.matrix),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.projectionMatrix.fromArray(be.projectionMatrix),Ie.projectionMatrixInverse.copy(Ie.projectionMatrix).invert(),Ie.viewport.set(Ue.x,Ue.y,Ue.width,Ue.height),yt===0&&(G.matrix.copy(Ie.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale)),Te===!0&&G.cameras.push(Ie)}const He=r.enabledFeatures;if(He&&He.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&y){f=n.getBinding();const yt=f.getDepthInformation(Ee[0]);yt&&yt.isValid&&yt.texture&&_.init(yt,r.renderState)}if(He&&He.includes("camera-access")&&y){e.state.unbindTexture(),f=n.getBinding();for(let yt=0;yt<Ee.length;yt++){const be=Ee[yt].camera;if(be){let Ue=x[be];Ue||(Ue=new HB,x[be]=Ue);const Ie=f.getCameraImage(be);Ue.sourceTexture=Ie}}}}for(let Ee=0;Ee<E.length;Ee++){const Te=D[Ee],He=E[Ee];Te!==null&&He!==void 0&&He.update(Te,Se,u||o)}oe&&oe(he,Se),Se.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:Se}),g=null}const Pe=new aY;Pe.setAnimationLoop(de),this.setAnimationLoop=function(he){oe=he},this.dispose=function(){}}}const Ov=new tl,vue=new hn;function gue(i,e){function t(_,x){_.matrixAutoUpdate===!0&&_.updateMatrix(),x.value.copy(_.matrix)}function n(_,x){x.color.getRGB(_.fogColor.value,dX(i)),x.isFog?(_.fogNear.value=x.near,_.fogFar.value=x.far):x.isFogExp2&&(_.fogDensity.value=x.density)}function r(_,x,M,T,C){x.isMeshBasicMaterial||x.isMeshLambertMaterial?a(_,x):x.isMeshToonMaterial?(a(_,x),f(_,x)):x.isMeshPhongMaterial?(a(_,x),c(_,x)):x.isMeshStandardMaterial?(a(_,x),h(_,x),x.isMeshPhysicalMaterial&&p(_,x,C)):x.isMeshMatcapMaterial?(a(_,x),g(_,x)):x.isMeshDepthMaterial?a(_,x):x.isMeshDistanceMaterial?(a(_,x),y(_,x)):x.isMeshNormalMaterial?a(_,x):x.isLineBasicMaterial?(o(_,x),x.isLineDashedMaterial&&s(_,x)):x.isPointsMaterial?l(_,x,M,T):x.isSpriteMaterial?u(_,x):x.isShadowMaterial?(_.color.value.copy(x.color),_.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function a(_,x){_.opacity.value=x.opacity,x.color&&_.diffuse.value.copy(x.color),x.emissive&&_.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(_.map.value=x.map,t(x.map,_.mapTransform)),x.alphaMap&&(_.alphaMap.value=x.alphaMap,t(x.alphaMap,_.alphaMapTransform)),x.bumpMap&&(_.bumpMap.value=x.bumpMap,t(x.bumpMap,_.bumpMapTransform),_.bumpScale.value=x.bumpScale,x.side===Qo&&(_.bumpScale.value*=-1)),x.normalMap&&(_.normalMap.value=x.normalMap,t(x.normalMap,_.normalMapTransform),_.normalScale.value.copy(x.normalScale),x.side===Qo&&_.normalScale.value.negate()),x.displacementMap&&(_.displacementMap.value=x.displacementMap,t(x.displacementMap,_.displacementMapTransform),_.displacementScale.value=x.displacementScale,_.displacementBias.value=x.displacementBias),x.emissiveMap&&(_.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,_.emissiveMapTransform)),x.specularMap&&(_.specularMap.value=x.specularMap,t(x.specularMap,_.specularMapTransform)),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest);const M=e.get(x),T=M.envMap,C=M.envMapRotation;T&&(_.envMap.value=T,Ov.copy(C),Ov.x*=-1,Ov.y*=-1,Ov.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Ov.y*=-1,Ov.z*=-1),_.envMapRotation.value.setFromMatrix4(vue.makeRotationFromEuler(Ov)),_.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=x.reflectivity,_.ior.value=x.ior,_.refractionRatio.value=x.refractionRatio),x.lightMap&&(_.lightMap.value=x.lightMap,_.lightMapIntensity.value=x.lightMapIntensity,t(x.lightMap,_.lightMapTransform)),x.aoMap&&(_.aoMap.value=x.aoMap,_.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,_.aoMapTransform))}function o(_,x){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity,x.map&&(_.map.value=x.map,t(x.map,_.mapTransform))}function s(_,x){_.dashSize.value=x.dashSize,_.totalSize.value=x.dashSize+x.gapSize,_.scale.value=x.scale}function l(_,x,M,T){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity,_.size.value=x.size*M,_.scale.value=T*.5,x.map&&(_.map.value=x.map,t(x.map,_.uvTransform)),x.alphaMap&&(_.alphaMap.value=x.alphaMap,t(x.alphaMap,_.alphaMapTransform)),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest)}function u(_,x){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity,_.rotation.value=x.rotation,x.map&&(_.map.value=x.map,t(x.map,_.mapTransform)),x.alphaMap&&(_.alphaMap.value=x.alphaMap,t(x.alphaMap,_.alphaMapTransform)),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest)}function c(_,x){_.specular.value.copy(x.specular),_.shininess.value=Math.max(x.shininess,1e-4)}function f(_,x){x.gradientMap&&(_.gradientMap.value=x.gradientMap)}function h(_,x){_.metalness.value=x.metalness,x.metalnessMap&&(_.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,_.metalnessMapTransform)),_.roughness.value=x.roughness,x.roughnessMap&&(_.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,_.roughnessMapTransform)),x.envMap&&(_.envMapIntensity.value=x.envMapIntensity)}function p(_,x,M){_.ior.value=x.ior,x.sheen>0&&(_.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),_.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(_.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,_.sheenColorMapTransform)),x.sheenRoughnessMap&&(_.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,_.sheenRoughnessMapTransform))),x.clearcoat>0&&(_.clearcoat.value=x.clearcoat,_.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(_.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,_.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(_.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===Qo&&_.clearcoatNormalScale.value.negate())),x.dispersion>0&&(_.dispersion.value=x.dispersion),x.iridescence>0&&(_.iridescence.value=x.iridescence,_.iridescenceIOR.value=x.iridescenceIOR,_.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(_.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,_.iridescenceMapTransform)),x.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),x.transmission>0&&(_.transmission.value=x.transmission,_.transmissionSamplerMap.value=M.texture,_.transmissionSamplerSize.value.set(M.width,M.height),x.transmissionMap&&(_.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,_.transmissionMapTransform)),_.thickness.value=x.thickness,x.thicknessMap&&(_.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=x.attenuationDistance,_.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(_.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(_.anisotropyMap.value=x.anisotropyMap,t(x.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=x.specularIntensity,_.specularColor.value.copy(x.specularColor),x.specularColorMap&&(_.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,_.specularColorMapTransform)),x.specularIntensityMap&&(_.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,_.specularIntensityMapTransform))}function g(_,x){x.matcap&&(_.matcap.value=x.matcap)}function y(_,x){const M=e.get(x).light;_.referencePosition.value.setFromMatrixPosition(M.matrixWorld),_.nearDistance.value=M.shadow.camera.near,_.farDistance.value=M.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function mue(i,e,t,n){let r={},a={},o=[];const s=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function l(M,T){const C=T.program;n.uniformBlockBinding(M,C)}function u(M,T){let C=r[M.id];C===void 0&&(g(M),C=c(M),r[M.id]=C,M.addEventListener("dispose",_));const E=T.program;n.updateUBOMapping(M,E);const D=e.render.frame;a[M.id]!==D&&(h(M),a[M.id]=D)}function c(M){const T=f();M.__bindingPointIndex=T;const C=i.createBuffer(),E=M.__size,D=M.usage;return i.bindBuffer(i.UNIFORM_BUFFER,C),i.bufferData(i.UNIFORM_BUFFER,E,D),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,T,C),C}function f(){for(let M=0;M<s;M++)if(o.indexOf(M)===-1)return o.push(M),M;return Jt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(M){const T=r[M.id],C=M.uniforms,E=M.__cache;i.bindBuffer(i.UNIFORM_BUFFER,T);for(let D=0,L=C.length;D<L;D++){const z=Array.isArray(C[D])?C[D]:[C[D]];for(let P=0,N=z.length;P<N;P++){const B=z[P];if(p(B,D,P,E)===!0){const G=B.__offset,U=Array.isArray(B.value)?B.value:[B.value];let X=0;for(let q=0;q<U.length;q++){const V=U[q],j=y(V);typeof V=="number"||typeof V=="boolean"?(B.__data[0]=V,i.bufferSubData(i.UNIFORM_BUFFER,G+X,B.__data)):V.isMatrix3?(B.__data[0]=V.elements[0],B.__data[1]=V.elements[1],B.__data[2]=V.elements[2],B.__data[3]=0,B.__data[4]=V.elements[3],B.__data[5]=V.elements[4],B.__data[6]=V.elements[5],B.__data[7]=0,B.__data[8]=V.elements[6],B.__data[9]=V.elements[7],B.__data[10]=V.elements[8],B.__data[11]=0):(V.toArray(B.__data,X),X+=j.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,G,B.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function p(M,T,C,E){const D=M.value,L=T+"_"+C;if(E[L]===void 0)return typeof D=="number"||typeof D=="boolean"?E[L]=D:E[L]=D.clone(),!0;{const z=E[L];if(typeof D=="number"||typeof D=="boolean"){if(z!==D)return E[L]=D,!0}else if(z.equals(D)===!1)return z.copy(D),!0}return!1}function g(M){const T=M.uniforms;let C=0;const E=16;for(let L=0,z=T.length;L<z;L++){const P=Array.isArray(T[L])?T[L]:[T[L]];for(let N=0,B=P.length;N<B;N++){const G=P[N],U=Array.isArray(G.value)?G.value:[G.value];for(let X=0,q=U.length;X<q;X++){const V=U[X],j=y(V),K=C%E,te=K%j.boundary,ie=K+te;C+=te,ie!==0&&E-ie<j.storage&&(C+=E-ie),G.__data=new Float32Array(j.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=C,C+=j.storage}}}const D=C%E;return D>0&&(C+=E-D),M.__size=C,M.__cache={},this}function y(M){const T={boundary:0,storage:0};return typeof M=="number"||typeof M=="boolean"?(T.boundary=4,T.storage=4):M.isVector2?(T.boundary=8,T.storage=8):M.isVector3||M.isColor?(T.boundary=16,T.storage=12):M.isVector4?(T.boundary=16,T.storage=16):M.isMatrix3?(T.boundary=48,T.storage=48):M.isMatrix4?(T.boundary=64,T.storage=64):M.isTexture?At("WebGLRenderer: Texture samplers can not be part of an uniforms group."):At("WebGLRenderer: Unsupported uniform value type.",M),T}function _(M){const T=M.target;T.removeEventListener("dispose",_);const C=o.indexOf(T.__bindingPointIndex);o.splice(C,1),i.deleteBuffer(r[T.id]),delete r[T.id],delete a[T.id]}function x(){for(const M in r)i.deleteBuffer(r[M]);o=[],r={},a={}}return{bind:l,update:u,dispose:x}}const yue=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Ic=null;function _ue(){return Ic===null&&(Ic=new ku(yue,16,16,Yg,sf),Ic.name="DFG_LUT",Ic.minFilter=ki,Ic.magFilter=ki,Ic.wrapS=Ko,Ic.wrapT=Ko,Ic.generateMipmaps=!1,Ic.needsUpdate=!0),Ic}class fY{constructor(e={}){const{canvas:t=uX(),context:n=null,depth:r=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:h=!1,outputBufferType:p=Zo}=e;this.isWebGLRenderer=!0;let g;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=n.getContextAttributes().alpha}else g=o;const y=p,_=new Set([rR,iR,K1]),x=new Set([Zo,Yl,K0,$0,eR,tR]),M=new Uint32Array(4),T=new Int32Array(4);let C=null,E=null;const D=[],L=[];let z=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Hl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const P=this;let N=!1;this._outputColorSpace=Yr;let B=0,G=0,U=null,X=-1,q=null;const V=new Gi,j=new Gi;let K=null;const te=new Et(0);let ie=0,Y=t.width,ee=t.height,oe=1,de=null,Pe=null;const he=new Gi(0,0,Y,ee),Se=new Gi(0,0,Y,ee);let Ee=!1;const Te=new C_;let He=!1,We=!1;const Qe=new hn,yt=new re,be=new Gi,Ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ie=!1;function $e(){return U===null?oe:1}let ae=n;function Mt(Q,me){return t.getContext(Q,me)}try{const Q={alpha:!0,depth:r,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${jD}`),t.addEventListener("webglcontextlost",$t,!1),t.addEventListener("webglcontextrestored",Nn,!1),t.addEventListener("webglcontextcreationerror",Bn,!1),ae===null){const me="webgl2";if(ae=Mt(me,Q),ae===null)throw Mt(me)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Q){throw Jt("WebGLRenderer: "+Q.message),Q}let vt,Vt,ot,ne,Z,ve,ke,qe,Be,Dt,ht,Ft,tn,et,ft,wt,se,Me,mt,le,ut,tt,xt,nt;function Ye(){vt=new xse(ae),vt.init(),tt=new cY(ae,vt),Vt=new fse(ae,vt,e,tt),ot=new uue(ae,vt),Vt.reversedDepthBuffer&&h&&ot.buffers.depth.setReversed(!0),ne=new Mse(ae),Z=new Zle,ve=new cue(ae,vt,ot,Z,Vt,tt,ne),ke=new dse(P),qe=new _se(P),Be=new Cre(ae),xt=new use(ae,Be),Dt=new Sse(ae,Be,ne,xt),ht=new wse(ae,Dt,Be,ne),mt=new Tse(ae,Vt,ve),wt=new hse(Z),Ft=new qle(P,ke,qe,vt,Vt,xt,wt),tn=new gue(P,Z),et=new Kle,ft=new nue(vt),Me=new lse(P,ke,qe,ot,ht,g,l),se=new sue(P,ht,Vt),nt=new mue(ae,ne,Vt,ot),le=new cse(ae,vt,ne),ut=new bse(ae,vt,ne),ne.programs=Ft.programs,P.capabilities=Vt,P.extensions=vt,P.properties=Z,P.renderLists=et,P.shadowMap=se,P.state=ot,P.info=ne}Ye(),y!==Zo&&(z=new Cse(y,t.width,t.height,r,a));const ct=new pue(P,ae);this.xr=ct,this.getContext=function(){return ae},this.getContextAttributes=function(){return ae.getContextAttributes()},this.forceContextLoss=function(){const Q=vt.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=vt.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return oe},this.setPixelRatio=function(Q){Q!==void 0&&(oe=Q,this.setSize(Y,ee,!1))},this.getSize=function(Q){return Q.set(Y,ee)},this.setSize=function(Q,me,Ne=!0){if(ct.isPresenting){At("WebGLRenderer: Can't change size while VR device is presenting.");return}Y=Q,ee=me,t.width=Math.floor(Q*oe),t.height=Math.floor(me*oe),Ne===!0&&(t.style.width=Q+"px",t.style.height=me+"px"),z!==null&&z.setSize(t.width,t.height),this.setViewport(0,0,Q,me)},this.getDrawingBufferSize=function(Q){return Q.set(Y*oe,ee*oe).floor()},this.setDrawingBufferSize=function(Q,me,Ne){Y=Q,ee=me,oe=Ne,t.width=Math.floor(Q*Ne),t.height=Math.floor(me*Ne),this.setViewport(0,0,Q,me)},this.setEffects=function(Q){if(y===Zo){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(Q){for(let me=0;me<Q.length;me++)if(Q[me].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}z.setEffects(Q||[])},this.getCurrentViewport=function(Q){return Q.copy(V)},this.getViewport=function(Q){return Q.copy(he)},this.setViewport=function(Q,me,Ne,De){Q.isVector4?he.set(Q.x,Q.y,Q.z,Q.w):he.set(Q,me,Ne,De),ot.viewport(V.copy(he).multiplyScalar(oe).round())},this.getScissor=function(Q){return Q.copy(Se)},this.setScissor=function(Q,me,Ne,De){Q.isVector4?Se.set(Q.x,Q.y,Q.z,Q.w):Se.set(Q,me,Ne,De),ot.scissor(j.copy(Se).multiplyScalar(oe).round())},this.getScissorTest=function(){return Ee},this.setScissorTest=function(Q){ot.setScissorTest(Ee=Q)},this.setOpaqueSort=function(Q){de=Q},this.setTransparentSort=function(Q){Pe=Q},this.getClearColor=function(Q){return Q.copy(Me.getClearColor())},this.setClearColor=function(){Me.setClearColor(...arguments)},this.getClearAlpha=function(){return Me.getClearAlpha()},this.setClearAlpha=function(){Me.setClearAlpha(...arguments)},this.clear=function(Q=!0,me=!0,Ne=!0){let De=0;if(Q){let _e=!1;if(U!==null){const dt=U.texture.format;_e=_.has(dt)}if(_e){const dt=U.texture.type,Pt=x.has(dt),lt=Me.getClearColor(),Gt=Me.getClearAlpha(),Wt=lt.r,rn=lt.g,Yt=lt.b;Pt?(M[0]=Wt,M[1]=rn,M[2]=Yt,M[3]=Gt,ae.clearBufferuiv(ae.COLOR,0,M)):(T[0]=Wt,T[1]=rn,T[2]=Yt,T[3]=Gt,ae.clearBufferiv(ae.COLOR,0,T))}else De|=ae.COLOR_BUFFER_BIT}me&&(De|=ae.DEPTH_BUFFER_BIT),Ne&&(De|=ae.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ae.clear(De)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",$t,!1),t.removeEventListener("webglcontextrestored",Nn,!1),t.removeEventListener("webglcontextcreationerror",Bn,!1),Me.dispose(),et.dispose(),ft.dispose(),Z.dispose(),ke.dispose(),qe.dispose(),ht.dispose(),xt.dispose(),nt.dispose(),Ft.dispose(),ct.dispose(),ct.removeEventListener("sessionstart",iu),ct.removeEventListener("sessionend",xf),wa.stop()};function $t(Q){Q.preventDefault(),c1("WebGLRenderer: Context Lost."),N=!0}function Nn(){c1("WebGLRenderer: Context Restored."),N=!1;const Q=ne.autoReset,me=se.enabled,Ne=se.autoUpdate,De=se.needsUpdate,_e=se.type;Ye(),ne.autoReset=Q,se.enabled=me,se.autoUpdate=Ne,se.needsUpdate=De,se.type=_e}function Bn(Q){Jt("WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function ji(Q){const me=Q.target;me.removeEventListener("dispose",ji),zr(me)}function zr(Q){$u(Q),Z.remove(Q)}function $u(Q){const me=Z.get(Q).programs;me!==void 0&&(me.forEach(function(Ne){Ft.releaseProgram(Ne)}),Q.isShaderMaterial&&Ft.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,me,Ne,De,_e,dt){me===null&&(me=Ue);const Pt=_e.isMesh&&_e.matrixWorld.determinant()<0,lt=Ls(Q,me,Ne,De,_e);ot.setMaterial(De,Pt);let Gt=Ne.index,Wt=1;if(De.wireframe===!0){if(Gt=Dt.getWireframeAttribute(Ne),Gt===void 0)return;Wt=2}const rn=Ne.drawRange,Yt=Ne.attributes.position;let un=rn.start*Wt,li=(rn.start+rn.count)*Wt;dt!==null&&(un=Math.max(un,dt.start*Wt),li=Math.min(li,(dt.start+dt.count)*Wt)),Gt!==null?(un=Math.max(un,0),li=Math.min(li,Gt.count)):Yt!=null&&(un=Math.max(un,0),li=Math.min(li,Yt.count));const Ii=li-un;if(Ii<0||Ii===1/0)return;xt.setup(_e,De,lt,Ne,Gt);let wi,wn=le;if(Gt!==null&&(wi=Be.get(Gt),wn=ut,wn.setIndex(wi)),_e.isMesh)De.wireframe===!0?(ot.setLineWidth(De.wireframeLinewidth*$e()),wn.setMode(ae.LINES)):wn.setMode(ae.TRIANGLES);else if(_e.isLine){let Tt=De.linewidth;Tt===void 0&&(Tt=1),ot.setLineWidth(Tt*$e()),_e.isLineSegments?wn.setMode(ae.LINES):_e.isLineLoop?wn.setMode(ae.LINE_LOOP):wn.setMode(ae.LINE_STRIP)}else _e.isPoints?wn.setMode(ae.POINTS):_e.isSprite&&wn.setMode(ae.TRIANGLES);if(_e.isBatchedMesh)if(_e._multiDrawInstances!==null)t_("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),wn.renderMultiDrawInstances(_e._multiDrawStarts,_e._multiDrawCounts,_e._multiDrawCount,_e._multiDrawInstances);else if(vt.get("WEBGL_multi_draw"))wn.renderMultiDraw(_e._multiDrawStarts,_e._multiDrawCounts,_e._multiDrawCount);else{const Tt=_e._multiDrawStarts,ai=_e._multiDrawCounts,pn=_e._multiDrawCount,br=Gt?Be.get(Gt).bytesPerElement:1,Is=Z.get(De).currentProgram.getUniforms();for(let Fi=0;Fi<pn;Fi++)Is.setValue(ae,"_gl_DrawID",Fi),wn.render(Tt[Fi]/br,ai[Fi])}else if(_e.isInstancedMesh)wn.renderInstances(un,Ii,_e.count);else if(Ne.isInstancedBufferGeometry){const Tt=Ne._maxInstanceCount!==void 0?Ne._maxInstanceCount:1/0,ai=Math.min(Ne.instanceCount,Tt);wn.renderInstances(un,Ii,ai)}else wn.render(un,Ii)};function Qu(Q,me,Ne){Q.transparent===!0&&Q.side===Nu&&Q.forceSinglePass===!1?(Q.side=Qo,Q.needsUpdate=!0,Lo(Q,me,Ne),Q.side=af,Q.needsUpdate=!0,Lo(Q,me,Ne),Q.side=Nu):Lo(Q,me,Ne)}this.compile=function(Q,me,Ne=null){Ne===null&&(Ne=Q),E=ft.get(Ne),E.init(me),L.push(E),Ne.traverseVisible(function(_e){_e.isLight&&_e.layers.test(me.layers)&&(E.pushLight(_e),_e.castShadow&&E.pushShadow(_e))}),Q!==Ne&&Q.traverseVisible(function(_e){_e.isLight&&_e.layers.test(me.layers)&&(E.pushLight(_e),_e.castShadow&&E.pushShadow(_e))}),E.setupLights();const De=new Set;return Q.traverse(function(_e){if(!(_e.isMesh||_e.isPoints||_e.isLine||_e.isSprite))return;const dt=_e.material;if(dt)if(Array.isArray(dt))for(let Pt=0;Pt<dt.length;Pt++){const lt=dt[Pt];Qu(lt,Ne,_e),De.add(lt)}else Qu(dt,Ne,_e),De.add(dt)}),E=L.pop(),De},this.compileAsync=function(Q,me,Ne=null){const De=this.compile(Q,me,Ne);return new Promise(_e=>{function dt(){if(De.forEach(function(Pt){Z.get(Pt).currentProgram.isReady()&&De.delete(Pt)}),De.size===0){_e(Q);return}setTimeout(dt,10)}vt.get("KHR_parallel_shader_compile")!==null?dt():setTimeout(dt,10)})};let _f=null;function Ju(Q){_f&&_f(Q)}function iu(){wa.stop()}function xf(){wa.start()}const wa=new aY;wa.setAnimationLoop(Ju),typeof self<"u"&&wa.setContext(self),this.setAnimationLoop=function(Q){_f=Q,ct.setAnimationLoop(Q),Q===null?wa.stop():wa.start()},ct.addEventListener("sessionstart",iu),ct.addEventListener("sessionend",xf),this.render=function(Q,me){if(me!==void 0&&me.isCamera!==!0){Jt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;const Ne=ct.enabled===!0&&ct.isPresenting===!0,De=z!==null&&(U===null||Ne)&&z.begin(P,U);if(Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),me.parent===null&&me.matrixWorldAutoUpdate===!0&&me.updateMatrixWorld(),ct.enabled===!0&&ct.isPresenting===!0&&(z===null||z.isCompositing()===!1)&&(ct.cameraAutoUpdate===!0&&ct.updateCamera(me),me=ct.getCamera()),Q.isScene===!0&&Q.onBeforeRender(P,Q,me,U),E=ft.get(Q,L.length),E.init(me),L.push(E),Qe.multiplyMatrices(me.projectionMatrix,me.matrixWorldInverse),Te.setFromProjectionMatrix(Qe,Ys,me.reversedDepth),We=this.localClippingEnabled,He=wt.init(this.clippingPlanes,We),C=et.get(Q,D.length),C.init(),D.push(C),ct.enabled===!0&&ct.isPresenting===!0){const Pt=P.xr.getDepthSensingMesh();Pt!==null&&Eo(Pt,me,-1/0,P.sortObjects)}Eo(Q,me,0,P.sortObjects),C.finish(),P.sortObjects===!0&&C.sort(de,Pe),Ie=ct.enabled===!1||ct.isPresenting===!1||ct.hasDepthSensing()===!1,Ie&&Me.addToRenderList(C,Q),this.info.render.frame++,He===!0&&wt.beginShadows();const _e=E.state.shadowsArray;if(se.render(_e,Q,me),He===!0&&wt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(De&&z.hasRenderPass())===!1){const Pt=C.opaque,lt=C.transmissive;if(E.setupLights(),me.isArrayCamera){const Gt=me.cameras;if(lt.length>0)for(let Wt=0,rn=Gt.length;Wt<rn;Wt++){const Yt=Gt[Wt];Br(Pt,lt,Q,Yt)}Ie&&Me.render(Q);for(let Wt=0,rn=Gt.length;Wt<rn;Wt++){const Yt=Gt[Wt];Ki(C,Q,Yt,Yt.viewport)}}else lt.length>0&&Br(Pt,lt,Q,me),Ie&&Me.render(Q),Ki(C,Q,me)}U!==null&&G===0&&(ve.updateMultisampleRenderTarget(U),ve.updateRenderTargetMipmap(U)),De&&z.end(P),Q.isScene===!0&&Q.onAfterRender(P,Q,me),xt.resetDefaultState(),X=-1,q=null,L.pop(),L.length>0?(E=L[L.length-1],He===!0&&wt.setGlobalState(P.clippingPlanes,E.state.camera)):E=null,D.pop(),D.length>0?C=D[D.length-1]:C=null};function Eo(Q,me,Ne,De){if(Q.visible===!1)return;if(Q.layers.test(me.layers)){if(Q.isGroup)Ne=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(me);else if(Q.isLight)E.pushLight(Q),Q.castShadow&&E.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||Te.intersectsSprite(Q)){De&&be.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(Qe);const Pt=ht.update(Q),lt=Q.material;lt.visible&&C.push(Q,Pt,lt,Ne,be.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(!Q.frustumCulled||Te.intersectsObject(Q))){const Pt=ht.update(Q),lt=Q.material;if(De&&(Q.boundingSphere!==void 0?(Q.boundingSphere===null&&Q.computeBoundingSphere(),be.copy(Q.boundingSphere.center)):(Pt.boundingSphere===null&&Pt.computeBoundingSphere(),be.copy(Pt.boundingSphere.center)),be.applyMatrix4(Q.matrixWorld).applyMatrix4(Qe)),Array.isArray(lt)){const Gt=Pt.groups;for(let Wt=0,rn=Gt.length;Wt<rn;Wt++){const Yt=Gt[Wt],un=lt[Yt.materialIndex];un&&un.visible&&C.push(Q,Pt,un,Ne,be.z,Yt)}}else lt.visible&&C.push(Q,Pt,lt,Ne,be.z,null)}}const dt=Q.children;for(let Pt=0,lt=dt.length;Pt<lt;Pt++)Eo(dt[Pt],me,Ne,De)}function Ki(Q,me,Ne,De){const{opaque:_e,transmissive:dt,transparent:Pt}=Q;E.setupLightsView(Ne),He===!0&&wt.setGlobalState(P.clippingPlanes,Ne),De&&ot.viewport(V.copy(De)),_e.length>0&&Do(_e,me,Ne),dt.length>0&&Do(dt,me,Ne),Pt.length>0&&Do(Pt,me,Ne),ot.buffers.depth.setTest(!0),ot.buffers.depth.setMask(!0),ot.buffers.color.setMask(!0),ot.setPolygonOffset(!1)}function Br(Q,me,Ne,De){if((Ne.isScene===!0?Ne.overrideMaterial:null)!==null)return;if(E.state.transmissionRenderTarget[De.id]===void 0){const un=vt.has("EXT_color_buffer_half_float")||vt.has("EXT_color_buffer_float");E.state.transmissionRenderTarget[De.id]=new Js(1,1,{generateMipmaps:!0,type:un?sf:Zo,minFilter:Gl,samples:Vt.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Jn.workingColorSpace})}const dt=E.state.transmissionRenderTarget[De.id],Pt=De.viewport||V;dt.setSize(Pt.z*P.transmissionResolutionScale,Pt.w*P.transmissionResolutionScale);const lt=P.getRenderTarget(),Gt=P.getActiveCubeFace(),Wt=P.getActiveMipmapLevel();P.setRenderTarget(dt),P.getClearColor(te),ie=P.getClearAlpha(),ie<1&&P.setClearColor(16777215,.5),P.clear(),Ie&&Me.render(Ne);const rn=P.toneMapping;P.toneMapping=Hl;const Yt=De.viewport;if(De.viewport!==void 0&&(De.viewport=void 0),E.setupLightsView(De),He===!0&&wt.setGlobalState(P.clippingPlanes,De),Do(Q,Ne,De),ve.updateMultisampleRenderTarget(dt),ve.updateRenderTargetMipmap(dt),vt.has("WEBGL_multisampled_render_to_texture")===!1){let un=!1;for(let li=0,Ii=me.length;li<Ii;li++){const wi=me[li],{object:wn,geometry:Tt,material:ai,group:pn}=wi;if(ai.side===Nu&&wn.layers.test(De.layers)){const br=ai.side;ai.side=Qo,ai.needsUpdate=!0,Ro(wn,Ne,De,Tt,ai,pn),ai.side=br,ai.needsUpdate=!0,un=!0}}un===!0&&(ve.updateMultisampleRenderTarget(dt),ve.updateRenderTargetMipmap(dt))}P.setRenderTarget(lt,Gt,Wt),P.setClearColor(te,ie),Yt!==void 0&&(De.viewport=Yt),P.toneMapping=rn}function Do(Q,me,Ne){const De=me.isScene===!0?me.overrideMaterial:null;for(let _e=0,dt=Q.length;_e<dt;_e++){const Pt=Q[_e],{object:lt,geometry:Gt,group:Wt}=Pt;let rn=Pt.material;rn.allowOverride===!0&&De!==null&&(rn=De),lt.layers.test(Ne.layers)&&Ro(lt,me,Ne,Gt,rn,Wt)}}function Ro(Q,me,Ne,De,_e,dt){Q.onBeforeRender(P,me,Ne,De,_e,dt),Q.modelViewMatrix.multiplyMatrices(Ne.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),_e.onBeforeRender(P,me,Ne,De,Q,dt),_e.transparent===!0&&_e.side===Nu&&_e.forceSinglePass===!1?(_e.side=Qo,_e.needsUpdate=!0,P.renderBufferDirect(Ne,me,De,_e,Q,dt),_e.side=af,_e.needsUpdate=!0,P.renderBufferDirect(Ne,me,De,_e,Q,dt),_e.side=Nu):P.renderBufferDirect(Ne,me,De,_e,Q,dt),Q.onAfterRender(P,me,Ne,De,_e,dt)}function Lo(Q,me,Ne){me.isScene!==!0&&(me=Ue);const De=Z.get(Q),_e=E.state.lights,dt=E.state.shadowsArray,Pt=_e.state.version,lt=Ft.getParameters(Q,_e.state,dt,me,Ne),Gt=Ft.getProgramCacheKey(lt);let Wt=De.programs;De.environment=Q.isMeshStandardMaterial?me.environment:null,De.fog=me.fog,De.envMap=(Q.isMeshStandardMaterial?qe:ke).get(Q.envMap||De.environment),De.envMapRotation=De.environment!==null&&Q.envMap===null?me.environmentRotation:Q.envMapRotation,Wt===void 0&&(Q.addEventListener("dispose",ji),Wt=new Map,De.programs=Wt);let rn=Wt.get(Gt);if(rn!==void 0){if(De.currentProgram===rn&&De.lightsStateVersion===Pt)return Sf(Q,lt),rn}else lt.uniforms=Ft.getUniforms(Q),Q.onBeforeCompile(lt,P),rn=Ft.acquireProgram(lt,Gt),Wt.set(Gt,rn),De.uniforms=lt.uniforms;const Yt=De.uniforms;return(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&(Yt.clippingPlanes=wt.uniform),Sf(Q,lt),De.needsLights=au(Q),De.lightsStateVersion=Pt,De.needsLights&&(Yt.ambientLightColor.value=_e.state.ambient,Yt.lightProbe.value=_e.state.probe,Yt.directionalLights.value=_e.state.directional,Yt.directionalLightShadows.value=_e.state.directionalShadow,Yt.spotLights.value=_e.state.spot,Yt.spotLightShadows.value=_e.state.spotShadow,Yt.rectAreaLights.value=_e.state.rectArea,Yt.ltc_1.value=_e.state.rectAreaLTC1,Yt.ltc_2.value=_e.state.rectAreaLTC2,Yt.pointLights.value=_e.state.point,Yt.pointLightShadows.value=_e.state.pointShadow,Yt.hemisphereLights.value=_e.state.hemi,Yt.directionalShadowMap.value=_e.state.directionalShadowMap,Yt.directionalShadowMatrix.value=_e.state.directionalShadowMatrix,Yt.spotShadowMap.value=_e.state.spotShadowMap,Yt.spotLightMatrix.value=_e.state.spotLightMatrix,Yt.spotLightMap.value=_e.state.spotLightMap,Yt.pointShadowMap.value=_e.state.pointShadowMap,Yt.pointShadowMatrix.value=_e.state.pointShadowMatrix),De.currentProgram=rn,De.uniformsList=null,rn}function ec(Q){if(Q.uniformsList===null){const me=Q.currentProgram.getUniforms();Q.uniformsList=_C.seqWithValue(me.seq,Q.uniforms)}return Q.uniformsList}function Sf(Q,me){const Ne=Z.get(Q);Ne.outputColorSpace=me.outputColorSpace,Ne.batching=me.batching,Ne.batchingColor=me.batchingColor,Ne.instancing=me.instancing,Ne.instancingColor=me.instancingColor,Ne.instancingMorph=me.instancingMorph,Ne.skinning=me.skinning,Ne.morphTargets=me.morphTargets,Ne.morphNormals=me.morphNormals,Ne.morphColors=me.morphColors,Ne.morphTargetsCount=me.morphTargetsCount,Ne.numClippingPlanes=me.numClippingPlanes,Ne.numIntersection=me.numClipIntersection,Ne.vertexAlphas=me.vertexAlphas,Ne.vertexTangents=me.vertexTangents,Ne.toneMapping=me.toneMapping}function Ls(Q,me,Ne,De,_e){me.isScene!==!0&&(me=Ue),ve.resetTextureUnits();const dt=me.fog,Pt=De.isMeshStandardMaterial?me.environment:null,lt=U===null?P.outputColorSpace:U.isXRRenderTarget===!0?U.texture.colorSpace:eo,Gt=(De.isMeshStandardMaterial?qe:ke).get(De.envMap||Pt),Wt=De.vertexColors===!0&&!!Ne.attributes.color&&Ne.attributes.color.itemSize===4,rn=!!Ne.attributes.tangent&&(!!De.normalMap||De.anisotropy>0),Yt=!!Ne.morphAttributes.position,un=!!Ne.morphAttributes.normal,li=!!Ne.morphAttributes.color;let Ii=Hl;De.toneMapped&&(U===null||U.isXRRenderTarget===!0)&&(Ii=P.toneMapping);const wi=Ne.morphAttributes.position||Ne.morphAttributes.normal||Ne.morphAttributes.color,wn=wi!==void 0?wi.length:0,Tt=Z.get(De),ai=E.state.lights;if(He===!0&&(We===!0||Q!==q)){const $r=Q===q&&De.id===X;wt.setState(De,Q,$r)}let pn=!1;De.version===Tt.__version?(Tt.needsLights&&Tt.lightsStateVersion!==ai.state.version||Tt.outputColorSpace!==lt||_e.isBatchedMesh&&Tt.batching===!1||!_e.isBatchedMesh&&Tt.batching===!0||_e.isBatchedMesh&&Tt.batchingColor===!0&&_e.colorTexture===null||_e.isBatchedMesh&&Tt.batchingColor===!1&&_e.colorTexture!==null||_e.isInstancedMesh&&Tt.instancing===!1||!_e.isInstancedMesh&&Tt.instancing===!0||_e.isSkinnedMesh&&Tt.skinning===!1||!_e.isSkinnedMesh&&Tt.skinning===!0||_e.isInstancedMesh&&Tt.instancingColor===!0&&_e.instanceColor===null||_e.isInstancedMesh&&Tt.instancingColor===!1&&_e.instanceColor!==null||_e.isInstancedMesh&&Tt.instancingMorph===!0&&_e.morphTexture===null||_e.isInstancedMesh&&Tt.instancingMorph===!1&&_e.morphTexture!==null||Tt.envMap!==Gt||De.fog===!0&&Tt.fog!==dt||Tt.numClippingPlanes!==void 0&&(Tt.numClippingPlanes!==wt.numPlanes||Tt.numIntersection!==wt.numIntersection)||Tt.vertexAlphas!==Wt||Tt.vertexTangents!==rn||Tt.morphTargets!==Yt||Tt.morphNormals!==un||Tt.morphColors!==li||Tt.toneMapping!==Ii||Tt.morphTargetsCount!==wn)&&(pn=!0):(pn=!0,Tt.__version=De.version);let br=Tt.currentProgram;pn===!0&&(br=Lo(De,me,_e));let Is=!1,Fi=!1,Ua=!1;const pi=br.getUniforms(),kr=Tt.uniforms;if(ot.useProgram(br.program)&&(Is=!0,Fi=!0,Ua=!0),De.id!==X&&(X=De.id,Fi=!0),Is||q!==Q){ot.buffers.depth.getReversed()&&Q.reversedDepth!==!0&&(Q._reversedDepth=!0,Q.updateProjectionMatrix()),pi.setValue(ae,"projectionMatrix",Q.projectionMatrix),pi.setValue(ae,"viewMatrix",Q.matrixWorldInverse);const Qr=pi.map.cameraPosition;Qr!==void 0&&Qr.setValue(ae,yt.setFromMatrixPosition(Q.matrixWorld)),Vt.logarithmicDepthBuffer&&pi.setValue(ae,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),(De.isMeshPhongMaterial||De.isMeshToonMaterial||De.isMeshLambertMaterial||De.isMeshBasicMaterial||De.isMeshStandardMaterial||De.isShaderMaterial)&&pi.setValue(ae,"isOrthographic",Q.isOrthographicCamera===!0),q!==Q&&(q=Q,Fi=!0,Ua=!0)}if(Tt.needsLights&&(ai.state.directionalShadowMap.length>0&&pi.setValue(ae,"directionalShadowMap",ai.state.directionalShadowMap,ve),ai.state.spotShadowMap.length>0&&pi.setValue(ae,"spotShadowMap",ai.state.spotShadowMap,ve),ai.state.pointShadowMap.length>0&&pi.setValue(ae,"pointShadowMap",ai.state.pointShadowMap,ve)),_e.isSkinnedMesh){pi.setOptional(ae,_e,"bindMatrix"),pi.setOptional(ae,_e,"bindMatrixInverse");const $r=_e.skeleton;$r&&($r.boneTexture===null&&$r.computeBoneTexture(),pi.setValue(ae,"boneTexture",$r.boneTexture,ve))}_e.isBatchedMesh&&(pi.setOptional(ae,_e,"batchingTexture"),pi.setValue(ae,"batchingTexture",_e._matricesTexture,ve),pi.setOptional(ae,_e,"batchingIdTexture"),pi.setValue(ae,"batchingIdTexture",_e._indirectTexture,ve),pi.setOptional(ae,_e,"batchingColorTexture"),_e._colorsTexture!==null&&pi.setValue(ae,"batchingColorTexture",_e._colorsTexture,ve));const Mr=Ne.morphAttributes;if((Mr.position!==void 0||Mr.normal!==void 0||Mr.color!==void 0)&&mt.update(_e,Ne,br),(Fi||Tt.receiveShadow!==_e.receiveShadow)&&(Tt.receiveShadow=_e.receiveShadow,pi.setValue(ae,"receiveShadow",_e.receiveShadow)),De.isMeshGouraudMaterial&&De.envMap!==null&&(kr.envMap.value=Gt,kr.flipEnvMap.value=Gt.isCubeTexture&&Gt.isRenderTargetTexture===!1?-1:1),De.isMeshStandardMaterial&&De.envMap===null&&me.environment!==null&&(kr.envMapIntensity.value=me.environmentIntensity),kr.dfgLUT!==void 0&&(kr.dfgLUT.value=_ue()),Fi&&(pi.setValue(ae,"toneMappingExposure",P.toneMappingExposure),Tt.needsLights&&ru(kr,Ua),dt&&De.fog===!0&&tn.refreshFogUniforms(kr,dt),tn.refreshMaterialUniforms(kr,De,oe,ee,E.state.transmissionRenderTarget[Q.id]),_C.upload(ae,ec(Tt),kr,ve)),De.isShaderMaterial&&De.uniformsNeedUpdate===!0&&(_C.upload(ae,ec(Tt),kr,ve),De.uniformsNeedUpdate=!1),De.isSpriteMaterial&&pi.setValue(ae,"center",_e.center),pi.setValue(ae,"modelViewMatrix",_e.modelViewMatrix),pi.setValue(ae,"normalMatrix",_e.normalMatrix),pi.setValue(ae,"modelMatrix",_e.matrixWorld),De.isShaderMaterial||De.isRawShaderMaterial){const $r=De.uniformsGroups;for(let Qr=0,bf=$r.length;Qr<bf;Qr++){const is=$r[Qr];nt.update(is,br),nt.bind(is,br)}}return br}function ru(Q,me){Q.ambientLightColor.needsUpdate=me,Q.lightProbe.needsUpdate=me,Q.directionalLights.needsUpdate=me,Q.directionalLightShadows.needsUpdate=me,Q.pointLights.needsUpdate=me,Q.pointLightShadows.needsUpdate=me,Q.spotLights.needsUpdate=me,Q.spotLightShadows.needsUpdate=me,Q.rectAreaLights.needsUpdate=me,Q.hemisphereLights.needsUpdate=me}function au(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return B},this.getActiveMipmapLevel=function(){return G},this.getRenderTarget=function(){return U},this.setRenderTargetTextures=function(Q,me,Ne){const De=Z.get(Q);De.__autoAllocateDepthBuffer=Q.resolveDepthBuffer===!1,De.__autoAllocateDepthBuffer===!1&&(De.__useRenderToTexture=!1),Z.get(Q.texture).__webglTexture=me,Z.get(Q.depthTexture).__webglTexture=De.__autoAllocateDepthBuffer?void 0:Ne,De.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Q,me){const Ne=Z.get(Q);Ne.__webglFramebuffer=me,Ne.__useDefaultFramebuffer=me===void 0};const ou=ae.createFramebuffer();this.setRenderTarget=function(Q,me=0,Ne=0){U=Q,B=me,G=Ne;let De=null,_e=!1,dt=!1;if(Q){const lt=Z.get(Q);if(lt.__useDefaultFramebuffer!==void 0){ot.bindFramebuffer(ae.FRAMEBUFFER,lt.__webglFramebuffer),V.copy(Q.viewport),j.copy(Q.scissor),K=Q.scissorTest,ot.viewport(V),ot.scissor(j),ot.setScissorTest(K),X=-1;return}else if(lt.__webglFramebuffer===void 0)ve.setupRenderTarget(Q);else if(lt.__hasExternalTextures)ve.rebindTextures(Q,Z.get(Q.texture).__webglTexture,Z.get(Q.depthTexture).__webglTexture);else if(Q.depthBuffer){const rn=Q.depthTexture;if(lt.__boundDepthTexture!==rn){if(rn!==null&&Z.has(rn)&&(Q.width!==rn.image.width||Q.height!==rn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ve.setupDepthRenderbuffer(Q)}}const Gt=Q.texture;(Gt.isData3DTexture||Gt.isDataArrayTexture||Gt.isCompressedArrayTexture)&&(dt=!0);const Wt=Z.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Array.isArray(Wt[me])?De=Wt[me][Ne]:De=Wt[me],_e=!0):Q.samples>0&&ve.useMultisampledRTT(Q)===!1?De=Z.get(Q).__webglMultisampledFramebuffer:Array.isArray(Wt)?De=Wt[Ne]:De=Wt,V.copy(Q.viewport),j.copy(Q.scissor),K=Q.scissorTest}else V.copy(he).multiplyScalar(oe).floor(),j.copy(Se).multiplyScalar(oe).floor(),K=Ee;if(Ne!==0&&(De=ou),ot.bindFramebuffer(ae.FRAMEBUFFER,De)&&ot.drawBuffers(Q,De),ot.viewport(V),ot.scissor(j),ot.setScissorTest(K),_e){const lt=Z.get(Q.texture);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_CUBE_MAP_POSITIVE_X+me,lt.__webglTexture,Ne)}else if(dt){const lt=me;for(let Gt=0;Gt<Q.textures.length;Gt++){const Wt=Z.get(Q.textures[Gt]);ae.framebufferTextureLayer(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0+Gt,Wt.__webglTexture,Ne,lt)}}else if(Q!==null&&Ne!==0){const lt=Z.get(Q.texture);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,lt.__webglTexture,Ne)}X=-1},this.readRenderTargetPixels=function(Q,me,Ne,De,_e,dt,Pt,lt=0){if(!(Q&&Q.isWebGLRenderTarget)){Jt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Gt=Z.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&Pt!==void 0&&(Gt=Gt[Pt]),Gt){ot.bindFramebuffer(ae.FRAMEBUFFER,Gt);try{const Wt=Q.textures[lt],rn=Wt.format,Yt=Wt.type;if(!Vt.textureFormatReadable(rn)){Jt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Vt.textureTypeReadable(Yt)){Jt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}me>=0&&me<=Q.width-De&&Ne>=0&&Ne<=Q.height-_e&&(Q.textures.length>1&&ae.readBuffer(ae.COLOR_ATTACHMENT0+lt),ae.readPixels(me,Ne,De,_e,tt.convert(rn),tt.convert(Yt),dt))}finally{const Wt=U!==null?Z.get(U).__webglFramebuffer:null;ot.bindFramebuffer(ae.FRAMEBUFFER,Wt)}}},this.readRenderTargetPixelsAsync=async function(Q,me,Ne,De,_e,dt,Pt,lt=0){if(!(Q&&Q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Gt=Z.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&Pt!==void 0&&(Gt=Gt[Pt]),Gt)if(me>=0&&me<=Q.width-De&&Ne>=0&&Ne<=Q.height-_e){ot.bindFramebuffer(ae.FRAMEBUFFER,Gt);const Wt=Q.textures[lt],rn=Wt.format,Yt=Wt.type;if(!Vt.textureFormatReadable(rn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Vt.textureTypeReadable(Yt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const un=ae.createBuffer();ae.bindBuffer(ae.PIXEL_PACK_BUFFER,un),ae.bufferData(ae.PIXEL_PACK_BUFFER,dt.byteLength,ae.STREAM_READ),Q.textures.length>1&&ae.readBuffer(ae.COLOR_ATTACHMENT0+lt),ae.readPixels(me,Ne,De,_e,tt.convert(rn),tt.convert(Yt),0);const li=U!==null?Z.get(U).__webglFramebuffer:null;ot.bindFramebuffer(ae.FRAMEBUFFER,li);const Ii=ae.fenceSync(ae.SYNC_GPU_COMMANDS_COMPLETE,0);return ae.flush(),await Lte(ae,Ii,4),ae.bindBuffer(ae.PIXEL_PACK_BUFFER,un),ae.getBufferSubData(ae.PIXEL_PACK_BUFFER,0,dt),ae.deleteBuffer(un),ae.deleteSync(Ii),dt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Q,me=null,Ne=0){const De=Math.pow(2,-Ne),_e=Math.floor(Q.image.width*De),dt=Math.floor(Q.image.height*De),Pt=me!==null?me.x:0,lt=me!==null?me.y:0;ve.setTexture2D(Q,0),ae.copyTexSubImage2D(ae.TEXTURE_2D,Ne,0,0,Pt,lt,_e,dt),ot.unbindTexture()};const tc=ae.createFramebuffer(),rl=ae.createFramebuffer();this.copyTextureToTexture=function(Q,me,Ne=null,De=null,_e=0,dt=null){dt===null&&(_e!==0?(t_("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),dt=_e,_e=0):dt=0);let Pt,lt,Gt,Wt,rn,Yt,un,li,Ii;const wi=Q.isCompressedTexture?Q.mipmaps[dt]:Q.image;if(Ne!==null)Pt=Ne.max.x-Ne.min.x,lt=Ne.max.y-Ne.min.y,Gt=Ne.isBox3?Ne.max.z-Ne.min.z:1,Wt=Ne.min.x,rn=Ne.min.y,Yt=Ne.isBox3?Ne.min.z:0;else{const Mr=Math.pow(2,-_e);Pt=Math.floor(wi.width*Mr),lt=Math.floor(wi.height*Mr),Q.isDataArrayTexture?Gt=wi.depth:Q.isData3DTexture?Gt=Math.floor(wi.depth*Mr):Gt=1,Wt=0,rn=0,Yt=0}De!==null?(un=De.x,li=De.y,Ii=De.z):(un=0,li=0,Ii=0);const wn=tt.convert(me.format),Tt=tt.convert(me.type);let ai;me.isData3DTexture?(ve.setTexture3D(me,0),ai=ae.TEXTURE_3D):me.isDataArrayTexture||me.isCompressedArrayTexture?(ve.setTexture2DArray(me,0),ai=ae.TEXTURE_2D_ARRAY):(ve.setTexture2D(me,0),ai=ae.TEXTURE_2D),ae.pixelStorei(ae.UNPACK_FLIP_Y_WEBGL,me.flipY),ae.pixelStorei(ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),ae.pixelStorei(ae.UNPACK_ALIGNMENT,me.unpackAlignment);const pn=ae.getParameter(ae.UNPACK_ROW_LENGTH),br=ae.getParameter(ae.UNPACK_IMAGE_HEIGHT),Is=ae.getParameter(ae.UNPACK_SKIP_PIXELS),Fi=ae.getParameter(ae.UNPACK_SKIP_ROWS),Ua=ae.getParameter(ae.UNPACK_SKIP_IMAGES);ae.pixelStorei(ae.UNPACK_ROW_LENGTH,wi.width),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,wi.height),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,Wt),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,rn),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,Yt);const pi=Q.isDataArrayTexture||Q.isData3DTexture,kr=me.isDataArrayTexture||me.isData3DTexture;if(Q.isDepthTexture){const Mr=Z.get(Q),$r=Z.get(me),Qr=Z.get(Mr.__renderTarget),bf=Z.get($r.__renderTarget);ot.bindFramebuffer(ae.READ_FRAMEBUFFER,Qr.__webglFramebuffer),ot.bindFramebuffer(ae.DRAW_FRAMEBUFFER,bf.__webglFramebuffer);for(let is=0;is<Gt;is++)pi&&(ae.framebufferTextureLayer(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,Z.get(Q).__webglTexture,_e,Yt+is),ae.framebufferTextureLayer(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,Z.get(me).__webglTexture,dt,Ii+is)),ae.blitFramebuffer(Wt,rn,Pt,lt,un,li,Pt,lt,ae.DEPTH_BUFFER_BIT,ae.NEAREST);ot.bindFramebuffer(ae.READ_FRAMEBUFFER,null),ot.bindFramebuffer(ae.DRAW_FRAMEBUFFER,null)}else if(_e!==0||Q.isRenderTargetTexture||Z.has(Q)){const Mr=Z.get(Q),$r=Z.get(me);ot.bindFramebuffer(ae.READ_FRAMEBUFFER,tc),ot.bindFramebuffer(ae.DRAW_FRAMEBUFFER,rl);for(let Qr=0;Qr<Gt;Qr++)pi?ae.framebufferTextureLayer(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,Mr.__webglTexture,_e,Yt+Qr):ae.framebufferTexture2D(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,Mr.__webglTexture,_e),kr?ae.framebufferTextureLayer(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,$r.__webglTexture,dt,Ii+Qr):ae.framebufferTexture2D(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,$r.__webglTexture,dt),_e!==0?ae.blitFramebuffer(Wt,rn,Pt,lt,un,li,Pt,lt,ae.COLOR_BUFFER_BIT,ae.NEAREST):kr?ae.copyTexSubImage3D(ai,dt,un,li,Ii+Qr,Wt,rn,Pt,lt):ae.copyTexSubImage2D(ai,dt,un,li,Wt,rn,Pt,lt);ot.bindFramebuffer(ae.READ_FRAMEBUFFER,null),ot.bindFramebuffer(ae.DRAW_FRAMEBUFFER,null)}else kr?Q.isDataTexture||Q.isData3DTexture?ae.texSubImage3D(ai,dt,un,li,Ii,Pt,lt,Gt,wn,Tt,wi.data):me.isCompressedArrayTexture?ae.compressedTexSubImage3D(ai,dt,un,li,Ii,Pt,lt,Gt,wn,wi.data):ae.texSubImage3D(ai,dt,un,li,Ii,Pt,lt,Gt,wn,Tt,wi):Q.isDataTexture?ae.texSubImage2D(ae.TEXTURE_2D,dt,un,li,Pt,lt,wn,Tt,wi.data):Q.isCompressedTexture?ae.compressedTexSubImage2D(ae.TEXTURE_2D,dt,un,li,wi.width,wi.height,wn,wi.data):ae.texSubImage2D(ae.TEXTURE_2D,dt,un,li,Pt,lt,wn,Tt,wi);ae.pixelStorei(ae.UNPACK_ROW_LENGTH,pn),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,br),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,Is),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,Fi),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,Ua),dt===0&&me.generateMipmaps&&ae.generateMipmap(ai),ot.unbindTexture()},this.initRenderTarget=function(Q){Z.get(Q).__webglFramebuffer===void 0&&ve.setupRenderTarget(Q)},this.initTexture=function(Q){Q.isCubeTexture?ve.setTextureCube(Q,0):Q.isData3DTexture?ve.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?ve.setTexture2DArray(Q,0):ve.setTexture2D(Q,0),ot.unbindTexture()},this.resetState=function(){B=0,G=0,U=null,ot.reset(),xt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ys}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Jn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Jn._getUnpackColorSpace()}}const xue=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:KD,AddEquation:Kd,AddOperation:q7,AdditiveAnimationBlendMode:RB,AdditiveBlending:NN,AgXToneMapping:bB,AlphaFormat:EB,AlwaysCompare:oX,AlwaysDepth:XC,AlwaysStencilFunc:kN,AmbientLight:qX,AnimationAction:nY,AnimationClip:s_,AnimationLoader:xie,AnimationMixer:qie,AnimationObjectGroup:Xie,AnimationUtils:gie,ArcCurve:MX,ArrayCamera:JX,ArrowHelper:yre,AttachedBindMode:BN,Audio:eY,AudioAnalyser:Oie,AudioContext:lk,AudioListener:Iie,AudioLoader:Die,AxesHelper:_re,BackSide:Qo,BasicDepthPacking:J7,BasicShadowMap:C7,BatchedMesh:_X,Bone:dR,BooleanKeyframeTrack:hm,Box2:nre,Box3:Qa,Box3Helper:gre,BoxGeometry:fm,BoxHelper:vre,BufferAttribute:bi,BufferGeometry:En,BufferGeometryLoader:$X,ByteType:TB,Cache:qc,Camera:cR,CameraHelper:pre,CanvasTexture:Une,CapsuleGeometry:mR,CatmullRomCurve3:TX,CineonToneMapping:xB,CircleGeometry:yR,ClampToEdgeWrapping:Ko,Clock:uk,Color:Et,ColorKeyframeTrack:tk,ColorManagement:Jn,CompressedArrayTexture:Bne,CompressedCubeTexture:kne,CompressedTexture:gR,CompressedTextureLoader:Sie,ConeGeometry:tM,ConstantAlphaFactor:W7,ConstantColorFactor:G7,Controls:Sre,CubeCamera:vX,CubeDepthTexture:SX,CubeReflectionMapping:of,CubeRefractionMapping:yp,CubeTexture:$1,CubeTextureLoader:bie,CubeUVReflectionMapping:A_,CubicBezierCurve:XB,CubicBezierCurve3:wX,CubicInterpolant:VX,CullFaceBack:PN,CullFaceFront:A7,CullFaceFrontBack:Wee,CullFaceNone:w7,Curve:Zu,CurvePath:CX,CustomBlending:E7,CustomToneMapping:SB,CylinderGeometry:eM,Cylindrical:tre,Data3DTexture:uR,DataArrayTexture:lR,DataTexture:ku,DataTextureLoader:Mie,DataUtils:lne,DecrementStencilOp:ate,DecrementWrapStencilOp:ste,DefaultLoadingManager:WX,DepthFormat:lf,DepthStencilFormat:Jd,DepthTexture:a_,DetachedBindMode:Z7,DirectionalLight:ok,DirectionalLightHelper:dre,DiscreteInterpolant:GX,DodecahedronGeometry:_R,DoubleSide:Nu,DstAlphaFactor:B7,DstColorFactor:U7,DynamicCopyUsage:bte,DynamicDrawUsage:gte,DynamicReadUsage:_te,EdgesGeometry:bX,EllipseCurve:xR,EqualCompare:iX,EqualDepth:qC,EqualStencilFunc:fte,EquirectangularReflectionMapping:r1,EquirectangularRefractionMapping:a1,Euler:tl,EventDispatcher:vf,ExternalTexture:HB,ExtrudeGeometry:SR,FileLoader:Hu,Float16BufferAttribute:vne,Float32BufferAttribute:Xt,FloatType:$o,Fog:hR,FogExp2:fR,FramebufferTexture:zne,FrontSide:af,Frustum:C_,FrustumArray:pR,GLBufferAttribute:Qie,GLSL1:Tte,GLSL3:UN,GreaterCompare:rX,GreaterDepth:jC,GreaterEqualCompare:sR,GreaterEqualDepth:ZC,GreaterEqualStencilFunc:vte,GreaterStencilFunc:dte,GridHelper:fre,Group:vh,HalfFloatType:sf,HemisphereLight:YX,HemisphereLightHelper:cre,IcosahedronGeometry:bR,ImageBitmapLoader:QX,ImageLoader:p1,ImageUtils:fX,IncrementStencilOp:rte,IncrementWrapStencilOp:ote,InstancedBufferAttribute:qg,InstancedBufferGeometry:KX,InstancedInterleavedBuffer:$ie,InstancedMesh:FB,Int16BufferAttribute:dne,Int32BufferAttribute:pne,Int8BufferAttribute:cne,IntType:JD,InterleavedBuffer:Q1,InterleavedBufferAttribute:Sp,Interpolant:D_,InterpolateDiscrete:Q0,InterpolateLinear:J0,InterpolateSmooth:mC,InterpolationSamplingMode:Cte,InterpolationSamplingType:Ate,InvertStencilOp:lte,KeepStencilOp:fg,KeyframeTrack:Jl,LOD:yX,LatheGeometry:MR,Layers:i_,LessCompare:nX,LessDepth:YC,LessEqualCompare:oR,LessEqualDepth:Xg,LessEqualStencilFunc:hte,LessStencilFunc:cte,Light:Rp,LightProbe:jX,Line:Eh,Line3:are,LineBasicMaterial:Co,LineCurve:YB,LineCurve3:AX,LineDashedMaterial:UX,LineLoop:VB,LineSegments:qu,LinearFilter:ki,LinearInterpolant:ek,LinearMipMapLinearFilter:Zee,LinearMipMapNearestFilter:qee,LinearMipmapLinearFilter:Gl,LinearMipmapNearestFilter:F0,LinearSRGBColorSpace:eo,LinearToneMapping:yB,LinearTransfer:s1,Loader:ns,LoaderUtils:up,LoadingManager:nk,LoopOnce:j7,LoopPingPong:$7,LoopRepeat:K7,MOUSE:ug,Material:ya,MaterialLoader:RR,MathUtils:cX,Matrix2:dk,Matrix3:zn,Matrix4:hn,MaxEquation:I7,Mesh:jr,MeshBasicMaterial:qs,MeshDepthMaterial:$B,MeshDistanceMaterial:QB,MeshLambertMaterial:BX,MeshMatcapMaterial:kX,MeshNormalMaterial:zX,MeshPhongMaterial:NX,MeshPhysicalMaterial:Ql,MeshStandardMaterial:rM,MeshToonMaterial:OX,MinEquation:L7,MirroredRepeatWrapping:j0,MixOperation:Y7,MultiplyBlending:zN,MultiplyOperation:j1,NearestFilter:yr,NearestMipMapLinearFilter:Yee,NearestMipMapNearestFilter:Xee,NearestMipmapLinearFilter:Tg,NearestMipmapNearestFilter:QD,NeutralToneMapping:MB,NeverCompare:tX,NeverDepth:WC,NeverStencilFunc:ute,NoBlending:Jc,NoColorSpace:hh,NoNormalPacking:Jee,NoToneMapping:Hl,NormalAnimationBlendMode:aR,NormalBlending:Og,NormalGAPacking:tte,NormalRGPacking:ete,NotEqualCompare:aX,NotEqualDepth:KC,NotEqualStencilFunc:pte,NumberKeyframeTrack:jg,Object3D:ci,ObjectLoader:Cie,ObjectSpaceNormalMap:eX,OctahedronGeometry:nM,OneFactor:N7,OneMinusConstantAlphaFactor:X7,OneMinusConstantColorFactor:H7,OneMinusDstAlphaFactor:k7,OneMinusDstColorFactor:F7,OneMinusSrcAlphaFactor:HC,OneMinusSrcColorFactor:z7,OrthographicCamera:ef,PCFShadowMap:U0,PCFSoftShadowMap:Nb,PMREMGenerator:qN,Path:PE,PerspectiveCamera:Lr,Plane:fh,PlaneGeometry:E_,PlaneHelper:mre,PointLight:ak,PointLightHelper:lre,Points:GB,PointsMaterial:vR,PolarGridHelper:hre,PolyhedronGeometry:Dp,PositionalAudio:Nie,PropertyBinding:di,PropertyMixer:tY,QuadraticBezierCurve:qB,QuadraticBezierCurve3:ZB,Quaternion:Oa,QuaternionKeyframeTrack:Kg,QuaternionLinearInterpolant:HX,R11_EAC_Format:rE,RED_GREEN_RGTC2_Format:CE,RED_RGTC1_Format:wE,REVISION:jD,RG11_EAC_Format:oE,RGBADepthPacking:Kee,RGBAFormat:To,RGBAIntegerFormat:rR,RGBA_ASTC_10x10_Format:_E,RGBA_ASTC_10x5_Format:gE,RGBA_ASTC_10x6_Format:mE,RGBA_ASTC_10x8_Format:yE,RGBA_ASTC_12x10_Format:xE,RGBA_ASTC_12x12_Format:SE,RGBA_ASTC_4x4_Format:lE,RGBA_ASTC_5x4_Format:uE,RGBA_ASTC_5x5_Format:cE,RGBA_ASTC_6x5_Format:fE,RGBA_ASTC_6x6_Format:hE,RGBA_ASTC_8x5_Format:dE,RGBA_ASTC_8x6_Format:pE,RGBA_ASTC_8x8_Format:vE,RGBA_BPTC_Format:bE,RGBA_ETC2_EAC_Format:iE,RGBA_PVRTC_2BPPV1_Format:eE,RGBA_PVRTC_4BPPV1_Format:JC,RGBA_S3TC_DXT1_Format:zb,RGBA_S3TC_DXT3_Format:Bb,RGBA_S3TC_DXT5_Format:kb,RGBDepthPacking:$ee,RGBFormat:DB,RGBIntegerFormat:jee,RGB_BPTC_SIGNED_Format:ME,RGB_BPTC_UNSIGNED_Format:TE,RGB_ETC1_Format:tE,RGB_ETC2_Format:nE,RGB_PVRTC_2BPPV1_Format:QC,RGB_PVRTC_4BPPV1_Format:$C,RGB_S3TC_DXT1_Format:Ob,RGDepthPacking:Qee,RGFormat:Yg,RGIntegerFormat:iR,RawShaderMaterial:KB,Ray:cm,Raycaster:iY,RectAreaLight:ZX,RedFormat:nR,RedIntegerFormat:K1,ReinhardToneMapping:_B,RenderTarget:PB,RenderTarget3D:Zie,RepeatWrapping:_p,ReplaceStencilOp:ite,ReverseSubtractEquation:R7,RingGeometry:TR,SIGNED_R11_EAC_Format:aE,SIGNED_RED_GREEN_RGTC2_Format:EE,SIGNED_RED_RGTC1_Format:AE,SIGNED_RG11_EAC_Format:sE,SRGBColorSpace:Yr,SRGBTransfer:Di,Scene:BB,ShaderChunk:Wn,ShaderLib:Pu,ShaderMaterial:ql,ShadowMaterial:PX,Shape:Bg,ShapeGeometry:wR,ShapePath:xre,ShapeUtils:Ou,ShortType:wB,Skeleton:J1,SkeletonHelper:sre,SkinnedMesh:UB,Source:ep,Sphere:za,SphereGeometry:iM,Spherical:XN,SphericalHarmonics3:sk,SplineCurve:jB,SpotLight:rk,SpotLightHelper:ore,Sprite:mX,SpriteMaterial:kB,SrcAlphaFactor:GC,SrcAlphaSaturateFactor:V7,SrcColorFactor:O7,StaticCopyUsage:Ste,StaticDrawUsage:l1,StaticReadUsage:yte,StereoCamera:Rie,StreamCopyUsage:Mte,StreamDrawUsage:mte,StreamReadUsage:xte,StringKeyframeTrack:dm,SubtractEquation:D7,SubtractiveBlending:ON,TOUCH:cg,TangentSpaceNormalMap:Ep,TetrahedronGeometry:AR,Texture:ur,TextureLoader:XX,TextureUtils:Are,Timer:Jie,TimestampQuery:wte,TorusGeometry:CR,TorusKnotGeometry:ER,Triangle:$d,TriangleFanDrawMode:DE,TriangleStripDrawMode:LB,TrianglesDrawMode:Q7,TubeGeometry:DR,UVMapping:$D,Uint16BufferAttribute:NB,Uint32BufferAttribute:OB,Uint8BufferAttribute:fne,Uint8ClampedBufferAttribute:hne,Uniform:hk,UniformsGroup:Kie,UniformsLib:Rt,UniformsUtils:pX,UnsignedByteType:Zo,UnsignedInt101111Type:CB,UnsignedInt248Type:$0,UnsignedInt5999Type:AB,UnsignedIntType:Yl,UnsignedShort4444Type:eR,UnsignedShort5551Type:tR,UnsignedShortType:K0,VSMShadowMap:Mg,Vector2:Ze,Vector3:re,Vector4:Gi,VectorKeyframeTrack:$g,VideoFrameTexture:One,VideoTexture:xX,WebGL3DRenderTarget:Qte,WebGLArrayRenderTarget:$te,WebGLCoordinateSystem:Ys,WebGLCubeRenderTarget:zB,WebGLRenderTarget:Js,WebGLRenderer:fY,WebGLUtils:cY,WebGPUCoordinateSystem:e_,WebXRController:yC,WireframeGeometry:IX,WrapAroundEnding:o1,ZeroCurvatureEnding:wg,ZeroFactor:P7,ZeroSlopeEnding:Ag,ZeroStencilOp:nte,createCanvasElement:uX,error:Jt,getConsoleFunction:Rte,log:c1,setConsoleFunction:Dte,warn:At,warnOnce:t_},Symbol.toStringTag,{value:"Module"}));var ZI={exports:{}},jI={},KI={exports:{}},$I={};var MV;function Sue(){if(MV)return $I;MV=1;var i=Z1();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,r=i.useEffect,a=i.useLayoutEffect,o=i.useDebugValue;function s(f,h){var p=h(),g=n({inst:{value:p,getSnapshot:h}}),y=g[0].inst,_=g[1];return a(function(){y.value=p,y.getSnapshot=h,l(y)&&_({inst:y})},[f,p,h]),r(function(){return l(y)&&_({inst:y}),f(function(){l(y)&&_({inst:y})})},[f]),o(p),p}function l(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!t(f,p)}catch{return!0}}function u(f,h){return h()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return $I.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:c,$I}var TV;function bue(){return TV||(TV=1,KI.exports=Sue()),KI.exports}var wV;function Mue(){if(wV)return jI;wV=1;var i=Z1(),e=bue();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=i.useRef,o=i.useEffect,s=i.useMemo,l=i.useDebugValue;return jI.useSyncExternalStoreWithSelector=function(u,c,f,h,p){var g=a(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=s(function(){function x(D){if(!M){if(M=!0,T=D,D=h(D),p!==void 0&&y.hasValue){var L=y.value;if(p(L,D))return C=L}return C=D}if(L=C,n(T,D))return L;var z=h(D);return p!==void 0&&p(L,z)?(T=D,L):(T=D,C=z)}var M=!1,T,C,E=f===void 0?null:f;return[function(){return x(c())},E===null?void 0:function(){return x(E())}]},[c,f,h,p]);var _=r(u,g[0],g[1]);return o(function(){y.hasValue=!0,y.value=_},[_]),l(_),_},jI}var AV;function Tue(){return AV||(AV=1,ZI.exports=Mue()),ZI.exports}var wue=Tue();const Aue=ZD(wue),{useSyncExternalStoreWithSelector:Cue}=Aue,Eue=i=>i;function Due(i,e=Eue,t){const n=Cue(i.subscribe,i.getState,i.getInitialState,e,t);return R0.useDebugValue(n),n}const CV=(i,e)=>{const t=T7(i),n=(r,a=e)=>Due(t,r,a);return Object.assign(n,t),n},Rue=((i,e)=>i?CV(i,e):CV);var KN=M7();const Lue=ZD(KN);function pk(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const r=pk(n,e,t);if(r)return r;n=e?null:n.sibling}}function hY(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const vk=hY(_n.createContext(null));let dY=class extends _n.Component{render(){return _n.createElement(vk.Provider,{value:this._reactInternals},this.props.children)}};function pY(){const i=_n.useContext(vk);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=_n.useId();return _n.useMemo(()=>{for(const t of[i,i?.alternate]){if(!t)continue;const n=pk(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(n)return n}},[i,e])}const Iue=Symbol.for("react.context"),Pue=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===Iue;function Nue(){const i=pY(),[e]=_n.useState(()=>new Map);e.clear();let t=i;for(;t;){const n=t.type;Pue(n)&&n!==vk&&!e.has(n)&&e.set(n,_n.use(hY(n))),t=t.return}return e}function Oue(){const i=Nue();return _n.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>_n.createElement(e,null,_n.createElement(t.Provider,{...n,value:i.get(t)})),e=>_n.createElement(dY,{...e})),[i])}function vY(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const gY=i=>i&&i.isOrthographicCamera,zue=i=>i&&i.hasOwnProperty("current"),Bue=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),aM=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?_n.useLayoutEffect:_n.useEffect;function mY(i){const e=_n.useRef(i);return aM(()=>{e.current=i},[i]),e}function kue(){const i=pY(),e=Oue();return _n.useMemo(()=>({children:t})=>{const r=!!pk(i,!0,a=>a.type===_n.StrictMode)?_n.StrictMode:_n.Fragment;return Gs.jsx(r,{children:Gs.jsx(e,{children:t})})},[i,e])}function Uue({set:i}){return aM(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const Fue=(i=>(i=class extends _n.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function yY(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function Ky(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const gr={obj:i=>i===Object(i)&&!gr.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(gr.str(i)||gr.num(i)||gr.boo(i))return i===e;const a=gr.obj(i);if(a&&n==="reference")return i===e;const o=gr.arr(i);if(o&&t==="reference")return i===e;if((o||a)&&i===e)return!0;let s;for(s in i)if(!(s in e))return!1;if(a&&t==="shallow"&&n==="shallow"){for(s in r?e:i)if(!gr.equ(i[s],e[s],{strict:r,objects:"reference"}))return!1}else for(s in r?e:i)if(i[s]!==e[s])return!1;if(gr.und(s)){if(o&&i.length===0&&e.length===0||a&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function Vue(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const _Y=["children","key","ref"];function Gue(i){const e={};for(const t in i)_Y.includes(t)||(e[t]=i[t]);return e}function NE(i,e,t,n){const r=i;let a=r?.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:Gue(n),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function v1(i,e){if(!e.includes("-"))return{root:i,key:e,target:i[e]};if(e in i)return{root:i,key:e,target:i[e]};let t=i;const n=e.split("-");for(const r of n){if(typeof t!="object"||t===null){if(t!==void 0){const a=n.slice(n.indexOf(r)).join("-");return{root:t,key:a,target:void 0}}return{root:i,key:e,target:void 0}}e=r,i=t,t=t[e]}return{root:i,key:e,target:t}}const EV=/-\d+$/;function OE(i,e){if(gr.str(e.props.attach)){if(EV.test(e.props.attach)){const r=e.props.attach.replace(EV,""),{root:a,key:o}=v1(i.object,r);Array.isArray(a[o])||(a[o]=[])}const{root:t,key:n}=v1(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else gr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function zE(i,e){if(gr.str(e.props.attach)){const{root:t,key:n}=v1(i.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[n]:t[n]=r}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const $N=[..._Y,"args","dispose","attach","object","onUpdate","dispose"],DV=new Map;function Hue(i){let e=DV.get(i.constructor);try{e||(e=new i.constructor,DV.set(i.constructor,e))}catch{}return e}function Wue(i,e){const t={};for(const n in e)if(!$N.includes(n)&&!gr.equ(e[n],i.props[n])){t[n]=e[n];for(const r in e)r.startsWith(`${n}-`)&&(t[r]=e[r])}for(const n in i.props){if($N.includes(n)||e.hasOwnProperty(n))continue;const{root:r,key:a}=v1(i.object,n);if(r.constructor&&r.constructor.length===0){const o=Hue(r);gr.und(o)||(t[a]=o[a])}else t[a]=0}return t}const Xue=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Yue=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Qd(i,e){var t;const n=i.__r3f,r=n&&vY(n).getState(),a=n?.eventCount;for(const s in e){let l=e[s];if($N.includes(s))continue;if(n&&Yue.test(s)){typeof l=="function"?n.handlers[s]=l:delete n.handlers[s],n.eventCount=Object.keys(n.handlers).length;continue}if(l===void 0)continue;let{root:u,key:c,target:f}=v1(i,s);if(f===void 0&&(typeof u!="object"||u===null))throw Error(`R3F: Cannot set "${s}". Ensure it is an object before setting "${c}".`);if(f instanceof i_&&l instanceof i_)f.mask=l.mask;else if(f instanceof Et&&Bue(l))f.set(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof f.copy=="function"&&l!=null&&l.constructor&&f.constructor===l.constructor)f.copy(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&Array.isArray(l))typeof f.fromArray=="function"?f.fromArray(l):f.set(...l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof l=="number")typeof f.setScalar=="function"?f.setScalar(l):f.set(l);else{var o;u[c]=l,r&&!r.linear&&Xue.includes(c)&&(o=u[c])!=null&&o.isTexture&&u[c].format===To&&u[c].type===Zo&&(u[c].colorSpace=Yr)}}if(n!=null&&n.parent&&r!=null&&r.internal&&(t=n.object)!=null&&t.isObject3D&&a!==n.eventCount){const s=n.object,l=r.internal.interaction.indexOf(s);l>-1&&r.internal.interaction.splice(l,1),n.eventCount&&s.raycast!==null&&r.internal.interaction.push(s)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&L_(n),i}function L_(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function que(i,e){i.manual||(gY(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const ws=i=>i?.isObject3D;function eA(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function xY(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function Zue(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{xY(t.capturedMap,e,n,r)})}function jue(i){function e(l){const{internal:u}=i.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function n(l,u){const c=i.getState(),f=new Set,h=[],p=u?u(c.internal.interaction):c.internal.interaction;for(let x=0;x<p.length;x++){const M=Ky(p[x]);M&&(M.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(x){const M=Ky(x);if(!M||!M.events.enabled||M.raycaster.camera===null)return[];if(M.raycaster.camera===void 0){var T;M.events.compute==null||M.events.compute(l,M,(T=M.previousRoot)==null?void 0:T.getState()),M.raycaster.camera===void 0&&(M.raycaster.camera=null)}return M.raycaster.camera?M.raycaster.intersectObject(x,!0):[]}let y=p.flatMap(g).sort((x,M)=>{const T=Ky(x.object),C=Ky(M.object);return!T||!C?x.distance-M.distance:C.events.priority-T.events.priority||x.distance-M.distance}).filter(x=>{const M=eA(x);return f.has(M)?!1:(f.add(M),!0)});c.events.filter&&(y=c.events.filter(y,c));for(const x of y){let M=x.object;for(;M;){var _;(_=M.__r3f)!=null&&_.eventCount&&h.push({...x,eventObject:M}),M=M.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let x of c.internal.capturedMap.get(l.pointerId).values())f.has(eA(x.intersection))||h.push(x.intersection);return h}function r(l,u,c,f){if(l.length){const h={stopped:!1};for(const p of l){let g=Ky(p.object);if(g||p.object.traverseAncestors(y=>{const _=Ky(y);if(_)return g=_,!1}),g){const{raycaster:y,pointer:_,camera:x,internal:M}=g,T=new re(_.x,_.y,0).unproject(x),C=P=>{var N,B;return(N=(B=M.capturedMap.get(P))==null?void 0:B.has(p.eventObject))!=null?N:!1},E=P=>{const N={intersection:p,target:u.target};M.capturedMap.has(P)?M.capturedMap.get(P).set(p.eventObject,N):M.capturedMap.set(P,new Map([[p.eventObject,N]])),u.target.setPointerCapture(P)},D=P=>{const N=M.capturedMap.get(P);N&&xY(M.capturedMap,p.eventObject,N,P)};let L={};for(let P in u){let N=u[P];typeof N!="function"&&(L[P]=N)}let z={...p,...L,pointer:_,intersections:l,stopped:h.stopped,delta:c,unprojectedPoint:T,ray:y.ray,camera:x,stopPropagation(){const P="pointerId"in u&&M.capturedMap.get(u.pointerId);if((!P||P.has(p.eventObject))&&(z.stopped=h.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(N=>N.eventObject===p.eventObject))){const N=l.slice(0,l.indexOf(p));a([...N,p])}},target:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:D},currentTarget:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:D},nativeEvent:u};if(f(z),h.stopped===!0)break}}}return l}function a(l){const{internal:u}=i.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f;if(u.hovered.delete(eA(c)),h!=null&&h.eventCount){const p=h.handlers,g={...c,intersections:l};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:c}=i.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),a([]))})}}return function(c){const{onPointerMissed:f,internal:h}=i.getState();h.lastEvent.current=c;const p=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=n(c,p?t:void 0),x=g?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=_.map(T=>T.eventObject)),g&&!_.length&&x<=2&&(o(c,h.interaction),f&&f(c)),p&&a(_);function M(T){const C=T.eventObject,E=C.__r3f;if(!(E!=null&&E.eventCount))return;const D=E.handlers;if(p){if(D.onPointerOver||D.onPointerEnter||D.onPointerOut||D.onPointerLeave){const L=eA(T),z=h.hovered.get(L);z?z.stopped&&T.stopPropagation():(h.hovered.set(L,T),D.onPointerOver==null||D.onPointerOver(T),D.onPointerEnter==null||D.onPointerEnter(T))}D.onPointerMove==null||D.onPointerMove(T)}else{const L=D[l];L?(!g||h.initialHits.includes(C))&&(o(c,h.interaction.filter(z=>!h.initialHits.includes(z))),L(T)):g&&h.initialHits.includes(C)&&o(c,h.interaction.filter(z=>!h.initialHits.includes(z)))}}r(_,c,x,M)}}return{handlePointer:s}}const RV=i=>!!(i!=null&&i.render),SY=_n.createContext(null),Kue=(i,e)=>{const t=Rue((s,l)=>{const u=new re,c=new re,f=new re;function h(x=l().camera,M=c,T=l().size){const{width:C,height:E,top:D,left:L}=T,z=C/E;M.isVector3?f.copy(M):f.set(...M);const P=x.getWorldPosition(u).distanceTo(f);if(gY(x))return{width:C/x.zoom,height:E/x.zoom,top:D,left:L,factor:1,distance:P,aspect:z};{const N=x.fov*Math.PI/180,B=2*Math.tan(N/2)*P,G=B*(C/E);return{width:G,height:B,top:D,left:L,factor:C/G,distance:P,aspect:z}}}let p;const g=x=>s(M=>({performance:{...M.performance,current:x}})),y=new Ze;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(x=1)=>i(l(),x),advance:(x,M)=>e(x,M,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new uk,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();p&&clearTimeout(p),x.performance.current!==x.performance.min&&g(x.performance.min),p=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:x=>s(M=>({...M,events:{...M.events,...x}})),setSize:(x,M,T=0,C=0)=>{const E=l().camera,D={width:x,height:M,top:T,left:C};s(L=>({size:D,viewport:{...L.viewport,...h(E,c,D)}}))},setDpr:x=>s(M=>{const T=yY(x);return{viewport:{...M.viewport,dpr:T,initialDpr:M.viewport.initialDpr||T}}}),setFrameloop:(x="always")=>{const M=l().clock;M.stop(),M.elapsedTime=0,x!=="never"&&(M.start(),M.elapsedTime=0),s(()=>({frameloop:x}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:_n.createRef(),active:!1,frames:0,priority:0,subscribe:(x,M,T)=>{const C=l().internal;return C.priority=C.priority+(M>0?1:0),C.subscribers.push({ref:x,priority:M,store:T}),C.subscribers=C.subscribers.sort((E,D)=>E.priority-D.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(M>0?1:0),E.subscribers=E.subscribers.filter(D=>D.ref!==x))}}}}}),n=t.getState();let r=n.size,a=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:c,set:f}=t.getState();if(l.width!==r.width||l.height!==r.height||u.dpr!==a){r=l,a=u.dpr,que(s,l),u.dpr>0&&c.setPixelRatio(u.dpr);const h=typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,h)}s!==o&&(o=s,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(s)}})))}),t.subscribe(s=>i(s)),t};function bY(){const i=_n.useContext(SY);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function zd(i=t=>t,e){return bY()(i,e)}function $ue(i,e=0){const t=bY(),n=t.getState().internal.subscribe,r=mY(i);return aM(()=>n(r,e,t),[e,n,t]),null}const Que=1,Jue=8,ece=32,tce=2;var nce={version:"9.5.0"};function ice(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var LV={exports:{}},IV={exports:{}},PV;function rce(){return PV||(PV=1,(function(i){i.exports=function(e){function t(m,S,A,R){return new Mx(m,S,A,R)}function n(){}function r(m){var S="https://react.dev/errors/"+m;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)S+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+m+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(m){var S=m,A=m;if(m.alternate)for(;S.return;)S=S.return;else{m=S;do S=m,(S.flags&4098)!==0&&(A=S.return),m=S.return;while(m)}return S.tag===3?A:null}function o(m){if(a(m)!==m)throw Error(r(188))}function s(m){var S=m.alternate;if(!S){if(S=a(m),S===null)throw Error(r(188));return S!==m?null:m}for(var A=m,R=S;;){var k=A.return;if(k===null)break;var F=k.alternate;if(F===null){if(R=k.return,R!==null){A=R;continue}break}if(k.child===F.child){for(F=k.child;F;){if(F===A)return o(k),m;if(F===R)return o(k),S;F=F.sibling}throw Error(r(188))}if(A.return!==R.return)A=k,R=F;else{for(var $=!1,ce=k.child;ce;){if(ce===A){$=!0,A=k,R=F;break}if(ce===R){$=!0,R=k,A=F;break}ce=ce.sibling}if(!$){for(ce=F.child;ce;){if(ce===A){$=!0,A=F,R=k;break}if(ce===R){$=!0,R=F,A=k;break}ce=ce.sibling}if(!$)throw Error(r(189))}}if(A.alternate!==R)throw Error(r(190))}if(A.tag!==3)throw Error(r(188));return A.stateNode.current===A?m:S}function l(m){var S=m.tag;if(S===5||S===26||S===27||S===6)return m;for(m=m.child;m!==null;){if(S=l(m),S!==null)return S;m=m.sibling}return null}function u(m){var S=m.tag;if(S===5||S===26||S===27||S===6)return m;for(m=m.child;m!==null;){if(m.tag!==4&&(S=u(m),S!==null))return S;m=m.sibling}return null}function c(m){return m===null||typeof m!="object"?null:(m=vu&&m[vu]||m["@@iterator"],typeof m=="function"?m:null)}function f(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===pc?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case Nf:return"Fragment";case zf:return"Profiler";case Of:return"StrictMode";case $m:return"Suspense";case pu:return"SuspenseList";case iv:return"Activity"}if(typeof m=="object")switch(m.$$typeof){case Pf:return"Portal";case cs:return m.displayName||"Context";case nv:return(m._context.displayName||"Context")+".Consumer";case od:var S=m.render;return m=m.displayName,m||(m=S.displayName||S.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case Qm:return S=m.displayName||null,S!==null?S:f(m.type)||"Memo";case Ha:S=m._payload,m=m._init;try{return f(m(S))}catch{}}return null}function h(m){return{current:m}}function p(m){0>Vf||(m.current=fy[Vf],fy[Vf]=null,Vf--)}function g(m,S){Vf++,fy[Vf]=m.current,m.current=S}function y(m){return m>>>=0,m===0?32:31-(hy(m)/HT|0)|0}function _(m){var S=m&42;if(S!==0)return S;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return m&261888;case 262144:case 524288:case 1048576:case 2097152:return m&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function x(m,S,A){var R=m.pendingLanes;if(R===0)return 0;var k=0,F=m.suspendedLanes,$=m.pingedLanes;m=m.warmLanes;var ce=R&134217727;return ce!==0?(R=ce&~F,R!==0?k=_(R):($&=ce,$!==0?k=_($):A||(A=ce&~m,A!==0&&(k=_(A))))):(ce=R&~F,ce!==0?k=_(ce):$!==0?k=_($):A||(A=R&~m,A!==0&&(k=_(A)))),k===0?0:S!==0&&S!==k&&(S&F)===0&&(F=k&-k,A=S&-S,F>=A||F===32&&(A&4194048)!==0)?S:k}function M(m,S){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&S)===0}function T(m,S){switch(m){case 1:case 2:case 4:case 8:case 64:return S+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C(){var m=dd;return dd<<=1,(dd&62914560)===0&&(dd=4194304),m}function E(m){for(var S=[],A=0;31>A;A++)S.push(m);return S}function D(m,S){m.pendingLanes|=S,S!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function L(m,S,A,R,k,F){var $=m.pendingLanes;m.pendingLanes=A,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=A,m.entangledLanes&=A,m.errorRecoveryDisabledLanes&=A,m.shellSuspendCounter=0;var ce=m.entanglements,Fe=m.expirationTimes,Je=m.hiddenUpdates;for(A=$&~A;0<A;){var _t=31-co(A),st=1<<_t;ce[_t]=0,Fe[_t]=-1;var Nt=Je[_t];if(Nt!==null)for(Je[_t]=null,_t=0;_t<Nt.length;_t++){var Cn=Nt[_t];Cn!==null&&(Cn.lane&=-536870913)}A&=~st}R!==0&&z(m,R,0),F!==0&&k===0&&m.tag!==0&&(m.suspendedLanes|=F&~($&~S))}function z(m,S,A){m.pendingLanes|=S,m.suspendedLanes&=~S;var R=31-co(S);m.entangledLanes|=S,m.entanglements[R]=m.entanglements[R]|1073741824|A&261930}function P(m,S){var A=m.entangledLanes|=S;for(m=m.entanglements;A;){var R=31-co(A),k=1<<R;k&S|m[R]&S&&(m[R]|=S),A&=~k}}function N(m,S){var A=S&-S;return A=(A&42)!==0?1:B(A),(A&(m.suspendedLanes|S))!==0?0:A}function B(m){switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=128;break;case 268435456:m=134217728;break;default:m=0}return m}function G(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function U(m){if(typeof uS=="function"&&YT(m),fo&&typeof fo.setStrictMode=="function")try{fo.setStrictMode(Hf,m)}catch{}}function X(m,S){return m===S&&(m!==0||1/m===1/S)||m!==m&&S!==S}function q(m){if(yy===void 0)try{throw Error()}catch(A){var S=A.stack.trim().match(/\n( *(at )?)/);yy=S&&S[1]||"",_l=-1<A.stack.indexOf(`
    at`)?" (<anonymous>)":-1<A.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yy+m+_l}function V(m,S){if(!m||hv)return"";hv=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(S){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Cn){var Nt=Cn}Reflect.construct(m,[],st)}else{try{st.call()}catch(Cn){Nt=Cn}m.call(st.prototype)}}else{try{throw Error()}catch(Cn){Nt=Cn}(st=m())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Cn){if(Cn&&Nt&&typeof Cn.stack=="string")return[Cn.stack,Nt.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=R.DetermineComponentFrameRoot(),$=F[0],ce=F[1];if($&&ce){var Fe=$.split(`
`),Je=ce.split(`
`);for(k=R=0;R<Fe.length&&!Fe[R].includes("DetermineComponentFrameRoot");)R++;for(;k<Je.length&&!Je[k].includes("DetermineComponentFrameRoot");)k++;if(R===Fe.length||k===Je.length)for(R=Fe.length-1,k=Je.length-1;1<=R&&0<=k&&Fe[R]!==Je[k];)k--;for(;1<=R&&0<=k;R--,k--)if(Fe[R]!==Je[k]){if(R!==1||k!==1)do if(R--,k--,0>k||Fe[R]!==Je[k]){var _t=`
`+Fe[R].replace(" at new "," at ");return m.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",m.displayName)),_t}while(1<=R&&0<=k);break}}}finally{hv=!1,Error.prepareStackTrace=A}return(A=m?m.displayName||m.name:"")?q(A):""}function j(m,S){switch(m.tag){case 26:case 27:case 5:return q(m.type);case 16:return q("Lazy");case 13:return m.child!==S&&S!==null?q("Suspense Fallback"):q("Suspense");case 19:return q("SuspenseList");case 0:case 15:return V(m.type,!1);case 11:return V(m.type.render,!1);case 1:return V(m.type,!0);case 31:return q("Activity");default:return""}}function K(m){try{var S="",A=null;do S+=j(m,A),A=m,m=m.return;while(m);return S}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}function te(m,S){if(typeof m=="object"&&m!==null){var A=cS.get(m);return A!==void 0?A:(S={value:m,source:S,stack:K(S)},cS.set(m,S),S)}return{value:m,source:S,stack:K(S)}}function ie(m,S){yu[xl++]=dv,yu[xl++]=Ci,Ci=m,dv=S}function Y(m,S,A){ds[Bo++]=ha,ds[Bo++]=Ns,ds[Bo++]=ps,ps=m;var R=ha;m=Ns;var k=32-co(R)-1;R&=~(1<<k),A+=1;var F=32-co(S)+k;if(30<F){var $=k-k%5;F=(R&(1<<$)-1).toString(32),R>>=$,k-=$,ha=1<<32-co(S)+k|A<<k|R,Ns=F+m}else ha=1<<F|A<<k|R,Ns=m}function ee(m){m.return!==null&&(ie(m,1),Y(m,1,0))}function oe(m){for(;m===Ci;)Ci=yu[--xl],yu[xl]=null,dv=yu[--xl],yu[xl]=null;for(;m===ps;)ps=ds[--Bo],ds[Bo]=null,Ns=ds[--Bo],ds[Bo]=null,ha=ds[--Bo],ds[Bo]=null}function de(m,S){ds[Bo++]=ha,ds[Bo++]=Ns,ds[Bo++]=ps,ha=S.id,Ns=S.overflow,ps=m}function Pe(m,S){g(da,S),g(_u,m),g(na,null),m=aT(S),p(na),g(na,m)}function he(){p(na),p(_u),p(da)}function Se(m){m.memoizedState!==null&&g(pv,m);var S=na.current,A=ud(S,m.type);S!==A&&(g(_u,m),g(na,A))}function Ee(m){_u.current===m&&(p(na),p(_u)),pv.current===m&&(p(pv),cr?Uf._currentValue=kf:Uf._currentValue2=kf)}function Te(m){var S=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ue(te(S,m)),_y}function He(m,S){if(!Xi)throw Error(r(175));LT(m.stateNode,m.type,m.memoizedProps,S,m)||Te(m,!0)}function We(m){for(Vr=m.return;Vr;)switch(Vr.tag){case 5:case 31:case 13:Xa=!1;return;case 27:case 3:Xa=!0;return;default:Vr=Vr.return}}function Qe(m){if(!Xi||m!==Vr)return!1;if(!Zn)return We(m),Zn=!0,!1;var S=m.tag;if(Fr?S!==3&&S!==27&&(S!==5||hd(m.type)&&!Wa(m.type,m.memoizedProps))&&Yi&&Te(m):S!==3&&(S!==5||hd(m.type)&&!Wa(m.type,m.memoizedProps))&&Yi&&Te(m),We(m),S===13){if(!Xi)throw Error(r(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));Yi=Qx(m)}else if(S===31){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));Yi=PT(m)}else Yi=Fr&&S===27?MT(m.type,Yi):Vr?bT(m.stateNode):null;return!0}function yt(){Xi&&(Yi=Vr=null,Zn=!1)}function be(){var m=Sl;return m!==null&&(vo===null?vo=m:vo.push.apply(vo,m),Sl=null),m}function Ue(m){Sl===null?Sl=[m]:Sl.push(m)}function Ie(m,S,A){cr?(g(vs,S._currentValue),S._currentValue=A):(g(vs,S._currentValue2),S._currentValue2=A)}function $e(m){var S=vs.current;cr?m._currentValue=S:m._currentValue2=S,p(vs)}function ae(m,S,A){for(;m!==null;){var R=m.alternate;if((m.childLanes&S)!==S?(m.childLanes|=S,R!==null&&(R.childLanes|=S)):R!==null&&(R.childLanes&S)!==S&&(R.childLanes|=S),m===A)break;m=m.return}}function Mt(m,S,A,R){var k=m.child;for(k!==null&&(k.return=m);k!==null;){var F=k.dependencies;if(F!==null){var $=k.child;F=F.firstContext;e:for(;F!==null;){var ce=F;F=k;for(var Fe=0;Fe<S.length;Fe++)if(ce.context===S[Fe]){F.lanes|=A,ce=F.alternate,ce!==null&&(ce.lanes|=A),ae(F.return,A,m),R||($=null);break e}F=ce.next}}else if(k.tag===18){if($=k.return,$===null)throw Error(r(341));$.lanes|=A,F=$.alternate,F!==null&&(F.lanes|=A),ae($,A,m),$=null}else $=k.child;if($!==null)$.return=k;else for($=k;$!==null;){if($===m){$=null;break}if(k=$.sibling,k!==null){k.return=$.return,$=k;break}$=$.return}k=$}}function vt(m,S,A,R){m=null;for(var k=S,F=!1;k!==null;){if(!F){if((k.flags&524288)!==0)F=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var $=k.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var ce=k.type;hr(k.pendingProps.value,$.value)||(m!==null?m.push(ce):m=[ce])}}else if(k===pv.current){if($=k.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(m!==null?m.push(Uf):m=[Uf])}k=k.return}m!==null&&Mt(S,m,A,R),S.flags|=262144}function Vt(m){for(m=m.firstContext;m!==null;){var S=m.context;if(!hr(cr?S._currentValue:S._currentValue2,m.memoizedValue))return!0;m=m.next}return!1}function ot(m){Oi=m,Os=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function ne(m){return ve(Oi,m)}function Z(m,S){return Oi===null&&ot(m),ve(m,S)}function ve(m,S){var A=cr?S._currentValue:S._currentValue2;if(S={context:S,memoizedValue:A,next:null},Os===null){if(m===null)throw Error(r(308));Os=S,m.dependencies={lanes:0,firstContext:S},m.flags|=524288}else Os=Os.next=S;return A}function ke(){return{controller:new qT,data:new Map,refCount:0}}function qe(m){m.refCount--,m.refCount===0&&ia(RL,function(){m.controller.abort()})}function Be(){}function Dt(m){m!==yi&&m.next===null&&(yi===null?vv=yi=m:yi=yi.next=m),gs=!0,Ea||(Ea=!0,se())}function ht(m,S){if(!xy&&gs){xy=!0;do for(var A=!1,R=vv;R!==null;){if(m!==0){var k=R.pendingLanes;if(k===0)var F=0;else{var $=R.suspendedLanes,ce=R.pingedLanes;F=(1<<31-co(42|m)+1)-1,F&=k&~($&~ce),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(A=!0,wt(R,F))}else F=jn,F=x(R,R===Fn?F:0,R.cancelPendingCommit!==null||R.timeoutHandle!==uo),(F&3)===0||M(R,F)||(A=!0,wt(R,F));R=R.next}while(A);xy=!1}}function Ft(){tn()}function tn(){gs=Ea=!1;var m=0;_c!==0&&Bf()&&(m=_c);for(var S=Ca(),A=null,R=vv;R!==null;){var k=R.next,F=et(R,S);F===0?(R.next=null,A===null?vv=k:A.next=k,k===null&&(yi=A)):(A=R,(m!==0||(F&3)!==0)&&(gs=!0)),R=k}Cr!==0&&Cr!==5||ht(m),_c!==0&&(_c=0)}function et(m,S){for(var A=m.suspendedLanes,R=m.pingedLanes,k=m.expirationTimes,F=m.pendingLanes&-62914561;0<F;){var $=31-co(F),ce=1<<$,Fe=k[$];Fe===-1?((ce&A)===0||(ce&R)!==0)&&(k[$]=T(ce,S)):Fe<=S&&(m.expiredLanes|=ce),F&=~ce}if(S=Fn,A=jn,A=x(m,m===S?A:0,m.cancelPendingCommit!==null||m.timeoutHandle!==uo),R=m.callbackNode,A===0||m===S&&(xi===2||xi===9)||m.cancelPendingCommit!==null)return R!==null&&R!==null&&py(R),m.callbackNode=null,m.callbackPriority=0;if((A&3)===0||M(m,A)){if(S=A&-A,S===m.callbackPriority)return S;switch(R!==null&&py(R),G(A)){case 2:case 8:A=XT;break;case 32:A=fv;break;case 268435456:A=gy;break;default:A=fv}return R=ft.bind(null,m),A=cv(A,R),m.callbackPriority=S,m.callbackNode=A,S}return R!==null&&R!==null&&py(R),m.callbackPriority=2,m.callbackNode=null,2}function ft(m,S){if(Cr!==0&&Cr!==5)return m.callbackNode=null,m.callbackPriority=0,null;var A=m.callbackNode;if(gl()&&m.callbackNode!==A)return null;var R=jn;return R=x(m,m===Fn?R:0,m.cancelPendingCommit!==null||m.timeoutHandle!==uo),R===0?null:(Ps(m,R,S),et(m,Ca()),m.callbackNode!=null&&m.callbackNode===A?ft.bind(null,m):null)}function wt(m,S){if(gl())return null;Ps(m,S,!0)}function se(){zx?Bx(function(){(Xn&6)!==0?cv(vy,Ft):tn()}):cv(vy,Ft)}function Me(){if(_c===0){var m=xu;m===0&&(m=dy,dy<<=1,(dy&261888)===0&&(dy=256)),_c=m}return _c}function mt(m,S){if(pd===null){var A=pd=[];fS=0,xu=Me(),Gr={status:"pending",value:void 0,then:function(R){A.push(R)}}}return fS++,S.then(le,le),S}function le(){if(--fS===0&&pd!==null){Gr!==null&&(Gr.status="fulfilled");var m=pd;pd=null,xu=0,Gr=null;for(var S=0;S<m.length;S++)(0,m[S])()}}function ut(m,S){var A=[],R={status:"pending",value:null,reason:null,then:function(k){A.push(k)}};return m.then(function(){R.status="fulfilled",R.value=S;for(var k=0;k<A.length;k++)(0,A[k])(S)},function(k){for(R.status="rejected",R.reason=k,k=0;k<A.length;k++)(0,A[k])(void 0)}),R}function tt(){var m=xc.current;return m!==null?m:Fn.pooledCache}function xt(m,S){S===null?g(xc,xc.current):g(xc,S.pool)}function nt(){var m=tt();return m===null?null:{parent:cr?qi._currentValue:qi._currentValue2,pool:m}}function Ye(m,S){if(hr(m,S))return!0;if(typeof m!="object"||m===null||typeof S!="object"||S===null)return!1;var A=Object.keys(m),R=Object.keys(S);if(A.length!==R.length)return!1;for(R=0;R<A.length;R++){var k=A[R];if(!DL.call(S,k)||!hr(m[k],S[k]))return!1}return!0}function ct(m){return m=m.status,m==="fulfilled"||m==="rejected"}function $t(m,S,A){switch(A=m[A],A===void 0?m.push(S):A!==S&&(S.then(Be,Be),S=A),S.status){case"fulfilled":return S.value;case"rejected":throw m=S.reason,ji(m),m;default:if(typeof S.status=="string")S.then(Be,Be);else{if(m=Fn,m!==null&&100<m.shellSuspendCounter)throw Error(r(482));m=S,m.status="pending",m.then(function(R){if(S.status==="pending"){var k=S;k.status="fulfilled",k.value=R}},function(R){if(S.status==="pending"){var k=S;k.status="rejected",k.reason=R}})}switch(S.status){case"fulfilled":return S.value;case"rejected":throw m=S.reason,ji(m),m}throw Ya=S,Hr}}function Nn(m){try{var S=m._init;return S(m._payload)}catch(A){throw A!==null&&typeof A=="object"&&typeof A.then=="function"?(Ya=A,Hr):A}}function Bn(){if(Ya===null)throw Error(r(459));var m=Ya;return Ya=null,m}function ji(m){if(m===Hr||m===ys)throw Error(r(483))}function zr(m){var S=Wf;return Wf+=1,Sc===null&&(Sc=[]),$t(Sc,m,S)}function $u(m,S){S=S.props.ref,m.ref=S!==void 0?S:null}function Qu(m,S){throw S.$$typeof===If?Error(r(525)):(m=Object.prototype.toString.call(S),Error(r(31,m==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":m)))}function _f(m){function S(Re,xe){if(m){var Oe=Re.deletions;Oe===null?(Re.deletions=[xe],Re.flags|=16):Oe.push(xe)}}function A(Re,xe){if(!m)return null;for(;xe!==null;)S(Re,xe),xe=xe.sibling;return null}function R(Re){for(var xe=new Map;Re!==null;)Re.key!==null?xe.set(Re.key,Re):xe.set(Re.index,Re),Re=Re.sibling;return xe}function k(Re,xe){return Re=Oo(Re,xe),Re.index=0,Re.sibling=null,Re}function F(Re,xe,Oe){return Re.index=Oe,m?(Oe=Re.alternate,Oe!==null?(Oe=Oe.index,Oe<xe?(Re.flags|=67108866,xe):Oe):(Re.flags|=67108866,xe)):(Re.flags|=1048576,xe)}function $(Re){return m&&Re.alternate===null&&(Re.flags|=67108866),Re}function ce(Re,xe,Oe,pt){return xe===null||xe.tag!==6?(xe=Tx(Oe,Re.mode,pt),xe.return=Re,xe):(xe=k(xe,Oe),xe.return=Re,xe)}function Fe(Re,xe,Oe,pt){var ln=Oe.type;return ln===Nf?_t(Re,xe,Oe.props.children,pt,Oe.key):xe!==null&&(xe.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===Ha&&Nn(ln)===xe.type)?(xe=k(xe,Oe.props),$u(xe,Oe),xe.return=Re,xe):(xe=du(Oe.type,Oe.key,Oe.props,null,Re.mode,pt),$u(xe,Oe),xe.return=Re,xe)}function Je(Re,xe,Oe,pt){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Oe.containerInfo||xe.stateNode.implementation!==Oe.implementation?(xe=Cx(Oe,Re.mode,pt),xe.return=Re,xe):(xe=k(xe,Oe.children||[]),xe.return=Re,xe)}function _t(Re,xe,Oe,pt,ln){return xe===null||xe.tag!==7?(xe=us(Oe,Re.mode,pt,ln),xe.return=Re,xe):(xe=k(xe,Oe),xe.return=Re,xe)}function st(Re,xe,Oe){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=Tx(""+xe,Re.mode,Oe),xe.return=Re,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case ml:return Oe=du(xe.type,xe.key,xe.props,null,Re.mode,Oe),$u(Oe,xe),Oe.return=Re,Oe;case Pf:return xe=Cx(xe,Re.mode,Oe),xe.return=Re,xe;case Ha:return xe=Nn(xe),st(Re,xe,Oe)}if(vc(xe)||c(xe))return xe=us(xe,Re.mode,Oe,null),xe.return=Re,xe;if(typeof xe.then=="function")return st(Re,zr(xe),Oe);if(xe.$$typeof===cs)return st(Re,Z(Re,xe),Oe);Qu(Re,xe)}return null}function Nt(Re,xe,Oe,pt){var ln=xe!==null?xe.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ln!==null?null:ce(Re,xe,""+Oe,pt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case ml:return Oe.key===ln?Fe(Re,xe,Oe,pt):null;case Pf:return Oe.key===ln?Je(Re,xe,Oe,pt):null;case Ha:return Oe=Nn(Oe),Nt(Re,xe,Oe,pt)}if(vc(Oe)||c(Oe))return ln!==null?null:_t(Re,xe,Oe,pt,null);if(typeof Oe.then=="function")return Nt(Re,xe,zr(Oe),pt);if(Oe.$$typeof===cs)return Nt(Re,xe,Z(Re,Oe),pt);Qu(Re,Oe)}return null}function Cn(Re,xe,Oe,pt,ln){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Re=Re.get(Oe)||null,ce(xe,Re,""+pt,ln);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case ml:return Re=Re.get(pt.key===null?Oe:pt.key)||null,Fe(xe,Re,pt,ln);case Pf:return Re=Re.get(pt.key===null?Oe:pt.key)||null,Je(xe,Re,pt,ln);case Ha:return pt=Nn(pt),Cn(Re,xe,Oe,pt,ln)}if(vc(pt)||c(pt))return Re=Re.get(Oe)||null,_t(xe,Re,pt,ln,null);if(typeof pt.then=="function")return Cn(Re,xe,Oe,zr(pt),ln);if(pt.$$typeof===cs)return Cn(Re,xe,Oe,Z(xe,pt),ln);Qu(xe,pt)}return null}function vr(Re,xe,Oe,pt){for(var ln=null,ir=null,cn=xe,oi=xe=0,ra=null;cn!==null&&oi<Oe.length;oi++){cn.index>oi?(ra=cn,cn=null):ra=cn.sibling;var hi=Nt(Re,cn,Oe[oi],pt);if(hi===null){cn===null&&(cn=ra);break}m&&cn&&hi.alternate===null&&S(Re,cn),xe=F(hi,xe,oi),ir===null?ln=hi:ir.sibling=hi,ir=hi,cn=ra}if(oi===Oe.length)return A(Re,cn),Zn&&ie(Re,oi),ln;if(cn===null){for(;oi<Oe.length;oi++)cn=st(Re,Oe[oi],pt),cn!==null&&(xe=F(cn,xe,oi),ir===null?ln=cn:ir.sibling=cn,ir=cn);return Zn&&ie(Re,oi),ln}for(cn=R(cn);oi<Oe.length;oi++)ra=Cn(cn,Re,oi,Oe[oi],pt),ra!==null&&(m&&ra.alternate!==null&&cn.delete(ra.key===null?oi:ra.key),xe=F(ra,xe,oi),ir===null?ln=ra:ir.sibling=ra,ir=ra);return m&&cn.forEach(function(Ss){return S(Re,Ss)}),Zn&&ie(Re,oi),ln}function bd(Re,xe,Oe,pt){if(Oe==null)throw Error(r(151));for(var ln=null,ir=null,cn=xe,oi=xe=0,ra=null,hi=Oe.next();cn!==null&&!hi.done;oi++,hi=Oe.next()){cn.index>oi?(ra=cn,cn=null):ra=cn.sibling;var Ss=Nt(Re,cn,hi.value,pt);if(Ss===null){cn===null&&(cn=ra);break}m&&cn&&Ss.alternate===null&&S(Re,cn),xe=F(Ss,xe,oi),ir===null?ln=Ss:ir.sibling=Ss,ir=Ss,cn=ra}if(hi.done)return A(Re,cn),Zn&&ie(Re,oi),ln;if(cn===null){for(;!hi.done;oi++,hi=Oe.next())hi=st(Re,hi.value,pt),hi!==null&&(xe=F(hi,xe,oi),ir===null?ln=hi:ir.sibling=hi,ir=hi);return Zn&&ie(Re,oi),ln}for(cn=R(cn);!hi.done;oi++,hi=Oe.next())hi=Cn(cn,Re,oi,hi.value,pt),hi!==null&&(m&&hi.alternate!==null&&cn.delete(hi.key===null?oi:hi.key),xe=F(hi,xe,oi),ir===null?ln=hi:ir.sibling=hi,ir=hi);return m&&cn.forEach(function(LL){return S(Re,LL)}),Zn&&ie(Re,oi),ln}function Dc(Re,xe,Oe,pt){if(typeof Oe=="object"&&Oe!==null&&Oe.type===Nf&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case ml:e:{for(var ln=Oe.key;xe!==null;){if(xe.key===ln){if(ln=Oe.type,ln===Nf){if(xe.tag===7){A(Re,xe.sibling),pt=k(xe,Oe.props.children),pt.return=Re,Re=pt;break e}}else if(xe.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===Ha&&Nn(ln)===xe.type){A(Re,xe.sibling),pt=k(xe,Oe.props),$u(pt,Oe),pt.return=Re,Re=pt;break e}A(Re,xe);break}else S(Re,xe);xe=xe.sibling}Oe.type===Nf?(pt=us(Oe.props.children,Re.mode,pt,Oe.key),pt.return=Re,Re=pt):(pt=du(Oe.type,Oe.key,Oe.props,null,Re.mode,pt),$u(pt,Oe),pt.return=Re,Re=pt)}return $(Re);case Pf:e:{for(ln=Oe.key;xe!==null;){if(xe.key===ln)if(xe.tag===4&&xe.stateNode.containerInfo===Oe.containerInfo&&xe.stateNode.implementation===Oe.implementation){A(Re,xe.sibling),pt=k(xe,Oe.children||[]),pt.return=Re,Re=pt;break e}else{A(Re,xe);break}else S(Re,xe);xe=xe.sibling}pt=Cx(Oe,Re.mode,pt),pt.return=Re,Re=pt}return $(Re);case Ha:return Oe=Nn(Oe),Dc(Re,xe,Oe,pt)}if(vc(Oe))return vr(Re,xe,Oe,pt);if(c(Oe)){if(ln=c(Oe),typeof ln!="function")throw Error(r(150));return Oe=ln.call(Oe),bd(Re,xe,Oe,pt)}if(typeof Oe.then=="function")return Dc(Re,xe,zr(Oe),pt);if(Oe.$$typeof===cs)return Dc(Re,xe,Z(Re,Oe),pt);Qu(Re,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,xe!==null&&xe.tag===6?(A(Re,xe.sibling),pt=k(xe,Oe),pt.return=Re,Re=pt):(A(Re,xe),pt=Tx(Oe,Re.mode,pt),pt.return=Re,Re=pt),$(Re)):A(Re,xe)}return function(Re,xe,Oe,pt){try{Wf=0;var ln=Dc(Re,xe,Oe,pt);return Sc=null,ln}catch(cn){if(cn===Hr||cn===ys)throw cn;var ir=t(29,cn,null,Re.mode);return ir.lanes=pt,ir.return=Re,ir}}}function Ju(){for(var m=Ml,S=Xf=Ml=0;S<m;){var A=va[S];va[S++]=null;var R=va[S];va[S++]=null;var k=va[S];va[S++]=null;var F=va[S];if(va[S++]=null,R!==null&&k!==null){var $=R.pending;$===null?k.next=k:(k.next=$.next,$.next=k),R.pending=k}F!==0&&Eo(A,k,F)}}function iu(m,S,A,R){va[Ml++]=m,va[Ml++]=S,va[Ml++]=A,va[Ml++]=R,Xf|=R,m.lanes|=R,m=m.alternate,m!==null&&(m.lanes|=R)}function xf(m,S,A,R){return iu(m,S,A,R),Ki(m)}function wa(m,S){return iu(m,null,null,S),Ki(m)}function Eo(m,S,A){m.lanes|=A;var R=m.alternate;R!==null&&(R.lanes|=A);for(var k=!1,F=m.return;F!==null;)F.childLanes|=A,R=F.alternate,R!==null&&(R.childLanes|=A),F.tag===22&&(m=F.stateNode,m===null||m._visibility&1||(k=!0)),m=F,F=F.return;return m.tag===3?(F=m.stateNode,k&&S!==null&&(k=31-co(A),m=F.hiddenUpdates,R=m[k],R===null?m[k]=[S]:R.push(S),S.lane=A|536870912),F):null}function Ki(m){if(50<ui)throw ui=0,Sv=null,Error(r(185));for(var S=m.return;S!==null;)m=S,S=m.return;return m.tag===3?m.stateNode:null}function Br(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Do(m,S){m=m.updateQueue,S.updateQueue===m&&(S.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function Ro(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function Lo(m,S,A){var R=m.updateQueue;if(R===null)return null;if(R=R.shared,(Xn&2)!==0){var k=R.pending;return k===null?S.next=S:(S.next=k.next,k.next=S),R.pending=S,S=Ki(m),Eo(m,null,A),S}return iu(m,R,S,A),Ki(m)}function ec(m,S,A){if(S=S.updateQueue,S!==null&&(S=S.shared,(A&4194048)!==0)){var R=S.lanes;R&=m.pendingLanes,A|=R,S.lanes=A,P(m,A)}}function Sf(m,S){var A=m.updateQueue,R=m.alternate;if(R!==null&&(R=R.updateQueue,A===R)){var k=null,F=null;if(A=A.firstBaseUpdate,A!==null){do{var $={lane:A.lane,tag:A.tag,payload:A.payload,callback:null,next:null};F===null?k=F=$:F=F.next=$,A=A.next}while(A!==null);F===null?k=F=S:F=F.next=S}else k=F=S;A={baseState:R.baseState,firstBaseUpdate:k,lastBaseUpdate:F,shared:R.shared,callbacks:R.callbacks},m.updateQueue=A;return}m=A.lastBaseUpdate,m===null?A.firstBaseUpdate=S:m.next=S,A.lastBaseUpdate=S}function Ls(){if(by){var m=Gr;if(m!==null)throw m}}function ru(m,S,A,R){by=!1;var k=m.updateQueue;ko=!1;var F=k.firstBaseUpdate,$=k.lastBaseUpdate,ce=k.shared.pending;if(ce!==null){k.shared.pending=null;var Fe=ce,Je=Fe.next;Fe.next=null,$===null?F=Je:$.next=Je,$=Fe;var _t=m.alternate;_t!==null&&(_t=_t.updateQueue,ce=_t.lastBaseUpdate,ce!==$&&(ce===null?_t.firstBaseUpdate=Je:ce.next=Je,_t.lastBaseUpdate=Fe))}if(F!==null){var st=k.baseState;$=0,_t=Je=Fe=null,ce=F;do{var Nt=ce.lane&-536870913,Cn=Nt!==ce.lane;if(Cn?(jn&Nt)===Nt:(R&Nt)===Nt){Nt!==0&&Nt===xu&&(by=!0),_t!==null&&(_t=_t.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var vr=m,bd=ce;Nt=S;var Dc=A;switch(bd.tag){case 1:if(vr=bd.payload,typeof vr=="function"){st=vr.call(Dc,st,Nt);break e}st=vr;break e;case 3:vr.flags=vr.flags&-65537|128;case 0:if(vr=bd.payload,Nt=typeof vr=="function"?vr.call(Dc,st,Nt):vr,Nt==null)break e;st=Km({},st,Nt);break e;case 2:ko=!0}}Nt=ce.callback,Nt!==null&&(m.flags|=64,Cn&&(m.flags|=8192),Cn=k.callbacks,Cn===null?k.callbacks=[Nt]:Cn.push(Nt))}else Cn={lane:Nt,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},_t===null?(Je=_t=Cn,Fe=st):_t=_t.next=Cn,$|=Nt;if(ce=ce.next,ce===null){if(ce=k.shared.pending,ce===null)break;Cn=ce,ce=Cn.next,Cn.next=null,k.lastBaseUpdate=Cn,k.shared.pending=null}}while(!0);_t===null&&(Fe=st),k.baseState=Fe,k.firstBaseUpdate=Je,k.lastBaseUpdate=_t,F===null&&(k.shared.lanes=0),bu|=$,m.lanes=$,m.memoizedState=st}}function au(m,S){if(typeof m!="function")throw Error(r(191,m));m.call(S)}function ou(m,S){var A=m.callbacks;if(A!==null)for(m.callbacks=null,m=0;m<A.length;m++)au(A[m],S)}function tc(m,S){m=wl,g(bc,m),g(Yf,S),wl=m|S.baseLanes}function rl(){g(bc,wl),g(Yf,Yf.current)}function Q(){wl=bc.current,p(Yf),p(bc)}function me(m){var S=m.alternate;g(ar,ar.current&1),g(ho,m),po===null&&(S===null||Yf.current!==null||S.memoizedState!==null)&&(po=m)}function Ne(m){g(ar,ar.current),g(ho,m),po===null&&(po=m)}function De(m){m.tag===22?(g(ar,ar.current),g(ho,m),po===null&&(po=m)):_e()}function _e(){g(ar,ar.current),g(ho,ho.current)}function dt(m){p(ho),po===m&&(po=null),p(ar)}function Pt(m){for(var S=m;S!==null;){if(S.tag===13){var A=S.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||mc(A)||ry(A)))return S}else if(S.tag===19&&(S.memoizedProps.revealOrder==="forwards"||S.memoizedProps.revealOrder==="backwards"||S.memoizedProps.revealOrder==="unstable_legacy-backwards"||S.memoizedProps.revealOrder==="together")){if((S.flags&128)!==0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}function lt(){throw Error(r(321))}function Gt(m,S){if(S===null)return!1;for(var A=0;A<S.length&&A<m.length;A++)if(!hr(m[A],S[A]))return!1;return!0}function Wt(m,S,A,R,k,F){return Su=F,Rn=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,an.H=m===null||m.memoizedState===null?er:Tl,ni=!1,F=A(R,k),ni=!1,On&&(F=Yt(S,A,R,k)),rn(m),F}function rn(m){an.H=Uo;var S=Kt!==null&&Kt.next!==null;if(Su=0,Mn=Kt=Rn=null,Un=!1,_s=0,zs=null,S)throw Error(r(300));m===null||Vi||(m=m.dependencies,m!==null&&Vt(m)&&(Vi=!0))}function Yt(m,S,A,R){Rn=m;var k=0;do{if(On&&(zs=null),_s=0,On=!1,25<=k)throw Error(r(301));if(k+=1,Mn=Kt=null,m.updateQueue!=null){var F=m.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}an.H=Mc,F=S(A,R)}while(On);return F}function un(){var m=an.H,S=m.useState()[0];return S=typeof S.then=="function"?pn(S):S,m=m.useState()[0],(Kt!==null?Kt.memoizedState:null)!==m&&(Rn.flags|=1024),S}function li(){var m=Da!==0;return Da=0,m}function Ii(m,S,A){S.updateQueue=m.updateQueue,S.flags&=-2053,m.lanes&=~A}function wi(m){if(Un){for(m=m.memoizedState;m!==null;){var S=m.queue;S!==null&&(S.pending=null),m=m.next}Un=!1}Su=0,Mn=Kt=Rn=null,On=!1,_s=Da=0,zs=null}function wn(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?Rn.memoizedState=Mn=m:Mn=Mn.next=m,Mn}function Tt(){if(Kt===null){var m=Rn.alternate;m=m!==null?m.memoizedState:null}else m=Kt.next;var S=Mn===null?Rn.memoizedState:Mn.next;if(S!==null)Mn=S,Kt=m;else{if(m===null)throw Rn.alternate===null?Error(r(467)):Error(r(310));Kt=m,m={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Mn===null?Rn.memoizedState=Mn=m:Mn=Mn.next=m}return Mn}function ai(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pn(m){var S=_s;return _s+=1,zs===null&&(zs=[]),m=$t(zs,m,S),S=Rn,(Mn===null?S.memoizedState:Mn.next)===null&&(S=S.alternate,an.H=S===null||S.memoizedState===null?er:Tl),m}function br(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return pn(m);if(m.$$typeof===cs)return ne(m)}throw Error(r(438,String(m)))}function Is(m){var S=null,A=Rn.updateQueue;if(A!==null&&(S=A.memoCache),S==null){var R=Rn.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(S={data:R.data.map(function(k){return k.slice()}),index:0})))}if(S==null&&(S={data:[],index:0}),A===null&&(A=ai(),Rn.updateQueue=A),A.memoCache=S,A=S.data[S.index],A===void 0)for(A=S.data[S.index]=Array(m),R=0;R<m;R++)A[R]=Dx;return S.index++,A}function Fi(m,S){return typeof S=="function"?S(m):S}function Ua(m){var S=Tt();return pi(S,Kt,m)}function pi(m,S,A){var R=m.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=A;var k=m.baseQueue,F=R.pending;if(F!==null){if(k!==null){var $=k.next;k.next=F.next,F.next=$}S.baseQueue=k=F,R.pending=null}if(F=m.baseState,k===null)m.memoizedState=F;else{S=k.next;var ce=$=null,Fe=null,Je=S,_t=!1;do{var st=Je.lane&-536870913;if(st!==Je.lane?(jn&st)===st:(Su&st)===st){var Nt=Je.revertLane;if(Nt===0)Fe!==null&&(Fe=Fe.next={lane:0,revertLane:0,gesture:null,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),st===xu&&(_t=!0);else if((Su&Nt)===Nt){Je=Je.next,Nt===xu&&(_t=!0);continue}else st={lane:0,revertLane:Je.revertLane,gesture:null,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Fe===null?(ce=Fe=st,$=F):Fe=Fe.next=st,Rn.lanes|=Nt,bu|=Nt;st=Je.action,ni&&A(F,st),F=Je.hasEagerState?Je.eagerState:A(F,st)}else Nt={lane:st,revertLane:Je.revertLane,gesture:Je.gesture,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Fe===null?(ce=Fe=Nt,$=F):Fe=Fe.next=Nt,Rn.lanes|=st,bu|=st;Je=Je.next}while(Je!==null&&Je!==S);if(Fe===null?$=F:Fe.next=ce,!hr(F,m.memoizedState)&&(Vi=!0,_t&&(A=Gr,A!==null)))throw A;m.memoizedState=F,m.baseState=$,m.baseQueue=Fe,R.lastRenderedState=F}return k===null&&(R.lanes=0),[m.memoizedState,R.dispatch]}function kr(m){var S=Tt(),A=S.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=m;var R=A.dispatch,k=A.pending,F=S.memoizedState;if(k!==null){A.pending=null;var $=k=k.next;do F=m(F,$.action),$=$.next;while($!==k);hr(F,S.memoizedState)||(Vi=!0),S.memoizedState=F,S.baseQueue===null&&(S.baseState=F),A.lastRenderedState=F}return[F,R]}function Mr(m,S,A){var R=Rn,k=Tt(),F=Zn;if(F){if(A===void 0)throw Error(r(407));A=A()}else A=S();var $=!hr((Kt||k).memoizedState,A);if($&&(k.memoizedState=A,Vi=!0),k=k.queue,Gh(bf.bind(null,R,k,m),[m]),k.getSnapshot!==S||$||Mn!==null&&Mn.memoizedState.tag&1){if(R.flags|=2048,Io(9,{destroy:void 0},Qr.bind(null,R,k,A,S),null),Fn===null)throw Error(r(349));F||(Su&127)!==0||$r(R,S,A)}return A}function $r(m,S,A){m.flags|=16384,m={getSnapshot:S,value:A},S=Rn.updateQueue,S===null?(S=ai(),Rn.updateQueue=S,S.stores=[m]):(A=S.stores,A===null?S.stores=[m]:A.push(m))}function Qr(m,S,A,R){S.value=A,S.getSnapshot=R,is(S)&&CM(m)}function bf(m,S,A){return A(function(){is(S)&&CM(m)})}function is(m){var S=m.getSnapshot;m=m.value;try{var A=S();return!hr(m,A)}catch{return!0}}function CM(m){var S=wa(m,2);S!==null&&Qi(S,m,2)}function J_(m){var S=wn();if(typeof m=="function"){var A=m;if(m=A(),ni){U(!0);try{A()}finally{U(!1)}}}return S.memoizedState=S.baseState=m,S.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:m},S}function Bp(m,S,A,R){return m.baseState=A,pi(m,Kt,typeof R=="function"?R:Fi)}function su(m,S,A,R,k){if(Rm(m))throw Error(r(485));if(m=S.action,m!==null){var F={payload:k,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){F.listeners.push($)}};an.T!==null?A(!0):F.isTransition=!1,R(F),A=S.pending,A===null?(F.next=S.pending=F,Mm(S,F)):(F.next=A.next,S.pending=A.next=F)}}function Mm(m,S){var A=S.action,R=S.payload,k=m.state;if(S.isTransition){var F=an.T,$={};an.T=$;try{var ce=A(k,R),Fe=an.S;Fe!==null&&Fe($,ce),Tm(m,S,ce)}catch(Je){nc(m,S,Je)}finally{F!==null&&$.types!==null&&(F.types=$.types),an.T=F}}else try{F=A(k,R),Tm(m,S,F)}catch(Je){nc(m,S,Je)}}function Tm(m,S,A){A!==null&&typeof A=="object"&&typeof A.then=="function"?A.then(function(R){Mf(m,S,R)},function(R){return nc(m,S,R)}):Mf(m,S,A)}function Mf(m,S,A){S.status="fulfilled",S.value=A,ex(S),m.state=A,S=m.pending,S!==null&&(A=S.next,A===S?m.pending=null:(A=A.next,S.next=A,Mm(m,A)))}function nc(m,S,A){var R=m.pending;if(m.pending=null,R!==null){R=R.next;do S.status="rejected",S.reason=A,ex(S),S=S.next;while(S!==R)}m.action=null}function ex(m){m=m.listeners;for(var S=0;S<m.length;S++)(0,m[S])()}function wm(m,S){return S}function tx(m,S){if(Zn){var A=Fn.formState;if(A!==null){e:{var R=Rn;if(Zn){if(Yi){var k=ST(Yi,Xa);if(k){Yi=bT(k),R=Zx(k);break e}}Te(R)}R=!1}R&&(S=A[0])}}A=wn(),A.memoizedState=A.baseState=S,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:S},A.queue=R,A=PM.bind(null,Rn,R),R.dispatch=A,R=J_(!1);var F=Dm.bind(null,Rn,!1,R.queue);return R=wn(),k={state:S,dispatch:null,action:m,pending:null},R.queue=k,A=su.bind(null,Rn,k,F,A),k.dispatch=A,R.memoizedState=m,[S,A,!1]}function Fh(m){var S=Tt();return al(S,Kt,m)}function al(m,S,A){if(S=pi(m,S,wm)[0],m=Ua(Fi)[0],typeof S=="object"&&S!==null&&typeof S.then=="function")try{var R=pn(S)}catch($){throw $===Hr?ys:$}else R=S;S=Tt();var k=S.queue,F=k.dispatch;return A!==S.memoizedState&&(Rn.flags|=2048,Io(9,{destroy:void 0},nx.bind(null,k,A),null)),[R,F,m]}function nx(m,S){m.action=S}function Vh(m){var S=Tt(),A=Kt;if(A!==null)return al(S,A,m);Tt(),S=S.memoizedState,A=Tt();var R=A.queue.dispatch;return A.memoizedState=m,[S,R,!1]}function Io(m,S,A,R){return m={tag:m,create:A,deps:R,inst:S,next:null},S=Rn.updateQueue,S===null&&(S=ai(),Rn.updateQueue=S),A=S.lastEffect,A===null?S.lastEffect=m.next=m:(R=A.next,A.next=m,m.next=R,S.lastEffect=m),m}function Am(){return Tt().memoizedState}function Tf(m,S,A,R){var k=wn();Rn.flags|=m,k.memoizedState=Io(1|S,{destroy:void 0},A,R===void 0?null:R)}function kp(m,S,A,R){var k=Tt();R=R===void 0?null:R;var F=k.memoizedState.inst;Kt!==null&&R!==null&&Gt(R,Kt.memoizedState.deps)?k.memoizedState=Io(S,F,A,R):(Rn.flags|=m,k.memoizedState=Io(1|S,F,A,R))}function Up(m,S){Tf(8390656,8,m,S)}function Gh(m,S){kp(2048,8,m,S)}function EM(m){Rn.flags|=4;var S=Rn.updateQueue;if(S===null)S=ai(),Rn.updateQueue=S,S.events=[m];else{var A=S.events;A===null?S.events=[m]:A.push(m)}}function Fa(m){var S=Tt().memoizedState;return EM({ref:S,nextImpl:m}),function(){if((Xn&2)!==0)throw Error(r(440));return S.impl.apply(void 0,arguments)}}function ic(m,S){return kp(4,2,m,S)}function Fp(m,S){return kp(4,4,m,S)}function Hh(m,S){if(typeof S=="function"){m=m();var A=S(m);return function(){typeof A=="function"?A():S(null)}}if(S!=null)return m=m(),S.current=m,function(){S.current=null}}function DM(m,S,A){A=A!=null?A.concat([m]):null,kp(4,4,Hh.bind(null,S,m),A)}function Vp(){}function Cm(m,S){var A=Tt();S=S===void 0?null:S;var R=A.memoizedState;return S!==null&&Gt(S,R[1])?R[0]:(A.memoizedState=[m,S],m)}function Wh(m,S){var A=Tt();S=S===void 0?null:S;var R=A.memoizedState;if(S!==null&&Gt(S,R[1]))return R[0];if(R=m(),ni){U(!0);try{m()}finally{U(!1)}}return A.memoizedState=[R,S],R}function Xh(m,S,A){return A===void 0||(Su&1073741824)!==0&&(jn&261930)===0?m.memoizedState=S:(m.memoizedState=A,m=cu(),Rn.lanes|=m,bu|=m,A)}function ix(m,S,A,R){return hr(A,S)?A:Yf.current!==null?(m=Xh(m,A,R),hr(m,S)||(Vi=!0),m):(Su&42)===0||(Su&1073741824)!==0&&(jn&261930)===0?(Vi=!0,m.memoizedState=A):(m=cu(),Rn.lanes|=m,bu|=m,S)}function RM(m,S,A,R,k){var F=fs();qn(F!==0&&8>F?F:8);var $=an.T,ce={};an.T=ce,Dm(m,!1,S,A);try{var Fe=k(),Je=an.S;if(Je!==null&&Je(ce,Fe),Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var _t=ut(Fe,R);Gp(m,S,_t,Wi(m))}else Gp(m,S,R,Wi(m))}catch(st){Gp(m,S,{then:function(){},status:"rejected",reason:st},Wi())}finally{qn(F),$!==null&&ce.types!==null&&($.types=ce.types),an.T=$}}function LM(m){var S=m.memoizedState;if(S!==null)return S;S={memoizedState:kf,baseState:kf,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:kf},next:null};var A={};return S.next={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:A},next:null},m.memoizedState=S,m=m.alternate,m!==null&&(m.memoizedState=S),S}function rx(){return ne(Uf)}function Em(){return Tt().memoizedState}function IM(){return Tt().memoizedState}function _L(m){for(var S=m.return;S!==null;){switch(S.tag){case 24:case 3:var A=Wi();m=Ro(A);var R=Lo(S,m,A);R!==null&&(Qi(R,S,A),ec(R,S,A)),S={cache:ke()},m.payload=S;return}S=S.return}}function xL(m,S,A){var R=Wi();A={lane:R,revertLane:0,gesture:null,action:A,hasEagerState:!1,eagerState:null,next:null},Rm(m)?NM(S,A):(A=xf(m,S,A,R),A!==null&&(Qi(A,m,R),OM(A,S,R)))}function PM(m,S,A){var R=Wi();Gp(m,S,A,R)}function Gp(m,S,A,R){var k={lane:R,revertLane:0,gesture:null,action:A,hasEagerState:!1,eagerState:null,next:null};if(Rm(m))NM(S,k);else{var F=m.alternate;if(m.lanes===0&&(F===null||F.lanes===0)&&(F=S.lastRenderedReducer,F!==null))try{var $=S.lastRenderedState,ce=F($,A);if(k.hasEagerState=!0,k.eagerState=ce,hr(ce,$))return iu(m,S,k,0),Fn===null&&Ju(),!1}catch{}if(A=xf(m,S,k,R),A!==null)return Qi(A,m,R),OM(A,S,R),!0}return!1}function Dm(m,S,A,R){if(R={lane:2,revertLane:Me(),gesture:null,action:R,hasEagerState:!1,eagerState:null,next:null},Rm(m)){if(S)throw Error(r(479))}else S=xf(m,A,R,2),S!==null&&Qi(S,m,2)}function Rm(m){var S=m.alternate;return m===Rn||S!==null&&S===Rn}function NM(m,S){On=Un=!0;var A=m.pending;A===null?S.next=S:(S.next=A.next,A.next=S),m.pending=S}function OM(m,S,A){if((A&4194048)!==0){var R=S.lanes;R&=m.pendingLanes,A|=R,S.lanes=A,P(m,A)}}function ax(m,S,A,R){S=m.memoizedState,A=A(R,S),A=A==null?S:Km({},S,A),m.memoizedState=A,m.lanes===0&&(m.updateQueue.baseState=A)}function Lm(m,S,A,R,k,F,$){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(R,F,$):S.prototype&&S.prototype.isPureReactComponent?!Ye(A,R)||!Ye(k,F):!0}function zM(m,S,A,R){m=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(A,R),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(A,R),S.state!==m&&gv.enqueueReplaceState(S,S.state,null)}function wf(m,S){var A=S;if("ref"in S){A={};for(var R in S)R!=="ref"&&(A[R]=S[R])}if(m=m.defaultProps){A===S&&(A=Km({},A));for(var k in m)A[k]===void 0&&(A[k]=m[k])}return A}function Im(m,S){try{var A=m.onUncaughtError;A(S.value,{componentStack:S.stack})}catch(R){setTimeout(function(){throw R})}}function ox(m,S,A){try{var R=m.onCaughtError;R(A.value,{componentStack:A.stack,errorBoundary:S.tag===1?S.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function sx(m,S,A){return A=Ro(A),A.tag=3,A.payload={element:null},A.callback=function(){Im(m,S)},A}function BM(m){return m=Ro(m),m.tag=3,m}function kM(m,S,A,R){var k=A.type.getDerivedStateFromError;if(typeof k=="function"){var F=R.value;m.payload=function(){return k(F)},m.callback=function(){ox(S,A,R)}}var $=A.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(m.callback=function(){ox(S,A,R),typeof k!="function"&&(Mu===null?Mu=new Set([this]):Mu.add(this));var ce=R.stack;this.componentDidCatch(R.value,{componentStack:ce!==null?ce:""})})}function SL(m,S,A,R,k){if(A.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(S=A.alternate,S!==null&&vt(S,A,k,!0),A=ho.current,A!==null){switch(A.tag){case 31:case 13:return po===null?nd():A.alternate===null&&nr===0&&(nr=3),A.flags&=-257,A.flags|=65536,A.lanes=k,R===bl?A.flags|=16384:(S=A.updateQueue,S===null?A.updateQueue=new Set([R]):S.add(R),ad(m,R,k)),!1;case 22:return A.flags|=65536,R===bl?A.flags|=16384:(S=A.updateQueue,S===null?(S={transitions:null,markerInstances:null,retryQueue:new Set([R])},A.updateQueue=S):(A=S.retryQueue,A===null?S.retryQueue=new Set([R]):A.add(R)),ad(m,R,k)),!1}throw Error(r(435,A.tag))}return ad(m,R,k),nd(),!1}if(Zn)return S=ho.current,S!==null?((S.flags&65536)===0&&(S.flags|=256),S.flags|=65536,S.lanes=k,R!==_y&&(m=Error(r(422),{cause:R}),Ue(te(m,A)))):(R!==_y&&(S=Error(r(423),{cause:R}),Ue(te(S,A))),m=m.current.alternate,m.flags|=65536,k&=-k,m.lanes|=k,R=te(R,A),k=sx(m.stateNode,R,k),Sf(m,k),nr!==4&&(nr=2)),!1;var F=Error(r(520),{cause:R});if(F=te(F,A),yv===null?yv=[F]:yv.push(F),nr!==4&&(nr=2),S===null)return!0;R=te(R,A),A=S;do{switch(A.tag){case 3:return A.flags|=65536,m=k&-k,A.lanes|=m,m=sx(A.stateNode,R,m),Sf(A,m),!1;case 1:if(S=A.type,F=A.stateNode,(A.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Mu===null||!Mu.has(F))))return A.flags|=65536,k&=-k,A.lanes|=k,k=BM(k),kM(k,m,A,R),Sf(A,k),!1}A=A.return}while(A!==null);return!1}function fa(m,S,A,R){S.child=m===null?hS(S,null,A,R):pa(S,m.child,A,R)}function UM(m,S,A,R,k){A=A.render;var F=S.ref;if("ref"in R){var $={};for(var ce in R)ce!=="ref"&&($[ce]=R[ce])}else $=R;return ot(S),R=Wt(m,S,A,$,F,k),ce=li(),m!==null&&!Vi?(Ii(m,S,k),ol(m,S,k)):(Zn&&ce&&ee(S),S.flags|=1,fa(m,S,R,k),S.child)}function FM(m,S,A,R,k){if(m===null){var F=A.type;return typeof F=="function"&&!Rf(F)&&F.defaultProps===void 0&&A.compare===null?(S.tag=15,S.type=F,VM(m,S,F,R,k)):(m=du(A.type,null,R,S,S.mode,k),m.ref=S.ref,m.return=S,S.child=m)}if(F=m.child,!Wp(m,k)){var $=F.memoizedProps;if(A=A.compare,A=A!==null?A:Ye,A($,R)&&m.ref===S.ref)return ol(m,S,k)}return S.flags|=1,m=Oo(F,R),m.ref=S.ref,m.return=S,S.child=m}function VM(m,S,A,R,k){if(m!==null){var F=m.memoizedProps;if(Ye(F,R)&&m.ref===S.ref)if(Vi=!1,S.pendingProps=R=F,Wp(m,k))(m.flags&131072)!==0&&(Vi=!0);else return S.lanes=m.lanes,ol(m,S,k)}return Nm(m,S,A,R,k)}function GM(m,S,A,R){var k=R.children,F=m!==null?m.memoizedState:null;if(m===null&&S.stateNode===null&&(S.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),R.mode==="hidden"){if((S.flags&128)!==0){if(F=F!==null?F.baseLanes|A:A,m!==null){for(R=S.child=m.child,k=0;R!==null;)k=k|R.lanes|R.childLanes,R=R.sibling;R=k&~F}else R=0,S.child=null;return Yh(m,S,F,A,R)}if((A&536870912)!==0)S.memoizedState={baseLanes:0,cachePool:null},m!==null&&xt(S,F!==null?F.cachePool:null),F!==null?tc(S,F):rl(),De(S);else return R=S.lanes=536870912,Yh(m,S,F!==null?F.baseLanes|A:A,A,R)}else F!==null?(xt(S,F.cachePool),tc(S,F),_e(),S.memoizedState=null):(m!==null&&xt(S,null),rl(),_e());return fa(m,S,k,A),S.child}function Af(m,S){return m!==null&&m.tag===22||S.stateNode!==null||(S.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.sibling}function Yh(m,S,A,R,k){var F=tt();return F=F===null?null:{parent:cr?qi._currentValue:qi._currentValue2,pool:F},S.memoizedState={baseLanes:A,cachePool:F},m!==null&&xt(S,null),rl(),De(S),m!==null&&vt(m,S,R,!0),S.childLanes=k,null}function Pm(m,S){return S=rc({mode:S.mode,children:S.children},m.mode),S.ref=m.ref,m.child=S,S.return=m,S}function lx(m,S,A){return pa(S,m.child,null,A),m=Pm(S,S.pendingProps),m.flags|=2,dt(S),S.memoizedState=null,m}function HM(m,S,A){var R=S.pendingProps,k=(S.flags&128)!==0;if(S.flags&=-129,m===null){if(Zn){if(R.mode==="hidden")return m=Pm(S,R),S.lanes=536870912,Af(null,m);if(Ne(S),(m=Yi)?(m=Kx(m,Xa),m!==null&&(S.memoizedState={dehydrated:m,treeContext:ps!==null?{id:ha,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},A=Ax(m),A.return=S,S.child=A,Vr=S,Yi=null)):m=null,m===null)throw Te(S);return S.lanes=536870912,null}return Pm(S,R)}var F=m.memoizedState;if(F!==null){var $=F.dehydrated;if(Ne(S),k)if(S.flags&256)S.flags&=-257,S=lx(m,S,A);else if(S.memoizedState!==null)S.child=m.child,S.flags|=128,S=null;else throw Error(r(558));else if(Vi||vt(m,S,A,!1),k=(A&m.childLanes)!==0,Vi||k){if(R=Fn,R!==null&&($=N(R,A),$!==0&&$!==F.retryLane))throw F.retryLane=$,wa(m,$),Qi(R,m,$),qa;nd(),S=lx(m,S,A)}else m=F.treeContext,Xi&&(Yi=AT($),Vr=S,Zn=!0,Sl=null,Xa=!1,m!==null&&de(S,m)),S=Pm(S,R),S.flags|=4096;return S}return m=Oo(m.child,{mode:R.mode,children:R.children}),m.ref=S.ref,S.child=m,m.return=S,m}function Hp(m,S){var A=S.ref;if(A===null)m!==null&&m.ref!==null&&(S.flags|=4194816);else{if(typeof A!="function"&&typeof A!="object")throw Error(r(284));(m===null||m.ref!==A)&&(S.flags|=4194816)}}function Nm(m,S,A,R,k){return ot(S),A=Wt(m,S,A,R,void 0,k),R=li(),m!==null&&!Vi?(Ii(m,S,k),ol(m,S,k)):(Zn&&R&&ee(S),S.flags|=1,fa(m,S,A,k),S.child)}function ux(m,S,A,R,k,F){return ot(S),S.updateQueue=null,A=Yt(S,R,A,k),rn(m),R=li(),m!==null&&!Vi?(Ii(m,S,F),ol(m,S,F)):(Zn&&R&&ee(S),S.flags|=1,fa(m,S,A,F),S.child)}function Cf(m,S,A,R,k){if(ot(S),S.stateNode===null){var F=yl,$=A.contextType;typeof $=="object"&&$!==null&&(F=ne($)),F=new A(R,F),S.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=gv,S.stateNode=F,F._reactInternals=S,F=S.stateNode,F.props=R,F.state=S.memoizedState,F.refs={},Br(S),$=A.contextType,F.context=typeof $=="object"&&$!==null?ne($):yl,F.state=S.memoizedState,$=A.getDerivedStateFromProps,typeof $=="function"&&(ax(S,A,$,R),F.state=S.memoizedState),typeof A.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||($=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),$!==F.state&&gv.enqueueReplaceState(F,F.state,null),ru(S,R,F,k),Ls(),F.state=S.memoizedState),typeof F.componentDidMount=="function"&&(S.flags|=4194308),R=!0}else if(m===null){F=S.stateNode;var ce=S.memoizedProps,Fe=wf(A,ce);F.props=Fe;var Je=F.context,_t=A.contextType;$=yl,typeof _t=="object"&&_t!==null&&($=ne(_t));var st=A.getDerivedStateFromProps;_t=typeof st=="function"||typeof F.getSnapshotBeforeUpdate=="function",ce=S.pendingProps!==ce,_t||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ce||Je!==$)&&zM(S,F,R,$),ko=!1;var Nt=S.memoizedState;F.state=Nt,ru(S,R,F,k),Ls(),Je=S.memoizedState,ce||Nt!==Je||ko?(typeof st=="function"&&(ax(S,A,st,R),Je=S.memoizedState),(Fe=ko||Lm(S,A,Fe,R,Nt,Je,$))?(_t||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(S.flags|=4194308)):(typeof F.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=R,S.memoizedState=Je),F.props=R,F.state=Je,F.context=$,R=Fe):(typeof F.componentDidMount=="function"&&(S.flags|=4194308),R=!1)}else{F=S.stateNode,Do(m,S),$=S.memoizedProps,_t=wf(A,$),F.props=_t,st=S.pendingProps,Nt=F.context,Je=A.contextType,Fe=yl,typeof Je=="object"&&Je!==null&&(Fe=ne(Je)),ce=A.getDerivedStateFromProps,(Je=typeof ce=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||($!==st||Nt!==Fe)&&zM(S,F,R,Fe),ko=!1,Nt=S.memoizedState,F.state=Nt,ru(S,R,F,k),Ls();var Cn=S.memoizedState;$!==st||Nt!==Cn||ko||m!==null&&m.dependencies!==null&&Vt(m.dependencies)?(typeof ce=="function"&&(ax(S,A,ce,R),Cn=S.memoizedState),(_t=ko||Lm(S,A,_t,R,Nt,Cn,Fe)||m!==null&&m.dependencies!==null&&Vt(m.dependencies))?(Je||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(R,Cn,Fe),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(R,Cn,Fe)),typeof F.componentDidUpdate=="function"&&(S.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof F.componentDidUpdate!="function"||$===m.memoizedProps&&Nt===m.memoizedState||(S.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||$===m.memoizedProps&&Nt===m.memoizedState||(S.flags|=1024),S.memoizedProps=R,S.memoizedState=Cn),F.props=R,F.state=Cn,F.context=Fe,R=_t):(typeof F.componentDidUpdate!="function"||$===m.memoizedProps&&Nt===m.memoizedState||(S.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||$===m.memoizedProps&&Nt===m.memoizedState||(S.flags|=1024),R=!1)}return F=R,Hp(m,S),R=(S.flags&128)!==0,F||R?(F=S.stateNode,A=R&&typeof A.getDerivedStateFromError!="function"?null:F.render(),S.flags|=1,m!==null&&R?(S.child=pa(S,m.child,null,k),S.child=pa(S,null,A,k)):fa(m,S,A,k),S.memoizedState=F.state,m=S.child):m=ol(m,S,k),m}function WM(m,S,A,R){return yt(),S.flags|=256,fa(m,S,A,R),S.child}function cx(m){return{baseLanes:m,cachePool:nt()}}function fx(m,S,A){return m=m!==null?m.childLanes&~A:0,S&&(m|=Za),m}function hx(m,S,A){var R=S.pendingProps,k=!1,F=(S.flags&128)!==0,$;if(($=F)||($=m!==null&&m.memoizedState===null?!1:(ar.current&2)!==0),$&&(k=!0,S.flags&=-129),$=(S.flags&32)!==0,S.flags&=-33,m===null){if(Zn){if(k?me(S):_e(),(m=Yi)?(m=RT(m,Xa),m!==null&&(S.memoizedState={dehydrated:m,treeContext:ps!==null?{id:ha,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},A=Ax(m),A.return=S,S.child=A,Vr=S,Yi=null)):m=null,m===null)throw Te(S);return ry(m)?S.lanes=32:S.lanes=536870912,null}var ce=R.children;return R=R.fallback,k?(_e(),k=S.mode,ce=rc({mode:"hidden",children:ce},k),R=us(R,k,A,null),ce.return=S,R.return=S,ce.sibling=R,S.child=ce,R=S.child,R.memoizedState=cx(A),R.childLanes=fx(m,$,A),S.memoizedState=qf,Af(null,R)):(me(S),Om(S,ce))}var Fe=m.memoizedState;if(Fe!==null&&(ce=Fe.dehydrated,ce!==null)){if(F)S.flags&256?(me(S),S.flags&=-257,S=Ef(m,S,A)):S.memoizedState!==null?(_e(),S.child=m.child,S.flags|=128,S=null):(_e(),ce=R.fallback,k=S.mode,R=rc({mode:"visible",children:R.children},k),ce=us(ce,k,A,null),ce.flags|=2,R.return=S,ce.return=S,R.sibling=ce,S.child=R,pa(S,m.child,null,A),R=S.child,R.memoizedState=cx(A),R.childLanes=fx(m,$,A),S.memoizedState=qf,S=Af(null,R));else if(me(S),ry(ce))$=ay(ce).digest,R=Error(r(419)),R.stack="",R.digest=$,Ue({value:R,source:null,stack:null}),S=Ef(m,S,A);else if(Vi||vt(m,S,A,!1),$=(A&m.childLanes)!==0,Vi||$){if($=Fn,$!==null&&(R=N($,A),R!==0&&R!==Fe.retryLane))throw Fe.retryLane=R,wa(m,R),Qi($,m,R),qa;mc(ce)||nd(),S=Ef(m,S,A)}else mc(ce)?(S.flags|=192,S.child=m.child,S=null):(m=Fe.treeContext,Xi&&(Yi=CT(ce),Vr=S,Zn=!0,Sl=null,Xa=!1,m!==null&&de(S,m)),S=Om(S,R.children),S.flags|=4096);return S}return k?(_e(),ce=R.fallback,k=S.mode,Fe=m.child,F=Fe.sibling,R=Oo(Fe,{mode:"hidden",children:R.children}),R.subtreeFlags=Fe.subtreeFlags&65011712,F!==null?ce=Oo(F,ce):(ce=us(ce,k,A,null),ce.flags|=2),ce.return=S,R.return=S,R.sibling=ce,S.child=R,Af(null,R),R=S.child,ce=m.child.memoizedState,ce===null?ce=cx(A):(k=ce.cachePool,k!==null?(Fe=cr?qi._currentValue:qi._currentValue2,k=k.parent!==Fe?{parent:Fe,pool:Fe}:k):k=nt(),ce={baseLanes:ce.baseLanes|A,cachePool:k}),R.memoizedState=ce,R.childLanes=fx(m,$,A),S.memoizedState=qf,Af(m.child,R)):(me(S),A=m.child,m=A.sibling,A=Oo(A,{mode:"visible",children:R.children}),A.return=S,A.sibling=null,m!==null&&($=S.deletions,$===null?(S.deletions=[m],S.flags|=16):$.push(m)),S.child=A,S.memoizedState=null,A)}function Om(m,S){return S=rc({mode:"visible",children:S},m.mode),S.return=m,m.child=S}function rc(m,S){return m=t(22,m,null,S),m.lanes=0,m}function Ef(m,S,A){return pa(S,m.child,null,A),m=Om(S,S.pendingProps.children),m.flags|=2,S.memoizedState=null,m}function XM(m,S,A){m.lanes|=S;var R=m.alternate;R!==null&&(R.lanes|=S),ae(m.return,S,A)}function qh(m,S,A,R,k,F){var $=m.memoizedState;$===null?m.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:R,tail:A,tailMode:k,treeForkCount:F}:($.isBackwards=S,$.rendering=null,$.renderingStartTime=0,$.last=R,$.tail=A,$.tailMode=k,$.treeForkCount=F)}function dx(m,S,A){var R=S.pendingProps,k=R.revealOrder,F=R.tail;R=R.children;var $=ar.current,ce=($&2)!==0;if(ce?($=$&1|2,S.flags|=128):$&=1,g(ar,$),fa(m,S,R,A),R=Zn?dv:0,!ce&&m!==null&&(m.flags&128)!==0)e:for(m=S.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&XM(m,A,S);else if(m.tag===19)XM(m,A,S);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===S)break e;for(;m.sibling===null;){if(m.return===null||m.return===S)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}switch(k){case"forwards":for(A=S.child,k=null;A!==null;)m=A.alternate,m!==null&&Pt(m)===null&&(k=A),A=A.sibling;A=k,A===null?(k=S.child,S.child=null):(k=A.sibling,A.sibling=null),qh(S,!1,k,A,F,R);break;case"backwards":case"unstable_legacy-backwards":for(A=null,k=S.child,S.child=null;k!==null;){if(m=k.alternate,m!==null&&Pt(m)===null){S.child=k;break}m=k.sibling,k.sibling=A,A=k,k=m}qh(S,!0,A,null,F,R);break;case"together":qh(S,!1,null,null,void 0,R);break;default:S.memoizedState=null}return S.child}function ol(m,S,A){if(m!==null&&(S.dependencies=m.dependencies),bu|=S.lanes,(A&S.childLanes)===0)if(m!==null){if(vt(m,S,A,!1),(A&S.childLanes)===0)return null}else return null;if(m!==null&&S.child!==m.child)throw Error(r(153));if(S.child!==null){for(m=S.child,A=Oo(m,m.pendingProps),S.child=A,A.return=S;m.sibling!==null;)m=m.sibling,A=A.sibling=Oo(m,m.pendingProps),A.return=S;A.sibling=null}return S.child}function Wp(m,S){return(m.lanes&S)!==0?!0:(m=m.dependencies,!!(m!==null&&Vt(m)))}function px(m,S,A){switch(S.tag){case 3:Pe(S,S.stateNode.containerInfo),Ie(S,qi,m.memoizedState.cache),yt();break;case 27:case 5:Se(S);break;case 4:Pe(S,S.stateNode.containerInfo);break;case 10:Ie(S,S.type,S.memoizedProps.value);break;case 31:if(S.memoizedState!==null)return S.flags|=128,Ne(S),null;break;case 13:var R=S.memoizedState;if(R!==null)return R.dehydrated!==null?(me(S),S.flags|=128,null):(A&S.child.childLanes)!==0?hx(m,S,A):(me(S),m=ol(m,S,A),m!==null?m.sibling:null);me(S);break;case 19:var k=(m.flags&128)!==0;if(R=(A&S.childLanes)!==0,R||(vt(m,S,A,!1),R=(A&S.childLanes)!==0),k){if(R)return dx(m,S,A);S.flags|=128}if(k=S.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),g(ar,ar.current),R)break;return null;case 22:return S.lanes=0,GM(m,S,A,S.pendingProps);case 24:Ie(S,qi,m.memoizedState.cache)}return ol(m,S,A)}function vx(m,S,A){if(m!==null)if(m.memoizedProps!==S.pendingProps)Vi=!0;else{if(!Wp(m,A)&&(S.flags&128)===0)return Vi=!1,px(m,S,A);Vi=(m.flags&131072)!==0}else Vi=!1,Zn&&(S.flags&1048576)!==0&&Y(S,dv,S.index);switch(S.lanes=0,S.tag){case 16:e:{var R=S.pendingProps;if(m=Nn(S.elementType),S.type=m,typeof m=="function")Rf(m)?(R=wf(m,R),S.tag=1,S=Cf(null,S,m,R,A)):(S.tag=0,S=Nm(null,S,m,R,A));else{if(m!=null){var k=m.$$typeof;if(k===od){S.tag=11,S=UM(null,S,m,R,A);break e}else if(k===Qm){S.tag=14,S=FM(null,S,m,R,A);break e}}throw S=f(m)||m,Error(r(306,S,""))}}return S;case 0:return Nm(m,S,S.type,S.pendingProps,A);case 1:return R=S.type,k=wf(R,S.pendingProps),Cf(m,S,R,k,A);case 3:e:{if(Pe(S,S.stateNode.containerInfo),m===null)throw Error(r(387));var F=S.pendingProps;k=S.memoizedState,R=k.element,Do(m,S),ru(S,F,null,A);var $=S.memoizedState;if(F=$.cache,Ie(S,qi,F),F!==k.cache&&Mt(S,[qi],A,!0),Ls(),F=$.element,Xi&&k.isDehydrated)if(k={element:F,isDehydrated:!1,cache:$.cache},S.updateQueue.baseState=k,S.memoizedState=k,S.flags&256){S=WM(m,S,F,A);break e}else if(F!==R){R=te(Error(r(424)),S),Ue(R),S=WM(m,S,F,A);break e}else for(Xi&&(Yi=wT(S.stateNode.containerInfo),Vr=S,Zn=!0,Sl=null,Xa=!0),A=hS(S,null,F,A),S.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(yt(),F===R){S=ol(m,S,A);break e}fa(m,S,F,A)}S=S.child}return S;case 26:if(hs)return Hp(m,S),m===null?(A=tS(S.type,null,S.pendingProps,null))?S.memoizedState=A:Zn||(S.stateNode=uy(S.type,S.pendingProps,da.current,S)):S.memoizedState=tS(S.type,m.memoizedProps,S.pendingProps,m.memoizedState),null;case 27:if(Fr)return Se(S),m===null&&Fr&&Zn&&(R=S.stateNode=cy(S.type,S.pendingProps,da.current,na.current,!1),Vr=S,Xa=!0,Yi=jx(S.type,R,Yi)),fa(m,S,S.pendingProps.children,A),Hp(m,S),m===null&&(S.flags|=4194304),S.child;case 5:return m===null&&Zn&&(UT(S.type,S.pendingProps,na.current),(k=R=Yi)&&(R=ET(R,S.type,S.pendingProps,Xa),R!==null?(S.stateNode=R,Vr=S,Yi=TT(R),Xa=!1,k=!0):k=!1),k||Te(S)),Se(S),k=S.type,F=S.pendingProps,$=m!==null?m.memoizedProps:null,R=F.children,Wa(k,F)?R=null:$!==null&&Wa(k,$)&&(S.flags|=32),S.memoizedState!==null&&(k=Wt(m,S,un,null,null,A),cr?Uf._currentValue=k:Uf._currentValue2=k),Hp(m,S),fa(m,S,R,A),S.child;case 6:return m===null&&Zn&&(eS(S.pendingProps,na.current),(m=A=Yi)&&(A=DT(A,S.pendingProps,Xa),A!==null?(S.stateNode=A,Vr=S,Yi=null,m=!0):m=!1),m||Te(S)),null;case 13:return hx(m,S,A);case 4:return Pe(S,S.stateNode.containerInfo),R=S.pendingProps,m===null?S.child=pa(S,null,R,A):fa(m,S,R,A),S.child;case 11:return UM(m,S,S.type,S.pendingProps,A);case 7:return fa(m,S,S.pendingProps,A),S.child;case 8:return fa(m,S,S.pendingProps.children,A),S.child;case 12:return fa(m,S,S.pendingProps.children,A),S.child;case 10:return R=S.pendingProps,Ie(S,S.type,R.value),fa(m,S,R.children,A),S.child;case 9:return k=S.type._context,R=S.pendingProps.children,ot(S),k=ne(k),R=R(k),S.flags|=1,fa(m,S,R,A),S.child;case 14:return FM(m,S,S.type,S.pendingProps,A);case 15:return VM(m,S,S.type,S.pendingProps,A);case 19:return dx(m,S,A);case 31:return HM(m,S,A);case 22:return GM(m,S,A,S.pendingProps);case 24:return ot(S),R=ne(qi),m===null?(k=tt(),k===null&&(k=Fn,F=ke(),k.pooledCache=F,F.refCount++,F!==null&&(k.pooledCacheLanes|=A),k=F),S.memoizedState={parent:R,cache:k},Br(S),Ie(S,qi,k)):((m.lanes&A)!==0&&(Do(m,S),ru(S,null,null,A),Ls()),k=m.memoizedState,F=S.memoizedState,k.parent!==R?(k={parent:R,cache:R},S.memoizedState=k,S.lanes===0&&(S.memoizedState=S.updateQueue.baseState=k),Ie(S,qi,R)):(R=F.cache,Ie(S,qi,R),R!==k.cache&&Mt(S,[qi],A,!0))),fa(m,S,S.pendingProps.children,A),S.child;case 29:throw S.pendingProps}throw Error(r(156,S.tag))}function rs(m){m.flags|=4}function Xp(m){zo&&(m.flags|=8)}function YM(m,S){if(m!==null&&m.child===S.child)return!1;if((S.flags&16)!==0)return!0;for(m=S.child;m!==null;){if((m.flags&8218)!==0||(m.subtreeFlags&8218)!==0)return!0;m=m.sibling}return!1}function gx(m,S,A,R){if(Qn)for(A=S.child;A!==null;){if(A.tag===5||A.tag===6)av(m,A.stateNode);else if(!(A.tag===4||Fr&&A.tag===27)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===S)break;for(;A.sibling===null;){if(A.return===null||A.return===S)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else if(zo)for(var k=S.child;k!==null;){if(k.tag===5){var F=k.stateNode;A&&R&&(F=xT(F,k.type,k.memoizedProps)),av(m,F)}else if(k.tag===6)F=k.stateNode,A&&R&&(F=qx(F,k.memoizedProps)),av(m,F);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)F=k.child,F!==null&&(F.return=k),gx(m,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===S)break;for(;k.sibling===null;){if(k.return===null||k.return===S)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function qM(m,S,A,R){var k=!1;if(zo)for(var F=S.child;F!==null;){if(F.tag===5){var $=F.stateNode;A&&R&&($=xT($,F.type,F.memoizedProps)),Xx(m,$)}else if(F.tag===6)$=F.stateNode,A&&R&&($=qx($,F.memoizedProps)),Xx(m,$);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)k=F.child,k!==null&&(k.return=F),qM(m,F,!0,!0),k=!0;else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===S)break;for(;F.sibling===null;){if(F.return===null||F.return===S)return k;F=F.return}F.sibling.return=F.return,F=F.sibling}return k}function ZM(m,S){if(zo&&YM(m,S)){m=S.stateNode;var A=m.containerInfo,R=Wx();qM(R,S,!1,!1),m.pendingChildren=R,rs(S),_T(A,R)}}function mx(m,S,A,R){if(Qn)m.memoizedProps!==R&&rs(S);else if(zo){var k=m.stateNode,F=m.memoizedProps;if((m=YM(m,S))||F!==R){var $=na.current;F=yT(k,A,F,R,!m,null),F===k?S.stateNode=k:(Xp(S),lo(F,A,R,$)&&rs(S),S.stateNode=F,m&&gx(F,S,!1,!1))}else S.stateNode=k}}function Va(m,S,A,R,k){if((m.mode&32)!==0&&(A===null?ov(S,R):fd(S,A,R))){if(m.flags|=16777216,(k&335544128)===k||Px(S,R))if(Ji(m.stateNode,S,R))m.flags|=8192;else if($n())m.flags|=8192;else throw Ya=bl,Sy}else m.flags&=-16777217}function Zh(m,S){if(aS(S)){if(m.flags|=16777216,!oS(S))if($n())m.flags|=8192;else throw Ya=bl,Sy}else m.flags&=-16777217}function Yp(m,S){S!==null&&(m.flags|=4),m.flags&16384&&(S=m.tag!==22?C():536870912,m.lanes|=S,xd|=S)}function jh(m,S){if(!Zn)switch(m.tailMode){case"hidden":S=m.tail;for(var A=null;S!==null;)S.alternate!==null&&(A=S),S=S.sibling;A===null?m.tail=null:A.sibling=null;break;case"collapsed":A=m.tail;for(var R=null;A!==null;)A.alternate!==null&&(R=A),A=A.sibling;R===null?S||m.tail===null?m.tail=null:m.tail.sibling=null:R.sibling=null}}function Pi(m){var S=m.alternate!==null&&m.alternate.child===m.child,A=0,R=0;if(S)for(var k=m.child;k!==null;)A|=k.lanes|k.childLanes,R|=k.subtreeFlags&65011712,R|=k.flags&65011712,k.return=m,k=k.sibling;else for(k=m.child;k!==null;)A|=k.lanes|k.childLanes,R|=k.subtreeFlags,R|=k.flags,k.return=m,k=k.sibling;return m.subtreeFlags|=R,m.childLanes=A,S}function jM(m,S,A){var R=S.pendingProps;switch(oe(S),S.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(S),null;case 1:return Pi(S),null;case 3:return A=S.stateNode,R=null,m!==null&&(R=m.memoizedState.cache),S.memoizedState.cache!==R&&(S.flags|=2048),$e(qi),he(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(m===null||m.child===null)&&(Qe(S)?rs(S):m===null||m.memoizedState.isDehydrated&&(S.flags&256)===0||(S.flags|=1024,be())),ZM(m,S),Pi(S),null;case 26:if(hs){var k=S.type,F=S.memoizedState;return m===null?(rs(S),F!==null?(Pi(S),Zh(S,F)):(Pi(S),Va(S,k,null,R,A))):F?F!==m.memoizedState?(rs(S),Pi(S),Zh(S,F)):(Pi(S),S.flags&=-16777217):(F=m.memoizedProps,Qn?F!==R&&rs(S):mx(m,S,k,R),Pi(S),Va(S,k,F,R,A)),null}case 27:if(Fr){if(Ee(S),A=da.current,k=S.type,m!==null&&S.stateNode!=null)Qn?m.memoizedProps!==R&&rs(S):mx(m,S,k,R);else{if(!R){if(S.stateNode===null)throw Error(r(166));return Pi(S),null}m=na.current,Qe(S)?He(S,m):(m=cy(k,R,A,m,!0),S.stateNode=m,rs(S))}return Pi(S),null}case 5:if(Ee(S),k=S.type,m!==null&&S.stateNode!=null)mx(m,S,k,R);else{if(!R){if(S.stateNode===null)throw Error(r(166));return Pi(S),null}if(F=na.current,Qe(S))He(S,F),zT(S.stateNode,k,R,F)&&(S.flags|=64);else{var $=Lx(k,R,da.current,F,S);Xp(S),gx($,S,!1,!1),S.stateNode=$,lo($,k,R,F)&&rs(S)}}return Pi(S),Va(S,S.type,m===null?null:m.memoizedProps,S.pendingProps,A),null;case 6:if(m&&S.stateNode!=null)A=m.memoizedProps,Qn?A!==R&&rs(S):zo&&(A!==R?(m=da.current,A=na.current,Xp(S),S.stateNode=gu(R,m,A,S)):S.stateNode=m.stateNode);else{if(typeof R!="string"&&S.stateNode===null)throw Error(r(166));if(m=da.current,A=na.current,Qe(S)){if(!Xi)throw Error(r(176));if(m=S.stateNode,A=S.memoizedProps,R=null,k=Vr,k!==null)switch(k.tag){case 27:case 5:R=k.memoizedProps}AL(m,A,S,R)||Te(S,!0)}else Xp(S),S.stateNode=gu(R,m,A,S)}return Pi(S),null;case 31:if(A=S.memoizedState,m===null||m.memoizedState!==null){if(R=Qe(S),A!==null){if(m===null){if(!R)throw Error(r(318));if(!Xi)throw Error(r(556));if(m=S.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(557));$x(m,S)}else yt(),(S.flags&128)===0&&(S.memoizedState=null),S.flags|=4;Pi(S),m=!1}else A=be(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=A),m=!0;if(!m)return S.flags&256?(dt(S),S):(dt(S),null);if((S.flags&128)!==0)throw Error(r(558))}return Pi(S),null;case 13:if(R=S.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(k=Qe(S),R!==null&&R.dehydrated!==null){if(m===null){if(!k)throw Error(r(318));if(!Xi)throw Error(r(344));if(k=S.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));IT(k,S)}else yt(),(S.flags&128)===0&&(S.memoizedState=null),S.flags|=4;Pi(S),k=!1}else k=be(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=k),k=!0;if(!k)return S.flags&256?(dt(S),S):(dt(S),null)}return dt(S),(S.flags&128)!==0?(S.lanes=A,S):(A=R!==null,m=m!==null&&m.memoizedState!==null,A&&(R=S.child,k=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(k=R.alternate.memoizedState.cachePool.pool),F=null,R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(F=R.memoizedState.cachePool.pool),F!==k&&(R.flags|=2048)),A!==m&&A&&(S.child.flags|=8192),Yp(S,S.updateQueue),Pi(S),null);case 4:return he(),ZM(m,S),m===null&&Ai(S.stateNode.containerInfo),Pi(S),null;case 10:return $e(S.type),Pi(S),null;case 19:if(p(ar),R=S.memoizedState,R===null)return Pi(S),null;if(k=(S.flags&128)!==0,F=R.rendering,F===null)if(k)jh(R,!1);else{if(nr!==0||m!==null&&(m.flags&128)!==0)for(m=S.child;m!==null;){if(F=Pt(m),F!==null){for(S.flags|=128,jh(R,!1),m=F.updateQueue,S.updateQueue=m,Yp(S,m),S.subtreeFlags=0,m=A,A=S.child;A!==null;)qm(A,m),A=A.sibling;return g(ar,ar.current&1|2),Zn&&ie(S,R.treeForkCount),S.child}m=m.sibling}R.tail!==null&&Ca()>Ec&&(S.flags|=128,k=!0,jh(R,!1),S.lanes=4194304)}else{if(!k)if(m=Pt(F),m!==null){if(S.flags|=128,k=!0,m=m.updateQueue,S.updateQueue=m,Yp(S,m),jh(R,!0),R.tail===null&&R.tailMode==="hidden"&&!F.alternate&&!Zn)return Pi(S),null}else 2*Ca()-R.renderingStartTime>Ec&&A!==536870912&&(S.flags|=128,k=!0,jh(R,!1),S.lanes=4194304);R.isBackwards?(F.sibling=S.child,S.child=F):(m=R.last,m!==null?m.sibling=F:S.child=F,R.last=F)}return R.tail!==null?(m=R.tail,R.rendering=m,R.tail=m.sibling,R.renderingStartTime=Ca(),m.sibling=null,A=ar.current,g(ar,k?A&1|2:A&1),Zn&&ie(S,R.treeForkCount),m):(Pi(S),null);case 22:case 23:return dt(S),Q(),R=S.memoizedState!==null,m!==null?m.memoizedState!==null!==R&&(S.flags|=8192):R&&(S.flags|=8192),R?(A&536870912)!==0&&(S.flags&128)===0&&(Pi(S),S.subtreeFlags&6&&(S.flags|=8192)):Pi(S),A=S.updateQueue,A!==null&&Yp(S,A.retryQueue),A=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),R=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(R=S.memoizedState.cachePool.pool),R!==A&&(S.flags|=2048),m!==null&&p(xc),null;case 24:return A=null,m!==null&&(A=m.memoizedState.cache),S.memoizedState.cache!==A&&(S.flags|=2048),$e(qi),Pi(S),null;case 25:return null;case 30:return null}throw Error(r(156,S.tag))}function yx(m,S){switch(oe(S),S.tag){case 1:return m=S.flags,m&65536?(S.flags=m&-65537|128,S):null;case 3:return $e(qi),he(),m=S.flags,(m&65536)!==0&&(m&128)===0?(S.flags=m&-65537|128,S):null;case 26:case 27:case 5:return Ee(S),null;case 31:if(S.memoizedState!==null){if(dt(S),S.alternate===null)throw Error(r(340));yt()}return m=S.flags,m&65536?(S.flags=m&-65537|128,S):null;case 13:if(dt(S),m=S.memoizedState,m!==null&&m.dehydrated!==null){if(S.alternate===null)throw Error(r(340));yt()}return m=S.flags,m&65536?(S.flags=m&-65537|128,S):null;case 19:return p(ar),null;case 4:return he(),null;case 10:return $e(S.type),null;case 22:case 23:return dt(S),Q(),m!==null&&p(xc),m=S.flags,m&65536?(S.flags=m&-65537|128,S):null;case 24:return $e(qi),null;case 25:return null;default:return null}}function KM(m,S){switch(oe(S),S.tag){case 3:$e(qi),he();break;case 26:case 27:case 5:Ee(S);break;case 4:he();break;case 31:S.memoizedState!==null&&dt(S);break;case 13:dt(S);break;case 19:p(ar);break;case 10:$e(S.type);break;case 22:case 23:dt(S),Q(),m!==null&&p(xc);break;case 24:$e(qi)}}function sl(m,S){try{var A=S.updateQueue,R=A!==null?A.lastEffect:null;if(R!==null){var k=R.next;A=k;do{if((A.tag&m)===m){R=void 0;var F=A.create,$=A.inst;R=F(),$.destroy=R}A=A.next}while(A!==k)}}catch(ce){gn(S,S.return,ce)}}function ll(m,S,A){try{var R=S.updateQueue,k=R!==null?R.lastEffect:null;if(k!==null){var F=k.next;R=F;do{if((R.tag&m)===m){var $=R.inst,ce=$.destroy;if(ce!==void 0){$.destroy=void 0,k=S;var Fe=A,Je=ce;try{Je()}catch(_t){gn(k,Fe,_t)}}}R=R.next}while(R!==F)}}catch(_t){gn(S,S.return,_t)}}function Kh(m){var S=m.updateQueue;if(S!==null){var A=m.stateNode;try{ou(S,A)}catch(R){gn(m,m.return,R)}}}function zm(m,S,A){A.props=wf(m.type,m.memoizedProps),A.state=m.memoizedState;try{A.componentWillUnmount()}catch(R){gn(m,S,R)}}function $h(m,S){try{var A=m.ref;if(A!==null){switch(m.tag){case 26:case 27:case 5:var R=ld(m.stateNode);break;case 30:R=m.stateNode;break;default:R=m.stateNode}typeof A=="function"?m.refCleanup=A(R):A.current=R}}catch(k){gn(m,S,k)}}function Aa(m,S){var A=m.ref,R=m.refCleanup;if(A!==null)if(typeof R=="function")try{R()}catch(k){gn(m,S,k)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof A=="function")try{A(null)}catch(k){gn(m,S,k)}else A.current=null}function Df(m){var S=m.type,A=m.memoizedProps,R=m.stateNode;try{cT(R,S,A,m)}catch(k){gn(m,m.return,k)}}function qp(m,S,A){try{fT(m.stateNode,m.type,A,S,m)}catch(R){gn(m,m.return,R)}}function _x(m){return m.tag===5||m.tag===3||(hs?m.tag===26:!1)||(Fr?m.tag===27&&Ff(m.type):!1)||m.tag===4}function lu(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||_x(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(Fr&&m.tag===27&&Ff(m.type)||m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Bm(m,S,A){var R=m.tag;if(R===5||R===6)m=m.stateNode,S?dT(A,m,S):Fx(A,m);else if(R!==4&&(Fr&&R===27&&Ff(m.type)&&(A=m.stateNode,S=null),m=m.child,m!==null))for(Bm(m,S,A),m=m.sibling;m!==null;)Bm(m,S,A),m=m.sibling}function Zp(m,S,A){var R=m.tag;if(R===5||R===6)m=m.stateNode,S?hT(A,m,S):Ux(A,m);else if(R!==4&&(Fr&&R===27&&Ff(m.type)&&(A=m.stateNode),m=m.child,m!==null))for(Zp(m,S,A),m=m.sibling;m!==null;)Zp(m,S,A),m=m.sibling}function xx(m,S,A){m=m.containerInfo;try{Yx(m,A)}catch(R){gn(S,S.return,R)}}function $M(m){var S=m.stateNode,A=m.memoizedProps;try{wr(m.type,A,S,m)}catch(R){gn(m,m.return,R)}}function bL(m,S){for(Jm(m.containerInfo),dr=S;dr!==null;)if(m=dr,S=m.child,(m.subtreeFlags&1028)!==0&&S!==null)S.return=m,dr=S;else for(;dr!==null;){m=dr;var A=m.alternate;switch(S=m.flags,m.tag){case 0:if((S&4)!==0&&(S=m.updateQueue,S=S!==null?S.events:null,S!==null))for(var R=0;R<S.length;R++){var k=S[R];k.ref.impl=k.nextImpl}break;case 11:case 15:break;case 1:if((S&1024)!==0&&A!==null){S=void 0,R=m,k=A.memoizedProps,A=A.memoizedState;var F=R.stateNode;try{var $=wf(R.type,k);S=F.getSnapshotBeforeUpdate($,A),F.__reactInternalSnapshotBeforeUpdate=S}catch(ce){gn(R,R.return,ce)}}break;case 3:(S&1024)!==0&&Qn&&Hx(m.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((S&1024)!==0)throw Error(r(163))}if(S=m.sibling,S!==null){S.return=m.return,dr=S;break}dr=m.return}}function QM(m,S,A){var R=A.flags;switch(A.tag){case 0:case 11:case 15:Ga(m,A),R&4&&sl(5,A);break;case 1:if(Ga(m,A),R&4)if(m=A.stateNode,S===null)try{m.componentDidMount()}catch($){gn(A,A.return,$)}else{var k=wf(A.type,S.memoizedProps);S=S.memoizedState;try{m.componentDidUpdate(k,S,m.__reactInternalSnapshotBeforeUpdate)}catch($){gn(A,A.return,$)}}R&64&&Kh(A),R&512&&$h(A,A.return);break;case 3:if(Ga(m,A),R&64&&(R=A.updateQueue,R!==null)){if(m=null,A.child!==null)switch(A.child.tag){case 27:case 5:m=ld(A.child.stateNode);break;case 1:m=A.child.stateNode}try{ou(R,m)}catch($){gn(A,A.return,$)}}break;case 27:Fr&&S===null&&R&4&&$M(A);case 26:case 5:if(Ga(m,A),S===null){if(R&4)Df(A);else if(R&64){m=A.type,S=A.memoizedProps,k=A.stateNode;try{NT(k,m,S,A)}catch($){gn(A,A.return,$)}}}R&512&&$h(A,A.return);break;case 12:Ga(m,A);break;case 31:Ga(m,A),R&4&&os(m,A);break;case 13:Ga(m,A),R&4&&Kp(m,A),R&64&&(R=A.memoizedState,R!==null&&(R=R.dehydrated,R!==null&&(A=ML.bind(null,A),oy(R,A))));break;case 22:if(R=A.memoizedState!==null||or,!R){S=S!==null&&S.memoizedState!==null||sr,k=or;var F=sr;or=R,(sr=S)&&!F?ls(m,A,(A.subtreeFlags&8772)!==0):Ga(m,A),or=k,sr=F}break;case 30:break;default:Ga(m,A)}}function Sx(m){var S=m.alternate;S!==null&&(m.alternate=null,Sx(S)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(S=m.stateNode,S!==null&&ey(S)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function as(m,S,A){for(A=A.child;A!==null;)jp(m,S,A),A=A.sibling}function jp(m,S,A){if(fo&&typeof fo.onCommitFiberUnmount=="function")try{fo.onCommitFiberUnmount(Hf,A)}catch{}switch(A.tag){case 26:if(hs){sr||Aa(A,S),as(m,S,A),A.memoizedState?yc(A.memoizedState):A.stateNode&&rS(A.stateNode);break}case 27:if(Fr){sr||Aa(A,S);var R=tr,k=pr;Ff(A.type)&&(tr=A.stateNode,pr=!1),as(m,S,A),ta(A.stateNode),tr=R,pr=k;break}case 5:sr||Aa(A,S);case 6:if(Qn){if(R=tr,k=pr,tr=null,as(m,S,A),tr=R,pr=k,tr!==null)if(pr)try{Vx(tr,A.stateNode)}catch(F){gn(A,S,F)}else try{pT(tr,A.stateNode)}catch(F){gn(A,S,F)}}else as(m,S,A);break;case 18:Qn&&tr!==null&&(pr?sy(tr,A.stateNode):Jx(tr,A.stateNode));break;case 4:Qn?(R=tr,k=pr,tr=A.stateNode.containerInfo,pr=!0,as(m,S,A),tr=R,pr=k):(zo&&xx(A.stateNode,A,Wx()),as(m,S,A));break;case 0:case 11:case 14:case 15:ll(2,A,S),sr||ll(4,A,S),as(m,S,A);break;case 1:sr||(Aa(A,S),R=A.stateNode,typeof R.componentWillUnmount=="function"&&zm(A,S,R)),as(m,S,A);break;case 21:as(m,S,A);break;case 22:sr=(R=sr)||A.memoizedState!==null,as(m,S,A),sr=R;break;default:as(m,S,A)}}function os(m,S){if(Xi&&S.memoizedState===null&&(m=S.alternate,m!==null&&(m=m.memoizedState,m!==null))){m=m.dehydrated;try{CL(m)}catch(A){gn(S,S.return,A)}}}function Kp(m,S){if(Xi&&S.memoizedState===null&&(m=S.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{EL(m)}catch(A){gn(S,S.return,A)}}function ss(m){switch(m.tag){case 31:case 13:case 19:var S=m.stateNode;return S===null&&(S=m.stateNode=new pS),S;case 22:return m=m.stateNode,S=m._retryCache,S===null&&(S=m._retryCache=new pS),S;default:throw Error(r(435,m.tag))}}function uu(m,S){var A=ss(m);S.forEach(function(R){if(!A.has(R)){A.add(R);var k=TL.bind(null,m,R);R.then(k,k)}})}function Jr(m,S){var A=S.deletions;if(A!==null)for(var R=0;R<A.length;R++){var k=A[R],F=m,$=S;if(Qn){var ce=$;e:for(;ce!==null;){switch(ce.tag){case 27:if(Fr){if(Ff(ce.type)){tr=ce.stateNode,pr=!1;break e}break}case 5:tr=ce.stateNode,pr=!1;break e;case 3:case 4:tr=ce.stateNode.containerInfo,pr=!0;break e}ce=ce.return}if(tr===null)throw Error(r(160));jp(F,$,k),tr=null,pr=!1}else jp(F,$,k);F=k.alternate,F!==null&&(F.return=null),k.return=null}if(S.subtreeFlags&13886)for(S=S.child;S!==null;)$p(S,m),S=S.sibling}function $p(m,S){var A=m.alternate,R=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:Jr(S,m),ea(m),R&4&&(ll(3,m,m.return),sl(3,m),ll(5,m,m.return));break;case 1:Jr(S,m),ea(m),R&512&&(sr||A===null||Aa(A,A.return)),R&64&&or&&(m=m.updateQueue,m!==null&&(R=m.callbacks,R!==null&&(A=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=A===null?R:A.concat(R))));break;case 26:if(hs){var k=_i;if(Jr(S,m),ea(m),R&512&&(sr||A===null||Aa(A,A.return)),R&4){R=A!==null?A.memoizedState:null;var F=m.memoizedState;A===null?F===null?m.stateNode===null?m.stateNode=FT(k,m.type,m.memoizedProps,m):iS(k,m.type,m.stateNode):m.stateNode=nS(k,F,m.memoizedProps):R!==F?(R===null?A.stateNode!==null&&rS(A.stateNode):yc(R),F===null?iS(k,m.type,m.stateNode):nS(k,F,m.memoizedProps)):F===null&&m.stateNode!==null&&qp(m,m.memoizedProps,A.memoizedProps)}break}case 27:if(Fr){Jr(S,m),ea(m),R&512&&(sr||A===null||Aa(A,A.return)),A!==null&&R&4&&qp(m,m.memoizedProps,A.memoizedProps);break}case 5:if(Jr(S,m),ea(m),R&512&&(sr||A===null||Aa(A,A.return)),Qn){if(m.flags&32){k=m.stateNode;try{Gx(k)}catch(st){gn(m,m.return,st)}}R&4&&m.stateNode!=null&&(k=m.memoizedProps,qp(m,k,A!==null?A.memoizedProps:k)),R&1024&&(vd=!0)}else zo&&m.alternate!==null&&(m.alternate.stateNode=m.stateNode);break;case 6:if(Jr(S,m),ea(m),R&4&&Qn){if(m.stateNode===null)throw Error(r(162));R=m.memoizedProps,A=A!==null?A.memoizedProps:R,k=m.stateNode;try{uT(k,A,R)}catch(st){gn(m,m.return,st)}}break;case 3:if(hs?(VT(),k=_i,_i=uv(S.containerInfo),Jr(S,m),_i=k):Jr(S,m),ea(m),R&4){if(Qn&&Xi&&A!==null&&A.memoizedState.isDehydrated)try{OT(S.containerInfo)}catch(st){gn(m,m.return,st)}if(zo){R=S.containerInfo,A=S.pendingChildren;try{Yx(R,A)}catch(st){gn(m,m.return,st)}}}vd&&(vd=!1,km(m));break;case 4:hs?(A=_i,_i=uv(m.stateNode.containerInfo),Jr(S,m),ea(m),_i=A):(Jr(S,m),ea(m)),R&4&&zo&&xx(m.stateNode,m,m.stateNode.pendingChildren);break;case 12:Jr(S,m),ea(m);break;case 31:Jr(S,m),ea(m),R&4&&(R=m.updateQueue,R!==null&&(m.updateQueue=null,uu(m,R)));break;case 13:Jr(S,m),ea(m),m.child.flags&8192&&m.memoizedState!==null!=(A!==null&&A.memoizedState!==null)&&(_v=Ca()),R&4&&(R=m.updateQueue,R!==null&&(m.updateQueue=null,uu(m,R)));break;case 22:k=m.memoizedState!==null;var $=A!==null&&A.memoizedState!==null,ce=or,Fe=sr;if(or=ce||k,sr=Fe||$,Jr(S,m),sr=Fe,or=ce,ea(m),R&8192&&(S=m.stateNode,S._visibility=k?S._visibility&-2:S._visibility|1,k&&(A===null||$||or||sr||ac(m)),Qn)){e:if(A=null,Qn)for(S=m;;){if(S.tag===5||hs&&S.tag===26){if(A===null){$=A=S;try{F=$.stateNode,k?wL(F):gT($.stateNode,$.memoizedProps)}catch(st){gn($,$.return,st)}}}else if(S.tag===6){if(A===null){$=S;try{var Je=$.stateNode;k?vT(Je):mT(Je,$.memoizedProps)}catch(st){gn($,$.return,st)}}}else if(S.tag===18){if(A===null){$=S;try{var _t=$.stateNode;k?BT(_t):kT($.stateNode)}catch(st){gn($,$.return,st)}}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===m)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break e;for(;S.sibling===null;){if(S.return===null||S.return===m)break e;A===S&&(A=null),S=S.return}A===S&&(A=null),S.sibling.return=S.return,S=S.sibling}}R&4&&(R=m.updateQueue,R!==null&&(A=R.retryQueue,A!==null&&(R.retryQueue=null,uu(m,A))));break;case 19:Jr(S,m),ea(m),R&4&&(R=m.updateQueue,R!==null&&(m.updateQueue=null,uu(m,R)));break;case 30:break;case 21:break;default:Jr(S,m),ea(m)}}function ea(m){var S=m.flags;if(S&2){try{for(var A,R=m.return;R!==null;){if(_x(R)){A=R;break}R=R.return}if(Qn){if(A==null)throw Error(r(160));switch(A.tag){case 27:if(Fr){var k=A.stateNode,F=lu(m);Zp(m,F,k);break}case 5:var $=A.stateNode;A.flags&32&&(Gx($),A.flags&=-33);var ce=lu(m);Zp(m,ce,$);break;case 3:case 4:var Fe=A.stateNode.containerInfo,Je=lu(m);Bm(m,Je,Fe);break;default:throw Error(r(161))}}}catch(_t){gn(m,m.return,_t)}m.flags&=-3}S&4096&&(m.flags&=-4097)}function km(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var S=m;km(S),S.tag===5&&S.flags&1024&&Ox(S.stateNode),m=m.sibling}}function Ga(m,S){if(S.subtreeFlags&8772)for(S=S.child;S!==null;)QM(m,S.alternate,S),S=S.sibling}function ac(m){for(m=m.child;m!==null;){var S=m;switch(S.tag){case 0:case 11:case 14:case 15:ll(4,S,S.return),ac(S);break;case 1:Aa(S,S.return);var A=S.stateNode;typeof A.componentWillUnmount=="function"&&zm(S,S.return,A),ac(S);break;case 27:Fr&&ta(S.stateNode);case 26:case 5:Aa(S,S.return),ac(S);break;case 22:S.memoizedState===null&&ac(S);break;case 30:ac(S);break;default:ac(S)}m=m.sibling}}function ls(m,S,A){for(A=A&&(S.subtreeFlags&8772)!==0,S=S.child;S!==null;){var R=S.alternate,k=m,F=S,$=F.flags;switch(F.tag){case 0:case 11:case 15:ls(k,F,A),sl(4,F);break;case 1:if(ls(k,F,A),R=F,k=R.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(Je){gn(R,R.return,Je)}if(R=F,k=R.updateQueue,k!==null){var ce=R.stateNode;try{var Fe=k.shared.hiddenCallbacks;if(Fe!==null)for(k.shared.hiddenCallbacks=null,k=0;k<Fe.length;k++)au(Fe[k],ce)}catch(Je){gn(R,R.return,Je)}}A&&$&64&&Kh(F),$h(F,F.return);break;case 27:Fr&&$M(F);case 26:case 5:ls(k,F,A),A&&R===null&&$&4&&Df(F),$h(F,F.return);break;case 12:ls(k,F,A);break;case 31:ls(k,F,A),A&&$&4&&os(k,F);break;case 13:ls(k,F,A),A&&$&4&&Kp(k,F);break;case 22:F.memoizedState===null&&ls(k,F,A),$h(F,F.return);break;case 30:break;default:ls(k,F,A)}S=S.sibling}}function oc(m,S){var A=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),m=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(m=S.memoizedState.cachePool.pool),m!==A&&(m!=null&&m.refCount++,A!=null&&qe(A))}function bx(m,S){m=null,S.alternate!==null&&(m=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==m&&(S.refCount++,m!=null&&qe(m))}function $i(m,S,A,R){if(S.subtreeFlags&10256)for(S=S.child;S!==null;)Um(m,S,A,R),S=S.sibling}function Um(m,S,A,R){var k=S.flags;switch(S.tag){case 0:case 11:case 15:$i(m,S,A,R),k&2048&&sl(9,S);break;case 1:$i(m,S,A,R);break;case 3:$i(m,S,A,R),k&2048&&(m=null,S.alternate!==null&&(m=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==m&&(S.refCount++,m!=null&&qe(m)));break;case 12:if(k&2048){$i(m,S,A,R),m=S.stateNode;try{var F=S.memoizedProps,$=F.id,ce=F.onPostCommit;typeof ce=="function"&&ce($,S.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(Fe){gn(S,S.return,Fe)}}else $i(m,S,A,R);break;case 31:$i(m,S,A,R);break;case 13:$i(m,S,A,R);break;case 23:break;case 22:F=S.stateNode,$=S.alternate,S.memoizedState!==null?F._visibility&2?$i(m,S,A,R):Qh(m,S):F._visibility&2?$i(m,S,A,R):(F._visibility|=2,ao(m,S,A,R,(S.subtreeFlags&10256)!==0||!1)),k&2048&&oc($,S);break;case 24:$i(m,S,A,R),k&2048&&bx(S.alternate,S);break;default:$i(m,S,A,R)}}function ao(m,S,A,R,k){for(k=k&&((S.subtreeFlags&10256)!==0||!1),S=S.child;S!==null;){var F=m,$=S,ce=A,Fe=R,Je=$.flags;switch($.tag){case 0:case 11:case 15:ao(F,$,ce,Fe,k),sl(8,$);break;case 23:break;case 22:var _t=$.stateNode;$.memoizedState!==null?_t._visibility&2?ao(F,$,ce,Fe,k):Qh(F,$):(_t._visibility|=2,ao(F,$,ce,Fe,k)),k&&Je&2048&&oc($.alternate,$);break;case 24:ao(F,$,ce,Fe,k),k&&Je&2048&&bx($.alternate,$);break;default:ao(F,$,ce,Fe,k)}S=S.sibling}}function Qh(m,S){if(S.subtreeFlags&10256)for(S=S.child;S!==null;){var A=m,R=S,k=R.flags;switch(R.tag){case 22:Qh(A,R),k&2048&&oc(R.alternate,R);break;case 24:Qh(A,R),k&2048&&bx(R.alternate,R);break;default:Qh(A,R)}S=S.sibling}}function ul(m,S,A){if(m.subtreeFlags&Fo)for(m=m.child;m!==null;)sc(m,S,A),m=m.sibling}function sc(m,S,A){switch(m.tag){case 26:if(ul(m,S,A),m.flags&Fo)if(m.memoizedState!==null)GT(A,_i,m.memoizedState,m.memoizedProps);else{var R=m.stateNode,k=m.type;m=m.memoizedProps,((S&335544128)===S||Px(k,m))&&ty(A,R,k,m)}break;case 5:ul(m,S,A),m.flags&Fo&&(R=m.stateNode,k=m.type,m=m.memoizedProps,((S&335544128)===S||Px(k,m))&&ty(A,R,k,m));break;case 3:case 4:hs?(R=_i,_i=uv(m.stateNode.containerInfo),ul(m,S,A),_i=R):ul(m,S,A);break;case 22:m.memoizedState===null&&(R=m.alternate,R!==null&&R.memoizedState!==null?(R=Fo,Fo=16777216,ul(m,S,A),Fo=R):ul(m,S,A));break;default:ul(m,S,A)}}function Fm(m){var S=m.alternate;if(S!==null&&(m=S.child,m!==null)){S.child=null;do S=m.sibling,m.sibling=null,m=S;while(m!==null)}}function Jh(m){var S=m.deletions;if((m.flags&16)!==0){if(S!==null)for(var A=0;A<S.length;A++){var R=S[A];dr=R,Po(R,m)}Fm(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Vm(m),m=m.sibling}function Vm(m){switch(m.tag){case 0:case 11:case 15:Jh(m),m.flags&2048&&ll(9,m,m.return);break;case 3:Jh(m);break;case 12:Jh(m);break;case 22:var S=m.stateNode;m.memoizedState!==null&&S._visibility&2&&(m.return===null||m.return.tag!==13)?(S._visibility&=-3,Qp(m)):Jh(m);break;default:Jh(m)}}function Qp(m){var S=m.deletions;if((m.flags&16)!==0){if(S!==null)for(var A=0;A<S.length;A++){var R=S[A];dr=R,Po(R,m)}Fm(m)}for(m=m.child;m!==null;){switch(S=m,S.tag){case 0:case 11:case 15:ll(8,S,S.return),Qp(S);break;case 22:A=S.stateNode,A._visibility&2&&(A._visibility&=-3,Qp(S));break;default:Qp(S)}m=m.sibling}}function Po(m,S){for(;dr!==null;){var A=dr;switch(A.tag){case 0:case 11:case 15:ll(8,A,S);break;case 23:case 22:if(A.memoizedState!==null&&A.memoizedState.cachePool!==null){var R=A.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:qe(A.memoizedState.cache)}if(R=A.child,R!==null)R.return=A,dr=R;else e:for(A=m;dr!==null;){R=dr;var k=R.sibling,F=R.return;if(Sx(R),R===A){dr=null;break e}if(k!==null){k.return=F,dr=k;break e}dr=F}}}function lc(m){var S=Dn(m);if(S!=null){if(typeof S.memoizedProps["data-testname"]!="string")throw Error(r(364));return S}if(m=fr(m),m===null)throw Error(r(362));return m.stateNode.current}function uc(m,S){var A=m.tag;switch(S.$$typeof){case xs:if(m.type===S.value)return!0;break;case md:e:{for(S=S.value,m=[m,0],A=0;A<m.length;){var R=m[A++],k=R.tag,F=m[A++],$=S[F];if(k!==5&&k!==26&&k!==27||!gc(R)){for(;$!=null&&uc(R,$);)F++,$=S[F];if(F===S.length){S=!0;break e}else for(R=R.child;R!==null;)m.push(R,F),R=R.sibling}}S=!1}return S;case yd:if((A===5||A===26||A===27)&&kx(m.stateNode,S.value))return!0;break;case Tc:if((A===5||A===6||A===26||A===27)&&(m=sv(m),m!==null&&0<=m.indexOf(S.value)))return!0;break;case mv:if((A===5||A===26||A===27)&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===S.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function ed(m){switch(m.$$typeof){case xs:return"<"+(f(m.value)||"Unknown")+">";case md:return":has("+(ed(m)||"")+")";case yd:return'[role="'+m.value+'"]';case Tc:return'"'+m.value+'"';case mv:return'[data-testname="'+m.value+'"]';default:throw Error(r(365))}}function td(m,S){var A=[];m=[m,0];for(var R=0;R<m.length;){var k=m[R++],F=k.tag,$=m[R++],ce=S[$];if(F!==5&&F!==26&&F!==27||!gc(k)){for(;ce!=null&&uc(k,ce);)$++,ce=S[$];if($===S.length)A.push(k);else for(k=k.child;k!==null;)m.push(k,$),k=k.sibling}}return A}function oo(m,S){if(!Ur)throw Error(r(363));m=lc(m),m=td(m,S),S=[],m=Array.from(m);for(var A=0;A<m.length;){var R=m[A++],k=R.tag;if(k===5||k===26||k===27)gc(R)||S.push(R.stateNode);else for(R=R.child;R!==null;)m.push(R),R=R.sibling}return S}function Wi(){return(Xn&2)!==0&&jn!==0?jn&-jn:an.T!==null?Me():cd()}function cu(){if(Za===0)if((jn&536870912)===0||Zn){var m=Gf;Gf<<=1,(Gf&3932160)===0&&(Gf=262144),Za=m}else Za=536870912;return m=ho.current,m!==null&&(m.flags|=32),Za}function Qi(m,S,A){(m===Fn&&(xi===2||xi===9)||m.cancelPendingCommit!==null)&&(rr(m,0),fl(m,jn,Za,!1)),D(m,A),((Xn&2)===0||m!==Fn)&&(m===Fn&&((Xn&2)===0&&(Cc|=A),nr===4&&fl(m,jn,Za,!1)),Dt(m))}function Ps(m,S,A){if((Xn&6)!==0)throw Error(r(327));var R=!A&&(S&127)===0&&(S&m.expiredLanes)===0||M(m,S),k=R?tT(m,S):hl(m,S,!0),F=R;do{if(k===0){wc&&!R&&fl(m,S,0,!1);break}else{if(A=m.current.alternate,F&&!JM(A)){k=hl(m,S,!1),F=!1;continue}if(k===2){if(F=S,m.errorRecoveryDisabledLanes&F)var $=0;else $=m.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){S=$;e:{var ce=m;k=yv;var Fe=Xi&&ce.current.memoizedState.isDehydrated;if(Fe&&(rr(ce,$).flags|=256),$=hl(ce,$,!1),$!==2){if(Ac&&!Fe){ce.errorRecoveryDisabledLanes|=F,Cc|=F,k=4;break e}F=vo,vo=k,F!==null&&(vo===null?vo=F:vo.push.apply(vo,F))}k=$}if(F=!1,k!==2)continue}}if(k===1){rr(m,0),fl(m,S,0,!0);break}e:{switch(R=m,F=k,F){case 0:case 1:throw Error(r(345));case 4:if((S&4194048)!==S)break;case 6:fl(R,S,Za,!Bs);break e;case 2:vo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((S&62914560)===S&&(k=_v+300-Ca(),10<k)){if(fl(R,S,Za,!Bs),x(R,0,!0)!==0)break e;Al=S,R.timeoutHandle=Ix(cl.bind(null,R,A,vo,xv,My,S,Za,Cc,xd,Bs,F,"Throttled",-0,0),k);break e}cl(R,A,vo,xv,My,S,Za,Cc,xd,Bs,F,null,-0,0)}}break}while(!0);Dt(m)}function cl(m,S,A,R,k,F,$,ce,Fe,Je,_t,st,Nt,Cn){if(m.timeoutHandle=uo,st=S.subtreeFlags,st&8192||(st&16785408)===16785408){st=Nx(),sc(S,F,st);var vr=(F&62914560)===F?_v-Ca():(F&4194048)===F?jf-Ca():0;if(vr=lT(st,vr),vr!==null){Al=F,m.cancelPendingCommit=vr(pl.bind(null,m,S,F,A,R,k,$,ce,Fe,_t,st,null,Nt,Cn)),fl(m,F,$,!Je);return}}pl(m,S,F,A,R,k,$,ce,Fe)}function JM(m){for(var S=m;;){var A=S.tag;if((A===0||A===11||A===15)&&S.flags&16384&&(A=S.updateQueue,A!==null&&(A=A.stores,A!==null)))for(var R=0;R<A.length;R++){var k=A[R],F=k.getSnapshot;k=k.value;try{if(!hr(F(),k))return!1}catch{return!1}}if(A=S.child,S.subtreeFlags&16384&&A!==null)A.return=S,S=A;else{if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function fl(m,S,A,R){S&=~_d,S&=~Cc,m.suspendedLanes|=S,m.pingedLanes&=~S,R&&(m.warmLanes|=S),R=m.expirationTimes;for(var k=S;0<k;){var F=31-co(k),$=1<<F;R[F]=-1,k&=~$}A!==0&&z(m,A,S)}function Gm(){return(Xn&6)===0?(ht(0),!1):!0}function Hm(){if(Yn!==null){if(xi===0)var m=Yn.return;else m=Yn,Os=Oi=null,wi(m),Sc=null,Wf=0,m=Yn;for(;m!==null;)KM(m.alternate,m),m=m.return;Yn=null}}function rr(m,S){var A=m.timeoutHandle;A!==uo&&(m.timeoutHandle=uo,sT(A)),A=m.cancelPendingCommit,A!==null&&(m.cancelPendingCommit=null,A()),Al=0,Hm(),Fn=m,Yn=A=Oo(m.current,null),jn=S,xi=0,Ar=null,Bs=!1,wc=M(m,S),Ac=!1,xd=Za=_d=Cc=bu=nr=0,vo=yv=null,My=!1,(S&8)!==0&&(S|=S&32);var R=m.entangledLanes;if(R!==0)for(m=m.entanglements,R&=S;0<R;){var k=31-co(R),F=1<<k;S|=m[k],R&=~F}return wl=S,Ju(),A}function Ni(m,S){Rn=null,an.H=Uo,S===Hr||S===ys?(S=Bn(),xi=3):S===Sy?(S=Bn(),xi=4):xi=S===qa?8:S!==null&&typeof S=="object"&&typeof S.then=="function"?6:1,Ar=S,Yn===null&&(nr=1,Im(m,te(S,m.current)))}function $n(){var m=ho.current;return m===null?!0:(jn&4194048)===jn?po===null:(jn&62914560)===jn||(jn&536870912)!==0?m===po:!1}function fu(){var m=an.H;return an.H=Uo,m===null?Uo:m}function No(){var m=an.A;return an.A=gd,m}function nd(){nr=4,Bs||(jn&4194048)!==jn&&ho.current!==null||(wc=!0),(bu&134217727)===0&&(Cc&134217727)===0||Fn===null||fl(Fn,jn,Za,!1)}function hl(m,S,A){var R=Xn;Xn|=2;var k=fu(),F=No();(Fn!==m||jn!==S)&&(xv=null,rr(m,S)),S=!1;var $=nr;e:do try{if(xi!==0&&Yn!==null){var ce=Yn,Fe=Ar;switch(xi){case 8:Hm(),$=6;break e;case 3:case 2:case 9:case 6:ho.current===null&&(S=!0);var Je=xi;if(xi=0,Ar=null,dl(m,ce,Fe,Je),A&&wc){$=0;break e}break;default:Je=xi,xi=0,Ar=null,dl(m,ce,Fe,Je)}}eT(),$=nr;break}catch(_t){Ni(m,_t)}while(!0);return S&&m.shellSuspendCounter++,Os=Oi=null,Xn=R,an.H=k,an.A=F,Yn===null&&(Fn=null,jn=0,Ju()),$}function eT(){for(;Yn!==null;)cc(Yn)}function tT(m,S){var A=Xn;Xn|=2;var R=fu(),k=No();Fn!==m||jn!==S?(xv=null,Ec=Ca()+500,rr(m,S)):wc=M(m,S);e:do try{if(xi!==0&&Yn!==null){S=Yn;var F=Ar;t:switch(xi){case 1:xi=0,Ar=null,dl(m,S,F,1);break;case 2:case 9:if(ct(F)){xi=0,Ar=null,Wm(S);break}S=function(){xi!==2&&xi!==9||Fn!==m||(xi=7),Dt(m)},F.then(S,S);break e;case 3:xi=7;break e;case 4:xi=5;break e;case 7:ct(F)?(xi=0,Ar=null,Wm(S)):(xi=0,Ar=null,dl(m,S,F,7));break;case 5:var $=null;switch(Yn.tag){case 26:$=Yn.memoizedState;case 5:case 27:var ce=Yn,Fe=ce.type,Je=ce.pendingProps;if($?oS($):Ji(ce.stateNode,Fe,Je)){xi=0,Ar=null;var _t=ce.sibling;if(_t!==null)Yn=_t;else{var st=ce.return;st!==null?(Yn=st,rd(st)):Yn=null}break t}}xi=0,Ar=null,dl(m,S,F,5);break;case 6:xi=0,Ar=null,dl(m,S,F,6);break;case 8:Hm(),nr=6;break e;default:throw Error(r(462))}}id();break}catch(Nt){Ni(m,Nt)}while(!0);return Os=Oi=null,an.H=R,an.A=k,Xn=A,Yn!==null?0:(Fn=null,jn=0,Ju(),nr)}function id(){for(;Yn!==null&&!WT();)cc(Yn)}function cc(m){var S=vx(m.alternate,m,wl);m.memoizedProps=m.pendingProps,S===null?rd(m):Yn=S}function Wm(m){var S=m,A=S.alternate;switch(S.tag){case 15:case 0:S=ux(A,S,S.pendingProps,S.type,void 0,jn);break;case 11:S=ux(A,S,S.pendingProps,S.type.render,S.ref,jn);break;case 5:wi(S);default:KM(A,S),S=Yn=qm(S,wl),S=vx(A,S,wl)}m.memoizedProps=m.pendingProps,S===null?rd(m):Yn=S}function dl(m,S,A,R){Os=Oi=null,wi(S),Sc=null,Wf=0;var k=S.return;try{if(SL(m,k,S,A,jn)){nr=1,Im(m,te(A,m.current)),Yn=null;return}}catch(F){if(k!==null)throw Yn=k,F;nr=1,Im(m,te(A,m.current)),Yn=null;return}S.flags&32768?(Zn||R===1?m=!0:wc||(jn&536870912)!==0?m=!1:(Bs=m=!0,(R===2||R===9||R===3||R===6)&&(R=ho.current,R!==null&&R.tag===13&&(R.flags|=16384))),fc(S,m)):rd(S)}function rd(m){var S=m;do{if((S.flags&32768)!==0){fc(S,Bs);return}m=S.return;var A=jM(S.alternate,S,wl);if(A!==null){Yn=A;return}if(S=S.sibling,S!==null){Yn=S;return}Yn=S=m}while(S!==null);nr===0&&(nr=5)}function fc(m,S){do{var A=yx(m.alternate,m);if(A!==null){A.flags&=32767,Yn=A;return}if(A=m.return,A!==null&&(A.flags|=32768,A.subtreeFlags=0,A.deletions=null),!S&&(m=m.sibling,m!==null)){Yn=m;return}Yn=m=A}while(m!==null);nr=6,Yn=null}function pl(m,S,A,R,k,F,$,ce,Fe){m.cancelPendingCommit=null;do gl();while(Cr!==0);if((Xn&6)!==0)throw Error(r(327));if(S!==null){if(S===m.current)throw Error(r(177));if(F=S.lanes|S.childLanes,F|=Xf,L(m,A,F,$,ce,Fe),m===Fn&&(Yn=Fn=null,jn=0),Kf=S,Tu=m,Al=A,Sd=F,Ty=k,vS=R,(S.subtreeFlags&10256)!==0||(S.flags&10256)!==0?(m.callbackNode=null,m.callbackPriority=0,Tr(fv,function(){return Jp(),null})):(m.callbackNode=null,m.callbackPriority=0),R=(S.flags&13878)!==0,(S.subtreeFlags&13878)!==0||R){R=an.T,an.T=null,k=fs(),qn(2),$=Xn,Xn|=4;try{bL(m,S,A)}finally{Xn=$,qn(k),an.T=R}}Cr=1,hu(),vl(),Xm()}}function hu(){if(Cr===1){Cr=0;var m=Tu,S=Kf,A=(S.flags&13878)!==0;if((S.subtreeFlags&13878)!==0||A){A=an.T,an.T=null;var R=fs();qn(2);var k=Xn;Xn|=4;try{$p(S,m),oT(m.containerInfo)}finally{Xn=k,qn(R),an.T=A}}m.current=S,Cr=2}}function vl(){if(Cr===2){Cr=0;var m=Tu,S=Kf,A=(S.flags&8772)!==0;if((S.subtreeFlags&8772)!==0||A){A=an.T,an.T=null;var R=fs();qn(2);var k=Xn;Xn|=4;try{QM(m,S.alternate,S)}finally{Xn=k,qn(R),an.T=A}}Cr=3}}function Xm(){if(Cr===4||Cr===3){Cr=0,lS();var m=Tu,S=Kf,A=Al,R=vS;(S.subtreeFlags&10256)!==0||(S.flags&10256)!==0?Cr=5:(Cr=0,Kf=Tu=null,Ym(m,m.pendingLanes));var k=m.pendingLanes;if(k===0&&(Mu=null),G(A),S=S.stateNode,fo&&typeof fo.onCommitFiberRoot=="function")try{fo.onCommitFiberRoot(Hf,S,void 0,(S.current.flags&128)===128)}catch{}if(R!==null){S=an.T,k=fs(),qn(2),an.T=null;try{for(var F=m.onRecoverableError,$=0;$<R.length;$++){var ce=R[$];F(ce.value,{componentStack:ce.stack})}}finally{an.T=S,qn(k)}}(Al&3)!==0&&gl(),Dt(m),k=m.pendingLanes,(A&261930)!==0&&(k&42)!==0?m===Sv?ui++:(ui=0,Sv=m):ui=0,Xi&&lv(),ht(0)}}function Ym(m,S){(m.pooledCacheLanes&=S)===0&&(S=m.pooledCache,S!=null&&(m.pooledCache=null,qe(S)))}function gl(){return hu(),vl(),Xm(),Jp()}function Jp(){if(Cr!==5)return!1;var m=Tu,S=Sd;Sd=0;var A=G(Al),R=32>A?32:A;A=an.T;var k=fs();try{qn(R),an.T=null,R=Ty,Ty=null;var F=Tu,$=Al;if(Cr=0,Kf=Tu=null,Al=0,(Xn&6)!==0)throw Error(r(331));var ce=Xn;if(Xn|=4,Vm(F.current),Um(F,F.current,$,R),Xn=ce,ht(0,!1),fo&&typeof fo.onPostCommitFiberRoot=="function")try{fo.onPostCommitFiberRoot(Hf,F)}catch{}return!0}finally{qn(k),an.T=A,Ym(m,S)}}function hc(m,S,A){S=te(A,S),S=sx(m.stateNode,S,2),m=Lo(m,S,2),m!==null&&(D(m,2),Dt(m))}function gn(m,S,A){if(m.tag===3)hc(m,m,A);else for(;S!==null;){if(S.tag===3){hc(S,m,A);break}else if(S.tag===1){var R=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Mu===null||!Mu.has(R))){m=te(A,m),A=BM(2),R=Lo(S,A,2),R!==null&&(kM(A,R,S,m),D(R,2),Dt(R));break}}S=S.return}}function ad(m,S,A){var R=m.pingCache;if(R===null){R=m.pingCache=new Vo;var k=new Set;R.set(S,k)}else k=R.get(S),k===void 0&&(k=new Set,R.set(S,k));k.has(A)||(Ac=!0,k.add(A),m=nT.bind(null,m,S,A),S.then(m,m))}function nT(m,S,A){var R=m.pingCache;R!==null&&R.delete(S),m.pingedLanes|=m.suspendedLanes&A,m.warmLanes&=~A,Fn===m&&(jn&A)===A&&(nr===4||nr===3&&(jn&62914560)===jn&&300>Ca()-_v?(Xn&2)===0&&rr(m,0):_d|=A,xd===jn&&(xd=0)),Dt(m)}function iT(m,S){S===0&&(S=C()),m=wa(m,S),m!==null&&(D(m,S),Dt(m))}function ML(m){var S=m.memoizedState,A=0;S!==null&&(A=S.retryLane),iT(m,A)}function TL(m,S){var A=0;switch(m.tag){case 31:case 13:var R=m.stateNode,k=m.memoizedState;k!==null&&(A=k.retryLane);break;case 19:R=m.stateNode;break;case 22:R=m.stateNode._retryCache;break;default:throw Error(r(314))}R!==null&&R.delete(S),iT(m,A)}function Tr(m,S){return cv(m,S)}function Mx(m,S,A,R){this.tag=m,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rf(m){return m=m.prototype,!(!m||!m.isReactComponent)}function Oo(m,S){var A=m.alternate;return A===null?(A=t(m.tag,S,m.key,m.mode),A.elementType=m.elementType,A.type=m.type,A.stateNode=m.stateNode,A.alternate=m,m.alternate=A):(A.pendingProps=S,A.type=m.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=m.flags&65011712,A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,S=m.dependencies,A.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},A.sibling=m.sibling,A.index=m.index,A.ref=m.ref,A.refCleanup=m.refCleanup,A}function qm(m,S){m.flags&=65011714;var A=m.alternate;return A===null?(m.childLanes=0,m.lanes=S,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=A.childLanes,m.lanes=A.lanes,m.child=A.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=A.memoizedProps,m.memoizedState=A.memoizedState,m.updateQueue=A.updateQueue,m.type=A.type,S=A.dependencies,m.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),m}function du(m,S,A,R,k,F){var $=0;if(R=m,typeof m=="function")Rf(m)&&($=1);else if(typeof m=="string")$=hs&&Fr?ly(m,A,na.current)?26:sS(m)?27:5:hs?ly(m,A,na.current)?26:5:Fr&&sS(m)?27:5;else e:switch(m){case iv:return m=t(31,A,S,k),m.elementType=iv,m.lanes=F,m;case Nf:return us(A.children,k,F,S);case Of:$=8,k|=24;break;case zf:return m=t(12,A,S,k|2),m.elementType=zf,m.lanes=F,m;case $m:return m=t(13,A,S,k),m.elementType=$m,m.lanes=F,m;case pu:return m=t(19,A,S,k),m.elementType=pu,m.lanes=F,m;default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case cs:$=10;break e;case nv:$=9;break e;case od:$=11;break e;case Qm:$=14;break e;case Ha:$=16,R=null;break e}$=29,A=Error(r(130,m===null?"null":typeof m,"")),R=null}return S=t($,A,S,k),S.elementType=m,S.type=R,S.lanes=F,S}function us(m,S,A,R){return m=t(7,m,R,S),m.lanes=A,m}function Tx(m,S,A){return m=t(6,m,null,S),m.lanes=A,m}function Ax(m){var S=t(18,null,null,0);return S.stateNode=m,S}function Cx(m,S,A){return S=t(4,m.children!==null?m.children:[],m.key,S),S.lanes=A,S.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},S}function rT(m,S,A,R,k,F,$,ce,Fe){this.tag=1,this.containerInfo=m,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=uo,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=E(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E(0),this.hiddenUpdates=E(null),this.identifierPrefix=R,this.onUncaughtError=k,this.onCaughtError=F,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Fe,this.incompleteTransitions=new Map}function dc(m,S,A,R,k,F,$,ce,Fe,Je,_t,st){return m=new rT(m,S,A,$,Fe,Je,_t,st,ce),S=1,F===!0&&(S|=24),F=t(3,null,null,S),m.current=F,F.stateNode=m,S=ke(),S.refCount++,m.pooledCache=S,S.refCount++,F.memoizedState={element:R,isDehydrated:A,cache:S},Br(F),m}function Zm(m){return m?(m=yl,m):yl}function ev(m){var S=m._reactInternals;if(S===void 0)throw typeof m.render=="function"?Error(r(188)):(m=Object.keys(m).join(","),Error(r(268,m)));return m=s(S),m=m!==null?l(m):null,m===null?null:ld(m.stateNode)}function Ex(m,S,A,R,k,F){k=Zm(k),R.context===null?R.context=k:R.pendingContext=k,R=Ro(S),R.payload={element:A},F=F===void 0?null:F,F!==null&&(R.callback=F),A=Lo(m,R,S),A!==null&&(Qi(A,m,S),ec(A,m,S))}function Lf(m,S){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var A=m.retryLane;m.retryLane=A!==0&&A<S?A:S}}function tv(m,S){Lf(m,S),(m=m.alternate)&&Lf(m,S)}var kn={},jm=R0,so=Lue,Km=Object.assign,If=Symbol.for("react.element"),ml=Symbol.for("react.transitional.element"),Pf=Symbol.for("react.portal"),Nf=Symbol.for("react.fragment"),Of=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),nv=Symbol.for("react.consumer"),cs=Symbol.for("react.context"),od=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),pu=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),iv=Symbol.for("react.activity"),Dx=Symbol.for("react.memo_cache_sentinel"),vu=Symbol.iterator,pc=Symbol.for("react.client.reference"),vc=Array.isArray,an=jm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rx=e.rendererVersion,rv=e.rendererPackageName,sd=e.extraDevToolsConfig,ld=e.getPublicInstance,aT=e.getRootHostContext,ud=e.getChildHostContext,Jm=e.prepareForCommit,oT=e.resetAfterCommit,Lx=e.createInstance;e.cloneMutableInstance;var av=e.appendInitialChild,lo=e.finalizeInitialChildren,Wa=e.shouldSetTextContent,gu=e.createTextInstance;e.cloneMutableTextInstance;var Ix=e.scheduleTimeout,sT=e.cancelTimeout,uo=e.noTimeout,cr=e.isPrimaryRenderer;e.warnsIfNotActing;var Qn=e.supportsMutation,zo=e.supportsPersistence,Xi=e.supportsHydration,Dn=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Ai=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var qn=e.setCurrentUpdatePriority,fs=e.getCurrentUpdatePriority,cd=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Bf=e.shouldAttemptEagerTransition,ey=e.detachDeletedInstance;e.requestPostPaintCallback;var ov=e.maySuspendCommit,fd=e.maySuspendCommitOnUpdate,Px=e.maySuspendCommitInSyncRender,Ji=e.preloadInstance,Nx=e.startSuspendingCommit,ty=e.suspendInstance;e.suspendOnActiveViewTransition;var lT=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var kf=e.NotPendingTransition,Uf=e.HostTransitionContext,Ox=e.resetFormInstance;e.bindToConsole;var zx=e.supportsMicrotasks,Bx=e.scheduleMicrotask,Ur=e.supportsTestSelectors,fr=e.findFiberRoot,ny=e.getBoundingRect,sv=e.getTextContent,gc=e.isHiddenSubtree,kx=e.matchAccessibilityRole,mu=e.setFocusIfFocusable,iy=e.setupIntersectionObserver,Ux=e.appendChild,Fx=e.appendChildToContainer,uT=e.commitTextUpdate,cT=e.commitMount,fT=e.commitUpdate,hT=e.insertBefore,dT=e.insertInContainerBefore,pT=e.removeChild,Vx=e.removeChildFromContainer,Gx=e.resetTextContent,wL=e.hideInstance,vT=e.hideTextInstance,gT=e.unhideInstance,mT=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Hx=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var yT=e.cloneInstance,Wx=e.createContainerChildSet,Xx=e.appendChildToContainerChildSet,_T=e.finalizeContainerChildren,Yx=e.replaceContainerChildren,xT=e.cloneHiddenInstance,qx=e.cloneHiddenTextInstance,mc=e.isSuspenseInstancePending,ry=e.isSuspenseInstanceFallback,ay=e.getSuspenseInstanceFallbackErrorDetails,oy=e.registerSuspenseInstanceRetry,ST=e.canHydrateFormStateMarker,Zx=e.isFormStateMarkerMatching,bT=e.getNextHydratableSibling,MT=e.getNextHydratableSiblingAfterSingleton,TT=e.getFirstHydratableChild,wT=e.getFirstHydratableChildWithinContainer,AT=e.getFirstHydratableChildWithinActivityInstance,CT=e.getFirstHydratableChildWithinSuspenseInstance,jx=e.getFirstHydratableChildWithinSingleton,ET=e.canHydrateInstance,DT=e.canHydrateTextInstance,Kx=e.canHydrateActivityInstance,RT=e.canHydrateSuspenseInstance,LT=e.hydrateInstance,AL=e.hydrateTextInstance,$x=e.hydrateActivityInstance,IT=e.hydrateSuspenseInstance,PT=e.getNextHydratableInstanceAfterActivityInstance,Qx=e.getNextHydratableInstanceAfterSuspenseInstance,NT=e.commitHydratedInstance,OT=e.commitHydratedContainer,CL=e.commitHydratedActivityInstance,EL=e.commitHydratedSuspenseInstance,zT=e.finalizeHydratedChildren,lv=e.flushHydrationEvents;e.clearActivityBoundary;var Jx=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var sy=e.clearSuspenseBoundaryFromContainer,BT=e.hideDehydratedBoundary,kT=e.unhideDehydratedBoundary,hd=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var UT=e.validateHydratableInstance,eS=e.validateHydratableTextInstance,hs=e.supportsResources,ly=e.isHostHoistableType,uv=e.getHoistableRoot,tS=e.getResource,nS=e.acquireResource,yc=e.releaseResource,FT=e.hydrateHoistable,iS=e.mountHoistable,rS=e.unmountHoistable,uy=e.createHoistableInstance,VT=e.prepareToCommitHoistables,aS=e.mayResourceSuspendCommit,oS=e.preloadResource,GT=e.suspendResource,Fr=e.supportsSingletons,cy=e.resolveSingletonInstance,wr=e.acquireSingletonInstance,ta=e.releaseSingletonInstance,sS=e.isHostSingletonType,Ff=e.isSingletonScope,fy=[],Vf=-1,yl={},co=Math.clz32?Math.clz32:y,hy=Math.log,HT=Math.LN2,dy=256,Gf=262144,dd=4194304,cv=so.unstable_scheduleCallback,py=so.unstable_cancelCallback,WT=so.unstable_shouldYield,lS=so.unstable_requestPaint,Ca=so.unstable_now,vy=so.unstable_ImmediatePriority,XT=so.unstable_UserBlockingPriority,fv=so.unstable_NormalPriority,gy=so.unstable_IdlePriority,uS=so.log,YT=so.unstable_setDisableYieldValue,Hf=null,fo=null,hr=typeof Object.is=="function"?Object.is:X,my=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},DL=Object.prototype.hasOwnProperty,yy,_l,hv=!1,cS=new WeakMap,yu=[],xl=0,Ci=null,dv=0,ds=[],Bo=0,ps=null,ha=1,Ns="",na=h(null),_u=h(null),da=h(null),pv=h(null),Vr=null,Yi=null,Zn=!1,Sl=null,Xa=!1,_y=Error(r(519)),vs=h(null),Oi=null,Os=null,qT=typeof AbortController<"u"?AbortController:function(){var m=[],S=this.signal={aborted:!1,addEventListener:function(A,R){m.push(R)}};this.abort=function(){S.aborted=!0,m.forEach(function(A){return A()})}},ia=so.unstable_scheduleCallback,RL=so.unstable_NormalPriority,qi={$$typeof:cs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},vv=null,yi=null,Ea=!1,gs=!1,xy=!1,_c=0,pd=null,fS=0,xu=0,Gr=null,ms=an.S;an.S=function(m,S){jf=Ca(),typeof S=="object"&&S!==null&&typeof S.then=="function"&&mt(m,S),ms!==null&&ms(m,S)};var xc=h(null),Hr=Error(r(460)),Sy=Error(r(474)),ys=Error(r(542)),bl={then:function(){}},Ya=null,Sc=null,Wf=0,pa=_f(!0),hS=_f(!1),va=[],Ml=0,Xf=0,ko=!1,by=!1,Yf=h(null),bc=h(0),ho=h(null),po=null,ar=h(0),Su=0,Rn=null,Kt=null,Mn=null,Un=!1,On=!1,ni=!1,Da=0,_s=0,zs=null,dS=0,Uo={readContext:ne,use:br,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};Uo.useEffectEvent=lt;var er={readContext:ne,use:br,useCallback:function(m,S){return wn().memoizedState=[m,S===void 0?null:S],m},useContext:ne,useEffect:Up,useImperativeHandle:function(m,S,A){A=A!=null?A.concat([m]):null,Tf(4194308,4,Hh.bind(null,S,m),A)},useLayoutEffect:function(m,S){return Tf(4194308,4,m,S)},useInsertionEffect:function(m,S){Tf(4,2,m,S)},useMemo:function(m,S){var A=wn();S=S===void 0?null:S;var R=m();if(ni){U(!0);try{m()}finally{U(!1)}}return A.memoizedState=[R,S],R},useReducer:function(m,S,A){var R=wn();if(A!==void 0){var k=A(S);if(ni){U(!0);try{A(S)}finally{U(!1)}}}else k=S;return R.memoizedState=R.baseState=k,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:k},R.queue=m,m=m.dispatch=xL.bind(null,Rn,m),[R.memoizedState,m]},useRef:function(m){var S=wn();return m={current:m},S.memoizedState=m},useState:function(m){m=J_(m);var S=m.queue,A=PM.bind(null,Rn,S);return S.dispatch=A,[m.memoizedState,A]},useDebugValue:Vp,useDeferredValue:function(m,S){var A=wn();return Xh(A,m,S)},useTransition:function(){var m=J_(!1);return m=RM.bind(null,Rn,m.queue,!0,!1),wn().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,S,A){var R=Rn,k=wn();if(Zn){if(A===void 0)throw Error(r(407));A=A()}else{if(A=S(),Fn===null)throw Error(r(349));(jn&127)!==0||$r(R,S,A)}k.memoizedState=A;var F={value:A,getSnapshot:S};return k.queue=F,Up(bf.bind(null,R,F,m),[m]),R.flags|=2048,Io(9,{destroy:void 0},Qr.bind(null,R,F,A,S),null),A},useId:function(){var m=wn(),S=Fn.identifierPrefix;if(Zn){var A=Ns,R=ha;A=(R&~(1<<32-co(R)-1)).toString(32)+A,S="_"+S+"R_"+A,A=Da++,0<A&&(S+="H"+A.toString(32)),S+="_"}else A=dS++,S="_"+S+"r_"+A.toString(32)+"_";return m.memoizedState=S},useHostTransitionStatus:rx,useFormState:tx,useActionState:tx,useOptimistic:function(m){var S=wn();S.memoizedState=S.baseState=m;var A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return S.queue=A,S=Dm.bind(null,Rn,!0,A),A.dispatch=S,[m,S]},useMemoCache:Is,useCacheRefresh:function(){return wn().memoizedState=_L.bind(null,Rn)},useEffectEvent:function(m){var S=wn(),A={impl:m};return S.memoizedState=A,function(){if((Xn&2)!==0)throw Error(r(440));return A.impl.apply(void 0,arguments)}}},Tl={readContext:ne,use:br,useCallback:Cm,useContext:ne,useEffect:Gh,useImperativeHandle:DM,useInsertionEffect:ic,useLayoutEffect:Fp,useMemo:Wh,useReducer:Ua,useRef:Am,useState:function(){return Ua(Fi)},useDebugValue:Vp,useDeferredValue:function(m,S){var A=Tt();return ix(A,Kt.memoizedState,m,S)},useTransition:function(){var m=Ua(Fi)[0],S=Tt().memoizedState;return[typeof m=="boolean"?m:pn(m),S]},useSyncExternalStore:Mr,useId:Em,useHostTransitionStatus:rx,useFormState:Fh,useActionState:Fh,useOptimistic:function(m,S){var A=Tt();return Bp(A,Kt,m,S)},useMemoCache:Is,useCacheRefresh:IM};Tl.useEffectEvent=Fa;var Mc={readContext:ne,use:br,useCallback:Cm,useContext:ne,useEffect:Gh,useImperativeHandle:DM,useInsertionEffect:ic,useLayoutEffect:Fp,useMemo:Wh,useReducer:kr,useRef:Am,useState:function(){return kr(Fi)},useDebugValue:Vp,useDeferredValue:function(m,S){var A=Tt();return Kt===null?Xh(A,m,S):ix(A,Kt.memoizedState,m,S)},useTransition:function(){var m=kr(Fi)[0],S=Tt().memoizedState;return[typeof m=="boolean"?m:pn(m),S]},useSyncExternalStore:Mr,useId:Em,useHostTransitionStatus:rx,useFormState:Vh,useActionState:Vh,useOptimistic:function(m,S){var A=Tt();return Kt!==null?Bp(A,Kt,m,S):(A.baseState=m,[m,A.queue.dispatch])},useMemoCache:Is,useCacheRefresh:IM};Mc.useEffectEvent=Fa;var gv={enqueueSetState:function(m,S,A){m=m._reactInternals;var R=Wi(),k=Ro(R);k.payload=S,A!=null&&(k.callback=A),S=Lo(m,k,R),S!==null&&(Qi(S,m,R),ec(S,m,R))},enqueueReplaceState:function(m,S,A){m=m._reactInternals;var R=Wi(),k=Ro(R);k.tag=1,k.payload=S,A!=null&&(k.callback=A),S=Lo(m,k,R),S!==null&&(Qi(S,m,R),ec(S,m,R))},enqueueForceUpdate:function(m,S){m=m._reactInternals;var A=Wi(),R=Ro(A);R.tag=2,S!=null&&(R.callback=S),S=Lo(m,R,A),S!==null&&(Qi(S,m,A),ec(S,m,A))}},qa=Error(r(461)),Vi=!1,qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},or=!1,sr=!1,vd=!1,pS=typeof WeakSet=="function"?WeakSet:Set,dr=null,tr=null,pr=!1,_i=null,Fo=8192,gd={getCacheForType:function(m){var S=ne(qi),A=S.data.get(m);return A===void 0&&(A=m(),S.data.set(m,A)),A},cacheSignal:function(){return ne(qi).controller.signal}},xs=0,md=1,yd=2,mv=3,Tc=4;if(typeof Symbol=="function"&&Symbol.for){var Zf=Symbol.for;xs=Zf("selector.component"),md=Zf("selector.has_pseudo_class"),yd=Zf("selector.role"),mv=Zf("selector.test_id"),Tc=Zf("selector.text")}var Vo=typeof WeakMap=="function"?WeakMap:Map,Xn=0,Fn=null,Yn=null,jn=0,xi=0,Ar=null,Bs=!1,wc=!1,Ac=!1,wl=0,nr=0,bu=0,Cc=0,_d=0,Za=0,xd=0,yv=null,vo=null,My=!1,_v=0,jf=0,Ec=1/0,xv=null,Mu=null,Cr=0,Tu=null,Kf=null,Al=0,Sd=0,Ty=null,vS=null,ui=0,Sv=null;return kn.attemptContinuousHydration=function(m){if(m.tag===13||m.tag===31){var S=wa(m,67108864);S!==null&&Qi(S,m,67108864),tv(m,67108864)}},kn.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13||m.tag===31){var S=Wi();S=B(S);var A=wa(m,S);A!==null&&Qi(A,m,S),tv(m,S)}},kn.attemptSynchronousHydration=function(m){switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=_(m.pendingLanes);if(S!==0){for(m.pendingLanes|=2,m.entangledLanes|=2;S;){var A=1<<31-co(S);m.entanglements[1]|=A,S&=~A}Dt(m),(Xn&6)===0&&(Ec=Ca()+500,ht(0))}}break;case 31:case 13:S=wa(m,2),S!==null&&Qi(S,m,2),Gm(),tv(m,2)}},kn.batchedUpdates=function(m,S){return m(S)},kn.createComponentSelector=function(m){return{$$typeof:xs,value:m}},kn.createContainer=function(m,S,A,R,k,F,$,ce,Fe,Je){return dc(m,S,!1,null,A,R,F,null,$,ce,Fe,Je)},kn.createHasPseudoClassSelector=function(m){return{$$typeof:md,value:m}},kn.createHydrationContainer=function(m,S,A,R,k,F,$,ce,Fe,Je,_t,st,Nt,Cn){var vr;return m=dc(A,R,!0,m,k,F,ce,Cn,Fe,Je,_t,st),m.context=Zm(null),A=m.current,R=Wi(),R=B(R),k=Ro(R),k.callback=(vr=S)!=null?vr:null,Lo(A,k,R),S=R,m.current.lanes=S,D(m,S),Dt(m),m},kn.createPortal=function(m,S,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pf,key:R==null?null:""+R,children:m,containerInfo:S,implementation:A}},kn.createRoleSelector=function(m){return{$$typeof:yd,value:m}},kn.createTestNameSelector=function(m){return{$$typeof:mv,value:m}},kn.createTextSelector=function(m){return{$$typeof:Tc,value:m}},kn.defaultOnCaughtError=function(m){console.error(m)},kn.defaultOnRecoverableError=function(m){my(m)},kn.defaultOnUncaughtError=function(m){my(m)},kn.deferredUpdates=function(m){var S=an.T,A=fs();try{return qn(32),an.T=null,m()}finally{qn(A),an.T=S}},kn.discreteUpdates=function(m,S,A,R,k){var F=an.T,$=fs();try{return qn(2),an.T=null,m(S,A,R,k)}finally{qn($),an.T=F,Xn===0&&(Ec=Ca()+500)}},kn.findAllNodes=oo,kn.findBoundingRects=function(m,S){if(!Ur)throw Error(r(363));S=oo(m,S),m=[];for(var A=0;A<S.length;A++)m.push(ny(S[A]));for(S=m.length-1;0<S;S--){A=m[S];for(var R=A.x,k=R+A.width,F=A.y,$=F+A.height,ce=S-1;0<=ce;ce--)if(S!==ce){var Fe=m[ce],Je=Fe.x,_t=Je+Fe.width,st=Fe.y,Nt=st+Fe.height;if(R>=Je&&F>=st&&k<=_t&&$<=Nt){m.splice(S,1);break}else if(R!==Je||A.width!==Fe.width||Nt<F||st>$){if(!(F!==st||A.height!==Fe.height||_t<R||Je>k)){Je>R&&(Fe.width+=Je-R,Fe.x=R),_t<k&&(Fe.width=k-Je),m.splice(S,1);break}}else{st>F&&(Fe.height+=st-F,Fe.y=F),Nt<$&&(Fe.height=$-st),m.splice(S,1);break}}}return m},kn.findHostInstance=ev,kn.findHostInstanceWithNoPortals=function(m){return m=s(m),m=m!==null?u(m):null,m===null?null:ld(m.stateNode)},kn.findHostInstanceWithWarning=function(m){return ev(m)},kn.flushPassiveEffects=gl,kn.flushSyncFromReconciler=function(m){var S=Xn;Xn|=1;var A=an.T,R=fs();try{if(qn(2),an.T=null,m)return m()}finally{qn(R),an.T=A,Xn=S,(Xn&6)===0&&ht(0)}},kn.flushSyncWork=Gm,kn.focusWithin=function(m,S){if(!Ur)throw Error(r(363));for(m=lc(m),S=td(m,S),S=Array.from(S),m=0;m<S.length;){var A=S[m++],R=A.tag;if(!gc(A)){if((R===5||R===26||R===27)&&mu(A.stateNode))return!0;for(A=A.child;A!==null;)S.push(A),A=A.sibling}}return!1},kn.getFindAllNodesFailureDescription=function(m,S){if(!Ur)throw Error(r(363));var A=0,R=[];m=[lc(m),0];for(var k=0;k<m.length;){var F=m[k++],$=F.tag,ce=m[k++],Fe=S[ce];if(($!==5&&$!==26&&$!==27||!gc(F))&&(uc(F,Fe)&&(R.push(ed(Fe)),ce++,ce>A&&(A=ce)),ce<S.length))for(F=F.child;F!==null;)m.push(F,ce),F=F.sibling}if(A<S.length){for(m=[];A<S.length;A++)m.push(ed(S[A]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},kn.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 27:case 5:return ld(m.child.stateNode);default:return m.child.stateNode}},kn.injectIntoDevTools=function(){var m={bundleType:0,version:Rx,rendererPackageName:rv,currentDispatcherRef:an,reconcilerVersion:"19.2.0"};if(sd!==null&&(m.rendererConfig=sd),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var S=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(S.isDisabled||!S.supportsFiber)m=!0;else{try{Hf=S.inject(m),fo=S}catch{}m=!!S.checkDCE}}return m},kn.isAlreadyRendering=function(){return(Xn&6)!==0},kn.observeVisibleRects=function(m,S,A,R){if(!Ur)throw Error(r(363));m=oo(m,S);var k=iy(m,A,R).disconnect;return{disconnect:function(){k()}}},kn.shouldError=function(){return null},kn.shouldSuspend=function(){return!1},kn.startHostTransition=function(m,S,A,R){if(m.tag!==5)throw Error(r(476));var k=LM(m).queue;RM(m,k,S,kf,A===null?n:function(){var F=LM(m);return F.next===null&&(F=m.alternate.memoizedState),Gp(m,F.next.queue,{},Wi()),A(R)})},kn.updateContainer=function(m,S,A,R){var k=S.current,F=Wi();return Ex(k,F,m,S,A,R),F},kn.updateContainerSync=function(m,S,A,R){return Ex(S.current,2,m,S,A,R),2},kn},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(IV)),IV.exports}var NV;function ace(){return NV||(NV=1,LV.exports=rce()),LV.exports}var oce=ace();const sce=ice(oce);function lce(i){const e=sce(i);return e.injectIntoDevTools(),e}const MY=0,l_={},uce=/^three(?=[A-Z])/,PR=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let cce=0;const fce=i=>typeof i=="function";function hce(i){if(fce(i)){const e=`${cce++}`;return l_[e]=i,e}else Object.assign(l_,i)}function TY(i,e){const t=PR(i),n=l_[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function dce(i,e,t){var n;return i=PR(i)in l_?i:i.replace(uce,""),TY(i,e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,NE(e.object,t,i,e)}function pce(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?zE(i.parent,i):ws(i.object)&&(i.object.visible=!1),i.isHidden=!0,L_(i)}}function wY(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?OE(i.parent,i):ws(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,L_(i)}}function gk(i,e,t){const n=e.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!e.object){var r,a;const o=l_[PR(e.type)];e.object=(r=e.props.object)!=null?r:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Qd(e.object,e.props),e.props.attach)OE(i,e);else if(ws(e.object)&&ws(i.object)){const o=i.object.children.indexOf(t?.object);if(t&&o!==-1){const s=i.object.children.indexOf(e.object);if(s!==-1){i.object.children.splice(s,1);const l=s<o?o-1:o;i.object.children.splice(l,0,e.object)}else e.object.parent=i.object,i.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const o of e.children)gk(e,o);L_(e)}}function QI(i,e){e&&(e.parent=i,i.children.push(e),gk(i,e))}function OV(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),gk(i,e,t)}function AY(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():KN.unstable_scheduleCallback(KN.unstable_IdlePriority,e)}}function QN(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?zE(i,e):ws(e.object)&&ws(i.object)&&(i.object.remove(e.object),Zue(vY(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];QN(e,o,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&AY(e.object),t===void 0&&L_(e)}function vce(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const xC=[];function gce(){for(const[t]of xC){const n=t.parent;if(n){t.props.attach?zE(n,t):ws(t.object)&&ws(n.object)&&n.object.remove(t.object);for(const r of t.children)r.props.attach?zE(t,r):ws(r.object)&&ws(t.object)&&t.object.remove(r.object)}t.isHidden&&wY(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&AY(t.object)}for(const[t,n,r]of xC){t.props=n;const a=t.parent;if(a){var i,e;const o=l_[PR(t.type)];t.object=(i=t.props.object)!=null?i:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,vce(r,t.object),Qd(t.object,t.props),t.props.attach?OE(a,t):ws(t.object)&&ws(a.object)&&a.object.add(t.object);for(const s of t.children)s.props.attach?OE(t,s):ws(s.object)&&ws(t.object)&&t.object.add(s.object);L_(t)}}xC.length=0}const JI=()=>{},zV={};let tA=MY;const mce=0,yce=4,JN=lce({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:dce,removeChild:QN,appendChild:QI,appendInitialChild:QI,insertBefore:OV,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||QI(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||QN(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;!e||!t||!n||OV(n,e,t)},getRootHostContext:()=>zV,getChildHostContext:()=>zV,commitUpdate(i,e,t,n,r){var a,o,s;TY(e,n);let l=!1;if((i.type==="primitive"&&t.object!==n.object||((a=n.args)==null?void 0:a.length)!==((o=t.args)==null?void 0:o.length)||(s=n.args)!=null&&s.some((c,f)=>{var h;return c!==((h=t.args)==null?void 0:h[f])}))&&(l=!0),l)xC.push([i,{...n},r]);else{const c=Wue(i,n);Object.keys(c).length&&(Object.assign(i.props,c),Qd(i.object,c))}(r.sibling===null||(r.flags&yce)===mce)&&gce()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i?.object,prepareForCommit:()=>null,preparePortalMount:i=>NE(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:pce,unhideInstance:wY,createTextInstance:JI,hideTextInstance:JI,unhideTextInstance:JI,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:_n.createContext(null),setCurrentUpdatePriority(i){tA=i},getCurrentUpdatePriority(){return tA},resolveUpdatePriority(){var i;if(tA!==MY)return tA;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return tce;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Jue;default:return ece}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:nce.version,applyViewTransitionName(i,e,t){},restoreViewTransitionName(i,e){},cancelViewTransitionName(i,e,t){},cancelRootViewTransitionName(i){},restoreRootViewTransitionName(i){},InstanceMeasurement:null,measureInstance:i=>null,wasInstanceInViewport:i=>!0,hasInstanceChanged:(i,e)=>!1,hasInstanceAffectedParent:(i,e)=>!1,suspendOnActiveViewTransition(i,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(i){},createViewTransitionInstance:i=>null,getCurrentGestureOffset(i){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(i,e){return i},cloneMutableTextInstance(i){return i},cloneRootViewTransitionContainer(i){throw new Error("Not implemented.")},removeRootViewTransitionClone(i,e){throw new Error("Not implemented.")},createFragmentInstance:i=>null,updateFragmentInstanceFiber(i,e){},commitNewChildToFragmentInstance(i,e){},deleteChildFromFragmentInstance(i,e){},measureClonedInstance:i=>null,maySuspendCommitOnUpdate:(i,e,t)=>!1,maySuspendCommitInSyncRender:(i,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(i,e)=>null}),Qg=new Map,$y={objects:"shallow",strict:!1};function _ce(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:r,left:a}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function xce(i){const e=Qg.get(i),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=n||Kue(nO,kV),o=t||JN.createContainer(a,Que,null,!1,null,"",r,r,r,null);e||Qg.set(i,{fiber:o,store:a});let s,l,u=!1,c=null;return{async configure(f={}){let h;c=new Promise(Y=>h=Y);let{gl:p,size:g,scene:y,events:_,onCreated:x,shadows:M=!1,linear:T=!1,flat:C=!1,legacy:E=!1,orthographic:D=!1,frameloop:L="always",dpr:z=[1,2],performance:P,raycaster:N,camera:B,onPointerMissed:G}=f,U=a.getState(),X=U.gl;if(!U.gl){const Y={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},ee=typeof p=="function"?await p(Y):p;RV(ee)?X=ee:X=new fY({...Y,...p}),U.set({gl:X})}let q=U.raycaster;q||U.set({raycaster:q=new iY});const{params:V,...j}=N||{};if(gr.equ(j,q,$y)||Qd(q,{...j}),gr.equ(V,q.params,$y)||Qd(q,{params:{...q.params,...V}}),!U.camera||U.camera===l&&!gr.equ(l,B,$y)){l=B;const Y=B?.isCamera,ee=Y?B:D?new ef(0,0,0,0,.1,1e3):new Lr(75,0,.1,1e3);Y||(ee.position.z=5,B&&(Qd(ee,B),ee.manual||("aspect"in B||"left"in B||"right"in B||"bottom"in B||"top"in B)&&(ee.manual=!0,ee.updateProjectionMatrix())),!U.camera&&!(B!=null&&B.rotation)&&ee.lookAt(0,0,0)),U.set({camera:ee}),q.camera=ee}if(!U.scene){let Y;y!=null&&y.isScene?(Y=y,NE(Y,a,"",{})):(Y=new BB,NE(Y,a,"",{}),y&&Qd(Y,y)),U.set({scene:Y})}_&&!U.events.handlers&&U.set({events:_(a)});const K=_ce(i,g);if(gr.equ(K,U.size,$y)||U.setSize(K.width,K.height,K.top,K.left),z&&U.viewport.dpr!==yY(z)&&U.setDpr(z),U.frameloop!==L&&U.setFrameloop(L),U.onPointerMissed||U.set({onPointerMissed:G}),P&&!gr.equ(P,U.performance,$y)&&U.set(Y=>({performance:{...Y.performance,...P}})),!U.xr){var te;const Y=(de,Pe)=>{const he=a.getState();he.frameloop!=="never"&&kV(de,!0,he,Pe)},ee=()=>{const de=a.getState();de.gl.xr.enabled=de.gl.xr.isPresenting,de.gl.xr.setAnimationLoop(de.gl.xr.isPresenting?Y:null),de.gl.xr.isPresenting||nO(de)},oe={connect(){const de=a.getState().gl;de.xr.addEventListener("sessionstart",ee),de.xr.addEventListener("sessionend",ee)},disconnect(){const de=a.getState().gl;de.xr.removeEventListener("sessionstart",ee),de.xr.removeEventListener("sessionend",ee)}};typeof((te=X.xr)==null?void 0:te.addEventListener)=="function"&&oe.connect(),U.set({xr:oe})}if(X.shadowMap){const Y=X.shadowMap.enabled,ee=X.shadowMap.type;if(X.shadowMap.enabled=!!M,gr.boo(M))X.shadowMap.type=Nb;else if(gr.str(M)){var ie;const oe={basic:C7,percentage:U0,soft:Nb,variance:Mg};X.shadowMap.type=(ie=oe[M])!=null?ie:Nb}else gr.obj(M)&&Object.assign(X.shadowMap,M);(Y!==X.shadowMap.enabled||ee!==X.shadowMap.type)&&(X.shadowMap.needsUpdate=!0)}return Jn.enabled=!E,u||(X.outputColorSpace=T?eo:Yr,X.toneMapping=C?Hl:KD),U.legacy!==E&&U.set(()=>({legacy:E})),U.linear!==T&&U.set(()=>({linear:T})),U.flat!==C&&U.set(()=>({flat:C})),p&&!gr.fun(p)&&!RV(p)&&!gr.equ(p,X,$y)&&Qd(X,p),s=x,u=!0,h(),this},render(f){return!u&&!c&&this.configure(),c.then(()=>{JN.updateContainer(Gs.jsx(Sce,{store:a,children:f,onCreated:s,rootElement:i}),o,null,()=>{})}),a},unmount(){CY(i)}}}function Sce({store:i,children:e,onCreated:t,rootElement:n}){return aM(()=>{const r=i.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),Gs.jsx(SY.Provider,{value:i,children:e})}function CY(i,e){const t=Qg.get(i),n=t?.fiber;if(n){const r=t?.store.getState();r&&(r.internal.active=!1),JN.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var a,o,s,l;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=r.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Vue(r.scene),Qg.delete(i)}catch{}},500)})}}const bce=new Set,Mce=new Set,Tce=new Set;function eP(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function Gb(i,e){switch(i){case"before":return eP(bce,e);case"after":return eP(Mce,e);case"tail":return eP(Tce,e)}}let tP,nP;function eO(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),tP=e.internal.subscribers;for(let r=0;r<tP.length;r++)nP=tP[r],nP.ref.current(nP.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let BE=!1,tO=!1,iP,BV,Qy;function EY(i){BV=requestAnimationFrame(EY),BE=!0,iP=0,Gb("before",i),tO=!0;for(const t of Qg.values()){var e;Qy=t.store.getState(),Qy.internal.active&&(Qy.frameloop==="always"||Qy.internal.frames>0)&&!((e=Qy.gl.xr)!=null&&e.isPresenting)&&(iP+=eO(i,Qy))}if(tO=!1,Gb("after",i),iP===0)return Gb("tail",i),BE=!1,cancelAnimationFrame(BV)}function nO(i,e=1){var t;if(!i)return Qg.forEach(n=>nO(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):tO?i.internal.frames=2:i.internal.frames=1,BE||(BE=!0,requestAnimationFrame(EY)))}function kV(i,e=!0,t,n){if(e&&Gb("before",i),t)eO(i,t,n);else for(const r of Qg.values())eO(i,r.store.getState());e&&Gb("after",i)}const rP={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function wce(i){const{handlePointer:e}=jue(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(rP).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=i.getState();if(r.disconnect==null||r.disconnect(),n(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const o=r.handlers[a],[s,l]=rP[a];t.addEventListener(s,o,{passive:l})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const r in n.handlers){const a=n.handlers[r],[o]=rP[r];n.connected.removeEventListener(o,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function UV(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function Ace({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=_n.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=_n.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=i?typeof i=="number"?i:i.scroll:null,u=i?typeof i=="number"?i:i.resize:null,c=_n.useRef(!1);_n.useEffect(()=>(c.current=!0,()=>{c.current=!1}));const[f,h,p]=_n.useMemo(()=>{const x=()=>{if(!s.current.element)return;const{left:M,top:T,width:C,height:E,bottom:D,right:L,x:z,y:P}=s.current.element.getBoundingClientRect(),N={left:M,top:T,width:C,height:E,bottom:D,right:L,x:z,y:P};s.current.element instanceof HTMLElement&&n&&(N.height=s.current.element.offsetHeight,N.width=s.current.element.offsetWidth),Object.freeze(N),c.current&&!Rce(s.current.lastBounds,N)&&o(s.current.lastBounds=N)};return[x,u?UV(x,u):x,l?UV(x,l):x]},[o,n,l,u]);function g(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",p,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function y(){s.current.element&&(s.current.resizeObserver=new r(p),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(x=>x.addEventListener("scroll",p,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const _=x=>{!x||x===s.current.element||(g(),s.current.element=x,s.current.scrollContainers=DY(x),y())};return Ece(p,!!e),Cce(h),_n.useEffect(()=>{g(),y()},[e,p,h]),_n.useEffect(()=>g,[]),[_,a,f]}function Cce(i){_n.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[i])}function Ece(i,e){_n.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[i,e])}function DY(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(a=>a==="auto"||a==="scroll")&&e.push(i),[...e,...DY(i.parentElement)]}const Dce=["x","y","top","bottom","left","right","width","height"],Rce=(i,e)=>Dce.every(t=>i[t]===e[t]);function Lce({ref:i,children:e,fallback:t,resize:n,style:r,gl:a,events:o=wce,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:p,frameloop:g,dpr:y,performance:_,raycaster:x,camera:M,scene:T,onPointerMissed:C,onCreated:E,...D}){_n.useMemo(()=>hce(xue),[]);const L=kue(),[z,P]=Ace({scroll:!0,debounce:{scroll:50,resize:0},...n}),N=_n.useRef(null),B=_n.useRef(null);_n.useImperativeHandle(i,()=>N.current);const G=mY(C),[U,X]=_n.useState(!1),[q,V]=_n.useState(!1);if(U)throw U;if(q)throw q;const j=_n.useRef(null);aM(()=>{const te=N.current;if(P.width>0&&P.height>0&&te){j.current||(j.current=xce(te));async function ie(){await j.current.configure({gl:a,scene:T,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:p,frameloop:g,dpr:y,performance:_,raycaster:x,camera:M,size:P,onPointerMissed:(...Y)=>G.current==null?void 0:G.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(s?zue(s)?s.current:s:B.current),l&&Y.setEvents({compute:(ee,oe)=>{const de=ee[l+"X"],Pe=ee[l+"Y"];oe.pointer.set(de/oe.size.width*2-1,-(Pe/oe.size.height)*2+1),oe.raycaster.setFromCamera(oe.pointer,oe.camera)}}),E?.(Y)}}),j.current.render(Gs.jsx(L,{children:Gs.jsx(Fue,{set:V,children:Gs.jsx(_n.Suspense,{fallback:Gs.jsx(Uue,{set:X}),children:e??null})})}))}ie()}}),_n.useEffect(()=>{const te=N.current;if(te)return()=>CY(te)},[]);const K=s?"none":"auto";return Gs.jsx("div",{ref:B,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:K,...r},...D,children:Gs.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:Gs.jsx("canvas",{ref:N,style:{display:"block"},children:t})})})}function VPe(i){return Gs.jsx(dY,{children:Gs.jsx(Lce,{...i})})}function FV(i,e){if(e===Q7)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===DE||e===LB){let t=i.getIndex();if(t===null){const o=[],s=i.getAttribute("position");if(s!==void 0){for(let l=0;l<s.count;l++)o.push(l);i.setIndex(o),t=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const n=t.count-2,r=[];if(e===DE)for(let o=1;o<=n;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=i.clone();return a.setIndex(r),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}class GPe extends ns{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new zce(t)}),this.register(function(t){return new Bce(t)}),this.register(function(t){return new Yce(t)}),this.register(function(t){return new qce(t)}),this.register(function(t){return new Zce(t)}),this.register(function(t){return new Uce(t)}),this.register(function(t){return new Fce(t)}),this.register(function(t){return new Vce(t)}),this.register(function(t){return new Gce(t)}),this.register(function(t){return new Oce(t)}),this.register(function(t){return new Hce(t)}),this.register(function(t){return new kce(t)}),this.register(function(t){return new Xce(t)}),this.register(function(t){return new Wce(t)}),this.register(function(t){return new Pce(t)}),this.register(function(t){return new jce(t)}),this.register(function(t){return new Kce(t)})}load(e,t,n,r){const a=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=up.extractUrlBase(e);o=up.resolveURL(u,this.path)}else o=up.extractUrlBase(e);this.manager.itemStart(e);const s=function(u){r?r(u):console.error(u),a.manager.itemError(e),a.manager.itemEnd(e)},l=new Hu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{a.parse(u,o,function(c){t(c),a.manager.itemEnd(e)},s)}catch(c){s(c)}},n,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let a;const o={},s={},l=new TextDecoder;if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===RY){try{o[ri.KHR_BINARY_GLTF]=new $ce(e)}catch(f){r&&r(f);return}a=JSON.parse(o[ri.KHR_BINARY_GLTF].content)}else a=JSON.parse(l.decode(e));else a=e;if(a.asset===void 0||a.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new cfe(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const f=this.pluginCallbacks[c](u);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[f.name]=f,o[f.name]=!0}if(a.extensionsUsed)for(let c=0;c<a.extensionsUsed.length;++c){const f=a.extensionsUsed[c],h=a.extensionsRequired||[];switch(f){case ri.KHR_MATERIALS_UNLIT:o[f]=new Nce;break;case ri.KHR_DRACO_MESH_COMPRESSION:o[f]=new Qce(a,this.dracoLoader);break;case ri.KHR_TEXTURE_TRANSFORM:o[f]=new Jce;break;case ri.KHR_MESH_QUANTIZATION:o[f]=new efe;break;default:h.indexOf(f)>=0&&s[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(o),u.setPlugins(s),u.parse(n,r)}parseAsync(e,t){const n=this;return new Promise(function(r,a){n.parse(e,t,r,a)})}}function Ice(){let i={};return{get:function(e){return i[e]},add:function(e,t){i[e]=t},remove:function(e){delete i[e]},removeAll:function(){i={}}}}const ri={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Pce{constructor(e){this.parser=e,this.name=ri.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const a=t[n];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const a=t.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let u;const c=new Et(16777215);l.color!==void 0&&c.setRGB(l.color[0],l.color[1],l.color[2],eo);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new ok(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new ak(c),u.distance=f;break;case"spot":u=new rk(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),Gc(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),t.cache.add(n,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,a=n.json.nodes[e],s=(a.extensions&&a.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(l){return n._getNodeRef(t.cache,s,l)})}}class Nce{constructor(){this.name=ri.KHR_MATERIALS_UNLIT}getMaterialType(){return qs}extendParams(e,t,n){const r=[];e.color=new Et(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const o=a.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],eo),e.opacity=o[3]}a.baseColorTexture!==void 0&&r.push(n.assignTexture(e,"map",a.baseColorTexture,Yr))}return Promise.all(r)}}class Oce{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class zce{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ql}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&a.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(a.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const s=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ze(s,s)}return Promise.all(a)}}class Bce{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ql}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class kce{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ql}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&a.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&a.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(a)}}class Uce{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ql}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new Et(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const s=o.sheenColorFactor;t.sheenColor.setRGB(s[0],s[1],s[2],eo)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&a.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Yr)),o.sheenRoughnessTexture!==void 0&&a.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(a)}}class Fce{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ql}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&a.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(a)}}class Vce{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ql}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&a.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const s=o.attenuationColor||[1,1,1];return t.attenuationColor=new Et().setRGB(s[0],s[1],s[2],eo),Promise.all(a)}}class Gce{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ql}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class Hce{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ql}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&a.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const s=o.specularColorFactor||[1,1,1];return t.specularColor=new Et().setRGB(s[0],s[1],s[2],eo),o.specularColorTexture!==void 0&&a.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,Yr)),Promise.all(a)}}class Wce{constructor(e){this.parser=e,this.name=ri.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ql}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&a.push(n.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(a)}}class Xce{constructor(e){this.parser=e,this.name=ri.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Ql}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&a.push(n.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(a)}}class Yce{constructor(e){this.parser=e,this.name=ri.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,o)}}class qce{constructor(e){this.parser=e,this.name=ri.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,n=this.parser,r=n.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const o=a.extensions[t],s=r.images[o.source];let l=n.textureLoader;if(s.uri){const u=n.options.manager.getHandler(s.uri);u!==null&&(l=u)}return n.loadTextureImage(e,o.source,l)}}class Zce{constructor(e){this.parser=e,this.name=ri.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,n=this.parser,r=n.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const o=a.extensions[t],s=r.images[o.source];let l=n.textureLoader;if(s.uri){const u=n.options.manager.getHandler(s.uri);u!==null&&(l=u)}return n.loadTextureImage(e,o.source,l)}}class jce{constructor(e){this.name=ri.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(s){const l=r.byteOffset||0,u=r.byteLength||0,c=r.count,f=r.byteStride,h=new Uint8Array(s,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,h,r.mode,r.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(p),c,f,h,r.mode,r.filter),p})})}else return null}}class Kce{constructor(e){this.name=ri.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const r=t.meshes[n.mesh];for(const u of r.primitives)if(u.mode!==Nl.TRIANGLES&&u.mode!==Nl.TRIANGLE_STRIP&&u.mode!==Nl.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=n.extensions[this.name].attributes,s=[],l={};for(const u in o)s.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],h=u[0].count,p=[];for(const g of f){const y=new hn,_=new re,x=new Oa,M=new re(1,1,1),T=new FB(g.geometry,g.material,h);for(let C=0;C<h;C++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,C),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,C),l.SCALE&&M.fromBufferAttribute(l.SCALE,C),T.setMatrixAt(C,y.compose(_,x,M));for(const C in l)if(C==="_COLOR_0"){const E=l[C];T.instanceColor=new qg(E.array,E.itemSize,E.normalized)}else C!=="TRANSLATION"&&C!=="ROTATION"&&C!=="SCALE"&&g.geometry.setAttribute(C,l[C]);ci.prototype.copy.call(T,g),this.parser.assignFinalMaterial(T),p.push(T)}return c.isGroup?(c.clear(),c.add(...p),c):p[0]}))}}const RY="glTF",US=12,VV={JSON:1313821514,BIN:5130562};class $ce{constructor(e){this.name=ri.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,US),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==RY)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-US,a=new DataView(e,US);let o=0;for(;o<r;){const s=a.getUint32(o,!0);o+=4;const l=a.getUint32(o,!0);if(o+=4,l===VV.JSON){const u=new Uint8Array(e,US+o,s);this.content=n.decode(u)}else if(l===VV.BIN){const u=US+o;this.body=e.slice(u,u+s)}o+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Qce{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ri.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,s={},l={},u={};for(const c in o){const f=iO[c]||c.toLowerCase();s[f]=o[c]}for(const c in e.attributes){const f=iO[c]||c.toLowerCase();if(o[c]!==void 0){const h=n.accessors[e.attributes[c]],p=G0[h.componentType];u[f]=p.name,l[f]=h.normalized===!0}}return t.getDependency("bufferView",a).then(function(c){return new Promise(function(f,h){r.decodeDracoFile(c,function(p){for(const g in p.attributes){const y=p.attributes[g],_=l[g];_!==void 0&&(y.normalized=_)}f(p)},s,u,eo,h)})})}}class Jce{constructor(){this.name=ri.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class efe{constructor(){this.name=ri.KHR_MESH_QUANTIZATION}}class LY extends D_{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r*3+r;for(let o=0;o!==r;o++)t[o]=n[a+o];return t}interpolate_(e,t,n,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=s*2,u=s*3,c=r-t,f=(n-t)/c,h=f*f,p=h*f,g=e*u,y=g-u,_=-2*p+3*h,x=p-h,M=1-_,T=x-h+f;for(let C=0;C!==s;C++){const E=o[y+C+s],D=o[y+C+l]*c,L=o[g+C+s],z=o[g+C]*c;a[C]=M*E+T*D+_*L+x*z}return a}}const tfe=new Oa;class nfe extends LY{interpolate_(e,t,n,r){const a=super.interpolate_(e,t,n,r);return tfe.fromArray(a).normalize().toArray(a),a}}const Nl={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},G0={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},GV={9728:yr,9729:ki,9984:QD,9985:F0,9986:Tg,9987:Gl},HV={33071:Ko,33648:j0,10497:_p},aP={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},iO={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Bd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ife={CUBICSPLINE:void 0,LINEAR:J0,STEP:Q0},oP={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function rfe(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new rM({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:af})),i.DefaultMaterial}function zv(i,e,t){for(const n in t.extensions)i[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function Gc(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function afe(i,e,t){let n=!1,r=!1,a=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(n=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(a=!0),n&&r&&a)break}if(!n&&!r&&!a)return Promise.resolve(i);const o=[],s=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(n){const h=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):i.attributes.position;o.push(h)}if(r){const h=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):i.attributes.normal;s.push(h)}if(a){const h=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):i.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],h=u[2];return n&&(i.morphAttributes.position=c),r&&(i.morphAttributes.normal=f),a&&(i.morphAttributes.color=h),i.morphTargetsRelative=!0,i})}function ofe(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)i.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(i.morphTargetInfluences.length===t.length){i.morphTargetDictionary={};for(let n=0,r=t.length;n<r;n++)i.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function sfe(i){let e;const t=i.extensions&&i.extensions[ri.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+sP(t.attributes):e=i.indices+":"+sP(i.attributes)+":"+i.mode,i.targets!==void 0)for(let n=0,r=i.targets.length;n<r;n++)e+=":"+sP(i.targets[n]);return e}function sP(i){let e="";const t=Object.keys(i).sort();for(let n=0,r=t.length;n<r;n++)e+=t[n]+":"+i[t[n]]+";";return e}function rO(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function lfe(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":i.search(/\.ktx2($|\?)/i)>0||i.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const ufe=new hn;class cfe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Ice,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=-1,a=!1,o=-1;if(typeof navigator<"u"){const s=navigator.userAgent;n=/^((?!chrome|android).)*safari/i.test(s)===!0;const l=s.match(/Version\/(\d+)/);r=n&&l?parseInt(l[1],10):-1,a=s.indexOf("Firefox")>-1,o=a?s.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||n&&r<17||a&&o<98?this.textureLoader=new XX(this.options.manager):this.textureLoader=new QX(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Hu(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const s={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:n,userData:{}};return zv(a,s,r),Gc(s,r),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(s)})).then(function(){for(const l of s.scenes)l.updateMatrixWorld();e(s)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,a=t.length;r<a;r++){const o=t[r].joints;for(let s=0,l=o.length;s<l;s++)e[o[s]].isBone=!0}for(let r=0,a=e.length;r<a;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),a=(o,s)=>{const l=this.associations.get(o);l!=null&&this.associations.set(s,l);for(const[u,c]of o.children.entries())a(c,s.children[u])};return a(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a&&n.push(a)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":r=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(a,o){return n.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[ri.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(a,o){n.load(up.resolveURL(t.uri,r.path),a,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const r=t.byteLength||0,a=t.byteOffset||0;return n.slice(a,a+r)})}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=aP[r.type],s=G0[r.componentType],l=r.normalized===!0,u=new s(r.count*o);return Promise.resolve(new bi(u,o,l))}const a=[];return r.bufferView!==void 0?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),r.sparse!==void 0&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(o){const s=o[0],l=aP[r.type],u=G0[r.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,h=r.byteOffset||0,p=r.bufferView!==void 0?n.bufferViews[r.bufferView].byteStride:void 0,g=r.normalized===!0;let y,_;if(p&&p!==f){const x=Math.floor(h/p),M="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+x+":"+r.count;let T=t.cache.get(M);T||(y=new u(s,x*p,r.count*p/c),T=new Q1(y,p/c),t.cache.add(M,T)),_=new Sp(T,l,h%p/c,g)}else s===null?y=new u(r.count*l):y=new u(s,h,r.count*l),_=new bi(y,l,g);if(r.sparse!==void 0){const x=aP.SCALAR,M=G0[r.sparse.indices.componentType],T=r.sparse.indices.byteOffset||0,C=r.sparse.values.byteOffset||0,E=new M(o[1],T,r.sparse.count*x),D=new u(o[2],C,r.sparse.count*l);s!==null&&(_=new bi(_.array.slice(),_.itemSize,_.normalized)),_.normalized=!1;for(let L=0,z=E.length;L<z;L++){const P=E[L];if(_.setX(P,D[L*l]),l>=2&&_.setY(P,D[L*l+1]),l>=3&&_.setZ(P,D[L*l+2]),l>=4&&_.setW(P,D[L*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}_.normalized=g}return _})}loadTexture(e){const t=this.json,n=this.options,a=t.textures[e].source,o=t.images[a];let s=this.textureLoader;if(o.uri){const l=n.manager.getHandler(o.uri);l!==null&&(s=l)}return this.loadTextureImage(e,a,s)}loadTextureImage(e,t,n){const r=this,a=this.json,o=a.textures[e],s=a.images[t],l=(s.uri||s.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,n).then(function(c){c.flipY=!1,c.name=o.name||s.name||"",c.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(c.name=s.uri);const h=(a.samplers||{})[o.sampler]||{};return c.magFilter=GV[h.magFilter]||ki,c.minFilter=GV[h.minFilter]||Gl,c.wrapS=HV[h.wrapS]||_p,c.wrapT=HV[h.wrapT]||_p,c.generateMipmaps=!c.isCompressedTexture&&c.minFilter!==yr&&c.minFilter!==ki,r.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const n=this,r=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=r.images[e],s=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=n.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const h=new Blob([f],{type:o.mimeType});return l=s.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(h,p){let g=h;t.isImageBitmapLoader===!0&&(g=function(y){const _=new ur(y);_.needsUpdate=!0,h(_)}),t.load(up.resolveURL(f,a.path),g,void 0,p)})}).then(function(f){return u===!0&&s.revokeObjectURL(l),Gc(f,o),f.userData.mimeType=o.mimeType||lfe(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,t,n,r){const a=this;return this.getDependency("texture",n.index).then(function(o){if(!o)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(o=o.clone(),o.channel=n.texCoord),a.extensions[ri.KHR_TEXTURE_TRANSFORM]){const s=n.extensions!==void 0?n.extensions[ri.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const l=a.associations.get(o);o=a.extensions[ri.KHR_TEXTURE_TRANSFORM].extendTexture(o,s),a.associations.set(o,l)}}return r!==void 0&&(o.colorSpace=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const s="PointsMaterial:"+n.uuid;let l=this.cache.get(s);l||(l=new vR,ya.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(s,l)),n=l}else if(e.isLine){const s="LineBasicMaterial:"+n.uuid;let l=this.cache.get(s);l||(l=new Co,ya.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(s,l)),n=l}if(r||a||o){let s="ClonedMaterial:"+n.uuid+":";r&&(s+="derivative-tangents:"),a&&(s+="vertex-colors:"),o&&(s+="flat-shading:");let l=this.cache.get(s);l||(l=n.clone(),a&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(s,l),this.associations.set(l,this.associations.get(n))),n=l}e.material=n}getMaterialType(){return rM}loadMaterial(e){const t=this,n=this.json,r=this.extensions,a=n.materials[e];let o;const s={},l=a.extensions||{},u=[];if(l[ri.KHR_MATERIALS_UNLIT]){const f=r[ri.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(s,a,t))}else{const f=a.pbrMetallicRoughness||{};if(s.color=new Et(1,1,1),s.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;s.color.setRGB(h[0],h[1],h[2],eo),s.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(t.assignTexture(s,"map",f.baseColorTexture,Yr)),s.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,s.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(s,"metalnessMap",f.metallicRoughnessTexture)),u.push(t.assignTexture(s,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,s)})))}a.doubleSided===!0&&(s.side=Nu);const c=a.alphaMode||oP.OPAQUE;if(c===oP.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,c===oP.MASK&&(s.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&o!==qs&&(u.push(t.assignTexture(s,"normalMap",a.normalTexture)),s.normalScale=new Ze(1,1),a.normalTexture.scale!==void 0)){const f=a.normalTexture.scale;s.normalScale.set(f,f)}if(a.occlusionTexture!==void 0&&o!==qs&&(u.push(t.assignTexture(s,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&o!==qs){const f=a.emissiveFactor;s.emissive=new Et().setRGB(f[0],f[1],f[2],eo)}return a.emissiveTexture!==void 0&&o!==qs&&u.push(t.assignTexture(s,"emissiveMap",a.emissiveTexture,Yr)),Promise.all(u).then(function(){const f=new o(s);return a.name&&(f.name=a.name),Gc(f,a),t.associations.set(f,{materials:e}),a.extensions&&zv(r,f,a),f})}createUniqueName(e){const t=di.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function a(s){return n[ri.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,t).then(function(l){return WV(l,s,t)})}const o=[];for(let s=0,l=e.length;s<l;s++){const u=e[s],c=sfe(u),f=r[c];if(f)o.push(f.promise);else{let h;u.extensions&&u.extensions[ri.KHR_DRACO_MESH_COMPRESSION]?h=a(u):h=WV(new En,u,t),r[c]={primitive:u,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,r=this.extensions,a=n.meshes[e],o=a.primitives,s=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?rfe(this.cache):this.getDependency("material",o[l].material);s.push(c)}return s.push(t.loadGeometries(o)),Promise.all(s).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let p=0,g=c.length;p<g;p++){const y=c[p],_=o[p];let x;const M=u[p];if(_.mode===Nl.TRIANGLES||_.mode===Nl.TRIANGLE_STRIP||_.mode===Nl.TRIANGLE_FAN||_.mode===void 0)x=a.isSkinnedMesh===!0?new UB(y,M):new jr(y,M),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),_.mode===Nl.TRIANGLE_STRIP?x.geometry=FV(x.geometry,LB):_.mode===Nl.TRIANGLE_FAN&&(x.geometry=FV(x.geometry,DE));else if(_.mode===Nl.LINES)x=new qu(y,M);else if(_.mode===Nl.LINE_STRIP)x=new Eh(y,M);else if(_.mode===Nl.LINE_LOOP)x=new VB(y,M);else if(_.mode===Nl.POINTS)x=new GB(y,M);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(x.geometry.morphAttributes).length>0&&ofe(x,a),x.name=t.createUniqueName(a.name||"mesh_"+e),Gc(x,a),_.extensions&&zv(r,x,_),t.assignFinalMaterial(x),f.push(x)}for(let p=0,g=f.length;p<g;p++)t.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return a.extensions&&zv(r,f[0],a),f[0];const h=new vh;a.extensions&&zv(r,h,a),t.associations.set(h,{meshes:e});for(let p=0,g=f.length;p<g;p++)h.add(f[p]);return h})}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Lr(cX.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):n.type==="orthographic"&&(t=new ef(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Gc(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,a=t.joints.length;r<a;r++)n.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(r){const a=r.pop(),o=r,s=[],l=[];for(let u=0,c=o.length;u<c;u++){const f=o[u];if(f){s.push(f);const h=new hn;a!==null&&h.fromArray(a.array,u*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new J1(s,l)})}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],a=r.name?r.name:"animation_"+e,o=[],s=[],l=[],u=[],c=[];for(let f=0,h=r.channels.length;f<h;f++){const p=r.channels[f],g=r.samplers[p.sampler],y=p.target,_=y.node,x=r.parameters!==void 0?r.parameters[g.input]:g.input,M=r.parameters!==void 0?r.parameters[g.output]:g.output;y.node!==void 0&&(o.push(this.getDependency("node",_)),s.push(this.getDependency("accessor",x)),l.push(this.getDependency("accessor",M)),u.push(g),c.push(y))}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(l),Promise.all(u),Promise.all(c)]).then(function(f){const h=f[0],p=f[1],g=f[2],y=f[3],_=f[4],x=[];for(let T=0,C=h.length;T<C;T++){const E=h[T],D=p[T],L=g[T],z=y[T],P=_[T];if(E===void 0)continue;E.updateMatrix&&E.updateMatrix();const N=n._createAnimationTracks(E,D,L,z,P);if(N)for(let B=0;B<N.length;B++)x.push(N[B])}const M=new s_(a,void 0,x);return Gc(M,r),M})}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return r.mesh===void 0?null:n.getDependency("mesh",r.mesh).then(function(a){const o=n._getNodeRef(n.meshCache,r.mesh,a);return r.weights!==void 0&&o.traverse(function(s){if(s.isMesh)for(let l=0,u=r.weights.length;l<u;l++)s.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,n=this,r=t.nodes[e],a=n._loadNodeShallow(e),o=[],s=r.children||[];for(let u=0,c=s.length;u<c;u++)o.push(n.getDependency("node",s[u]));const l=r.skin===void 0?Promise.resolve(null):n.getDependency("skin",r.skin);return Promise.all([a,Promise.all(o),l]).then(function(u){const c=u[0],f=u[1],h=u[2];h!==null&&c.traverse(function(p){p.isSkinnedMesh&&p.bind(h,ufe)});for(let p=0,g=f.length;p<g;p++)c.add(f[p]);return c})}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],o=a.name?r.createUniqueName(a.name):"",s=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&s.push(l),a.camera!==void 0&&s.push(r.getDependency("camera",a.camera).then(function(u){return r._getNodeRef(r.cameraCache,a.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){s.push(u)}),this.nodeCache[e]=Promise.all(s).then(function(u){let c;if(a.isBone===!0?c=new dR:u.length>1?c=new vh:u.length===1?c=u[0]:c=new ci,c!==u[0])for(let f=0,h=u.length;f<h;f++)c.add(u[f]);if(a.name&&(c.userData.name=a.name,c.name=o),Gc(c,a),a.extensions&&zv(n,c,a),a.matrix!==void 0){const f=new hn;f.fromArray(a.matrix),c.applyMatrix4(f)}else a.translation!==void 0&&c.position.fromArray(a.translation),a.rotation!==void 0&&c.quaternion.fromArray(a.rotation),a.scale!==void 0&&c.scale.fromArray(a.scale);if(!r.associations.has(c))r.associations.set(c,{});else if(a.mesh!==void 0&&r.meshCache.refs[a.mesh]>1){const f=r.associations.get(c);r.associations.set(c,{...f})}return r.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,a=new vh;n.name&&(a.name=r.createUniqueName(n.name)),Gc(a,n),n.extensions&&zv(t,a,n);const o=n.nodes||[],s=[];for(let l=0,u=o.length;l<u;l++)s.push(r.getDependency("node",o[l]));return Promise.all(s).then(function(l){for(let c=0,f=l.length;c<f;c++)a.add(l[c]);const u=c=>{const f=new Map;for(const[h,p]of r.associations)(h instanceof ya||h instanceof ur)&&f.set(h,p);return c.traverse(h=>{const p=r.associations.get(h);p!=null&&f.set(h,p)}),f};return r.associations=u(a),a})}_createAnimationTracks(e,t,n,r,a){const o=[],s=e.name?e.name:e.uuid,l=[];Bd[a.path]===Bd.weights?e.traverse(function(h){h.morphTargetInfluences&&l.push(h.name?h.name:h.uuid)}):l.push(s);let u;switch(Bd[a.path]){case Bd.weights:u=jg;break;case Bd.rotation:u=Kg;break;case Bd.translation:case Bd.scale:u=$g;break;default:switch(n.itemSize){case 1:u=jg;break;case 2:case 3:default:u=$g;break}break}const c=r.interpolation!==void 0?ife[r.interpolation]:J0,f=this._getArrayFromAccessor(n);for(let h=0,p=l.length;h<p;h++){const g=new u(l[h]+"."+Bd[a.path],t.array,f,c);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),o.push(g)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=rO(t.constructor),r=new Float32Array(t.length);for(let a=0,o=t.length;a<o;a++)r[a]=t[a]*n;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const r=this instanceof Kg?nfe:LY;return new r(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function ffe(i,e,t){const n=e.attributes,r=new Qa;if(n.POSITION!==void 0){const s=t.json.accessors[n.POSITION],l=s.min,u=s.max;if(l!==void 0&&u!==void 0){if(r.set(new re(l[0],l[1],l[2]),new re(u[0],u[1],u[2])),s.normalized){const c=rO(G0[s.componentType]);r.min.multiplyScalar(c),r.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const s=new re,l=new re;for(let u=0,c=a.length;u<c;u++){const f=a[u];if(f.POSITION!==void 0){const h=t.json.accessors[f.POSITION],p=h.min,g=h.max;if(p!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),h.normalized){const y=rO(G0[h.componentType]);l.multiplyScalar(y)}s.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(s)}i.boundingBox=r;const o=new za;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,i.boundingSphere=o}function WV(i,e,t){const n=e.attributes,r=[];function a(o,s){return t.getDependency("accessor",o).then(function(l){i.setAttribute(s,l)})}for(const o in n){const s=iO[o]||o.toLowerCase();s in i.attributes||r.push(a(n[o],s))}if(e.indices!==void 0&&!i.index){const o=t.getDependency("accessor",e.indices).then(function(s){i.setIndex(s)});r.push(o)}return Jn.workingColorSpace!==eo&&"COLOR_0"in n&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Jn.workingColorSpace}" not supported.`),Gc(i,e),ffe(i,e,t),Promise.all(r).then(function(){return e.targets!==void 0?afe(i,e.targets,t):i})}function aO(){return aO=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},aO.apply(null,arguments)}function hfe(i,e){let t;try{t=i()}catch{return}return{getItem:r=>{var a;const o=l=>l===null?null:JSON.parse(l,void 0),s=(a=t.getItem(r))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(r,a)=>t.setItem(r,JSON.stringify(a,void 0)),removeItem:r=>t.removeItem(r)}}const oO=i=>e=>{try{const t=i(e);return t instanceof Promise?t:{then(n){return oO(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return oO(n)(t)}}}},dfe=(i,e)=>(t,n,r)=>{let a={storage:hfe(()=>localStorage),partialize:_=>_,version:0,merge:(_,x)=>({...x,..._}),...e},o=!1,s=0;const l=new Set,u=new Set;let c=a.storage;if(!c)return i((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(..._)},n,r);const f=()=>{const _=a.partialize({...n()});return c.setItem(a.name,{state:_,version:a.version})},h=r.setState;r.setState=(_,x)=>(h(_,x),f());const p=i((..._)=>(t(..._),f()),n,r);r.getInitialState=()=>p;let g;const y=()=>{var _,x;if(!c)return;const M=++s;o=!1,l.forEach(C=>{var E;return C((E=n())!=null?E:p)});const T=((x=a.onRehydrateStorage)==null?void 0:x.call(a,(_=n())!=null?_:p))||void 0;return oO(c.getItem.bind(c))(a.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==a.version){if(a.migrate){const E=a.migrate(C.state,C.version);return E instanceof Promise?E.then(D=>[!0,D]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var E;if(M!==s)return;const[D,L]=C;if(g=a.merge(L,(E=n())!=null?E:p),t(g,!0),D)return f()}).then(()=>{M===s&&(T?.(g,void 0),g=n(),o=!0,u.forEach(C=>C(g)))}).catch(C=>{M===s&&T?.(void 0,C)})};return r.persist={setOptions:_=>{a={...a,..._},_.storage&&(c=_.storage)},clearStorage:()=>{c?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:_=>(l.add(_),()=>{l.delete(_)}),onFinishHydration:_=>(u.add(_),()=>{u.delete(_)})},a.skipHydration||y(),g||p},HPe=dfe;var pfe=Object.defineProperty,vfe=(i,e,t)=>e in i?pfe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,gfe=(i,e,t)=>(vfe(i,e+"",t),t);class mfe{constructor(){gfe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}}var yfe=Object.defineProperty,_fe=(i,e,t)=>e in i?yfe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,fn=(i,e,t)=>(_fe(i,typeof e!="symbol"?e+"":e,t),t);const nA=new cm,XV=new fh,xfe=Math.cos(70*(Math.PI/180)),YV=(i,e)=>(i%e+e)%e;let Sfe=class extends mfe{constructor(e,t){super(),fn(this,"object"),fn(this,"domElement"),fn(this,"enabled",!0),fn(this,"target",new re),fn(this,"minDistance",0),fn(this,"maxDistance",1/0),fn(this,"minZoom",0),fn(this,"maxZoom",1/0),fn(this,"minPolarAngle",0),fn(this,"maxPolarAngle",Math.PI),fn(this,"minAzimuthAngle",-1/0),fn(this,"maxAzimuthAngle",1/0),fn(this,"enableDamping",!1),fn(this,"dampingFactor",.05),fn(this,"enableZoom",!0),fn(this,"zoomSpeed",1),fn(this,"enableRotate",!0),fn(this,"rotateSpeed",1),fn(this,"enablePan",!0),fn(this,"panSpeed",1),fn(this,"screenSpacePanning",!0),fn(this,"keyPanSpeed",7),fn(this,"zoomToCursor",!1),fn(this,"autoRotate",!1),fn(this,"autoRotateSpeed",2),fn(this,"reverseOrbit",!1),fn(this,"reverseHorizontalOrbit",!1),fn(this,"reverseVerticalOrbit",!1),fn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),fn(this,"mouseButtons",{LEFT:ug.ROTATE,MIDDLE:ug.DOLLY,RIGHT:ug.PAN}),fn(this,"touches",{ONE:cg.ROTATE,TWO:cg.DOLLY_PAN}),fn(this,"target0"),fn(this,"position0"),fn(this,"zoom0"),fn(this,"_domElementKeyEvents",null),fn(this,"getPolarAngle"),fn(this,"getAzimuthalAngle"),fn(this,"setPolarAngle"),fn(this,"setAzimuthalAngle"),fn(this,"getDistance"),fn(this,"getZoomScale"),fn(this,"listenToKeyEvents"),fn(this,"stopListenToKeyEvents"),fn(this,"saveState"),fn(this,"reset"),fn(this,"update"),fn(this,"connect"),fn(this,"dispose"),fn(this,"dollyIn"),fn(this,"dollyOut"),fn(this,"getScale"),fn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=se=>{let Me=YV(se,2*Math.PI),mt=c.phi;mt<0&&(mt+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let le=Math.abs(Me-mt);2*Math.PI-le<le&&(Me<mt?Me+=2*Math.PI:mt+=2*Math.PI),f.phi=Me-mt,n.update()},this.setAzimuthalAngle=se=>{let Me=YV(se,2*Math.PI),mt=c.theta;mt<0&&(mt+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let le=Math.abs(Me-mt);2*Math.PI-le<le&&(Me<mt?Me+=2*Math.PI:mt+=2*Math.PI),f.theta=Me-mt,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=se=>{se.addEventListener("keydown",Be),this._domElementKeyEvents=se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Be),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),l=s.NONE},this.update=(()=>{const se=new re,Me=new re(0,1,0),mt=new Oa().setFromUnitVectors(e.up,Me),le=mt.clone().invert(),ut=new re,tt=new Oa,xt=2*Math.PI;return function(){const Ye=n.object.position;mt.setFromUnitVectors(e.up,Me),le.copy(mt).invert(),se.copy(Ye).sub(n.target),se.applyQuaternion(mt),c.setFromVector3(se),n.autoRotate&&l===s.NONE&&X(G()),n.enableDamping?(c.theta+=f.theta*n.dampingFactor,c.phi+=f.phi*n.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let ct=n.minAzimuthAngle,$t=n.maxAzimuthAngle;isFinite(ct)&&isFinite($t)&&(ct<-Math.PI?ct+=xt:ct>Math.PI&&(ct-=xt),$t<-Math.PI?$t+=xt:$t>Math.PI&&($t-=xt),ct<=$t?c.theta=Math.max(ct,Math.min($t,c.theta)):c.theta=c.theta>(ct+$t)/2?Math.max(ct,c.theta):Math.min($t,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(p,n.dampingFactor):n.target.add(p),n.zoomToCursor&&P||n.object.isOrthographicCamera?c.radius=oe(c.radius):c.radius=oe(c.radius*h),se.setFromSpherical(c),se.applyQuaternion(le),Ye.copy(n.target).add(se),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,p.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),p.set(0,0,0));let Nn=!1;if(n.zoomToCursor&&P){let Bn=null;if(n.object instanceof Lr&&n.object.isPerspectiveCamera){const ji=se.length();Bn=oe(ji*h);const zr=ji-Bn;n.object.position.addScaledVector(L,zr),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const ji=new re(z.x,z.y,0);ji.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix(),Nn=!0;const zr=new re(z.x,z.y,0);zr.unproject(n.object),n.object.position.sub(zr).add(ji),n.object.updateMatrixWorld(),Bn=se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Bn!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Bn).add(n.object.position):(nA.origin.copy(n.object.position),nA.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(nA.direction))<xfe?e.lookAt(n.target):(XV.setFromNormalAndCoplanarPoint(n.object.up,n.target),nA.intersectPlane(XV,n.target))))}else n.object instanceof ef&&n.object.isOrthographicCamera&&(Nn=h!==1,Nn&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix()));return h=1,P=!1,Nn||ut.distanceToSquared(n.object.position)>u||8*(1-tt.dot(n.object.quaternion))>u?(n.dispatchEvent(r),ut.copy(n.object.position),tt.copy(n.object.quaternion),Nn=!1,!0):!1}})(),this.connect=se=>{n.domElement=se,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Ft),n.domElement.addEventListener("pointerdown",ot),n.domElement.addEventListener("pointercancel",Z),n.domElement.addEventListener("wheel",qe)},this.dispose=()=>{var se,Me,mt,le,ut,tt;n.domElement&&(n.domElement.style.touchAction="auto"),(se=n.domElement)==null||se.removeEventListener("contextmenu",Ft),(Me=n.domElement)==null||Me.removeEventListener("pointerdown",ot),(mt=n.domElement)==null||mt.removeEventListener("pointercancel",Z),(le=n.domElement)==null||le.removeEventListener("wheel",qe),(ut=n.domElement)==null||ut.ownerDocument.removeEventListener("pointermove",ne),(tt=n.domElement)==null||tt.ownerDocument.removeEventListener("pointerup",Z),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Be)};const n=this,r={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,c=new XN,f=new XN;let h=1;const p=new re,g=new Ze,y=new Ze,_=new Ze,x=new Ze,M=new Ze,T=new Ze,C=new Ze,E=new Ze,D=new Ze,L=new re,z=new Ze;let P=!1;const N=[],B={};function G(){return 2*Math.PI/60/60*n.autoRotateSpeed}function U(){return Math.pow(.95,n.zoomSpeed)}function X(se){n.reverseOrbit||n.reverseHorizontalOrbit?f.theta+=se:f.theta-=se}function q(se){n.reverseOrbit||n.reverseVerticalOrbit?f.phi+=se:f.phi-=se}const V=(()=>{const se=new re;return function(mt,le){se.setFromMatrixColumn(le,0),se.multiplyScalar(-mt),p.add(se)}})(),j=(()=>{const se=new re;return function(mt,le){n.screenSpacePanning===!0?se.setFromMatrixColumn(le,1):(se.setFromMatrixColumn(le,0),se.crossVectors(n.object.up,se)),se.multiplyScalar(mt),p.add(se)}})(),K=(()=>{const se=new re;return function(mt,le){const ut=n.domElement;if(ut&&n.object instanceof Lr&&n.object.isPerspectiveCamera){const tt=n.object.position;se.copy(tt).sub(n.target);let xt=se.length();xt*=Math.tan(n.object.fov/2*Math.PI/180),V(2*mt*xt/ut.clientHeight,n.object.matrix),j(2*le*xt/ut.clientHeight,n.object.matrix)}else ut&&n.object instanceof ef&&n.object.isOrthographicCamera?(V(mt*(n.object.right-n.object.left)/n.object.zoom/ut.clientWidth,n.object.matrix),j(le*(n.object.top-n.object.bottom)/n.object.zoom/ut.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function te(se){n.object instanceof Lr&&n.object.isPerspectiveCamera||n.object instanceof ef&&n.object.isOrthographicCamera?h=se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function ie(se){te(h/se)}function Y(se){te(h*se)}function ee(se){if(!n.zoomToCursor||!n.domElement)return;P=!0;const Me=n.domElement.getBoundingClientRect(),mt=se.clientX-Me.left,le=se.clientY-Me.top,ut=Me.width,tt=Me.height;z.x=mt/ut*2-1,z.y=-(le/tt)*2+1,L.set(z.x,z.y,1).unproject(n.object).sub(n.object.position).normalize()}function oe(se){return Math.max(n.minDistance,Math.min(n.maxDistance,se))}function de(se){g.set(se.clientX,se.clientY)}function Pe(se){ee(se),C.set(se.clientX,se.clientY)}function he(se){x.set(se.clientX,se.clientY)}function Se(se){y.set(se.clientX,se.clientY),_.subVectors(y,g).multiplyScalar(n.rotateSpeed);const Me=n.domElement;Me&&(X(2*Math.PI*_.x/Me.clientHeight),q(2*Math.PI*_.y/Me.clientHeight)),g.copy(y),n.update()}function Ee(se){E.set(se.clientX,se.clientY),D.subVectors(E,C),D.y>0?ie(U()):D.y<0&&Y(U()),C.copy(E),n.update()}function Te(se){M.set(se.clientX,se.clientY),T.subVectors(M,x).multiplyScalar(n.panSpeed),K(T.x,T.y),x.copy(M),n.update()}function He(se){ee(se),se.deltaY<0?Y(U()):se.deltaY>0&&ie(U()),n.update()}function We(se){let Me=!1;switch(se.code){case n.keys.UP:K(0,n.keyPanSpeed),Me=!0;break;case n.keys.BOTTOM:K(0,-n.keyPanSpeed),Me=!0;break;case n.keys.LEFT:K(n.keyPanSpeed,0),Me=!0;break;case n.keys.RIGHT:K(-n.keyPanSpeed,0),Me=!0;break}Me&&(se.preventDefault(),n.update())}function Qe(){if(N.length==1)g.set(N[0].pageX,N[0].pageY);else{const se=.5*(N[0].pageX+N[1].pageX),Me=.5*(N[0].pageY+N[1].pageY);g.set(se,Me)}}function yt(){if(N.length==1)x.set(N[0].pageX,N[0].pageY);else{const se=.5*(N[0].pageX+N[1].pageX),Me=.5*(N[0].pageY+N[1].pageY);x.set(se,Me)}}function be(){const se=N[0].pageX-N[1].pageX,Me=N[0].pageY-N[1].pageY,mt=Math.sqrt(se*se+Me*Me);C.set(0,mt)}function Ue(){n.enableZoom&&be(),n.enablePan&&yt()}function Ie(){n.enableZoom&&be(),n.enableRotate&&Qe()}function $e(se){if(N.length==1)y.set(se.pageX,se.pageY);else{const mt=wt(se),le=.5*(se.pageX+mt.x),ut=.5*(se.pageY+mt.y);y.set(le,ut)}_.subVectors(y,g).multiplyScalar(n.rotateSpeed);const Me=n.domElement;Me&&(X(2*Math.PI*_.x/Me.clientHeight),q(2*Math.PI*_.y/Me.clientHeight)),g.copy(y)}function ae(se){if(N.length==1)M.set(se.pageX,se.pageY);else{const Me=wt(se),mt=.5*(se.pageX+Me.x),le=.5*(se.pageY+Me.y);M.set(mt,le)}T.subVectors(M,x).multiplyScalar(n.panSpeed),K(T.x,T.y),x.copy(M)}function Mt(se){const Me=wt(se),mt=se.pageX-Me.x,le=se.pageY-Me.y,ut=Math.sqrt(mt*mt+le*le);E.set(0,ut),D.set(0,Math.pow(E.y/C.y,n.zoomSpeed)),ie(D.y),C.copy(E)}function vt(se){n.enableZoom&&Mt(se),n.enablePan&&ae(se)}function Vt(se){n.enableZoom&&Mt(se),n.enableRotate&&$e(se)}function ot(se){var Me,mt;n.enabled!==!1&&(N.length===0&&((Me=n.domElement)==null||Me.ownerDocument.addEventListener("pointermove",ne),(mt=n.domElement)==null||mt.ownerDocument.addEventListener("pointerup",Z)),tn(se),se.pointerType==="touch"?Dt(se):ve(se))}function ne(se){n.enabled!==!1&&(se.pointerType==="touch"?ht(se):ke(se))}function Z(se){var Me,mt,le;et(se),N.length===0&&((Me=n.domElement)==null||Me.releasePointerCapture(se.pointerId),(mt=n.domElement)==null||mt.ownerDocument.removeEventListener("pointermove",ne),(le=n.domElement)==null||le.ownerDocument.removeEventListener("pointerup",Z)),n.dispatchEvent(o),l=s.NONE}function ve(se){let Me;switch(se.button){case 0:Me=n.mouseButtons.LEFT;break;case 1:Me=n.mouseButtons.MIDDLE;break;case 2:Me=n.mouseButtons.RIGHT;break;default:Me=-1}switch(Me){case ug.DOLLY:if(n.enableZoom===!1)return;Pe(se),l=s.DOLLY;break;case ug.ROTATE:if(se.ctrlKey||se.metaKey||se.shiftKey){if(n.enablePan===!1)return;he(se),l=s.PAN}else{if(n.enableRotate===!1)return;de(se),l=s.ROTATE}break;case ug.PAN:if(se.ctrlKey||se.metaKey||se.shiftKey){if(n.enableRotate===!1)return;de(se),l=s.ROTATE}else{if(n.enablePan===!1)return;he(se),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&n.dispatchEvent(a)}function ke(se){if(n.enabled!==!1)switch(l){case s.ROTATE:if(n.enableRotate===!1)return;Se(se);break;case s.DOLLY:if(n.enableZoom===!1)return;Ee(se);break;case s.PAN:if(n.enablePan===!1)return;Te(se);break}}function qe(se){n.enabled===!1||n.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(se.preventDefault(),n.dispatchEvent(a),He(se),n.dispatchEvent(o))}function Be(se){n.enabled===!1||n.enablePan===!1||We(se)}function Dt(se){switch(ft(se),N.length){case 1:switch(n.touches.ONE){case cg.ROTATE:if(n.enableRotate===!1)return;Qe(),l=s.TOUCH_ROTATE;break;case cg.PAN:if(n.enablePan===!1)return;yt(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(n.touches.TWO){case cg.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ue(),l=s.TOUCH_DOLLY_PAN;break;case cg.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ie(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&n.dispatchEvent(a)}function ht(se){switch(ft(se),l){case s.TOUCH_ROTATE:if(n.enableRotate===!1)return;$e(se),n.update();break;case s.TOUCH_PAN:if(n.enablePan===!1)return;ae(se),n.update();break;case s.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;vt(se),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Vt(se),n.update();break;default:l=s.NONE}}function Ft(se){n.enabled!==!1&&se.preventDefault()}function tn(se){N.push(se)}function et(se){delete B[se.pointerId];for(let Me=0;Me<N.length;Me++)if(N[Me].pointerId==se.pointerId){N.splice(Me,1);return}}function ft(se){let Me=B[se.pointerId];Me===void 0&&(Me=new Ze,B[se.pointerId]=Me),Me.set(se.pageX,se.pageY)}function wt(se){const Me=se.pointerId===N[0].pointerId?N[1]:N[0];return B[Me.pointerId]}this.dollyIn=(se=U())=>{Y(se),n.update()},this.dollyOut=(se=U())=>{ie(se),n.update()},this.getScale=()=>h,this.setScale=se=>{te(se),n.update()},this.getZoomScale=()=>U(),t!==void 0&&this.connect(t),this.update()}};const XPe=_n.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:r=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l,...u},c)=>{const f=zd(D=>D.invalidate),h=zd(D=>D.camera),p=zd(D=>D.gl),g=zd(D=>D.events),y=zd(D=>D.setEvents),_=zd(D=>D.set),x=zd(D=>D.get),M=zd(D=>D.performance),T=e||h,C=n||g.connected||p.domElement,E=_n.useMemo(()=>new Sfe(T),[T]);return $ue(()=>{E.enabled&&E.update()},-1),_n.useEffect(()=>(a&&E.connect(a===!0?C:a),E.connect(C),()=>{E.dispose()}),[a,C,t,E,f]),_n.useEffect(()=>{const D=P=>{f(),t&&M.regress(),o&&o(P)},L=P=>{s&&s(P)},z=P=>{l&&l(P)};return E.addEventListener("change",D),E.addEventListener("start",L),E.addEventListener("end",z),()=>{E.removeEventListener("start",L),E.removeEventListener("end",z),E.removeEventListener("change",D)}},[o,s,l,E,f,y]),_n.useEffect(()=>{if(i){const D=x().controls;return _({controls:E}),()=>_({controls:D})}},[i,E]),_n.createElement("primitive",aO({ref:c,object:E,enableDamping:r},u))});var sO=function(i,e){return sO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},sO(i,e)};function fe(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sO(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var qV=function(){return qV=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},qV.apply(this,arguments)};function YPe(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t}function qPe(i,e,t,n){function r(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):r(c.value).then(s,l)}u((n=n.apply(i,[])).next())})}function ZPe(i,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,r,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,r&&(a=u[0]&2?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(c){u=[6,c],r=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var bfe=(function(){function i(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return i})(),Mfe=(function(){function i(){this.browser=new bfe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return i})(),Tn=new Mfe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Tn.wxa=!0,Tn.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Tn.worker=!0:!Tn.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(Tn.node=!0,Tn.svgSupported=!0):Tfe(navigator.userAgent,Tn);function Tfe(i,e){var t=e.browser,n=i.match(/Firefox\/([\d.]+)/),r=i.match(/MSIE\s([\d.]+)/)||i.match(/Trident\/.+?rv:(([\d.]+))/),a=i.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(i);n&&(t.firefox=!0,t.version=n[1]),r&&(t.ie=!0,t.version=r[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),o&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11);var s=e.domSupported=typeof document<"u";if(s){var l=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in l||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}}var mk=12,IY="sans-serif",Dh=mk+"px "+IY,wfe=20,Afe=100,Cfe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function Efe(i){var e={};if(typeof JSON>"u")return e;for(var t=0;t<i.length;t++){var n=String.fromCharCode(t+32),r=(i.charCodeAt(t)-wfe)/Afe;e[n]=r}return e}var Dfe=Efe(Cfe),Rs={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var i,e;return function(t,n){if(!i){var r=Rs.createCanvas();i=r&&r.getContext("2d")}if(i)return e!==n&&(e=i.font=n||Dh),i.measureText(t);t=t||"",n=n||Dh;var a=/((?:\d+)?\.?\d*)px/.exec(n),o=a&&+a[1]||mk,s=0;if(n.indexOf("mono")>=0)s=o*t.length;else for(var l=0;l<t.length;l++){var u=Dfe[t[l]];s+=u==null?o:u*o}return{width:s}}})(),loadImage:function(i,e,t){var n=new Image;return n.onload=e,n.onerror=t,n.src=i,n}};function PY(i){for(var e in Rs)i[e]&&(Rs[e]=i[e])}var NY=Zl(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(i,e){return i["[object "+e+"]"]=!0,i},{}),OY=Zl(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(i,e){return i["[object "+e+"Array]"]=!0,i},{}),I_=Object.prototype.toString,NR=Array.prototype,Rfe=NR.forEach,Lfe=NR.filter,yk=NR.slice,Ife=NR.map,ZV=(function(){}).constructor,iA=ZV?ZV.prototype:null,_k="__proto__",Pfe=2311;function xk(){return Pfe++}function OR(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];typeof console<"u"&&console.error.apply(console,i)}function Lt(i){if(i==null||typeof i!="object")return i;var e=i,t=I_.call(i);if(t==="[object Array]"){if(!H0(i)){e=[];for(var n=0,r=i.length;n<r;n++)e[n]=Lt(i[n])}}else if(OY[t]){if(!H0(i)){var a=i.constructor;if(a.from)e=a.from(i);else{e=new a(i.length);for(var n=0,r=i.length;n<r;n++)e[n]=i[n]}}}else if(!NY[t]&&!H0(i)&&!Jg(i)){e={};for(var o in i)i.hasOwnProperty(o)&&o!==_k&&(e[o]=Lt(i[o]))}return e}function nn(i,e,t){if(!zt(e)||!zt(i))return t?Lt(e):i;for(var n in e)if(e.hasOwnProperty(n)&&n!==_k){var r=i[n],a=e[n];zt(a)&&zt(r)&&!ze(a)&&!ze(r)&&!Jg(a)&&!Jg(r)&&!lO(a)&&!lO(r)&&!H0(a)&&!H0(r)?nn(r,a,t):(t||!(n in i))&&(i[n]=Lt(e[n]))}return i}function zR(i,e){for(var t=i[0],n=1,r=i.length;n<r;n++)t=nn(t,i[n],e);return t}function Ce(i,e){if(Object.assign)Object.assign(i,e);else for(var t in e)e.hasOwnProperty(t)&&t!==_k&&(i[t]=e[t]);return i}function Ot(i,e,t){for(var n=An(e),r=0,a=n.length;r<a;r++){var o=n[r];(t?e[o]!=null:i[o]==null)&&(i[o]=e[o])}return i}var Nfe=Rs.createCanvas;function en(i,e){if(i){if(i.indexOf)return i.indexOf(e);for(var t=0,n=i.length;t<n;t++)if(i[t]===e)return t}return-1}function Sk(i,e){var t=i.prototype;function n(){}n.prototype=e.prototype,i.prototype=new n;for(var r in t)t.hasOwnProperty(r)&&(i.prototype[r]=t[r]);i.prototype.constructor=i,i.superClass=e}function Sr(i,e,t){if(i="prototype"in i?i.prototype:i,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var a=n[r];a!=="constructor"&&(t?e[a]!=null:i[a]==null)&&(i[a]=e[a])}else Ot(i,e,t)}function to(i){return!i||typeof i=="string"?!1:typeof i.length=="number"}function H(i,e,t){if(i&&e)if(i.forEach&&i.forEach===Rfe)i.forEach(e,t);else if(i.length===+i.length)for(var n=0,r=i.length;n<r;n++)e.call(t,i[n],n,i);else for(var a in i)i.hasOwnProperty(a)&&e.call(t,i[a],a,i)}function Ge(i,e,t){if(!i)return[];if(!e)return BR(i);if(i.map&&i.map===Ife)return i.map(e,t);for(var n=[],r=0,a=i.length;r<a;r++)n.push(e.call(t,i[r],r,i));return n}function Zl(i,e,t,n){if(i&&e){for(var r=0,a=i.length;r<a;r++)t=e.call(n,t,i[r],r,i);return t}}function Kn(i,e,t){if(!i)return[];if(!e)return BR(i);if(i.filter&&i.filter===Lfe)return i.filter(e,t);for(var n=[],r=0,a=i.length;r<a;r++)e.call(t,i[r],r,i)&&n.push(i[r]);return n}function Lp(i,e,t){if(i&&e){for(var n=0,r=i.length;n<r;n++)if(e.call(t,i[n],n,i))return i[n]}}function An(i){if(!i)return[];if(Object.keys)return Object.keys(i);var e=[];for(var t in i)i.hasOwnProperty(t)&&e.push(t);return e}function Ofe(i,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return function(){return i.apply(e,t.concat(yk.call(arguments)))}}var at=iA&&Ct(iA.bind)?iA.call.bind(iA.bind):Ofe;function Qt(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return i.apply(this,e.concat(yk.call(arguments)))}}function ze(i){return Array.isArray?Array.isArray(i):I_.call(i)==="[object Array]"}function Ct(i){return typeof i=="function"}function rt(i){return typeof i=="string"}function kE(i){return I_.call(i)==="[object String]"}function Pn(i){return typeof i=="number"}function zt(i){var e=typeof i;return e==="function"||!!i&&e==="object"}function lO(i){return!!NY[I_.call(i)]}function es(i){return!!OY[I_.call(i)]}function Jg(i){return typeof i=="object"&&typeof i.nodeType=="number"&&typeof i.ownerDocument=="object"}function oM(i){return i.colorStops!=null}function zY(i){return i.image!=null}function BY(i){return I_.call(i)==="[object RegExp]"}function Ja(i){return i!==i}function Na(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var t=0,n=i.length;t<n;t++)if(i[t]!=null)return i[t]}function bt(i,e){return i??e}function Ds(i,e,t){return i??e??t}function BR(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return yk.apply(i,e)}function sM(i){if(typeof i=="number")return[i,i,i,i];var e=i.length;return e===2?[i[0],i[1],i[0],i[1]]:e===3?[i[0],i[1],i[2],i[1]]:i}function no(i,e){if(!i)throw new Error(e)}function Zs(i){return i==null?null:typeof i.trim=="function"?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var kY="__ec_primitive__";function g1(i){i[kY]=!0}function H0(i){return i[kY]}var zfe=(function(){function i(){this.data={}}return i.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},i.prototype.has=function(e){return this.data.hasOwnProperty(e)},i.prototype.get=function(e){return this.data[e]},i.prototype.set=function(e,t){return this.data[e]=t,this},i.prototype.keys=function(){return An(this.data)},i.prototype.forEach=function(e){var t=this.data;for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},i})(),UY=typeof Map=="function";function Bfe(){return UY?new Map:new zfe}var FY=(function(){function i(e){var t=ze(e);this.data=Bfe();var n=this;e instanceof i?e.each(r):e&&H(e,r);function r(a,o){t?n.set(a,o):n.set(o,a)}}return i.prototype.hasKey=function(e){return this.data.has(e)},i.prototype.get=function(e){return this.data.get(e)},i.prototype.set=function(e,t){return this.data.set(e,t),t},i.prototype.each=function(e,t){this.data.forEach(function(n,r){e.call(t,n,r)})},i.prototype.keys=function(){var e=this.data.keys();return UY?Array.from(e):e},i.prototype.removeKey=function(e){this.data.delete(e)},i})();function St(i){return new FY(i)}function u_(i,e){for(var t=new i.constructor(i.length+e.length),n=0;n<i.length;n++)t[n]=i[n];for(var r=i.length,n=0;n<e.length;n++)t[n+r]=e[n];return t}function lM(i,e){var t;if(Object.create)t=Object.create(i);else{var n=function(){};n.prototype=i,t=new n}return e&&Ce(t,e),t}function bk(i){var e=i.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function gt(i,e){return i.hasOwnProperty(e)}function _r(){}var Hb=180/Math.PI,kfe=Number.EPSILON||Math.pow(2,-52);const Ufe=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:kfe,HashMap:FY,RADIAN_TO_DEGREE:Hb,assert:no,bind:at,clone:Lt,concatArray:u_,createCanvas:Nfe,createHashMap:St,createObject:lM,curry:Qt,defaults:Ot,disableUserSelect:bk,each:H,eqNaN:Ja,extend:Ce,filter:Kn,find:Lp,guid:xk,hasOwn:gt,indexOf:en,inherits:Sk,isArray:ze,isArrayLike:to,isBuiltInObject:lO,isDom:Jg,isFunction:Ct,isGradientObject:oM,isImagePatternObject:zY,isNumber:Pn,isObject:zt,isPrimitive:H0,isRegExp:BY,isString:rt,isStringSafe:kE,isTypedArray:es,keys:An,logError:OR,map:Ge,merge:nn,mergeAll:zR,mixin:Sr,noop:_r,normalizeCssArray:sM,reduce:Zl,retrieve:Na,retrieve2:bt,retrieve3:Ds,setAsPrimitive:g1,slice:BR,trim:Zs},Symbol.toStringTag,{value:"Module"}));function Ip(i,e){return i==null&&(i=0),e==null&&(e=0),[i,e]}function So(i,e){return i[0]=e[0],i[1]=e[1],i}function tf(i){return[i[0],i[1]]}function kR(i,e,t){return i[0]=e,i[1]=t,i}function uO(i,e,t){return i[0]=e[0]+t[0],i[1]=e[1]+t[1],i}function UE(i,e,t,n){return i[0]=e[0]+t[0]*n,i[1]=e[1]+t[1]*n,i}function np(i,e,t){return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i}function m1(i){return Math.sqrt(Mk(i))}var Ffe=m1;function Mk(i){return i[0]*i[0]+i[1]*i[1]}var Vfe=Mk;function Gfe(i,e,t){return i[0]=e[0]*t[0],i[1]=e[1]*t[1],i}function Hfe(i,e,t){return i[0]=e[0]/t[0],i[1]=e[1]/t[1],i}function Wfe(i,e){return i[0]*e[0]+i[1]*e[1]}function Wb(i,e,t){return i[0]=e[0]*t,i[1]=e[1]*t,i}function pm(i,e){var t=m1(e);return t===0?(i[0]=0,i[1]=0):(i[0]=e[0]/t,i[1]=e[1]/t),i}function FE(i,e){return Math.sqrt((i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1]))}var gh=FE;function VY(i,e){return(i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1])}var cp=VY;function Xfe(i,e){return i[0]=-e[0],i[1]=-e[1],i}function Xb(i,e,t,n){return i[0]=e[0]+n*(t[0]-e[0]),i[1]=e[1]+n*(t[1]-e[1]),i}function xr(i,e,t){var n=e[0],r=e[1];return i[0]=t[0]*n+t[2]*r+t[4],i[1]=t[1]*n+t[3]*r+t[5],i}function mh(i,e,t){return i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i}function yh(i,e,t){return i[0]=Math.max(e[0],t[0]),i[1]=Math.max(e[1],t[1]),i}const Yfe=Object.freeze(Object.defineProperty({__proto__:null,add:uO,applyTransform:xr,clone:tf,copy:So,create:Ip,dist:gh,distSquare:cp,distance:FE,distanceSquare:VY,div:Hfe,dot:Wfe,len:m1,lenSquare:Mk,length:Ffe,lengthSquare:Vfe,lerp:Xb,max:yh,min:mh,mul:Gfe,negate:Xfe,normalize:pm,scale:Wb,scaleAndAdd:UE,set:kR,sub:np},Symbol.toStringTag,{value:"Module"}));var Jy=(function(){function i(e,t){this.target=e,this.topTarget=t&&t.topTarget}return i})(),qfe=(function(){function i(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return i.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Jy(t,e),"dragstart",e.event))},i.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,r=e.offsetY,a=n-this._x,o=r-this._y;this._x=n,this._y=r,t.drift(a,o,e),this.handler.dispatchToElement(new Jy(t,e),"drag",e.event);var s=this.handler.findHover(n,r,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Jy(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new Jy(s,e),"dragenter",e.event))}},i.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new Jy(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Jy(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},i})(),eu=(function(){function i(e){e&&(this._$eventProcessor=e)}return i.prototype.on=function(e,t,n,r){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(r=n,n=t,t=null),!n||!e)return this;var o=this._$eventProcessor;t!=null&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===n)return this;var l={h:n,query:t,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},u=a[e].length-1,c=a[e][u];return c&&c.callAtLast?a[e].splice(u,0,l):a[e].push(l),this},i.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},i.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var r=[],a=0,o=n[e].length;a<o;a++)n[e][a].h!==t&&r.push(n[e][a]);n[e]=r}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},i.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[e],a=this._$eventProcessor;if(r)for(var o=t.length,s=r.length,l=0;l<s;l++){var u=r[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},i.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[e],a=this._$eventProcessor;if(r)for(var o=t.length,s=t[o-1],l=r.length,u=0;u<l;u++){var c=r[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,t[0]);break;case 2:c.h.call(s,t[0],t[1]);break;default:c.h.apply(s,t.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},i})(),Zfe=Math.log(2);function cO(i,e,t,n,r,a){var o=n+"-"+r,s=i.length;if(a.hasOwnProperty(o))return a[o];if(e===1){var l=Math.round(Math.log((1<<s)-1&~r)/Zfe);return i[t][l]}for(var u=n|1<<t,c=t+1;n&1<<c;)c++;for(var f=0,h=0,p=0;h<s;h++){var g=1<<h;g&r||(f+=(p%2?-1:1)*i[t][h]*cO(i,e-1,c,u,r|g,a),p++)}return a[o]=f,f}function jV(i,e){var t=[[i[0],i[1],1,0,0,0,-e[0]*i[0],-e[0]*i[1]],[0,0,0,i[0],i[1],1,-e[1]*i[0],-e[1]*i[1]],[i[2],i[3],1,0,0,0,-e[2]*i[2],-e[2]*i[3]],[0,0,0,i[2],i[3],1,-e[3]*i[2],-e[3]*i[3]],[i[4],i[5],1,0,0,0,-e[4]*i[4],-e[4]*i[5]],[0,0,0,i[4],i[5],1,-e[5]*i[4],-e[5]*i[5]],[i[6],i[7],1,0,0,0,-e[6]*i[6],-e[6]*i[7]],[0,0,0,i[6],i[7],1,-e[7]*i[6],-e[7]*i[7]]],n={},r=cO(t,8,0,0,0,n);if(r!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*cO(t,7,o===0?1:0,1<<o,1<<s,n)/r*e[o];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var VE="___zrEVENTSAVED",lP=[];function jfe(i,e,t,n,r){return fO(lP,e,n,r,!0)&&fO(i,t,lP[0],lP[1])}function Kfe(i,e){i&&t(i),e&&t(e);function t(n){var r=n[VE];r&&(r.clearMarkers&&r.clearMarkers(),delete n[VE])}}function fO(i,e,t,n,r){if(e.getBoundingClientRect&&Tn.domSupported&&!GY(e)){var a=e[VE]||(e[VE]={}),o=$fe(e,a),s=Qfe(o,a,r);if(s)return s(i,t,n),!0}return!1}function $fe(i,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var n=["left","right"],r=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,l=a%2,u=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",r[u]+":0",n[1-l]+":auto",r[1-u]+":auto",""].join("!important;"),i.appendChild(o),t.push(o)}return e.clearMarkers=function(){H(t,function(c){c.parentNode&&c.parentNode.removeChild(c)})},t}function Qfe(i,e,t){for(var n=t?"invTrans":"trans",r=e[n],a=e.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=i[u].getBoundingClientRect(),f=2*u,h=c.left,p=c.top;o.push(h,p),l=l&&a&&h===a[f]&&p===a[f+1],s.push(i[u].offsetLeft,i[u].offsetTop)}return l&&r?r:(e.srcCoords=o,e[n]=t?jV(s,o):jV(o,s))}function GY(i){return i.nodeName.toUpperCase()==="CANVAS"}var Jfe=/([&<>"'])/g,ehe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Mo(i){return i==null?"":(i+"").replace(Jfe,function(e,t){return ehe[t]})}var the=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,uP=[],nhe=Tn.browser.firefox&&+Tn.browser.version.split(".")[0]<39;function hO(i,e,t,n){return t=t||{},n?KV(i,e,t):nhe&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):KV(i,e,t),t}function KV(i,e,t){if(Tn.domSupported&&i.getBoundingClientRect){var n=e.clientX,r=e.clientY;if(GY(i)){var a=i.getBoundingClientRect();t.zrX=n-a.left,t.zrY=r-a.top;return}else if(fO(uP,i,n,r)){t.zrX=uP[0],t.zrY=uP[1];return}}t.zrX=t.zrY=0}function Tk(i){return i||window.event}function Ol(i,e,t){if(e=Tk(e),e.zrX!=null)return e;var n=e.type,r=n&&n.indexOf("touch")>=0;if(r){var o=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&hO(i,o,e,t)}else{hO(i,e,e,t);var a=ihe(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&the.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function ihe(i){var e=i.wheelDelta;if(e)return e;var t=i.deltaX,n=i.deltaY;if(t==null||n==null)return e;var r=Math.abs(n!==0?n:t),a=n>0?-1:n<0?1:t>0?-1:1;return 3*r*a}function dO(i,e,t,n){i.addEventListener(e,t,n)}function rhe(i,e,t,n){i.removeEventListener(e,t,n)}var Rh=function(i){i.preventDefault(),i.stopPropagation(),i.cancelBubble=!0};function $V(i){return i.which===2||i.which===3}var ahe=(function(){function i(){this._track=[]}return i.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},i.prototype.clear=function(){return this._track.length=0,this},i.prototype._doTrack=function(e,t,n){var r=e.touches;if(r){for(var a={points:[],touches:[],target:t,event:e},o=0,s=r.length;o<s;o++){var l=r[o],u=hO(n,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},i.prototype._recognize=function(e){for(var t in cP)if(cP.hasOwnProperty(t)){var n=cP[t](this._track,e);if(n)return n}},i})();function QV(i){var e=i[1][0]-i[0][0],t=i[1][1]-i[0][1];return Math.sqrt(e*e+t*t)}function ohe(i){return[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]}var cP={pinch:function(i,e){var t=i.length;if(t){var n=(i[t-1]||{}).points,r=(i[t-2]||{}).points||n;if(r&&r.length>1&&n&&n.length>1){var a=QV(n)/QV(r);!isFinite(a)&&(a=1),e.pinchScale=a;var o=ohe(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:i[0].target,event:e}}}}};function _a(){return[1,0,0,1,0,0]}function uM(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,i}function cM(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i}function Uu(i,e,t){var n=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],o=e[1]*t[2]+e[3]*t[3],s=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return i[0]=n,i[1]=r,i[2]=a,i[3]=o,i[4]=s,i[5]=l,i}function Wu(i,e,t){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4]+t[0],i[5]=e[5]+t[1],i}function Bh(i,e,t,n){n===void 0&&(n=[0,0]);var r=e[0],a=e[2],o=e[4],s=e[1],l=e[3],u=e[5],c=Math.sin(t),f=Math.cos(t);return i[0]=r*f+s*c,i[1]=-r*c+s*f,i[2]=a*f+l*c,i[3]=-a*c+f*l,i[4]=f*(o-n[0])+c*(u-n[1])+n[0],i[5]=f*(u-n[1])-c*(o-n[0])+n[1],i}function UR(i,e,t){var n=t[0],r=t[1];return i[0]=e[0]*n,i[1]=e[1]*r,i[2]=e[2]*n,i[3]=e[3]*r,i[4]=e[4]*n,i[5]=e[5]*r,i}function jl(i,e){var t=e[0],n=e[2],r=e[4],a=e[1],o=e[3],s=e[5],l=t*o-a*n;return l?(l=1/l,i[0]=o*l,i[1]=-a*l,i[2]=-n*l,i[3]=t*l,i[4]=(n*s-o*r)*l,i[5]=(a*r-t*s)*l,i):null}function HY(i){var e=_a();return cM(e,i),e}const she=Object.freeze(Object.defineProperty({__proto__:null,clone:HY,copy:cM,create:_a,identity:uM,invert:jl,mul:Uu,rotate:Bh,scale:UR,translate:Wu},Symbol.toStringTag,{value:"Module"}));var kt=(function(){function i(e,t){this.x=e||0,this.y=t||0}return i.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.set=function(e,t){return this.x=e,this.y=t,this},i.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},i.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},i.prototype.scale=function(e){this.x*=e,this.y*=e},i.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},i.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},i.prototype.dot=function(e){return this.x*e.x+this.y*e.y},i.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},i.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},i.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},i.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},i.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},i.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},i.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},i.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},i.set=function(e,t,n){e.x=t,e.y=n},i.copy=function(e,t){e.x=t.x,e.y=t.y},i.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},i.lenSquare=function(e){return e.x*e.x+e.y*e.y},i.dot=function(e,t){return e.x*t.x+e.y*t.y},i.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},i.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},i.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},i.scaleAndAdd=function(e,t,n,r){e.x=t.x+n.x*r,e.y=t.y+n.y*r},i.lerp=function(e,t,n,r){var a=1-r;e.x=a*t.x+r*n.x,e.y=a*t.y+r*n.y},i})(),Eg=Math.min,I0=Math.max,pO=Math.abs,JV=["x","y"],lhe=["width","height"],Bv=new kt,kv=new kt,Uv=new kt,Fv=new kt,Hs=WY(),Sb=Hs.minTv,vO=Hs.maxTv,Yb=[0,0],Ut=(function(){function i(e,t,n,r){i.set(this,e,t,n,r)}return i.set=function(e,t,n,r,a){return r<0&&(t=t+r,r=-r),a<0&&(n=n+a,a=-a),e.x=t,e.y=n,e.width=r,e.height=a,e},i.prototype.union=function(e){var t=Eg(e.x,this.x),n=Eg(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=I0(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=I0(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},i.prototype.applyTransform=function(e){i.applyTransform(this,this,e)},i.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,r=e.height/t.height,a=_a();return Wu(a,a,[-t.x,-t.y]),UR(a,a,[n,r]),Wu(a,a,[e.x,e.y]),a},i.prototype.intersect=function(e,t,n){return i.intersect(this,e,t,n)},i.intersect=function(e,t,n,r){n&&kt.set(n,0,0);var a=r&&r.outIntersectRect||null,o=r&&r.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!e||!t)return!1;e instanceof i||(e=i.set(uhe,e.x,e.y,e.width,e.height)),t instanceof i||(t=i.set(che,t.x,t.y,t.width,t.height));var s=!!n;Hs.reset(r,s);var l=Hs.touchThreshold,u=e.x+l,c=e.x+e.width-l,f=e.y+l,h=e.y+e.height-l,p=t.x+l,g=t.x+t.width-l,y=t.y+l,_=t.y+t.height-l;if(u>c||f>h||p>g||y>_)return!1;var x=!(c<p||g<u||h<y||_<f);return(s||a)&&(Yb[0]=1/0,Yb[1]=0,e4(u,c,p,g,0,s,a,o),e4(f,h,y,_,1,s,a,o),s&&kt.copy(n,x?Hs.useDir?Hs.dirMinTv:Sb:vO)),x},i.contain=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},i.prototype.contain=function(e,t){return i.contain(this,e,t)},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.copy=function(e){i.copy(this,e)},i.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},i.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},i.prototype.isZero=function(){return this.width===0||this.height===0},i.create=function(e){return new i(e.x,e.y,e.width,e.height)},i.copy=function(e,t){return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e},i.applyTransform=function(e,t,n){if(!n){e!==t&&i.copy(e,t);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0],a=n[3],o=n[4],s=n[5];e.x=t.x*r+o,e.y=t.y*a+s,e.width=t.width*r,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Bv.x=Uv.x=t.x,Bv.y=Fv.y=t.y,kv.x=Fv.x=t.x+t.width,kv.y=Uv.y=t.y+t.height,Bv.transform(n),Fv.transform(n),kv.transform(n),Uv.transform(n),e.x=Eg(Bv.x,kv.x,Uv.x,Fv.x),e.y=Eg(Bv.y,kv.y,Uv.y,Fv.y);var l=I0(Bv.x,kv.x,Uv.x,Fv.x),u=I0(Bv.y,kv.y,Uv.y,Fv.y);e.width=l-e.x,e.height=u-e.y},i})(),uhe=new Ut(0,0,0,0),che=new Ut(0,0,0,0);function e4(i,e,t,n,r,a,o,s){var l=pO(e-t),u=pO(n-i),c=Eg(l,u),f=JV[r],h=JV[1-r],p=lhe[r];e<t||n<i?l<u?(a&&(vO[f]=-l),s&&(o[f]=e,o[p]=0)):(a&&(vO[f]=u),s&&(o[f]=i,o[p]=0)):(o&&(o[f]=I0(i,t),o[p]=Eg(e,n)-o[f]),a&&(c<Yb[0]||Hs.useDir)&&(Yb[0]=Eg(c,Yb[0]),(l<u||!Hs.bidirectional)&&(Sb[f]=l,Sb[h]=0,Hs.useDir&&Hs.calcDirMTV()),(l>=u||!Hs.bidirectional)&&(Sb[f]=-u,Sb[h]=0,Hs.useDir&&Hs.calcDirMTV())))}function WY(){var i=0,e=new kt,t=new kt,n={minTv:new kt,maxTv:new kt,useDir:!1,dirMinTv:new kt,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,o){n.touchThreshold=0,a&&a.touchThreshold!=null&&(n.touchThreshold=I0(0,a.touchThreshold)),n.negativeSize=!1,o&&(n.minTv.set(1/0,1/0),n.maxTv.set(0,0),n.useDir=!1,a&&a.direction!=null&&(n.useDir=!0,n.dirMinTv.copy(n.minTv),t.copy(n.minTv),i=a.direction,n.bidirectional=a.bidirectional==null||!!a.bidirectional,n.bidirectional||e.set(Math.cos(i),Math.sin(i))))},calcDirMTV:function(){var a=n.minTv,o=n.dirMinTv,s=a.y*a.y+a.x*a.x,l=Math.sin(i),u=Math.cos(i),c=l*a.y+u*a.x;if(r(c)){r(a.x)&&r(a.y)&&o.set(0,0);return}if(t.x=s*u/c,t.y=s*l/c,r(t.x)&&r(t.y)){o.set(0,0);return}(n.bidirectional||e.dot(t)>0)&&t.len()<o.len()&&o.copy(t)}};function r(a){return pO(a)<1e-10}return n}var XY="silent";function fhe(i,e,t){return{type:i,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:hhe}}function hhe(){Rh(this.event)}var dhe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e})(eu),FS=(function(){function i(e,t){this.x=e,this.y=t}return i})(),phe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],fP=new Ut(0,0,0,0),YY=(function(i){fe(e,i);function e(t,n,r,a,o){var s=i.call(this)||this;return s._hovered=new FS(0,0),s.storage=t,s.painter=n,s.painterRoot=a,s._pointerSize=o,r=r||new dhe,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new qfe(s),s}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(H(phe,function(n){t.on&&t.on(n,this[n],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var n=t.zrX,r=t.zrY,a=qY(this,n,r),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=a?new FS(n,r):this.findHover(n,r),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(l,"mousemove",t),u&&u!==s&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var n=t.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new FS(0,0)},e.prototype.dispatch=function(t,n){var r=this[t];r&&r.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var n=this.proxy;n.setCursor&&n.setCursor(t)},e.prototype.dispatchToElement=function(t,n,r){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var o="on"+n,s=fhe(n,t,r);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(n,s)}))}},e.prototype.findHover=function(t,n,r){var a=this.storage.getDisplayList(),o=new FS(t,n);if(t4(a,o,t,n,r),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new Ut(t-u,n-u,l,l),f=a.length-1;f>=0;f--){var h=a[f];h!==r&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(fP.copy(h.getBoundingRect()),h.transform&&fP.applyTransform(h.transform),fP.intersect(c)&&s.push(h))}if(s.length)for(var p=4,g=Math.PI/12,y=Math.PI*2,_=0;_<u;_+=p)for(var x=0;x<y;x+=g){var M=t+_*Math.cos(x),T=n+_*Math.sin(x);if(t4(s,o,M,T,r),o.target)return o}}return o},e.prototype.processGesture=function(t,n){this._gestureMgr||(this._gestureMgr=new ahe);var r=this._gestureMgr;n==="start"&&r.clear();var a=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(n==="end"&&r.clear(),a){var o=a.type;t.gestureEvent=o;var s=new FS;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e})(eu);H(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(i){YY.prototype[i]=function(e){var t=e.zrX,n=e.zrY,r=qY(this,t,n),a,o;if((i!=="mouseup"||!r)&&(a=this.findHover(t,n),o=a.target),i==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(i==="mouseup")this._upEl=o;else if(i==="click"){if(this._downEl!==this._upEl||!this._downPoint||gh(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,i,e)}});function vhe(i,e,t){if(i[i.rectHover?"rectContain":"contain"](e,t)){for(var n=i,r=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(e,t))return!1}n.silent&&(r=!0);var s=n.__hostTarget;n=s?n.ignoreHostSilent?null:s:n.parent}return r?XY:!0}return!1}function t4(i,e,t,n,r){for(var a=i.length-1;a>=0;a--){var o=i[a],s=void 0;if(o!==r&&!o.ignore&&(s=vhe(o,t,n))&&(!e.topTarget&&(e.topTarget=o),s!==XY)){e.target=o;break}}}function qY(i,e,t){var n=i.painter;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var ZY=32,VS=7;function ghe(i){for(var e=0;i>=ZY;)e|=i&1,i>>=1;return i+e}function n4(i,e,t,n){var r=e+1;if(r===t)return 1;if(n(i[r++],i[e])<0){for(;r<t&&n(i[r],i[r-1])<0;)r++;mhe(i,e,r)}else for(;r<t&&n(i[r],i[r-1])>=0;)r++;return r-e}function mhe(i,e,t){for(t--;e<t;){var n=i[e];i[e++]=i[t],i[t--]=n}}function i4(i,e,t,n,r){for(n===e&&n++;n<t;n++){for(var a=i[n],o=e,s=n,l;o<s;)l=o+s>>>1,r(a,i[l])<0?s=l:o=l+1;var u=n-o;switch(u){case 3:i[o+3]=i[o+2];case 2:i[o+2]=i[o+1];case 1:i[o+1]=i[o];break;default:for(;u>0;)i[o+u]=i[o+u-1],u--}i[o]=a}}function hP(i,e,t,n,r,a){var o=0,s=0,l=1;if(a(i,e[t+r])>0){for(s=n-r;l<s&&a(i,e[t+r+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}else{for(s=r+1;l<s&&a(i,e[t+r-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=r-l,l=r-u}for(o++;o<l;){var c=o+(l-o>>>1);a(i,e[t+c])>0?o=c+1:l=c}return l}function dP(i,e,t,n,r,a){var o=0,s=0,l=1;if(a(i,e[t+r])<0){for(s=r+1;l<s&&a(i,e[t+r-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=r-l,l=r-u}else{for(s=n-r;l<s&&a(i,e[t+r+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}for(o++;o<l;){var c=o+(l-o>>>1);a(i,e[t+c])<0?l=c:o=c+1}return l}function yhe(i,e){var t=VS,n,r,a=0,o=[];n=[],r=[];function s(p,g){n[a]=p,r[a]=g,a+=1}function l(){for(;a>1;){var p=a-2;if(p>=1&&r[p-1]<=r[p]+r[p+1]||p>=2&&r[p-2]<=r[p]+r[p-1])r[p-1]<r[p+1]&&p--;else if(r[p]>r[p+1])break;c(p)}}function u(){for(;a>1;){var p=a-2;p>0&&r[p-1]<r[p+1]&&p--,c(p)}}function c(p){var g=n[p],y=r[p],_=n[p+1],x=r[p+1];r[p]=y+x,p===a-3&&(n[p+1]=n[p+2],r[p+1]=r[p+2]),a--;var M=dP(i[_],i,g,y,0,e);g+=M,y-=M,y!==0&&(x=hP(i[g+y-1],i,_,x,x-1,e),x!==0&&(y<=x?f(g,y,_,x):h(g,y,_,x)))}function f(p,g,y,_){var x=0;for(x=0;x<g;x++)o[x]=i[p+x];var M=0,T=y,C=p;if(i[C++]=i[T++],--_===0){for(x=0;x<g;x++)i[C+x]=o[M+x];return}if(g===1){for(x=0;x<_;x++)i[C+x]=i[T+x];i[C+_]=o[M];return}for(var E=t,D,L,z;;){D=0,L=0,z=!1;do if(e(i[T],o[M])<0){if(i[C++]=i[T++],L++,D=0,--_===0){z=!0;break}}else if(i[C++]=o[M++],D++,L=0,--g===1){z=!0;break}while((D|L)<E);if(z)break;do{if(D=dP(i[T],o,M,g,0,e),D!==0){for(x=0;x<D;x++)i[C+x]=o[M+x];if(C+=D,M+=D,g-=D,g<=1){z=!0;break}}if(i[C++]=i[T++],--_===0){z=!0;break}if(L=hP(o[M],i,T,_,0,e),L!==0){for(x=0;x<L;x++)i[C+x]=i[T+x];if(C+=L,T+=L,_-=L,_===0){z=!0;break}}if(i[C++]=o[M++],--g===1){z=!0;break}E--}while(D>=VS||L>=VS);if(z)break;E<0&&(E=0),E+=2}if(t=E,t<1&&(t=1),g===1){for(x=0;x<_;x++)i[C+x]=i[T+x];i[C+_]=o[M]}else{if(g===0)throw new Error;for(x=0;x<g;x++)i[C+x]=o[M+x]}}function h(p,g,y,_){var x=0;for(x=0;x<_;x++)o[x]=i[y+x];var M=p+g-1,T=_-1,C=y+_-1,E=0,D=0;if(i[C--]=i[M--],--g===0){for(E=C-(_-1),x=0;x<_;x++)i[E+x]=o[x];return}if(_===1){for(C-=g,M-=g,D=C+1,E=M+1,x=g-1;x>=0;x--)i[D+x]=i[E+x];i[C]=o[T];return}for(var L=t;;){var z=0,P=0,N=!1;do if(e(o[T],i[M])<0){if(i[C--]=i[M--],z++,P=0,--g===0){N=!0;break}}else if(i[C--]=o[T--],P++,z=0,--_===1){N=!0;break}while((z|P)<L);if(N)break;do{if(z=g-dP(o[T],i,p,g,g-1,e),z!==0){for(C-=z,M-=z,g-=z,D=C+1,E=M+1,x=z-1;x>=0;x--)i[D+x]=i[E+x];if(g===0){N=!0;break}}if(i[C--]=o[T--],--_===1){N=!0;break}if(P=_-hP(i[M],o,0,_,_-1,e),P!==0){for(C-=P,T-=P,_-=P,D=C+1,E=T+1,x=0;x<P;x++)i[D+x]=o[E+x];if(_<=1){N=!0;break}}if(i[C--]=i[M--],--g===0){N=!0;break}L--}while(z>=VS||P>=VS);if(N)break;L<0&&(L=0),L+=2}if(t=L,t<1&&(t=1),_===1){for(C-=g,M-=g,D=C+1,E=M+1,x=g-1;x>=0;x--)i[D+x]=i[E+x];i[C]=o[T]}else{if(_===0)throw new Error;for(E=C-(_-1),x=0;x<_;x++)i[E+x]=o[x]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function SC(i,e,t,n){t||(t=0),n||(n=i.length);var r=n-t;if(!(r<2)){var a=0;if(r<ZY){a=n4(i,t,n,e),i4(i,t,n,t+a,e);return}var o=yhe(i,e),s=ghe(r);do{if(a=n4(i,t,n,e),a<s){var l=r;l>s&&(l=s),i4(i,t,t+l,t+a,e),a=l}o.pushRun(t,a),o.mergeRuns(),r-=a,t+=a}while(r!==0);o.forceMergeRuns()}}var Ws=1,bb=2,A0=4,r4=!1;function pP(){r4||(r4=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function a4(i,e){return i.zlevel===e.zlevel?i.z===e.z?i.z2-e.z2:i.z-e.z:i.zlevel-e.zlevel}var _he=(function(){function i(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=a4}return i.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},i.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(t),n},i.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,r=0,a=t.length;r<a;r++)this._updateAndAddDisplayable(t[r],null,e);n.length=this._displayListLen,SC(n,a4)},i.prototype._updateAndAddDisplayable=function(e,t,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath(),a=t&&t.length,o=0,s=e.__clipPaths;if(!e.ignoreClip&&(a||r)){if(s||(s=e.__clipPaths=[]),a)for(var l=0;l<t.length;l++)s[o++]=t[l];for(var u=r,c=e;u;)u.parent=c,u.updateTransform(),s[o++]=u,c=u,u=u.getClipPath()}if(s&&(s.length=o),e.childrenRef){for(var f=e.childrenRef(),h=0;h<f.length;h++){var p=f[h];e.__dirty&&(p.__dirty|=Ws),this._updateAndAddDisplayable(p,s,n)}e.__dirty=0}else{var g=e;isNaN(g.z)&&(pP(),g.z=0),isNaN(g.z2)&&(pP(),g.z2=0),isNaN(g.zlevel)&&(pP(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var y=e.getDecalElement&&e.getDecalElement();y&&this._updateAndAddDisplayable(y,s,n);var _=e.getTextGuideLine();_&&this._updateAndAddDisplayable(_,s,n);var x=e.getTextContent();x&&this._updateAndAddDisplayable(x,s,n)}},i.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},i.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);return}var r=en(this._roots,e);r>=0&&this._roots.splice(r,1)},i.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},i.prototype.getRoots=function(){return this._roots},i.prototype.dispose=function(){this._displayList=null,this._roots=null},i})(),GE;GE=Tn.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(i){return setTimeout(i,16)};var qb={linear:function(i){return i},quadraticIn:function(i){return i*i},quadraticOut:function(i){return i*(2-i)},quadraticInOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)},cubicIn:function(i){return i*i*i},cubicOut:function(i){return--i*i*i+1},cubicInOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)},quarticIn:function(i){return i*i*i*i},quarticOut:function(i){return 1- --i*i*i*i},quarticInOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)},quinticIn:function(i){return i*i*i*i*i},quinticOut:function(i){return--i*i*i*i*i+1},quinticInOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)},sinusoidalIn:function(i){return 1-Math.cos(i*Math.PI/2)},sinusoidalOut:function(i){return Math.sin(i*Math.PI/2)},sinusoidalInOut:function(i){return .5*(1-Math.cos(Math.PI*i))},exponentialIn:function(i){return i===0?0:Math.pow(1024,i-1)},exponentialOut:function(i){return i===1?1:1-Math.pow(2,-10*i)},exponentialInOut:function(i){return i===0?0:i===1?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(-Math.pow(2,-10*(i-1))+2)},circularIn:function(i){return 1-Math.sqrt(1-i*i)},circularOut:function(i){return Math.sqrt(1- --i*i)},circularInOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)},elasticIn:function(i){var e,t=.1,n=.4;return i===0?0:i===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(i-=1))*Math.sin((i-e)*(2*Math.PI)/n)))},elasticOut:function(i){var e,t=.1,n=.4;return i===0?0:i===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*i)*Math.sin((i-e)*(2*Math.PI)/n)+1)},elasticInOut:function(i){var e,t=.1,n=.4;return i===0?0:i===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),(i*=2)<1?-.5*(t*Math.pow(2,10*(i-=1))*Math.sin((i-e)*(2*Math.PI)/n)):t*Math.pow(2,-10*(i-=1))*Math.sin((i-e)*(2*Math.PI)/n)*.5+1)},backIn:function(i){var e=1.70158;return i*i*((e+1)*i-e)},backOut:function(i){var e=1.70158;return--i*i*((e+1)*i+e)+1},backInOut:function(i){var e=2.5949095;return(i*=2)<1?.5*(i*i*((e+1)*i-e)):.5*((i-=2)*i*((e+1)*i+e)+2)},bounceIn:function(i){return 1-qb.bounceOut(1-i)},bounceOut:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},bounceInOut:function(i){return i<.5?qb.bounceIn(i*2)*.5:qb.bounceOut(i*2-1)*.5+.5}},rA=Math.pow,fp=Math.sqrt,HE=1e-8,jY=1e-4,o4=fp(3),aA=1/3,Wc=Ip(),Ul=Ip(),W0=Ip();function ip(i){return i>-HE&&i<HE}function KY(i){return i>HE||i<-HE}function ga(i,e,t,n,r){var a=1-r;return a*a*(a*i+3*r*e)+r*r*(r*n+3*a*t)}function s4(i,e,t,n,r){var a=1-r;return 3*(((e-i)*a+2*(t-e)*r)*a+(n-t)*r*r)}function WE(i,e,t,n,r,a){var o=n+3*(e-t)-i,s=3*(t-e*2+i),l=3*(e-i),u=i-r,c=s*s-3*o*l,f=s*l-9*o*u,h=l*l-3*s*u,p=0;if(ip(c)&&ip(f))if(ip(s))a[0]=0;else{var g=-l/s;g>=0&&g<=1&&(a[p++]=g)}else{var y=f*f-4*c*h;if(ip(y)){var _=f/c,g=-s/o+_,x=-_/2;g>=0&&g<=1&&(a[p++]=g),x>=0&&x<=1&&(a[p++]=x)}else if(y>0){var M=fp(y),T=c*s+1.5*o*(-f+M),C=c*s+1.5*o*(-f-M);T<0?T=-rA(-T,aA):T=rA(T,aA),C<0?C=-rA(-C,aA):C=rA(C,aA);var g=(-s-(T+C))/(3*o);g>=0&&g<=1&&(a[p++]=g)}else{var E=(2*c*s-3*o*f)/(2*fp(c*c*c)),D=Math.acos(E)/3,L=fp(c),z=Math.cos(D),g=(-s-2*L*z)/(3*o),x=(-s+L*(z+o4*Math.sin(D)))/(3*o),P=(-s+L*(z-o4*Math.sin(D)))/(3*o);g>=0&&g<=1&&(a[p++]=g),x>=0&&x<=1&&(a[p++]=x),P>=0&&P<=1&&(a[p++]=P)}}return p}function $Y(i,e,t,n,r){var a=6*t-12*e+6*i,o=9*e+3*n-3*i-9*t,s=3*e-3*i,l=0;if(ip(o)){if(KY(a)){var u=-s/a;u>=0&&u<=1&&(r[l++]=u)}}else{var c=a*a-4*o*s;if(ip(c))r[0]=-a/(2*o);else if(c>0){var f=fp(c),u=(-a+f)/(2*o),h=(-a-f)/(2*o);u>=0&&u<=1&&(r[l++]=u),h>=0&&h<=1&&(r[l++]=h)}}return l}function bp(i,e,t,n,r,a){var o=(e-i)*r+i,s=(t-e)*r+e,l=(n-t)*r+t,u=(s-o)*r+o,c=(l-s)*r+s,f=(c-u)*r+u;a[0]=i,a[1]=o,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=n}function QY(i,e,t,n,r,a,o,s,l,u,c){var f,h=.005,p=1/0,g,y,_,x;Wc[0]=l,Wc[1]=u;for(var M=0;M<1;M+=.05)Ul[0]=ga(i,t,r,o,M),Ul[1]=ga(e,n,a,s,M),_=cp(Wc,Ul),_<p&&(f=M,p=_);p=1/0;for(var T=0;T<32&&!(h<jY);T++)g=f-h,y=f+h,Ul[0]=ga(i,t,r,o,g),Ul[1]=ga(e,n,a,s,g),_=cp(Ul,Wc),g>=0&&_<p?(f=g,p=_):(W0[0]=ga(i,t,r,o,y),W0[1]=ga(e,n,a,s,y),x=cp(W0,Wc),y<=1&&x<p?(f=y,p=x):h*=.5);return c&&(c[0]=ga(i,t,r,o,f),c[1]=ga(e,n,a,s,f)),fp(p)}function xhe(i,e,t,n,r,a,o,s,l){for(var u=i,c=e,f=0,h=1/l,p=1;p<=l;p++){var g=p*h,y=ga(i,t,r,o,g),_=ga(e,n,a,s,g),x=y-u,M=_-c;f+=Math.sqrt(x*x+M*M),u=y,c=_}return f}function Pa(i,e,t,n){var r=1-n;return r*(r*i+2*n*e)+n*n*t}function gO(i,e,t,n){return 2*((1-n)*(e-i)+n*(t-e))}function She(i,e,t,n,r){var a=i-2*e+t,o=2*(e-i),s=i-n,l=0;if(ip(a)){if(KY(o)){var u=-s/o;u>=0&&u<=1&&(r[l++]=u)}}else{var c=o*o-4*a*s;if(ip(c)){var u=-o/(2*a);u>=0&&u<=1&&(r[l++]=u)}else if(c>0){var f=fp(c),u=(-o+f)/(2*a),h=(-o-f)/(2*a);u>=0&&u<=1&&(r[l++]=u),h>=0&&h<=1&&(r[l++]=h)}}return l}function JY(i,e,t){var n=i+t-2*e;return n===0?.5:(i-e)/n}function y1(i,e,t,n,r){var a=(e-i)*n+i,o=(t-e)*n+e,s=(o-a)*n+a;r[0]=i,r[1]=a,r[2]=s,r[3]=s,r[4]=o,r[5]=t}function eq(i,e,t,n,r,a,o,s,l){var u,c=.005,f=1/0;Wc[0]=o,Wc[1]=s;for(var h=0;h<1;h+=.05){Ul[0]=Pa(i,t,r,h),Ul[1]=Pa(e,n,a,h);var p=cp(Wc,Ul);p<f&&(u=h,f=p)}f=1/0;for(var g=0;g<32&&!(c<jY);g++){var y=u-c,_=u+c;Ul[0]=Pa(i,t,r,y),Ul[1]=Pa(e,n,a,y);var p=cp(Ul,Wc);if(y>=0&&p<f)u=y,f=p;else{W0[0]=Pa(i,t,r,_),W0[1]=Pa(e,n,a,_);var x=cp(W0,Wc);_<=1&&x<f?(u=_,f=x):c*=.5}}return l&&(l[0]=Pa(i,t,r,u),l[1]=Pa(e,n,a,u)),fp(f)}function bhe(i,e,t,n,r,a,o){for(var s=i,l=e,u=0,c=1/o,f=1;f<=o;f++){var h=f*c,p=Pa(i,t,r,h),g=Pa(e,n,a,h),y=p-s,_=g-l;u+=Math.sqrt(y*y+_*_),s=p,l=g}return u}var Mhe=/cubic-bezier\(([0-9,\.e ]+)\)/;function wk(i){var e=i&&Mhe.exec(i);if(e){var t=e[1].split(","),n=+Zs(t[0]),r=+Zs(t[1]),a=+Zs(t[2]),o=+Zs(t[3]);if(isNaN(n+r+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:WE(0,n,a,1,l,s)&&ga(0,r,o,1,s[0])}}}var The=(function(){function i(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||_r,this.ondestroy=e.ondestroy||_r,this.onrestart=e.onrestart||_r,e.easing&&this.setEasing(e.easing)}return i.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var n=this._life,r=e-this._startTime-this._pausedTime,a=r/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var l=r%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1},i.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Ct(e)?e:qb[e]||wk(e)},i})(),tq=(function(){function i(e){this.value=e}return i})(),whe=(function(){function i(){this._len=0}return i.prototype.insert=function(e){var t=new tq(e);return this.insertEntry(t),t},i.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},i.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},i.prototype.len=function(){return this._len},i.prototype.clear=function(){this.head=this.tail=null,this._len=0},i})(),c_=(function(){function i(e){this._list=new whe,this._maxSize=10,this._map={},this._maxSize=e}return i.prototype.put=function(e,t){var n=this._list,r=this._map,a=null;if(r[e]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete r[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new tq(t),s.key=e,n.insertEntry(s),r[e]=s}return a},i.prototype.get=function(e){var t=this._map[e],n=this._list;if(t!=null)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},i.prototype.clear=function(){this._list.clear(),this._map={}},i.prototype.len=function(){return this._list.len()},i})(),l4={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Fu(i){return i=Math.round(i),i<0?0:i>255?255:i}function Ahe(i){return i=Math.round(i),i<0?0:i>360?360:i}function _1(i){return i<0?0:i>1?1:i}function bC(i){var e=i;return e.length&&e.charAt(e.length-1)==="%"?Fu(parseFloat(e)/100*255):Fu(parseInt(e,10))}function bh(i){var e=i;return e.length&&e.charAt(e.length-1)==="%"?_1(parseFloat(e)/100):_1(parseFloat(e))}function vP(i,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?i+(e-i)*t*6:t*2<1?e:t*3<2?i+(e-i)*(2/3-t)*6:i}function rp(i,e,t){return i+(e-i)*t}function Pl(i,e,t,n,r){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function mO(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i}var nq=new c_(20),oA=null;function e0(i,e){oA&&mO(oA,e),oA=nq.put(i,oA||e.slice())}function wo(i,e){if(i){e=e||[];var t=nq.get(i);if(t)return mO(e,t);i=i+"";var n=i.replace(/ /g,"").toLowerCase();if(n in l4)return mO(e,l4[n]),e0(i,e),e;var r=n.length;if(n.charAt(0)==="#"){if(r===4||r===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){Pl(e,0,0,0,1);return}return Pl(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,r===5?parseInt(n.slice(4),16)/15:1),e0(i,e),e}else if(r===7||r===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){Pl(e,0,0,0,1);return}return Pl(e,(a&16711680)>>16,(a&65280)>>8,a&255,r===9?parseInt(n.slice(7),16)/255:1),e0(i,e),e}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===r){var l=n.substr(0,o),u=n.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Pl(e,+u[0],+u[1],+u[2],1):Pl(e,0,0,0,1);c=bh(u.pop());case"rgb":if(u.length>=3)return Pl(e,bC(u[0]),bC(u[1]),bC(u[2]),u.length===3?c:bh(u[3])),e0(i,e),e;Pl(e,0,0,0,1);return;case"hsla":if(u.length!==4){Pl(e,0,0,0,1);return}return u[3]=bh(u[3]),yO(u,e),e0(i,e),e;case"hsl":if(u.length!==3){Pl(e,0,0,0,1);return}return yO(u,e),e0(i,e),e;default:return}}Pl(e,0,0,0,1)}}function yO(i,e){var t=(parseFloat(i[0])%360+360)%360/360,n=bh(i[1]),r=bh(i[2]),a=r<=.5?r*(n+1):r+n-r*n,o=r*2-a;return e=e||[],Pl(e,Fu(vP(o,a,t+1/3)*255),Fu(vP(o,a,t)*255),Fu(vP(o,a,t-1/3)*255),1),i.length===4&&(e[3]=i[3]),e}function Che(i){if(i){var e=i[0]/255,t=i[1]/255,n=i[2]/255,r=Math.min(e,t,n),a=Math.max(e,t,n),o=a-r,s=(a+r)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(a+r):u=o/(2-a-r);var c=((a-e)/6+o/2)/o,f=((a-t)/6+o/2)/o,h=((a-n)/6+o/2)/o;e===a?l=h-f:t===a?l=1/3+c-h:n===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var p=[l*360,u,s];return i[3]!=null&&p.push(i[3]),p}}function XE(i,e){var t=wo(i);if(t){for(var n=0;n<3;n++)e<0?t[n]=t[n]*(1-e)|0:t[n]=(255-t[n])*e+t[n]|0,t[n]>255?t[n]=255:t[n]<0&&(t[n]=0);return Wl(t,t.length===4?"rgba":"rgb")}}function Ehe(i){var e=wo(i);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Zb(i,e,t){if(!(!(e&&e.length)||!(i>=0&&i<=1))){t=t||[];var n=i*(e.length-1),r=Math.floor(n),a=Math.ceil(n),o=e[r],s=e[a],l=n-r;return t[0]=Fu(rp(o[0],s[0],l)),t[1]=Fu(rp(o[1],s[1],l)),t[2]=Fu(rp(o[2],s[2],l)),t[3]=_1(rp(o[3],s[3],l)),t}}var Dhe=Zb;function Ak(i,e,t){if(!(!(e&&e.length)||!(i>=0&&i<=1))){var n=i*(e.length-1),r=Math.floor(n),a=Math.ceil(n),o=wo(e[r]),s=wo(e[a]),l=n-r,u=Wl([Fu(rp(o[0],s[0],l)),Fu(rp(o[1],s[1],l)),Fu(rp(o[2],s[2],l)),_1(rp(o[3],s[3],l))],"rgba");return t?{color:u,leftIndex:r,rightIndex:a,value:n}:u}}var Rhe=Ak;function Mh(i,e,t,n){var r=wo(i);if(i)return r=Che(r),e!=null&&(r[0]=Ahe(Ct(e)?e(r[0]):e)),t!=null&&(r[1]=bh(Ct(t)?t(r[1]):t)),n!=null&&(r[2]=bh(Ct(n)?n(r[2]):n)),Wl(yO(r),"rgba")}function x1(i,e){var t=wo(i);if(t&&e!=null)return t[3]=_1(e),Wl(t,"rgba")}function Wl(i,e){if(!(!i||!i.length)){var t=i[0]+","+i[1]+","+i[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+i[3]),e+"("+t+")"}}function S1(i,e){var t=wo(i);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function Lhe(){return Wl([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var u4=new c_(100);function YE(i){if(rt(i)){var e=u4.get(i);return e||(e=XE(i,-.1),u4.put(i,e)),e}else if(oM(i)){var t=Ce({},i);return t.colorStops=Ge(i.colorStops,function(n){return{offset:n.offset,color:XE(n.color,-.1)}}),t}return i}const Ihe=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:Zb,fastMapToColor:Dhe,lerp:Ak,lift:XE,liftColor:YE,lum:S1,mapToColor:Rhe,modifyAlpha:x1,modifyHSL:Mh,parse:wo,parseCssFloat:bh,parseCssInt:bC,random:Lhe,stringify:Wl,toHex:Ehe},Symbol.toStringTag,{value:"Module"}));var qE=Math.round;function b1(i){var e;if(!i||i==="transparent")i="none";else if(typeof i=="string"&&i.indexOf("rgba")>-1){var t=wo(i);t&&(i="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:i,opacity:e??1}}var c4=1e-4;function ap(i){return i<c4&&i>-c4}function sA(i){return qE(i*1e3)/1e3}function _O(i){return qE(i*1e4)/1e4}function Phe(i){return"matrix("+sA(i[0])+","+sA(i[1])+","+sA(i[2])+","+sA(i[3])+","+_O(i[4])+","+_O(i[5])+")"}var Nhe={left:"start",right:"end",center:"middle",middle:"middle"};function Ohe(i,e,t){return t==="top"?i+=e/2:t==="bottom"&&(i-=e/2),i}function zhe(i){return i&&(i.shadowBlur||i.shadowOffsetX||i.shadowOffsetY)}function Bhe(i){var e=i.style,t=i.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function iq(i){return i&&!!i.image}function khe(i){return i&&!!i.svgElement}function Ck(i){return iq(i)||khe(i)}function rq(i){return i.type==="linear"}function aq(i){return i.type==="radial"}function oq(i){return i&&(i.type==="linear"||i.type==="radial")}function FR(i){return"url(#"+i+")"}function sq(i){var e=i.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function lq(i){var e=i.x||0,t=i.y||0,n=(i.rotation||0)*Hb,r=bt(i.scaleX,1),a=bt(i.scaleY,1),o=i.skewX||0,s=i.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),n&&l.push("rotate("+n+")"),(r!==1||a!==1)&&l.push("scale("+r+","+a+")"),(o||s)&&l.push("skew("+qE(o*Hb)+"deg, "+qE(s*Hb)+"deg)"),l.join(" ")}var Uhe=(function(){return Tn.hasGlobalWindow&&Ct(window.btoa)?function(i){return window.btoa(unescape(encodeURIComponent(i)))}:typeof Buffer<"u"?function(i){return Buffer.from(i).toString("base64")}:function(i){return null}})(),xO=Array.prototype.slice;function uh(i,e,t){return(e-i)*t+i}function gP(i,e,t,n){for(var r=e.length,a=0;a<r;a++)i[a]=uh(e[a],t[a],n);return i}function Fhe(i,e,t,n){for(var r=e.length,a=r&&e[0].length,o=0;o<r;o++){i[o]||(i[o]=[]);for(var s=0;s<a;s++)i[o][s]=uh(e[o][s],t[o][s],n)}return i}function lA(i,e,t,n){for(var r=e.length,a=0;a<r;a++)i[a]=e[a]+t[a]*n;return i}function f4(i,e,t,n){for(var r=e.length,a=r&&e[0].length,o=0;o<r;o++){i[o]||(i[o]=[]);for(var s=0;s<a;s++)i[o][s]=e[o][s]+t[o][s]*n}return i}function Vhe(i,e){for(var t=i.length,n=e.length,r=t>n?e:i,a=Math.min(t,n),o=r[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(t,n);s++)r.push({offset:o.offset,color:o.color.slice()})}function Ghe(i,e,t){var n=i,r=e;if(!(!n.push||!r.push)){var a=n.length,o=r.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var l=a;l<o;l++)n.push(t===1?r[l]:xO.call(r[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(t===1)isNaN(n[l])&&(n[l]=r[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=r[l][c])}}function jb(i){if(to(i)){var e=i.length;if(to(i[0])){for(var t=[],n=0;n<e;n++)t.push(xO.call(i[n]));return t}return xO.call(i)}return i}function MC(i){return i[0]=Math.floor(i[0])||0,i[1]=Math.floor(i[1])||0,i[2]=Math.floor(i[2])||0,i[3]=i[3]==null?1:i[3],"rgba("+i.join(",")+")"}function Hhe(i){return to(i&&i[0])?2:1}var uA=0,TC=1,uq=2,Mb=3,SO=4,bO=5,h4=6;function d4(i){return i===SO||i===bO}function cA(i){return i===TC||i===uq}var GS=[0,0,0,0],Whe=(function(){function i(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return i.prototype.isFinished=function(){return this._finished},i.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},i.prototype.needsAnimate=function(){return this.keyframes.length>=1},i.prototype.getAdditiveTrack=function(){return this._additiveTrack},i.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var r=this.keyframes,a=r.length,o=!1,s=h4,l=t;if(to(t)){var u=Hhe(t);s=u,(u===1&&!Pn(t[0])||u===2&&!Pn(t[0][0]))&&(o=!0)}else if(Pn(t)&&!Ja(t))s=uA;else if(rt(t))if(!isNaN(+t))s=uA;else{var c=wo(t);c&&(l=c,s=Mb)}else if(oM(t)){var f=Ce({},l);f.colorStops=Ge(t.colorStops,function(p){return{offset:p.offset,color:wo(p.color)}}),rq(t)?s=SO:aq(t)&&(s=bO),l=f}a===0?this.valType=s:(s!==this.valType||s===h4)&&(o=!0),this.discrete=this.discrete||o;var h={time:e,value:l,rawValue:t,percent:0};return n&&(h.easing=n,h.easingFunc=Ct(n)?n:qb[n]||wk(n)),r.push(h),h},i.prototype.prepare=function(e,t){var n=this.keyframes;this._needsSort&&n.sort(function(y,_){return y.time-_.time});for(var r=this.valType,a=n.length,o=n[a-1],s=this.discrete,l=cA(r),u=d4(r),c=0;c<a;c++){var f=n[c],h=f.value,p=o.value;f.percent=f.time/e,s||(l&&c!==a-1?Ghe(h,p,r):u&&Vhe(h.colorStops,p.colorStops))}if(!s&&r!==bO&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;for(var g=n[0].value,c=0;c<a;c++)r===uA?n[c].additiveValue=n[c].value-g:r===Mb?n[c].additiveValue=lA([],n[c].value,g,-1):cA(r)&&(n[c].additiveValue=r===TC?lA([],n[c].value,g,-1):f4([],n[c].value,g,-1))}},i.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,r=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=a===Mb,c,f=this._lastFr,h=Math.min,p,g;if(s===1)p=g=o[0];else{if(t<0)c=0;else if(t<this._lastFrP){var y=h(f+1,s-1);for(c=y;c>=0&&!(o[c].percent<=t);c--);c=h(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>t);c++);c=h(c-1,s-2)}g=o[c+1],p=o[c]}if(p&&g){this._lastFr=c,this._lastFrP=t;var _=g.percent-p.percent,x=_===0?1:h((t-p.percent)/_,1);g.easingFunc&&(x=g.easingFunc(x));var M=n?this._additiveValue:u?GS:e[l];if((cA(a)||u)&&!M&&(M=this._additiveValue=[]),this.discrete)e[l]=x<1?p.rawValue:g.rawValue;else if(cA(a))a===TC?gP(M,p[r],g[r],x):Fhe(M,p[r],g[r],x);else if(d4(a)){var T=p[r],C=g[r],E=a===SO;e[l]={type:E?"linear":"radial",x:uh(T.x,C.x,x),y:uh(T.y,C.y,x),colorStops:Ge(T.colorStops,function(L,z){var P=C.colorStops[z];return{offset:uh(L.offset,P.offset,x),color:MC(gP([],L.color,P.color,x))}}),global:C.global},E?(e[l].x2=uh(T.x2,C.x2,x),e[l].y2=uh(T.y2,C.y2,x)):e[l].r=uh(T.r,C.r,x)}else if(u)gP(M,p[r],g[r],x),n||(e[l]=MC(M));else{var D=uh(p[r],g[r],x);n?this._additiveValue=D:e[l]=D}n&&this._addToTarget(e)}}},i.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,r=this._additiveValue;t===uA?e[n]=e[n]+r:t===Mb?(wo(e[n],GS),lA(GS,GS,r,1),e[n]=MC(GS)):t===TC?lA(e[n],e[n],r,1):t===uq&&f4(e[n],e[n],r,1)},i})(),Ek=(function(){function i(e,t,n,r){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&r){OR("Can' use additive animation on looped animation.");return}this._additiveAnimators=r,this._allowDiscrete=n}return i.prototype.getMaxTime=function(){return this._maxTime},i.prototype.getDelay=function(){return this._delay},i.prototype.getLoop=function(){return this._loop},i.prototype.getTarget=function(){return this._target},i.prototype.changeTarget=function(e){this._target=e},i.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,An(t),n)},i.prototype.whenWithKeys=function(e,t,n,r){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],l=a[s];if(!l){l=a[s]=new Whe(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,h=f[f.length-1];u=h&&h.value,c.valType===Mb&&u&&(u=MC(u))}else u=this._target[s];if(u==null)continue;e>0&&l.addKeyframe(0,jb(u),r),this._trackKeys.push(s)}l.addKeyframe(e,jb(t[s]),r)}return this._maxTime=Math.max(this._maxTime,e),this},i.prototype.pause=function(){this._clip.pause(),this._paused=!0},i.prototype.resume=function(){this._clip.resume(),this._paused=!1},i.prototype.isPaused=function(){return!!this._paused},i.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},i.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},i.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},i.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},i.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var a=n[r].getTrack(e);a&&(t=a)}return t},i.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,n=[],r=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(t._target[s.propName]=f.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var h=new The({life:r,loop:this._loop,delay:this._delay||0,onframe:function(p){t._started=2;var g=t._additiveAnimators;if(g){for(var y=!1,_=0;_<g.length;_++)if(g[_]._clip){y=!0;break}y||(t._additiveAnimators=null)}for(var _=0;_<n.length;_++)n[_].step(t._target,p);var x=t._onframeCbs;if(x)for(var _=0;_<x.length;_++)x[_](t._target,p)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},i.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},i.prototype.delay=function(e){return this._delay=e,this},i.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},i.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},i.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},i.prototype.getClip=function(){return this._clip},i.prototype.getTrack=function(e){return this._tracks[e]},i.prototype.getTracks=function(){var e=this;return Ge(this._trackKeys,function(t){return e._tracks[t]})},i.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,a=0;a<e.length;a++){var o=n[e[a]];o&&!o.isFinished()&&(t?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<r.length;a++)if(!n[r[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},i.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var a=t[r],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[n?0:s.length-1];l&&(e[a]=jb(l.rawValue))}}}},i.prototype.__changeFinalValue=function(e,t){t=t||An(e);for(var n=0;n<t.length;n++){var r=t[n],a=this._tracks[r];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[r]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},i})();function P0(){return new Date().getTime()}var Xhe=(function(i){fe(e,i);function e(t){var n=i.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var n=t.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(t){if(t.animation){var n=t.prev,r=t.next;n?n.next=r:this._head=r,r?r.prev=n:this._tail=n,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var n=t.getClip();n&&this.removeClip(n),t.animation=null},e.prototype.update=function(t){for(var n=P0()-this._pausedTime,r=n-this._time,a=this._head;a;){var o=a.next,s=a.step(n,r);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,t||(this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function n(){t._running&&(GE(n),!t._paused&&t.update())}GE(n)},e.prototype.start=function(){this._running||(this._time=P0(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=P0(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=P0()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var n=t.next;t.prev=t.next=t.animation=null,t=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,n){n=n||{},this.start();var r=new Ek(t,n.loop);return this.addAnimator(r),r},e})(eu),Yhe=300,mP=Tn.domSupported,yP=(function(){var i=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Ge(i,function(r){var a=r.replace("mouse","pointer");return t.hasOwnProperty(a)?a:r});return{mouse:i,touch:e,pointer:n}})(),p4={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},v4=!1;function MO(i){var e=i.pointerType;return e==="pen"||e==="touch"}function qhe(i){i.touching=!0,i.touchTimer!=null&&(clearTimeout(i.touchTimer),i.touchTimer=null),i.touchTimer=setTimeout(function(){i.touching=!1,i.touchTimer=null},700)}function _P(i){i&&(i.zrByTouch=!0)}function Zhe(i,e){return Ol(i.dom,new jhe(i,e),!0)}function cq(i,e){for(var t=e,n=!1;t&&t.nodeType!==9&&!(n=t.domBelongToZr||t!==e&&t===i.painterRoot);)t=t.parentNode;return n}var jhe=(function(){function i(e,t){this.stopPropagation=_r,this.stopImmediatePropagation=_r,this.preventDefault=_r,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return i})(),Ru={mousedown:function(i){i=Ol(this.dom,i),this.__mayPointerCapture=[i.zrX,i.zrY],this.trigger("mousedown",i)},mousemove:function(i){i=Ol(this.dom,i);var e=this.__mayPointerCapture;e&&(i.zrX!==e[0]||i.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",i)},mouseup:function(i){i=Ol(this.dom,i),this.__togglePointerCapture(!1),this.trigger("mouseup",i)},mouseout:function(i){i=Ol(this.dom,i);var e=i.toElement||i.relatedTarget;cq(this,e)||(this.__pointerCapturing&&(i.zrEventControl="no_globalout"),this.trigger("mouseout",i))},wheel:function(i){v4=!0,i=Ol(this.dom,i),this.trigger("mousewheel",i)},mousewheel:function(i){v4||(i=Ol(this.dom,i),this.trigger("mousewheel",i))},touchstart:function(i){i=Ol(this.dom,i),_P(i),this.__lastTouchMoment=new Date,this.handler.processGesture(i,"start"),Ru.mousemove.call(this,i),Ru.mousedown.call(this,i)},touchmove:function(i){i=Ol(this.dom,i),_P(i),this.handler.processGesture(i,"change"),Ru.mousemove.call(this,i)},touchend:function(i){i=Ol(this.dom,i),_P(i),this.handler.processGesture(i,"end"),Ru.mouseup.call(this,i),+new Date-+this.__lastTouchMoment<Yhe&&Ru.click.call(this,i)},pointerdown:function(i){Ru.mousedown.call(this,i)},pointermove:function(i){MO(i)||Ru.mousemove.call(this,i)},pointerup:function(i){Ru.mouseup.call(this,i)},pointerout:function(i){MO(i)||Ru.mouseout.call(this,i)}};H(["click","dblclick","contextmenu"],function(i){Ru[i]=function(e){e=Ol(this.dom,e),this.trigger(i,e)}});var TO={pointermove:function(i){MO(i)||TO.mousemove.call(this,i)},pointerup:function(i){TO.mouseup.call(this,i)},mousemove:function(i){this.trigger("mousemove",i)},mouseup:function(i){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",i),e&&(i.zrEventControl="only_globalout",this.trigger("mouseout",i))}};function Khe(i,e){var t=e.domHandlers;Tn.pointerEventsSupported?H(yP.pointer,function(n){wC(e,n,function(r){t[n].call(i,r)})}):(Tn.touchEventsSupported&&H(yP.touch,function(n){wC(e,n,function(r){t[n].call(i,r),qhe(e)})}),H(yP.mouse,function(n){wC(e,n,function(r){r=Tk(r),e.touching||t[n].call(i,r)})}))}function $he(i,e){Tn.pointerEventsSupported?H(p4.pointer,t):Tn.touchEventsSupported||H(p4.mouse,t);function t(n){function r(a){a=Tk(a),cq(i,a.target)||(a=Zhe(i,a),e.domHandlers[n].call(i,a))}wC(e,n,r,{capture:!0})}}function wC(i,e,t,n){i.mounted[e]=t,i.listenerOpts[e]=n,dO(i.domTarget,e,t,n)}function xP(i){var e=i.mounted;for(var t in e)e.hasOwnProperty(t)&&rhe(i.domTarget,t,e[t],i.listenerOpts[t]);i.mounted={}}var g4=(function(){function i(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return i})(),Qhe=(function(i){fe(e,i);function e(t,n){var r=i.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=n,r._localHandlerScope=new g4(t,Ru),mP&&(r._globalHandlerScope=new g4(document,TO)),Khe(r,r._localHandlerScope),r}return e.prototype.dispose=function(){xP(this._localHandlerScope),mP&&xP(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,mP&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var n=this._globalHandlerScope;t?$he(this,n):xP(n)}},e})(eu),fq=1;Tn.hasGlobalWindow&&(fq=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var ZE=fq,wO=.4,AO="#333",CO="#ccc",Jhe="#eee",m4=uM,y4=5e-5;function Vv(i){return i>y4||i<-y4}var Gv=[],t0=[],SP=_a(),bP=Math.abs,_h=(function(){function i(){}return i.prototype.getLocalTransform=function(e){return i.getLocalTransform(this,e)},i.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},i.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},i.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},i.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},i.prototype.needLocalTransform=function(){return Vv(this.rotation)||Vv(this.x)||Vv(this.y)||Vv(this.scaleX-1)||Vv(this.scaleY-1)||Vv(this.skewX)||Vv(this.skewY)},i.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;if(!(t||e)){n&&(m4(n),this.invTransform=null);return}n=n||_a(),t?this.getLocalTransform(n):m4(n),e&&(t?Uu(n,e,n):cM(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},i.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(Gv);var n=Gv[0]<0?-1:1,r=Gv[1]<0?-1:1,a=((Gv[0]-n)*t+n)/Gv[0]||0,o=((Gv[1]-r)*t+r)/Gv[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||_a(),jl(this.invTransform,e)},i.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},i.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),a=Math.PI/2+r-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},i.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||_a(),Uu(t0,e.invTransform,t),t=t0);var n=this.originX,r=this.originY;(n||r)&&(SP[4]=n,SP[5]=r,Uu(t0,t,SP),t0[4]-=n,t0[5]-=r,t=t0),this.setLocalTransform(t)}},i.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},i.prototype.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&xr(n,n,r),n},i.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],r=this.transform;return r&&xr(n,n,r),n},i.prototype.getLineScale=function(){var e=this.transform;return e&&bP(e[0]-1)>1e-10&&bP(e[3]-1)>1e-10?Math.sqrt(bP(e[0]*e[3]-e[2]*e[1])):1},i.prototype.copyTransform=function(e){jE(this,e)},i.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,r=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,f=e.y,h=e.skewX?Math.tan(e.skewX):0,p=e.skewY?Math.tan(-e.skewY):0;if(n||r||s||l){var g=n+s,y=r+l;t[4]=-g*a-h*y*o,t[5]=-y*o-p*g*a}else t[4]=t[5]=0;return t[0]=a,t[3]=o,t[1]=p*a,t[2]=h*o,u&&Bh(t,t,u),t[4]+=n+c,t[5]+=r+f,t},i.initDefaultProps=(function(){var e=i.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0})(),i})(),uf=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function jE(i,e){for(var t=0;t<uf.length;t++){var n=uf[t];i[n]=e[n]}}function nf(i){fA||(fA=new c_(100)),i=i||Dh;var e=fA.get(i);return e||(e={font:i,strWidthCache:new c_(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:Rs.measureText("",i).width,asciiCharWidth:Rs.measureText("a",i).width},fA.put(i,e)),e}var fA;function ede(i){if(!(MP>=_4)){i=i||Dh;for(var e=[],t=+new Date,n=0;n<=127;n++)e[n]=Rs.measureText(String.fromCharCode(n),i).width;var r=+new Date-t;return r>16?MP=_4:r>2&&MP++,e}}var MP=0,_4=5;function hq(i,e){return i.asciiWidthMapTried||(i.asciiWidthMap=ede(i.font),i.asciiWidthMapTried=!0),0<=e&&e<=127?i.asciiWidthMap!=null?i.asciiWidthMap[e]:i.asciiCharWidth:i.stWideCharWidth}function rf(i,e){var t=i.strWidthCache,n=t.get(e);return n==null&&(n=Rs.measureText(e,i.font).width,t.put(e,n)),n}function x4(i,e,t,n){var r=rf(nf(e),i),a=fM(e),o=f_(0,r,t),s=kg(0,a,n),l=new Ut(o,s,r,a);return l}function VR(i,e,t,n){var r=((i||"")+"").split(`
`),a=r.length;if(a===1)return x4(r[0],e,t,n);for(var o=new Ut(0,0,0,0),s=0;s<r.length;s++){var l=x4(r[s],e,t,n);s===0?o.copy(l):o.union(l)}return o}function f_(i,e,t,n){return t==="right"?n?i+=e:i-=e:t==="center"&&(n?i+=e/2:i-=e/2),i}function kg(i,e,t,n){return t==="middle"?n?i+=e/2:i-=e/2:t==="bottom"&&(n?i+=e:i-=e),i}function fM(i){return nf(i).stWideCharWidth}function Xu(i,e){return typeof i=="string"?i.lastIndexOf("%")>=0?parseFloat(i)/100*e:parseFloat(i):i}function KE(i,e,t){var n=e.position||"inside",r=e.distance!=null?e.distance:5,a=t.height,o=t.width,s=a/2,l=t.x,u=t.y,c="left",f="top";if(n instanceof Array)l+=Xu(n[0],t.width),u+=Xu(n[1],t.height),c=null,f=null;else switch(n){case"left":l-=r,u+=s,c="right",f="middle";break;case"right":l+=r+o,u+=s,f="middle";break;case"top":l+=o/2,u-=r,c="center",f="bottom";break;case"bottom":l+=o/2,u+=a+r,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=r,u+=s,f="middle";break;case"insideRight":l+=o-r,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=r,c="center";break;case"insideBottom":l+=o/2,u+=a-r,c="center",f="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=o-r,u+=r,c="right";break;case"insideBottomLeft":l+=r,u+=a-r,f="bottom";break;case"insideBottomRight":l+=o-r,u+=a-r,c="right",f="bottom";break}return i=i||{},i.x=l,i.y=u,i.align=c,i.verticalAlign=f,i}var TP="__zr_normal__",wP=uf.concat(["ignore"]),tde=Zl(uf,function(i,e){return i[e]=!0,i},{ignore:!1}),n0={},nde=new Ut(0,0,0,0),hA=[],GR=(function(){function i(e){this.id=xk(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return i.prototype._init=function(e){this.attr(e)},i.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},i.prototype.beforeUpdate=function(){},i.prototype.afterUpdate=function(){},i.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},i.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,a=t.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=r?this:null;var u=!1;a.copyTransform(t);var c=n.position!=null,f=n.autoOverflowArea,h=void 0;if((f||c)&&(h=nde,n.layoutRect?h.copy(n.layoutRect):h.copy(this.getBoundingRect()),r||h.applyTransform(this.transform)),c){this.calculateTextPosition?this.calculateTextPosition(n0,n,h):KE(n0,n,h),a.x=n0.x,a.y=n0.y,o=n0.align,s=n0.verticalAlign;var p=n.origin;if(p&&n.rotation!=null){var g=void 0,y=void 0;p==="center"?(g=h.width*.5,y=h.height*.5):(g=Xu(p[0],h.width),y=Xu(p[1],h.height)),u=!0,a.originX=-a.x+g+(r?0:h.x),a.originY=-a.y+y+(r?0:h.y)}}n.rotation!=null&&(a.rotation=n.rotation);var _=n.offset;_&&(a.x+=_[0],a.y+=_[1],u||(a.originX=-_[0],a.originY=-_[1]));var x=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(f){var M=x.overflowRect=x.overflowRect||new Ut(0,0,0,0);a.getLocalTransform(hA),jl(hA,hA),Ut.copy(M,h),M.applyTransform(hA)}else x.overflowRect=null;var T=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,C=void 0,E=void 0,D=void 0;T&&this.canBeInsideText()?(C=n.insideFill,E=n.insideStroke,(C==null||C==="auto")&&(C=this.getInsideTextFill()),(E==null||E==="auto")&&(E=this.getInsideTextStroke(C),D=!0)):(C=n.outsideFill,E=n.outsideStroke,(C==null||C==="auto")&&(C=this.getOutsideFill()),(E==null||E==="auto")&&(E=this.getOutsideStroke(C),D=!0)),C=C||"#000",(C!==x.fill||E!==x.stroke||D!==x.autoStroke||o!==x.align||s!==x.verticalAlign)&&(l=!0,x.fill=C,x.stroke=E,x.autoStroke=D,x.align=o,x.verticalAlign=s,t.setDefaultTextStyle(x)),t.__dirty|=Ws,l&&t.dirtyStyle(!0)}},i.prototype.canBeInsideText=function(){return!0},i.prototype.getInsideTextFill=function(){return"#fff"},i.prototype.getInsideTextStroke=function(e){return"#000"},i.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?CO:AO},i.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n=typeof t=="string"&&wo(t);n||(n=[255,255,255,1]);for(var r=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*r+(a?0:255)*(1-r);return n[3]=1,Wl(n,"rgba")},i.prototype.traverse=function(e,t){},i.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},Ce(this.extra,t)):this[e]=t},i.prototype.hide=function(){this.ignore=!0,this.markRedraw()},i.prototype.show=function(){this.ignore=!1,this.markRedraw()},i.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(zt(e))for(var n=e,r=An(n),a=0;a<r.length;a++){var o=r[a];this.attrKV(o,e[o])}return this.markRedraw(),this},i.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],a=r.__fromStateTransition;if(!(r.getLoop()||a&&a!==TP)){var o=r.targetName,s=o?t[o]:t;r.saveTo(s)}}},i.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,wP)},i.prototype._savePrimaryToNormal=function(e,t,n){for(var r=0;r<n.length;r++){var a=n[r];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},i.prototype.hasState=function(){return this.currentStates.length>0},i.prototype.getState=function(e){return this.states[e]},i.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},i.prototype.clearStates=function(e){this.useState(TP,!1,e)},i.prototype.useState=function(e,t,n,r){var a=e===TP,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,l=this.stateTransition;if(!(en(s,e)>=0&&(t||s.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!a){OR("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||r);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!n&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,h=this._textGuide;return f&&f.useState(e,t,n,c),h&&h.useState(e,t,n,c),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ws),u}}},i.prototype.useStates=function(e,t,n){if(!e.length)this.clearStates();else{var r=[],a=this.currentStates,o=e.length,s=o===a.length;if(s){for(var l=0;l<o;l++)if(e[l]!==a[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&r.push(c)}var f=r[o-1],h=!!(f&&f.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(r),g=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(e.join(","),p,this._normalState,!1,!t&&!this.__inHover&&g&&g.duration>0,g);var y=this._textContent,_=this._textGuide;y&&y.useStates(e,t,h),_&&_.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ws)}},i.prototype.isSilent=function(){for(var e=this;e;){if(e.silent)return!0;var t=e.__hostTarget;e=t?e.ignoreHostSilent?null:t:e.parent}return!1},i.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},i.prototype.removeState=function(e){var t=en(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},i.prototype.replaceState=function(e,t,n){var r=this.currentStates.slice(),a=en(r,e),o=en(r,t)>=0;a>=0?o?r.splice(a,1):r[a]=t:n&&!o&&r.push(t),this.useStates(r)},i.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},i.prototype._mergeStates=function(e){for(var t={},n,r=0;r<e.length;r++){var a=e[r];Ce(t,a),a.textConfig&&(n=n||{},Ce(n,a.textConfig))}return n&&(t.textConfig=n),t},i.prototype._applyStateObj=function(e,t,n,r,a,o){var s=!(t&&r);t&&t.textConfig?(this.textConfig=Ce({},r?this.textConfig:n.textConfig),Ce(this.textConfig,t.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<wP.length;c++){var f=wP[c],h=a&&tde[f];t&&t[f]!=null?h?(u=!0,l[f]=t[f]):this[f]=t[f]:s&&n[f]!=null&&(h?(u=!0,l[f]=n[f]):this[f]=n[f])}if(!a)for(var c=0;c<this.animators.length;c++){var p=this.animators[c],g=p.targetName;p.getLoop()||p.__changeFinalValue(g?(t||n)[g]:t||n)}u&&this._transitionState(e,l,o)},i.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},i.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},i.prototype.getClipPath=function(){return this._clipPath},i.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},i.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},i.prototype.getTextContent=function(){return this._textContent},i.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new _h,this._attachComponent(e),this._textContent=e,this.markRedraw())},i.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Ce(this.textConfig,e),this.markRedraw()},i.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},i.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},i.prototype.getTextGuideLine=function(){return this._textGuide},i.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},i.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},i.prototype.markRedraw=function(){this.__dirty|=Ws;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},i.prototype.dirty=function(){this.markRedraw()},i.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},i.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},i.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},i.prototype.animate=function(e,t,n){var r=e?this[e]:this,a=new Ek(r,t,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},i.prototype.addAnimator=function(e,t){var n=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(t)}).done(function(){var a=r.animators,o=en(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},i.prototype.updateDuringAnimation=function(e){this.markRedraw()},i.prototype.stopAnimation=function(e,t){for(var n=this.animators,r=n.length,a=[],o=0;o<r;o++){var s=n[o];!e||e===s.scope?s.stop(t):a.push(s)}return this.animators=a,this},i.prototype.animateTo=function(e,t,n){AP(this,e,t,n)},i.prototype.animateFrom=function(e,t,n){AP(this,e,t,n,!0)},i.prototype._transitionState=function(e,t,n,r){for(var a=AP(this,t,n,r),o=0;o<a.length;o++)a[o].__fromStateTransition=e},i.prototype.getBoundingRect=function(){return null},i.prototype.getPaintRect=function(){return null},i.initDefaultProps=(function(){var e=i.prototype;e.type="element",e.name="",e.ignore=e.silent=e.ignoreHostSilent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Ws;function t(n,r,a,o){Object.defineProperty(e,n,{get:function(){if(!this[r]){var l=this[r]=[];s(this,l)}return this[r]},set:function(l){this[a]=l[0],this[o]=l[1],this[r]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))})(),i})();Sr(GR,eu);Sr(GR,_h);function AP(i,e,t,n,r){t=t||{};var a=[];dq(i,"",i,e,t,n,a,r);var o=a.length,s=!1,l=t.done,u=t.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),a.length>0&&t.during&&a[0].during(function(g,y){t.during(y)});for(var h=0;h<a.length;h++){var p=a[h];c&&p.done(c),f&&p.aborted(f),t.force&&p.duration(t.duration),p.start(t.easing)}return a}function CP(i,e,t){for(var n=0;n<t;n++)i[n]=e[n]}function ide(i){return to(i[0])}function rde(i,e,t){if(to(e[t]))if(to(i[t])||(i[t]=[]),es(e[t])){var n=e[t].length;i[t].length!==n&&(i[t]=new e[t].constructor(n),CP(i[t],e[t],n))}else{var r=e[t],a=i[t],o=r.length;if(ide(r))for(var s=r[0].length,l=0;l<o;l++)a[l]?CP(a[l],r[l],s):a[l]=Array.prototype.slice.call(r[l]);else CP(a,r,o);a.length=r.length}else i[t]=e[t]}function ade(i,e){return i===e||to(i)&&to(e)&&ode(i,e)}function ode(i,e){var t=i.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(i[n]!==e[n])return!1;return!0}function dq(i,e,t,n,r,a,o,s){for(var l=An(n),u=r.duration,c=r.delay,f=r.additive,h=r.setToFinal,p=!zt(a),g=i.animators,y=[],_=0;_<l.length;_++){var x=l[_],M=n[x];if(M!=null&&t[x]!=null&&(p||a[x]))if(zt(M)&&!to(M)&&!oM(M)){if(e){s||(t[x]=M,i.updateDuringAnimation(e));continue}dq(i,x,t[x],M,r,a&&a[x],o,s)}else y.push(x);else s||(t[x]=M,i.updateDuringAnimation(e),y.push(x))}var T=y.length;if(!f&&T)for(var C=0;C<g.length;C++){var E=g[C];if(E.targetName===e){var D=E.stopTracks(y);if(D){var L=en(g,E);g.splice(L,1)}}}if(r.force||(y=Kn(y,function(B){return!ade(n[B],t[B])}),T=y.length),T>0||r.force&&!o.length){var z=void 0,P=void 0,N=void 0;if(s){P={},h&&(z={});for(var C=0;C<T;C++){var x=y[C];P[x]=t[x],h?z[x]=n[x]:t[x]=n[x]}}else if(h){N={};for(var C=0;C<T;C++){var x=y[C];N[x]=jb(t[x]),rde(t,n,x)}}var E=new Ek(t,!1,!1,f?Kn(g,function(G){return G.targetName===e}):null);E.targetName=e,r.scope&&(E.scope=r.scope),h&&z&&E.whenWithKeys(0,z,y),N&&E.whenWithKeys(0,N,y),E.whenWithKeys(u??500,s?P:n,y).delay(c||0),i.addAnimator(E,e),o.push(E)}}var It=(function(i){fe(e,i);function e(t){var n=i.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var n=this._children,r=0;r<n.length;r++)if(n[r].name===t)return n[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,n){if(t&&t!==this&&t.parent!==this&&n&&n.parent===this){var r=this._children,a=r.indexOf(n);a>=0&&(r.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,n){var r=en(this._children,t);return r>=0&&this.replaceAt(n,r),this},e.prototype.replaceAt=function(t,n){var r=this._children,a=r[n];if(t&&t!==this&&t.parent!==this&&t!==a){r[n]=t,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var n=this.__zr;n&&n!==t.__zr&&t.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(t){var n=this.__zr,r=this._children,a=en(r,t);return a<0?this:(r.splice(a,1),t.parent=null,n&&t.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,n=this.__zr,r=0;r<t.length;r++){var a=t[r];n&&a.removeSelfFromZr(n),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,n){for(var r=this._children,a=0;a<r.length;a++){var o=r[a];t.call(n,o,a)}return this},e.prototype.traverse=function(t,n){for(var r=0;r<this._children.length;r++){var a=this._children[r],o=t.call(n,a);a.isGroup&&!o&&a.traverse(t,n)}return this},e.prototype.addSelfToZr=function(t){i.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){i.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var n=new Ut(0,0,0,0),r=t||this._children,a=[],o=null,s=0;s<r.length;s++){var l=r[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(Ut.applyTransform(n,u,c),o=o||n.clone(),o.union(n)):(o=o||u.clone(),o.union(u))}}return o||n},e})(GR);It.prototype.type="group";var AC={},Dg={};function sde(i){delete Dg[i]}function lde(i){if(!i)return!1;if(typeof i=="string")return S1(i,1)<wO;if(i.colorStops){for(var e=i.colorStops,t=0,n=e.length,r=0;r<n;r++)t+=S1(e[r].color,1);return t/=n,t<wO}return!1}var ude=(function(){function i(e,t,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var a=new _he,o=n.renderer||"canvas";AC[o]||(o=An(AC)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new AC[o](t,a,n,e),l=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var u=!Tn.node&&!Tn.worker&&!l?new Qhe(s.getViewportRoot(),s.root):null,c=n.useCoarsePointer,f=c==null||c==="auto"?Tn.touchEventsSupported:!!c,h=44,p;f&&(p=bt(n.pointerSize,h)),this.handler=new YY(a,s,u,s.root,p),this.animation=new Xhe({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return i.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},i.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},i.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},i.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=lde(e))},i.prototype.getBackgroundColor=function(){return this._backgroundColor},i.prototype.setDarkMode=function(e){this._darkMode=e},i.prototype.isDarkMode=function(){return this._darkMode},i.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},i.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},i.prototype.flush=function(){this._disposed||this._flush(!1)},i.prototype._flush=function(e){var t,n=P0();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=P0();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},i.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},i.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},i.prototype.refreshHover=function(){this._needsRefreshHover=!0},i.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},i.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},i.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},i.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},i.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},i.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},i.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},i.prototype.on=function(e,t,n){return this._disposed||this.handler.on(e,t,n),this},i.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},i.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},i.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof It&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},i.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,sde(this.id))},i})();function EO(i,e){var t=new ude(xk(),i,e);return Dg[t.id]=t,t}function cde(i){i.dispose()}function fde(){for(var i in Dg)Dg.hasOwnProperty(i)&&Dg[i].dispose();Dg={}}function hde(i){return Dg[i]}function pq(i,e){AC[i]=e}var DO;function vq(i){if(typeof DO=="function")return DO(i)}function gq(i){DO=i}var dde="6.0.0";const pde=Object.freeze(Object.defineProperty({__proto__:null,dispose:cde,disposeAll:fde,getElementSSRData:vq,getInstance:hde,init:EO,registerPainter:pq,registerSSRDataGetter:gq,version:dde},Symbol.toStringTag,{value:"Module"}));var S4=1e-4,mq=20;function vde(i){return i.replace(/^\s+|\s+$/g,"")}var el=Math.min,Ir=Math.max,Zc=Math.abs;function ei(i,e,t,n){var r=e[0],a=e[1],o=t[0],s=t[1],l=a-r,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(n)if(l>0){if(i<=r)return o;if(i>=a)return s}else{if(i>=r)return o;if(i<=a)return s}else{if(i===r)return o;if(i===a)return s}return(i-r)/l*u+o}var it=gde;function gde(i,e,t){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%";break}return $E(i,e,t)}function $E(i,e,t){return rt(i)?vde(i).match(/%$/)?parseFloat(i)/100*e+(t||0):parseFloat(i):i==null?NaN:+i}function Pr(i,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),mq),i=(+i).toFixed(e),t?i:+i}function js(i){return i.sort(function(e,t){return e-t}),i}function zu(i){if(i=+i,isNaN(i))return 0;if(i>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(i*e)/e===i)return t}return yq(i)}function yq(i){var e=i.toString().toLowerCase(),t=e.indexOf("e"),n=t>0?+e.slice(t+1):0,r=t>0?t:e.length,a=e.indexOf("."),o=a<0?0:r-1-a;return Math.max(0,o-n)}function Dk(i,e){var t=Math.log,n=Math.LN10,r=Math.floor(t(i[1]-i[0])/n),a=Math.round(t(Zc(e[1]-e[0]))/n),o=Math.min(Math.max(-r+a,0),20);return isFinite(o)?o:20}function mde(i,e,t){if(!i[e])return 0;var n=_q(i,t);return n[e]||0}function _q(i,e){var t=Zl(i,function(p,g){return p+(isNaN(g)?0:g)},0);if(t===0)return[];for(var n=Math.pow(10,e),r=Ge(i,function(p){return(isNaN(p)?0:p)/t*n*100}),a=n*100,o=Ge(r,function(p){return Math.floor(p)}),s=Zl(o,function(p,g){return p+g},0),l=Ge(r,function(p,g){return p-o[g]});s<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,h=l.length;f<h;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return Ge(o,function(p){return p/n})}function yde(i,e){var t=Math.max(zu(i),zu(e)),n=i+e;return t>mq?n:Pr(n,t)}var RO=9007199254740991;function Rk(i){var e=Math.PI*2;return(i%e+e)%e}function h_(i){return i>-S4&&i<S4}var _de=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function gf(i){if(i instanceof Date)return i;if(rt(i)){var e=_de.exec(i);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(i==null)return new Date(NaN);return new Date(Math.round(i))}function xq(i){return Math.pow(10,HR(i))}function HR(i){if(i===0)return 0;var e=Math.floor(Math.log(i)/Math.LN10);return i/Math.pow(10,e)>=10&&e++,e}function Lk(i,e){var t=HR(i),n=Math.pow(10,t),r=i/n,a;return e?r<1.5?a=1:r<2.5?a=2:r<4?a=3:r<7?a=5:a=10:r<1?a=1:r<2?a=2:r<3?a=3:r<5?a=5:a=10,i=a*n,t>=-20?+i.toFixed(t<0?-t:0):i}function CC(i,e){var t=(i.length-1)*e+1,n=Math.floor(t),r=+i[n-1],a=t-n;return a?r+a*(i[n]-r):r}function LO(i){i.sort(function(l,u){return s(l,u,0)?-1:1});for(var e=-1/0,t=1,n=0;n<i.length;){for(var r=i[n].interval,a=i[n].close,o=0;o<2;o++)r[o]<=e&&(r[o]=e,a[o]=o?1:1-t),e=r[o],t=a[o];r[0]===r[1]&&a[0]*a[1]!==1?i.splice(n,1):n++}return i;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function cf(i){var e=parseFloat(i);return e==i&&(e!==0||!rt(i)||i.indexOf("x")<=0)?e:NaN}function Ik(i){return!isNaN(cf(i))}function Sq(){return Math.round(Math.random()*9)}function bq(i,e){return e===0?i:bq(e,i%e)}function b4(i,e){return i==null?e:e==null?i:i*e/bq(i,e)}var xde="[ECharts] ",Sde=typeof console<"u"&&console.warn&&console.log;function bde(i,e,t){Sde&&console[i](xde+e)}function Mq(i,e){bde("error",i)}function ti(i){throw new Error(i)}function M4(i,e,t){return(e-i)*t+i}var Tq="series\0",wq="\0_ec_\0";function Mi(i){return i instanceof Array?i:i==null?[]:[i]}function em(i,e,t){if(i){i[e]=i[e]||{},i.emphasis=i.emphasis||{},i.emphasis[e]=i.emphasis[e]||{};for(var n=0,r=t.length;n<r;n++){var a=t[n];!i.emphasis[e].hasOwnProperty(a)&&i[e].hasOwnProperty(a)&&(i.emphasis[e][a]=i[e][a])}}}var T4=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function P_(i){return zt(i)&&!ze(i)&&!(i instanceof Date)?i.value:i}function Mde(i){return zt(i)&&!(i instanceof Array)}function Aq(i,e,t){var n=t==="normalMerge",r=t==="replaceMerge",a=t==="replaceAll";i=i||[],e=(e||[]).slice();var o=St();H(e,function(l,u){if(!zt(l)){e[u]=null;return}});var s=Tde(i,o,t);return(n||r)&&wde(s,i,o,e),n&&Ade(s,e),n||r?Cde(s,e,r):a&&Ede(s,e),Dde(s),s}function Tde(i,e,t){var n=[];if(t==="replaceAll")return n;for(var r=0;r<i.length;r++){var a=i[r];a&&a.id!=null&&e.set(a.id,r),n.push({existing:t==="replaceMerge"||M1(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function wde(i,e,t,n){H(n,function(r,a){if(!(!r||r.id==null)){var o=Kb(r.id),s=t.get(o);if(s!=null){var l=i[s];no(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=r,l.existing=e[s],n[a]=null}}})}function Ade(i,e){H(e,function(t,n){if(!(!t||t.name==null))for(var r=0;r<i.length;r++){var a=i[r].existing;if(!i[r].newOption&&a&&(a.id==null||t.id==null)&&!M1(t)&&!M1(a)&&Cq("name",a,t)){i[r].newOption=t,e[n]=null;return}}})}function Cde(i,e,t){H(e,function(n){if(n){for(var r,a=0;(r=i[a])&&(r.newOption||M1(r.existing)||r.existing&&n.id!=null&&!Cq("id",n,r.existing));)a++;r?(r.newOption=n,r.brandNew=t):i.push({newOption:n,brandNew:t,existing:null,keyInfo:null}),a++}})}function Ede(i,e){H(e,function(t){i.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function Dde(i){var e=St();H(i,function(t){var n=t.existing;n&&e.set(n.id,t)}),H(i,function(t){var n=t.newOption;no(!n||n.id==null||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),H(i,function(t,n){var r=t.existing,a=t.newOption,o=t.keyInfo;if(zt(a)){if(o.name=a.name!=null?Kb(a.name):r?r.name:Tq+n,r)o.id=Kb(r.id);else if(a.id!=null)o.id=Kb(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,t)}})}function Cq(i,e,t){var n=sa(e[i],null),r=sa(t[i],null);return n!=null&&r!=null&&n===r}function Kb(i){return sa(i,"")}function sa(i,e){return i==null?e:rt(i)?i:Pn(i)||kE(i)?i+"":e}function Pk(i){var e=i.name;return!!(e&&e.indexOf(Tq))}function M1(i){return i&&i.id!=null&&Kb(i.id).indexOf(wq)===0}function Rde(i){return wq+i}function Lde(i,e,t){H(i,function(n){var r=n.newOption;zt(r)&&(n.keyInfo.mainType=e,n.keyInfo.subType=Ide(e,r,n.existing,t))})}function Ide(i,e,t,n){var r=e.type?e.type:t?t.subType:n.determineSubType(i,e);return r}function Pde(i,e){var t={},n={};return r(i||[],t),r(e||[],n,t),[a(t),a(n)];function r(o,s,l){for(var u=0,c=o.length;u<c;u++){var f=sa(o[u].seriesId,null);if(f==null)return;for(var h=Mi(o[u].dataIndex),p=l&&l[f],g=0,y=h.length;g<y;g++){var _=h[g];p&&p[_]?p[_]=null:(s[f]||(s[f]={}))[_]=1}}}function a(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&o[u]!=null)if(s)l.push(+u);else{var c=a(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function tm(i,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return ze(e.dataIndex)?Ge(e.dataIndex,function(t){return i.indexOfRawIndex(t)}):i.indexOfRawIndex(e.dataIndex);if(e.name!=null)return ze(e.name)?Ge(e.name,function(t){return i.indexOfName(t)}):i.indexOfName(e.name)}function yn(){var i="__ec_inner_"+Nde++;return function(e){return e[i]||(e[i]={})}}var Nde=Sq();function X0(i,e,t){var n=Nk(e,t),r=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,s=o,l=t?t.defaultMainType:null;return!r&&l&&a.set(l,{}),a.each(function(u,c){var f=N_(i,c,u,{useDefault:l===c,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function Nk(i,e){var t;if(rt(i)){var n={};n[i+"Index"]=0,t=n}else t=i;var r=St(),a={},o=!1;return H(t,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||e&&e.includeMainTypes&&en(e.includeMainTypes,c)<0)){o=o||!!c;var h=r.get(c)||r.set(c,{});h[f]=s}}),{mainTypeSpecified:o,queryOptionMap:r,others:a}}var lr={useDefault:!0,enableAll:!1,enableNone:!1},Ode={useDefault:!1,enableAll:!0,enableNone:!0};function N_(i,e,t,n){n=n||lr;var r=t.index,a=t.id,o=t.name,s={models:null,specified:r!=null||a!=null||o!=null};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=i.getComponent(e))?[l]:[],s}if(r==="none"||r===!1){if(n.enableNone)return s.models=[],s;r=-1}return r==="all"&&(n.enableAll?r=a=o=null:r=-1),s.models=i.queryComponents({mainType:e,index:r,id:a,name:o}),s}function Eq(i,e,t){i.setAttribute?i.setAttribute(e,t):i[e]=t}function zde(i,e){return i.getAttribute?i.getAttribute(e):i[e]}function Bde(i){return i==="auto"?Tn.domSupported?"html":"richText":i||"html"}function IO(i,e){var t=St(),n=[];return H(i,function(r){var a=e(r);(t.get(a)||(n.push(a),t.set(a,[]))).push(r)}),{keys:n,buckets:t}}function Dq(i,e,t,n,r){var a=e==null||e==="auto";if(n==null)return n;if(Pn(n)){var o=M4(t||0,n,r);return Pr(o,a?Math.max(zu(t||0),zu(n)):e)}else{if(rt(n))return r<1?t:n;for(var s=[],l=t,u=n,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var h=i.getDimensionInfo(f);if(h&&h.type==="ordinal")s[f]=(r<1&&l?l:u)[f];else{var p=l&&l[f]?l[f]:0,g=u[f],o=M4(p,g,r);s[f]=Pr(o,a?Math.max(zu(p),zu(g)):e)}}return s}}var hp=(function(){function i(){}return i.prototype.reset=function(e,t,n,r){return this._list=e,this._step=r=r||1,this._idx=t,this._end=n??(r>0?e.length:0),this.item=null,this.key=NaN,this},i.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},i})();function EP(i){i.option=i.parentModel=i.ecModel=null}var kde=".",Hv="___EC__COMPONENT__CONTAINER___",Rq="___EC__EXTENDED_CLASS___";function jc(i){var e={main:"",sub:""};if(i){var t=i.split(kde);e.main=t[0]||"",e.sub=t[1]||""}return e}function Ude(i){no(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i),'componentType "'+i+'" illegal')}function Fde(i){return!!(i&&i[Rq])}function Ok(i,e){i.$constructor=i,i.extend=function(t){var n=this,r;return Vde(n)?r=(function(a){fe(o,a);function o(){return a.apply(this,arguments)||this}return o})(n):(r=function(){(t.$constructor||n).apply(this,arguments)},Sk(r,this)),Ce(r.prototype,t),r[Rq]=!0,r.extend=this.extend,r.superCall=Wde,r.superApply=Xde,r.superClass=n,r}}function Vde(i){return Ct(i)&&/^class\s/.test(Function.prototype.toString.call(i))}function Lq(i,e){i.extend=e.extend}var Gde=Math.round(Math.random()*10);function Hde(i){var e=["__\0is_clz",Gde++].join("_");i.prototype[e]=!0,i.isInstance=function(t){return!!(t&&t[e])}}function Wde(i,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return this.superClass.prototype[e].apply(i,t)}function Xde(i,e,t){return this.superClass.prototype[e].apply(i,t)}function WR(i){var e={};i.registerClass=function(n){var r=n.type||n.prototype.type;if(r){Ude(r),n.prototype.type=r;var a=jc(r);if(!a.sub)e[a.main]=n;else if(a.sub!==Hv){var o=t(a);o[a.sub]=n}}return n},i.getClass=function(n,r,a){var o=e[n];if(o&&o[Hv]&&(o=r?o[r]:null),a&&!o)throw new Error(r?"Component "+n+"."+(r||"")+" is used but not imported.":n+".type should be specified.");return o},i.getClassesByMainType=function(n){var r=jc(n),a=[],o=e[r.main];return o&&o[Hv]?H(o,function(s,l){l!==Hv&&a.push(s)}):a.push(o),a},i.hasClass=function(n){var r=jc(n);return!!e[r.main]},i.getAllClassMainTypes=function(){var n=[];return H(e,function(r,a){n.push(a)}),n},i.hasSubTypes=function(n){var r=jc(n),a=e[r.main];return a&&a[Hv]};function t(n){var r=e[n.main];return(!r||!r[Hv])&&(r=e[n.main]={},r[Hv]=!0),r}}function nm(i,e){for(var t=0;t<i.length;t++)i[t][1]||(i[t][1]=i[t][0]);return e=e||!1,function(n,r,a){for(var o={},s=0;s<i.length;s++){var l=i[s][1];if(!(r&&en(r,l)>=0||a&&en(a,l)<0)){var u=n.getShallow(l,e);u!=null&&(o[i[s][0]]=u)}}return o}}var Yde=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],qde=nm(Yde),Zde=(function(){function i(){}return i.prototype.getAreaStyle=function(e,t){return qde(this,e,t)},i})(),PO=new c_(50);function jde(i){if(typeof i=="string"){var e=PO.get(i);return e&&e.image}else return i}function zk(i,e,t,n,r){if(i)if(typeof i=="string"){if(e&&e.__zrImageSrc===i||!t)return e;var a=PO.get(i),o={hostEl:t,cb:n,cbPayload:r};return a?(e=a.image,!XR(e)&&a.pending.push(o)):(e=Rs.loadImage(i,w4,w4),e.__zrImageSrc=i,PO.put(i,e.__cachedImgObj={image:e,pending:[o]})),e}else return i;else return e}function w4(){var i=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<i.pending.length;e++){var t=i.pending[e],n=t.cb;n&&n(this,t.cbPayload),t.hostEl.dirty()}i.pending.length=0}function XR(i){return i&&i.width&&i.height}var DP=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Kde(i,e,t,n,r){var a={};return Iq(a,i,e,t,n,r),a.text}function Iq(i,e,t,n,r,a){if(!t){i.text="",i.isTruncated=!1;return}var o=(e+"").split(`
`);a=Pq(t,n,r,a);for(var s=!1,l={},u=0,c=o.length;u<c;u++)Nq(l,o[u],a),o[u]=l.textLine,s=s||l.isTruncated;i.text=o.join(`
`),i.isTruncated=s}function Pq(i,e,t,n){n=n||{};var r=Ce({},n);t=bt(t,"..."),r.maxIterations=bt(n.maxIterations,2);var a=r.minChar=bt(n.minChar,0),o=r.fontMeasureInfo=nf(e),s=o.asciiCharWidth;r.placeholder=bt(n.placeholder,"");for(var l=i=Math.max(0,i-1),u=0;u<a&&l>=s;u++)l-=s;var c=rf(o,t);return c>l&&(t="",c=0),l=i-c,r.ellipsis=t,r.ellipsisWidth=c,r.contentWidth=l,r.containerWidth=i,r}function Nq(i,e,t){var n=t.containerWidth,r=t.contentWidth,a=t.fontMeasureInfo;if(!n){i.textLine="",i.isTruncated=!1;return}var o=rf(a,e);if(o<=n){i.textLine=e,i.isTruncated=!1;return}for(var s=0;;s++){if(o<=r||s>=t.maxIterations){e+=t.ellipsis;break}var l=s===0?$de(e,r,a):o>0?Math.floor(e.length*r/o):0;e=e.substr(0,l),o=rf(a,e)}e===""&&(e=t.placeholder),i.textLine=e,i.isTruncated=!0}function $de(i,e,t){for(var n=0,r=0,a=i.length;r<a&&n<e;r++)n+=hq(t,i.charCodeAt(r));return r}function Qde(i,e,t,n){var r=Bk(i),a=e.overflow,o=e.padding,s=o?o[1]+o[3]:0,l=o?o[0]+o[2]:0,u=e.font,c=a==="truncate",f=fM(u),h=bt(e.lineHeight,f),p=e.lineOverflow==="truncate",g=!1,y=e.width;y==null&&t!=null&&(y=t-s);var _=e.height;_==null&&n!=null&&(_=n-l);var x;y!=null&&(a==="break"||a==="breakAll")?x=r?Oq(r,e.font,y,a==="breakAll",0).lines:[]:x=r?r.split(`
`):[];var M=x.length*h;if(_==null&&(_=M),M>_&&p){var T=Math.floor(_/h);g=g||x.length>T,x=x.slice(0,T),M=x.length*h}if(r&&c&&y!=null)for(var C=Pq(y,u,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),E={},D=0;D<x.length;D++)Nq(E,x[D],C),x[D]=E.textLine,g=g||E.isTruncated;for(var L=_,z=0,P=nf(u),D=0;D<x.length;D++)z=Math.max(rf(P,x[D]),z);y==null&&(y=z);var N=y;return L+=l,N+=s,{lines:x,height:_,outerWidth:N,outerHeight:L,lineHeight:h,calculatedLineHeight:f,contentWidth:z,contentHeight:M,width:y,isTruncated:g}}var Jde=(function(){function i(){}return i})(),A4=(function(){function i(e){this.tokens=[],e&&(this.tokens=e)}return i})(),epe=(function(){function i(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return i})();function tpe(i,e,t,n,r){var a=new epe,o=Bk(i);if(!o)return a;var s=e.padding,l=s?s[1]+s[3]:0,u=s?s[0]+s[2]:0,c=e.width;c==null&&t!=null&&(c=t-l);var f=e.height;f==null&&n!=null&&(f=n-u);for(var h=e.overflow,p=(h==="break"||h==="breakAll")&&c!=null?{width:c,accumWidth:0,breakAll:h==="breakAll"}:null,g=DP.lastIndex=0,y;(y=DP.exec(o))!=null;){var _=y.index;_>g&&RP(a,o.substring(g,_),e,p),RP(a,y[2],e,p,y[1]),g=DP.lastIndex}g<o.length&&RP(a,o.substring(g,o.length),e,p);var x=[],M=0,T=0,C=h==="truncate",E=e.lineOverflow==="truncate",D={};function L(he,Se,Ee){he.width=Se,he.lineHeight=Ee,M+=Ee,T=Math.max(T,Se)}e:for(var z=0;z<a.lines.length;z++){for(var P=a.lines[z],N=0,B=0,G=0;G<P.tokens.length;G++){var U=P.tokens[G],X=U.styleName&&e.rich[U.styleName]||{},q=U.textPadding=X.padding,V=q?q[1]+q[3]:0,j=U.font=X.font||e.font;U.contentHeight=fM(j);var K=bt(X.height,U.contentHeight);if(U.innerHeight=K,q&&(K+=q[0]+q[2]),U.height=K,U.lineHeight=Ds(X.lineHeight,e.lineHeight,K),U.align=X&&X.align||r,U.verticalAlign=X&&X.verticalAlign||"middle",E&&f!=null&&M+U.lineHeight>f){var te=a.lines.length;G>0?(P.tokens=P.tokens.slice(0,G),L(P,B,N),a.lines=a.lines.slice(0,z+1)):a.lines=a.lines.slice(0,z),a.isTruncated=a.isTruncated||a.lines.length<te;break e}var ie=X.width,Y=ie==null||ie==="auto";if(typeof ie=="string"&&ie.charAt(ie.length-1)==="%")U.percentWidth=ie,x.push(U),U.contentWidth=rf(nf(j),U.text);else{if(Y){var ee=X.backgroundColor,oe=ee&&ee.image;oe&&(oe=jde(oe),XR(oe)&&(U.width=Math.max(U.width,oe.width*K/oe.height)))}var de=C&&c!=null?c-B:null;de!=null&&de<U.width?!Y||de<V?(U.text="",U.width=U.contentWidth=0):(Iq(D,U.text,de-V,j,e.ellipsis,{minChar:e.truncateMinChar}),U.text=D.text,a.isTruncated=a.isTruncated||D.isTruncated,U.width=U.contentWidth=rf(nf(j),U.text)):U.contentWidth=rf(nf(j),U.text)}U.width+=V,B+=U.width,X&&(N=Math.max(N,U.lineHeight))}L(P,B,N)}a.outerWidth=a.width=bt(c,T),a.outerHeight=a.height=bt(f,M),a.contentHeight=M,a.contentWidth=T,a.outerWidth+=l,a.outerHeight+=u;for(var z=0;z<x.length;z++){var U=x[z],Pe=U.percentWidth;U.width=parseInt(Pe,10)/100*a.width}return a}function RP(i,e,t,n,r){var a=e==="",o=r&&t.rich[r]||{},s=i.lines,l=o.font||t.font,u=!1,c,f;if(n){var h=o.padding,p=h?h[1]+h[3]:0;if(o.width!=null&&o.width!=="auto"){var g=Xu(o.width,n.width)+p;s.length>0&&g+n.accumWidth>n.width&&(c=e.split(`
`),u=!0),n.accumWidth=g}else{var y=Oq(e,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=y.accumWidth+p,f=y.linesWidths,c=y.lines}}c||(c=e.split(`
`));for(var _=nf(l),x=0;x<c.length;x++){var M=c[x],T=new Jde;if(T.styleName=r,T.text=M,T.isLineHolder=!M&&!a,typeof o.width=="number"?T.width=o.width:T.width=f?f[x]:rf(_,M),!x&&!u){var C=(s[s.length-1]||(s[0]=new A4)).tokens,E=C.length;E===1&&C[0].isLineHolder?C[0]=T:(M||!E||a)&&C.push(T)}else s.push(new A4([T]))}}function npe(i){var e=i.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var ipe=Zl(",&?/;] ".split(""),function(i,e){return i[e]=!0,i},{});function rpe(i){return npe(i)?!!ipe[i]:!0}function Oq(i,e,t,n,r){for(var a=[],o=[],s="",l="",u=0,c=0,f=nf(e),h=0;h<i.length;h++){var p=i.charAt(h);if(p===`
`){l&&(s+=l,c+=u),a.push(s),o.push(c),s="",l="",u=0,c=0;continue}var g=hq(f,p.charCodeAt(0)),y=n?!1:!rpe(p);if(a.length?c+g>t:r+c+g>t){c?(s||l)&&(y?(s||(s=l,l="",u=0,c=u),a.push(s),o.push(c-u),l+=p,u+=g,s="",c=u):(l&&(s+=l,l="",u=0),a.push(s),o.push(c),s=p,c=g)):y?(a.push(l),o.push(u),l=p,u=g):(a.push(p),o.push(g));continue}c+=g,y?(l+=p,u+=g):(l&&(s+=l,l="",u=0),s+=p)}return l&&(s+=l),s&&(a.push(s),o.push(c)),a.length===1&&(c+=r),{accumWidth:c,lines:a,linesWidths:o}}function C4(i,e,t,n,r,a){if(i.baseX=t,i.baseY=n,i.outerWidth=i.outerHeight=null,!!e){var o=e.width*2,s=e.height*2;Ut.set(E4,f_(t,o,r),kg(n,s,a),o,s),Ut.intersect(e,E4,null,D4);var l=D4.outIntersectRect;i.outerWidth=l.width,i.outerHeight=l.height,i.baseX=f_(l.x,l.width,r,!0),i.baseY=kg(l.y,l.height,a,!0)}}var E4=new Ut(0,0,0,0),D4={outIntersectRect:{},clamp:!0};function Bk(i){return i!=null?i+="":i=""}function ape(i){var e=Bk(i.text),t=i.font,n=rf(nf(t),e),r=fM(t);return NO(i,n,r,null)}function NO(i,e,t,n){var r=new Ut(f_(i.x||0,e,i.textAlign),kg(i.y||0,t,i.textBaseline),e,t),a=n??(zq(i)?i.lineWidth:0);return a>0&&(r.x-=a/2,r.y-=a/2,r.width+=a,r.height+=a),r}function zq(i){var e=i.stroke;return e!=null&&e!=="none"&&i.lineWidth>0}var OO="__zr_style_"+Math.round(Math.random()*10),Ug={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},YR={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Ug[OO]=!0;var R4=["z","z2","invisible"],ope=["invisible"],Kl=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype._init=function(t){for(var n=An(t),r=0;r<n.length;r++){var a=n[r];a==="style"?this.useStyle(t[a]):i.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,n,r,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&spe(this,t,n)||o&&!o[0]&&!o[3])return!1;if(r&&this.__clipPaths&&this.__clipPaths.length){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,n){return this.rectContain(t,n)},e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.rectContain=function(t,n){var r=this.transformCoordToLocal(t,n),a=this.getBoundingRect();return a.contain(r[0],r[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,r=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Ut(0,0,0,0)),n?Ut.applyTransform(t,r,n):t.copy(r),(o||s||l)&&(t.width+=o*2+Math.abs(s),t.height+=o*2+Math.abs(l),t.x=Math.min(t.x,t.x+s-o),t.y=Math.min(t.y,t.y+l-o));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+u*2),t.height=Math.ceil(t.height+1+u*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Ut(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,n){t!=="style"?i.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,n){return typeof t=="string"?this.style[t]=n:Ce(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=bb,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&bb)},e.prototype.styleUpdated=function(){this.__dirty&=~bb},e.prototype.createStyle=function(t){return lM(Ug,t)},e.prototype.useStyle=function(t){t[OO]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[OO]},e.prototype._innerSaveToNormal=function(t){i.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,R4)},e.prototype._applyStateObj=function(t,n,r,a,o,s){i.prototype._applyStateObj.call(this,t,n,r,a,o,s);var l=!(n&&a),u;if(n&&n.style?o?a?u=n.style:(u=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:r.style),this._mergeStyle(u,n.style)):l&&(u=r.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=An(c),h=0;h<f.length;h++){var p=f[h];p in u&&(u[p]=u[p],this.style[p]=c[p])}for(var g=An(u),h=0;h<g.length;h++){var p=g[h];this.style[p]=this.style[p]}this._transitionState(t,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var y=this.__inHover?ope:R4,h=0;h<y.length;h++){var p=y[h];n&&n[p]!=null?this[p]=n[p]:l&&r[p]!=null&&(this[p]=r[p])}},e.prototype._mergeStates=function(t){for(var n=i.prototype._mergeStates.call(this,t),r,a=0;a<t.length;a++){var o=t[a];o.style&&(r=r||{},this._mergeStyle(r,o.style))}return r&&(n.style=r),n},e.prototype._mergeStyle=function(t,n){return Ce(t,n),t},e.prototype.getAnimationStyleProps=function(){return YR},e.initDefaultProps=(function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=Ws|bb})(),e})(GR),LP=new Ut(0,0,0,0),IP=new Ut(0,0,0,0);function spe(i,e,t){return LP.copy(i.getBoundingRect()),i.transform&&LP.applyTransform(i.transform),IP.width=e,IP.height=t,!LP.intersect(IP)}var As=Math.min,Cs=Math.max,PP=Math.sin,NP=Math.cos,Wv=Math.PI*2,dA=Ip(),pA=Ip(),vA=Ip();function qR(i,e,t){if(i.length!==0){for(var n=i[0],r=n[0],a=n[0],o=n[1],s=n[1],l=1;l<i.length;l++)n=i[l],r=As(r,n[0]),a=Cs(a,n[0]),o=As(o,n[1]),s=Cs(s,n[1]);e[0]=r,e[1]=o,t[0]=a,t[1]=s}}function L4(i,e,t,n,r,a){r[0]=As(i,t),r[1]=As(e,n),a[0]=Cs(i,t),a[1]=Cs(e,n)}var I4=[],P4=[];function lpe(i,e,t,n,r,a,o,s,l,u){var c=$Y,f=ga,h=c(i,t,r,o,I4);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var p=0;p<h;p++){var g=f(i,t,r,o,I4[p]);l[0]=As(g,l[0]),u[0]=Cs(g,u[0])}h=c(e,n,a,s,P4);for(var p=0;p<h;p++){var y=f(e,n,a,s,P4[p]);l[1]=As(y,l[1]),u[1]=Cs(y,u[1])}l[0]=As(i,l[0]),u[0]=Cs(i,u[0]),l[0]=As(o,l[0]),u[0]=Cs(o,u[0]),l[1]=As(e,l[1]),u[1]=Cs(e,u[1]),l[1]=As(s,l[1]),u[1]=Cs(s,u[1])}function upe(i,e,t,n,r,a,o,s){var l=JY,u=Pa,c=Cs(As(l(i,t,r),1),0),f=Cs(As(l(e,n,a),1),0),h=u(i,t,r,c),p=u(e,n,a,f);o[0]=As(i,r,h),o[1]=As(e,a,p),s[0]=Cs(i,r,h),s[1]=Cs(e,a,p)}function cpe(i,e,t,n,r,a,o,s,l){var u=mh,c=yh,f=Math.abs(r-a);if(f%Wv<1e-4&&f>1e-4){s[0]=i-t,s[1]=e-n,l[0]=i+t,l[1]=e+n;return}if(dA[0]=NP(r)*t+i,dA[1]=PP(r)*n+e,pA[0]=NP(a)*t+i,pA[1]=PP(a)*n+e,u(s,dA,pA),c(l,dA,pA),r=r%Wv,r<0&&(r=r+Wv),a=a%Wv,a<0&&(a=a+Wv),r>a&&!o?a+=Wv:r<a&&o&&(r+=Wv),o){var h=a;a=r,r=h}for(var p=0;p<a;p+=Math.PI/2)p>r&&(vA[0]=NP(p)*t+i,vA[1]=PP(p)*n+e,u(s,vA,s),c(l,vA,l))}var Ei={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Xv=[],Yv=[],Pc=[],kd=[],Nc=[],Oc=[],OP=Math.min,zP=Math.max,qv=Math.cos,Zv=Math.sin,rh=Math.abs,zO=Math.PI,Yd=zO*2,BP=typeof Float32Array<"u",HS=[];function kP(i){var e=Math.round(i/zO*1e8)/1e8;return e%2*zO}function ZR(i,e){var t=kP(i[0]);t<0&&(t+=Yd);var n=t-i[0],r=i[1];r+=n,!e&&r-t>=Yd?r=t+Yd:e&&t-r>=Yd?r=t-Yd:!e&&t>r?r=t+(Yd-kP(t-r)):e&&t<r&&(r=t-(Yd-kP(r-t))),i[0]=t,i[1]=r}var ff=(function(){function i(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return i.prototype.increaseVersion=function(){this._version++},i.prototype.getVersion=function(){return this._version},i.prototype.setScale=function(e,t,n){n=n||0,n>0&&(this._ux=rh(n/ZE/e)||0,this._uy=rh(n/ZE/t)||0)},i.prototype.setDPR=function(e){this.dpr=e},i.prototype.setContext=function(e){this._ctx=e},i.prototype.getContext=function(){return this._ctx},i.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},i.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},i.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(Ei.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},i.prototype.lineTo=function(e,t){var n=rh(e-this._xi),r=rh(t-this._yi),a=n>this._ux||r>this._uy;if(this.addData(Ei.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var o=n*n+r*r;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=o)}return this},i.prototype.bezierCurveTo=function(e,t,n,r,a,o){return this._drawPendingPt(),this.addData(Ei.C,e,t,n,r,a,o),this._ctx&&this._ctx.bezierCurveTo(e,t,n,r,a,o),this._xi=a,this._yi=o,this},i.prototype.quadraticCurveTo=function(e,t,n,r){return this._drawPendingPt(),this.addData(Ei.Q,e,t,n,r),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,r),this._xi=n,this._yi=r,this},i.prototype.arc=function(e,t,n,r,a,o){this._drawPendingPt(),HS[0]=r,HS[1]=a,ZR(HS,o),r=HS[0],a=HS[1];var s=a-r;return this.addData(Ei.A,e,t,n,n,r,s,0,o?0:1),this._ctx&&this._ctx.arc(e,t,n,r,a,o),this._xi=qv(a)*n+e,this._yi=Zv(a)*n+t,this},i.prototype.arcTo=function(e,t,n,r,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,r,a),this},i.prototype.rect=function(e,t,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,r),this.addData(Ei.R,e,t,n,r),this},i.prototype.closePath=function(){this._drawPendingPt(),this.addData(Ei.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},i.prototype.fill=function(e){e&&e.fill(),this.toStatic()},i.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},i.prototype.len=function(){return this._len},i.prototype.setData=function(e){if(this._saveData){var t=e.length;!(this.data&&this.data.length===t)&&BP&&(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t}},i.prototype.appendPath=function(e){if(this._saveData){e instanceof Array||(e=[e]);for(var t=e.length,n=0,r=this._len,a=0;a<t;a++)n+=e[a].len();var o=this.data;if(BP&&(o instanceof Float32Array||!o)&&(this.data=new Float32Array(r+n),r>0&&o))for(var s=0;s<r;s++)this.data[s]=o[s];for(var a=0;a<t;a++)for(var l=e[a].data,s=0;s<l.length;s++)this.data[r++]=l[s];this._len=r}},i.prototype.addData=function(e,t,n,r,a,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},i.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},i.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},i.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,BP&&this._len>11&&(this.data=new Float32Array(e)))}},i.prototype.getBoundingRect=function(){Pc[0]=Pc[1]=Nc[0]=Nc[1]=Number.MAX_VALUE,kd[0]=kd[1]=Oc[0]=Oc[1]=-Number.MAX_VALUE;var e=this.data,t=0,n=0,r=0,a=0,o;for(o=0;o<this._len;){var s=e[o++],l=o===1;switch(l&&(t=e[o],n=e[o+1],r=t,a=n),s){case Ei.M:t=r=e[o++],n=a=e[o++],Nc[0]=r,Nc[1]=a,Oc[0]=r,Oc[1]=a;break;case Ei.L:L4(t,n,e[o],e[o+1],Nc,Oc),t=e[o++],n=e[o++];break;case Ei.C:lpe(t,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Nc,Oc),t=e[o++],n=e[o++];break;case Ei.Q:upe(t,n,e[o++],e[o++],e[o],e[o+1],Nc,Oc),t=e[o++],n=e[o++];break;case Ei.A:var u=e[o++],c=e[o++],f=e[o++],h=e[o++],p=e[o++],g=e[o++]+p;o+=1;var y=!e[o++];l&&(r=qv(p)*f+u,a=Zv(p)*h+c),cpe(u,c,f,h,p,g,y,Nc,Oc),t=qv(g)*f+u,n=Zv(g)*h+c;break;case Ei.R:r=t=e[o++],a=n=e[o++];var _=e[o++],x=e[o++];L4(r,a,r+_,a+x,Nc,Oc);break;case Ei.Z:t=r,n=a;break}mh(Pc,Pc,Nc),yh(kd,kd,Oc)}return o===0&&(Pc[0]=Pc[1]=kd[0]=kd[1]=0),new Ut(Pc[0],Pc[1],kd[0]-Pc[0],kd[1]-Pc[1])},i.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,r=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,h=0;h<t;){var p=e[h++],g=h===1;g&&(a=e[h],o=e[h+1],s=a,l=o);var y=-1;switch(p){case Ei.M:a=s=e[h++],o=l=e[h++];break;case Ei.L:{var _=e[h++],x=e[h++],M=_-a,T=x-o;(rh(M)>n||rh(T)>r||h===t-1)&&(y=Math.sqrt(M*M+T*T),a=_,o=x);break}case Ei.C:{var C=e[h++],E=e[h++],_=e[h++],x=e[h++],D=e[h++],L=e[h++];y=xhe(a,o,C,E,_,x,D,L,10),a=D,o=L;break}case Ei.Q:{var C=e[h++],E=e[h++],_=e[h++],x=e[h++];y=bhe(a,o,C,E,_,x,10),a=_,o=x;break}case Ei.A:var z=e[h++],P=e[h++],N=e[h++],B=e[h++],G=e[h++],U=e[h++],X=U+G;h+=1,g&&(s=qv(G)*N+z,l=Zv(G)*B+P),y=zP(N,B)*OP(Yd,Math.abs(U)),a=qv(X)*N+z,o=Zv(X)*B+P;break;case Ei.R:{s=a=e[h++],l=o=e[h++];var q=e[h++],V=e[h++];y=q*2+V*2;break}case Ei.Z:{var M=s-a,T=l-o;y=Math.sqrt(M*M+T*T),a=s,o=l;break}}y>=0&&(u[f++]=y,c+=y)}return this._pathLen=c,c},i.prototype.rebuildPath=function(e,t){var n=this.data,r=this._ux,a=this._uy,o=this._len,s,l,u,c,f,h,p=t<1,g,y,_=0,x=0,M,T=0,C,E;if(!(p&&(this._pathSegLen||this._calculateLength(),g=this._pathSegLen,y=this._pathLen,M=t*y,!M)))e:for(var D=0;D<o;){var L=n[D++],z=D===1;switch(z&&(u=n[D],c=n[D+1],s=u,l=c),L!==Ei.L&&T>0&&(e.lineTo(C,E),T=0),L){case Ei.M:s=u=n[D++],l=c=n[D++],e.moveTo(u,c);break;case Ei.L:{f=n[D++],h=n[D++];var P=rh(f-u),N=rh(h-c);if(P>r||N>a){if(p){var B=g[x++];if(_+B>M){var G=(M-_)/B;e.lineTo(u*(1-G)+f*G,c*(1-G)+h*G);break e}_+=B}e.lineTo(f,h),u=f,c=h,T=0}else{var U=P*P+N*N;U>T&&(C=f,E=h,T=U)}break}case Ei.C:{var X=n[D++],q=n[D++],V=n[D++],j=n[D++],K=n[D++],te=n[D++];if(p){var B=g[x++];if(_+B>M){var G=(M-_)/B;bp(u,X,V,K,G,Xv),bp(c,q,j,te,G,Yv),e.bezierCurveTo(Xv[1],Yv[1],Xv[2],Yv[2],Xv[3],Yv[3]);break e}_+=B}e.bezierCurveTo(X,q,V,j,K,te),u=K,c=te;break}case Ei.Q:{var X=n[D++],q=n[D++],V=n[D++],j=n[D++];if(p){var B=g[x++];if(_+B>M){var G=(M-_)/B;y1(u,X,V,G,Xv),y1(c,q,j,G,Yv),e.quadraticCurveTo(Xv[1],Yv[1],Xv[2],Yv[2]);break e}_+=B}e.quadraticCurveTo(X,q,V,j),u=V,c=j;break}case Ei.A:var ie=n[D++],Y=n[D++],ee=n[D++],oe=n[D++],de=n[D++],Pe=n[D++],he=n[D++],Se=!n[D++],Ee=ee>oe?ee:oe,Te=rh(ee-oe)>.001,He=de+Pe,We=!1;if(p){var B=g[x++];_+B>M&&(He=de+Pe*(M-_)/B,We=!0),_+=B}if(Te&&e.ellipse?e.ellipse(ie,Y,ee,oe,he,de,He,Se):e.arc(ie,Y,Ee,de,He,Se),We)break e;z&&(s=qv(de)*ee+ie,l=Zv(de)*oe+Y),u=qv(He)*ee+ie,c=Zv(He)*oe+Y;break;case Ei.R:s=u=n[D],l=c=n[D+1],f=n[D++],h=n[D++];var Qe=n[D++],yt=n[D++];if(p){var B=g[x++];if(_+B>M){var be=M-_;e.moveTo(f,h),e.lineTo(f+OP(be,Qe),h),be-=Qe,be>0&&e.lineTo(f+Qe,h+OP(be,yt)),be-=yt,be>0&&e.lineTo(f+zP(Qe-be,0),h+yt),be-=Qe,be>0&&e.lineTo(f,h+zP(yt-be,0));break e}_+=B}e.rect(f,h,Qe,yt);break;case Ei.Z:if(p){var B=g[x++];if(_+B>M){var G=(M-_)/B;e.lineTo(u*(1-G)+s*G,c*(1-G)+l*G);break e}_+=B}e.closePath(),u=s,c=l}}},i.prototype.clone=function(){var e=new i,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},i.prototype.canSave=function(){return!!this._saveData},i.CMD=Ei,i.initDefaultProps=(function(){var e=i.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0})(),i})();function Zd(i,e,t,n,r,a,o){if(r===0)return!1;var s=r,l=0,u=i;if(o>e+s&&o>n+s||o<e-s&&o<n-s||a>i+s&&a>t+s||a<i-s&&a<t-s)return!1;if(i!==t)l=(e-n)/(i-t),u=(i*n-t*e)/(i-t);else return Math.abs(a-i)<=s/2;var c=l*a-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function fpe(i,e,t,n,r,a,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>e+f&&c>n+f&&c>a+f&&c>s+f||c<e-f&&c<n-f&&c<a-f&&c<s-f||u>i+f&&u>t+f&&u>r+f&&u>o+f||u<i-f&&u<t-f&&u<r-f&&u<o-f)return!1;var h=QY(i,e,t,n,r,a,o,s,u,c,null);return h<=f/2}function Bq(i,e,t,n,r,a,o,s,l){if(o===0)return!1;var u=o;if(l>e+u&&l>n+u&&l>a+u||l<e-u&&l<n-u&&l<a-u||s>i+u&&s>t+u&&s>r+u||s<i-u&&s<t-u&&s<r-u)return!1;var c=eq(i,e,t,n,r,a,s,l,null);return c<=u/2}var N4=Math.PI*2;function Ks(i){return i%=N4,i<0&&(i+=N4),i}var WS=Math.PI*2;function hpe(i,e,t,n,r,a,o,s,l){if(o===0)return!1;var u=o;s-=i,l-=e;var c=Math.sqrt(s*s+l*l);if(c-u>t||c+u<t)return!1;if(Math.abs(n-r)%WS<1e-4)return!0;if(a){var f=n;n=Ks(r),r=Ks(f)}else n=Ks(n),r=Ks(r);n>r&&(r+=WS);var h=Math.atan2(l,s);return h<0&&(h+=WS),h>=n&&h<=r||h+WS>=n&&h+WS<=r}function ch(i,e,t,n,r,a){if(a>e&&a>n||a<e&&a<n||n===e)return 0;var o=(a-e)/(n-e),s=n<e?1:-1;(o===1||o===0)&&(s=n<e?.5:-.5);var l=o*(t-i)+i;return l===r?1/0:l>r?s:0}var Ud=ff.CMD,jv=Math.PI*2,dpe=1e-4;function ppe(i,e){return Math.abs(i-e)<dpe}var Xo=[-1,-1,-1],Bl=[-1,-1];function vpe(){var i=Bl[0];Bl[0]=Bl[1],Bl[1]=i}function gpe(i,e,t,n,r,a,o,s,l,u){if(u>e&&u>n&&u>a&&u>s||u<e&&u<n&&u<a&&u<s)return 0;var c=WE(e,n,a,s,u,Xo);if(c===0)return 0;for(var f=0,h=-1,p=void 0,g=void 0,y=0;y<c;y++){var _=Xo[y],x=_===0||_===1?.5:1,M=ga(i,t,r,o,_);M<l||(h<0&&(h=$Y(e,n,a,s,Bl),Bl[1]<Bl[0]&&h>1&&vpe(),p=ga(e,n,a,s,Bl[0]),h>1&&(g=ga(e,n,a,s,Bl[1]))),h===2?_<Bl[0]?f+=p<e?x:-x:_<Bl[1]?f+=g<p?x:-x:f+=s<g?x:-x:_<Bl[0]?f+=p<e?x:-x:f+=s<p?x:-x)}return f}function mpe(i,e,t,n,r,a,o,s){if(s>e&&s>n&&s>a||s<e&&s<n&&s<a)return 0;var l=She(e,n,a,s,Xo);if(l===0)return 0;var u=JY(e,n,a);if(u>=0&&u<=1){for(var c=0,f=Pa(e,n,a,u),h=0;h<l;h++){var p=Xo[h]===0||Xo[h]===1?.5:1,g=Pa(i,t,r,Xo[h]);g<o||(Xo[h]<u?c+=f<e?p:-p:c+=a<f?p:-p)}return c}else{var p=Xo[0]===0||Xo[0]===1?.5:1,g=Pa(i,t,r,Xo[0]);return g<o?0:a<e?p:-p}}function ype(i,e,t,n,r,a,o,s){if(s-=e,s>t||s<-t)return 0;var l=Math.sqrt(t*t-s*s);Xo[0]=-l,Xo[1]=l;var u=Math.abs(n-r);if(u<1e-4)return 0;if(u>=jv-1e-4){n=0,r=jv;var c=a?1:-1;return o>=Xo[0]+i&&o<=Xo[1]+i?c:0}if(n>r){var f=n;n=r,r=f}n<0&&(n+=jv,r+=jv);for(var h=0,p=0;p<2;p++){var g=Xo[p];if(g+i>o){var y=Math.atan2(s,g),c=a?1:-1;y<0&&(y=jv+y),(y>=n&&y<=r||y+jv>=n&&y+jv<=r)&&(y>Math.PI/2&&y<Math.PI*1.5&&(c=-c),h+=c)}}return h}function kq(i,e,t,n,r){for(var a=i.data,o=i.len(),s=0,l=0,u=0,c=0,f=0,h,p,g=0;g<o;){var y=a[g++],_=g===1;switch(y===Ud.M&&g>1&&(t||(s+=ch(l,u,c,f,n,r))),_&&(l=a[g],u=a[g+1],c=l,f=u),y){case Ud.M:c=a[g++],f=a[g++],l=c,u=f;break;case Ud.L:if(t){if(Zd(l,u,a[g],a[g+1],e,n,r))return!0}else s+=ch(l,u,a[g],a[g+1],n,r)||0;l=a[g++],u=a[g++];break;case Ud.C:if(t){if(fpe(l,u,a[g++],a[g++],a[g++],a[g++],a[g],a[g+1],e,n,r))return!0}else s+=gpe(l,u,a[g++],a[g++],a[g++],a[g++],a[g],a[g+1],n,r)||0;l=a[g++],u=a[g++];break;case Ud.Q:if(t){if(Bq(l,u,a[g++],a[g++],a[g],a[g+1],e,n,r))return!0}else s+=mpe(l,u,a[g++],a[g++],a[g],a[g+1],n,r)||0;l=a[g++],u=a[g++];break;case Ud.A:var x=a[g++],M=a[g++],T=a[g++],C=a[g++],E=a[g++],D=a[g++];g+=1;var L=!!(1-a[g++]);h=Math.cos(E)*T+x,p=Math.sin(E)*C+M,_?(c=h,f=p):s+=ch(l,u,h,p,n,r);var z=(n-x)*C/T+x;if(t){if(hpe(x,M,C,E,E+D,L,e,z,r))return!0}else s+=ype(x,M,C,E,E+D,L,z,r);l=Math.cos(E+D)*T+x,u=Math.sin(E+D)*C+M;break;case Ud.R:c=l=a[g++],f=u=a[g++];var P=a[g++],N=a[g++];if(h=c+P,p=f+N,t){if(Zd(c,f,h,f,e,n,r)||Zd(h,f,h,p,e,n,r)||Zd(h,p,c,p,e,n,r)||Zd(c,p,c,f,e,n,r))return!0}else s+=ch(h,f,h,p,n,r),s+=ch(c,p,c,f,n,r);break;case Ud.Z:if(t){if(Zd(l,u,c,f,e,n,r))return!0}else s+=ch(l,u,c,f,n,r);l=c,u=f;break}}return!t&&!ppe(u,f)&&(s+=ch(l,u,c,f,n,r)||0),s!==0}function _pe(i,e,t){return kq(i,0,!1,e,t)}function xpe(i,e,t,n){return kq(i,e,!0,t,n)}var QE=Ot({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Ug),Spe={style:Ot({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},YR.style)},UP=uf.concat(["invisible","culling","z","z2","zlevel","parent"]),bn=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.update=function(){var t=this;i.prototype.update.call(this);var n=this.style;if(n.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(l){t.buildPath(l,t.shape)}),r.silent=!0;var a=r.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<UP.length;++s)r[UP[s]]=this[UP[s]];r.__dirty|=Ws}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var n=An(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var a=0;a<n.length;a++){var o=n[a],s=t[o];o==="style"?this.style?Ce(this.style,s):this.useStyle(s):o==="shape"?Ce(this.shape,s):i.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(rt(t)){var n=S1(t,0);return n>.5?AO:n>.2?Jhe:CO}else if(t)return CO}return AO},e.prototype.getInsideTextStroke=function(t){var n=this.style.fill;if(rt(n)){var r=this.__zr,a=!!(r&&r.isDarkMode()),o=S1(t,0)<wO;if(a===o)return n}},e.prototype.buildPath=function(t,n,r){},e.prototype.pathUpdated=function(){this.__dirty&=~A0},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new ff(!1)},e.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return!(n==null||n==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,n=this.style,r=!t;if(r){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&A0)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),t=o.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||r){s.copy(t);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return t},e.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n),a=this.getBoundingRect(),o=this.style;if(t=r[0],n=r[1],a.contain(t,n)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),xpe(s,l/u,t,n)))return!0}if(this.hasFill())return _pe(s,t,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=A0,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,n){t==="shape"?this.setShape(n):i.prototype.attrKV.call(this,t,n)},e.prototype.setShape=function(t,n){var r=this.shape;return r||(r=this.shape={}),typeof t=="string"?r[t]=n:Ce(r,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&A0)},e.prototype.createStyle=function(t){return lM(QE,t)},e.prototype._innerSaveToNormal=function(t){i.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=Ce({},this.shape))},e.prototype._applyStateObj=function(t,n,r,a,o,s){i.prototype._applyStateObj.call(this,t,n,r,a,o,s);var l=!(n&&a),u;if(n&&n.shape?o?a?u=n.shape:(u=Ce({},r.shape),Ce(u,n.shape)):(u=Ce({},a?this.shape:r.shape),Ce(u,n.shape)):l&&(u=r.shape),u)if(o){this.shape=Ce({},this.shape);for(var c={},f=An(u),h=0;h<f.length;h++){var p=f[h];typeof u[p]=="object"?this.shape[p]=u[p]:c[p]=u[p]}this._transitionState(t,{shape:c},s)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var n=i.prototype._mergeStates.call(this,t),r,a=0;a<t.length;a++){var o=t[a];o.shape&&(r=r||{},this._mergeStyle(r,o.shape))}return r&&(n.shape=r),n},e.prototype.getAnimationStyleProps=function(){return Spe},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=(function(a){fe(o,a);function o(s){var l=a.call(this,s)||this;return t.init&&t.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return Lt(t.style)},o.prototype.getDefaultShape=function(){return Lt(t.shape)},o})(e);for(var r in t)typeof t[r]=="function"&&(n.prototype[r]=t[r]);return n},e.initDefaultProps=(function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=Ws|bb|A0})(),e})(Kl),bpe=Ot({strokeFirst:!0,font:Dh,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},QE),d_=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.hasStroke=function(){return zq(this.style)},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(t){return lM(bpe,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){return this._rect||(this._rect=ape(this.style)),this._rect},e.initDefaultProps=(function(){var t=e.prototype;t.dirtyRectTolerance=10})(),e})(Kl);d_.prototype.type="tspan";var Mpe=Ot({x:0,y:0},Ug),Tpe={style:Ot({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},YR.style)};function wpe(i){return!!(i&&typeof i!="string"&&i.width&&i.height)}var Ta=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return lM(Mpe,t)},e.prototype._getSize=function(t){var n=this.style,r=n[t];if(r!=null)return r;var a=wpe(n.image)?n.image:this.__image;if(!a)return 0;var o=t==="width"?"height":"width",s=n[o];return s==null?a[t]:a[t]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return Tpe},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Ut(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e})(Kl);Ta.prototype.type="image";function Ape(i,e){var t=e.x,n=e.y,r=e.width,a=e.height,o=e.r,s,l,u,c;r<0&&(t=t+r,r=-r),a<0&&(n=n+a,a=-a),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>r&&(f=s+l,s*=r/f,l*=r/f),u+c>r&&(f=u+c,u*=r/f,c*=r/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),s+c>a&&(f=s+c,s*=a/f,c*=a/f),i.moveTo(t+s,n),i.lineTo(t+r-l,n),l!==0&&i.arc(t+r-l,n+l,l,-Math.PI/2,0),i.lineTo(t+r,n+a-u),u!==0&&i.arc(t+r-u,n+a-u,u,0,Math.PI/2),i.lineTo(t+c,n+a),c!==0&&i.arc(t+c,n+a-c,c,Math.PI/2,Math.PI),i.lineTo(t,n+s),s!==0&&i.arc(t+s,n+s,s,Math.PI,Math.PI*1.5)}var N0=Math.round;function jR(i,e,t){if(e){var n=e.x1,r=e.x2,a=e.y1,o=e.y2;i.x1=n,i.x2=r,i.y1=a,i.y2=o;var s=t&&t.lineWidth;return s&&(N0(n*2)===N0(r*2)&&(i.x1=i.x2=$s(n,s,!0)),N0(a*2)===N0(o*2)&&(i.y1=i.y2=$s(a,s,!0))),i}}function Uq(i,e,t){if(e){var n=e.x,r=e.y,a=e.width,o=e.height;i.x=n,i.y=r,i.width=a,i.height=o;var s=t&&t.lineWidth;return s&&(i.x=$s(n,s,!0),i.y=$s(r,s,!0),i.width=Math.max($s(n+a,s,!1)-i.x,a===0?0:1),i.height=Math.max($s(r+o,s,!1)-i.y,o===0?0:1)),i}}function $s(i,e,t){if(!e)return i;var n=N0(i*2);return(n+N0(e))%2===0?n/2:(n+(t?1:-1))/2}var Cpe=(function(){function i(){this.x=0,this.y=0,this.width=0,this.height=0}return i})(),Epe={},dn=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Cpe},e.prototype.buildPath=function(t,n){var r,a,o,s;if(this.subPixelOptimize){var l=Uq(Epe,n,this.style);r=l.x,a=l.y,o=l.width,s=l.height,l.r=n.r,n=l}else r=n.x,a=n.y,o=n.width,s=n.height;n.r?Ape(t,n):t.rect(r,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e})(bn);dn.prototype.type="rect";var O4={fill:"#000"},z4=2,zc={},Dpe={style:Ot({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},YR.style)},In=(function(i){fe(e,i);function e(t){var n=i.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=O4,n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){i.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):i.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):i.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),i.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,Ipe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){i.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},e.prototype.removeSelfFromZr=function(t){i.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Ut(0,0,0,0),n=this._children,r=[],a=null,o=0;o<n.length;o++){var s=n[o],l=s.getBoundingRect(),u=s.getLocalTransform(r);u?(t.copy(l),t.applyTransform(u),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||O4},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,n){if(!n)return t;var r=n.rich,a=t.rich||r&&{};return Ce(t,n),r&&a?(this._mergeRich(a,r),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,n){for(var r=An(n),a=0;a<r.length;a++){var o=r[a];t[o]=t[o]||{},Ce(t[o],n[o])}},e.prototype.getAnimationStyleProps=function(){return Dpe},e.prototype._getOrCreateChild=function(t){var n=this._children[this._childCursor];return(!n||!(n instanceof t))&&(n=new t),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var t=this.style,n=t.font||Dh,r=t.padding,a=this._defaultStyle,o=t.x||0,s=t.y||0,l=t.align||a.align||"left",u=t.verticalAlign||a.verticalAlign||"top";C4(zc,a.overflowRect,o,s,l,u),o=zc.baseX,s=zc.baseY;var c=H4(t),f=Qde(c,t,zc.outerWidth,zc.outerHeight),h=FP(t),p=!!t.backgroundColor,g=f.outerHeight,y=f.outerWidth,_=f.lines,x=f.lineHeight;this.isTruncated=!!f.isTruncated;var M=o,T=kg(s,f.contentHeight,u);if(h||r){var C=f_(o,y,l),E=kg(s,g,u);h&&this._renderBackground(t,t,C,E,y,g)}T+=x/2,r&&(M=G4(o,l,r),u==="top"?T+=r[0]:u==="bottom"&&(T-=r[2]));for(var D=0,L=!1,z=!1,P=V4("fill"in t?t.fill:(z=!0,a.fill)),N=F4("stroke"in t?t.stroke:!p&&(!a.autoStroke||z)?(D=z4,L=!0,a.stroke):null),B=t.textShadowBlur>0,G=0;G<_.length;G++){var U=this._getOrCreateChild(d_),X=U.createStyle();U.useStyle(X),X.text=_[G],X.x=M,X.y=T,X.textAlign=l,X.textBaseline="middle",X.opacity=t.opacity,X.strokeFirst=!0,B&&(X.shadowBlur=t.textShadowBlur||0,X.shadowColor=t.textShadowColor||"transparent",X.shadowOffsetX=t.textShadowOffsetX||0,X.shadowOffsetY=t.textShadowOffsetY||0),X.stroke=N,X.fill=P,N&&(X.lineWidth=t.lineWidth||D,X.lineDash=t.lineDash,X.lineDashOffset=t.lineDashOffset||0),X.font=n,k4(X,t),T+=x,U.setBoundingRect(NO(X,f.contentWidth,f.calculatedLineHeight,L?0:null))}},e.prototype._updateRichTexts=function(){var t=this.style,n=this._defaultStyle,r=t.align||n.align,a=t.verticalAlign||n.verticalAlign,o=t.x||0,s=t.y||0;C4(zc,n.overflowRect,o,s,r,a),o=zc.baseX,s=zc.baseY;var l=H4(t),u=tpe(l,t,zc.outerWidth,zc.outerHeight,r),c=u.width,f=u.outerWidth,h=u.outerHeight,p=t.padding;this.isTruncated=!!u.isTruncated;var g=f_(o,f,r),y=kg(s,h,a),_=g,x=y;p&&(_+=p[3],x+=p[0]);var M=_+c;FP(t)&&this._renderBackground(t,t,g,y,f,h);for(var T=!!t.backgroundColor,C=0;C<u.lines.length;C++){for(var E=u.lines[C],D=E.tokens,L=D.length,z=E.lineHeight,P=E.width,N=0,B=_,G=M,U=L-1,X=void 0;N<L&&(X=D[N],!X.align||X.align==="left");)this._placeToken(X,t,z,x,B,"left",T),P-=X.width,B+=X.width,N++;for(;U>=0&&(X=D[U],X.align==="right");)this._placeToken(X,t,z,x,G,"right",T),P-=X.width,G-=X.width,U--;for(B+=(c-(B-_)-(M-G)-P)/2;N<=U;)X=D[N],this._placeToken(X,t,z,x,B+X.width/2,"center",T),B+=X.width,N++;x+=z}},e.prototype._placeToken=function(t,n,r,a,o,s,l){var u=n.rich[t.styleName]||{};u.text=t.text;var c=t.verticalAlign,f=a+r/2;c==="top"?f=a+t.height/2:c==="bottom"&&(f=a+r-t.height/2);var h=!t.isLineHolder&&FP(u);h&&this._renderBackground(u,n,s==="right"?o-t.width:s==="center"?o-t.width/2:o,f-t.height/2,t.width,t.height);var p=!!u.backgroundColor,g=t.textPadding;g&&(o=G4(o,s,g),f-=t.height/2-g[0]-t.innerHeight/2);var y=this._getOrCreateChild(d_),_=y.createStyle();y.useStyle(_);var x=this._defaultStyle,M=!1,T=0,C=!1,E=V4("fill"in u?u.fill:"fill"in n?n.fill:(M=!0,x.fill)),D=F4("stroke"in u?u.stroke:"stroke"in n?n.stroke:!p&&!l&&(!x.autoStroke||M)?(T=z4,C=!0,x.stroke):null),L=u.textShadowBlur>0||n.textShadowBlur>0;_.text=t.text,_.x=o,_.y=f,L&&(_.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,_.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",_.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,_.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),_.textAlign=s,_.textBaseline="middle",_.font=t.font||Dh,_.opacity=Ds(u.opacity,n.opacity,1),k4(_,u),D&&(_.lineWidth=Ds(u.lineWidth,n.lineWidth,T),_.lineDash=bt(u.lineDash,n.lineDash),_.lineDashOffset=n.lineDashOffset||0,_.stroke=D),E&&(_.fill=E),y.setBoundingRect(NO(_,t.contentWidth,t.contentHeight,C?0:null))},e.prototype._renderBackground=function(t,n,r,a,o,s){var l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,f=l&&l.image,h=l&&!f,p=t.borderRadius,g=this,y,_;if(h||t.lineHeight||u&&c){y=this._getOrCreateChild(dn),y.useStyle(y.createStyle()),y.style.fill=null;var x=y.shape;x.x=r,x.y=a,x.width=o,x.height=s,x.r=p,y.dirtyShape()}if(h){var M=y.style;M.fill=l||null,M.fillOpacity=bt(t.fillOpacity,1)}else if(f){_=this._getOrCreateChild(Ta),_.onload=function(){g.dirtyStyle()};var T=_.style;T.image=l.image,T.x=r,T.y=a,T.width=o,T.height=s}if(u&&c){var M=y.style;M.lineWidth=u,M.stroke=c,M.strokeOpacity=bt(t.strokeOpacity,1),M.lineDash=t.borderDash,M.lineDashOffset=t.borderDashOffset||0,y.strokeContainThreshold=0,y.hasFill()&&y.hasStroke()&&(M.strokeFirst=!0,M.lineWidth*=2)}var C=(y||_).style;C.shadowBlur=t.shadowBlur||0,C.shadowColor=t.shadowColor||"transparent",C.shadowOffsetX=t.shadowOffsetX||0,C.shadowOffsetY=t.shadowOffsetY||0,C.opacity=Ds(t.opacity,n.opacity,1)},e.makeFont=function(t){var n="";return Vq(t)&&(n=[t.fontStyle,t.fontWeight,Fq(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),n&&Zs(n)||t.textFont||t.font},e})(Kl),Rpe={left:!0,right:1,center:1},Lpe={top:1,bottom:1,middle:1},B4=["fontStyle","fontWeight","fontSize","fontFamily"];function Fq(i){return typeof i=="string"&&(i.indexOf("px")!==-1||i.indexOf("rem")!==-1||i.indexOf("em")!==-1)?i:isNaN(+i)?mk+"px":i+"px"}function k4(i,e){for(var t=0;t<B4.length;t++){var n=B4[t],r=e[n];r!=null&&(i[n]=r)}}function Vq(i){return i.fontSize!=null||i.fontFamily||i.fontWeight}function Ipe(i){return U4(i),H(i.rich,U4),i}function U4(i){if(i){i.font=In.makeFont(i);var e=i.align;e==="middle"&&(e="center"),i.align=e==null||Rpe[e]?e:"left";var t=i.verticalAlign;t==="center"&&(t="middle"),i.verticalAlign=t==null||Lpe[t]?t:"top";var n=i.padding;n&&(i.padding=sM(i.padding))}}function F4(i,e){return i==null||e<=0||i==="transparent"||i==="none"?null:i.image||i.colorStops?"#000":i}function V4(i){return i==null||i==="none"?null:i.image||i.colorStops?"#000":i}function G4(i,e,t){return e==="right"?i-t[1]:e==="center"?i+t[3]/2-t[1]/2:i+t[3]}function H4(i){var e=i.text;return e!=null&&(e+=""),e}function FP(i){return!!(i.backgroundColor||i.lineHeight||i.borderWidth&&i.borderColor)}var Ht=yn(),BO=function(i,e,t,n){if(n){var r=Ht(n);r.dataIndex=t,r.dataType=e,r.seriesIndex=i,r.ssrType="chart",n.type==="group"&&n.traverse(function(a){var o=Ht(a);o.seriesIndex=i,o.dataIndex=t,o.dataType=e,o.ssrType="chart"})}},W4=1,X4={},Gq=yn(),kk=yn(),Uk=0,hM=1,KR=2,ts=["emphasis","blur","select"],T1=["normal","emphasis","blur","select"],O_=10,Ppe=9,Fg="highlight",EC="downplay",JE="select",kO="unselect",eD="toggleSelect",Fk="selectchanged";function i0(i){return i!=null&&i!=="none"}function $R(i,e,t){i.onHoverStateChange&&(i.hoverState||0)!==t&&i.onHoverStateChange(e),i.hoverState=t}function Hq(i){$R(i,"emphasis",KR)}function Wq(i){i.hoverState===KR&&$R(i,"normal",Uk)}function Vk(i){$R(i,"blur",hM)}function Xq(i){i.hoverState===hM&&$R(i,"normal",Uk)}function Npe(i){i.selected=!0}function Ope(i){i.selected=!1}function Y4(i,e,t){e(i,t)}function kh(i,e,t){Y4(i,e,t),i.isGroup&&i.traverse(function(n){Y4(n,e,t)})}function tD(i,e){switch(e){case"emphasis":i.hoverState=KR;break;case"normal":i.hoverState=Uk;break;case"blur":i.hoverState=hM;break;case"select":i.selected=!0}}function zpe(i,e,t,n){for(var r=i.style,a={},o=0;o<e.length;o++){var s=e[o],l=r[s];a[s]=l??(n&&n[s])}for(var o=0;o<i.animators.length;o++){var u=i.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(t)<0&&u.targetName==="style"&&u.saveTo(a,e)}return a}function Bpe(i,e,t,n){var r=t&&en(t,"select")>=0,a=!1;if(i instanceof bn){var o=Gq(i),s=r&&o.selectFill||o.normalFill,l=r&&o.selectStroke||o.normalStroke;if(i0(s)||i0(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(a=!0,n=Ce({},n),u=Ce({},u),u.fill=s):!i0(u.fill)&&i0(s)?(a=!0,n=Ce({},n),u=Ce({},u),u.fill=YE(s)):!i0(u.stroke)&&i0(l)&&(a||(n=Ce({},n),u=Ce({},u)),u.stroke=YE(l)),n.style=u}}if(n&&n.z2==null){a||(n=Ce({},n));var c=i.z2EmphasisLift;n.z2=i.z2+(c??O_)}return n}function kpe(i,e,t){if(t&&t.z2==null){t=Ce({},t);var n=i.z2SelectLift;t.z2=i.z2+(n??Ppe)}return t}function Upe(i,e,t){var n=en(i.currentStates,e)>=0,r=i.style.opacity,a=n?null:zpe(i,["opacity"],e,{opacity:1});t=t||{};var o=t.style||{};return o.opacity==null&&(t=Ce({},t),o=Ce({opacity:n?r:a.opacity*.1},o),t.style=o),t}function VP(i,e){var t=this.states[i];if(this.style){if(i==="emphasis")return Bpe(this,i,e,t);if(i==="blur")return Upe(this,i,t);if(i==="select")return kpe(this,i,t)}return t}function im(i){i.stateProxy=VP;var e=i.getTextContent(),t=i.getTextGuideLine();e&&(e.stateProxy=VP),t&&(t.stateProxy=VP)}function q4(i,e){!jq(i,e)&&!i.__highByOuter&&kh(i,Hq)}function Z4(i,e){!jq(i,e)&&!i.__highByOuter&&kh(i,Wq)}function Lh(i,e){i.__highByOuter|=1<<(e||0),kh(i,Hq)}function Ih(i,e){!(i.__highByOuter&=~(1<<(e||0)))&&kh(i,Wq)}function Yq(i){kh(i,Vk)}function Gk(i){kh(i,Xq)}function qq(i){kh(i,Npe)}function Zq(i){kh(i,Ope)}function jq(i,e){return i.__highDownSilentOnTouch&&e.zrByTouch}function Kq(i){var e=i.getModel(),t=[],n=[];e.eachComponent(function(r,a){var o=kk(a),s=r==="series",l=s?i.getViewOfSeriesModel(a):i.getViewOfComponentModel(a);!s&&n.push(l),o.isBlured&&(l.group.traverse(function(u){Xq(u)}),s&&t.push(a)),o.isBlured=!1}),H(n,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(t,!1,e)})}function UO(i,e,t,n){var r=n.getModel();t=t||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var h=u.getItemGraphicEl(c[f]);h&&Gk(h)}}if(i!=null&&!(!e||e==="none")){var o=r.getSeriesByIndex(i),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&s?f===s:c;if(!(t==="series"&&!c||t==="coordinateSystem"&&!h||e==="series"&&c)){var p=n.getViewOfSeriesModel(u);if(p.group.traverse(function(_){_.__highByOuter&&c&&e==="self"||Vk(_)}),to(e))a(u.getData(),e);else if(zt(e))for(var g=An(e),y=0;y<g.length;y++)a(u.getData(g[y]),e[g[y]]);l.push(u),kk(u).isBlured=!0}}),r.eachComponent(function(u,c){if(u!=="series"){var f=n.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,r)}})}}function FO(i,e,t){if(!(i==null||e==null)){var n=t.getModel().getComponent(i,e);if(n){kk(n).isBlured=!0;var r=t.getViewOfComponentModel(n);!r||!r.focusBlurEnabled||r.group.traverse(function(a){Vk(a)})}}}function Fpe(i,e,t){var n=i.seriesIndex,r=i.getData(e.dataType);if(r){var a=tm(r,e);a=(ze(a)?a[0]:a)||0;var o=r.getItemGraphicEl(a);if(!o)for(var s=r.count(),l=0;!o&&l<s;)o=r.getItemGraphicEl(l++);if(o){var u=Ht(o);UO(n,u.focus,u.blurScope,t)}else{var c=i.get(["emphasis","focus"]),f=i.get(["emphasis","blurScope"]);c!=null&&UO(n,c,f,t)}}}function Hk(i,e,t,n){var r={focusSelf:!1,dispatchers:null};if(i==null||i==="series"||e==null||t==null)return r;var a=n.getModel().getComponent(i,e);if(!a)return r;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return r;for(var s=o.findHighDownDispatchers(t),l,u=0;u<s.length;u++)if(Ht(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function Vpe(i,e,t){var n=Ht(i),r=Hk(n.componentMainType,n.componentIndex,n.componentHighDownName,t),a=r.dispatchers,o=r.focusSelf;a?(o&&FO(n.componentMainType,n.componentIndex,t),H(a,function(s){return q4(s,e)})):(UO(n.seriesIndex,n.focus,n.blurScope,t),n.focus==="self"&&FO(n.componentMainType,n.componentIndex,t),q4(i,e))}function Gpe(i,e,t){Kq(t);var n=Ht(i),r=Hk(n.componentMainType,n.componentIndex,n.componentHighDownName,t).dispatchers;r?H(r,function(a){return Z4(a,e)}):Z4(i,e)}function Hpe(i,e,t){if(GO(e)){var n=e.dataType,r=i.getData(n),a=tm(r,e);ze(a)||(a=[a]),i[e.type===eD?"toggleSelect":e.type===JE?"select":"unselect"](a,n)}}function j4(i){var e=i.getAllData();H(e,function(t){var n=t.data,r=t.type;n.eachItemGraphicEl(function(a,o){i.isSelected(o,r)?qq(a):Zq(a)})})}function Wpe(i){var e=[];return i.eachSeries(function(t){var n=t.getAllData();H(n,function(r){r.data;var a=r.type,o=t.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:t.seriesIndex};a!=null&&(s.dataType=a),e.push(s)}})}),e}function dp(i,e,t){Rg(i,!0),kh(i,im),VO(i,e,t)}function Xpe(i){Rg(i,!1)}function Hi(i,e,t,n){n?Xpe(i):dp(i,e,t)}function VO(i,e,t){var n=Ht(i);e!=null?(n.focus=e,n.blurScope=t):n.focus&&(n.focus=null)}var K4=["emphasis","blur","select"],Ype={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function la(i,e,t,n){t=t||"itemStyle";for(var r=0;r<K4.length;r++){var a=K4[r],o=e.getModel([a,t]),s=i.ensureState(a);s.style=n?n(o):o[Ype[t]]()}}function Rg(i,e){var t=e===!1,n=i;i.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=i.highDownSilentOnTouch),(!t||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!t)}function w1(i){return!!(i&&i.__highDownDispatcher)}function qpe(i,e,t){var n=Ht(i);n.componentMainType=e.mainType,n.componentIndex=e.componentIndex,n.componentHighDownName=t}function Zpe(i){var e=X4[i];return e==null&&W4<=32&&(e=X4[i]=W4++),e}function GO(i){var e=i.type;return e===JE||e===kO||e===eD}function $4(i){var e=i.type;return e===Fg||e===EC}function jpe(i){var e=Gq(i);e.normalFill=i.style.fill,e.normalStroke=i.style.stroke;var t=i.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var r0=ff.CMD,Kpe=[[],[],[]],Q4=Math.sqrt,$pe=Math.atan2;function $q(i,e){if(e){var t=i.data,n=i.len(),r,a,o,s,l,u,c=r0.M,f=r0.C,h=r0.L,p=r0.R,g=r0.A,y=r0.Q;for(o=0,s=0;o<n;){switch(r=t[o++],s=o,a=0,r){case c:a=1;break;case h:a=1;break;case f:a=3;break;case y:a=2;break;case g:var _=e[4],x=e[5],M=Q4(e[0]*e[0]+e[1]*e[1]),T=Q4(e[2]*e[2]+e[3]*e[3]),C=$pe(-e[1]/T,e[0]/M);t[o]*=M,t[o++]+=_,t[o]*=T,t[o++]+=x,t[o++]*=M,t[o++]*=T,t[o++]+=C,t[o++]+=C,o+=2,s=o;break;case p:u[0]=t[o++],u[1]=t[o++],xr(u,u,e),t[s++]=u[0],t[s++]=u[1],u[0]+=t[o++],u[1]+=t[o++],xr(u,u,e),t[s++]=u[0],t[s++]=u[1]}for(l=0;l<a;l++){var E=Kpe[l];E[0]=t[o++],E[1]=t[o++],xr(E,E,e),t[s++]=E[0],t[s++]=E[1]}}i.increaseVersion()}}var GP=Math.sqrt,gA=Math.sin,mA=Math.cos,XS=Math.PI;function J4(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function HO(i,e){return(i[0]*e[0]+i[1]*e[1])/(J4(i)*J4(e))}function eG(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(HO(i,e))}function tG(i,e,t,n,r,a,o,s,l,u,c){var f=l*(XS/180),h=mA(f)*(i-t)/2+gA(f)*(e-n)/2,p=-1*gA(f)*(i-t)/2+mA(f)*(e-n)/2,g=h*h/(o*o)+p*p/(s*s);g>1&&(o*=GP(g),s*=GP(g));var y=(r===a?-1:1)*GP((o*o*(s*s)-o*o*(p*p)-s*s*(h*h))/(o*o*(p*p)+s*s*(h*h)))||0,_=y*o*p/s,x=y*-s*h/o,M=(i+t)/2+mA(f)*_-gA(f)*x,T=(e+n)/2+gA(f)*_+mA(f)*x,C=eG([1,0],[(h-_)/o,(p-x)/s]),E=[(h-_)/o,(p-x)/s],D=[(-1*h-_)/o,(-1*p-x)/s],L=eG(E,D);if(HO(E,D)<=-1&&(L=XS),HO(E,D)>=1&&(L=0),L<0){var z=Math.round(L/XS*1e6)/1e6;L=XS*2+z%2*XS}c.addData(u,M,T,o,s,C,L,f,a)}var Qpe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Jpe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function eve(i){var e=new ff;if(!i)return e;var t=0,n=0,r=t,a=n,o,s=ff.CMD,l=i.match(Qpe);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),h=void 0,p=c.match(Jpe)||[],g=p.length,y=0;y<g;y++)p[y]=parseFloat(p[y]);for(var _=0;_<g;){var x=void 0,M=void 0,T=void 0,C=void 0,E=void 0,D=void 0,L=void 0,z=t,P=n,N=void 0,B=void 0;switch(f){case"l":t+=p[_++],n+=p[_++],h=s.L,e.addData(h,t,n);break;case"L":t=p[_++],n=p[_++],h=s.L,e.addData(h,t,n);break;case"m":t+=p[_++],n+=p[_++],h=s.M,e.addData(h,t,n),r=t,a=n,f="l";break;case"M":t=p[_++],n=p[_++],h=s.M,e.addData(h,t,n),r=t,a=n,f="L";break;case"h":t+=p[_++],h=s.L,e.addData(h,t,n);break;case"H":t=p[_++],h=s.L,e.addData(h,t,n);break;case"v":n+=p[_++],h=s.L,e.addData(h,t,n);break;case"V":n=p[_++],h=s.L,e.addData(h,t,n);break;case"C":h=s.C,e.addData(h,p[_++],p[_++],p[_++],p[_++],p[_++],p[_++]),t=p[_-2],n=p[_-1];break;case"c":h=s.C,e.addData(h,p[_++]+t,p[_++]+n,p[_++]+t,p[_++]+n,p[_++]+t,p[_++]+n),t+=p[_-2],n+=p[_-1];break;case"S":x=t,M=n,N=e.len(),B=e.data,o===s.C&&(x+=t-B[N-4],M+=n-B[N-3]),h=s.C,z=p[_++],P=p[_++],t=p[_++],n=p[_++],e.addData(h,x,M,z,P,t,n);break;case"s":x=t,M=n,N=e.len(),B=e.data,o===s.C&&(x+=t-B[N-4],M+=n-B[N-3]),h=s.C,z=t+p[_++],P=n+p[_++],t+=p[_++],n+=p[_++],e.addData(h,x,M,z,P,t,n);break;case"Q":z=p[_++],P=p[_++],t=p[_++],n=p[_++],h=s.Q,e.addData(h,z,P,t,n);break;case"q":z=p[_++]+t,P=p[_++]+n,t+=p[_++],n+=p[_++],h=s.Q,e.addData(h,z,P,t,n);break;case"T":x=t,M=n,N=e.len(),B=e.data,o===s.Q&&(x+=t-B[N-4],M+=n-B[N-3]),t=p[_++],n=p[_++],h=s.Q,e.addData(h,x,M,t,n);break;case"t":x=t,M=n,N=e.len(),B=e.data,o===s.Q&&(x+=t-B[N-4],M+=n-B[N-3]),t+=p[_++],n+=p[_++],h=s.Q,e.addData(h,x,M,t,n);break;case"A":T=p[_++],C=p[_++],E=p[_++],D=p[_++],L=p[_++],z=t,P=n,t=p[_++],n=p[_++],h=s.A,tG(z,P,t,n,D,L,T,C,E,h,e);break;case"a":T=p[_++],C=p[_++],E=p[_++],D=p[_++],L=p[_++],z=t,P=n,t+=p[_++],n+=p[_++],h=s.A,tG(z,P,t,n,D,L,T,C,E,h,e);break}}(f==="z"||f==="Z")&&(h=s.Z,e.addData(h),t=r,n=a),o=h}return e.toStatic(),e}var Qq=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e})(bn);function Jq(i){return i.setData!=null}function eZ(i,e){var t=eve(i),n=Ce({},e);return n.buildPath=function(r){var a=Jq(r);if(a&&r.canSave()){r.appendPath(t);var o=r.getContext();o&&r.rebuildPath(o,1)}else{var o=a?r.getContext():r;o&&t.rebuildPath(o,1)}},n.applyTransform=function(r){$q(t,r),this.dirtyShape()},n}function tZ(i,e){return new Qq(eZ(i,e))}function tve(i,e){var t=eZ(i,e),n=(function(r){fe(a,r);function a(o){var s=r.call(this,o)||this;return s.applyTransform=t.applyTransform,s.buildPath=t.buildPath,s}return a})(Qq);return n}function nve(i,e){for(var t=[],n=i.length,r=0;r<n;r++){var a=i[r];t.push(a.getUpdatedPathProxy(!0))}var o=new bn(e);return o.createPathProxy(),o.buildPath=function(s){if(Jq(s)){s.appendPath(t);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function Wk(i,e){e=e||{};var t=new bn;return i.shape&&t.setShape(i.shape),t.setStyle(i.style),e.bakeTransform?$q(t.path,i.getComputedTransform()):e.toLocal?t.setLocalTransform(i.getComputedTransform()):t.copyTransform(i),t.buildPath=i.buildPath,t.applyTransform=t.applyTransform,t.z=i.z,t.z2=i.z2,t.zlevel=i.zlevel,t}var ive=(function(){function i(){this.cx=0,this.cy=0,this.r=0}return i})(),mf=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new ive},e.prototype.buildPath=function(t,n){t.moveTo(n.cx+n.r,n.cy),t.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e})(bn);mf.prototype.type="circle";var rve=(function(){function i(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return i})(),dM=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new rve},e.prototype.buildPath=function(t,n){var r=.5522848,a=n.cx,o=n.cy,s=n.rx,l=n.ry,u=s*r,c=l*r;t.moveTo(a-s,o),t.bezierCurveTo(a-s,o-c,a-u,o-l,a,o-l),t.bezierCurveTo(a+u,o-l,a+s,o-c,a+s,o),t.bezierCurveTo(a+s,o+c,a+u,o+l,a,o+l),t.bezierCurveTo(a-u,o+l,a-s,o+c,a-s,o),t.closePath()},e})(bn);dM.prototype.type="ellipse";var nZ=Math.PI,HP=nZ*2,Kv=Math.sin,a0=Math.cos,ave=Math.acos,xo=Math.atan2,nG=Math.abs,$b=Math.sqrt,Tb=Math.max,Bc=Math.min,Du=1e-4;function ove(i,e,t,n,r,a,o,s){var l=t-i,u=n-e,c=o-r,f=s-a,h=f*l-c*u;if(!(h*h<Du))return h=(c*(e-a)-f*(i-r))/h,[i+h*l,e+h*u]}function yA(i,e,t,n,r,a,o){var s=i-t,l=e-n,u=(o?a:-a)/$b(s*s+l*l),c=u*l,f=-u*s,h=i+c,p=e+f,g=t+c,y=n+f,_=(h+g)/2,x=(p+y)/2,M=g-h,T=y-p,C=M*M+T*T,E=r-a,D=h*y-g*p,L=(T<0?-1:1)*$b(Tb(0,E*E*C-D*D)),z=(D*T-M*L)/C,P=(-D*M-T*L)/C,N=(D*T+M*L)/C,B=(-D*M+T*L)/C,G=z-_,U=P-x,X=N-_,q=B-x;return G*G+U*U>X*X+q*q&&(z=N,P=B),{cx:z,cy:P,x0:-c,y0:-f,x1:z*(r/E-1),y1:P*(r/E-1)}}function sve(i){var e;if(ze(i)){var t=i.length;if(!t)return i;t===1?e=[i[0],i[0],0,0]:t===2?e=[i[0],i[0],i[1],i[1]]:t===3?e=i.concat(i[2]):e=i}else e=[i,i,i,i];return e}function lve(i,e){var t,n=Tb(e.r,0),r=Tb(e.r0||0,0),a=n>0,o=r>0;if(!(!a&&!o)){if(a||(n=r,r=0),r>n){var s=n;n=r,r=s}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,f=e.cy,h=!!e.clockwise,p=nG(u-l),g=p>HP&&p%HP;if(g>Du&&(p=g),!(n>Du))i.moveTo(c,f);else if(p>HP-Du)i.moveTo(c+n*a0(l),f+n*Kv(l)),i.arc(c,f,n,l,u,!h),r>Du&&(i.moveTo(c+r*a0(u),f+r*Kv(u)),i.arc(c,f,r,u,l,h));else{var y=void 0,_=void 0,x=void 0,M=void 0,T=void 0,C=void 0,E=void 0,D=void 0,L=void 0,z=void 0,P=void 0,N=void 0,B=void 0,G=void 0,U=void 0,X=void 0,q=n*a0(l),V=n*Kv(l),j=r*a0(u),K=r*Kv(u),te=p>Du;if(te){var ie=e.cornerRadius;ie&&(t=sve(ie),y=t[0],_=t[1],x=t[2],M=t[3]);var Y=nG(n-r)/2;if(T=Bc(Y,x),C=Bc(Y,M),E=Bc(Y,y),D=Bc(Y,_),P=L=Tb(T,C),N=z=Tb(E,D),(L>Du||z>Du)&&(B=n*a0(u),G=n*Kv(u),U=r*a0(l),X=r*Kv(l),p<nZ)){var ee=ove(q,V,U,X,B,G,j,K);if(ee){var oe=q-ee[0],de=V-ee[1],Pe=B-ee[0],he=G-ee[1],Se=1/Kv(ave((oe*Pe+de*he)/($b(oe*oe+de*de)*$b(Pe*Pe+he*he)))/2),Ee=$b(ee[0]*ee[0]+ee[1]*ee[1]);P=Bc(L,(n-Ee)/(Se+1)),N=Bc(z,(r-Ee)/(Se-1))}}}if(!te)i.moveTo(c+q,f+V);else if(P>Du){var Te=Bc(x,P),He=Bc(M,P),We=yA(U,X,q,V,n,Te,h),Qe=yA(B,G,j,K,n,He,h);i.moveTo(c+We.cx+We.x0,f+We.cy+We.y0),P<L&&Te===He?i.arc(c+We.cx,f+We.cy,P,xo(We.y0,We.x0),xo(Qe.y0,Qe.x0),!h):(Te>0&&i.arc(c+We.cx,f+We.cy,Te,xo(We.y0,We.x0),xo(We.y1,We.x1),!h),i.arc(c,f,n,xo(We.cy+We.y1,We.cx+We.x1),xo(Qe.cy+Qe.y1,Qe.cx+Qe.x1),!h),He>0&&i.arc(c+Qe.cx,f+Qe.cy,He,xo(Qe.y1,Qe.x1),xo(Qe.y0,Qe.x0),!h))}else i.moveTo(c+q,f+V),i.arc(c,f,n,l,u,!h);if(!(r>Du)||!te)i.lineTo(c+j,f+K);else if(N>Du){var Te=Bc(y,N),He=Bc(_,N),We=yA(j,K,B,G,r,-He,h),Qe=yA(q,V,U,X,r,-Te,h);i.lineTo(c+We.cx+We.x0,f+We.cy+We.y0),N<z&&Te===He?i.arc(c+We.cx,f+We.cy,N,xo(We.y0,We.x0),xo(Qe.y0,Qe.x0),!h):(He>0&&i.arc(c+We.cx,f+We.cy,He,xo(We.y0,We.x0),xo(We.y1,We.x1),!h),i.arc(c,f,r,xo(We.cy+We.y1,We.cx+We.x1),xo(Qe.cy+Qe.y1,Qe.cx+Qe.x1),h),Te>0&&i.arc(c+Qe.cx,f+Qe.cy,Te,xo(Qe.y1,Qe.x1),xo(Qe.y0,Qe.x0),!h))}else i.lineTo(c+j,f+K),i.arc(c,f,r,u,l,h)}i.closePath()}}}var uve=(function(){function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return i})(),io=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new uve},e.prototype.buildPath=function(t,n){lve(t,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e})(bn);io.prototype.type="sector";var cve=(function(){function i(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return i})(),z_=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new cve},e.prototype.buildPath=function(t,n){var r=n.cx,a=n.cy,o=Math.PI*2;t.moveTo(r+n.r,a),t.arc(r,a,n.r,0,o,!1),t.moveTo(r+n.r0,a),t.arc(r,a,n.r0,0,o,!0)},e})(bn);z_.prototype.type="ring";function fve(i,e,t,n){var r=[],a=[],o=[],s=[],l,u,c,f;if(n){c=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,p=i.length;h<p;h++)mh(c,c,i[h]),yh(f,f,i[h]);mh(c,c,n[0]),yh(f,f,n[1])}for(var h=0,p=i.length;h<p;h++){var g=i[h];if(t)l=i[h?h-1:p-1],u=i[(h+1)%p];else if(h===0||h===p-1){r.push(tf(i[h]));continue}else l=i[h-1],u=i[h+1];np(a,u,l),Wb(a,a,e);var y=FE(g,l),_=FE(g,u),x=y+_;x!==0&&(y/=x,_/=x),Wb(o,a,-y),Wb(s,a,_);var M=uO([],g,o),T=uO([],g,s);n&&(yh(M,M,c),mh(M,M,f),yh(T,T,c),mh(T,T,f)),r.push(M),r.push(T)}return t&&r.push(r.shift()),r}function iZ(i,e,t){var n=e.smooth,r=e.points;if(r&&r.length>=2){if(n){var a=fve(r,n,t,e.smoothConstraint);i.moveTo(r[0][0],r[0][1]);for(var o=r.length,s=0;s<(t?o:o-1);s++){var l=a[s*2],u=a[s*2+1],c=r[(s+1)%o];i.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{i.moveTo(r[0][0],r[0][1]);for(var s=1,f=r.length;s<f;s++)i.lineTo(r[s][0],r[s][1])}t&&i.closePath()}}var hve=(function(){function i(){this.points=null,this.smooth=0,this.smoothConstraint=null}return i})(),ro=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new hve},e.prototype.buildPath=function(t,n){iZ(t,n,!0)},e})(bn);ro.prototype.type="polygon";var dve=(function(){function i(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return i})(),Ba=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new dve},e.prototype.buildPath=function(t,n){iZ(t,n,!1)},e})(bn);Ba.prototype.type="polyline";var pve={},vve=(function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return i})(),Nr=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new vve},e.prototype.buildPath=function(t,n){var r,a,o,s;if(this.subPixelOptimize){var l=jR(pve,n,this.style);r=l.x1,a=l.y1,o=l.x2,s=l.y2}else r=n.x1,a=n.y1,o=n.x2,s=n.y2;var u=n.percent;u!==0&&(t.moveTo(r,a),u<1&&(o=r*(1-u)+o*u,s=a*(1-u)+s*u),t.lineTo(o,s))},e.prototype.pointAt=function(t){var n=this.shape;return[n.x1*(1-t)+n.x2*t,n.y1*(1-t)+n.y2*t]},e})(bn);Nr.prototype.type="line";var Ms=[],gve=(function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return i})();function iG(i,e,t){var n=i.cpx2,r=i.cpy2;return n!=null||r!=null?[(t?s4:ga)(i.x1,i.cpx1,i.cpx2,i.x2,e),(t?s4:ga)(i.y1,i.cpy1,i.cpy2,i.y2,e)]:[(t?gO:Pa)(i.x1,i.cpx1,i.x2,e),(t?gO:Pa)(i.y1,i.cpy1,i.y2,e)]}var B_=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new gve},e.prototype.buildPath=function(t,n){var r=n.x1,a=n.y1,o=n.x2,s=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,f=n.cpy2,h=n.percent;h!==0&&(t.moveTo(r,a),c==null||f==null?(h<1&&(y1(r,l,o,h,Ms),l=Ms[1],o=Ms[2],y1(a,u,s,h,Ms),u=Ms[1],s=Ms[2]),t.quadraticCurveTo(l,u,o,s)):(h<1&&(bp(r,l,c,o,h,Ms),l=Ms[1],c=Ms[2],o=Ms[3],bp(a,u,f,s,h,Ms),u=Ms[1],f=Ms[2],s=Ms[3]),t.bezierCurveTo(l,u,c,f,o,s)))},e.prototype.pointAt=function(t){return iG(this.shape,t,!1)},e.prototype.tangentAt=function(t){var n=iG(this.shape,t,!0);return pm(n,n)},e})(bn);B_.prototype.type="bezier-curve";var mve=(function(){function i(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return i})(),pM=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new mve},e.prototype.buildPath=function(t,n){var r=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(s),f=Math.sin(s);t.moveTo(c*o+r,f*o+a),t.arc(r,a,o,s,l,!u)},e})(bn);pM.prototype.type="arc";var vM=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,n=this.shapeChanged(),r=0;r<t.length;r++)n=n||t[r].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],n=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(n[0],n[1],t[r].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,n){for(var r=n.paths||[],a=0;a<r.length;a++)r[a].buildPath(t,r[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),bn.prototype.getBoundingRect.call(this)},e})(bn),rZ=(function(){function i(e){this.colorStops=e||[]}return i.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},i})(),vm=(function(i){fe(e,i);function e(t,n,r,a,o,s){var l=i.call(this,o)||this;return l.x=t??0,l.y=n??0,l.x2=r??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return e})(rZ),Xk=(function(i){fe(e,i);function e(t,n,r,a,o){var s=i.call(this,a)||this;return s.x=t??.5,s.y=n??.5,s.r=r??.5,s.type="radial",s.global=o||!1,s}return e})(rZ),WP=Math.min,yve=Math.max,_A=Math.abs,$v=[0,0],Qv=[0,0],Ia=WY(),xA=Ia.minTv,SA=Ia.maxTv,aZ=(function(){function i(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new kt;for(var n=0;n<2;n++)this._axes[n]=new kt;e&&this.fromBoundingRect(e,t)}return i.prototype.fromBoundingRect=function(e,t){var n=this._corners,r=this._axes,a=e.x,o=e.y,s=a+e.width,l=o+e.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,l),n[3].set(a,l),t)for(var u=0;u<4;u++)n[u].transform(t);kt.sub(r[0],n[1],n[0]),kt.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize();for(var u=0;u<2;u++)this._origin[u]=r[u].dot(n[0])},i.prototype.intersect=function(e,t,n){var r=!0,a=!t;return t&&kt.set(t,0,0),Ia.reset(n,!a),!this._intersectCheckOneSide(this,e,a,1)&&(r=!1,a)||!this._intersectCheckOneSide(e,this,a,-1)&&(r=!1,a)||!a&&!Ia.negativeSize&&kt.copy(t,r?Ia.useDir?Ia.dirMinTv:xA:SA),r},i.prototype._intersectCheckOneSide=function(e,t,n,r){for(var a=!0,o=0;o<2;o++){var s=e._axes[o];if(e._getProjMinMaxOnAxis(o,e._corners,$v),e._getProjMinMaxOnAxis(o,t._corners,Qv),Ia.negativeSize||$v[1]<Qv[0]||$v[0]>Qv[1]){if(a=!1,Ia.negativeSize||n)return a;var l=_A(Qv[0]-$v[1]),u=_A($v[0]-Qv[1]);WP(l,u)>SA.len()&&(l<u?kt.scale(SA,s,-l*r):kt.scale(SA,s,u*r))}else if(!n){var l=_A(Qv[0]-$v[1]),u=_A($v[0]-Qv[1]);(Ia.useDir||WP(l,u)<xA.len())&&((l<u||!Ia.bidirectional)&&(kt.scale(xA,s,l*r),Ia.useDir&&Ia.calcDirMTV()),(l>=u||!Ia.bidirectional)&&(kt.scale(xA,s,-u*r),Ia.useDir&&Ia.calcDirMTV()))}}return a},i.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var r=this._axes[e],a=this._origin,o=t[0].dot(r)+a[e],s=o,l=o,u=1;u<t.length;u++){var c=t[u].dot(r)+a[e];s=WP(c,s),l=yve(c,l)}n[0]=s+Ia.touchThreshold,n[1]=l-Ia.touchThreshold,Ia.negativeSize=n[1]<n[0]},i})(),_ve=[],oZ=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,n){n?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,n){n=n||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var n=this._cursor;n<this._displayables.length;n++)t&&t(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)t&&t(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var n=this._displayables[t];n.parent=this,n.update(),n.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var n=this._temporaryDisplayables[t];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Ut(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var r=this._displayables[n],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(_ve)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(a.contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(t,n))return!0}return!1},e})(Kl),sZ=yn();function k_(i,e,t,n,r){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var s=e&&e.isAnimationEnabled(),l=i==="update";if(s){var u=void 0,c=void 0,f=void 0;n?(u=bt(n.duration,200),c=bt(n.easing,"cubicOut"),f=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),Ct(f)&&(f=f(t,r)),Ct(u)&&(u=u(t));var h={duration:u||0,delay:f,easing:c};return h}else return null}function Yk(i,e,t,n,r,a,o){var s=!1,l;Ct(r)?(o=a,a=r,r=null):zt(r)&&(a=r.cb,o=r.during,s=r.isFrom,l=r.removeOpt,r=r.dataIndex);var u=i==="leave";u||e.stopAnimation("leave");var c=k_(i,n,r,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,r):null);if(c&&c.duration>0){var f=c.duration,h=c.delay,p=c.easing,g={duration:f,delay:h||0,easing:p,done:a,force:!!a||!!o,setToFinal:!u,scope:i,during:o};s?e.animateFrom(t,g):e.animateTo(t,g)}else e.stopAnimation(),!s&&e.attr(t),o&&o(1),a&&a()}function Gn(i,e,t,n,r,a){Yk("update",i,e,t,n,r,a)}function Li(i,e,t,n,r,a){Yk("enter",i,e,t,n,r,a)}function Y0(i){if(!i.__zr)return!0;for(var e=0;e<i.animators.length;e++){var t=i.animators[e];if(t.scope==="leave")return!0}return!1}function Mp(i,e,t,n,r,a){Y0(i)||Yk("leave",i,e,t,n,r,a)}function rG(i,e,t,n){i.removeTextContent(),i.removeTextGuideLine(),Mp(i,{style:{opacity:0}},e,t,n)}function Th(i,e,t){function n(){i.parent&&i.parent.remove(i)}i.isGroup?i.traverse(function(r){r.isGroup||rG(r,e,t,n)}):rG(i,e,t,n)}function $l(i){sZ(i).oldStyle=i.style}function xve(i){return sZ(i).oldStyle}var WO={},Zt=["x","y"],Zr=["width","height"];function lZ(i){return bn.extend(i)}var Sve=tve;function uZ(i,e){return Sve(i,e)}function tu(i,e){WO[i]=e}function A1(i){if(WO.hasOwnProperty(i))return WO[i]}function p_(i,e,t,n){var r=tZ(i,e);return t&&(n==="center"&&(t=cZ(t,r.getBoundingRect())),Zk(r,t)),r}function qk(i,e,t){var n=new Ta({style:{image:i,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(r){if(t==="center"){var a={width:r.width,height:r.height};n.setStyle(cZ(e,a))}}});return n}function cZ(i,e){var t=e.width/e.height,n=i.height*t,r;n<=i.width?r=i.height:(n=i.width,r=n/t);var a=i.x+i.width/2,o=i.y+i.height/2;return{x:a-n/2,y:o-r/2,width:n,height:r}}var Xs=nve;function Zk(i,e){if(i.applyTransform){var t=i.getBoundingRect(),n=t.calculateTransform(e);i.applyTransform(n)}}function v_(i,e){return jR(i,i,{lineWidth:e}),i}function bve(i,e){return Uq(i,i,e),i}var DC=$s;function pp(i,e){for(var t=uM([]);i&&i!==e;)Uu(t,i.getLocalTransform(),t),i=i.parent;return t}function Vu(i,e,t){return e&&!to(e)&&(e=_h.getLocalTransform(e)),t&&(e=jl([],e)),xr([],i,e)}function QR(i,e,t){var n=e[4]===0||e[5]===0||e[0]===0?1:Zc(2*e[4]/e[0]),r=e[4]===0||e[5]===0||e[2]===0?1:Zc(2*e[4]/e[2]),a=[i==="left"?-n:i==="right"?n:0,i==="top"?-r:i==="bottom"?r:0];return a=Vu(a,e,t),Zc(a[0])>Zc(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function aG(i){return!i.isGroup}function Mve(i){return i.shape!=null}function gM(i,e,t){if(!i||!e)return;function n(o){var s={};return o.traverse(function(l){aG(l)&&l.anid&&(s[l.anid]=l)}),s}function r(o){var s={x:o.x,y:o.y,rotation:o.rotation};return Mve(o)&&(s.shape=Lt(o.shape)),s}var a=n(i);e.traverse(function(o){if(aG(o)&&o.anid){var s=a[o.anid];if(s){var l=r(o);o.attr(r(s)),Gn(o,l,t,Ht(o).dataIndex)}}})}function jk(i,e){return Ge(i,function(t){var n=t[0];n=Ir(n,e.x),n=el(n,e.x+e.width);var r=t[1];return r=Ir(r,e.y),r=el(r,e.y+e.height),[n,r]})}function fZ(i,e){var t=Ir(i.x,e.x),n=el(i.x+i.width,e.x+e.width),r=Ir(i.y,e.y),a=el(i.y+i.height,e.y+e.height);if(n>=t&&a>=r)return{x:t,y:r,width:n-t,height:a-r}}function U_(i,e,t){var n=Ce({rectHover:!0},e),r=n.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},i)return i.indexOf("image://")===0?(r.image=i.slice(8),Ot(r,t),new Ta(n)):p_(i.replace("path://",""),n,t,"center")}function wb(i,e,t,n,r){for(var a=0,o=r[r.length-1];a<r.length;a++){var s=r[a];if(hZ(i,e,t,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function hZ(i,e,t,n,r,a,o,s){var l=t-i,u=n-e,c=o-r,f=s-a,h=XP(c,f,l,u);if(Tve(h))return!1;var p=i-r,g=e-a,y=XP(p,g,l,u)/h;if(y<0||y>1)return!1;var _=XP(p,g,c,f)/h;return!(_<0||_>1)}function XP(i,e,t,n){return i*n-t*e}function Tve(i){return i<=1e-6&&i>=-1e-6}function rm(i,e,t,n,r){return e==null||(Pn(e)?Zi[0]=Zi[1]=Zi[2]=Zi[3]=e:(Zi[0]=e[0],Zi[1]=e[1],Zi[2]=e[2],Zi[3]=e[3]),n&&(Zi[0]=Ir(0,Zi[0]),Zi[1]=Ir(0,Zi[1]),Zi[2]=Ir(0,Zi[2]),Zi[3]=Ir(0,Zi[3])),t&&(Zi[0]=-Zi[0],Zi[1]=-Zi[1],Zi[2]=-Zi[2],Zi[3]=-Zi[3]),oG(i,Zi,"x","width",3,1,r&&r[0]||0),oG(i,Zi,"y","height",0,2,r&&r[1]||0)),i}var Zi=[0,0,0,0];function oG(i,e,t,n,r,a,o){var s=e[a]+e[r],l=i[n];i[n]+=s,o=Ir(0,el(o,l)),i[n]<o?(i[n]=o,i[t]+=e[r]>=0?-e[r]:e[a]>=0?l+e[a]:Zc(s)>1e-8?(l-o)*e[r]/s:0):i[t]-=e[r]}function Uh(i){var e=i.itemTooltipOption,t=i.componentModel,n=i.itemName,r=rt(e)?{formatter:e}:e,a=t.mainType,o=t.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var l=i.formatterParamsExtra;l&&H(An(l),function(c){gt(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=Ht(i.el);u.componentMainType=a,u.componentIndex=o,u.tooltipConfig={name:n,option:Ot({content:n,encodeHTMLContent:!0,formatterParams:s},r)}}function XO(i,e){var t;i.isGroup&&(t=e(i)),t||i.traverse(e)}function Pp(i,e){if(i)if(ze(i))for(var t=0;t<i.length;t++)XO(i[t],e);else XO(i,e)}function Kk(i){return!i||Zc(i[1])<bA&&Zc(i[2])<bA||Zc(i[0])<bA&&Zc(i[3])<bA}var bA=1e-5;function C1(i,e){return i?Ut.copy(i,e):e.clone()}function $k(i,e){return e?cM(i||_a(),e):void 0}function am(i){return{z:i.get("z")||0,zlevel:i.get("zlevel")||0}}function dZ(i){var e=-1/0,t=1/0;XO(i,function(a){n(a),n(a.getTextContent()),n(a.getTextGuideLine())});function n(a){if(!(!a||a.isGroup)){var o=a.currentStates;if(o.length)for(var s=0;s<o.length;s++)r(a.states[o[s]]);r(a)}}function r(a){if(a){var o=a.z2;o>e&&(e=o),o<t&&(t=o)}}return t>e&&(t=e=0),{min:t,max:e}}function JR(i,e,t){pZ(i,e,t,-1/0)}function pZ(i,e,t,n){if(i.ignoreModelZ)return n;var r=i.getTextContent(),a=i.getTextGuideLine(),o=i.isGroup;if(o)for(var s=i.childrenRef(),l=0;l<s.length;l++)n=Ir(pZ(s[l],e,t,n),n);else i.z=e,i.zlevel=t,n=Ir(i.z2||0,n);if(r&&(r.z=e,r.zlevel=t,isFinite(n)&&(r.z2=n+2)),a){var u=i.textGuideLineConfig;a.z=e,a.zlevel=t,isFinite(n)&&(a.z2=n+(u&&u.showAbove?1:-1))}return n}tu("circle",mf);tu("ellipse",dM);tu("sector",io);tu("ring",z_);tu("polygon",ro);tu("polyline",Ba);tu("rect",dn);tu("line",Nr);tu("bezierCurve",B_);tu("arc",pM);const gm=Object.freeze(Object.defineProperty({__proto__:null,Arc:pM,BezierCurve:B_,BoundingRect:Ut,Circle:mf,CompoundPath:vM,Ellipse:dM,Group:It,Image:Ta,IncrementalDisplayable:oZ,Line:Nr,LinearGradient:vm,OrientedBoundingRect:aZ,Path:bn,Point:kt,Polygon:ro,Polyline:Ba,RadialGradient:Xk,Rect:dn,Ring:z_,Sector:io,Text:In,WH:Zr,XY:Zt,applyTransform:Vu,calcZ2Range:dZ,clipPointsByRect:jk,clipRectByRect:fZ,createIcon:U_,ensureCopyRect:C1,ensureCopyTransform:$k,expandOrShrinkRect:rm,extendPath:uZ,extendShape:lZ,getShapeClass:A1,getTransform:pp,groupTransition:gM,initProps:Li,isBoundingRectAxisAligned:Kk,isElementRemoved:Y0,lineLineIntersect:hZ,linePolygonIntersect:wb,makeImage:qk,makePath:p_,mergePath:Xs,registerShape:tu,removeElement:Mp,removeElementWithFadeOut:Th,resizePath:Zk,retrieveZInfo:am,setTooltipConfig:Uh,subPixelOptimize:DC,subPixelOptimizeLine:v_,subPixelOptimizeRect:bve,transformDirection:QR,traverseElements:Pp,traverseUpdateZ:JR,updateProps:Gn},Symbol.toStringTag,{value:"Module"}));var eL={};function vZ(i,e){for(var t=0;t<ts.length;t++){var n=ts[t],r=e[n],a=i.ensureState(n);a.style=a.style||{},a.style.text=r}var o=i.currentStates.slice();i.clearStates(!0),i.setStyle({text:e.normal}),i.useStates(o,!0)}function YO(i,e,t){var n=i.labelFetcher,r=i.labelDataIndex,a=i.labelDimIndex,o=e.normal,s;n&&(s=n.getFormattedLabel(r,"normal",null,a,o&&o.get("formatter"),t!=null?{interpolatedValue:t}:null)),s==null&&(s=Ct(i.defaultText)?i.defaultText(r,i,t):i.defaultText);for(var l={normal:s},u=0;u<ts.length;u++){var c=ts[u],f=e[c];l[c]=bt(n?n.getFormattedLabel(r,c,null,a,f&&f.get("formatter")):null,s)}return l}function Ma(i,e,t,n){t=t||eL;for(var r=i instanceof In,a=!1,o=0;o<T1.length;o++){var s=e[T1[o]];if(s&&s.getShallow("show")){a=!0;break}}var l=r?i:i.getTextContent();if(a){r||(l||(l=new In,i.setTextContent(l)),i.stateProxy&&(l.stateProxy=i.stateProxy));var u=YO(t,e),c=e.normal,f=!!c.getShallow("show"),h=Si(c,n&&n.normal,t,!1,!r);h.text=u.normal,r||i.setTextConfig(nD(c,t,!1));for(var o=0;o<ts.length;o++){var p=ts[o],s=e[p];if(s){var g=l.ensureState(p),y=!!bt(s.getShallow("show"),f);if(y!==f&&(g.ignore=!y),g.style=Si(s,n&&n[p],t,!0,!r),g.style.text=u[p],!r){var _=i.ensureState(p);_.textConfig=nD(s,t,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!f,l.useStyle(h),l.dirty(),t.enableTextSetter&&(F_(l).setLabelText=function(x){var M=YO(t,e,x);vZ(l,M)})}else l&&(l.ignore=!0);i.dirty()}function ua(i,e){e=e||"label";for(var t={normal:i.getModel(e)},n=0;n<ts.length;n++){var r=ts[n];t[r]=i.getModel([r,e])}return t}function Si(i,e,t,n,r){var a={};return wve(a,i,t,n,r),e&&Ce(a,e),a}function nD(i,e,t){e=e||{};var n={},r,a=i.getShallow("rotate"),o=bt(i.getShallow("distance"),t?null:5),s=i.getShallow("offset");return r=i.getShallow("position")||(t?null:"inside"),r==="outside"&&(r=e.defaultOutsidePosition||"top"),r!=null&&(n.position=r),s!=null&&(n.offset=s),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=i.get("color")==="inherit"?e.inheritColor||null:"auto",e.autoOverflowArea!=null&&(n.autoOverflowArea=e.autoOverflowArea),e.layoutRect!=null&&(n.layoutRect=e.layoutRect),n}function wve(i,e,t,n,r){t=t||eL;var a=e.ecModel,o=a&&a.option.textStyle,s=Ave(e),l;if(s){l={};var u="richInheritPlainLabel",c=bt(e.get(u),a?a.get(u):void 0);for(var f in s)if(s.hasOwnProperty(f)){var h=e.getModel(["rich",f]);cG(l[f]={},h,o,e,c,t,n,r,!1,!0)}}l&&(i.rich=l);var p=e.get("overflow");p&&(i.overflow=p);var g=e.get("lineOverflow");g&&(i.lineOverflow=g);var y=i,_=e.get("minMargin");if(_!=null)_=Pn(_)?_/2:0,y.margin=[_,_,_,_],y.__marginType=O0.minMargin;else{var x=e.get("textMargin");x!=null&&(y.margin=sM(x),y.__marginType=O0.textMargin)}cG(i,e,o,null,null,t,n,r,!0,!1)}function Ave(i){for(var e;i&&i!==i.ecModel;){var t=(i.option||eL).rich;if(t){e=e||{};for(var n=An(t),r=0;r<n.length;r++){var a=n[r];e[a]=1}}i=i.parentModel}return e}var sG=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],lG=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],uG=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function cG(i,e,t,n,r,a,o,s,l,u){t=!o&&t||eL;var c=a&&a.inheritColor,f=e.getShallow("color"),h=e.getShallow("textBorderColor"),p=bt(e.getShallow("opacity"),t.opacity);(f==="inherit"||f==="auto")&&(c?f=c:f=null),(h==="inherit"||h==="auto")&&(c?h=c:h=null),s||(f=f||t.color,h=h||t.textBorderColor),f!=null&&(i.fill=f),h!=null&&(i.stroke=h);var g=bt(e.getShallow("textBorderWidth"),t.textBorderWidth);g!=null&&(i.lineWidth=g);var y=bt(e.getShallow("textBorderType"),t.textBorderType);y!=null&&(i.lineDash=y);var _=bt(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);_!=null&&(i.lineDashOffset=_),!o&&p==null&&!u&&(p=a&&a.defaultOpacity),p!=null&&(i.opacity=p),!o&&!s&&i.fill==null&&a.inheritColor&&(i.fill=a.inheritColor);for(var x=0;x<sG.length;x++){var M=sG[x],T=r!==!1&&n?Ds(e.getShallow(M),n.getShallow(M),t[M]):bt(e.getShallow(M),t[M]);T!=null&&(i[M]=T)}for(var x=0;x<lG.length;x++){var M=lG[x],T=e.getShallow(M);T!=null&&(i[M]=T)}if(i.verticalAlign==null){var C=e.getShallow("baseline");C!=null&&(i.verticalAlign=C)}if(!l||!a.disableBox){for(var x=0;x<uG.length;x++){var M=uG[x],T=e.getShallow(M);T!=null&&(i[M]=T)}var E=e.getShallow("borderType");E!=null&&(i.borderDash=E),(i.backgroundColor==="auto"||i.backgroundColor==="inherit")&&c&&(i.backgroundColor=c),(i.borderColor==="auto"||i.borderColor==="inherit")&&c&&(i.borderColor=c)}}function Qk(i,e){var t=e&&e.getModel("textStyle");return Zs([i.fontStyle||t&&t.getShallow("fontStyle")||"",i.fontWeight||t&&t.getShallow("fontWeight")||"",(i.fontSize||t&&t.getShallow("fontSize")||12)+"px",i.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var F_=yn();function gZ(i,e,t,n){if(i){var r=F_(i);r.prevValue=r.value,r.value=t;var a=e.normal;r.valueAnimation=a.get("valueAnimation"),r.valueAnimation&&(r.precision=a.get("precision"),r.defaultInterpolatedText=n,r.statesModels=e)}}function mZ(i,e,t,n,r){var a=F_(i);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,s=bt(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=Dq(t,a.precision,s,l,c);a.interpolatedValue=c===1?null:f;var h=YO({labelDataIndex:e,labelFetcher:r,defaultText:o?o(f):f+""},a.statesModels,f);vZ(i,h)}i.percent=0,(a.prevValue==null?Li:Gn)(i,{percent:1},n,e,null,u)}var O0={minMargin:1,textMargin:2},Cve=["textStyle","color"],YP=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],qP=new In,Eve=(function(){function i(){}return i.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(Cve):null)},i.prototype.getFont=function(){return Qk({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},i.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<YP.length;n++)t[YP[n]]=this.getShallow(YP[n]);return qP.useStyle(t),qP.update(),qP.getBoundingRect()},i})(),yZ=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Dve=nm(yZ),Rve=(function(){function i(){}return i.prototype.getLineStyle=function(e){return Dve(this,e)},i})(),_Z=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Lve=nm(_Z),Ive=(function(){function i(){}return i.prototype.getItemStyle=function(e,t){return Lve(this,e,t)},i})(),Sn=(function(){function i(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return i.prototype.init=function(e,t,n){},i.prototype.mergeOption=function(e,t){nn(this.option,e,!0)},i.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},i.prototype.getShallow=function(e,t){var n=this.option,r=n==null?n:n[e];if(r==null&&!t){var a=this.parentModel;a&&(r=a.getShallow(e))}return r},i.prototype.getModel=function(e,t){var n=e!=null,r=n?this.parsePath(e):null,a=n?this._doGet(r):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),new i(a,t,this.ecModel)},i.prototype.isEmpty=function(){return this.option==null},i.prototype.restoreData=function(){},i.prototype.clone=function(){var e=this.constructor;return new e(Lt(this.option))},i.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},i.prototype.resolveParentPath=function(e){return e},i.prototype.isAnimationEnabled=function(){if(!Tn.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},i.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var r=0;r<e.length&&!(e[r]&&(n=n&&typeof n=="object"?n[e[r]]:null,n==null));r++);return n==null&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},i})();Ok(Sn);Hde(Sn);Sr(Sn,Rve);Sr(Sn,Ive);Sr(Sn,Zde);Sr(Sn,Eve);var Pve=Math.round(Math.random()*10);function V_(i){return[i||"",Pve++].join("_")}function Nve(i){var e={};i.registerSubTypeDefaulter=function(t,n){var r=jc(t);e[r.main]=n},i.determineSubType=function(t,n){var r=n.type;if(!r){var a=jc(t).main;i.hasSubTypes(t)&&e[a]&&(r=e[a](n))}return r}}function Ove(i,e){i.topologicalTravel=function(a,o,s,l){if(!a.length)return;var u=t(o),c=u.graph,f=u.noEntryList,h={};for(H(a,function(M){h[M]=!0});f.length;){var p=f.pop(),g=c[p],y=!!h[p];y&&(s.call(l,p,g.originalDeps.slice()),delete h[p]),H(g.successor,y?x:_)}H(h,function(){var M="";throw new Error(M)});function _(M){c[M].entryCount--,c[M].entryCount===0&&f.push(M)}function x(M){h[M]=!0,_(M)}};function t(a){var o={},s=[];return H(a,function(l){var u=n(o,l),c=u.originalDeps=e(l),f=r(c,a);u.entryCount=f.length,u.entryCount===0&&s.push(l),H(f,function(h){en(u.predecessor,h)<0&&u.predecessor.push(h);var p=n(o,h);en(p.successor,h)<0&&p.successor.push(l)})}),{graph:o,noEntryList:s}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function r(a,o){var s=[];return H(a,function(l){en(o,l)>=0&&s.push(l)}),s}}function Np(i,e){return nn(nn({},i,!0),e,!0)}const zve={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Bve={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var iD="ZH",Jk="EN",q0=Jk,RC={},eU={},xZ=Tn.domSupported?(function(){var i=(document.documentElement.lang||navigator.language||navigator.browserLanguage||q0).toUpperCase();return i.indexOf(iD)>-1?iD:q0})():q0;function tU(i,e){i=i.toUpperCase(),eU[i]=new Sn(e),RC[i]=e}function kve(i){if(rt(i)){var e=RC[i.toUpperCase()]||{};return i===iD||i===Jk?Lt(e):nn(Lt(e),Lt(RC[q0]),!1)}else return nn(Lt(i),Lt(RC[q0]),!1)}function qO(i){return eU[i]}function Uve(){return eU[q0]}tU(Jk,zve);tU(iD,Bve);var ZO=null;function Fve(i){ZO||(ZO=i)}function qr(){return ZO}var nU=1e3,iU=nU*60,Qb=iU*60,Vl=Qb*24,fG=Vl*365,Vve={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},LC={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},Gve="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",MA="{yyyy}-{MM}-{dd}",hG={year:"{yyyy}",month:"{yyyy}-{MM}",day:MA,hour:MA+" "+LC.hour,minute:MA+" "+LC.minute,second:MA+" "+LC.second,millisecond:Gve},Vs=["year","month","day","hour","minute","second","millisecond"],Hve=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Wve(i){return!rt(i)&&!Ct(i)?Xve(i):i}function Xve(i){i=i||{};var e={},t=!0;return H(Vs,function(n){t&&(t=i[n]==null)}),H(Vs,function(n,r){var a=i[n];e[n]={};for(var o=null,s=r;s>=0;s--){var l=Vs[s],u=zt(a)&&!ze(a)?a[l]:a,c=void 0;ze(u)?(c=u.slice(),o=c[0]||""):rt(u)?(o=u,c=[o]):(o==null?o=LC[n]:Vve[l].test(o)||(o=e[l][l][0]+" "+o),c=[o],t&&(c[1]="{primary|"+o+"}")),e[n][l]=c}}),e}function Yo(i,e){return i+="","0000".substr(0,e-i.length)+i}function Jb(i){switch(i){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return i}}function Yve(i){return i===Jb(i)}function qve(i){switch(i){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function mM(i,e,t,n){var r=gf(i),a=r[SZ(t)](),o=r[rU(t)]()+1,s=Math.floor((o-1)/3)+1,l=r[aU(t)](),u=r["get"+(t?"UTC":"")+"Day"](),c=r[oU(t)](),f=(c-1)%12+1,h=r[sU(t)](),p=r[lU(t)](),g=r[uU(t)](),y=c>=12?"pm":"am",_=y.toUpperCase(),x=n instanceof Sn?n:qO(n||xZ)||Uve(),M=x.getModel("time"),T=M.get("month"),C=M.get("monthAbbr"),E=M.get("dayOfWeek"),D=M.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,y+"").replace(/{A}/g,_+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Yo(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,T[o-1]).replace(/{MMM}/g,C[o-1]).replace(/{MM}/g,Yo(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Yo(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,E[u]).replace(/{ee}/g,D[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Yo(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Yo(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Yo(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,Yo(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,Yo(g,3)).replace(/{S}/g,g+"")}function Zve(i,e,t,n,r){var a=null;if(rt(t))a=t;else if(Ct(t)){var o={time:i.time,level:i.time.level},s=qr();s&&s.makeAxisLabelFormatterParamBreak(o,i.break),a=t(i.value,e,o)}else{var l=i.time;if(l){var u=t[l.lowerTimeUnit][l.upperTimeUnit];a=u[Math.min(l.level,u.length-1)]||""}else{var c=z0(i.value,r);a=t[c][c][0]}}return mM(new Date(i.value),a,r,n)}function z0(i,e){var t=gf(i),n=t[rU(e)]()+1,r=t[aU(e)](),a=t[oU(e)](),o=t[sU(e)](),s=t[lU(e)](),l=t[uU(e)](),u=l===0,c=u&&s===0,f=c&&o===0,h=f&&a===0,p=h&&r===1,g=p&&n===1;return g?"year":p?"month":h?"day":f?"hour":c?"minute":u?"second":"millisecond"}function rD(i,e,t){switch(e){case"year":i[bZ(t)](0);case"month":i[MZ(t)](1);case"day":i[TZ(t)](0);case"hour":i[wZ(t)](0);case"minute":i[AZ(t)](0);case"second":i[CZ(t)](0)}return i}function SZ(i){return i?"getUTCFullYear":"getFullYear"}function rU(i){return i?"getUTCMonth":"getMonth"}function aU(i){return i?"getUTCDate":"getDate"}function oU(i){return i?"getUTCHours":"getHours"}function sU(i){return i?"getUTCMinutes":"getMinutes"}function lU(i){return i?"getUTCSeconds":"getSeconds"}function uU(i){return i?"getUTCMilliseconds":"getMilliseconds"}function jve(i){return i?"setUTCFullYear":"setFullYear"}function bZ(i){return i?"setUTCMonth":"setMonth"}function MZ(i){return i?"setUTCDate":"setDate"}function TZ(i){return i?"setUTCHours":"setHours"}function wZ(i){return i?"setUTCMinutes":"setMinutes"}function AZ(i){return i?"setUTCSeconds":"setSeconds"}function CZ(i){return i?"setUTCMilliseconds":"setMilliseconds"}function Kve(i,e,t,n,r,a,o,s){var l=new In({style:{text:i,font:e,align:t,verticalAlign:n,padding:r,rich:a,overflow:o?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function cU(i){if(!Ik(i))return rt(i)?i:"-";var e=(i+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function fU(i,e){return i=(i||"").toLowerCase().replace(/-(.)/g,function(t,n){return n.toUpperCase()}),e&&i&&(i=i.charAt(0).toUpperCase()+i.slice(1)),i}var G_=sM;function jO(i,e,t){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function r(c){return c&&Zs(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=e==="time",s=i instanceof Date;if(o||s){var l=o?gf(i):i;if(isNaN(+l)){if(s)return"-"}else return mM(l,n,t)}if(e==="ordinal")return kE(i)?r(i):Pn(i)&&a(i)?i+"":"-";var u=cf(i);return a(u)?cU(u):kE(i)?r(i):typeof i=="boolean"?i+"":"-"}var dG=["a","b","c","d","e","f","g"],ZP=function(i,e){return"{"+i+(e??"")+"}"};function hU(i,e,t){ze(e)||(e=[e]);var n=e.length;if(!n)return"";for(var r=e[0].$vars||[],a=0;a<r.length;a++){var o=dG[a];i=i.replace(ZP(o),ZP(o,0))}for(var s=0;s<n;s++)for(var l=0;l<r.length;l++){var u=e[s][r[l]];i=i.replace(ZP(dG[l],s),t?Mo(u):u)}return i}function $ve(i,e,t){return H(e,function(n,r){i=i.replace("{"+r+"}",n)}),i}function EZ(i,e){var t=rt(i)?{color:i,extraCssText:e}:i||{},n=t.color,r=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!n)return"";if(a==="html")return r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Mo(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Mo(n)+";"+(e||"")+'"></span>';var o=t.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Qve(i,e,t){(i==="week"||i==="month"||i==="quarter"||i==="half-year"||i==="year")&&(i=`MM-dd
yyyy`);var n=gf(e),r=t?"getUTC":"get",a=n[r+"FullYear"](),o=n[r+"Month"]()+1,s=n[r+"Date"](),l=n[r+"Hours"](),u=n[r+"Minutes"](),c=n[r+"Seconds"](),f=n[r+"Milliseconds"]();return i=i.replace("MM",Yo(o,2)).replace("M",o).replace("yyyy",a).replace("yy",Yo(a%100+"",2)).replace("dd",Yo(s,2)).replace("d",s).replace("hh",Yo(l,2)).replace("h",l).replace("mm",Yo(u,2)).replace("m",u).replace("ss",Yo(c,2)).replace("s",c).replace("SSS",Yo(f,3)),i}function Jve(i){return i&&i.charAt(0).toUpperCase()+i.substr(1)}function om(i,e){return e=e||"transparent",rt(i)?i:zt(i)&&i.colorStops&&(i.colorStops[0]||{}).color||e}function aD(i,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=i}else window.open(i,e)}var IC={},jP={},H_=(function(){function i(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return i.prototype.create=function(e,t){this._nonSeriesBoxMasterList=n(IC),this._normalMasterList=n(jP);function n(r,a){var o=[];return H(r,function(s,l){var u=s.create(e,t);o=o.concat(u||[])}),o}},i.prototype.update=function(e,t){H(this._normalMasterList,function(n){n.update&&n.update(e,t)})},i.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},i.register=function(e,t){if(e==="matrix"||e==="calendar"){IC[e]=t;return}jP[e]=t},i.get=function(e){return jP[e]||IC[e]},i})();function ege(i){return!!IC[i]}var KO={coord:1,coord2:2};function tge(i){DZ.set(i.fullType,{getCoord2:void 0}).getCoord2=i.getCoord2}var DZ=St();function nge(i){var e=i.getShallow("coord",!0),t=KO.coord;if(e==null){var n=DZ.get(i.type);n&&n.getCoord2&&(t=KO.coord2,e=n.getCoord2(i))}return{coord:e,from:t}}var Xc={none:0,dataCoordSys:1,boxCoordSys:2};function RZ(i,e){var t=i.getShallow("coordinateSystem"),n=i.getShallow("coordinateSystemUsage",!0),r=Xc.none;if(t){var a=i.mainType==="series";n==null&&(n=a?"data":"box"),n==="data"?(r=Xc.dataCoordSys,a||(r=Xc.none)):n==="box"&&(r=Xc.boxCoordSys,!a&&!ege(t)&&(r=Xc.none))}return{coordSysType:t,kind:r}}function yM(i){var e=i.targetModel,t=i.coordSysType,n=i.coordSysProvider,r=i.isDefaultDataCoordSys;i.allowNotFound;var a=RZ(e),o=a.kind,s=a.coordSysType;if(r&&o!==Xc.dataCoordSys&&(o=Xc.dataCoordSys,s=t),o===Xc.none||s!==t)return!1;var l=n(t,e);return l?(o===Xc.dataCoordSys?e.coordinateSystem=l:e.boxCoordinateSystem=l,!0):!1}var LZ=function(i,e){var t=e.getReferringComponents(i,lr).models[0];return t&&t.coordinateSystem},PC=H,IZ=["left","right","top","bottom","width","height"],Lg=[["width","left","right"],["height","top","bottom"]];function dU(i,e,t,n,r){var a=0,o=0;n==null&&(n=1/0),r==null&&(r=1/0);var s=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),f=e.childAt(u+1),h=f&&f.getBoundingRect(),p,g;if(i==="horizontal"){var y=c.width+(h?-h.x+c.x:0);p=a+y,p>n||l.newline?(a=0,p=y,o+=s+t,s=c.height):s=Math.max(s,c.height)}else{var _=c.height+(h?-h.y+c.y:0);g=o+_,g>r||l.newline?(a+=s+t,o=0,g=_,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),i==="horizontal"?a=p+t:o=g+t)})}var Vg=dU;Qt(dU,"vertical");Qt(dU,"horizontal");function PZ(i,e){return{left:i.getShallow("left",e),top:i.getShallow("top",e),right:i.getShallow("right",e),bottom:i.getShallow("bottom",e),width:i.getShallow("width",e),height:i.getShallow("height",e)}}function ige(i,e){var t=ca(i,e,{enableLayoutOnlyByCenter:!0}),n=i.getBoxLayoutParams(),r,a;if(t.type===Ab.point)a=t.refPoint,r=Ui(n,{width:e.getWidth(),height:e.getHeight()});else{var o=i.get("center"),s=ze(o)?o:[o,o];r=Ui(n,t.refContainer),a=t.boxCoordFrom===KO.coord2?t.refPoint:[it(s[0],r.width)+r.x,it(s[1],r.height)+r.y]}return{viewRect:r,center:a}}function NZ(i,e){var t=ige(i,e),n=t.viewRect,r=t.center,a=i.get("radius");ze(a)||(a=[0,a]);var o=it(n.width,e.getWidth()),s=it(n.height,e.getHeight()),l=Math.min(o,s),u=it(a[0],l/2),c=it(a[1],l/2);return{cx:r[0],cy:r[1],r0:u,r:c,viewRect:n}}function Ui(i,e,t){t=G_(t||0);var n=e.width,r=e.height,a=it(i.left,n),o=it(i.top,r),s=it(i.right,n),l=it(i.bottom,r),u=it(i.width,n),c=it(i.height,r),f=t[2]+t[0],h=t[1]+t[3],p=i.aspect;switch(isNaN(u)&&(u=n-s-h-a),isNaN(c)&&(c=r-l-f-o),p!=null&&(isNaN(u)&&isNaN(c)&&(p>n/r?u=n*.8:c=r*.8),isNaN(u)&&(u=p*c),isNaN(c)&&(c=u/p)),isNaN(a)&&(a=n-s-u-h),isNaN(o)&&(o=r-l-c-f),i.left||i.right){case"center":a=n/2-u/2-t[3];break;case"right":a=n-u-h;break}switch(i.top||i.bottom){case"middle":case"center":o=r/2-c/2-t[0];break;case"bottom":o=r-c-f;break}a=a||0,o=o||0,isNaN(u)&&(u=n-h-a-(s||0)),isNaN(c)&&(c=r-f-o-(l||0));var g=new Ut((e.x||0)+a+t[3],(e.y||0)+o+t[0],u,c);return g.margin=t,g}function OZ(i,e,t){var n=i.getShallow("preserveAspect",!0);if(!n)return e;var r=e.width/e.height;if(Math.abs(Math.atan(t)-Math.atan(r))<1e-9)return e;var a=i.getShallow("preserveAspectAlign",!0),o=i.getShallow("preserveAspectVerticalAlign",!0),s={width:e.width,height:e.height},l=n==="cover";return r>t&&!l||r<t&&l?(s.width=e.height*t,a==="left"?s.left=0:a==="right"?s.right=0:s.left="center"):(s.height=e.width/t,o==="top"?s.top=0:o==="bottom"?s.bottom=0:s.top="middle"),Ui(s,e)}var Ab={rect:1,point:2};function ca(i,e,t){var n,r,a,o=i.boxCoordinateSystem,s;if(o){var l=nge(i),u=l.coord,c=l.from;if(o.dataToLayout){a=Ab.rect,s=c;var f=o.dataToLayout(u);n=f.contentRect||f.rect}else t&&t.enableLayoutOnlyByCenter&&o.dataToPoint&&(a=Ab.point,s=c,r=o.dataToPoint(u))}return a==null&&(a=Ab.rect),a===Ab.rect&&(n||(n={x:0,y:0,width:e.getWidth(),height:e.getHeight()}),r=[n.x+n.width/2,n.y+n.height/2]),{type:a,refContainer:n,refPoint:r,boxCoordFrom:s}}function tL(i,e,t,n,r,a){var o=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if(a=a||i,a.x=i.x,a.y=i.y,!o&&!s)return!1;var u;if(l==="raw")u=i.type==="group"?new Ut(0,0,+e.width||0,+e.height||0):i.getBoundingRect();else if(u=i.getBoundingRect(),i.needLocalTransform()){var c=i.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=Ui(Ot({width:u.width,height:u.height},e),t,n),h=o?f.x-u.x:0,p=s?f.y-u.y:0;return l==="raw"?(a.x=h,a.y=p):(a.x+=h,a.y+=p),a===i&&i.markRedraw(),!0}function rge(i,e){return i[Lg[e][0]]!=null||i[Lg[e][1]]!=null&&i[Lg[e][2]]!=null}function E1(i){var e=i.layoutMode||i.constructor.layoutMode;return zt(e)?e:e?{type:e}:null}function hf(i,e,t){var n=t&&t.ignoreSize;!ze(n)&&(n=[n,n]);var r=o(Lg[0],0),a=o(Lg[1],1);l(Lg[0],i,r),l(Lg[1],i,a);function o(u,c){var f={},h=0,p={},g=0,y=2;if(PC(u,function(M){p[M]=i[M]}),PC(u,function(M){gt(e,M)&&(f[M]=p[M]=e[M]),s(f,M)&&h++,s(p,M)&&g++}),n[c])return s(e,u[1])?p[u[2]]=null:s(e,u[2])&&(p[u[1]]=null),p;if(g===y||!h)return p;if(h>=y)return f;for(var _=0;_<u.length;_++){var x=u[_];if(!gt(f,x)&&gt(i,x)){f[x]=i[x];break}}return f}function s(u,c){return u[c]!=null&&u[c]!=="auto"}function l(u,c,f){PC(u,function(h){c[h]=f[h]})}}function mm(i){return zZ({},i)}function zZ(i,e){return e&&i&&PC(IZ,function(t){gt(e,t)&&(i[t]=e[t])}),i}var age=yn(),mn=(function(i){fe(e,i);function e(t,n,r){var a=i.call(this,t,n,r)||this;return a.uid=V_("ec_cpt_model"),a}return e.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r)},e.prototype.mergeDefaultAndTheme=function(t,n){var r=E1(this),a=r?mm(t):{},o=n.getTheme();nn(t,o.get(this.mainType)),nn(t,this.getDefaultOption()),r&&hf(t,a,r)},e.prototype.mergeOption=function(t,n){nn(this.option,t,!0);var r=E1(this);r&&hf(this.option,t,r)},e.prototype.optionUpdated=function(t,n){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!Fde(t))return t.defaultOption;var n=age(this);if(!n.defaultOption){for(var r=[],a=t;a;){var o=a.prototype.defaultOption;o&&r.push(o),a=a.superClass}for(var s={},l=r.length-1;l>=0;l--)s=nn(s,r[l],!0);n.defaultOption=s}return n.defaultOption},e.prototype.getReferringComponents=function(t,n){var r=t+"Index",a=t+"Id";return N_(this.ecModel,t,{index:this.get(r,!0),id:this.get(a,!0)},n)},e.prototype.getBoxLayoutParams=function(){return PZ(this,!1)},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=(function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0})(),e})(Sn);Lq(mn,Sn);WR(mn);Nve(mn);Ove(mn,oge);function oge(i){var e=[];return H(mn.getClassesByMainType(i),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=Ge(e,function(t){return jc(t).main}),i!=="dataset"&&en(e,"dataset")<=0&&e.unshift("dataset"),e}var ge={color:{},darkColor:{},size:{}},Dr=ge.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};Ce(Dr,{primary:Dr.neutral80,secondary:Dr.neutral70,tertiary:Dr.neutral60,quaternary:Dr.neutral50,disabled:Dr.neutral20,border:Dr.neutral30,borderTint:Dr.neutral20,borderShade:Dr.neutral40,background:Dr.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:Dr.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:Dr.neutral70,axisLineTint:Dr.neutral40,axisTick:Dr.neutral70,axisTickMinor:Dr.neutral60,axisLabel:Dr.neutral70,axisSplitLine:Dr.neutral15,axisMinorSplitLine:Dr.neutral05});for(var Jv in Dr)if(Dr.hasOwnProperty(Jv)){var pG=Dr[Jv];Jv==="theme"?ge.darkColor.theme=Dr.theme.slice():Jv==="highlight"?ge.darkColor.highlight="rgba(255,231,130,0.4)":Jv.indexOf("accent")===0?ge.darkColor[Jv]=Mh(pG,null,function(i){return i*.5},function(i){return Math.min(1,1.3-i)}):ge.darkColor[Jv]=Mh(pG,null,function(i){return i*.9},function(i){return 1-Math.pow(i,1.5)})}ge.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var BZ="";typeof navigator<"u"&&(BZ=navigator.platform||"");var o0="rgba(0, 0, 0, 0.2)",kZ=ge.color.theme[0],sge=Mh(kZ,null,null,.9);const lge={darkMode:"auto",colorBy:"series",color:ge.color.theme,gradientColor:[sge,kZ],aria:{decal:{decals:[{color:o0,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:o0,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:o0,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:o0,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:o0,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:o0,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:BZ.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var UZ=St(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),nl="original",ka="arrayRows",il="objectRows",ju="keyedColumns",vp="typedArray",FZ="unknown",Gu="column",ym="row",Ka={Must:1,Might:2,Not:3},VZ=yn();function uge(i){VZ(i).datasetMap=St()}function GZ(i,e,t){var n={},r=vU(e);if(!r||!i)return n;var a=[],o=[],s=e.ecModel,l=VZ(s).datasetMap,u=r.uid+"_"+t.seriesLayoutBy,c,f;i=i.slice(),H(i,function(y,_){var x=zt(y)?y:i[_]={name:y};x.type==="ordinal"&&c==null&&(c=_,f=g(x)),n[x.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});H(i,function(y,_){var x=y.name,M=g(y);if(c==null){var T=h.valueWayDim;p(n[x],T,M),p(o,T,M),h.valueWayDim+=M}else if(c===_)p(n[x],0,M),p(a,0,M);else{var T=h.categoryWayDim;p(n[x],T,M),p(o,T,M),h.categoryWayDim+=M}});function p(y,_,x){for(var M=0;M<x;M++)y.push(_+M)}function g(y){var _=y.dimsDef;return _?_.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function pU(i,e,t){var n={},r=vU(i);if(!r)return n;var a=e.sourceFormat,o=e.dimensionsDefine,s;(a===il||a===ju)&&H(o,function(c,f){(zt(c)?c.name:c)==="name"&&(s=f)});var l=(function(){for(var c={},f={},h=[],p=0,g=Math.min(5,t);p<g;p++){var y=WZ(e.data,a,e.seriesLayoutBy,o,e.startIndex,p);h.push(y);var _=y===Ka.Not;if(_&&c.v==null&&p!==s&&(c.v=p),(c.n==null||c.n===c.v||!_&&h[c.n]===Ka.Not)&&(c.n=p),x(c)&&h[c.n]!==Ka.Not)return c;_||(y===Ka.Might&&f.v==null&&p!==s&&(f.v=p),(f.n==null||f.n===f.v)&&(f.n=p))}function x(M){return M.v!=null&&M.n!=null}return x(c)?c:x(f)?f:null})();if(l){n.value=[l.v];var u=s??l.n;n.itemName=[u],n.seriesName=[u]}return n}function vU(i){var e=i.get("data",!0);if(!e)return N_(i.ecModel,"dataset",{index:i.get("datasetIndex",!0),id:i.get("datasetId",!0)},lr).models[0]}function cge(i){return!i.get("transform",!0)&&!i.get("fromTransformResult",!0)?[]:N_(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},lr).models}function HZ(i,e){return WZ(i.data,i.sourceFormat,i.seriesLayoutBy,i.dimensionsDefine,i.startIndex,e)}function WZ(i,e,t,n,r,a){var o,s=5;if(es(i))return Ka.Not;var l,u;if(n){var c=n[a];zt(c)?(l=c.name,u=c.type):rt(c)&&(l=c)}if(u!=null)return u==="ordinal"?Ka.Must:Ka.Not;if(e===ka){var f=i;if(t===ym){for(var h=f[a],p=0;p<(h||[]).length&&p<s;p++)if((o=C(h[r+p]))!=null)return o}else for(var p=0;p<f.length&&p<s;p++){var g=f[r+p];if(g&&(o=C(g[a]))!=null)return o}}else if(e===il){var y=i;if(!l)return Ka.Not;for(var p=0;p<y.length&&p<s;p++){var _=y[p];if(_&&(o=C(_[l]))!=null)return o}}else if(e===ju){var x=i;if(!l)return Ka.Not;var h=x[l];if(!h||es(h))return Ka.Not;for(var p=0;p<h.length&&p<s;p++)if((o=C(h[p]))!=null)return o}else if(e===nl)for(var M=i,p=0;p<M.length&&p<s;p++){var _=M[p],T=P_(_);if(!ze(T))return Ka.Not;if((o=C(T[a]))!=null)return o}function C(E){var D=rt(E);if(E!=null&&Number.isFinite(Number(E))&&E!=="")return D?Ka.Might:Ka.Not;if(D&&E!=="-")return Ka.Must}return Ka.Not}var $O=St();function fge(i,e){no($O.get(i)==null&&e),$O.set(i,e)}function hge(i,e,t){var n=$O.get(e);if(!n)return t;var r=n(i);return r?t.concat(r):t}var vG=yn(),dge=yn(),gU=(function(){function i(){}return i.prototype.getColorFromPalette=function(e,t,n){var r=Mi(this.get("color",!0)),a=this.get("colorLayer",!0);return XZ(this,vG,r,a,e,t,n)},i.prototype.clearColorPalette=function(){vge(this,vG)},i})();function QO(i,e,t,n){var r=Mi(i.get(["aria","decal","decals"]));return XZ(i,dge,r,null,e,t,n)}function pge(i,e){for(var t=i.length,n=0;n<t;n++)if(i[n].length>e)return i[n];return i[t-1]}function XZ(i,e,t,n,r,a,o){a=a||i;var s=e(a),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var c=o==null||!n?t:pge(n,o);if(c=c||t,!(!c||!c.length)){var f=c[l];return r&&(u[r]=f),s.paletteIdx=(l+1)%c.length,f}}function vge(i,e){e(i).paletteIdx=0,e(i).paletteNameMap={}}var TA,YS,gG,mG="\0_ec_inner",gge=1,mU=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(t,n,r,a,o,s){a=a||{},this.option=null,this._theme=new Sn(a),this._locale=new Sn(o),this._optionManager=s},e.prototype.setOption=function(t,n,r){var a=xG(n);this._optionManager.setOption(t,r,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,n){return this._resetOption(t,xG(n))},e.prototype._resetOption=function(t,n){var r=!1,a=this._optionManager;if(!t||t==="recreate"){var o=a.mountOption(t==="recreate");!this.option||t==="recreate"?gG(this,o):(this.restoreData(),this._mergeOption(o,n)),r=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var s=a.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,n))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&H(l,function(u){r=!0,this._mergeOption(u,n)},this)}return r},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,n){var r=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=St(),u=n&&n.replaceMergeMainTypeMap;uge(this),H(t,function(f,h){f!=null&&(mn.hasClass(h)?h&&(s.push(h),l.set(h,!0)):r[h]=r[h]==null?Lt(f):nn(r[h],f,!0))}),u&&u.each(function(f,h){mn.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),mn.topologicalTravel(s,mn.getAllClassMainTypes(),c,this);function c(f){var h=hge(this,f,Mi(t[f])),p=a.get(f),g=p?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",y=Aq(p,h,g);Lde(y,f,mn),r[f]=null,a.set(f,null),o.set(f,0);var _=[],x=[],M=0,T;H(y,function(C,E){var D=C.existing,L=C.newOption;if(!L)D&&(D.mergeOption({},this),D.optionUpdated({},!1));else{var z=f==="series",P=mn.getClass(f,C.keyInfo.subType,!z);if(!P)return;if(f==="tooltip"){if(T)return;T=!0}if(D&&D.constructor===P)D.name=C.keyInfo.name,D.mergeOption(L,this),D.optionUpdated(L,!1);else{var N=Ce({componentIndex:E},C.keyInfo);D=new P(L,this,this,N),Ce(D,N),C.brandNew&&(D.__requireNewView=!0),D.init(L,this,this),D.optionUpdated(null,!0)}}D?(_.push(D.option),x.push(D),M++):(_.push(void 0),x.push(void 0))},this),r[f]=_,a.set(f,x),o.set(f,M),f==="series"&&TA(this)}this._seriesIndices||TA(this)},e.prototype.getOption=function(){var t=Lt(this.option);return H(t,function(n,r){if(mn.hasClass(r)){for(var a=Mi(n),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!M1(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,t[r]=a}}),delete t[mG],t},e.prototype.setTheme=function(t){this._theme=new Sn(t),this._resetOption("recreate",null)},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,n){var r=this._componentsMap.get(t);if(r){var a=r[n||0];if(a)return a;if(n==null){for(var o=0;o<r.length;o++)if(r[o])return r[o]}}},e.prototype.queryComponents=function(t){var n=t.mainType;if(!n)return[];var r=t.index,a=t.id,o=t.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var l;return r!=null?(l=[],H(Mi(r),function(u){s[u]&&l.push(s[u])})):a!=null?l=yG("id",a,s):o!=null?l=yG("name",o,s):l=Kn(s,function(u){return!!u}),_G(l,t)},e.prototype.findComponents=function(t){var n=t.query,r=t.mainType,a=s(n),o=a?this.queryComponents(a):Kn(this._componentsMap.get(r),function(u){return!!u});return l(_G(o,t));function s(u){var c=r+"Index",f=r+"Id",h=r+"Name";return u&&(u[c]!=null||u[f]!=null||u[h]!=null)?{mainType:r,index:u[c],id:u[f],name:u[h]}:null}function l(u){return t.filter?Kn(u,t.filter):u}},e.prototype.eachComponent=function(t,n,r){var a=this._componentsMap;if(Ct(t)){var o=n,s=t;a.each(function(f,h){for(var p=0;f&&p<f.length;p++){var g=f[p];g&&s.call(o,h,g,g.componentIndex)}})}else for(var l=rt(t)?a.get(t):zt(t)?this.findComponents(t):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(r,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var n=sa(t,null);return Kn(this._componentsMap.get("series"),function(r){return!!r&&n!=null&&r.name===n})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Kn(this._componentsMap.get("series"),function(n){return!!n&&n.subType===t})},e.prototype.getSeries=function(){return Kn(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,n){YS(this),H(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];t.call(n,a,r)},this)},e.prototype.eachRawSeries=function(t,n){H(this._componentsMap.get("series"),function(r){r&&t.call(n,r,r.componentIndex)})},e.prototype.eachSeriesByType=function(t,n,r){YS(this),H(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===t&&n.call(r,o,a)},this)},e.prototype.eachRawSeriesByType=function(t,n,r){return H(this.getSeriesByType(t),n,r)},e.prototype.isSeriesFiltered=function(t){return YS(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,n){YS(this);var r=[];H(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];t.call(n,o,a)&&r.push(a)},this),this._seriesIndices=r,this._seriesIndicesMap=St(r)},e.prototype.restoreData=function(t){TA(this);var n=this._componentsMap,r=[];n.each(function(a,o){mn.hasClass(o)&&r.push(o)}),mn.topologicalTravel(r,mn.getAllClassMainTypes(),function(a){H(n.get(a),function(o){o&&(a!=="series"||!mge(o,t))&&o.restoreData()})})},e.internalField=(function(){TA=function(t){var n=t._seriesIndices=[];H(t._componentsMap.get("series"),function(r){r&&n.push(r.componentIndex)}),t._seriesIndicesMap=St(n)},YS=function(t){},gG=function(t,n){t.option={},t.option[mG]=gge,t._componentsMap=St({series:[]}),t._componentsCount=St();var r=n.aria;zt(r)&&r.enabled==null&&(r.enabled=!0),yge(n,t._theme.option),nn(n,lge,!1),t._mergeOption(n,null)}})(),e})(Sn);function mge(i,e){if(e){var t=e.seriesIndex,n=e.seriesId,r=e.seriesName;return t!=null&&i.componentIndex!==t||n!=null&&i.id!==n||r!=null&&i.name!==r}}function yge(i,e){var t=i.color&&!i.colorLayer;H(e,function(n,r){r==="colorLayer"&&t||r==="color"&&i.color||mn.hasClass(r)||(typeof n=="object"?i[r]=i[r]?nn(i[r],n,!1):Lt(n):i[r]==null&&(i[r]=n))})}function yG(i,e,t){if(ze(e)){var n=St();return H(e,function(a){if(a!=null){var o=sa(a,null);o!=null&&n.set(a,!0)}}),Kn(t,function(a){return a&&n.get(a[i])})}else{var r=sa(e,null);return Kn(t,function(a){return a&&r!=null&&a[i]===r})}}function _G(i,e){return e.hasOwnProperty("subType")?Kn(i,function(t){return t&&t.subType===e.subType}):i}function xG(i){var e=St();return i&&H(Mi(i.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Sr(mU,gU);var _ge=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],YZ=(function(){function i(e){H(_ge,function(t){this[t]=at(e[t],e)},this)}return i})(),xge=/^(min|max)?(.+)$/,Sge=(function(){function i(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return i.prototype.setOption=function(e,t,n){e&&(H(Mi(e.series),function(o){o&&o.data&&es(o.data)&&g1(o.data)}),H(Mi(e.dataset),function(o){o&&o.source&&es(o.source)&&g1(o.source)})),e=Lt(e);var r=this._optionBackup,a=bge(e,t,!r);this._newBaseOption=a.baseOption,r?(a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},i.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Lt(e?t.baseOption:this._newBaseOption)},i.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var r=e.getComponent("timeline");r&&(t=Lt(n[r.getCurrentIndex()]))}return t},i.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!r.length&&!a)return s;for(var l=0,u=r.length;l<u;l++)Mge(r[l].query,t,n)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!wge(o,this._currentMediaIndices)&&(s=Ge(o,function(c){return Lt(c===-1?a.option:r[c].option)})),this._currentMediaIndices=o,s},i})();function bge(i,e,t){var n=[],r,a,o=i.baseOption,s=i.timeline,l=i.options,u=i.media,c=!!i.media,f=!!(l||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((f||c)&&(i.options=i.media=null),a=i),c&&ze(u)&&H(u,function(p){p&&p.option&&(p.query?n.push(p):r||(r=p))}),h(a),H(l,function(p){return h(p)}),H(n,function(p){return h(p.option)});function h(p){H(e,function(g){g(p,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:r,mediaList:n}}function Mge(i,e,t){var n={width:e,height:t,aspectratio:e/t},r=!0;return H(i,function(a,o){var s=o.match(xge);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();Tge(n[u],a,l)||(r=!1)}}),r}function Tge(i,e,t){return t==="min"?i>=e:t==="max"?i<=e:i===e}function wge(i,e){return i.join(",")===e.join(",")}var Eu=H,D1=zt,SG=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function KP(i){var e=i&&i.itemStyle;if(e)for(var t=0,n=SG.length;t<n;t++){var r=SG[t],a=e.normal,o=e.emphasis;a&&a[r]&&(i[r]=i[r]||{},i[r].normal?nn(i[r].normal,a[r]):i[r].normal=a[r],a[r]=null),o&&o[r]&&(i[r]=i[r]||{},i[r].emphasis?nn(i[r].emphasis,o[r]):i[r].emphasis=o[r],o[r]=null)}}function bo(i,e,t){if(i&&i[e]&&(i[e].normal||i[e].emphasis)){var n=i[e].normal,r=i[e].emphasis;n&&(t?(i[e].normal=i[e].emphasis=null,Ot(i[e],n)):i[e]=n),r&&(i.emphasis=i.emphasis||{},i.emphasis[e]=r,r.focus&&(i.emphasis.focus=r.focus),r.blurScope&&(i.emphasis.blurScope=r.blurScope))}}function Cb(i){bo(i,"itemStyle"),bo(i,"lineStyle"),bo(i,"areaStyle"),bo(i,"label"),bo(i,"labelLine"),bo(i,"upperLabel"),bo(i,"edgeLabel")}function Xr(i,e){var t=D1(i)&&i[e],n=D1(t)&&t.textStyle;if(n)for(var r=0,a=T4.length;r<a;r++){var o=T4[r];n.hasOwnProperty(o)&&(t[o]=n[o])}}function zl(i){i&&(Cb(i),Xr(i,"label"),i.emphasis&&Xr(i.emphasis,"label"))}function Age(i){if(D1(i)){KP(i),Cb(i),Xr(i,"label"),Xr(i,"upperLabel"),Xr(i,"edgeLabel"),i.emphasis&&(Xr(i.emphasis,"label"),Xr(i.emphasis,"upperLabel"),Xr(i.emphasis,"edgeLabel"));var e=i.markPoint;e&&(KP(e),zl(e));var t=i.markLine;t&&(KP(t),zl(t));var n=i.markArea;n&&zl(n);var r=i.data;if(i.type==="graph"){r=r||i.nodes;var a=i.links||i.edges;if(a&&!es(a))for(var o=0;o<a.length;o++)zl(a[o]);H(i.categories,function(u){Cb(u)})}if(r&&!es(r))for(var o=0;o<r.length;o++)zl(r[o]);if(e=i.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)zl(s[o]);if(t=i.markLine,t&&t.data)for(var l=t.data,o=0;o<l.length;o++)ze(l[o])?(zl(l[o][0]),zl(l[o][1])):zl(l[o]);i.type==="gauge"?(Xr(i,"axisLabel"),Xr(i,"title"),Xr(i,"detail")):i.type==="treemap"?(bo(i.breadcrumb,"itemStyle"),H(i.levels,function(u){Cb(u)})):i.type==="tree"&&Cb(i.leaves)}}function ah(i){return ze(i)?i:i?[i]:[]}function bG(i){return(ze(i)?i[0]:i)||{}}function Cge(i,e){Eu(ah(i.series),function(n){D1(n)&&Age(n)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),Eu(t,function(n){Eu(ah(i[n]),function(r){r&&(Xr(r,"axisLabel"),Xr(r.axisPointer,"label"))})}),Eu(ah(i.parallel),function(n){var r=n&&n.parallelAxisDefault;Xr(r,"axisLabel"),Xr(r&&r.axisPointer,"label")}),Eu(ah(i.calendar),function(n){bo(n,"itemStyle"),Xr(n,"dayLabel"),Xr(n,"monthLabel"),Xr(n,"yearLabel")}),Eu(ah(i.radar),function(n){Xr(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Eu(ah(i.geo),function(n){D1(n)&&(zl(n),Eu(ah(n.regions),function(r){zl(r)}))}),Eu(ah(i.timeline),function(n){zl(n),bo(n,"label"),bo(n,"itemStyle"),bo(n,"controlStyle",!0);var r=n.data;ze(r)&&H(r,function(a){zt(a)&&(bo(a,"label"),bo(a,"itemStyle"))})}),Eu(ah(i.toolbox),function(n){bo(n,"iconStyle"),Eu(n.feature,function(r){bo(r,"iconStyle")})}),Xr(bG(i.axisPointer),"label"),Xr(bG(i.tooltip).axisPointer,"label")}function Ege(i,e){for(var t=e.split(","),n=i,r=0;r<t.length&&(n=n&&n[t[r]],n!=null);r++);return n}function Dge(i,e,t,n){for(var r=e.split(","),a=i,o,s=0;s<r.length-1;s++)o=r[s],a[o]==null&&(a[o]={}),a=a[o];a[r[s]]==null&&(a[r[s]]=t)}function MG(i){i&&H(Rge,function(e){e[0]in i&&!(e[1]in i)&&(i[e[1]]=i[e[0]])})}var Rge=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Lge=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],$P=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function qS(i){var e=i&&i.itemStyle;if(e)for(var t=0;t<$P.length;t++){var n=$P[t][1],r=$P[t][0];e[n]!=null&&(e[r]=e[n])}}function TG(i){i&&i.alignTo==="edge"&&i.margin!=null&&i.edgeDistance==null&&(i.edgeDistance=i.margin)}function wG(i){i&&i.downplay&&!i.blur&&(i.blur=i.downplay)}function Ige(i){i&&i.focusNodeAdjacency!=null&&(i.emphasis=i.emphasis||{},i.emphasis.focus==null&&(i.emphasis.focus="adjacency"))}function qZ(i,e){if(i)for(var t=0;t<i.length;t++)e(i[t]),i[t]&&qZ(i[t].children,e)}function ZZ(i,e){Cge(i,e),i.series=Mi(i.series),H(i.series,function(t){if(zt(t)){var n=t.type;if(n==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(n==="pie"||n==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),TG(t.label);var r=t.data;if(r&&!es(r))for(var a=0;a<r.length;a++)TG(r[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(n==="gauge"){var o=Ege(t,"pointer.color");o!=null&&Dge(t,"itemStyle.color",o)}else if(n==="bar"){qS(t),qS(t.backgroundStyle),qS(t.emphasis);var r=t.data;if(r&&!es(r))for(var a=0;a<r.length;a++)typeof r[a]=="object"&&(qS(r[a]),qS(r[a]&&r[a].emphasis))}else if(n==="sunburst"){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),wG(t),qZ(t.data,wG)}else n==="graph"||n==="sankey"?Ige(t):n==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Ot(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),MG(t)}}),i.dataRange&&(i.visualMap=i.dataRange),H(Lge,function(t){var n=i[t];n&&(ze(n)||(n=[n]),H(n,function(r){MG(r)}))})}function Pge(i){var e=St();i.eachSeries(function(t){var n=t.get("stack");if(n){var r=e.get(n)||e.set(n,[]),a=t.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;r.push(o)}}),e.each(function(t){if(t.length!==0){var n=t[0].seriesModel,r=n.get("stackOrder")||"seriesAsc";r==="seriesDesc"&&t.reverse(),H(t,function(a,o){a.data.setCalculationInfo("stackedOnSeries",o>0?t[o-1].seriesModel:null)}),Nge(t)}})}function Nge(i){H(i,function(e,t){var n=[],r=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(u,c,f){var h=o.get(e.stackedDimension,f);if(isNaN(h))return r;var p,g;s?g=o.getRawIndex(f):p=o.get(e.stackedByDimension,f);for(var y=NaN,_=t-1;_>=0;_--){var x=i[_];if(s||(g=x.data.rawIndexOf(x.stackedByDimension,p)),g>=0){var M=x.data.getByRawIndex(x.stackResultDimension,g);if(l==="all"||l==="positive"&&M>0||l==="negative"&&M<0||l==="samesign"&&h>=0&&M>0||l==="samesign"&&h<=0&&M<0){h=yde(h,M),y=M;break}}}return n[0]=h,n[1]=y,n})})}var nL=(function(){function i(e){this.data=e.data||(e.sourceFormat===ju?{}:[]),this.sourceFormat=e.sourceFormat||FZ,this.seriesLayoutBy=e.seriesLayoutBy||Gu,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var r=t[n];r.type==null&&HZ(this,n)===Ka.Must&&(r.type="ordinal")}}return i})();function yU(i){return i instanceof nL}function JO(i,e,t){t=t||jZ(i);var n=e.seriesLayoutBy,r=zge(i,t,n,e.sourceHeader,e.dimensions),a=new nL({data:i,sourceFormat:t,seriesLayoutBy:n,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Lt(e)});return a}function _U(i){return new nL({data:i,sourceFormat:es(i)?vp:nl})}function Oge(i){return new nL({data:i.data,sourceFormat:i.sourceFormat,seriesLayoutBy:i.seriesLayoutBy,dimensionsDefine:Lt(i.dimensionsDefine),startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount})}function jZ(i){var e=FZ;if(es(i))e=vp;else if(ze(i)){i.length===0&&(e=ka);for(var t=0,n=i.length;t<n;t++){var r=i[t];if(r!=null){if(ze(r)||es(r)){e=ka;break}else if(zt(r)){e=il;break}}}}else if(zt(i)){for(var a in i)if(gt(i,a)&&to(i[a])){e=ju;break}}return e}function zge(i,e,t,n,r){var a,o;if(!i)return{dimensionsDefine:AG(r),startIndex:o,dimensionsDetectedCount:a};if(e===ka){var s=i;n==="auto"||n==null?CG(function(u){u!=null&&u!=="-"&&(rt(u)?o==null&&(o=1):o=0)},t,s,10):o=Pn(n)?n:n?1:0,!r&&o===1&&(r=[],CG(function(u,c){r[c]=u!=null?u+"":""},t,s,1/0)),a=r?r.length:t===ym?s.length:s[0]?s[0].length:null}else if(e===il)r||(r=Bge(i));else if(e===ju)r||(r=[],H(i,function(u,c){r.push(c)}));else if(e===nl){var l=P_(i[0]);a=ze(l)&&l.length||1}return{startIndex:o,dimensionsDefine:AG(r),dimensionsDetectedCount:a}}function Bge(i){for(var e=0,t;e<i.length&&!(t=i[e++]););if(t)return An(t)}function AG(i){if(i){var e=St();return Ge(i,function(t,n){t=zt(t)?t:{name:t};var r={name:t.name,displayName:t.displayName,type:t.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var a=e.get(r.name);return a?r.name+="-"+a.count++:e.set(r.name,{count:1}),r})}}function CG(i,e,t,n){if(e===ym)for(var r=0;r<t.length&&r<n;r++)i(t[r]?t[r][0]:null,r);else for(var a=t[0]||[],r=0;r<a.length&&r<n;r++)i(a[r],r)}function KZ(i){var e=i.sourceFormat;return e===il||e===ju}var eg,tg,ng,ig,EG,DG,$Z=(function(){function i(e,t){var n=yU(e)?e:_U(e);this._source=n;var r=this._data=n.data,a=n.sourceFormat;n.seriesLayoutBy,a===vp&&(this._offset=0,this._dimSize=t,this._data=r),DG(this,r,n)}return i.prototype.getSource=function(){return this._source},i.prototype.count=function(){return 0},i.prototype.getItem=function(e,t){},i.prototype.appendData=function(e){},i.prototype.clean=function(){},i.protoInitialize=(function(){var e=i.prototype;e.pure=!1,e.persistent=!0})(),i.internalField=(function(){var e;DG=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,h=l.dimensionsDefine,p=EG[xU(u,c)];if(Ce(o,p),u===vp)o.getItem=t,o.count=r,o.fillStorage=n;else{var g=QZ(u,c);o.getItem=at(g,null,s,f,h);var y=JZ(u,c);o.count=at(y,null,s,f,h)}};var t=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},n=function(o,s,l,u){for(var c=this._data,f=this._dimSize,h=0;h<f;h++){for(var p=u[h],g=p[0]==null?1/0:p[0],y=p[1]==null?-1/0:p[1],_=s-o,x=l[h],M=0;M<_;M++){var T=c[M*f+h];x[o+M]=T,T<g&&(g=T),T>y&&(y=T)}p[0]=g,p[1]=y}},r=function(){return this._data?this._data.length/this._dimSize:0};EG=(e={},e[ka+"_"+Gu]={pure:!0,appendData:a},e[ka+"_"+ym]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[il]={pure:!0,appendData:a},e[ju]={pure:!0,appendData:function(o){var s=this._data;H(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},e[nl]={appendData:a},e[vp]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}})(),i})(),wA=function(i){ze(i)||Mq("series.data or dataset.source must be an array.")};eg={},eg[ka+"_"+Gu]=wA,eg[ka+"_"+ym]=wA,eg[il]=wA,eg[ju]=function(i,e){for(var t=0;t<e.length;t++){var n=e[t].name;n==null&&Mq("dimension name must not be null/undefined.")}},eg[nl]=wA;var RG=function(i,e,t,n){return i[n]},kge=(tg={},tg[ka+"_"+Gu]=function(i,e,t,n){return i[n+e]},tg[ka+"_"+ym]=function(i,e,t,n,r){n+=e;for(var a=r||[],o=i,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[n]:null}return a},tg[il]=RG,tg[ju]=function(i,e,t,n,r){for(var a=r||[],o=0;o<t.length;o++){var s=t[o].name,l=s!=null?i[s]:null;a[o]=l?l[n]:null}return a},tg[nl]=RG,tg);function QZ(i,e){var t=kge[xU(i,e)];return t}var LG=function(i,e,t){return i.length},Uge=(ng={},ng[ka+"_"+Gu]=function(i,e,t){return Math.max(0,i.length-e)},ng[ka+"_"+ym]=function(i,e,t){var n=i[0];return n?Math.max(0,n.length-e):0},ng[il]=LG,ng[ju]=function(i,e,t){var n=t[0].name,r=n!=null?i[n]:null;return r?r.length:0},ng[nl]=LG,ng);function JZ(i,e){var t=Uge[xU(i,e)];return t}var QP=function(i,e,t){return i[e]},Fge=(ig={},ig[ka]=QP,ig[il]=function(i,e,t){return i[t]},ig[ju]=QP,ig[nl]=function(i,e,t){var n=P_(i);return n instanceof Array?n[e]:n},ig[vp]=QP,ig);function ej(i){var e=Fge[i];return e}function xU(i,e){return i===ka?i+"_"+e:i}function g_(i,e,t){if(i){var n=i.getRawDataItem(e);if(n!=null){var r=i.getStore(),a=r.getSource().sourceFormat;if(t!=null){var o=i.getDimensionIndex(t),s=r.getDimensionProperty(o);return ej(a)(n,o,s)}else{var l=n;return a===nl&&(l=P_(n)),l}}}}var Vge=/\{@(.+?)\}/g,iL=(function(){function i(){}return i.prototype.getDataParams=function(e,t){var n=this.getData(t),r=this.getRawValue(e,t),a=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),l=n.getItemVisual(e,"style"),u=l&&l[n.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,h=f==="series",p=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:a,data:s,dataType:t,value:r,color:u,borderColor:c,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},i.prototype.getFormattedLabel=function(e,t,n,r,a,o){t=t||"normal";var s=this.getData(n),l=this.getDataParams(e,n);if(o&&(l.value=o.interpolatedValue),r!=null&&ze(l.value)&&(l.value=l.value[r]),!a){var u=s.getItemModel(e);a=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(Ct(a))return l.status=t,l.dimensionIndex=r,a(l);if(rt(a)){var c=hU(a,l);return c.replace(Vge,function(f,h){var p=h.length,g=h;g.charAt(0)==="["&&g.charAt(p-1)==="]"&&(g=+g.slice(1,p-1));var y=g_(s,e,g);if(o&&ze(o.interpolatedValue)){var _=s.getDimensionIndex(g);_>=0&&(y=o.interpolatedValue[_])}return y!=null?y+"":""})}},i.prototype.getRawValue=function(e,t){return g_(this.getData(t),e)},i.prototype.formatTooltip=function(e,t,n){},i})();function IG(i){var e,t;return zt(i)?i.type&&(t=i):e=i,{text:e,frag:t}}function e1(i){return new Gge(i)}var Gge=(function(){function i(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return i.prototype.perform=function(e){var t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var r=this.context;r.data=r.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(o!==l||s!==u)&&(a="reset");function c(M){return!(M>=1)&&(M=1),M}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=l,this._modDataCount=u;var h=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,g=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!n&&(f||p<g)){var y=this._progress;if(ze(y))for(var _=0;_<y.length;_++)this._doProgress(y[_],p,g,l,u);else this._doProgress(y,p,g,l,u)}this._dueIndex=g;var x=this._settedOutputEnd!=null?this._settedOutputEnd:g;this._outputDueEnd=x}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},i.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},i.prototype._doProgress=function(e,t,n,r,a){PG.reset(t,n,r,a),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:PG.next},this.context)},i.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,n;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(n=t.forceFirstProgress,t=t.progress),ze(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},i.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},i.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},i.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},i.prototype.getUpstream=function(){return this._upstream},i.prototype.getDownstream=function(){return this._downstream},i.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},i})(),PG=(function(){var i,e,t,n,r,a={reset:function(l,u,c,f){e=l,i=u,t=c,n=f,r=Math.ceil(n/t),a.next=t>1&&n>0?s:o}};return a;function o(){return e<i?e++:null}function s(){var l=e%r*t+Math.ceil(e/r),u=e>=i?null:l<n?l:e;return e++,u}})();function gp(i,e){var t=e&&e.type;return t==="ordinal"?i:(t==="time"&&!Pn(i)&&i!=null&&i!=="-"&&(i=+gf(i)),i==null||i===""?NaN:Number(i))}var Hge=St({number:function(i){return parseFloat(i)},time:function(i){return+gf(i)},trim:function(i){return rt(i)?Zs(i):i}});function tj(i){return Hge.get(i)}var nj={lt:function(i,e){return i<e},lte:function(i,e){return i<=e},gt:function(i,e){return i>e},gte:function(i,e){return i>=e}},Wge=(function(){function i(e,t){if(!Pn(t)){var n="";ti(n)}this._opFn=nj[e],this._rvalFloat=cf(t)}return i.prototype.evaluate=function(e){return Pn(e)?this._opFn(e,this._rvalFloat):this._opFn(cf(e),this._rvalFloat)},i})(),ij=(function(){function i(e,t){var n=e==="desc";this._resultLT=n?1:-1,t==null&&(t=n?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return i.prototype.evaluate=function(e,t){var n=Pn(e)?e:cf(e),r=Pn(t)?t:cf(t),a=isNaN(n),o=isNaN(r);if(a&&(n=this._incomparable),o&&(r=this._incomparable),a&&o){var s=rt(e),l=rt(t);s&&(n=l?e:0),l&&(r=s?t:0)}return n<r?this._resultLT:n>r?-this._resultLT:0},i})(),Xge=(function(){function i(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=cf(t)}return i.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(t=cf(e)===this._rvalFloat)}return this._isEQ?t:!t},i})();function Yge(i,e){return i==="eq"||i==="ne"?new Xge(i==="eq",e):gt(nj,i)?new Wge(i,e):null}var qge=(function(){function i(){}return i.prototype.getRawData=function(){throw new Error("not supported")},i.prototype.getRawDataItem=function(e){throw new Error("not supported")},i.prototype.cloneRawData=function(){},i.prototype.getDimensionInfo=function(e){},i.prototype.cloneAllDimensionInfo=function(){},i.prototype.count=function(){},i.prototype.retrieveValue=function(e,t){},i.prototype.retrieveValueFromItem=function(e,t){},i.prototype.convertValue=function(e,t){return gp(e,t)},i})();function Zge(i,e){var t=new qge,n=i.data,r=t.sourceFormat=i.sourceFormat,a=i.startIndex,o="";i.seriesLayoutBy!==Gu&&ti(o);var s=[],l={},u=i.dimensionsDefine;if(u)H(u,function(y,_){var x=y.name,M={index:_,name:x,displayName:y.displayName};if(s.push(M),x!=null){var T="";gt(l,x)&&ti(T),l[x]=M}});else for(var c=0;c<i.dimensionsDetectedCount;c++)s.push({index:c});var f=QZ(r,Gu);e.__isBuiltIn&&(t.getRawDataItem=function(y){return f(n,a,s,y)},t.getRawData=at(jge,null,i)),t.cloneRawData=at(Kge,null,i);var h=JZ(r,Gu);t.count=at(h,null,n,a,s);var p=ej(r);t.retrieveValue=function(y,_){var x=f(n,a,s,y);return g(x,_)};var g=t.retrieveValueFromItem=function(y,_){if(y!=null){var x=s[_];if(x)return p(y,_,x.name)}};return t.getDimensionInfo=at($ge,null,s,l),t.cloneAllDimensionInfo=at(Qge,null,s),t}function jge(i){var e=i.sourceFormat;if(!SU(e)){var t="";ti(t)}return i.data}function Kge(i){var e=i.sourceFormat,t=i.data;if(!SU(e)){var n="";ti(n)}if(e===ka){for(var r=[],a=0,o=t.length;a<o;a++)r.push(t[a].slice());return r}else if(e===il){for(var r=[],a=0,o=t.length;a<o;a++)r.push(Ce({},t[a]));return r}}function $ge(i,e,t){if(t!=null){if(Pn(t)||!isNaN(t)&&!gt(e,t))return i[t];if(gt(e,t))return e[t]}}function Qge(i){return Lt(i)}var rj=St();function Jge(i){i=Lt(i);var e=i.type,t="";e||ti(t);var n=e.split(":");n.length!==2&&ti(t);var r=!1;n[0]==="echarts"&&(e=n[1],r=!0),i.__isBuiltIn=r,rj.set(e,i)}function eme(i,e,t){var n=Mi(i),r=n.length,a="";r||ti(a);for(var o=0,s=r;o<s;o++){var l=n[o];e=tme(l,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function tme(i,e,t,n){var r="";e.length||ti(r),zt(i)||ti(r);var a=i.type,o=rj.get(a);o||ti(r);var s=Ge(e,function(u){return Zge(u,o)}),l=Mi(o.transform({upstream:s[0],upstreamList:s,config:Lt(i.config)}));return Ge(l,function(u,c){var f="";zt(u)||ti(f),u.data||ti(f);var h=jZ(u.data);SU(h)||ti(f);var p,g=e[0];if(g&&c===0&&!u.dimensions){var y=g.startIndex;y&&(u.data=g.data.slice(0,y).concat(u.data)),p={seriesLayoutBy:Gu,sourceHeader:y,dimensions:g.metaRawOption.dimensions}}else p={seriesLayoutBy:Gu,sourceHeader:0,dimensions:u.dimensions};return JO(u.data,p,null)})}function SU(i){return i===ka||i===il}var rL="undefined",nme=typeof Uint32Array===rL?Array:Uint32Array,ime=typeof Uint16Array===rL?Array:Uint16Array,aj=typeof Int32Array===rL?Array:Int32Array,NG=typeof Float64Array===rL?Array:Float64Array,oj={float:NG,int:aj,ordinal:Array,number:Array,time:NG},JP;function s0(i){return i>65535?nme:ime}function l0(){return[1/0,-1/0]}function rme(i){var e=i.constructor;return e===Array?i.slice():new e(i)}function OG(i,e,t,n,r){var a=oj[t||"float"];if(r){var o=i[e],s=o&&o.length;if(s!==n){for(var l=new a(n),u=0;u<s;u++)l[u]=o[u];i[e]=l}}else i[e]=new a(n)}var ez=(function(){function i(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=St()}return i.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),a=this.defaultDimValueGetter=JP[r.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],KZ(r),this._dimensions=Ge(t,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},i.prototype.getProvider=function(){return this._provider},i.prototype.getSource=function(){return this._provider.getSource()},i.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,r=this._dimensions,a=n.get(e);if(a!=null){if(r[a].type===t)return a}else a=r.length;return r[a]={type:t},n.set(e,a),this._chunks[a]=new oj[t||"float"](this._rawCount),this._rawExtent[a]=l0(),a},i.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],r=this._dimensions[e],a=this._rawExtent,o=r.ordinalOffset||0,s=n.length;o===0&&(a[e]=l0());for(var l=a[e],u=o;u<s;u++){var c=n[u]=t.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}r.ordinalMeta=t,r.ordinalOffset=s,r.type="ordinal"},i.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],n=t.ordinalMeta;return n},i.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},i.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},i.prototype.appendValues=function(e,t){for(var n=this._chunks,r=this._dimensions,a=r.length,o=this._rawExtent,s=this.count(),l=s+Math.max(e.length,t||0),u=0;u<a;u++){var c=r[u];OG(n,u,c.type,l,!0)}for(var f=[],h=s;h<l;h++)for(var p=h-s,g=0;g<a;g++){var c=r[g],y=JP.arrayRows.call(this,e[p]||f,c.property,p,g);n[g][h]=y;var _=o[g];y<_[0]&&(_[0]=y),y>_[1]&&(_[1]=y)}return this._rawCount=this._count=l,{start:s,end:l}},i.prototype._initDataFromProvider=function(e,t,n){for(var r=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=Ge(o,function(M){return M.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=l0()),OG(a,c,f.type,t,n)}if(r.fillStorage)r.fillStorage(e,t,a,l);else for(var h=[],p=e;p<t;p++){h=r.getItem(p,h);for(var g=0;g<s;g++){var y=a[g],_=this._dimValueGetter(h,u[g],p,g);y[p]=_;var x=l[g];_<x[0]&&(x[0]=_),_>x[1]&&(x[1]=_)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},i.prototype.count=function(){return this._count},i.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},i.prototype.getValues=function(e,t){var n=[],r=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)r.push(a)}else r=e;for(var a=0,o=r.length;a<o;a++)n.push(this.get(r[a],t));return n},i.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},i.prototype.getSum=function(e){var t=this._chunks[e],n=0;if(t)for(var r=0,a=this.count();r<a;r++){var o=this.get(e,r);isNaN(o)||(n+=o)}return n},i.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var n=t.sort(function(a,o){return a-o}),r=this.count();return r===0?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},i.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(n!=null&&n<this._count&&n===e)return e;for(var r=0,a=this._count-1;r<=a;){var o=(r+a)/2|0;if(t[o]<e)r=o+1;else if(t[o]>e)a=o-1;else return o}return-1},i.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,r=this._count;if(n===Array){e=new n(r);for(var a=0;a<r;a++)e[a]=t[a]}else e=new n(t.buffer,0,r)}else{var n=s0(this._rawCount);e=new n(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},i.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),r=n.count(),a=s0(n._rawCount),o=new a(r),s=[],l=e.length,u=0,c=e[0],f=n._chunks,h=0;h<r;h++){var p=void 0,g=n.getRawIndex(h);if(l===0)p=t(h);else if(l===1){var y=f[c][g];p=t(y,h)}else{for(var _=0;_<l;_++)s[_]=f[e[_]][g];s[_]=h,p=t.apply(null,s)}p&&(o[u++]=g)}return u<r&&(n._indices=o),n._count=u,n._extent=[],n._updateGetRawIdx(),n},i.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var r=An(e),a=r.length;if(!a)return this;var o=t.count(),s=s0(t._rawCount),l=new s(o),u=0,c=r[0],f=e[c][0],h=e[c][1],p=t._chunks,g=!1;if(!t._indices){var y=0;if(a===1){for(var _=p[r[0]],x=0;x<n;x++){var M=_[x];(M>=f&&M<=h||isNaN(M))&&(l[u++]=y),y++}g=!0}else if(a===2){for(var _=p[r[0]],T=p[r[1]],C=e[r[1]][0],E=e[r[1]][1],x=0;x<n;x++){var M=_[x],D=T[x];(M>=f&&M<=h||isNaN(M))&&(D>=C&&D<=E||isNaN(D))&&(l[u++]=y),y++}g=!0}}if(!g)if(a===1)for(var x=0;x<o;x++){var L=t.getRawIndex(x),M=p[r[0]][L];(M>=f&&M<=h||isNaN(M))&&(l[u++]=L)}else for(var x=0;x<o;x++){for(var z=!0,L=t.getRawIndex(x),P=0;P<a;P++){var N=r[P],M=p[N][L];(M<e[N][0]||M>e[N][1])&&(z=!1)}z&&(l[u++]=t.getRawIndex(x))}return u<o&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},i.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},i.prototype.modify=function(e,t){this._updateDims(this,e,t)},i.prototype._updateDims=function(e,t,n){for(var r=e._chunks,a=[],o=t.length,s=e.count(),l=[],u=e._rawExtent,c=0;c<t.length;c++)u[t[c]]=l0();for(var f=0;f<s;f++){for(var h=e.getRawIndex(f),p=0;p<o;p++)l[p]=r[t[p]][h];l[o]=f;var g=n&&n.apply(null,l);if(g!=null){typeof g!="object"&&(a[0]=g,g=a);for(var c=0;c<g.length;c++){var y=t[c],_=g[c],x=u[y],M=r[y];M&&(M[h]=_),_<x[0]&&(x[0]=_),_>x[1]&&(x[1]=_)}}}},i.prototype.lttbDownSample=function(e,t){var n=this.clone([e],!0),r=n._chunks,a=r[e],o=this.count(),s=0,l=Math.floor(1/t),u=this.getRawIndex(0),c,f,h,p=new(s0(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));p[s++]=u;for(var g=1;g<o-1;g+=l){for(var y=Math.min(g+l,o-1),_=Math.min(g+l*2,o),x=(_+y)/2,M=0,T=y;T<_;T++){var C=this.getRawIndex(T),E=a[C];isNaN(E)||(M+=E)}M/=_-y;var D=g,L=Math.min(g+l,o),z=g-1,P=a[u];c=-1,h=D;for(var N=-1,B=0,T=D;T<L;T++){var C=this.getRawIndex(T),E=a[C];if(isNaN(E)){B++,N<0&&(N=C);continue}f=Math.abs((z-x)*(E-P)-(z-T)*(M-P)),f>c&&(c=f,h=C)}B>0&&B<L-D&&(p[s++]=Math.min(N,h),h=Math.max(N,h)),p[s++]=h,u=h}return p[s++]=this.getRawIndex(o-1),n._count=s,n._indices=p,n.getRawIndex=this._getRawIdx,n},i.prototype.minmaxDownSample=function(e,t){for(var n=this.clone([e],!0),r=n._chunks,a=Math.floor(1/t),o=r[e],s=this.count(),l=new(s0(this._rawCount))(Math.ceil(s/a)*2),u=0,c=0;c<s;c+=a){var f=c,h=o[this.getRawIndex(f)],p=c,g=o[this.getRawIndex(p)],y=a;c+a>s&&(y=s-c);for(var _=0;_<y;_++){var x=this.getRawIndex(c+_),M=o[x];M<h&&(h=M,f=c+_),M>g&&(g=M,p=c+_)}var T=this.getRawIndex(f),C=this.getRawIndex(p);f<p?(l[u++]=T,l[u++]=C):(l[u++]=C,l[u++]=T)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},i.prototype.downSample=function(e,t,n,r){for(var a=this.clone([e],!0),o=a._chunks,s=[],l=Math.floor(1/t),u=o[e],c=this.count(),f=a._rawExtent[e]=l0(),h=new(s0(this._rawCount))(Math.ceil(c/l)),p=0,g=0;g<c;g+=l){l>c-g&&(l=c-g,s.length=l);for(var y=0;y<l;y++){var _=this.getRawIndex(g+y);s[y]=u[_]}var x=n(s),M=this.getRawIndex(Math.min(g+r(s,x)||0,c-1));u[M]=x,x<f[0]&&(f[0]=x),x>f[1]&&(f[1]=x),h[p++]=M}return a._count=p,a._indices=h,a._updateGetRawIdx(),a},i.prototype.each=function(e,t){if(this._count)for(var n=e.length,r=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:t(a);break;case 1:t(r[e[0]][s],a);break;case 2:t(r[e[0]][s],r[e[1]][s],a);break;default:for(var l=0,u=[];l<n;l++)u[l]=r[e[l]][s];u[l]=a,t.apply(null,u)}}},i.prototype.getDataExtent=function(e){var t=this._chunks[e],n=l0();if(!t)return n;var r=this.count(),a=!this._indices,o;if(a)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=n;for(var s=o[0],l=o[1],u=0;u<r;u++){var c=this.getRawIndex(u),f=t[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[e]=o,o},i.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],r=this._chunks,a=0;a<r.length;a++)n.push(r[a][t]);return n},i.prototype.clone=function(e,t){var n=new i,r=this._chunks,a=e&&Zl(e,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<r.length;o++)n._chunks[o]=a[o]?rme(r[o]):r[o];else n._chunks=r;return this._copyCommonProps(n),t||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},i.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Lt(this._extent),e._rawExtent=Lt(this._rawExtent)},i.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var r=0;r<n;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},i.prototype._getRawIdxIdentity=function(e){return e},i.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},i.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},i.internalField=(function(){function e(t,n,r,a){return gp(t[a],this._dimensions[a])}JP={arrayRows:e,objectRows:function(t,n,r,a){return gp(t[n],this._dimensions[a])},keyedColumns:e,original:function(t,n,r,a){var o=t&&(t.value==null?t:t.value);return gp(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(t,n,r,a){return t[a]}}})(),i})(),sj=(function(){function i(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return i.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},i.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},i.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},i.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},i.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),n=!!t.length,r,a;if(AA(e)){var o=e,s=void 0,l=void 0,u=void 0;if(n){var c=t[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else s=o.get("data",!0),l=es(s)?vp:nl,a=[];var f=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},p=bt(f.seriesLayoutBy,h.seriesLayoutBy)||null,g=bt(f.sourceHeader,h.sourceHeader),y=bt(f.dimensions,h.dimensions),_=p!==h.seriesLayoutBy||!!g!=!!h.sourceHeader||y;r=_?[JO(s,{seriesLayoutBy:p,sourceHeader:g,dimensions:y},l)]:[]}else{var x=e;if(n){var M=this._applyTransform(t);r=M.sourceList,a=M.upstreamSignList}else{var T=x.get("source",!0);r=[JO(T,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(r,a)},i.prototype._applyTransform=function(e){var t=this._sourceHost,n=t.get("transform",!0),r=t.get("fromTransformResult",!0);if(r!=null){var a="";e.length!==1&&BG(a)}var o,s=[],l=[];return H(e,function(u){u.prepareSource();var c=u.getSource(r||0),f="";r!=null&&!c&&BG(f),s.push(c),l.push(u._getVersionSign())}),n?o=eme(n,s,{datasetIndex:t.componentIndex}):r!=null&&(o=[Oge(s[0])]),{sourceList:o,upstreamSignList:l}},i.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},i.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},i.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},i.prototype._innerGetDataStore=function(e,t,n){var r=0,a=this._storeList,o=a[r];o||(o=a[r]={});var s=o[n];if(!s){var l=this._getUpstreamSourceManagers()[0];AA(this._sourceHost)&&l?s=l._innerGetDataStore(e,t,n):(s=new ez,s.initData(new $Z(t,e.length),e)),o[n]=s}return s},i.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(AA(e)){var t=vU(e);return t?[t.getSourceManager()]:[]}else return Ge(cge(e),function(n){return n.getSourceManager()})},i.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,n,r;if(AA(e))t=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),r=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),r=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:n,dimensions:r}},i})();function zG(i){var e=i.option.transform;e&&g1(i.option.transform)}function AA(i){return i.mainType==="series"}function BG(i){throw new Error(i)}var ame="line-height:1";function lj(i){var e=i.lineHeight;return e==null?ame:"line-height:"+Mo(e+"")+"px"}function uj(i,e){var t=i.color||ge.color.tertiary,n=i.fontSize||12,r=i.fontWeight||"400",a=i.color||ge.color.secondary,o=i.fontSize||14,s=i.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Mo(n+"")+"px;color:"+Mo(t)+";font-weight:"+Mo(r+""),valueStyle:"font-size:"+Mo(o+"")+"px;color:"+Mo(a)+";font-weight:"+Mo(s+"")}:{nameStyle:{fontSize:n,fill:t,fontWeight:r},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var ome=[0,10,20,30],sme=["",`
`,`

`,`


`];function Kr(i,e){return e.type=i,e}function tz(i){return i.type==="section"}function cj(i){return tz(i)?lme:ume}function fj(i){if(tz(i)){var e=0,t=i.blocks.length,n=t>1||t>0&&!i.noHeader;return H(i.blocks,function(r){var a=fj(r);a>=e&&(e=a+ +(n&&(!a||tz(r)&&!r.noHeader)))}),e}return 0}function lme(i,e,t,n){var r=e.noHeader,a=cme(fj(e)),o=[],s=e.blocks||[];no(!s||ze(s)),s=s||[];var l=i.orderMode;if(e.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(gt(u,l)){var c=new ij(u[l],null);s.sort(function(y,_){return c.evaluate(y.sortParam,_.sortParam)})}else l==="seriesDesc"&&s.reverse()}H(s,function(y,_){var x=e.valueFormatter,M=cj(y)(x?Ce(Ce({},i),{valueFormatter:x}):i,y,_>0?a.html:0,n);M!=null&&o.push(M)});var f=i.renderMode==="richText"?o.join(a.richText):nz(n,o.join(""),r?t:a.html);if(r)return f;var h=jO(e.header,"ordinal",i.useUTC),p=uj(n,i.renderMode).nameStyle,g=lj(n);return i.renderMode==="richText"?hj(i,h,p)+a.richText+f:nz(n,'<div style="'+p+";"+g+';">'+Mo(h)+"</div>"+f,t)}function ume(i,e,t,n){var r=i.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,l=e.name,u=i.useUTC,c=e.valueFormatter||i.valueFormatter||function(C){return C=ze(C)?C:[C],Ge(C,function(E,D){return jO(E,ze(p)?p[D]:p,u)})};if(!(a&&o)){var f=s?"":i.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||ge.color.secondary,r),h=a?"":jO(l,"ordinal",u),p=e.valueType,g=o?[]:c(e.value,e.dataIndex),y=!s||!a,_=!s&&a,x=uj(n,r),M=x.nameStyle,T=x.valueStyle;return r==="richText"?(s?"":f)+(a?"":hj(i,h,M))+(o?"":dme(i,g,y,_,T)):nz(n,(s?"":f)+(a?"":fme(h,!s,M))+(o?"":hme(g,y,_,T)),t)}}function kG(i,e,t,n,r,a){if(i){var o=cj(i),s={useUTC:r,renderMode:t,orderMode:n,markupStyleCreator:e,valueFormatter:i.valueFormatter};return o(s,i,0,a)}}function cme(i){return{html:ome[i],richText:sme[i]}}function nz(i,e,t){var n='<div style="clear:both"></div>',r="margin: "+t+"px 0 0",a=lj(i);return'<div style="'+r+";"+a+';">'+e+n+"</div>"}function fme(i,e,t){var n=e?"margin-left:2px":"";return'<span style="'+t+";"+n+'">'+Mo(i)+"</span>"}function hme(i,e,t,n){var r=t?"10px":"20px",a=e?"float:right;margin-left:"+r:"";return i=ze(i)?i:[i],'<span style="'+a+";"+n+'">'+Ge(i,function(o){return Mo(o)}).join("&nbsp;&nbsp;")+"</span>"}function hj(i,e,t){return i.markupStyleCreator.wrapRichTextStyle(e,t)}function dme(i,e,t,n,r){var a=[r],o=n?10:20;return t&&a.push({padding:[0,0,0,o],align:"right"}),i.markupStyleCreator.wrapRichTextStyle(ze(e)?e.join("  "):e,a)}function dj(i,e){var t=i.getData().getItemVisual(e,"style"),n=t[i.visualDrawType];return om(n)}function pj(i,e){var t=i.get("padding");return t??(e==="richText"?[8,10]:10)}var e3=(function(){function i(){this.richTextStyles={},this._nextStyleNameId=Sq()}return i.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},i.prototype.makeTooltipMarker=function(e,t,n){var r=n==="richText"?this._generateStyleName():null,a=EZ({color:t,type:e,renderMode:n,markerId:r});return rt(a)?a:(this.richTextStyles[r]=a.style,a.content)},i.prototype.wrapRichTextStyle=function(e,t){var n={};ze(t)?H(t,function(a){return Ce(n,a)}):Ce(n,t);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+e+"}"},i})();function vj(i){var e=i.series,t=i.dataIndex,n=i.multipleSeries,r=e.getData(),a=r.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(t),l=ze(s),u=dj(e,t),c,f,h,p;if(o>1||l&&!o){var g=pme(s,e,t,a,u);c=g.inlineValues,f=g.inlineValueTypes,h=g.blocks,p=g.inlineValues[0]}else if(o){var y=r.getDimensionInfo(a[0]);p=c=g_(r,t,a[0]),f=y.type}else p=c=l?s[0]:s;var _=Pk(e),x=_&&e.name||"",M=r.getName(t),T=n?x:M;return Kr("section",{header:x,noHeader:n||!_,sortParam:p,blocks:[Kr("nameValue",{markerType:"item",markerColor:u,name:T,noName:!Zs(T),value:c,valueType:f,dataIndex:t})].concat(h||[])})}function pme(i,e,t,n,r){var a=e.getData(),o=Zl(i,function(f,h,p){var g=a.getDimensionInfo(p);return f=f||g&&g.tooltip!==!1&&g.displayName!=null},!1),s=[],l=[],u=[];n.length?H(n,function(f){c(g_(a,t,f),f)}):H(i,c);function c(f,h){var p=a.getDimensionInfo(h);!p||p.otherDims.tooltip===!1||(o?u.push(Kr("nameValue",{markerType:"subItem",markerColor:r,name:p.displayName,value:f,valueType:p.type})):(s.push(f),l.push(p.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Fd=yn();function CA(i,e){return i.getName(e)||i.getId(e)}var NC="__universalTransitionEnabled",vi=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,n,r){this.seriesIndex=this.componentIndex,this.dataTask=e1({count:gme,reset:mme}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r);var a=Fd(this).sourceManager=new sj(this);a.prepareSource();var o=this.getInitialData(t,r);FG(o,this),this.dataTask.context.data=o,Fd(this).dataBeforeProcessed=o,UG(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(t,n){var r=E1(this),a=r?mm(t):{},o=this.subType;mn.hasClass(o)&&(o+="Series"),nn(t,n.getTheme().get(this.subType)),nn(t,this.getDefaultOption()),em(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&hf(t,a,r)},e.prototype.mergeOption=function(t,n){t=nn(this.option,t,!0),this.fillDataTextStyle(t.data);var r=E1(this);r&&hf(this.option,t,r);var a=Fd(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(t,n);FG(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Fd(this).dataBeforeProcessed=o,UG(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(t){if(t&&!es(t))for(var n=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&em(t[r],"label",n)},e.prototype.getInitialData=function(t,n){},e.prototype.appendData=function(t){var n=this.getRawData();n.appendData(t.data)},e.prototype.getData=function(t){var n=iz(this);if(n){var r=n.context.data;return t==null||!r.getLinkedData?r:r.getLinkedData(t)}else return Fd(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var n=iz(this);if(n){var r=n.context;r.outputData=t,n!==this.dataTask&&(r.data=t)}Fd(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return St(t)},e.prototype.getSourceManager=function(){return Fd(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Fd(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.indicesOfNearest=function(t,n,r,a){var o=this.getData(),s=this.coordinateSystem,l=s&&s.getAxis(t);if(!s||!l)return[];var u=l.dataToCoord(r);a==null&&(a=1/0);var c=[],f=1/0,h=-1,p=0;return o.each(n,function(g,y){var _=l.dataToCoord(g),x=u-_,M=Math.abs(x);M<=a&&((M<f||M===f&&x>=0&&h<0)&&(f=M,h=x,p=0),x===h&&(c[p++]=y))}),c.length=p,c},e.prototype.formatTooltip=function(t,n,r){return vj({series:this,dataIndex:t,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Tn.node&&!(t&&t.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,n,r){var a=this.ecModel,o=gU.prototype.getColorFromPalette.call(this,t,n,r);return o||(o=a.getColorFromPalette(t,n,r)),o},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,n){this._innerSelect(this.getData(n),t)},e.prototype.unselect=function(t,n){var r=this.option.selectedMap;if(r){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||r==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<t.length;s++){var l=t[s],u=CA(o,l);r[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,n){for(var r=[],a=0;a<t.length;a++)r[0]=t[a],this.isSelected(t[a],n)?this.unselect(r,n):this.select(r,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,n=An(t),r=[],a=0;a<n.length;a++){var o=t[n[a]];o>=0&&r.push(o)}return r},e.prototype.isSelected=function(t,n){var r=this.option.selectedMap;if(!r)return!1;var a=this.getData(n);return(r==="all"||r[CA(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[NC])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,n){var r,a,o=this.option,s=o.selectedMode,l=n.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){zt(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=n[c],h=CA(t,f);u[h]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(f)}}else if(s==="single"||s===!0){var p=n[l-1],h=CA(t,p);o.selectedMap=(r={},r[h]=!0,r),this._selectedDataIndicesMap=(a={},a[h]=t.getRawIndex(p),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var n=[];t.hasItemOption&&t.each(function(r){var a=t.getRawDataItem(r);a&&a.selected&&n.push(r)}),n.length>0&&this._innerSelect(t,n)}},e.registerClass=function(t){return mn.registerClass(t)},e.protoInitialize=(function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"})(),e})(mn);Sr(vi,iL);Sr(vi,gU);Lq(vi,mn);function UG(i){var e=i.name;Pk(i)||(i.name=vme(i)||e)}function vme(i){var e=i.getRawData(),t=e.mapDimensionsAll("seriesName"),n=[];return H(t,function(r){var a=e.getDimensionInfo(r);a.displayName&&n.push(a.displayName)}),n.join(" ")}function gme(i){return i.model.getRawData().count()}function mme(i){var e=i.model;return e.setData(e.getRawData().cloneShallow()),yme}function yme(i,e){e.outputData&&i.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function FG(i,e){H(u_(i.CHANGABLE_METHODS,i.DOWNSAMPLE_METHODS),function(t){i.wrapMethod(t,Qt(_me,e))})}function _me(i,e){var t=iz(i);return t&&t.setOutputEnd((e||this).count()),e}function iz(i){var e=(i.ecModel||{}).scheduler,t=e&&e.getPipeline(i.uid);if(t){var n=t.currentTask;if(n){var r=n.agentStubMap;r&&(n=r.get(i.uid))}return n}}var Ti=(function(){function i(){this.group=new It,this.uid=V_("viewComponent")}return i.prototype.init=function(e,t){},i.prototype.render=function(e,t,n,r){},i.prototype.dispose=function(e,t){},i.prototype.updateView=function(e,t,n,r){},i.prototype.updateLayout=function(e,t,n,r){},i.prototype.updateVisual=function(e,t,n,r){},i.prototype.toggleBlurSeries=function(e,t,n){},i.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},i})();Ok(Ti);WR(Ti);function W_(){var i=yn();return function(e){var t=i(e),n=e.pipelineContext,r=!!t.large,a=!!t.progressiveRender,o=t.large=!!(n&&n.large),s=t.progressiveRender=!!(n&&n.progressiveRender);return(r!==o||a!==s)&&"reset"}}var gj=yn(),xme=W_(),fi=(function(){function i(){this.group=new It,this.uid=V_("viewChart"),this.renderTask=e1({plan:Sme,reset:bme}),this.renderTask.context={view:this}}return i.prototype.init=function(e,t){},i.prototype.render=function(e,t,n,r){},i.prototype.highlight=function(e,t,n,r){var a=e.getData(r&&r.dataType);a&&GG(a,r,"emphasis")},i.prototype.downplay=function(e,t,n,r){var a=e.getData(r&&r.dataType);a&&GG(a,r,"normal")},i.prototype.remove=function(e,t){this.group.removeAll()},i.prototype.dispose=function(e,t){},i.prototype.updateView=function(e,t,n,r){this.render(e,t,n,r)},i.prototype.updateLayout=function(e,t,n,r){this.render(e,t,n,r)},i.prototype.updateVisual=function(e,t,n,r){this.render(e,t,n,r)},i.prototype.eachRendered=function(e){Pp(this.group,e)},i.markUpdateMethod=function(e,t){gj(e).updateMethod=t},i.protoInitialize=(function(){var e=i.prototype;e.type="chart"})(),i})();function VG(i,e,t){i&&w1(i)&&(e==="emphasis"?Lh:Ih)(i,t)}function GG(i,e,t){var n=tm(i,e),r=e&&e.highlightKey!=null?Zpe(e.highlightKey):null;n!=null?H(Mi(n),function(a){VG(i.getItemGraphicEl(a),t,r)}):i.eachItemGraphicEl(function(a){VG(a,t,r)})}Ok(fi);WR(fi);function Sme(i){return xme(i.model)}function bme(i){var e=i.model,t=i.ecModel,n=i.api,r=i.payload,a=e.pipelineContext.progressiveRender,o=i.view,s=r&&gj(r).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](e,t,n,r),Mme[l]}var Mme={incrementalPrepareRender:{progress:function(i,e){e.view.incrementalRender(i,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(i,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},oD="\0__throttleOriginMethod",HG="\0__throttleRate",WG="\0__throttleType";function aL(i,e,t){var n,r=0,a=0,o=null,s,l,u,c;e=e||0;function f(){a=new Date().getTime(),o=null,i.apply(l,u||[])}var h=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];n=new Date().getTime(),l=this,u=p;var y=c||e,_=c||t;c=null,s=n-(_?r:a)-y,clearTimeout(o),_?o=setTimeout(f,y):s>=0?f():o=setTimeout(f,-s),r=n};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.debounceNextCall=function(p){c=p},h}function X_(i,e,t,n){var r=i[e];if(r){var a=r[oD]||r,o=r[WG],s=r[HG];if(s!==t||o!==n){if(t==null||!n)return i[e]=a;r=i[e]=aL(a,t,n==="debounce"),r[oD]=a,r[WG]=n,r[HG]=t}return r}}function R1(i,e){var t=i[e];t&&t[oD]&&(t.clear&&t.clear(),i[e]=t[oD])}var XG=yn(),YG={itemStyle:nm(_Z,!0),lineStyle:nm(yZ,!0)},Tme={lineStyle:"stroke",itemStyle:"fill"};function mj(i,e){var t=i.visualStyleMapper||YG[e];return t||(console.warn("Unknown style type '"+e+"'."),YG.itemStyle)}function yj(i,e){var t=i.visualDrawType||Tme[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var wme={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,e){var t=i.getData(),n=i.visualStyleAccessPath||"itemStyle",r=i.getModel(n),a=mj(i,n),o=a(r),s=r.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var l=yj(i,n),u=o[l],c=Ct(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var h=i.getColorFromPalette(i.name,null,e.getSeriesCount());o[l]||(o[l]=h,t.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||Ct(o.fill)?h:o.fill,o.stroke=o.stroke==="auto"||Ct(o.stroke)?h:o.stroke}if(t.setVisual("style",o),t.setVisual("drawType",l),!e.isSeriesFiltered(i)&&c)return t.setVisual("colorFromPalette",!1),{dataEach:function(p,g){var y=i.getDataParams(g),_=Ce({},o);_[l]=c(y),p.setItemVisual(g,"style",_)}}}},ZS=new Sn,Ame={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,e){if(!(i.ignoreStyleOnData||e.isSeriesFiltered(i))){var t=i.getData(),n=i.visualStyleAccessPath||"itemStyle",r=mj(i,n),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[n]){ZS.option=l[n];var u=r(ZS),c=o.ensureUniqueItemVisual(s,"style");Ce(c,u),ZS.option.decal&&(o.setItemVisual(s,"decal",ZS.option.decal),ZS.option.decal.dirty=!0),a in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},Cme={performRawSeries:!0,overallReset:function(i){var e=St();i.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+n,a=e.get(r);a||(a={},e.set(r,a)),XG(t).scope=a}}),i.eachSeries(function(t){if(!(t.isColorBySeries()||i.isSeriesFiltered(t))){var n=t.getRawData(),r={},a=t.getData(),o=XG(t).scope,s=t.visualStyleAccessPath||"itemStyle",l=yj(t,s);a.each(function(u){var c=a.getRawIndex(u);r[c]=u}),n.each(function(u){var c=r[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var h=a.ensureUniqueItemVisual(c,"style"),p=n.getName(u)||u+"",g=n.count();h[l]=t.getColorFromPalette(p,o,g)}})}})}},EA=Math.PI;function Eme(i,e){e=e||{},Ot(e,{text:"loading",textColor:ge.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:ge.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var t=new It,n=new dn({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(n);var r=new In({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new dn({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var o;return e.showSpinner&&(o=new pM({shape:{startAngle:-EA/2,endAngle:-EA/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:EA*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:EA*3/2}).delay(300).start("circularInOut"),t.add(o)),t.resize=function(){var s=r.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(i.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),c=i.getHeight()/2;e.showSpinner&&o.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:i.getWidth(),height:i.getHeight()})},t.resize(),t}var _j=(function(){function i(e,t,n,r){this._stageTaskMap=St(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return i.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(n){var r=n.overallTask;r&&r.dirty()})},i.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),r=n.context,a=!t&&n.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>n.blockIndex,o=a?n.step:null,s=r&&r.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},i.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},i.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),r=e.getData(),a=r.count(),o=n.progressiveEnabled&&t.incrementalPrepareRender&&a>=n.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:l,large:s}},i.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=St();e.eachSeries(function(r){var a=r.getProgressive(),o=r.uid;n.set(o,{id:o,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:a&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(r,r.dataTask)})},i.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;H(this._allHandlers,function(r){var a=e.get(r.uid)||e.set(r.uid,{}),o="";no(!(r.reset&&r.overallReset),o),r.reset&&this._createSeriesStageTask(r,a,t,n),r.overallReset&&this._createOverallStageTask(r,a,t,n)},this)},i.prototype.prepareView=function(e,t,n,r){var a=e.renderTask,o=a.context;o.model=t,o.ecModel=n,o.api=r,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},i.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},i.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},i.prototype._performStageTasks=function(e,t,n,r){r=r||{};var a=!1,o=this;H(e,function(l,u){if(!(r.visualType&&r.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,h=c.overallTask;if(h){var p,g=h.agentStubMap;g.each(function(_){s(r,_)&&(_.dirty(),p=!0)}),p&&h.dirty(),o.updatePayload(h,n);var y=o.getPerformArgs(h,r.block);g.each(function(_){_.perform(y)}),h.perform(y)&&(a=!0)}else f&&f.each(function(_,x){s(r,_)&&_.dirty();var M=o.getPerformArgs(_,r.block);M.skip=!l.performRawSeries&&t.isSeriesFiltered(_.context.model),o.updatePayload(_,n),_.perform(M)&&(a=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},i.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t=n.dataTask.perform()||t}),this.unfinished=t||this.unfinished},i.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},i.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},i.prototype._createSeriesStageTask=function(e,t,n,r){var a=this,o=t.seriesTaskMap,s=t.seriesTaskMap=St(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,r).each(c);function c(f){var h=f.uid,p=s.set(h,o&&o.get(h)||e1({plan:Pme,reset:Nme,count:zme}));p.context={model:f,ecModel:n,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(f,p)}},i.prototype._createOverallStageTask=function(e,t,n,r){var a=this,o=t.overallTask=t.overallTask||e1({reset:Dme});o.context={ecModel:n,api:r,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=St(),u=e.seriesType,c=e.getTargetSeries,f=!0,h=!1,p="";no(!e.createOnAllSeries,p),u?n.eachRawSeriesByType(u,g):c?c(n,r).each(g):(f=!1,H(n.getSeries(),g));function g(y){var _=y.uid,x=l.set(_,s&&s.get(_)||(h=!0,e1({reset:Rme,onDirty:Ime})));x.context={model:y,overallProgress:f},x.agent=o,x.__block=f,a._pipe(y,x)}h&&o.dirty()},i.prototype._pipe=function(e,t){var n=e.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},i.wrapStageHandler=function(e,t){return Ct(e)&&(e={overallReset:e,seriesType:Bme(e)}),e.uid=V_("stageHandler"),t&&(e.visualType=t),e},i})();function Dme(i){i.overallReset(i.ecModel,i.api,i.payload)}function Rme(i){return i.overallProgress&&Lme}function Lme(){this.agent.dirty(),this.getDownstream().dirty()}function Ime(){this.agent&&this.agent.dirty()}function Pme(i){return i.plan?i.plan(i.model,i.ecModel,i.api,i.payload):null}function Nme(i){i.useClearVisual&&i.data.clearAllVisual();var e=i.resetDefines=Mi(i.reset(i.model,i.ecModel,i.api,i.payload));return e.length>1?Ge(e,function(t,n){return xj(n)}):Ome}var Ome=xj(0);function xj(i){return function(e,t){var n=t.data,r=t.resetDefines[i];if(r&&r.dataEach)for(var a=e.start;a<e.end;a++)r.dataEach(n,a);else r&&r.progress&&r.progress(e,n)}}function zme(i){return i.data.count()}function Bme(i){sD=null;try{i(L1,Sj)}catch{}return sD}var L1={},Sj={},sD;bj(L1,mU);bj(Sj,YZ);L1.eachSeriesByType=L1.eachRawSeriesByType=function(i){sD=i};L1.eachComponent=function(i){i.mainType==="series"&&i.subType&&(sD=i.subType)};function bj(i,e){for(var t in e.prototype)i[t]=_r}var Bt=ge.darkColor,kme=Bt.background,jS=function(){return{axisLine:{lineStyle:{color:Bt.axisLine}},splitLine:{lineStyle:{color:Bt.axisSplitLine}},splitArea:{areaStyle:{color:[Bt.backgroundTint,Bt.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:Bt.axisMinorSplitLine}},axisLabel:{color:Bt.axisLabel},axisName:{}}},qG={label:{color:Bt.secondary},itemStyle:{borderColor:Bt.borderTint},dividerLineStyle:{color:Bt.border}},Mj={darkMode:!0,color:Bt.theme,backgroundColor:kme,axisPointer:{lineStyle:{color:Bt.border},crossStyle:{color:Bt.borderShade},label:{color:Bt.tertiary}},legend:{textStyle:{color:Bt.secondary},pageTextStyle:{color:Bt.tertiary}},textStyle:{color:Bt.secondary},title:{textStyle:{color:Bt.primary},subtextStyle:{color:Bt.quaternary}},toolbox:{iconStyle:{borderColor:Bt.accent50}},tooltip:{backgroundColor:Bt.neutral20,defaultBorderColor:Bt.border,textStyle:{color:Bt.tertiary}},dataZoom:{borderColor:Bt.accent10,textStyle:{color:Bt.tertiary},brushStyle:{color:Bt.backgroundTint},handleStyle:{color:Bt.neutral00,borderColor:Bt.accent20},moveHandleStyle:{color:Bt.accent40},emphasis:{handleStyle:{borderColor:Bt.accent50}},dataBackground:{lineStyle:{color:Bt.accent30},areaStyle:{color:Bt.accent20}},selectedDataBackground:{lineStyle:{color:Bt.accent50},areaStyle:{color:Bt.accent30}}},visualMap:{textStyle:{color:Bt.secondary},handleStyle:{borderColor:Bt.neutral30}},timeline:{lineStyle:{color:Bt.accent10},label:{color:Bt.tertiary},controlStyle:{color:Bt.accent30,borderColor:Bt.accent30}},calendar:{itemStyle:{color:Bt.neutral00,borderColor:Bt.neutral20},dayLabel:{color:Bt.tertiary},monthLabel:{color:Bt.secondary},yearLabel:{color:Bt.secondary}},matrix:{x:qG,y:qG,backgroundColor:{borderColor:Bt.axisLine},body:{itemStyle:{borderColor:Bt.borderTint}}},timeAxis:jS(),logAxis:jS(),valueAxis:jS(),categoryAxis:jS(),line:{symbol:"circle"},graph:{color:Bt.theme},gauge:{title:{color:Bt.secondary},axisLine:{lineStyle:{color:[[1,Bt.neutral05]]}},axisLabel:{color:Bt.axisLabel},detail:{color:Bt.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:Bt.background}},radar:(function(){var i=jS();return i.axisName={color:Bt.axisLabel},i.axisLine.lineStyle.color=Bt.neutral20,i})(),treemap:{breadcrumb:{itemStyle:{color:Bt.neutral20,textStyle:{color:Bt.secondary}},emphasis:{itemStyle:{color:Bt.neutral30}}}},sunburst:{itemStyle:{borderColor:Bt.background}},map:{itemStyle:{borderColor:Bt.border,areaColor:Bt.neutral10},label:{color:Bt.tertiary},emphasis:{label:{color:Bt.primary},itemStyle:{areaColor:Bt.highlight}},select:{label:{color:Bt.primary},itemStyle:{areaColor:Bt.highlight}}},geo:{itemStyle:{borderColor:Bt.border,areaColor:Bt.neutral10},emphasis:{label:{color:Bt.primary},itemStyle:{areaColor:Bt.highlight}},select:{label:{color:Bt.primary},itemStyle:{color:Bt.highlight}}}};Mj.categoryAxis.splitLine.show=!1;var Ume=(function(){function i(){}return i.prototype.normalizeQuery=function(e){var t={},n={},r={};if(rt(e)){var a=jc(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};H(e,function(l,u){for(var c=!1,f=0;f<o.length;f++){var h=o[f],p=u.lastIndexOf(h);if(p>0&&p===u.length-h.length){var g=u.slice(0,p);g!=="data"&&(t.mainType=g,t[h.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(r[u]=l)})}return{cptQuery:t,dataQuery:n,otherQuery:r}},i.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=t.cptQuery,u=t.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,r,a));function c(f,h,p,g){return f[p]==null||h[g||p]===f[p]}},i.prototype.afterTrigger=function(){this.eventInfo=null},i})(),rz=["symbol","symbolSize","symbolRotate","symbolOffset"],ZG=rz.concat(["symbolKeepAspect"]),Fme={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,e){var t=i.getData();if(i.legendIcon&&t.setVisual("legendIcon",i.legendIcon),!i.hasSymbolVisual)return;for(var n={},r={},a=!1,o=0;o<rz.length;o++){var s=rz[o],l=i.get(s);Ct(l)?(a=!0,r[s]=l):n[s]=l}if(n.symbol=n.symbol||i.defaultSymbol,t.setVisual(Ce({legendIcon:i.legendIcon||n.symbol,symbolKeepAspect:i.get("symbolKeepAspect")},n)),e.isSeriesFiltered(i))return;var u=An(r);function c(f,h){for(var p=i.getRawValue(h),g=i.getDataParams(h),y=0;y<u.length;y++){var _=u[y];f.setItemVisual(h,_,r[_](p,g))}}return{dataEach:a?c:null}}},Vme={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,e){if(!i.hasSymbolVisual||e.isSeriesFiltered(i))return;var t=i.getData();function n(r,a){for(var o=r.getItemModel(a),s=0;s<ZG.length;s++){var l=ZG[s],u=o.getShallow(l,!0);u!=null&&r.setItemVisual(a,l,u)}}return{dataEach:t.hasItemOption?n:null}}};function bU(i,e,t){switch(t){case"color":var n=i.getItemVisual(e,"style");return n[i.getVisual("drawType")];case"opacity":return i.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getItemVisual(e,t)}}function _M(i,e){switch(e){case"color":var t=i.getVisual("style");return t[i.getVisual("drawType")];case"opacity":return i.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getVisual(e)}}function Tj(i,e,t,n){switch(t){case"color":var r=i.ensureUniqueItemVisual(e,"style");r[i.getVisual("drawType")]=n,i.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":i.ensureUniqueItemVisual(e,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":i.setItemVisual(e,t,n);break}}function wj(i,e){function t(n,r){var a=[];return n.eachComponent({mainType:"series",subType:i,query:r},function(o){a.push(o.seriesIndex)}),a}H([[i+"ToggleSelect","toggleSelect"],[i+"Select","select"],[i+"UnSelect","unselect"]],function(n){e(n[0],function(r,a,o){r=Ce({},r),o.dispatchAction(Ce(r,{type:n[1],seriesIndex:t(a,r)}))})})}function u0(i,e,t,n,r){var a=i+e;t.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=r.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),h=tm(f,r.fromActionPayload);t.trigger(a,{type:a,seriesId:o.id,name:ze(h)?f.getName(h[0]):f.getName(h),selected:rt(l)?l:Ce({},l)})}})}function Gme(i,e,t){i.on("selectchanged",function(n){var r=t.getModel();n.isFromClick?(u0("map","selectchanged",e,r,n),u0("pie","selectchanged",e,r,n)):n.fromAction==="select"?(u0("map","selected",e,r,n),u0("pie","selected",e,r,n)):n.fromAction==="unselect"&&(u0("map","unselected",e,r,n),u0("pie","unselected",e,r,n))})}function Ig(i,e,t){for(var n;i&&!(e(i)&&(n=i,t));)i=i.__hostTarget||i.parent;return n}var Hme=Math.round(Math.random()*9),Wme=typeof Object.defineProperty=="function",Xme=(function(){function i(){this._id="__ec_inner_"+Hme++}return i.prototype.get=function(e){return this._guard(e)[this._id]},i.prototype.set=function(e,t){var n=this._guard(e);return Wme?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},i.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},i.prototype.has=function(e){return!!this._guard(e)[this._id]},i.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},i})(),Yme=bn.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,e){var t=e.cx,n=e.cy,r=e.width/2,a=e.height/2;i.moveTo(t,n-a),i.lineTo(t+r,n+a),i.lineTo(t-r,n+a),i.closePath()}}),qme=bn.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,e){var t=e.cx,n=e.cy,r=e.width/2,a=e.height/2;i.moveTo(t,n-a),i.lineTo(t+r,n),i.lineTo(t,n+a),i.lineTo(t-r,n),i.closePath()}}),Zme=bn.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,e){var t=e.x,n=e.y,r=e.width/5*3,a=Math.max(r,e.height),o=r/2,s=o*o/(a-o),l=n-a+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),h=Math.cos(u),p=o*.6,g=o*.7;i.moveTo(t-c,l+s),i.arc(t,l,o,Math.PI-u,Math.PI*2+u),i.bezierCurveTo(t+c-f*p,l+s+h*p,t,n-g,t,n),i.bezierCurveTo(t,n-g,t-c+f*p,l+s+h*p,t-c,l+s),i.closePath()}}),jme=bn.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,e){var t=e.height,n=e.width,r=e.x,a=e.y,o=n/3*2;i.moveTo(r,a),i.lineTo(r+o,a+t),i.lineTo(r,a+t/4*3),i.lineTo(r-o,a+t),i.lineTo(r,a),i.closePath()}}),Kme={line:Nr,rect:dn,roundRect:dn,square:dn,circle:mf,diamond:qme,pin:Zme,arrow:jme,triangle:Yme},$me={line:function(i,e,t,n,r){r.x1=i,r.y1=e+n/2,r.x2=i+t,r.y2=e+n/2},rect:function(i,e,t,n,r){r.x=i,r.y=e,r.width=t,r.height=n},roundRect:function(i,e,t,n,r){r.x=i,r.y=e,r.width=t,r.height=n,r.r=Math.min(t,n)/4},square:function(i,e,t,n,r){var a=Math.min(t,n);r.x=i,r.y=e,r.width=a,r.height=a},circle:function(i,e,t,n,r){r.cx=i+t/2,r.cy=e+n/2,r.r=Math.min(t,n)/2},diamond:function(i,e,t,n,r){r.cx=i+t/2,r.cy=e+n/2,r.width=t,r.height=n},pin:function(i,e,t,n,r){r.x=i+t/2,r.y=e+n/2,r.width=t,r.height=n},arrow:function(i,e,t,n,r){r.x=i+t/2,r.y=e+n/2,r.width=t,r.height=n},triangle:function(i,e,t,n,r){r.cx=i+t/2,r.cy=e+n/2,r.width=t,r.height=n}},lD={};H(Kme,function(i,e){lD[e]=new i});var Qme=bn.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(i,e,t){var n=KE(i,e,t),r=this.shape;return r&&r.symbolType==="pin"&&e.position==="inside"&&(n.y=t.y+t.height*.4),n},buildPath:function(i,e,t){var n=e.symbolType;if(n!=="none"){var r=lD[n];r||(n="rect",r=lD[n]),$me[n](e.x,e.y,e.width,e.height,r.shape),r.buildPath(i,r.shape,t)}}});function Jme(i,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=i,t.fill=e||ge.color.neutral00,t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=i:t.fill=i,this.markRedraw()}}function Or(i,e,t,n,r,a,o){var s=i.indexOf("empty")===0;s&&(i=i.substr(5,1).toLowerCase()+i.substr(6));var l;return i.indexOf("image://")===0?l=qk(i.slice(8),new Ut(e,t,n,r),o?"center":"cover"):i.indexOf("path://")===0?l=p_(i.slice(7),{},new Ut(e,t,n,r),o?"center":"cover"):l=new Qme({shape:{symbolType:i,x:e,y:t,width:n,height:r}}),l.__isEmptyBrush=s,l.setColor=Jme,a&&l.setColor(a),l}function Y_(i){return ze(i)||(i=[+i,+i]),[i[0]||0,i[1]||0]}function _m(i,e){if(i!=null)return ze(i)||(i=[i,i]),[it(i[0],e[0])||0,it(bt(i[1],i[0]),e[1])||0]}function Pg(i){return isFinite(i)}function eye(i,e,t){var n=e.x==null?0:e.x,r=e.x2==null?1:e.x2,a=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(n=n*t.width+t.x,r=r*t.width+t.x,a=a*t.height+t.y,o=o*t.height+t.y),n=Pg(n)?n:0,r=Pg(r)?r:1,a=Pg(a)?a:0,o=Pg(o)?o:0;var s=i.createLinearGradient(n,a,r,o);return s}function tye(i,e,t){var n=t.width,r=t.height,a=Math.min(n,r),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(o=o*n+t.x,s=s*r+t.y,l=l*a),o=Pg(o)?o:.5,s=Pg(s)?s:.5,l=l>=0&&Pg(l)?l:.5;var u=i.createRadialGradient(o,s,0,o,s,l);return u}function az(i,e,t){for(var n=e.type==="radial"?tye(i,e,t):eye(i,e,t),r=e.colorStops,a=0;a<r.length;a++)n.addColorStop(r[a].offset,r[a].color);return n}function nye(i,e){if(i===e||!i&&!e)return!1;if(!i||!e||i.length!==e.length)return!0;for(var t=0;t<i.length;t++)if(i[t]!==e[t])return!0;return!1}function DA(i){return parseInt(i,10)}function B0(i,e,t){var n=["width","height"][e],r=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(t[n]!=null&&t[n]!=="auto")return parseFloat(t[n]);var s=document.defaultView.getComputedStyle(i);return(i[r]||DA(s[n])||DA(i.style[n]))-(DA(s[a])||0)-(DA(s[o])||0)|0}function iye(i,e){return!i||i==="solid"||!(e>0)?null:i==="dashed"?[4*e,2*e]:i==="dotted"?[e]:Pn(i)?[i]:ze(i)?i:null}function MU(i){var e=i.style,t=e.lineDash&&e.lineWidth>0&&iye(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(t){var r=e.strokeNoScale&&i.getLineScale?i.getLineScale():1;r&&r!==1&&(t=Ge(t,function(a){return a/r}),n/=r)}return[t,n]}var rye=new ff(!0);function uD(i){var e=i.stroke;return!(e==null||e==="none"||!(i.lineWidth>0))}function jG(i){return typeof i=="string"&&i!=="none"}function cD(i){var e=i.fill;return e!=null&&e!=="none"}function KG(i,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=i.globalAlpha;i.globalAlpha=e.fillOpacity*e.opacity,i.fill(),i.globalAlpha=t}else i.fill()}function $G(i,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=i.globalAlpha;i.globalAlpha=e.strokeOpacity*e.opacity,i.stroke(),i.globalAlpha=t}else i.stroke()}function oz(i,e,t){var n=zk(e.image,e.__image,t);if(XR(n)){var r=i.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*Hb),a.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(a)}return r}}function aye(i,e,t,n){var r,a=uD(t),o=cD(t),s=t.strokePercent,l=s<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||rye,f=e.__dirty;if(!n){var h=t.fill,p=t.stroke,g=o&&!!h.colorStops,y=a&&!!p.colorStops,_=o&&!!h.image,x=a&&!!p.image,M=void 0,T=void 0,C=void 0,E=void 0,D=void 0;(g||y)&&(D=e.getBoundingRect()),g&&(M=f?az(i,h,D):e.__canvasFillGradient,e.__canvasFillGradient=M),y&&(T=f?az(i,p,D):e.__canvasStrokeGradient,e.__canvasStrokeGradient=T),_&&(C=f||!e.__canvasFillPattern?oz(i,h,e):e.__canvasFillPattern,e.__canvasFillPattern=C),x&&(E=f||!e.__canvasStrokePattern?oz(i,p,e):e.__canvasStrokePattern,e.__canvasStrokePattern=E),g?i.fillStyle=M:_&&(C?i.fillStyle=C:o=!1),y?i.strokeStyle=T:x&&(E?i.strokeStyle=E:a=!1)}var L=e.getGlobalScale();c.setScale(L[0],L[1],e.segmentIgnoreThreshold);var z,P;i.setLineDash&&t.lineDash&&(r=MU(e),z=r[0],P=r[1]);var N=!0;(u||f&A0)&&(c.setDPR(i.dpr),l?c.setContext(null):(c.setContext(i),N=!1),c.reset(),e.buildPath(c,e.shape,n),c.toStatic(),e.pathUpdated()),N&&c.rebuildPath(i,l?s:1),z&&(i.setLineDash(z),i.lineDashOffset=P),n||(t.strokeFirst?(a&&$G(i,t),o&&KG(i,t)):(o&&KG(i,t),a&&$G(i,t))),z&&i.setLineDash([])}function oye(i,e,t){var n=e.__image=zk(t.image,e.__image,e,e.onload);if(!(!n||!XR(n))){var r=t.x||0,a=t.y||0,o=e.getWidth(),s=e.getHeight(),l=n.width/n.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=n.width,s=n.height),t.sWidth&&t.sHeight){var u=t.sx||0,c=t.sy||0;i.drawImage(n,u,c,t.sWidth,t.sHeight,r,a,o,s)}else if(t.sx&&t.sy){var u=t.sx,c=t.sy,f=o-u,h=s-c;i.drawImage(n,u,c,f,h,r,a,o,s)}else i.drawImage(n,r,a,o,s)}}function sye(i,e,t){var n,r=t.text;if(r!=null&&(r+=""),r){i.font=t.font||Dh,i.textAlign=t.textAlign,i.textBaseline=t.textBaseline;var a=void 0,o=void 0;i.setLineDash&&t.lineDash&&(n=MU(e),a=n[0],o=n[1]),a&&(i.setLineDash(a),i.lineDashOffset=o),t.strokeFirst?(uD(t)&&i.strokeText(r,t.x,t.y),cD(t)&&i.fillText(r,t.x,t.y)):(cD(t)&&i.fillText(r,t.x,t.y),uD(t)&&i.strokeText(r,t.x,t.y)),a&&i.setLineDash([])}}var QG=["shadowBlur","shadowOffsetX","shadowOffsetY"],JG=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Aj(i,e,t,n,r){var a=!1;if(!n&&(t=t||{},e===t))return!1;if(n||e.opacity!==t.opacity){Es(i,r),a=!0;var o=Math.max(Math.min(e.opacity,1),0);i.globalAlpha=isNaN(o)?Ug.opacity:o}(n||e.blend!==t.blend)&&(a||(Es(i,r),a=!0),i.globalCompositeOperation=e.blend||Ug.blend);for(var s=0;s<QG.length;s++){var l=QG[s];(n||e[l]!==t[l])&&(a||(Es(i,r),a=!0),i[l]=i.dpr*(e[l]||0))}return(n||e.shadowColor!==t.shadowColor)&&(a||(Es(i,r),a=!0),i.shadowColor=e.shadowColor||Ug.shadowColor),a}function eH(i,e,t,n,r){var a=I1(e,r.inHover),o=n?null:t&&I1(t,r.inHover)||{};if(a===o)return!1;var s=Aj(i,a,o,n,r);if((n||a.fill!==o.fill)&&(s||(Es(i,r),s=!0),jG(a.fill)&&(i.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(Es(i,r),s=!0),jG(a.stroke)&&(i.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(Es(i,r),s=!0),i.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);i.lineWidth!==u&&(s||(Es(i,r),s=!0),i.lineWidth=u)}for(var c=0;c<JG.length;c++){var f=JG[c],h=f[0];(n||a[h]!==o[h])&&(s||(Es(i,r),s=!0),i[h]=a[h]||f[1])}return s}function lye(i,e,t,n,r){return Aj(i,I1(e,r.inHover),t&&I1(t,r.inHover),n,r)}function Cj(i,e){var t=e.transform,n=i.dpr||1;t?i.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):i.setTransform(n,0,0,n,0,0)}function uye(i,e,t){for(var n=!1,r=0;r<i.length;r++){var a=i[r];n=n||a.isZeroArea(),Cj(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=n}function cye(i,e){return i&&e?i[0]!==e[0]||i[1]!==e[1]||i[2]!==e[2]||i[3]!==e[3]||i[4]!==e[4]||i[5]!==e[5]:!(!i&&!e)}var tH=1,nH=2,iH=3,rH=4;function fye(i){var e=cD(i),t=uD(i);return!(i.lineDash||!(+e^+t)||e&&typeof i.fill!="string"||t&&typeof i.stroke!="string"||i.strokePercent<1||i.strokeOpacity<1||i.fillOpacity<1)}function Es(i,e){e.batchFill&&i.fill(),e.batchStroke&&i.stroke(),e.batchFill="",e.batchStroke=""}function I1(i,e){return e&&i.__hoverStyle||i.style}function TU(i,e){Ng(i,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Ng(i,e,t,n){var r=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~Ws,e.__isRendered=!1;return}var a=e.__clipPaths,o=t.prevElClipPaths,s=!1,l=!1;if((!o||nye(a,o))&&(o&&o.length&&(Es(i,t),i.restore(),l=s=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(Es(i,t),i.save(),uye(a,i,t),s=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=t.prevEl;u||(l=s=!0);var c=e instanceof bn&&e.autoBatch&&fye(e.style);s||cye(r,u.transform)?(Es(i,t),Cj(i,e)):c||Es(i,t);var f=I1(e,t.inHover);e instanceof bn?(t.lastDrawType!==tH&&(l=!0,t.lastDrawType=tH),eH(i,e,u,l,t),(!c||!t.batchFill&&!t.batchStroke)&&i.beginPath(),aye(i,e,f,c),c&&(t.batchFill=f.fill||"",t.batchStroke=f.stroke||"")):e instanceof d_?(t.lastDrawType!==iH&&(l=!0,t.lastDrawType=iH),eH(i,e,u,l,t),sye(i,e,f)):e instanceof Ta?(t.lastDrawType!==nH&&(l=!0,t.lastDrawType=nH),lye(i,e,u,l,t),oye(i,e,f)):e.getTemporalDisplayables&&(t.lastDrawType!==rH&&(l=!0,t.lastDrawType=rH),hye(i,e,t)),c&&n&&Es(i,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function hye(i,e,t){var n=e.getDisplayables(),r=e.getTemporalDisplayables();i.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},o,s;for(o=e.getCursor(),s=n.length;o<s;o++){var l=n[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Ng(i,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=r.length;u<c;u++){var l=r[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Ng(i,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,i.restore()}var t3=new Xme,aH=new c_(100),oH=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function m_(i,e){if(i==="none")return null;var t=e.getDevicePixelRatio(),n=e.getZr(),r=n.painter.type==="svg";i.dirty&&t3.delete(i);var a=t3.get(i);if(a)return a;var o=Ot(i,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=r?1:1/t,t3.set(i,s),i.dirty=!1,s;function l(u){for(var c=[t],f=!0,h=0;h<oH.length;++h){var p=o[oH[h]];if(p!=null&&!ze(p)&&!rt(p)&&!Pn(p)&&typeof p!="boolean"){f=!1;break}c.push(p)}var g;if(f){g=c.join(",")+(r?"-svg":"");var y=aH.get(g);y&&(r?u.svgElement=y:u.image=y)}var _=Dj(o.dashArrayX),x=dye(o.dashArrayY),M=Ej(o.symbol),T=pye(_),C=Rj(x),E=!r&&Rs.createCanvas(),D=r&&{tag:"g",attrs:{},key:"dcl",children:[]},L=P(),z;E&&(E.width=L.width*t,E.height=L.height*t,z=E.getContext("2d")),N(),f&&aH.put(g,E||D),u.image=E,u.svgElement=D,u.svgWidth=L.width,u.svgHeight=L.height;function P(){for(var B=1,G=0,U=T.length;G<U;++G)B=b4(B,T[G]);for(var X=1,G=0,U=M.length;G<U;++G)X=b4(X,M[G].length);B*=X;var q=C*T.length*M.length;return{width:Math.max(1,Math.min(B,o.maxTileWidth)),height:Math.max(1,Math.min(q,o.maxTileHeight))}}function N(){z&&(z.clearRect(0,0,E.width,E.height),o.backgroundColor&&(z.fillStyle=o.backgroundColor,z.fillRect(0,0,E.width,E.height)));for(var B=0,G=0;G<x.length;++G)B+=x[G];if(B<=0)return;for(var U=-C,X=0,q=0,V=0;U<L.height;){if(X%2===0){for(var j=q/2%M.length,K=0,te=0,ie=0;K<L.width*2;){for(var Y=0,G=0;G<_[V].length;++G)Y+=_[V][G];if(Y<=0)break;if(te%2===0){var ee=(1-o.symbolSize)*.5,oe=K+_[V][te]*ee,de=U+x[X]*ee,Pe=_[V][te]*o.symbolSize,he=x[X]*o.symbolSize,Se=ie/2%M[j].length;Ee(oe,de,Pe,he,M[j][Se])}K+=_[V][te],++ie,++te,te===_[V].length&&(te=0)}++V,V===_.length&&(V=0)}U+=x[X],++q,++X,X===x.length&&(X=0)}function Ee(Te,He,We,Qe,yt){var be=r?1:t,Ue=Or(yt,Te*be,He*be,We*be,Qe*be,o.color,o.symbolKeepAspect);if(r){var Ie=n.painter.renderOneToVNode(Ue);Ie&&D.children.push(Ie)}else TU(z,Ue)}}}}function Ej(i){if(!i||i.length===0)return[["rect"]];if(rt(i))return[[i]];for(var e=!0,t=0;t<i.length;++t)if(!rt(i[t])){e=!1;break}if(e)return Ej([i]);for(var n=[],t=0;t<i.length;++t)rt(i[t])?n.push([i[t]]):n.push(i[t]);return n}function Dj(i){if(!i||i.length===0)return[[0,0]];if(Pn(i)){var e=Math.ceil(i);return[[e,e]]}for(var t=!0,n=0;n<i.length;++n)if(!Pn(i[n])){t=!1;break}if(t)return Dj([i]);for(var r=[],n=0;n<i.length;++n)if(Pn(i[n])){var e=Math.ceil(i[n]);r.push([e,e])}else{var e=Ge(i[n],function(s){return Math.ceil(s)});e.length%2===1?r.push(e.concat(e)):r.push(e)}return r}function dye(i){if(!i||typeof i=="object"&&i.length===0)return[0,0];if(Pn(i)){var e=Math.ceil(i);return[e,e]}var t=Ge(i,function(n){return Math.ceil(n)});return i.length%2?t.concat(t):t}function pye(i){return Ge(i,function(e){return Rj(e)})}function Rj(i){for(var e=0,t=0;t<i.length;++t)e+=i[t];return i.length%2===1?e*2:e}function vye(i,e){i.eachRawSeries(function(t){if(!i.isSeriesFiltered(t)){var n=t.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var l=n.ensureUniqueItemVisual(o,"style");l.decal=m_(s,e)}});var r=n.getVisual("decal");if(r){var a=n.getVisual("style");a.decal=m_(r,e)}}})}var Lu=new eu,Lj={};function gye(i,e){Lj[i]=e}function Ij(i){return Lj[i]}var Pj={};function Nj(i,e){Pj[i]=e}function mye(i){return Pj[i]}var yye="6.0.0",_ye={zrender:"6.0.0"},xye=1,Sye=800,bye=900,Mye=1e3,Tye=2e3,wye=5e3,Oj=1e3,Aye=1100,wU=2e3,zj=3e3,Cye=4e3,oL=4500,Eye=4600,Dye=5e3,Rye=6e3,Bj=7e3,kj={PROCESSOR:{FILTER:Mye,SERIES_FILTER:Sye,STATISTIC:wye},VISUAL:{LAYOUT:Oj,PROGRESSIVE_LAYOUT:Aye,GLOBAL:wU,CHART:zj,POST_CHART_LAYOUT:Eye,COMPONENT:Cye,BRUSH:Dye,CHART_ITEM:oL,ARIA:Rye,DECAL:Bj}},oa="__flagInMainProcess",RA="__mainProcessVersion",La="__pendingUpdate",n3="__needsUpdateStatus",sH=/^[a-zA-Z0-9_]+$/,i3="__connectUpdateStatus",lH=0,Lye=1,Iye=2;function Uj(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return Vj(this,i,e)}}function Fj(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Vj(this,i,e)}}function Vj(i,e,t){return t[0]=t[0]&&t[0].toLowerCase(),eu.prototype[e].apply(i,t)}var Gj=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e})(eu),Hj=Gj.prototype;Hj.on=Fj("on");Hj.off=Fj("off");var rg,r3,LA,oh,IA,a3,o3,c0,f0,uH,cH,s3,fH,PA,hH,Wj,Rl,dH,h0,fD=(function(i){fe(e,i);function e(t,n,r){var a=i.call(this,new Ume)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],r=r||{},a._dom=t;var o="canvas",s="auto",l=!1;a[RA]=1,r.ssr&&gq(function(h){var p=Ht(h),g=p.dataIndex;if(g!=null){var y=St();return y.set("series_index",p.seriesIndex),y.set("data_index",g),p.ssrType&&y.set("ssr_type",p.ssrType),y}});var u=a._zr=EO(t,{renderer:r.renderer||o,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:bt(r.useDirtyRect,l),useCoarsePointer:bt(r.useCoarsePointer,s),pointerSize:r.pointerSize});a._ssr=r.ssr,a._throttledZrFlush=aL(at(u.flush,u),17),a._updateTheme(n),a._locale=kve(r.locale||xZ),a._coordSysMgr=new H_;var c=a._api=hH(a);function f(h,p){return h.__prio-p.__prio}return SC(dD,f),SC(uz,f),a._scheduler=new _j(a,c,uz,dD),a._messageCenter=new Gj,a._initEvents(),a.resize=at(a.resize,a),u.animation.on("frame",a._onframe,a),uH(u,a),cH(u,a),g1(a),a}return e.prototype._onframe=function(){if(!this._disposed){dH(this);var t=this._scheduler;if(this[La]){var n=this[La].silent;this[oa]=!0,h0(this);try{rg(this),oh.update.call(this,null,this[La].updateParams)}catch(l){throw this[oa]=!1,this[La]=null,l}this._zr.flush(),this[oa]=!1,this[La]=null,c0.call(this,n),f0.call(this,n)}else if(t.unfinished){var r=xye,a=this._model,o=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),a3(this,a),t.performVisualTasks(a),PA(this,this._model,o,"remain",{}),r-=+new Date-s}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,n,r){if(!this[oa]){if(this._disposed){this.id;return}var a,o,s;if(zt(n)&&(r=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[oa]=!0,h0(this),!this._model||n){var l=new Sge(this._api),u=this._theme,c=this._model=new mU;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(t,{replaceMerge:o},cz);var f={seriesTransition:s,optionChanged:!0};if(r)this[La]={silent:a,updateParams:f},this[oa]=!1,this.getZr().wakeUp();else{try{rg(this),oh.update.call(this,null,f)}catch(h){throw this[La]=null,this[oa]=!1,h}this._ssr||this._zr.flush(),this[La]=null,this[oa]=!1,c0.call(this,a),f0.call(this,a)}}},e.prototype.setTheme=function(t,n){if(!this[oa]){if(this._disposed){this.id;return}var r=this._model;if(r){var a=n&&n.silent,o=null;this[La]&&(a==null&&(a=this[La].silent),o=this[La].updateParams,this[La]=null),this[oa]=!0,h0(this);try{this._updateTheme(t),r.setTheme(this._theme),rg(this),oh.update.call(this,{type:"setTheme"},o)}catch(s){throw this[oa]=!1,s}this[oa]=!1,c0.call(this,a),f0.call(this,a)}}},e.prototype._updateTheme=function(t){rt(t)&&(t=Xj[t]),t&&(t=Lt(t),t&&ZZ(t,!0),this._theme=t)},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Tn.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var n=this._zr.painter;return n.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){var t=this._zr,n=t.storage.getDisplayList();return H(n,function(r){r.stopAnimation(null,!0)}),t.painter.toDataURL()},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var n=t.excludeComponents,r=this._model,a=[],o=this;H(n,function(l){r.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return H(a,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var n=t.type==="svg",r=this.group,a=Math.min,o=Math.max,s=1/0;if(pD[r]){var l=s,u=s,c=-s,f=-s,h=[],p=t&&t.pixelRatio||this.getDevicePixelRatio();H(Gg,function(T,C){if(T.group===r){var E=n?T.getZr().painter.getSvgDom().innerHTML:T.renderToCanvas(Lt(t)),D=T.getDom().getBoundingClientRect();l=a(D.left,l),u=a(D.top,u),c=o(D.right,c),f=o(D.bottom,f),h.push({dom:E,left:D.left,top:D.top})}}),l*=p,u*=p,c*=p,f*=p;var g=c-l,y=f-u,_=Rs.createCanvas(),x=EO(_,{renderer:n?"svg":"canvas"});if(x.resize({width:g,height:y}),n){var M="";return H(h,function(T){var C=T.left-l,E=T.top-u;M+='<g transform="translate('+C+","+E+')">'+T.dom+"</g>"}),x.painter.getSvgRoot().innerHTML=M,t.connectedBackgroundColor&&x.painter.setBackgroundColor(t.connectedBackgroundColor),x.refreshImmediately(),x.painter.toDataURL()}else return t.connectedBackgroundColor&&x.add(new dn({shape:{x:0,y:0,width:g,height:y},style:{fill:t.connectedBackgroundColor}})),H(h,function(T){var C=new Ta({style:{x:T.left*p-l,y:T.top*p-u,image:T.dom}});x.add(C)}),x.refreshImmediately(),_.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,n,r){return IA(this,"convertToPixel",t,n,r)},e.prototype.convertToLayout=function(t,n,r){return IA(this,"convertToLayout",t,n,r)},e.prototype.convertFromPixel=function(t,n,r){return IA(this,"convertFromPixel",t,n,r)},e.prototype.containPixel=function(t,n){if(this._disposed){this.id;return}var r=this._model,a,o=X0(r,t);return H(o,function(s,l){l.indexOf("Models")>=0&&H(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(n,u))}},this)},this),!!a},e.prototype.getVisual=function(t,n){var r=this._model,a=X0(r,t,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return l!=null?bU(s,l,n):_M(s,n)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;H(Pye,function(r){var a=function(o){var s=t.getModel(),l=o.target,u,c=r==="globalout";if(c?u={}:l&&Ig(l,function(y){var _=Ht(y);if(_&&_.dataIndex!=null){var x=_.dataModel||s.getSeriesByIndex(_.seriesIndex);return u=x&&x.getDataParams(_.dataIndex,_.dataType,l)||{},!0}else if(_.eventData)return u=Ce({},_.eventData),!0},!0),u){var f=u.componentType,h=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",h=u.seriesIndex);var p=f&&h!=null&&s.getComponent(f,h),g=p&&t[p.mainType==="series"?"_chartsMap":"_componentsMap"][p.__viewId];u.event=o,u.type=r,t._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:p,view:g},t.trigger(r,u)}};a.zrEventfulCallAtLast=!0,t._zr.on(r,a,t)});var n=this._messageCenter;H(lz,function(r,a){n.on(a,function(o){t.trigger(a,o)})}),Gme(n,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&Eq(this.getDom(),CU,"");var n=this,r=n._api,a=n._model;H(n._componentsViews,function(o){o.dispose(a,r)}),H(n._chartsViews,function(o){o.dispose(a,r)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Gg[n.id]},e.prototype.resize=function(t){if(!this[oa]){if(this._disposed){this.id;return}this._zr.resize(t);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var r=n.resetOption("media"),a=t&&t.silent;this[La]&&(a==null&&(a=this[La].silent),r=!0,this[La]=null),this[oa]=!0,h0(this);try{r&&rg(this),oh.update.call(this,{type:"resize",animation:Ce({duration:0},t&&t.animation)})}catch(o){throw this[oa]=!1,o}this[oa]=!1,c0.call(this,a),f0.call(this,a)}}},e.prototype.showLoading=function(t,n){if(this._disposed){this.id;return}if(zt(t)&&(n=t,t=""),t=t||"default",this.hideLoading(),!!fz[t]){var r=fz[t](this._api,n),a=this._zr;this._loadingFX=r,a.add(r)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var n=Ce({},t);return n.type=sz[t.type],n},e.prototype.dispatchAction=function(t,n){if(this._disposed){this.id;return}if(zt(n)||(n={silent:!!n}),!!hD[t.type]&&this._model){if(this[oa]){this._pendingActions.push(t);return}var r=n.silent;o3.call(this,t,r);var a=n.flush;a?this._zr.flush():a!==!1&&Tn.browser.weChat&&this._throttledZrFlush(),c0.call(this,r),f0.call(this,r)}},e.prototype.updateLabelLayout=function(){Lu.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var n=t.seriesIndex,r=this.getModel(),a=r.getSeriesByIndex(n);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=(function(){rg=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),r3(f,!0),r3(f,!1),h.plan()},r3=function(f,h){for(var p=f._model,g=f._scheduler,y=h?f._componentsViews:f._chartsViews,_=h?f._componentsMap:f._chartsMap,x=f._zr,M=f._api,T=0;T<y.length;T++)y[T].__alive=!1;h?p.eachComponent(function(D,L){D!=="series"&&C(L)}):p.eachSeries(C);function C(D){var L=D.__requireNewView;D.__requireNewView=!1;var z="_ec_"+D.id+"_"+D.type,P=!L&&_[z];if(!P){var N=jc(D.type),B=h?Ti.getClass(N.main,N.sub):fi.getClass(N.sub);P=new B,P.init(p,M),_[z]=P,y.push(P),x.add(P.group)}D.__viewId=P.__id=z,P.__alive=!0,P.__model=D,P.group.__ecComponentInfo={mainType:D.mainType,index:D.componentIndex},!h&&g.prepareView(P,D,p,M)}for(var T=0;T<y.length;){var E=y[T];E.__alive?T++:(!h&&E.renderTask.dispose(),x.remove(E.group),E.dispose(p,M),y.splice(T,1),_[E.__id]===E&&delete _[E.__id],E.__id=E.group.__ecComponentInfo=null)}},LA=function(f,h,p,g,y){var _=f._model;if(_.setUpdatePayload(p),!g){H([].concat(f._componentsViews).concat(f._chartsViews),E);return}var x={};x[g+"Id"]=p[g+"Id"],x[g+"Index"]=p[g+"Index"],x[g+"Name"]=p[g+"Name"];var M={mainType:g,query:x};y&&(M.subType=y);var T=p.excludeSeriesId,C;T!=null&&(C=St(),H(Mi(T),function(D){var L=sa(D,null);L!=null&&C.set(L,!0)})),_&&_.eachComponent(M,function(D){var L=C&&C.get(D.id)!=null;if(!L)if($4(p))if(D instanceof vi)p.type===Fg&&!p.notBlur&&!D.get(["emphasis","disabled"])&&Fpe(D,p,f._api);else{var z=Hk(D.mainType,D.componentIndex,p.name,f._api),P=z.focusSelf,N=z.dispatchers;p.type===Fg&&P&&!p.notBlur&&FO(D.mainType,D.componentIndex,f._api),N&&H(N,function(B){p.type===Fg?Lh(B):Ih(B)})}else GO(p)&&D instanceof vi&&(Hpe(D,p,f._api),j4(D),Rl(f))},f),_&&_.eachComponent(M,function(D){var L=C&&C.get(D.id)!=null;L||E(f[g==="series"?"_chartsMap":"_componentsMap"][D.__viewId])},f);function E(D){D&&D.__alive&&D[h]&&D[h](D.__model,_,f._api,p)}},oh={prepareAndUpdate:function(f){rg(this),oh.update.call(this,f,f&&{optionChanged:f.newOption!=null})},update:function(f,h){var p=this._model,g=this._api,y=this._zr,_=this._coordSysMgr,x=this._scheduler;if(p){p.setUpdatePayload(f),x.restoreData(p,f),x.performSeriesTasks(p),_.create(p,g),x.performDataProcessorTasks(p,f),a3(this,p),_.update(p,g),n(p),x.performVisualTasks(p,f);var M=p.get("backgroundColor")||"transparent";y.setBackgroundColor(M);var T=p.get("darkMode");T!=null&&T!=="auto"&&y.setDarkMode(T),s3(this,p,g,f,h),Lu.trigger("afterupdate",p,g)}},updateTransform:function(f){var h=this,p=this._model,g=this._api;if(p){p.setUpdatePayload(f);var y=[];p.eachComponent(function(x,M){if(x!=="series"){var T=h.getViewOfComponentModel(M);if(T&&T.__alive)if(T.updateTransform){var C=T.updateTransform(M,p,g,f);C&&C.update&&y.push(T)}else y.push(T)}});var _=St();p.eachSeries(function(x){var M=h._chartsMap[x.__viewId];if(M.updateTransform){var T=M.updateTransform(x,p,g,f);T&&T.update&&_.set(x.uid,1)}else _.set(x.uid,1)}),n(p),this._scheduler.performVisualTasks(p,f,{setDirty:!0,dirtyMap:_}),PA(this,p,g,f,{},_),Lu.trigger("afterupdate",p,g)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),fi.markUpdateMethod(f,"updateView"),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),s3(this,h,this._api,f,{}),Lu.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,p=this._model;p&&(p.setUpdatePayload(f),p.eachSeries(function(g){g.getData().clearAllVisual()}),fi.markUpdateMethod(f,"updateVisual"),n(p),this._scheduler.performVisualTasks(p,f,{visualType:"visual",setDirty:!0}),p.eachComponent(function(g,y){if(g!=="series"){var _=h.getViewOfComponentModel(y);_&&_.__alive&&_.updateVisual(y,p,h._api,f)}}),p.eachSeries(function(g){var y=h._chartsMap[g.__viewId];y.updateVisual(g,p,h._api,f)}),Lu.trigger("afterupdate",p,this._api))},updateLayout:function(f){oh.update.call(this,f)}};function t(f,h,p,g,y){if(f._disposed){f.id;return}for(var _=f._model,x=f._coordSysMgr.getCoordinateSystems(),M,T=X0(_,p),C=0;C<x.length;C++){var E=x[C];if(E[h]&&(M=E[h](_,T,g,y))!=null)return M}}IA=t,a3=function(f,h){var p=f._chartsMap,g=f._scheduler;h.eachSeries(function(y){g.updateStreamModes(y,p[y.__viewId])})},o3=function(f,h){var p=this,g=this.getModel(),y=f.type,_=f.escapeConnect,x=hD[y],M=(x.update||"update").split(":"),T=M.pop(),C=M[0]!=null&&jc(M[0]);this[oa]=!0,h0(this);var E=[f],D=!1;f.batch&&(D=!0,E=Ge(f.batch,function(V){return V=Ot(Ce({},V),f),V.batch=null,V}));var L=[],z,P=[],N=x.nonRefinedEventType,B=GO(f),G=$4(f);if(G&&Kq(this._api),H(E,function(V){var j=x.action(V,g,p._api);if(x.refineEvent?P.push(j):z=j,z=z||Ce({},V),z.type=N,L.push(z),G){var K=Nk(f),te=K.queryOptionMap,ie=K.mainTypeSpecified,Y=ie?te.keys()[0]:"series";LA(p,T,V,Y),Rl(p)}else B?(LA(p,T,V,"series"),Rl(p)):C&&LA(p,T,V,C.main,C.sub)}),T!=="none"&&!G&&!B&&!C)try{this[La]?(rg(this),oh.update.call(this,f),this[La]=null):oh[T].call(this,f)}catch(V){throw this[oa]=!1,V}if(D?z={type:N,escapeConnect:_,batch:L}:z=L[0],this[oa]=!1,!h){var U=void 0;if(x.refineEvent){var X=x.refineEvent(P,f,g,this._api).eventContent;no(zt(X)),U=Ot({type:x.refinedEventType},X),U.fromAction=f.type,U.fromActionPayload=f,U.escapeConnect=!0}var q=this._messageCenter;q.trigger(z.type,z),U&&q.trigger(U.type,U)}},c0=function(f){for(var h=this._pendingActions;h.length;){var p=h.shift();o3.call(this,p,f)}},f0=function(f){!f&&this.trigger("updated")},uH=function(f,h){f.on("rendered",function(p){h.trigger("rendered",p),f.animation.isFinished()&&!h[La]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},cH=function(f,h){f.on("mouseover",function(p){var g=p.target,y=Ig(g,w1);y&&(Vpe(y,p,h._api),Rl(h))}).on("mouseout",function(p){var g=p.target,y=Ig(g,w1);y&&(Gpe(y,p,h._api),Rl(h))}).on("click",function(p){var g=p.target,y=Ig(g,function(M){return Ht(M).dataIndex!=null},!0);if(y){var _=y.selected?"unselect":"select",x=Ht(y);h._api.dispatchAction({type:_,dataType:x.dataType,dataIndexInside:x.dataIndex,seriesIndex:x.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function r(f){var h=[],p=[],g=!1;if(f.eachComponent(function(M,T){var C=T.get("zlevel")||0,E=T.get("z")||0,D=T.getZLevelKey();g=g||!!D,(M==="series"?p:h).push({zlevel:C,z:E,idx:T.componentIndex,type:M,key:D})}),g){var y=h.concat(p),_,x;SC(y,function(M,T){return M.zlevel===T.zlevel?M.z-T.z:M.zlevel-T.zlevel}),H(y,function(M){var T=f.getComponent(M.type,M.idx),C=M.zlevel,E=M.key;_!=null&&(C=Math.max(_,C)),E?(C===_&&E!==x&&C++,x=E):x&&(C===_&&C++,x=""),_=C,T.setZLevel(C)})}}s3=function(f,h,p,g,y){r(h),fH(f,h,p,g,y),H(f._chartsViews,function(_){_.__alive=!1}),PA(f,h,p,g,y),H(f._chartsViews,function(_){_.__alive||_.remove(h,p)})},fH=function(f,h,p,g,y,_){H(_||f._componentsViews,function(x){var M=x.__model;u(M,x),x.render(M,h,p,g),l(M,x),c(M,x)})},PA=function(f,h,p,g,y,_){var x=f._scheduler;y=Ce(y||{},{updatedSeries:h.getSeries()}),Lu.trigger("series:beforeupdate",h,p,y);var M=!1;h.eachSeries(function(T){var C=f._chartsMap[T.__viewId];C.__alive=!0;var E=C.renderTask;x.updatePayload(E,g),u(T,C),_&&_.get(T.uid)&&E.dirty(),E.perform(x.getPerformArgs(E))&&(M=!0),C.group.silent=!!T.get("silent"),s(T,C),j4(T)}),x.unfinished=M||x.unfinished,Lu.trigger("series:layoutlabels",h,p,y),Lu.trigger("series:transition",h,p,y),h.eachSeries(function(T){var C=f._chartsMap[T.__viewId];l(T,C),c(T,C)}),o(f,h),Lu.trigger("series:afterupdate",h,p,y)},Rl=function(f){f[n3]=!0,f.getZr().wakeUp()},h0=function(f){f[RA]=(f[RA]+1)%1e3},dH=function(f){f[n3]&&(f.getZr().storage.traverse(function(h){Y0(h)||a(h)}),f[n3]=!1)};function a(f){for(var h=[],p=f.currentStates,g=0;g<p.length;g++){var y=p[g];y==="emphasis"||y==="blur"||y==="select"||h.push(y)}f.selected&&f.states.select&&h.push("select"),f.hoverState===KR&&f.states.emphasis?h.push("emphasis"):f.hoverState===hM&&f.states.blur&&h.push("blur"),f.useStates(h)}function o(f,h){var p=f._zr,g=p.storage,y=0;g.traverse(function(_){_.isGroup||y++}),y>h.get("hoverLayerThreshold")&&!Tn.node&&!Tn.worker&&h.eachSeries(function(_){if(!_.preventUsingHoverLayer){var x=f._chartsMap[_.__viewId];x.__alive&&x.eachRendered(function(M){M.states.emphasis&&(M.states.emphasis.hoverLayer=!0)})}})}function s(f,h){var p=f.get("blendMode")||null;h.eachRendered(function(g){g.isGroup||(g.style.blend=p)})}function l(f,h){if(!f.preventAutoZ){var p=am(f);h.eachRendered(function(g){return JR(g,p.z,p.zlevel),!0})}}function u(f,h){h.eachRendered(function(p){if(!Y0(p)){var g=p.getTextContent(),y=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),y&&y.stateTransition&&(y.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function c(f,h){var p=f.getModel("stateAnimation"),g=f.isAnimationEnabled(),y=p.get("duration"),_=y>0?{duration:y,delay:p.get("delay"),easing:p.get("easing")}:null;h.eachRendered(function(x){if(x.states&&x.states.emphasis){if(Y0(x))return;if(x instanceof bn&&jpe(x),x.__dirty){var M=x.prevStates;M&&x.useStates(M)}if(g){x.stateTransition=_;var T=x.getTextContent(),C=x.getTextGuideLine();T&&(T.stateTransition=_),C&&(C.stateTransition=_)}x.__dirty&&a(x)}})}hH=function(f){return new((function(h){fe(p,h);function p(){return h!==null&&h.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(g){for(;g;){var y=g.__ecComponentInfo;if(y!=null)return f._model.getComponent(y.mainType,y.index);g=g.parent}},p.prototype.enterEmphasis=function(g,y){Lh(g,y),Rl(f)},p.prototype.leaveEmphasis=function(g,y){Ih(g,y),Rl(f)},p.prototype.enterBlur=function(g){Yq(g),Rl(f)},p.prototype.leaveBlur=function(g){Gk(g),Rl(f)},p.prototype.enterSelect=function(g){qq(g),Rl(f)},p.prototype.leaveSelect=function(g){Zq(g),Rl(f)},p.prototype.getModel=function(){return f.getModel()},p.prototype.getViewOfComponentModel=function(g){return f.getViewOfComponentModel(g)},p.prototype.getViewOfSeriesModel=function(g){return f.getViewOfSeriesModel(g)},p.prototype.getMainProcessVersion=function(){return f[RA]},p})(YZ))(f)},Wj=function(f){function h(p,g){for(var y=0;y<p.length;y++){var _=p[y];_[i3]=g}}H(sz,function(p,g){f._messageCenter.on(g,function(y){if(pD[f.group]&&f[i3]!==lH){if(y&&y.escapeConnect)return;var _=f.makeActionFromEvent(y),x=[];H(Gg,function(M){M!==f&&M.group===f.group&&x.push(M)}),h(x,lH),H(x,function(M){M[i3]!==Lye&&M.dispatchAction(_)}),h(x,Iye)}})})}})(),e})(eu),AU=fD.prototype;AU.on=Uj("on");AU.off=Uj("off");AU.one=function(i,e,t){var n=this;function r(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),n.off(i,r)}this.on.call(this,i,r,t)};var Pye=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var hD={},sz={},lz={},uz=[],cz=[],dD=[],Xj={},fz={},Gg={},pD={},Nye=+new Date-0,Oye=+new Date-0,CU="_echarts_instance_";function zye(i,e,t){var n=!(t&&t.ssr);if(n){var r=EU(i);if(r)return r}var a=new fD(i,e,t);return a.id="ec_"+Nye++,Gg[a.id]=a,n&&Eq(i,CU,a.id),Wj(a),Lu.trigger("afterinit",a),a}function Bye(i){if(ze(i)){var e=i;i=null,H(e,function(t){t.group!=null&&(i=t.group)}),i=i||"g_"+Oye++,H(e,function(t){t.group=i})}return pD[i]=!0,i}function Yj(i){pD[i]=!1}var kye=Yj;function Uye(i){rt(i)?i=Gg[i]:i instanceof fD||(i=EU(i)),i instanceof fD&&!i.isDisposed()&&i.dispose()}function EU(i){return Gg[zde(i,CU)]}function Fye(i){return Gg[i]}function DU(i,e){Xj[i]=e}function RU(i){en(cz,i)<0&&cz.push(i)}function LU(i,e){IU(uz,i,e,Tye)}function qj(i){sL("afterinit",i)}function Zj(i){sL("afterupdate",i)}function sL(i,e){Lu.on(i,e)}function Ku(i,e,t){var n,r,a,o,s;Ct(e)&&(t=e,e=""),zt(i)?(n=i.type,r=i.event,o=i.update,s=i.publishNonRefinedEvent,t||(t=i.action),a=i.refineEvent):(n=i,r=e);function l(c){return c.toLowerCase()}r=l(r||n);var u=a?l(n):r;hD[n]||(no(sH.test(n)&&sH.test(r)),a&&no(r!==n),hD[n]={actionType:n,refinedEventType:r,nonRefinedEventType:u,update:o,action:t,refineEvent:a},lz[r]=1,a&&s&&(lz[u]=1),sz[u]=n)}function jj(i,e){H_.register(i,e)}function Vye(i){var e=H_.get(i);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function Gye(i,e){Nj(i,e)}function Kj(i,e){IU(dD,i,e,Oj,"layout")}function Op(i,e){IU(dD,i,e,zj,"visual")}var pH=[];function IU(i,e,t,n,r){if((Ct(e)||zt(e))&&(t=e,e=n),!(en(pH,t)>=0)){pH.push(t);var a=_j.wrapStageHandler(t,r);a.__prio=e,a.__raw=t,i.push(a)}}function PU(i,e){fz[i]=e}function Hye(i){PY({createCanvas:i})}function $j(i,e,t){var n=Ij("registerMap");n&&n(i,e,t)}function Wye(i){var e=Ij("getMap");return e&&e(i)}var Qj=Jge;Op(wU,wme);Op(oL,Ame);Op(oL,Cme);Op(wU,Fme);Op(oL,Vme);Op(Bj,vye);RU(ZZ);LU(bye,Pge);PU("default",Eme);Ku({type:Fg,event:Fg,update:Fg},_r);Ku({type:EC,event:EC,update:EC},_r);Ku({type:JE,event:Fk,update:JE,action:_r,refineEvent:NU,publishNonRefinedEvent:!0});Ku({type:kO,event:Fk,update:kO,action:_r,refineEvent:NU,publishNonRefinedEvent:!0});Ku({type:eD,event:Fk,update:eD,action:_r,refineEvent:NU,publishNonRefinedEvent:!0});function NU(i,e,t,n){return{eventContent:{selected:Wpe(t),isFromClick:e.isFromClick||!1}}}DU("default",{});DU("dark",Mj);var Xye={},vH=[],Yye={registerPreprocessor:RU,registerProcessor:LU,registerPostInit:qj,registerPostUpdate:Zj,registerUpdateLifecycle:sL,registerAction:Ku,registerCoordinateSystem:jj,registerLayout:Kj,registerVisual:Op,registerTransform:Qj,registerLoading:PU,registerMap:$j,registerImpl:gye,PRIORITY:kj,ComponentModel:mn,ComponentView:Ti,SeriesModel:vi,ChartView:fi,registerComponentModel:function(i){mn.registerClass(i)},registerComponentView:function(i){Ti.registerClass(i)},registerSeriesModel:function(i){vi.registerClass(i)},registerChartView:function(i){fi.registerClass(i)},registerCustomSeries:function(i,e){Nj(i,e)},registerSubTypeDefaulter:function(i,e){mn.registerSubTypeDefaulter(i,e)},registerPainter:function(i,e){pq(i,e)}};function sn(i){if(ze(i)){H(i,function(e){sn(e)});return}en(vH,i)>=0||(vH.push(i),Ct(i)&&(i={install:i}),i.install(Yye))}function KS(i){return i==null?0:i.length||1}function gH(i){return i}var Ph=(function(){function i(e,t,n,r,a,o){this._old=e,this._new=t,this._oldKeyGetter=n||gH,this._newKeyGetter=r||gH,this.context=a,this._diffModeMultiple=o==="multiple"}return i.prototype.add=function(e){return this._add=e,this},i.prototype.update=function(e){return this._update=e,this},i.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},i.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},i.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},i.prototype.remove=function(e){return this._remove=e,this},i.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},i.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},r=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,n,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=r[o],l=n[s],u=KS(l);if(u>1){var c=l.shift();l.length===1&&(n[s]=l[0]),this._update&&this._update(c,o)}else u===1?(n[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},i.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},r={},a=[],o=[];this._initIndexMap(e,n,a,"_oldKeyGetter"),this._initIndexMap(t,r,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],u=n[l],c=r[l],f=KS(u),h=KS(c);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),r[l]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),r[l]=null;else if(f===1&&h===1)this._update&&this._update(c,u),r[l]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),r[l]=null;else if(f>1)for(var p=0;p<f;p++)this._remove&&this._remove(u[p]);else this._remove&&this._remove(u)}this._performRestAdd(o,r)},i.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=t[r],o=KS(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);t[r]=null}},i.prototype._initIndexMap=function(e,t,n,r){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[r](e[o],o);if(a||(n[o]=s),!!t){var l=t[s],u=KS(l);u===0?(t[s]=o,a&&n.push(s)):u===1?t[s]=[l,o]:l.push(o)}}},i})(),qye=(function(){function i(e,t){this._encode=e,this._schema=t}return i.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},i.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},i})();function Zye(i,e){var t={},n=t.encode={},r=St(),a=[],o=[],s={};H(i.dimensions,function(h){var p=i.getDimensionInfo(h),g=p.coordDim;if(g){var y=p.coordDimIndex;l3(n,g)[y]=h,p.isExtraCoord||(r.set(g,1),jye(p.type)&&(a[0]=h),l3(s,g)[y]=i.getDimensionIndex(p.name)),p.defaultTooltip&&o.push(h)}UZ.each(function(_,x){var M=l3(n,x),T=p.otherDims[x];T!=null&&T!==!1&&(M[T]=p.name)})});var l=[],u={};r.each(function(h,p){var g=n[p];u[p]=g[0],l=l.concat(g)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=Ge(l,function(h){return i.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(a=c.slice());var f=n.tooltip;return f&&f.length?o=f.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,t.userOutput=new qye(s,e),t}function l3(i,e){return i.hasOwnProperty(e)||(i[e]=[]),i[e]}function vD(i){return i==="category"?"ordinal":i==="time"?"time":"float"}function jye(i){return!(i==="ordinal"||i==="time")}var OC=(function(){function i(e){this.otherDims={},e!=null&&Ce(this,e)}return i})(),Kye=yn(),$ye={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Jj=(function(){function i(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return i.prototype.isDimensionOmitted=function(){return this._dimOmitted},i.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=nK(this.source)))},i.prototype.getSourceDimensionIndex=function(e){return bt(this._dimNameMap.get(e),-1)},i.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},i.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=KZ(this.source),n=!iK(e),r="",a=[],o=0,s=0;o<e;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=t?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var h=this.getSourceDimension(o);h&&(l=t?h.name:null,u=h.type)}a.push({property:l,type:u,ordinalMeta:c}),t&&l!=null&&(!f||!f.isCalculationCoord)&&(r+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=$ye[u]||"f",c&&(r+=c.uid),r+="$"}var p=this.source,g=[p.seriesLayoutBy,p.startIndex,r].join("$$");return{dimensions:a,hash:g}},i.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var r=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(r=a.name),n++;else{var o=this.getSourceDimension(t);o&&(r=o.name)}e.push(r)}return e},i.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},i})();function eK(i){return i instanceof Jj}function tK(i){for(var e=St(),t=0;t<(i||[]).length;t++){var n=i[t],r=zt(n)?n.name:n;r!=null&&e.get(r)==null&&e.set(r,t)}return e}function nK(i){var e=Kye(i);return e.dimNameMap||(e.dimNameMap=tK(i.dimensionsDefine))}function iK(i){return i>30}var $S=zt,Vd=Ge,Qye=typeof Int32Array>"u"?Array:Int32Array,Jye="e\0\0",mH=-1,e0e=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],t0e=["_approximateExtent"],yH,NA,QS,JS,u3,eb,c3,Ao=(function(){function i(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,r=!1;eK(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,n=e),n=n||["x","y"];for(var a={},o=[],s={},l=!1,u={},c=0;c<n.length;c++){var f=n[c],h=rt(f)?new OC({name:f}):f instanceof OC?f:new OC(f),p=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=p,h.coordDimIndex=0);var g=h.otherDims=h.otherDims||{};o.push(p),a[p]=h,u[p]!=null&&(l=!0),h.createInvertedIndices&&(s[p]=[]);var y=c;Pn(h.storeDimIndex)&&(y=h.storeDimIndex),g.itemName===0&&(this._nameDimIdx=y),g.itemId===0&&(this._idDimIdx=y),r&&(h.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var _=this._dimIdxToName=St();H(o,function(x){_.set(a[x].storeDimIndex,x)})}}return i.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(n!=null)return n;var r=this._schema.getSourceDimension(t);if(r)return r.name},i.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},i.prototype._recognizeDimIndex=function(e){if(Pn(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},i.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},i.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},i.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(n){return t.hasOwnProperty(n)?t[n]:void 0}:function(n){return t[n]}},i.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},i.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(t==null)return n.encodeFirstDimNotExtra[e];var r=n.encode[e];return r?r[t]:null},i.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,n=t.encode[e];return(n||[]).slice()},i.prototype.getStore=function(){return this._store},i.prototype.initData=function(e,t,n){var r=this,a;if(e instanceof ez&&(a=e),!a){var o=this.dimensions,s=yU(e)||to(e)?new $Z(e,o.length):e;a=new ez;var l=Vd(o,function(u){return{type:r._dimInfos[u].type,property:u}});a.initData(s,l,n)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=Zye(this,this._schema),this.userOutput=this._dimSummary.userOutput},i.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},i.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t&&t.length),r=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=r;s<a;s++){var l=s-r;this._nameList[s]=t[l],o&&c3(this,s)}},i.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var r=this._dimInfos[t[n]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},i.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==vp&&!e.fillStorage},i.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store,r=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=r.getSource().sourceFormat,l=s===nl;if(l&&!r.pure)for(var u=[],c=e;c<t;c++){var f=r.getItem(c,u);if(!this.hasItemOption&&Mde(f)&&(this.hasItemOption=!0),f){var h=f.name;a[c]==null&&h!=null&&(a[c]=sa(h,null));var p=f.id;o[c]==null&&p!=null&&(o[c]=sa(p,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<t;c++)c3(this,c);yH(this)}},i.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},i.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},i.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},i.prototype.setCalculationInfo=function(e,t){$S(e)?Ce(this._calculationInfo,e):this._calculationInfo[e]=t},i.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return n==null&&this._nameDimIdx!=null&&(n=QS(this,this._nameDimIdx,t)),n==null&&(n=""),n},i.prototype._getCategory=function(e,t){var n=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[n]:n},i.prototype.getId=function(e){return NA(this,this.getRawIndex(e))},i.prototype.count=function(){return this._store.count()},i.prototype.get=function(e,t){var n=this._store,r=this._dimInfos[e];if(r)return n.get(r.storeDimIndex,t)},i.prototype.getByRawIndex=function(e,t){var n=this._store,r=this._dimInfos[e];if(r)return n.getByRawIndex(r.storeDimIndex,t)},i.prototype.getIndices=function(){return this._store.getIndices()},i.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},i.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},i.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},i.prototype.getValues=function(e,t){var n=this,r=this._store;return ze(e)?r.getValues(Vd(e,function(a){return n._getStoreDimIndex(a)}),t):r.getValues(e)},i.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,r=t.length;n<r;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},i.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},i.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},i.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},i.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e],r=n&&n[t];return r==null||isNaN(r)?mH:r},i.prototype.each=function(e,t,n){Ct(e)&&(n=t,t=e,e=[]);var r=n||this,a=Vd(JS(e),this._getStoreDimIndex,this);this._store.each(a,r?at(t,r):t)},i.prototype.filterSelf=function(e,t,n){Ct(e)&&(n=t,t=e,e=[]);var r=n||this,a=Vd(JS(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,r?at(t,r):t),this},i.prototype.selectRange=function(e){var t=this,n={},r=An(e);return H(r,function(a){var o=t._getStoreDimIndex(a);n[o]=e[a]}),this._store=this._store.selectRange(n),this},i.prototype.mapArray=function(e,t,n){Ct(e)&&(n=t,t=e,e=[]),n=n||this;var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},n),r},i.prototype.map=function(e,t,n,r){var a=n||r||this,o=Vd(JS(e),this._getStoreDimIndex,this),s=eb(this);return s._store=this._store.map(o,a?at(t,a):t),s},i.prototype.modify=function(e,t,n,r){var a=n||r||this,o=Vd(JS(e),this._getStoreDimIndex,this);this._store.modify(o,a?at(t,a):t)},i.prototype.downSample=function(e,t,n,r){var a=eb(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,n,r),a},i.prototype.minmaxDownSample=function(e,t){var n=eb(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),n},i.prototype.lttbDownSample=function(e,t){var n=eb(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},i.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},i.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new Sn(n,t,t&&t.ecModel)},i.prototype.diff=function(e){var t=this;return new Ph(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return NA(e,n)},function(n){return NA(t,n)})},i.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},i.prototype.setVisual=function(e,t){this._visual=this._visual||{},$S(e)?Ce(this._visual,e):this._visual[e]=t},i.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],r=n&&n[t];return r??this.getVisual(t)},i.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},i.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,r=n[e];r||(r=n[e]={});var a=r[t];return a==null&&(a=this.getVisual(t),ze(a)?a=a.slice():$S(a)&&(a=Ce({},a)),r[t]=a),a},i.prototype.setItemVisual=function(e,t,n){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,$S(t)?Ce(r,t):r[t]=n},i.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},i.prototype.setLayout=function(e,t){$S(e)?Ce(this._layout,e):this._layout[e]=t},i.prototype.getLayout=function(e){return this._layout[e]},i.prototype.getItemLayout=function(e){return this._itemLayouts[e]},i.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?Ce(this._itemLayouts[e]||{},t):t},i.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},i.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;BO(n,this.dataType,e,t),this._graphicEls[e]=t},i.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},i.prototype.eachItemGraphicEl=function(e,t){H(this._graphicEls,function(n,r){n&&e&&e.call(t,n,r)})},i.prototype.cloneShallow=function(e){return e||(e=new i(this._schema?this._schema:Vd(this.dimensions,this._getDimInfo,this),this.hostModel)),u3(e,this),e._store=this._store,e},i.prototype.wrapMethod=function(e,t){var n=this[e];Ct(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var r=n.apply(this,arguments);return t.apply(this,[r].concat(BR(arguments)))})},i.internalField=(function(){yH=function(e){var t=e._invertedIndicesMap;H(t,function(n,r){var a=e._dimInfos[r],o=a.ordinalMeta,s=e._store;if(o){n=t[r]=new Qye(o.categories.length);for(var l=0;l<n.length;l++)n[l]=mH;for(var l=0;l<s.count();l++)n[s.get(a.storeDimIndex,l)]=l}})},QS=function(e,t,n){return sa(e._getCategory(t,n),null)},NA=function(e,t){var n=e._idList[t];return n==null&&e._idDimIdx!=null&&(n=QS(e,e._idDimIdx,t)),n==null&&(n=Jye+t),n},JS=function(e){return ze(e)||(e=e!=null?[e]:[]),e},eb=function(e){var t=new i(e._schema?e._schema:Vd(e.dimensions,e._getDimInfo,e),e.hostModel);return u3(t,e),t},u3=function(e,t){H(e0e.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,H(t0e,function(n){e[n]=Lt(t[n])}),e._calculationInfo=Ce({},t._calculationInfo)},c3=function(e,t){var n=e._nameList,r=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=n[t],l=r[t];if(s==null&&a!=null&&(n[t]=s=QS(e,a,t)),l==null&&o!=null&&(r[t]=l=QS(e,o,t)),l==null&&s!=null){var u=e._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),r[t]=l}}})(),i})();function n0e(i,e){return q_(i,e).dimensions}function q_(i,e){yU(i)||(i=_U(i)),e=e||{};var t=e.coordDimensions||[],n=e.dimensionsDefine||i.dimensionsDefine||[],r=St(),a=[],o=r0e(i,t,n,e.dimensionsCount),s=e.canOmitUnusedDimensions&&iK(o),l=n===i.dimensionsDefine,u=l?nK(i):tK(n),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(i,o));for(var f=St(c),h=new aj(o),p=0;p<h.length;p++)h[p]=-1;function g(P){var N=h[P];if(N<0){var B=n[P],G=zt(B)?B:{name:B},U=new OC,X=G.name;X!=null&&u.get(X)!=null&&(U.name=U.displayName=X),G.type!=null&&(U.type=G.type),G.displayName!=null&&(U.displayName=G.displayName);var q=a.length;return h[P]=q,U.storeDimIndex=P,a.push(U),U}return a[N]}if(!s)for(var p=0;p<o;p++)g(p);f.each(function(P,N){var B=Mi(P).slice();if(B.length===1&&!rt(B[0])&&B[0]<0){f.set(N,!1);return}var G=f.set(N,[]);H(B,function(U,X){var q=rt(U)?u.get(U):U;q!=null&&q<o&&(G[X]=q,_(g(q),N,X))})});var y=0;H(t,function(P){var N,B,G,U;if(rt(P))N=P,U={};else{U=P,N=U.name;var X=U.ordinalMeta;U.ordinalMeta=null,U=Ce({},U),U.ordinalMeta=X,B=U.dimsDef,G=U.otherDims,U.name=U.coordDim=U.coordDimIndex=U.dimsDef=U.otherDims=null}var q=f.get(N);if(q!==!1){if(q=Mi(q),!q.length)for(var V=0;V<(B&&B.length||1);V++){for(;y<o&&g(y).coordDim!=null;)y++;y<o&&q.push(y++)}H(q,function(j,K){var te=g(j);if(l&&U.type!=null&&(te.type=U.type),_(Ot(te,U),N,K),te.name==null&&B){var ie=B[K];!zt(ie)&&(ie={name:ie}),te.name=te.displayName=ie.name,te.defaultTooltip=ie.defaultTooltip}G&&Ot(te.otherDims,G)})}});function _(P,N,B){UZ.get(N)!=null?P.otherDims[N]=B:(P.coordDim=N,P.coordDimIndex=B,r.set(N,!0))}var x=e.generateCoord,M=e.generateCoordCount,T=M!=null;M=x?M||1:0;var C=x||"value";function E(P){P.name==null&&(P.name=P.coordDim)}if(s)H(a,function(P){E(P)}),a.sort(function(P,N){return P.storeDimIndex-N.storeDimIndex});else for(var D=0;D<o;D++){var L=g(D),z=L.coordDim;z==null&&(L.coordDim=a0e(C,r,T),L.coordDimIndex=0,(!x||M<=0)&&(L.isExtraCoord=!0),M--),E(L),L.type==null&&(HZ(i,D)===Ka.Must||L.isExtraCoord&&(L.otherDims.itemName!=null||L.otherDims.seriesName!=null))&&(L.type="ordinal")}return i0e(a),new Jj({source:i,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function i0e(i){for(var e=St(),t=0;t<i.length;t++){var n=i[t],r=n.name,a=e.get(r)||0;a>0&&(n.name=r+(a-1)),a++,e.set(r,a)}}function r0e(i,e,t,n){var r=Math.max(i.dimensionsDetectedCount||1,e.length,t.length,n||0);return H(e,function(a){var o;zt(a)&&(o=a.dimsDef)&&(r=Math.max(r,o.length))}),r}function a0e(i,e,t){if(t||e.hasKey(i)){for(var n=0;e.hasKey(i+n);)n++;i+=n}return e.set(i,!0),i}var o0e=(function(){function i(e){this.coordSysDims=[],this.axisMap=St(),this.categoryAxisMap=St(),this.coordSysName=e}return i})();function s0e(i){var e=i.get("coordinateSystem"),t=new o0e(e),n=l0e[e];if(n)return n(i,t,t.axisMap,t.categoryAxisMap),t}var l0e={cartesian2d:function(i,e,t,n){var r=i.getReferringComponents("xAxis",lr).models[0],a=i.getReferringComponents("yAxis",lr).models[0];e.coordSysDims=["x","y"],t.set("x",r),t.set("y",a),d0(r)&&(n.set("x",r),e.firstCategoryDimIndex=0),d0(a)&&(n.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(i,e,t,n){var r=i.getReferringComponents("singleAxis",lr).models[0];e.coordSysDims=["single"],t.set("single",r),d0(r)&&(n.set("single",r),e.firstCategoryDimIndex=0)},polar:function(i,e,t,n){var r=i.getReferringComponents("polar",lr).models[0],a=r.findAxisModel("radiusAxis"),o=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",o),d0(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),d0(o)&&(n.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(i,e,t,n){e.coordSysDims=["lng","lat"]},parallel:function(i,e,t,n){var r=i.ecModel,a=r.getComponent("parallel",i.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();H(a.parallelAxisIndex,function(s,l){var u=r.getComponent("parallelAxis",s),c=o[l];t.set(c,u),d0(u)&&(n.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})},matrix:function(i,e,t,n){var r=i.getReferringComponents("matrix",lr).models[0];e.coordSysDims=["x","y"];var a=r.getDimensionModel("x"),o=r.getDimensionModel("y");t.set("x",a),t.set("y",o),n.set("x",a),n.set("y",o)}};function d0(i){return i.get("type")==="category"}function rK(i,e,t){t=t||{};var n=t.byIndex,r=t.stackedCoordDimension,a,o,s;u0e(e)?a=e:(o=e.schema,a=o.dimensions,s=e.store);var l=!!(i&&i.get("stack")),u,c,f,h;if(H(a,function(M,T){rt(M)&&(a[T]=M={name:M}),l&&!M.isExtraCoord&&(!n&&!u&&M.ordinalMeta&&(u=M),!c&&M.type!=="ordinal"&&M.type!=="time"&&(!r||r===M.coordDim)&&(c=M))}),c&&!n&&!u&&(n=!0),c){f="__\0ecstackresult_"+i.id,h="__\0ecstackedover_"+i.id,u&&(u.createInvertedIndices=!0);var p=c.coordDim,g=c.type,y=0;H(a,function(M){M.coordDim===p&&y++});var _={name:f,coordDim:p,coordDimIndex:y,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},x={name:h,coordDim:h,coordDimIndex:y+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(_.storeDimIndex=s.ensureCalculationDimension(h,g),x.storeDimIndex=s.ensureCalculationDimension(f,g)),o.appendCalculationDimension(_),o.appendCalculationDimension(x)):(a.push(_),a.push(x))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:h,stackResultDimension:f}}function u0e(i){return!eK(i.schema)}function Nh(i,e){return!!e&&e===i.getCalculationInfo("stackedDimension")}function OU(i,e){return Nh(i,e)?i.getCalculationInfo("stackResultDimension"):e}function c0e(i,e){var t=i.get("coordinateSystem"),n=H_.get(t),r;return e&&e.coordSysDims&&(r=Ge(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var l=s.get("type");o.type=vD(l)}return o})),r||(r=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),r}function f0e(i,e,t){var n,r;return t&&H(i,function(a,o){var s=a.coordDim,l=t.categoryAxisMap.get(s);l&&(n==null&&(n=o),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(r=!0)}),!r&&n!=null&&(i[n].otherDims.itemName=0),n}function yf(i,e,t){t=t||{};var n=e.getSourceManager(),r,a=!1;i?(a=!0,r=_U(i)):(r=n.getSource(),a=r.sourceFormat===nl);var o=s0e(e),s=c0e(e,o),l=t.useEncodeDefaulter,u=Ct(l)?l:l?Qt(GZ,s,e):null,c={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=q_(r,c),h=f0e(f.dimensions,t.createInvertedIndices,o),p=a?null:n.getSharedDataStore(f),g=rK(e,{schema:f,store:p}),y=new Ao(f,e);y.setCalculationInfo(g);var _=h!=null&&h0e(r)?function(x,M,T,C){return C===h?T:this.defaultDimValueGetter(x,M,T,C)}:null;return y.hasItemOption=!1,y.initData(a?r:p,null,_),y}function h0e(i){if(i.sourceFormat===nl){var e=d0e(i.data||[]);return!ze(P_(e))}}function d0e(i){for(var e=0;e<i.length&&i[e]==null;)e++;return i[e]}function hz(i){return i.type==="interval"||i.type==="log"}function p0e(i,e,t,n,r){var a={},o=a.interval=Lk(e/t,!0);n!=null&&o<n&&(o=a.interval=n),r!=null&&o>r&&(o=a.interval=r);var s=a.intervalPrecision=P1(o),l=a.niceTickExtent=[Pr(Math.ceil(i[0]/o)*o,s),Pr(Math.floor(i[1]/o)*o,s)];return v0e(l,i),a}function f3(i){var e=Math.pow(10,HR(i)),t=i/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,Pr(t*e)}function P1(i){return zu(i)+2}function _H(i,e,t){i[e]=Math.max(Math.min(i[e],t[1]),t[0])}function v0e(i,e){!isFinite(i[0])&&(i[0]=e[0]),!isFinite(i[1])&&(i[1]=e[1]),_H(i,0,e),_H(i,1,e),i[0]>i[1]&&(i[0]=i[1])}function zU(i,e){return i>=e[0]&&i<=e[1]}var g0e=(function(){function i(){this.normalize=xH,this.scale=SH}return i.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=at(e.normalize,e),this.scale=at(e.scale,e)):(this.normalize=xH,this.scale=SH)},i})();function xH(i,e){return e[1]===e[0]?.5:(i-e[0])/(e[1]-e[0])}function SH(i,e){return i*(e[1]-e[0])+e[0]}function dz(i,e,t){var n=Math.log(i);return[Math.log(t?e[0]:Math.max(0,e[0]))/n,Math.log(t?e[1]:Math.max(0,e[1]))/n]}var zp=(function(){function i(e){this._calculator=new g0e,this._setting=e||{},this._extent=[1/0,-1/0];var t=qr();t&&(this._brkCtx=t.createScaleBreakContext(),this._brkCtx.update(this._extent))}return i.prototype.getSetting=function(e){return this._setting[e]},i.prototype._innerUnionExtent=function(e){var t=this._extent;this._innerSetExtent(e[0]<t[0]?e[0]:t[0],e[1]>t[1]?e[1]:t[1])},i.prototype.unionExtentFromData=function(e,t){this._innerUnionExtent(e.getApproximateExtent(t))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.setExtent=function(e,t){this._innerSetExtent(e,t)},i.prototype._innerSetExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t),this._brkCtx&&this._brkCtx.update(n)},i.prototype.setBreaksFromOption=function(e){var t=qr();t&&this._innerSetBreak(t.parseAxisBreakOption(e,at(this.parse,this)))},i.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},i.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},i.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},i.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},i.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},i.prototype.isBlank=function(){return this._isBlank},i.prototype.setBlank=function(e){this._isBlank=e},i})();WR(zp);var m0e=0,N1=(function(){function i(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++m0e,this._onCollect=e.onCollect}return i.createByAxisModel=function(e){var t=e.option,n=t.data,r=n&&Ge(n,y0e);return new i({categories:r,needCollect:!r,deduplication:t.dedplication!==!1})},i.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},i.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!rt(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,this._onCollect&&this._onCollect(e,t),t;var r=this._getOrCreateMap();return t=r.get(e),t==null&&(n?(t=this.categories.length,this.categories[t]=e,r.set(e,t),this._onCollect&&this._onCollect(e,t)):t=NaN),t},i.prototype._getOrCreateMap=function(){return this._map||(this._map=St(this.categories))},i})();function y0e(i){return zt(i)&&i.value!=null?i.value:i+""}var y_=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new N1({})),ze(r)&&(r=new N1({categories:Ge(r,function(a){return zt(a)?a.value:a})})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return e.prototype.parse=function(t){return t==null?NaN:rt(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return zU(t,this._extent)&&t>=0&&t<this._ordinalMeta.categories.length},e.prototype.normalize=function(t){return t=this._getTickNumber(t),this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(this._calculator.scale(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],n=this._extent,r=n[0];r<=n[1];)t.push({value:r}),r++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);o<l;++o){var u=n[o];r[o]=u,a[u]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;r.push(c),a[c]=o}},e.prototype._getTickNumber=function(t){var n=this._ticksByOrdinalNumber;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getRawOrdinalNumber=function(t){var n=this._ordinalNumbersByTick;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var n=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[n];return r==null?"":r+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(zp);zp.registerClass(y_);var Gd=Pr,Oh=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t==null||t===""?NaN:Number(t)},e.prototype.contain=function(t){return zU(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=P1(t)},e.prototype.getTicks=function(t){t=t||{};var n=this._interval,r=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=qr(),l=[];if(!n)return l;if(t.breakTicks==="only_break"&&s)return s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l;var u=1e4;r[0]<a[0]&&(t.expandToNicedExtent?l.push({value:Gd(a[0]-n,o)}):l.push({value:r[0]}));for(var c=function(g,y){return Math.round((y-g)/n)},f=a[0];f<=a[1];){if(l.push({value:f}),f=Gd(f+n,o),this._brkCtx){var h=this._brkCtx.calcNiceTickMultiple(f,c);h>=0&&(f=Gd(f+h*n,o))}if(l.length>0&&f===l[l.length-1].value)break;if(l.length>u)return[]}var p=l.length?l[l.length-1].value:a[1];return r[1]>p&&(t.expandToNicedExtent?l.push({value:Gd(p+n,o)}):l.push({value:r[1]})),s&&s.pruneTicksByBreak(t.pruneByBreak,l,this._brkCtx.breaks,function(g){return g.value},this._interval,this._extent),t.breakTicks!=="none"&&s&&s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l},e.prototype.getMinorTicks=function(t){for(var n=this.getTicks({expandToNicedExtent:!0}),r=[],a=this.getExtent(),o=1;o<n.length;o++){var s=n[o],l=n[o-1];if(!(l.break||s.break)){for(var u=0,c=[],f=s.value-l.value,h=f/t,p=P1(h);u<t-1;){var g=Gd(l.value+(u+1)*h,p);g>a[0]&&g<a[1]&&c.push(g),u++}var y=qr();y&&y.pruneTicksByBreak("auto",c,this._getNonTransBreaks(),function(_){return _},this._interval,a),r.push(c)}}return r},e.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.getLabel=function(t,n){if(t==null)return"";var r=n&&n.precision;r==null?r=zu(t.value)||0:r==="auto"&&(r=this._intervalPrecision);var a=Gd(t.value,r,!0);return cU(a)},e.prototype.calcNiceTicks=function(t,n,r){t=t||5;var a=this._extent.slice(),o=this._getExtentSpanWithBreaks();if(isFinite(o)){o<0&&(o=-o,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var s=p0e(a,o,t,n,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var r=Math.abs(n[0]);t.fixMax||(n[1]+=r/2),n[0]-=r/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval,s=this._intervalPrecision;t.fixMin||(n[0]=Gd(Math.floor(n[0]/o)*o,s)),t.fixMax||(n[1]=Gd(Math.ceil(n[1]/o)*o,s)),this._innerSetExtent(n[0],n[1])},e.prototype.setNiceExtent=function(t,n){this._niceExtent=[t,n]},e.type="interval",e})(zp);zp.registerClass(Oh);var aK=typeof Float32Array<"u",_0e=aK?Float32Array:Array;function Kc(i){return ze(i)?aK?new Float32Array(i):i:new _0e(i)}var pz="__ec_stack_";function oK(i){return i.get("stack")||pz+i.seriesIndex}function BU(i){return i.dim+i.index}function x0e(i){var e=[],t=i.axis,n="axis0";if(t.type==="category"){for(var r=t.getBandWidth(),a=0;a<i.count;a++)e.push(Ot({bandWidth:r,axisKey:n,stackId:pz+a},i));for(var o=uK(e),s=[],a=0;a<i.count;a++){var l=o[n][pz+a];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function sK(i,e){var t=[];return e.eachSeriesByType(i,function(n){hK(n)&&t.push(n)}),t}function S0e(i){var e={};H(i,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),h=c.dim+"_"+c.index,p=f.getDimensionIndex(f.mapDimension(c.dim)),g=f.getStore(),y=0,_=g.count();y<_;++y){var x=g.get(p,y);e[h]?e[h].push(x):e[h]=[x]}});var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r){r.sort(function(l,u){return l-u});for(var a=null,o=1;o<r.length;++o){var s=r[o]-r[o-1];s>0&&(a=a===null?s:Math.min(a,s))}t[n]=a}}return t}function lK(i){var e=S0e(i),t=[];return H(i,function(n){var r=n.coordinateSystem,a=r.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=e[l],c=Math.abs(o[1]-o[0]),f=a.scale.getExtent(),h=Math.abs(f[1]-f[0]);s=u?c/h*u:c}else{var p=n.getData();s=Math.abs(o[1]-o[0])/p.count()}var g=it(n.get("barWidth"),s),y=it(n.get("barMaxWidth"),s),_=it(n.get("barMinWidth")||(dK(n)?.5:1),s),x=n.get("barGap"),M=n.get("barCategoryGap"),T=n.get("defaultBarGap");t.push({bandWidth:s,barWidth:g,barMaxWidth:y,barMinWidth:_,barGap:x,barCategoryGap:M,defaultBarGap:T,axisKey:BU(a),stackId:oK(n)})}),uK(t)}function uK(i){var e={};H(i,function(n,r){var a=n.axisKey,o=n.bandWidth,s=e[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},l=s.stacks;e[a]=s;var u=n.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=n.barMaxWidth;f&&(l[u].maxWidth=f);var h=n.barMinWidth;h&&(l[u].minWidth=h);var p=n.barGap;p!=null&&(s.gap=p);var g=n.barCategoryGap;g!=null&&(s.categoryGap=g)});var t={};return H(e,function(n,r){t[r]={};var a=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var l=An(a).length;s=Math.max(35-l*4,15)+"%"}var u=it(s,o),c=it(n.gap,1),f=n.remainedWidth,h=n.autoWidthCount,p=(f-u)/(h+(h-1)*c);p=Math.max(p,0),H(a,function(x){var M=x.maxWidth,T=x.minWidth;if(x.width){var C=x.width;M&&(C=Math.min(C,M)),T&&(C=Math.max(C,T)),x.width=C,f-=C+c*C,h--}else{var C=p;M&&M<C&&(C=Math.min(M,f)),T&&T>C&&(C=T),C!==p&&(x.width=C,f-=C+c*C,h--)}}),p=(f-u)/(h+(h-1)*c),p=Math.max(p,0);var g=0,y;H(a,function(x,M){x.width||(x.width=p),y=x,g+=x.width*(1+c)}),y&&(g-=y.width*c);var _=-g/2;H(a,function(x,M){t[r][M]=t[r][M]||{bandWidth:o,offset:_,width:x.width},_+=x.width*(1+c)})}),t}function b0e(i,e,t){if(i&&e){var n=i[BU(e)];return n}}function cK(i,e){var t=sK(i,e),n=lK(t);H(t,function(r){var a=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=oK(r),u=n[BU(s)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function fK(i){return{seriesType:i,plan:W_(),reset:function(e){if(hK(e)){var t=e.getData(),n=e.coordinateSystem,r=n.getBaseAxis(),a=n.getOtherAxis(r),o=t.getDimensionIndex(t.mapDimension(a.dim)),s=t.getDimensionIndex(t.mapDimension(r.dim)),l=e.get("showBackground",!0),u=t.mapDimension(a.dim),c=t.getCalculationInfo("stackResultDimension"),f=Nh(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),h=a.isHorizontal(),p=M0e(r,a),g=dK(e),y=e.get("barMinHeight")||0,_=c&&t.getDimensionIndex(c),x=t.getLayout("size"),M=t.getLayout("offset");return{progress:function(T,C){for(var E=T.count,D=g&&Kc(E*3),L=g&&l&&Kc(E*3),z=g&&Kc(E),P=n.master.getRect(),N=h?P.width:P.height,B,G=C.getStore(),U=0;(B=T.next())!=null;){var X=G.get(f?_:o,B),q=G.get(s,B),V=p,j=void 0;f&&(j=+X-G.get(o,B));var K=void 0,te=void 0,ie=void 0,Y=void 0;if(h){var ee=n.dataToPoint([X,q]);if(f){var oe=n.dataToPoint([j,q]);V=oe[0]}K=V,te=ee[1]+M,ie=ee[0]-V,Y=x,Math.abs(ie)<y&&(ie=(ie<0?-1:1)*y)}else{var ee=n.dataToPoint([q,X]);if(f){var oe=n.dataToPoint([q,j]);V=oe[1]}K=ee[0]+M,te=V,ie=x,Y=ee[1]-V,Math.abs(Y)<y&&(Y=(Y<=0?-1:1)*y)}g?(D[U]=K,D[U+1]=te,D[U+2]=h?ie:Y,L&&(L[U]=h?P.x:K,L[U+1]=h?te:P.y,L[U+2]=N),z[B]=B):C.setItemLayout(B,{x:K,y:te,width:ie,height:Y}),U+=3}g&&C.setLayout({largePoints:D,largeDataIndices:z,largeBackgroundPoints:L,valueAxisHorizontal:h})}}}}}}function hK(i){return i.coordinateSystem&&i.coordinateSystem.type==="cartesian2d"}function dK(i){return i.pipelineContext&&i.pipelineContext.large}function M0e(i,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var T0e=function(i,e,t,n){for(;t<n;){var r=t+n>>>1;i[r][1]<e?t=r+1:n=r}return t},kU=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n.type="time",n}return e.prototype.getLabel=function(t){var n=this.getSetting("useUTC");return mM(t.value,hG[qve(Jb(this._minLevelUnit))]||hG.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,n,r){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return Zve(t,n,r,o,a)},e.prototype.getTicks=function(t){t=t||{};var n=this._interval,r=this._extent,a=qr(),o=[];if(!n)return o;var s=this.getSetting("useUTC");if(a&&t.breakTicks==="only_break")return qr().addBreaksToTicks(o,this._brkCtx.breaks,this._extent),o;var l=z0(r[1],s);o.push({value:r[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var u=L0e(this._minLevelUnit,this._approxInterval,s,r,this._getExtentSpanWithBreaks(),this._brkCtx);o=o.concat(u);var c=z0(r[1],s);o.push({value:r[1],time:{level:0,upperTimeUnit:c,lowerTimeUnit:c}});var f=this.getSetting("useUTC"),h=Vs.length-1,p=0;return H(o,function(g){h=Math.min(h,en(Vs,g.time.upperTimeUnit)),p=Math.max(p,g.time.level)}),a&&qr().pruneTicksByBreak(t.pruneByBreak,o,this._brkCtx.breaks,function(g){return g.value},this._approxInterval,this._extent),a&&t.breakTicks!=="none"&&qr().addBreaksToTicks(o,this._brkCtx.breaks,this._extent,function(g){for(var y=Math.max(en(Vs,z0(g.vmin,f)),en(Vs,z0(g.vmax,f))),_=0,x=0;x<Vs.length;x++)if(!pK(Vs[x],g.vmin,g.vmax,f)){_=x;break}var M=Math.min(_,h),T=Math.max(M,y);return{level:p,lowerTimeUnit:Vs[T],upperTimeUnit:Vs[M]}}),o},e.prototype.calcNiceExtent=function(t){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=Vl,n[1]+=Vl),n[1]===-1/0&&n[0]===1/0){var r=new Date;n[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),n[0]=n[1]-Vl}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,n,r){t=t||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/t,n!=null&&this._approxInterval<n&&(this._approxInterval=n),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var o=OA.length,s=Math.min(T0e(OA,this._approxInterval,0,o),o-1);this._interval=OA[s][1],this._intervalPrecision=P1(this._interval),this._minLevelUnit=OA[Math.max(s-1,0)][0]},e.prototype.parse=function(t){return Pn(t)?t:+gf(t)},e.prototype.contain=function(t){return zU(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.type="time",e})(Oh),OA=[["second",nU],["minute",iU],["hour",Qb],["quarter-day",Qb*6],["half-day",Qb*12],["day",Vl*1.2],["half-week",Vl*3.5],["week",Vl*7],["month",Vl*31],["quarter",Vl*95],["half-year",fG/2],["year",fG]];function pK(i,e,t,n){return rD(new Date(e),i,n).getTime()===rD(new Date(t),i,n).getTime()}function w0e(i,e){return i/=Vl,i>16?16:i>7.5?7:i>3.5?4:i>1.5?2:1}function A0e(i){var e=30*Vl;return i/=e,i>6?6:i>3?3:i>2?2:1}function C0e(i){return i/=Qb,i>12?12:i>6?6:i>3.5?4:i>2?2:1}function bH(i,e){return i/=e?iU:nU,i>30?30:i>20?20:i>15?15:i>10?10:i>5?5:i>2?2:1}function E0e(i){return Lk(i,!0)}function D0e(i,e,t){var n=Math.max(0,en(Vs,e)-1);return rD(new Date(i),Vs[n],t).getTime()}function R0e(i,e){var t=new Date(0);t[i](1);var n=t.getTime();t[i](1+e);var r=t.getTime()-n;return function(a,o){return Math.max(0,Math.round((o-a)/r))}}function L0e(i,e,t,n,r,a){var o=1e4,s=Hve,l=0;function u(U,X,q,V,j,K,te){for(var ie=R0e(j,U),Y=X,ee=new Date(Y);Y<q&&Y<=n[1]&&(te.push({value:Y}),!(l++>o));)if(ee[j](ee[V]()+U),Y=ee.getTime(),a){var oe=a.calcNiceTickMultiple(Y,ie);oe>0&&(ee[j](ee[V]()+oe*U),Y=ee.getTime())}te.push({value:Y,notAdd:!0})}function c(U,X,q){var V=[],j=!X.length;if(!pK(Jb(U),n[0],n[1],t)){j&&(X=[{value:D0e(n[0],U,t)},{value:n[1]}]);for(var K=0;K<X.length-1;K++){var te=X[K].value,ie=X[K+1].value;if(te!==ie){var Y=void 0,ee=void 0,oe=void 0,de=!1;switch(U){case"year":Y=Math.max(1,Math.round(e/Vl/365)),ee=SZ(t),oe=jve(t);break;case"half-year":case"quarter":case"month":Y=A0e(e),ee=rU(t),oe=bZ(t);break;case"week":case"half-week":case"day":Y=w0e(e),ee=aU(t),oe=MZ(t),de=!0;break;case"half-day":case"quarter-day":case"hour":Y=C0e(e),ee=oU(t),oe=TZ(t);break;case"minute":Y=bH(e,!0),ee=sU(t),oe=wZ(t);break;case"second":Y=bH(e,!1),ee=lU(t),oe=AZ(t);break;case"millisecond":Y=E0e(e),ee=uU(t),oe=CZ(t);break}ie>=n[0]&&te<=n[1]&&u(Y,te,ie,ee,oe,de,V),U==="year"&&q.length>1&&K===0&&q.unshift({value:q[0].value-Y})}}for(var K=0;K<V.length;K++)q.push(V[K])}}for(var f=[],h=[],p=0,g=0,y=0;y<s.length;++y){var _=Jb(s[y]);if(Yve(s[y])){c(s[y],f[f.length-1]||[],h);var x=s[y+1]?Jb(s[y+1]):null;if(_!==x){if(h.length){g=p,h.sort(function(U,X){return U.value-X.value});for(var M=[],T=0;T<h.length;++T){var C=h[T].value;(T===0||h[T-1].value!==C)&&(M.push(h[T]),C>=n[0]&&C<=n[1]&&p++)}var E=r/e;if(p>E*1.5&&g>E/1.5||(f.push(M),p>E||i===s[y]))break}h=[]}}}for(var D=Kn(Ge(f,function(U){return Kn(U,function(X){return X.value>=n[0]&&X.value<=n[1]&&!X.notAdd})}),function(U){return U.length>0}),L=[],z=D.length-1,y=0;y<D.length;++y)for(var P=D[y],N=0;N<P.length;++N){var B=z0(P[N].value,t);L.push({value:P[N].value,time:{level:z-y,upperTimeUnit:B,lowerTimeUnit:B}})}L.sort(function(U,X){return U.value-X.value});for(var G=[],y=0;y<L.length;++y)(y===0||L[y].value!==L[y-1].value)&&G.push(L[y]);return G}zp.registerClass(kU);var vz=Pr,I0e=Math.floor,P0e=Math.ceil,zA=Math.pow,BA=Math.log,vK=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Oh,t}return e.prototype.getTicks=function(t){t=t||{};var n=this._extent.slice(),r=this._originalScale.getExtent(),a=i.prototype.getTicks.call(this,t),o=this.base,s=this._originalScale._innerGetBreaks(),l=qr();return Ge(a,function(u){var c=u.value,f=null,h=zA(o,c);c===n[0]&&this._fixMin?f=r[0]:c===n[1]&&this._fixMax&&(f=r[1]);var p;if(l){var g=l.getTicksLogTransformBreak(u,o,s,kA);p=g.vBreak,f==null&&(f=g.brkRoundingCriterion)}return f!=null&&(h=kA(h,f)),{value:h,break:p}},this)},e.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},e.prototype.setExtent=function(t,n){this._originalScale.setExtent(t,n);var r=dz(this.base,[t,n]);i.prototype.setExtent.call(this,r[0],r[1])},e.prototype.getExtent=function(){var t=this.base,n=i.prototype.getExtent.call(this);n[0]=zA(t,n[0]),n[1]=zA(t,n[1]);var r=this._originalScale.getExtent();return this._fixMin&&(n[0]=kA(n[0],r[0])),this._fixMax&&(n[1]=kA(n[1],r[1])),n},e.prototype.unionExtentFromData=function(t,n){this._originalScale.unionExtentFromData(t,n);var r=dz(this.base,t.getApproximateExtent(n),!0);this._innerUnionExtent(r)},e.prototype.calcNiceTicks=function(t){t=t||10;var n=this._extent.slice(),r=this._getExtentSpanWithBreaks();if(!(!isFinite(r)||r<=0)){var a=xq(r),o=t/r*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[vz(P0e(n[0]/a)*a),vz(I0e(n[1]/a)*a)];this._interval=a,this._intervalPrecision=P1(a),this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){i.prototype.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.contain=function(t){return t=BA(t)/BA(this.base),i.prototype.contain.call(this,t)},e.prototype.normalize=function(t){return t=BA(t)/BA(this.base),i.prototype.normalize.call(this,t)},e.prototype.scale=function(t){return t=i.prototype.scale.call(this,t),zA(this.base,t)},e.prototype.setBreaksFromOption=function(t){var n=qr();if(n){var r=n.logarithmicParseBreaksFromOption(t,this.base,at(this.parse,this)),a=r.parsedOriginal,o=r.parsedLogged;this._originalScale._innerSetBreak(a),this._innerSetBreak(o)}},e.type="log",e})(Oh);function kA(i,e){return vz(i,zu(e))}zp.registerClass(vK);var N0e=(function(){function i(e,t,n){this._prepareParams(e,t,n)}return i.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=t.get("min",!0);a==null&&(a=t.get("startValue",!0));var o=this._modelMinRaw=a;Ct(o)?this._modelMinNum=UA(e,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=UA(e,o));var s=this._modelMaxRaw=t.get("max",!0);if(Ct(s)?this._modelMaxNum=UA(e,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=UA(e,s)),r)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=ze(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Xu(u[0],1),Xu(u[1],1)]}},i.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,r=this._axisDataLen,a=this._boundaryGapInner,o=e?null:n-t||Math.abs(t),s=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=e?r?0:NaN:t-a[0]*o),l==null&&(l=e?r?r-1:NaN:n+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Ja(s)||Ja(l)||e&&!r;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var h=this._determinedMin,p=this._determinedMax;return h!=null&&(s=h,u=!0),p!=null&&(l=p,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},i.prototype.modifyDataMinMax=function(e,t){this[z0e[e]]=t},i.prototype.setDeterminedMinMax=function(e,t){var n=O0e[e];this[n]=t},i.prototype.freeze=function(){this.frozen=!0},i})(),O0e={min:"_determinedMin",max:"_determinedMax"},z0e={min:"_dataMin",max:"_dataMax"};function gK(i,e,t){var n=i.rawExtentInfo;return n||(n=new N0e(i,e,t),i.rawExtentInfo=n,n)}function UA(i,e){return e==null?null:Ja(e)?NaN:i.parse(e)}function mK(i,e){var t=i.type,n=gK(i,e,i.getExtent()).calculate();i.setBlank(n.isBlank);var r=n.min,a=n.max,o=e.ecModel;if(o&&t==="time"){var s=sK("bar",o),l=!1;if(H(s,function(f){l=l||f.getBaseAxis()===e.axis}),l){var u=lK(s),c=B0e(r,a,e,u);r=c.min,a=c.max}}return{extent:[r,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function B0e(i,e,t,n){var r=t.axis.getExtent(),a=Math.abs(r[1]-r[0]),o=b0e(n,t.axis);if(o===void 0)return{min:i,max:e};var s=1/0;H(o,function(p){s=Math.min(p.offset,s)});var l=-1/0;H(o,function(p){l=Math.max(p.offset+p.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-i,f=1-(s+l)/a,h=c/f-c;return e+=h*(l/u),i-=h*(s/u),{min:i,max:e}}function sm(i,e){var t=e,n=mK(i,t),r=n.extent,a=t.get("splitNumber");i instanceof vK&&(i.base=t.get("logBase"));var o=i.type,s=t.get("interval"),l=o==="interval"||o==="time";i.setBreaksFromOption(_K(t)),i.setExtent(r[0],r[1]),i.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),s!=null&&i.setInterval&&i.setInterval(s)}function xM(i,e){if(e=e||i.get("type"),e)switch(e){case"category":return new y_({ordinalMeta:i.getOrdinalMeta?i.getOrdinalMeta():i.getCategories(),extent:[1/0,-1/0]});case"time":return new kU({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new(zp.getClass(e)||Oh)}}function k0e(i){var e=i.scale.getExtent(),t=e[0],n=e[1];return!(t>0&&n>0||t<0&&n<0)}function Z_(i){var e=i.getLabelModel().get("formatter");if(i.type==="time"){var t=Wve(e);return function(r,a){return i.scale.getFormattedLabel(r,a,t)}}else{if(rt(e))return function(r){var a=i.scale.getLabel(r),o=e.replace("{value}",a??"");return o};if(Ct(e)){if(i.type==="category")return function(r,a){return e(gD(i,r),r.value-i.scale.getExtent()[0],null)};var n=qr();return function(r,a){var o=null;return n&&(o=n.makeAxisLabelFormatterParamBreak(o,r.break)),e(gD(i,r),a,o)}}else return function(r){return i.scale.getLabel(r)}}}function gD(i,e){return i.type==="category"?i.scale.getLabel(e):e.value}function UU(i){var e=i.get("interval");return e??"auto"}function yK(i){return i.type==="category"&&UU(i.getLabelModel())===0}function mD(i,e){var t={};return H(i.mapDimensionsAll(e),function(n){t[OU(i,n)]=!0}),An(t)}function U0e(i,e,t){e&&H(mD(e,t),function(n){var r=e.getApproximateExtent(n);r[0]<i[0]&&(i[0]=r[0]),r[1]>i[1]&&(i[1]=r[1])})}function __(i){return i==="middle"||i==="center"}function O1(i){return i.getShallow("show")}function _K(i){var e=i.get("breaks",!0);if(e!=null)return!qr()||!F0e(i.axis)?void 0:e}function F0e(i){return(i.dim==="x"||i.dim==="y"||i.dim==="z"||i.dim==="single")&&i.type!=="category"}var j_=(function(){function i(){}return i.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},i.prototype.getCoordSysModel=function(){},i})();function V0e(i){return yf(null,i)}var G0e={isDimensionStacked:Nh,enableDataStack:rK,getStackedDimension:OU};function H0e(i,e){var t=e;e instanceof Sn||(t=new Sn(e));var n=xM(t);return n.setExtent(i[0],i[1]),sm(n,t),n}function W0e(i){Sr(i,j_)}function X0e(i,e){return e=e||{},Si(i,null,null,e.state!=="normal")}const Y0e=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:n0e,createList:V0e,createScale:H0e,createSymbol:Or,createTextStyle:X0e,dataStack:G0e,enableHoverEmphasis:dp,getECData:Ht,getLayoutRect:Ui,mixinAxisModelCommonMethods:W0e},Symbol.toStringTag,{value:"Module"}));var q0e=1e-8;function MH(i,e){return Math.abs(i-e)<q0e}function _g(i,e,t){var n=0,r=i[0];if(!r)return!1;for(var a=1;a<i.length;a++){var o=i[a];n+=ch(r[0],r[1],o[0],o[1],e,t),r=o}var s=i[0];return(!MH(r[0],s[0])||!MH(r[1],s[1]))&&(n+=ch(r[0],r[1],s[0],s[1],e,t)),n!==0}var Z0e=[];function h3(i,e){for(var t=0;t<i.length;t++)xr(i[t],i[t],e)}function TH(i,e,t,n){for(var r=0;r<i.length;r++){var a=i[r];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(mh(e,e,a),yh(t,t,a))}}function j0e(i){for(var e=0,t=0,n=0,r=i.length,a=i[r-1][0],o=i[r-1][1],s=0;s<r;s++){var l=i[s][0],u=i[s][1],c=a*u-l*o;e+=c,t+=(a+l)*c,n+=(o+u)*c,a=l,o=u}return e?[t/e/3,n/e/3,e]:[i[0][0]||0,i[0][1]||0]}var xK=(function(){function i(e){this.name=e}return i.prototype.setCenter=function(e){this._center=e},i.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},i})(),wH=(function(){function i(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return i})(),AH=(function(){function i(e){this.type="linestring",this.points=e}return i})(),SK=(function(i){fe(e,i);function e(t,n,r){var a=i.call(this,t)||this;return a.type="geoJSON",a.geometries=n,a._center=r&&[r[0],r[1]],a}return e.prototype.calcCenter=function(){for(var t=this.geometries,n,r=0,a=0;a<t.length;a++){var o=t[a],s=o.exterior,l=s&&s.length;l>r&&(n=o,r=l)}if(n)return j0e(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(t){var n=this._rect;if(n&&!t)return n;var r=[1/0,1/0],a=[-1/0,-1/0],o=this.geometries;return H(o,function(s){s.type==="polygon"?TH(s.exterior,r,a,t):H(s.points,function(l){TH(l,r,a,t)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])||(r[0]=r[1]=a[0]=a[1]=0),n=new Ut(r[0],r[1],a[0]-r[0],a[1]-r[1]),t||(this._rect=n),n},e.prototype.contain=function(t){var n=this.getBoundingRect(),r=this.geometries;if(!n.contain(t[0],t[1]))return!1;e:for(var a=0,o=r.length;a<o;a++){var s=r[a];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(_g(l,t[0],t[1])){for(var c=0;c<(u?u.length:0);c++)if(_g(u[c],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,n,r,a){var o=this.getBoundingRect(),s=o.width/o.height;r?a||(a=r/s):r=s*a;for(var l=new Ut(t,n,r,a),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var h=c[f];h.type==="polygon"?(h3(h.exterior,u),H(h.interiors,function(p){h3(p,u)})):H(h.points,function(p){h3(p,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e})(xK),K0e=(function(i){fe(e,i);function e(t,n){var r=i.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=n,r}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,n=t.getBoundingRect(),r=[n.x+n.width/2,n.y+n.height/2],a=uM(Z0e),o=t;o&&!o.isGeoSVGGraphicRoot;)Uu(a,o.getLocalTransform(),a),o=o.parent;return jl(a,a),xr(r,r,a),r},e})(xK);function $0e(i){if(!i.UTF8Encoding)return i;var e=i,t=e.UTF8Scale;t==null&&(t=1024);var n=e.features;return H(n,function(r){var a=r.geometry,o=a.encodeOffsets,s=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=bK(s,o,t);break;case"Polygon":d3(s,o,t);break;case"MultiLineString":d3(s,o,t);break;case"MultiPolygon":H(s,function(l,u){return d3(l,o[u],t)})}}),e.UTF8Encoding=!1,e}function d3(i,e,t){for(var n=0;n<i.length;n++)i[n]=bK(i[n],e[n],t)}function bK(i,e,t){for(var n=[],r=e[0],a=e[1],o=0;o<i.length;o+=2){var s=i.charCodeAt(o)-64,l=i.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=r,l+=a,r=s,a=l,n.push([s/t,l/t])}return n}function gz(i,e){return i=$0e(i),Ge(Kn(i.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,r=t.geometry,a=[];switch(r.type){case"Polygon":var o=r.coordinates;a.push(new wH(o[0],o.slice(1)));break;case"MultiPolygon":H(r.coordinates,function(l){l[0]&&a.push(new wH(l[0],l.slice(1)))});break;case"LineString":a.push(new AH([r.coordinates]));break;case"MultiLineString":a.push(new AH(r.coordinates))}var s=new SK(n[e||"name"],a,n.cp);return s.properties=n,s})}const Q0e=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:RO,asc:js,getPercentWithPrecision:mde,getPixelPrecision:Dk,getPrecision:zu,getPrecisionSafe:yq,isNumeric:Ik,isRadianAroundZero:h_,linearMap:ei,nice:Lk,numericToNumber:cf,parseDate:gf,parsePercent:it,quantile:CC,quantity:xq,quantityExponent:HR,reformIntervals:LO,remRadian:Rk,round:Pr},Symbol.toStringTag,{value:"Module"})),J0e=Object.freeze(Object.defineProperty({__proto__:null,format:mM,parse:gf,roundTime:rD},Symbol.toStringTag,{value:"Module"})),e_e=Object.freeze(Object.defineProperty({__proto__:null,Arc:pM,BezierCurve:B_,BoundingRect:Ut,Circle:mf,CompoundPath:vM,Ellipse:dM,Group:It,Image:Ta,IncrementalDisplayable:oZ,Line:Nr,LinearGradient:vm,Polygon:ro,Polyline:Ba,RadialGradient:Xk,Rect:dn,Ring:z_,Sector:io,Text:In,clipPointsByRect:jk,clipRectByRect:fZ,createIcon:U_,extendPath:uZ,extendShape:lZ,getShapeClass:A1,getTransform:pp,initProps:Li,makeImage:qk,makePath:p_,mergePath:Xs,registerShape:tu,resizePath:Zk,updateProps:Gn},Symbol.toStringTag,{value:"Module"})),t_e=Object.freeze(Object.defineProperty({__proto__:null,addCommas:cU,capitalFirst:Jve,encodeHTML:Mo,formatTime:Qve,formatTpl:hU,getTextRect:Kve,getTooltipMarker:EZ,normalizeCssArray:G_,toCamelCase:fU,truncateText:Kde},Symbol.toStringTag,{value:"Module"})),n_e=Object.freeze(Object.defineProperty({__proto__:null,bind:at,clone:Lt,curry:Qt,defaults:Ot,each:H,extend:Ce,filter:Kn,indexOf:en,inherits:Sk,isArray:ze,isFunction:Ct,isObject:zt,isString:rt,map:Ge,merge:nn,reduce:Zl},Symbol.toStringTag,{value:"Module"}));var i_e=yn(),t1=yn(),Yu={estimate:1,determine:2};function yD(i){return{out:{noPxChangeTryDetermine:[]},kind:i}}function MK(i,e){var t=Ge(e,function(n){return i.scale.parse(n)});return i.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function r_e(i,e){var t=i.getLabelModel().get("customValues");if(t){var n=Z_(i),r=i.scale.getExtent(),a=MK(i,t),o=Kn(a,function(s){return s>=r[0]&&s<=r[1]});return{labels:Ge(o,function(s){var l={value:s};return{formattedLabel:n(l),rawLabel:i.scale.getLabel(l),tickValue:s,time:void 0,break:void 0}})}}return i.type==="category"?o_e(i,e):l_e(i)}function a_e(i,e,t){var n=i.getTickModel().get("customValues");if(n){var r=i.scale.getExtent(),a=MK(i,n);return{ticks:Kn(a,function(o){return o>=r[0]&&o<=r[1]})}}return i.type==="category"?s_e(i,e):{ticks:Ge(i.scale.getTicks(t),function(o){return o.value})}}function o_e(i,e){var t=i.getLabelModel(),n=TK(i,t,e);return!t.get("show")||i.scale.isBlank()?{labels:[]}:n}function TK(i,e,t){var n=c_e(i),r=UU(e),a=t.kind===Yu.estimate;if(!a){var o=AK(n,r);if(o)return o}var s,l;Ct(r)?s=DK(i,r):(l=r==="auto"?f_e(i,t):r,s=EK(i,l));var u={labels:s,labelCategoryInterval:l};return a?t.out.noPxChangeTryDetermine.push(function(){return mz(n,r,u),!0}):mz(n,r,u),u}function s_e(i,e){var t=u_e(i),n=UU(e),r=AK(t,n);if(r)return r;var a,o;if((!e.get("show")||i.scale.isBlank())&&(a=[]),Ct(n))a=DK(i,n,!0);else if(n==="auto"){var s=TK(i,i.getLabelModel(),yD(Yu.determine));o=s.labelCategoryInterval,a=Ge(s.labels,function(l){return l.tickValue})}else o=n,a=EK(i,o,!0);return mz(t,n,{ticks:a,tickCategoryInterval:o})}function l_e(i){var e=i.scale.getTicks(),t=Z_(i);return{labels:Ge(e,function(n,r){return{formattedLabel:t(n,r),rawLabel:i.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var u_e=wK("axisTick"),c_e=wK("axisLabel");function wK(i){return function(t){return t1(t)[i]||(t1(t)[i]={list:[]})}}function AK(i,e){for(var t=0;t<i.list.length;t++)if(i.list[t].key===e)return i.list[t].value}function mz(i,e,t){return i.list.push({key:e,value:t}),t}function f_e(i,e){if(e.kind===Yu.estimate){var t=i.calculateCategoryInterval(e);return e.out.noPxChangeTryDetermine.push(function(){return t1(i).autoInterval=t,!0}),t}var n=t1(i).autoInterval;return n??(t1(i).autoInterval=i.calculateCategoryInterval(e))}function h_e(i,e){var t=e.kind,n=p_e(i),r=Z_(i),a=(n.axisRotate-n.labelRotate)/180*Math.PI,o=i.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=1,c=40;l>c&&(u=Math.max(1,Math.floor(l/c)));for(var f=s[0],h=i.dataToCoord(f+1)-i.dataToCoord(f),p=Math.abs(h*Math.cos(a)),g=Math.abs(h*Math.sin(a)),y=0,_=0;f<=s[1];f+=u){var x=0,M=0,T=VR(r({value:f}),n.font,"center","top");x=T.width*1.3,M=T.height*1.3,y=Math.max(y,x,7),_=Math.max(_,M,7)}var C=y/p,E=_/g;isNaN(C)&&(C=1/0),isNaN(E)&&(E=1/0);var D=Math.max(0,Math.floor(Math.min(C,E)));if(t===Yu.estimate)return e.out.noPxChangeTryDetermine.push(at(d_e,null,i,D,l)),D;var L=CK(i,D,l);return L??D}function d_e(i,e,t){return CK(i,e,t)==null}function CK(i,e,t){var n=i_e(i.model),r=i.getExtent(),a=n.lastAutoInterval,o=n.lastTickCount;if(a!=null&&o!=null&&Math.abs(a-e)<=1&&Math.abs(o-t)<=1&&a>e&&n.axisExtent0===r[0]&&n.axisExtent1===r[1])return a;n.lastTickCount=t,n.lastAutoInterval=e,n.axisExtent0=r[0],n.axisExtent1=r[1]}function p_e(i){var e=i.getLabelModel();return{axisRotate:i.getRotate?i.getRotate():i.isHorizontal&&!i.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function EK(i,e,t){var n=Z_(i),r=i.scale,a=r.getExtent(),o=i.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=a[0],c=r.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=yK(i),h=o.get("showMinLabel")||f,p=o.get("showMaxLabel")||f;h&&u!==a[0]&&y(a[0]);for(var g=u;g<=a[1];g+=l)y(g);p&&g-l!==a[1]&&y(a[1]);function y(_){var x={value:_};s.push(t?_:{formattedLabel:n(x),rawLabel:r.getLabel(x),tickValue:_,time:void 0,break:void 0})}return s}function DK(i,e,t){var n=i.scale,r=Z_(i),a=[];return H(n.getTicks(),function(o){var s=n.getLabel(o),l=o.value;e(o.value,s)&&a.push(t?l:{formattedLabel:r(o),rawLabel:s,tickValue:l,time:void 0,break:void 0})}),a}var CH=[0,1],nu=(function(){function i(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return i.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=n&&e<=r},i.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.getPixelPrecision=function(e){return Dk(e||this.scale.getExtent(),this._extent)},i.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},i.prototype.dataToCoord=function(e,t){var n=this._extent,r=this.scale;return e=r.normalize(r.parse(e)),this.onBand&&r.type==="ordinal"&&(n=n.slice(),EH(n,r.count())),ei(e,CH,n,t)},i.prototype.coordToData=function(e,t){var n=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(n=n.slice(),EH(n,r.count()));var a=ei(e,n,CH,t);return this.scale.scale(a)},i.prototype.pointToData=function(e,t){},i.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=a_e(this,t,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}),r=n.ticks,a=Ge(r,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return v_e(this,a,o,e.clamp),a},i.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var n=this.scale.getMinorTicks(t),r=Ge(n,function(a){return Ge(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return r},i.prototype.getViewLabels=function(e){return e=e||yD(Yu.determine),r_e(this,e).labels},i.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},i.prototype.getTickModel=function(){return this.model.getModel("axisTick")},i.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);n===0&&(n=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/n},i.prototype.calculateCategoryInterval=function(e){return e=e||yD(Yu.determine),h_e(this,e)},i})();function EH(i,e){var t=i[1]-i[0],n=e,r=t/n/2;i[0]+=r,i[1]-=r}function v_e(i,e,t,n){var r=e.length;if(!i.onBand||t||!r)return;var a=i.getExtent(),o,s;if(r===1)e[0].coord=a[0],e[0].onBand=!0,o=e[1]={coord:a[1],tickValue:e[0].tickValue,onBand:!0};else{var l=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/l;H(e,function(p){p.coord-=u/2,p.onBand=!0});var c=i.scale.getExtent();s=1+c[1]-e[r-1].tickValue,o={coord:e[r-1].coord+u*s,tickValue:c[1]+1,onBand:!0},e.push(o)}var f=a[0]>a[1];h(e[0].coord,a[0])&&(n?e[0].coord=a[0]:e.shift()),n&&h(a[0],e[0].coord)&&e.unshift({coord:a[0],onBand:!0}),h(a[1],o.coord)&&(n?o.coord=a[1]:e.pop()),n&&h(o.coord,a[1])&&e.push({coord:a[1],onBand:!0});function h(p,g){return p=Pr(p),g=Pr(g),f?p>g:p<g}}function g_e(i){var e=mn.extend(i);return mn.registerClass(e),e}function m_e(i){var e=Ti.extend(i);return Ti.registerClass(e),e}function y_e(i){var e=vi.extend(i);return vi.registerClass(e),e}function __e(i){var e=fi.extend(i);return fi.registerClass(e),e}var tb=Math.PI*2,ag=ff.CMD,x_e=["top","right","bottom","left"];function S_e(i,e,t,n,r){var a=t.width,o=t.height;switch(i){case"top":n.set(t.x+a/2,t.y-e),r.set(0,-1);break;case"bottom":n.set(t.x+a/2,t.y+o+e),r.set(0,1);break;case"left":n.set(t.x-e,t.y+o/2),r.set(-1,0);break;case"right":n.set(t.x+a+e,t.y+o/2),r.set(1,0);break}}function b_e(i,e,t,n,r,a,o,s,l){o-=i,s-=e;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*t+i,f=s*t+e;if(Math.abs(n-r)%tb<1e-4)return l[0]=c,l[1]=f,u-t;if(a){var h=n;n=Ks(r),r=Ks(h)}else n=Ks(n),r=Ks(r);n>r&&(r+=tb);var p=Math.atan2(s,o);if(p<0&&(p+=tb),p>=n&&p<=r||p+tb>=n&&p+tb<=r)return l[0]=c,l[1]=f,u-t;var g=t*Math.cos(n)+i,y=t*Math.sin(n)+e,_=t*Math.cos(r)+i,x=t*Math.sin(r)+e,M=(g-o)*(g-o)+(y-s)*(y-s),T=(_-o)*(_-o)+(x-s)*(x-s);return M<T?(l[0]=g,l[1]=y,Math.sqrt(M)):(l[0]=_,l[1]=x,Math.sqrt(T))}function _D(i,e,t,n,r,a,o,s){var l=r-i,u=a-e,c=t-i,f=n-e,h=Math.sqrt(c*c+f*f);c/=h,f/=h;var p=l*c+u*f,g=p/h;s&&(g=Math.min(Math.max(g,0),1)),g*=h;var y=o[0]=i+g*c,_=o[1]=e+g*f;return Math.sqrt((y-r)*(y-r)+(_-a)*(_-a))}function RK(i,e,t,n,r,a,o){t<0&&(i=i+t,t=-t),n<0&&(e=e+n,n=-n);var s=i+t,l=e+n,u=o[0]=Math.min(Math.max(r,i),s),c=o[1]=Math.min(Math.max(a,e),l);return Math.sqrt((u-r)*(u-r)+(c-a)*(c-a))}var Iu=[];function M_e(i,e,t){var n=RK(e.x,e.y,e.width,e.height,i.x,i.y,Iu);return t.set(Iu[0],Iu[1]),n}function T_e(i,e,t){for(var n=0,r=0,a=0,o=0,s,l,u=1/0,c=e.data,f=i.x,h=i.y,p=0;p<c.length;){var g=c[p++];p===1&&(n=c[p],r=c[p+1],a=n,o=r);var y=u;switch(g){case ag.M:a=c[p++],o=c[p++],n=a,r=o;break;case ag.L:y=_D(n,r,c[p],c[p+1],f,h,Iu,!0),n=c[p++],r=c[p++];break;case ag.C:y=QY(n,r,c[p++],c[p++],c[p++],c[p++],c[p],c[p+1],f,h,Iu),n=c[p++],r=c[p++];break;case ag.Q:y=eq(n,r,c[p++],c[p++],c[p],c[p+1],f,h,Iu),n=c[p++],r=c[p++];break;case ag.A:var _=c[p++],x=c[p++],M=c[p++],T=c[p++],C=c[p++],E=c[p++];p+=1;var D=!!(1-c[p++]);s=Math.cos(C)*M+_,l=Math.sin(C)*T+x,p<=1&&(a=s,o=l);var L=(f-_)*T/M+_;y=b_e(_,x,T,C,C+E,D,L,h,Iu),n=Math.cos(C+E)*M+_,r=Math.sin(C+E)*T+x;break;case ag.R:a=n=c[p++],o=r=c[p++];var z=c[p++],P=c[p++];y=RK(a,o,z,P,f,h,Iu);break;case ag.Z:y=_D(n,r,a,o,f,h,Iu,!0),n=a,r=o;break}y<u&&(u=y,t.set(Iu[0],Iu[1]))}return u}var Bu=new kt,Ri=new kt,Rr=new kt,$c=new kt,Yc=new kt;function DH(i,e){if(i){var t=i.getTextGuideLine(),n=i.getTextContent();if(n&&t){var r=i.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=r.candidates||x_e,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=r.anchor,c=i.getComputedTransform(),f=c&&jl([],c),h=e.get("length2")||0;u&&Rr.copy(u);for(var p=0;p<o.length;p++){var g=o[p];S_e(g,0,s,Bu,$c),kt.scaleAndAdd(Ri,Bu,$c,h),Ri.transform(f);var y=i.getBoundingRect(),_=u?u.distance(Ri):i instanceof bn?T_e(Ri,i.path,Rr):M_e(Ri,y,Rr);_<l&&(l=_,Ri.transform(c),Rr.transform(c),Rr.toArray(a[0]),Ri.toArray(a[1]),Bu.toArray(a[2]))}LK(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var xD=[],qo=new kt;function LK(i,e){if(e<=180&&e>0){e=e/180*Math.PI,Bu.fromArray(i[0]),Ri.fromArray(i[1]),Rr.fromArray(i[2]),kt.sub($c,Bu,Ri),kt.sub(Yc,Rr,Ri);var t=$c.len(),n=Yc.len();if(!(t<.001||n<.001)){$c.scale(1/t),Yc.scale(1/n);var r=$c.dot(Yc),a=Math.cos(e);if(a<r){var o=_D(Ri.x,Ri.y,Rr.x,Rr.y,Bu.x,Bu.y,xD,!1);qo.fromArray(xD),qo.scaleAndAdd(Yc,o/Math.tan(Math.PI-e));var s=Rr.x!==Ri.x?(qo.x-Ri.x)/(Rr.x-Ri.x):(qo.y-Ri.y)/(Rr.y-Ri.y);if(isNaN(s))return;s<0?kt.copy(qo,Ri):s>1&&kt.copy(qo,Rr),qo.toArray(i[1])}}}}function w_e(i,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Bu.fromArray(i[0]),Ri.fromArray(i[1]),Rr.fromArray(i[2]),kt.sub($c,Ri,Bu),kt.sub(Yc,Rr,Ri);var n=$c.len(),r=Yc.len();if(!(n<.001||r<.001)){$c.scale(1/n),Yc.scale(1/r);var a=$c.dot(e),o=Math.cos(t);if(a<o){var s=_D(Ri.x,Ri.y,Rr.x,Rr.y,Bu.x,Bu.y,xD,!1);qo.fromArray(xD);var l=Math.PI/2,u=Math.acos(Yc.dot(e)),c=l+u-t;if(c>=l)kt.copy(qo,Rr);else{qo.scaleAndAdd(Yc,s/Math.tan(Math.PI/2-c));var f=Rr.x!==Ri.x?(qo.x-Ri.x)/(Rr.x-Ri.x):(qo.y-Ri.y)/(Rr.y-Ri.y);if(isNaN(f))return;f<0?kt.copy(qo,Ri):f>1&&kt.copy(qo,Rr)}qo.toArray(i[1])}}}}function p3(i,e,t,n){var r=t==="normal",a=r?i:i.ensureState(t);a.ignore=e;var o=n.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();r?i.useStyle(s):a.style=s}function A_e(i,e){var t=e.smooth,n=e.points;if(n)if(i.moveTo(n[0][0],n[0][1]),t>0&&n.length>=3){var r=gh(n[0],n[1]),a=gh(n[1],n[2]);if(!r||!a){i.lineTo(n[1][0],n[1][1]),i.lineTo(n[2][0],n[2][1]);return}var o=Math.min(r,a)*t,s=Xb([],n[1],n[0],o/r),l=Xb([],n[1],n[2],o/a),u=Xb([],s,l,.5);i.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),i.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)i.lineTo(n[c][0],n[c][1])}function FU(i,e,t){var n=i.getTextGuideLine(),r=i.getTextContent();if(!r){n&&i.removeTextGuideLine();return}for(var a=e.normal,o=a.get("show"),s=r.ignore,l=0;l<T1.length;l++){var u=T1[l],c=e[u],f=u==="normal";if(c){var h=c.get("show"),p=f?s:bt(r.states[u]&&r.states[u].ignore,s);if(p||!bt(h,o)){var g=f?n:n&&n.states[u];g&&(g.ignore=!0),n&&p3(n,!0,u,c);continue}n||(n=new Ba,i.setTextGuideLine(n),!f&&(s||!o)&&p3(n,!0,"normal",e.normal),i.stateProxy&&(n.stateProxy=i.stateProxy)),p3(n,!1,u,c)}}if(n){Ot(n.style,t),n.style.fill=null;var y=a.get("showAbove"),_=i.textGuideLineConfig=i.textGuideLineConfig||{};_.showAbove=y||!1,n.buildPath=A_e}}function VU(i,e){e=e||"labelLine";for(var t={normal:i.getModel(e)},n=0;n<ts.length;n++){var r=ts[n];t[r]=i.getModel([r,e])}return t}var RH=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],C_e=1,SD=2,IK=C_e|SD;function bD(i,e,t){t=t||IK,e?i.dirty|=t:i.dirty&=~t}function PK(i,e){return e=e||IK,i.dirty==null||!!(i.dirty&e)}function df(i){if(i)return PK(i)&&NK(i,i.label,i),i}function NK(i,e,t){var n=e.getComputedTransform();i.transform=$k(i.transform,n);var r=i.localRect=C1(i.localRect,e.getBoundingRect()),a=e.style,o=a.margin,s=t&&t.marginForce,l=t&&t.minMarginForce,u=t&&t.marginDefault,c=a.__marginType;c==null&&u&&(o=u,c=O0.textMargin);for(var f=0;f<4;f++)v3[f]=c===O0.minMargin&&l&&l[f]!=null?l[f]:s&&s[f]!=null?s[f]:o?o[f]:0;c===O0.textMargin&&rm(r,v3,!1,!1);var h=i.rect=C1(i.rect,r);return n&&h.applyTransform(n),c===O0.minMargin&&rm(h,v3,!1,!1),i.axisAligned=Kk(n),(i.label=i.label||{}).ignore=e.ignore,bD(i,!1),bD(i,!0,SD),i}var v3=[0,0,0,0];function E_e(i,e,t){return i.transform=$k(i.transform,t),i.localRect=C1(i.localRect,e),i.rect=C1(i.rect,e),t&&i.rect.applyTransform(t),i.axisAligned=Kk(t),i.obb=void 0,(i.label=i.label||{}).ignore=!1,i}function yz(i,e){if(i){i.label.x+=e.x,i.label.y+=e.y,i.label.markRedraw();var t=i.transform;t&&(t[4]+=e.x,t[5]+=e.y);var n=i.rect;n&&(n.x+=e.x,n.y+=e.y);var r=i.obb;r&&r.fromBoundingRect(i.localRect,t)}}function _z(i,e){for(var t=0;t<RH.length;t++){var n=RH[t];i[n]==null&&(i[n]=e[n])}return df(i)}function LH(i){var e=i.obb;return(!e||PK(i,SD))&&(i.obb=e=e||new aZ,e.fromBoundingRect(i.localRect,i.transform),bD(i,!1,SD)),e}function xz(i,e,t,n,r){var a=i.length,o=Zt[e],s=Zr[e];if(a<2)return!1;i.sort(function(L,z){return L.rect[o]-z.rect[o]});for(var l=0,u,c=!1,f=0;f<a;f++){var h=i[f],p=h.rect;u=p[o]-l,u<0&&(p[o]-=u,h.label[o]-=u,c=!0),l=p[o]+p[s]}var g=i[0],y=i[a-1],_,x;M(),_<0&&E(-_,.8),x<0&&E(x,.8),M(),T(_,x,1),T(x,_,-1),M(),_<0&&D(-_),x<0&&D(x);function M(){_=g.rect[o]-t,x=n-y.rect[o]-y.rect[s]}function T(L,z,P){if(L<0){var N=Math.min(z,-L);if(N>0){C(N*P,0,a);var B=N+L;B<0&&E(-B*P,1)}else E(-L*P,1)}}function C(L,z,P){L!==0&&(c=!0);for(var N=z;N<P;N++){var B=i[N],G=B.rect;G[o]+=L,B.label[o]+=L}}function E(L,z){for(var P=[],N=0,B=1;B<a;B++){var G=i[B-1].rect,U=Math.max(i[B].rect[o]-G[o]-G[s],0);P.push(U),N+=U}if(N){var X=Math.min(Math.abs(L)/N,z);if(L>0)for(var B=0;B<a-1;B++){var q=P[B]*X;C(q,0,B+1)}else for(var B=a-1;B>0;B--){var q=P[B-1]*X;C(-q,B,a)}}}function D(L){var z=L<0?-1:1;L=Math.abs(L);for(var P=Math.ceil(L/(a-1)),N=0;N<a-1;N++)if(z>0?C(P,0,N+1):C(-P,a-N-1,a),L-=P,L<=0)return}return c}function D_e(i){for(var e=0;e<i.length;e++){var t=i[e],n=t.defaultAttr,r=t.labelLine;t.label.attr("ignore",n.ignore),r&&r.attr("ignore",n.labelGuideIgnore)}}function OK(i){var e=[];i.sort(function(u,c){return(c.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||c.priority-u.priority});function t(u){if(!u.ignore){var c=u.ensureState("emphasis");c.ignore==null&&(c.ignore=!1)}u.ignore=!0}for(var n=0;n<i.length;n++){var r=df(i[n]);if(!r.label.ignore){for(var a=r.label,o=r.labelLine,s=!1,l=0;l<e.length;l++)if(lL(r,e[l],null,{touchThreshold:.05})){s=!0;break}s?(t(a),o&&t(o)):e.push(r)}}}function lL(i,e,t,n){return!i||!e||i.label&&i.label.ignore||e.label&&e.label.ignore||!i.rect.intersect(e.rect,t,n)?!1:i.axisAligned&&e.axisAligned?!0:LH(i).intersect(LH(e),t,n)}function R_e(i){if(i){for(var e=[],t=0;t<i.length;t++)e.push(i[t].slice());return e}}function L_e(i,e){var t=i.label,n=e&&e.getTextGuideLine();return{dataIndex:i.dataIndex,dataType:i.dataType,seriesIndex:i.seriesModel.seriesIndex,text:i.label.style.text,rect:i.hostRect,labelRect:i.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:R_e(n&&n.shape.points)}}var IH=["align","verticalAlign","width","height","fontSize"],Ho=new _h,g3=yn(),I_e=yn();function FA(i,e,t){for(var n=0;n<t.length;n++){var r=t[n];e[r]!=null&&(i[r]=e[r])}}var VA=["x","y","rotation"],P_e=(function(){function i(){this._labelList=[],this._chartViewList=[]}return i.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},i.prototype._addLabel=function(e,t,n,r,a){var o=r.style,s=r.__hostTarget,l=s.textConfig||{},u=r.getComputedTransform(),c=r.getBoundingRect().plain();Ut.applyTransform(c,c,u),u?Ho.setLocalTransform(u):(Ho.x=Ho.y=Ho.rotation=Ho.originX=Ho.originY=0,Ho.scaleX=Ho.scaleY=1),Ho.rotation=Ks(Ho.rotation);var f=r.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var p=f.getComputedTransform();Ut.applyTransform(h,h,p)}var g=h&&f.getTextGuideLine();this._labelList.push({label:r,labelLine:g,seriesModel:n,dataIndex:e,dataType:t,layoutOptionOrCb:a,layoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:g&&g.ignore,x:Ho.x,y:Ho.y,scaleX:Ho.scaleX,scaleY:Ho.scaleY,rotation:Ho.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},i.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,r=n.get("labelLayout");(Ct(r)||An(r).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=Ht(a);o&&!o.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,n,o,r)})},i.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function r(T,C){return function(){DH(T,C)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;Ct(o.layoutOptionOrCb)?c=o.layoutOptionOrCb(L_e(o,l)):c=o.layoutOptionOrCb,c=c||{},o.layoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(s.x=it(c.x,t),s.setStyle("x",0),h=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=it(c.y,n),s.setStyle("y",0),h=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var p=l.getTextGuideLine();p&&(p.setShape({points:c.labelLinePoints}),h=!1)}var g=g3(s);g.needsUpdateLabelLine=h,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var y=0;y<IH.length;y++){var _=IH[y];s.setStyle(_,c[_]!=null?c[_]:u.style[_])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var x=o.seriesModel;if(o.dataIndex!=null){var M=o.seriesModel.getData(o.dataType);x=M.getItemModel(o.dataIndex)}s.on("drag",r(l,x.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},i.prototype.layout=function(e){var t=e.getWidth(),n=e.getHeight(),r=[];H(this._labelList,function(l){l.defaultAttr.ignore||r.push(_z({},l))});var a=Kn(r,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=Kn(r,function(l){return l.layoutOption.moveOverlap==="shiftY"});xz(a,0,0,t),xz(o,1,0,n);var s=Kn(r,function(l){return l.layoutOption.hideOverlap});D_e(s),OK(s)},i.prototype.processLabelsOverall=function(){var e=this;H(this._chartViewList,function(t){var n=t.__model,r=t.ignoreLabelLineUpdate,a=n.isAnimationEnabled();t.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!r,l=o.getTextContent();!s&&l&&(s=g3(l).needsUpdateLabelLine),s&&e._updateLabelLine(o,n),a&&e._animateLabels(o,n)})})},i.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),r=Ht(e),a=r.dataIndex;if(n&&a!=null){var o=t.getData(r.dataType),s=o.getItemModel(a),l={},u=o.getItemVisual(a,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");FU(e,VU(s),l),DH(e,f)}},i.prototype._animateLabels=function(e,t){var n=e.getTextContent(),r=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!Y0(e))){var a=g3(n),o=a.oldLayout,s=Ht(e),l=s.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=t.getData(s.dataType);if(o){n.attr(o);var h=e.prevStates;h&&(en(h,"select")>=0&&n.attr(a.oldLayoutSelect),en(h,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),Gn(n,u,t,l)}else if(n.attr(u),!F_(n).valueAnimation){var f=bt(n.style.opacity,1);n.style.opacity=0,Li(n,{style:{opacity:f}},t,l)}if(a.oldLayout=u,n.states.select){var p=a.oldLayoutSelect={};FA(p,u,VA),FA(p,n.states.select,VA)}if(n.states.emphasis){var g=a.oldLayoutEmphasis={};FA(g,u,VA),FA(g,n.states.emphasis,VA)}mZ(n,l,c,t,t)}if(r&&!r.ignore&&!r.invisible){var a=I_e(r),o=a.oldLayout,y={points:r.shape.points};o?(r.attr({shape:o}),Gn(r,{shape:y},t)):(r.setShape(y),r.style.strokePercent=0,Li(r,{style:{strokePercent:1}},t)),a.oldLayout=y}},i})(),m3=yn();function N_e(i){i.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){var r=m3(t).labelManager;r||(r=m3(t).labelManager=new P_e),r.clearLabels()}),i.registerUpdateLifecycle("series:layoutlabels",function(e,t,n){var r=m3(t).labelManager;n.updatedSeries.forEach(function(a){r.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}var y3=Math.sin,_3=Math.cos,zK=Math.PI,og=Math.PI*2,O_e=180/zK,BK=(function(){function i(){}return i.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},i.prototype.moveTo=function(e,t){this._add("M",e,t)},i.prototype.lineTo=function(e,t){this._add("L",e,t)},i.prototype.bezierCurveTo=function(e,t,n,r,a,o){this._add("C",e,t,n,r,a,o)},i.prototype.quadraticCurveTo=function(e,t,n,r){this._add("Q",e,t,n,r)},i.prototype.arc=function(e,t,n,r,a,o){this.ellipse(e,t,n,n,0,r,a,o)},i.prototype.ellipse=function(e,t,n,r,a,o,s,l){var u=s-o,c=!l,f=Math.abs(u),h=ap(f-og)||(c?u>=og:-u>=og),p=u>0?u%og:u%og+og,g=!1;h?g=!0:ap(f)?g=!1:g=p>=zK==!!c;var y=e+n*_3(o),_=t+r*y3(o);this._start&&this._add("M",y,_);var x=Math.round(a*O_e);if(h){var M=1/this._p,T=(c?1:-1)*(og-M);this._add("A",n,r,x,1,+c,e+n*_3(o+T),t+r*y3(o+T)),M>.01&&this._add("A",n,r,x,0,+c,y,_)}else{var C=e+n*_3(s),E=t+r*y3(s);this._add("A",n,r,x,+g,+c,C,E)}},i.prototype.rect=function(e,t,n,r){this._add("M",e,t),this._add("l",n,0),this._add("l",0,r),this._add("l",-n,0),this._add("Z")},i.prototype.closePath=function(){this._d.length>0&&this._add("Z")},i.prototype._add=function(e,t,n,r,a,o,s,l,u){for(var c=[],f=this._p,h=1;h<arguments.length;h++){var p=arguments[h];if(isNaN(p)){this._invalid=!0;return}c.push(Math.round(p*f)/f)}this._d.push(e+c.join(" ")),this._start=e==="Z"},i.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},i.prototype.getStr=function(){return this._str},i})(),GU="none",z_e=Math.round;function B_e(i){var e=i.fill;return e!=null&&e!==GU}function k_e(i){var e=i.stroke;return e!=null&&e!==GU}var Sz=["lineCap","miterLimit","lineJoin"],U_e=Ge(Sz,function(i){return"stroke-"+i.toLowerCase()});function F_e(i,e,t,n){var r=e.opacity==null?1:e.opacity;if(t instanceof Ta){i("opacity",r);return}if(B_e(e)){var a=b1(e.fill);i("fill",a.color);var o=e.fillOpacity!=null?e.fillOpacity*a.opacity*r:a.opacity*r;o<1&&i("fill-opacity",o)}else i("fill",GU);if(k_e(e)){var s=b1(e.stroke);i("stroke",s.color);var l=e.strokeNoScale?t.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*s.opacity*r:s.opacity*r,f=e.strokeFirst;if(u!==1&&i("stroke-width",u),f&&i("paint-order",f?"stroke":"fill"),c<1&&i("stroke-opacity",c),e.lineDash){var h=MU(t),p=h[0],g=h[1];p&&(g=z_e(g||0),i("stroke-dasharray",p.join(",")),(g||n)&&i("stroke-dashoffset",g))}for(var y=0;y<Sz.length;y++){var _=Sz[y];if(e[_]!==QE[_]){var x=e[_]||QE[_];x&&i(U_e[y],x)}}}}var kK="http://www.w3.org/2000/svg",UK="http://www.w3.org/1999/xlink",V_e="http://www.w3.org/2000/xmlns/",G_e="http://www.w3.org/XML/1998/namespace",PH="ecmeta_";function FK(i){return document.createElementNS(kK,i)}function ma(i,e,t,n,r){return{tag:i,attrs:t||{},children:n,text:r,key:e}}function H_e(i,e){var t=[];if(e)for(var n in e){var r=e[n],a=n;r!==!1&&(r!==!0&&r!=null&&(a+='="'+r+'"'),t.push(a))}return"<"+i+" "+t.join(" ")+">"}function W_e(i){return"</"+i+">"}function HU(i,e){e=e||{};var t=e.newline?`
`:"";function n(r){var a=r.children,o=r.tag,s=r.attrs,l=r.text;return H_e(o,s)+(o!=="style"?Mo(l):l||"")+(a?""+t+Ge(a,function(u){return n(u)}).join(t)+t:"")+W_e(o)}return n(i)}function X_e(i,e,t){t=t||{};var n=t.newline?`
`:"",r=" {"+n,a=n+"}",o=Ge(An(i),function(l){return l+r+Ge(An(i[l]),function(u){return u+":"+i[l][u]+";"}).join(n)+a}).join(n),s=Ge(An(e),function(l){return"@keyframes "+l+r+Ge(An(e[l]),function(u){return u+r+Ge(An(e[l][u]),function(c){var f=e[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(n)+a}).join(n)+a}).join(n);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(n)}function bz(i){return{zrId:i,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function NH(i,e,t,n){return ma("svg","root",{width:i,height:e,xmlns:kK,"xmlns:xlink":UK,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+i+" "+e:!1},t)}var Y_e=0;function VK(){return Y_e++}var OH={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},hg="transform-origin";function q_e(i,e,t){var n=Ce({},i.shape);Ce(n,e),i.buildPath(t,n);var r=new BK;return r.reset(sq(i)),t.rebuildPath(r,1),r.generateStr(),r.getStr()}function Z_e(i,e){var t=e.originX,n=e.originY;(t||n)&&(i[hg]=t+"px "+n+"px")}var j_e={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function GK(i,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=i,t}function K_e(i,e,t){var n=i.shape.paths,r={},a,o;if(H(n,function(l){var u=bz(t.zrId);u.animation=!0,uL(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,h=An(c),p=h.length;if(p){o=h[p-1];var g=c[o];for(var y in g){var _=g[y];r[y]=r[y]||{d:""},r[y].d+=_.d||""}for(var x in f){var M=f[x].animation;M.indexOf(o)>=0&&(a=M)}}}),!!a){e.d=!1;var s=GK(r,t);return a.replace(o,s)}}function zH(i){return rt(i)?OH[i]?"cubic-bezier("+OH[i]+")":wk(i)?i:"":""}function uL(i,e,t,n){var r=i.animators,a=r.length,o=[];if(i instanceof vM){var s=K_e(i,e,t);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=r[u],f=[c.getMaxTime()/1e3+"s"],h=zH(c.getClip().easing),p=c.getDelay();h?f.push(h):f.push("linear"),p&&f.push(p/1e3+"s"),c.getLoop()&&f.push("infinite");var g=f.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(c)}function y(M){var T=M[1],C=T.length,E={},D={},L={},z="animation-timing-function";function P(Ee,Te,He){for(var We=Ee.getTracks(),Qe=Ee.getMaxTime(),yt=0;yt<We.length;yt++){var be=We[yt];if(be.needsAnimate()){var Ue=be.keyframes,Ie=be.propName;if(He&&(Ie=He(Ie)),Ie)for(var $e=0;$e<Ue.length;$e++){var ae=Ue[$e],Mt=Math.round(ae.time/Qe*100)+"%",vt=zH(ae.easing),Vt=ae.rawValue;(rt(Vt)||Pn(Vt))&&(Te[Mt]=Te[Mt]||{},Te[Mt][Ie]=ae.rawValue,vt&&(Te[Mt][z]=vt))}}}}for(var N=0;N<C;N++){var B=T[N],G=B.targetName;G?G==="shape"&&P(B,D):!n&&P(B,E)}for(var U in E){var X={};jE(X,i),Ce(X,E[U]);var q=lq(X),V=E[U][z];L[U]=q?{transform:q}:{},Z_e(L[U],X),V&&(L[U][z]=V)}var j,K=!0;for(var U in D){L[U]=L[U]||{};var te=!j,V=D[U][z];te&&(j=new ff);var ie=j.len();j.reset(),L[U].d=q_e(i,D[U],j);var Y=j.len();if(!te&&ie!==Y){K=!1;break}V&&(L[U][z]=V)}if(!K)for(var U in L)delete L[U].d;if(!n)for(var N=0;N<C;N++){var B=T[N],G=B.targetName;G==="style"&&P(B,L,function(We){return j_e[We]})}for(var ee=An(L),oe=!0,de,N=1;N<ee.length;N++){var Pe=ee[N-1],he=ee[N];if(L[Pe][hg]!==L[he][hg]){oe=!1;break}de=L[Pe][hg]}if(oe&&de){for(var U in L)L[U][hg]&&delete L[U][hg];e[hg]=de}if(Kn(ee,function(Ee){return An(L[Ee]).length>0}).length){var Se=GK(L,t);return Se+" "+M[0]+" both"}}for(var _ in l){var s=y(l[_]);s&&o.push(s)}if(o.length){var x=t.zrId+"-cls-"+VK();t.cssNodes["."+x]={animation:o.join(",")},e.class=x}}function $_e(i,e,t){if(!i.ignore)if(i.isSilent()){var n={"pointer-events":"none"};BH(n,e,t)}else{var r=i.states.emphasis&&i.states.emphasis.style?i.states.emphasis.style:{},a=r.fill;if(!a){var o=i.style&&i.style.fill,s=i.states.select&&i.states.select.style&&i.states.select.style.fill,l=i.currentStates.indexOf("select")>=0&&s||o;l&&(a=YE(l))}var u=r.lineWidth;if(u){var c=!r.strokeNoScale&&i.transform?i.transform[0]:1;u=u/c}var n={cursor:"pointer"};a&&(n.fill=a),r.stroke&&(n.stroke=r.stroke),u&&(n["stroke-width"]=u),BH(n,e,t)}}function BH(i,e,t,n){var r=JSON.stringify(i),a=t.cssStyleCache[r];a||(a=t.zrId+"-cls-"+VK(),t.cssStyleCache[r]=a,t.cssNodes["."+a+":hover"]=i),e.class=e.class?e.class+" "+a:a}var z1=Math.round;function HK(i){return i&&rt(i.src)}function WK(i){return i&&Ct(i.toDataURL)}function WU(i,e,t,n){F_e(function(r,a){var o=r==="fill"||r==="stroke";o&&oq(a)?YK(e,i,r,n):o&&Ck(a)?qK(t,i,r,n):i[r]=a,o&&n.ssr&&a==="none"&&(i["pointer-events"]="visible")},e,t,!1),rxe(t,i,n)}function XU(i,e){var t=vq(e);t&&(t.each(function(n,r){n!=null&&(i[(PH+r).toLowerCase()]=n+"")}),e.isSilent()&&(i[PH+"silent"]="true"))}function kH(i){return ap(i[0]-1)&&ap(i[1])&&ap(i[2])&&ap(i[3]-1)}function Q_e(i){return ap(i[4])&&ap(i[5])}function YU(i,e,t){if(e&&!(Q_e(e)&&kH(e))){var n=1e4;i.transform=kH(e)?"translate("+z1(e[4]*n)/n+" "+z1(e[5]*n)/n+")":Phe(e)}}function UH(i,e,t){for(var n=i.points,r=[],a=0;a<n.length;a++)r.push(z1(n[a][0]*t)/t),r.push(z1(n[a][1]*t)/t);e.points=r.join(" ")}function FH(i){return!i.smooth}function J_e(i){var e=Ge(i,function(t){return typeof t=="string"?[t,t]:t});return function(t,n,r){for(var a=0;a<e.length;a++){var o=e[a],s=t[o[0]];s!=null&&(n[o[1]]=z1(s*r)/r)}}}var exe={circle:[J_e(["cx","cy","r"])],polyline:[UH,FH],polygon:[UH,FH]};function txe(i){for(var e=i.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function XK(i,e){var t=i.style,n=i.shape,r=exe[i.type],a={},o=e.animation,s="path",l=i.style.strokePercent,u=e.compress&&sq(i)||4;if(r&&!e.willUpdate&&!(r[1]&&!r[1](n))&&!(o&&txe(i))&&!(l<1)){s=i.type;var c=Math.pow(10,u);r[0](n,a,c)}else{var f=!i.path||i.shapeChanged();i.path||i.createPathProxy();var h=i.path;f&&(h.beginPath(),i.buildPath(h,i.shape),i.pathUpdated());var p=h.getVersion(),g=i,y=g.__svgPathBuilder;(g.__svgPathVersion!==p||!y||l!==g.__svgPathStrokePercent)&&(y||(y=g.__svgPathBuilder=new BK),y.reset(u),h.rebuildPath(y,l),y.generateStr(),g.__svgPathVersion=p,g.__svgPathStrokePercent=l),a.d=y.getStr()}return YU(a,i.transform),WU(a,t,i,e),XU(a,i),e.animation&&uL(i,a,e),e.emphasis&&$_e(i,a,e),ma(s,i.id+"",a)}function nxe(i,e){var t=i.style,n=t.image;if(n&&!rt(n)&&(HK(n)?n=n.src:WK(n)&&(n=n.toDataURL())),!!n){var r=t.x||0,a=t.y||0,o=t.width,s=t.height,l={href:n,width:o,height:s};return r&&(l.x=r),a&&(l.y=a),YU(l,i.transform),WU(l,t,i,e),XU(l,i),e.animation&&uL(i,l,e),ma("image",i.id+"",l)}}function ixe(i,e){var t=i.style,n=t.text;if(n!=null&&(n+=""),!(!n||isNaN(t.x)||isNaN(t.y))){var r=t.font||Dh,a=t.x||0,o=Ohe(t.y||0,fM(r),t.textBaseline),s=Nhe[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(Vq(t)){var u="",c=t.fontStyle,f=Fq(t.fontSize);if(!parseFloat(f))return;var h=t.fontFamily||IY,p=t.fontWeight;u+="font-size:"+f+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),p&&p!=="normal"&&(u+="font-weight:"+p+";"),l.style=u}else l.style="font: "+r;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),o&&(l.y=o),YU(l,i.transform),WU(l,t,i,e),XU(l,i),e.animation&&uL(i,l,e),ma("text",i.id+"",l,void 0,n)}}function VH(i,e){if(i instanceof bn)return XK(i,e);if(i instanceof Ta)return nxe(i,e);if(i instanceof d_)return ixe(i,e)}function rxe(i,e,t){var n=i.style;if(zhe(n)){var r=Bhe(i),a=t.shadowCache,o=a[r];if(!o){var s=i.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=n.shadowOffsetX||0,f=n.shadowOffsetY||0,h=n.shadowBlur,p=b1(n.shadowColor),g=p.opacity,y=p.color,_=h/2/l,x=h/2/u,M=_+" "+x;o=t.zrId+"-s"+t.shadowIdx++,t.defs[o]=ma("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[ma("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:M,"flood-color":y,"flood-opacity":g})]),a[r]=o}e.filter=FR(o)}}function YK(i,e,t,n){var r=i[t],a,o={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if(rq(r))a="linearGradient",o.x1=r.x,o.y1=r.y,o.x2=r.x2,o.y2=r.y2;else if(aq(r))a="radialGradient",o.cx=bt(r.x,.5),o.cy=bt(r.y,.5),o.r=bt(r.r,.5);else return;for(var s=r.colorStops,l=[],u=0,c=s.length;u<c;++u){var f=_O(s[u].offset)*100+"%",h=s[u].color,p=b1(h),g=p.color,y=p.opacity,_={offset:f};_["stop-color"]=g,y<1&&(_["stop-opacity"]=y),l.push(ma("stop",u+"",_))}var x=ma(a,"",o,l),M=HU(x),T=n.gradientCache,C=T[M];C||(C=n.zrId+"-g"+n.gradientIdx++,T[M]=C,o.id=C,n.defs[C]=ma(a,C,o,l)),e[t]=FR(C)}function qK(i,e,t,n){var r=i.style[t],a=i.getBoundingRect(),o={},s=r.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",f;if(iq(r)){var h=r.imageWidth,p=r.imageHeight,g=void 0,y=r.image;if(rt(y)?g=y:HK(y)?g=y.src:WK(y)&&(g=y.toDataURL()),typeof Image>"u"){var _="Image width/height must been given explictly in svg-ssr renderer.";no(h,_),no(p,_)}else if(h==null||p==null){var x=function(N,B){if(N){var G=N.elm,U=h||B.width,X=p||B.height;N.tag==="pattern"&&(u?(X=1,U/=a.width):c&&(U=1,X/=a.height)),N.attrs.width=U,N.attrs.height=X,G&&(G.setAttribute("width",U),G.setAttribute("height",X))}},M=zk(g,null,i,function(N){l||x(D,N),x(f,N)});M&&M.width&&M.height&&(h=h||M.width,p=p||M.height)}f=ma("image","img",{href:g,width:h,height:p}),o.width=h,o.height=p}else r.svgElement&&(f=Lt(r.svgElement),o.width=r.svgWidth,o.height=r.svgHeight);if(f){var T,C;l?T=C=1:u?(C=1,T=o.width/a.width):c?(T=1,C=o.height/a.height):o.patternUnits="userSpaceOnUse",T!=null&&!isNaN(T)&&(o.width=T),C!=null&&!isNaN(C)&&(o.height=C);var E=lq(r);E&&(o.patternTransform=E);var D=ma("pattern","",o,[f]),L=HU(D),z=n.patternCache,P=z[L];P||(P=n.zrId+"-p"+n.patternIdx++,z[L]=P,o.id=P,D=n.defs[P]=ma("pattern",P,o,[f])),e[t]=FR(P)}}function axe(i,e,t){var n=t.clipPathCache,r=t.defs,a=n[i.id];if(!a){a=t.zrId+"-c"+t.clipPathIdx++;var o={id:a};n[i.id]=a,r[a]=ma("clipPath",a,o,[XK(i,t)])}e["clip-path"]=FR(a)}function GH(i){return document.createTextNode(i)}function xg(i,e,t){i.insertBefore(e,t)}function HH(i,e){i.removeChild(e)}function WH(i,e){i.appendChild(e)}function ZK(i){return i.parentNode}function jK(i){return i.nextSibling}function x3(i,e){i.textContent=e}var XH=58,oxe=120,sxe=ma("","");function Mz(i){return i===void 0}function Hc(i){return i!==void 0}function lxe(i,e,t){for(var n={},r=e;r<=t;++r){var a=i[r].key;a!==void 0&&(n[a]=r)}return n}function Eb(i,e){var t=i.key===e.key,n=i.tag===e.tag;return n&&t}function B1(i){var e,t=i.children,n=i.tag;if(Hc(n)){var r=i.elm=FK(n);if(qU(sxe,i),ze(t))for(e=0;e<t.length;++e){var a=t[e];a!=null&&WH(r,B1(a))}else Hc(i.text)&&!zt(i.text)&&WH(r,GH(i.text))}else i.elm=GH(i.text);return i.elm}function KK(i,e,t,n,r){for(;n<=r;++n){var a=t[n];a!=null&&xg(i,B1(a),e)}}function MD(i,e,t,n){for(;t<=n;++t){var r=e[t];if(r!=null)if(Hc(r.tag)){var a=ZK(r.elm);HH(a,r.elm)}else HH(i,r.elm)}}function qU(i,e){var t,n=e.elm,r=i&&i.attrs||{},a=e.attrs||{};if(r!==a){for(t in a){var o=a[t],s=r[t];s!==o&&(o===!0?n.setAttribute(t,""):o===!1?n.removeAttribute(t):t==="style"?n.style.cssText=o:t.charCodeAt(0)!==oxe?n.setAttribute(t,o):t==="xmlns:xlink"||t==="xmlns"?n.setAttributeNS(V_e,t,o):t.charCodeAt(3)===XH?n.setAttributeNS(G_e,t,o):t.charCodeAt(5)===XH?n.setAttributeNS(UK,t,o):n.setAttribute(t,o))}for(t in r)t in a||n.removeAttribute(t)}}function uxe(i,e,t){for(var n=0,r=0,a=e.length-1,o=e[0],s=e[a],l=t.length-1,u=t[0],c=t[l],f,h,p,g;n<=a&&r<=l;)o==null?o=e[++n]:s==null?s=e[--a]:u==null?u=t[++r]:c==null?c=t[--l]:Eb(o,u)?(C0(o,u),o=e[++n],u=t[++r]):Eb(s,c)?(C0(s,c),s=e[--a],c=t[--l]):Eb(o,c)?(C0(o,c),xg(i,o.elm,jK(s.elm)),o=e[++n],c=t[--l]):Eb(s,u)?(C0(s,u),xg(i,s.elm,o.elm),s=e[--a],u=t[++r]):(Mz(f)&&(f=lxe(e,n,a)),h=f[u.key],Mz(h)?xg(i,B1(u),o.elm):(p=e[h],p.tag!==u.tag?xg(i,B1(u),o.elm):(C0(p,u),e[h]=void 0,xg(i,p.elm,o.elm))),u=t[++r]);(n<=a||r<=l)&&(n>a?(g=t[l+1]==null?null:t[l+1].elm,KK(i,g,t,r,l)):MD(i,e,n,a))}function C0(i,e){var t=e.elm=i.elm,n=i.children,r=e.children;i!==e&&(qU(i,e),Mz(e.text)?Hc(n)&&Hc(r)?n!==r&&uxe(t,n,r):Hc(r)?(Hc(i.text)&&x3(t,""),KK(t,null,r,0,r.length-1)):Hc(n)?MD(t,n,0,n.length-1):Hc(i.text)&&x3(t,""):i.text!==e.text&&(Hc(n)&&MD(t,n,0,n.length-1),x3(t,e.text)))}function cxe(i,e){if(Eb(i,e))C0(i,e);else{var t=i.elm,n=ZK(t);B1(e),n!==null&&(xg(n,e.elm,jK(t)),MD(n,[i],0,0))}return e}var fxe=0,hxe=(function(){function i(e,t,n){if(this.type="svg",this.refreshHover=YH(),this.configLayer=YH(),this.storage=t,this._opts=n=Ce({},n),this.root=e,this._id="zr"+fxe++,this._oldVNode=NH(n.width,n.height),e&&!n.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=FK("svg");qU(null,this._oldVNode),r.appendChild(a),e.appendChild(r)}this.resize(n.width,n.height)}return i.prototype.getType=function(){return this.type},i.prototype.getViewportRoot=function(){return this._viewport},i.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},i.prototype.getSvgDom=function(){return this._svgDom},i.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",cxe(this._oldVNode,e),this._oldVNode=e}},i.prototype.renderOneToVNode=function(e){return VH(e,bz(this._id))},i.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._width,r=this._height,a=bz(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis,a.ssr=this._opts.ssr;var o=[],s=this._bgVNode=dxe(n,r,this._backgroundColor,a);s&&o.push(s);var l=e.compress?null:this._mainVNode=ma("g","main",{},[]);this._paintList(t,a,l?l.children:o),l&&o.push(l);var u=Ge(An(a.defs),function(h){return a.defs[h]});if(u.length&&o.push(ma("defs","defs",{},u)),e.animation){var c=X_e(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=ma("style","stl",{},[],c);o.push(f)}}return NH(n,r,o,e.useViewBox)},i.prototype.renderToString=function(e){return e=e||{},HU(this.renderToVNode({animation:bt(e.cssAnimation,!0),emphasis:bt(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:bt(e.useViewBox,!0)}),{newline:!0})},i.prototype.setBackgroundColor=function(e){this._backgroundColor=e},i.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},i.prototype._paintList=function(e,t,n){for(var r=e.length,a=[],o=0,s,l,u=0,c=0;c<r;c++){var f=e[c];if(!f.invisible){var h=f.__clipPaths,p=h&&h.length||0,g=l&&l.length||0,y=void 0;for(y=Math.max(p-1,g-1);y>=0&&!(h&&l&&h[y]===l[y]);y--);for(var _=g-1;_>y;_--)o--,s=a[o-1];for(var x=y+1;x<p;x++){var M={};axe(h[x],M,t);var T=ma("g","clip-g-"+u++,M,[]);(s?s.children:n).push(T),a[o++]=T,s=T}l=h;var C=VH(f,t);C&&(s?s.children:n).push(C)}}},i.prototype.resize=function(e,t){var n=this._opts,r=this.root,a=this._viewport;if(e!=null&&(n.width=e),t!=null&&(n.height=t),r&&a&&(a.style.display="none",e=B0(r,0,n),t=B0(r,1,n),a.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,a){var o=a.style;o.width=e+"px",o.height=t+"px"}if(Ck(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},i.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},i.prototype.toDataURL=function(e){var t=this.renderToString(),n="data:image/svg+xml;";return e?(t=Uhe(t),t&&n+"base64,"+t):n+"charset=UTF-8,"+encodeURIComponent(t)},i})();function YH(i){return function(){}}function dxe(i,e,t,n){var r;if(t&&t!=="none")if(r=ma("rect","bg",{width:i,height:e,x:"0",y:"0"}),oq(t))YK({fill:t},r.attrs,"fill",n);else if(Ck(t))qK({style:{fill:t},dirty:_r,getBoundingRect:function(){return{width:i,height:e}}},r.attrs,"fill",n);else{var a=b1(t),o=a.color,s=a.opacity;r.attrs.fill=o,s<1&&(r.attrs["fill-opacity"]=s)}return r}function pxe(i){i.registerPainter("svg",hxe)}function qH(i,e,t){var n=Rs.createCanvas(),r=e.getWidth(),a=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=r+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",i)),n.width=r*t,n.height=a*t,n}var S3=(function(i){fe(e,i);function e(t,n,r){var a=i.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;r=r||ZE,typeof t=="string"?o=qH(t,n,r):zt(t)&&(o=t,t=o.id),a.id=t,a.dom=o;var s=o.style;return s&&(bk(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=r,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=qH("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,n,r,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new Ut(0,0,0,0);function c(M){if(!(!M.isFinite()||M.isZero()))if(o.length===0){var T=new Ut(0,0,0,0);T.copy(M),o.push(T)}else{for(var C=!1,E=1/0,D=0,L=0;L<o.length;++L){var z=o[L];if(z.intersect(M)){var P=new Ut(0,0,0,0);P.copy(z),P.union(M),o[L]=P,C=!0;break}else if(l){u.copy(M),u.union(z);var N=M.width*M.height,B=z.width*z.height,G=u.width*u.height,U=G-N-B;U<E&&(E=U,D=L)}}if(l&&(o[D].union(M),C=!0),!C){var T=new Ut(0,0,0,0);T.copy(M),o.push(T)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=t[f];if(h){var p=h.shouldBePainted(r,a,!0,!0),g=h.__isRendered&&(h.__dirty&Ws||!p)?h.getPrevPaintRect():null;g&&c(g);var y=p&&(h.__dirty&Ws||!h.__isRendered)?h.getPaintRect():null;y&&c(y)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=n[f],p=h&&h.shouldBePainted(r,a,!0,!0);if(h&&(!p||!h.__zr)&&h.__isRendered){var g=h.getPrevPaintRect();g&&c(g)}}var _;do{_=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var x=f+1;x<o.length;)o[f].intersect(o[x])?(_=!0,o[f].union(o[x]),o.splice(x,1)):x++;f++}}while(_);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,n){var r=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=t+"px",o.height=n+"px"),a.width=t*r,a.height=n*r,s&&(s.width=t*r,s.height=n*r,r!==1&&this.ctxBack.scale(r,r))},e.prototype.clear=function(t,n,r){var a=this.dom,o=this.ctx,s=a.width,l=a.height;n=n||this.clearColor;var u=this.motionBlur&&!t,c=this.lastFrameAlpha,f=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/f,l/f));var p=this.domBack;function g(y,_,x,M){if(o.clearRect(y,_,x,M),n&&n!=="transparent"){var T=void 0;if(oM(n)){var C=n.global||n.__width===x&&n.__height===M;T=C&&n.__canvasGradient||az(o,n,{x:0,y:0,width:x,height:M}),n.__canvasGradient=T,n.__width=x,n.__height=M}else zY(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,T=oz(o,n,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));o.save(),o.fillStyle=T||n,o.fillRect(y,_,x,M),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(p,y,_,x,M),o.restore())}!r||u?g(0,0,s,l):r.length&&H(r,function(y){g(y.x*f,y.y*f,y.width*f,y.height*f)})},e})(eu),ZH=1e5,sg=314159,GA=.01,vxe=.001;function gxe(i){return i?i.__builtin__?!0:!(typeof i.resize!="function"||typeof i.refresh!="function"):!1}function mxe(i,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+i+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var yxe=(function(){function i(e,t,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=Ce({},n||{}),this.dpr=n.devicePixelRatio||ZE,this._singleCanvas=a,this.root=e;var o=e.style;o&&(bk(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=e,f=c.width,h=c.height;n.width!=null&&(f=n.width),n.height!=null&&(h=n.height),this.dpr=n.devicePixelRatio||1,c.width=f*this.dpr,c.height=h*this.dpr,this._width=f,this._height=h;var p=new S3(c,this,this.dpr);p.__builtin__=!0,p.initContext(),l[sg]=p,p.zlevel=sg,s.push(sg),this._domRoot=e}else{this._width=B0(e,0,n),this._height=B0(e,1,n);var u=this._domRoot=mxe(this._width,this._height);e.appendChild(u)}}return i.prototype.getType=function(){return"canvas"},i.prototype.isSingleCanvas=function(){return this._singleCanvas},i.prototype.getViewportRoot=function(){return this._domRoot},i.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},i.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var a=0;a<r.length;a++){var o=r[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=a===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},i.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},i.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),!!t){for(var r={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<t;o++){var s=e[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(ZH)),a||(a=n.ctx,a.save()),Ng(a,s,r,o===t-1))}a&&a.restore()}},i.prototype.getHoverLayer=function(){return this.getLayer(ZH)},i.prototype.paintOne=function(e,t){TU(e,t)},i.prototype._paintList=function(e,t,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;GE(function(){l._paintList(e,t,n,r)})}}},i.prototype._compositeManually=function(){var e=this.getLayer(sg).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,n)})},i.prototype._doPaintList=function(e,t,n){for(var r=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&a.push(u)}for(var c=!0,f=!1,h=function(y){var _=a[y],x=_.ctx,M=o&&_.createRepaintRects(e,t,p._width,p._height),T=n?_.__startIndex:_.__drawIndex,C=!n&&_.incremental&&Date.now,E=C&&Date.now(),D=_.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(_.__startIndex===_.__endIndex)_.clear(!1,D,M);else if(T===_.__startIndex){var L=e[T];(!L.incremental||!L.notClear||n)&&_.clear(!1,D,M)}T===-1&&(console.error("For some unknown reason. drawIndex is -1"),T=_.__startIndex);var z,P=function(U){var X={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(z=T;z<_.__endIndex;z++){var q=e[z];if(q.__inHover&&(f=!0),r._doPaintEl(q,_,o,U,X,z===_.__endIndex-1),C){var V=Date.now()-E;if(V>15)break}}X.prevElClipPaths&&x.restore()};if(M)if(M.length===0)z=_.__endIndex;else for(var N=p.dpr,B=0;B<M.length;++B){var G=M[B];x.save(),x.beginPath(),x.rect(G.x*N,G.y*N,G.width*N,G.height*N),x.clip(),P(G),x.restore()}else x.save(),P(),x.restore();_.__drawIndex=z,_.__drawIndex<_.__endIndex&&(c=!1)},p=this,g=0;g<a.length;g++)h(g);return Tn.wxa&&H(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),{finished:c,needsRefreshHover:f}},i.prototype._doPaintEl=function(e,t,n,r,a,o){var s=t.ctx;if(n){var l=e.getPaintRect();(!r||l&&l.intersect(r))&&(Ng(s,e,a,o),e.setPrevPaintRect(l))}else Ng(s,e,a,o)},i.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=sg);var n=this._layers[e];return n||(n=new S3("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?nn(n,this._layerConfig[e],!0):this._layerConfig[e-GA]&&nn(n,this._layerConfig[e-GA],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},i.prototype.insertLayer=function(e,t){var n=this._layers,r=this._zlevelList,a=r.length,o=this._domRoot,s=null,l=-1;if(!n[e]&&gxe(t)){if(a>0&&e>r[0]){for(l=0;l<a-1&&!(r[l]<e&&r[l+1]>e);l++);s=n[r[l]]}if(r.splice(l+1,0,e),n[e]=t,!t.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(t.dom,u.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}},i.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r];e.call(t,this._layers[a],a)}},i.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r],o=this._layers[a];o.__builtin__&&e.call(t,o,a)}},i.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r],o=this._layers[a];o.__builtin__||e.call(t,o,a)}},i.prototype.getLayers=function(){return this._layers},i.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function t(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var r=e[n];if(r.zlevel!==e[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,l;for(l=0;l<e.length;l++){var r=e[l],u=r.zlevel,c=void 0;s!==u&&(s=u,o=0),r.incremental?(c=this.getLayer(u+vxe,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?GA:0),this._needsManuallyCompositing),c.__builtin__||OR("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,t(l),a=c),r.__dirty&Ws&&!r.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},i.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},i.prototype._clearLayer=function(e){e.clear()},i.prototype.setBackgroundColor=function(e){this._backgroundColor=e,H(this._layers,function(t){t.setUnpainted()})},i.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?nn(n[e],t,!0):n[e]=t;for(var r=0;r<this._zlevelList.length;r++){var a=this._zlevelList[r];if(a===e||a===e+GA){var o=this._layers[a];nn(o,n[e],!0)}}}},i.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],n.splice(en(n,e),1))},i.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts,a=this.root;if(e!=null&&(r.width=e),t!=null&&(r.height=t),e=B0(a,0,r),t=B0(a,1,r),n.style.display="",this._width!==e||t!==this._height){n.style.width=e+"px",n.style.height=t+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(sg).resize(e,t)}return this},i.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},i.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},i.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[sg].dom;var t=new S3("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,a=t.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,r,a):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];Ng(n,c,o,l===u-1)}return t.dom},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i})();function _xe(i){i.registerPainter("canvas",yxe)}var xxe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return yf(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var n=new It,r=Or("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(r),r.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,l=t.itemHeight*.8,u=Or(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);n.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?o:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=ge.color.neutral00,u.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(vi);function x_(i,e){var t=i.mapDimensionsAll("defaultedLabel"),n=t.length;if(n===1){var r=g_(i,e,t[0]);return r!=null?r+"":null}else if(n){for(var a=[],o=0;o<t.length;o++)a.push(g_(i,e,t[o]));return a.join(" ")}}function $K(i,e){var t=i.mapDimensionsAll("defaultedLabel");if(!ze(e))return e+"";for(var n=[],r=0;r<t.length;r++){var a=i.getDimensionIndex(t[r]);a>=0&&n.push(e[a])}return n.join(" ")}var SM=(function(i){fe(e,i);function e(t,n,r,a){var o=i.call(this)||this;return o.updateData(t,n,r,a),o}return e.prototype._createSymbol=function(t,n,r,a,o,s){this.removeAll();var l=Or(t,-1,-1,2,2,null,s);l.attr({z2:bt(o,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=Sxe,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Lh(this.childAt(0))},e.prototype.downplay=function(){Ih(this.childAt(0))},e.prototype.setZ=function(t,n){var r=this.childAt(0);r.zlevel=t,r.z=n},e.prototype.setDraggable=function(t,n){var r=this.childAt(0);r.draggable=t,r.cursor=!n&&t?"move":r.cursor},e.prototype.updateData=function(t,n,r,a){this.silent=!1;var o=t.getItemVisual(n,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,n),u=e.getSymbolZ2(t,n),c=o!==this._symbolType,f=a&&a.disableAnimation;if(c){var h=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,t,n,l,u,h)}else{var p=this.childAt(0);p.silent=!1;var g={scaleX:l[0]/2,scaleY:l[1]/2};f?p.attr(g):Gn(p,g,s,n),$l(p)}if(this._updateCommon(t,n,l,r,a),c){var p=this.childAt(0);if(!f){var g={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:p.style.opacity}};p.scaleX=p.scaleY=0,p.style.opacity=0,Li(p,g,s,n)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,n,r,a,o){var s=this.childAt(0),l=t.hostModel,u,c,f,h,p,g,y,_,x;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,h=a.focus,p=a.blurScope,y=a.labelStatesModels,_=a.hoverScale,x=a.cursorStyle,g=a.emphasisDisabled),!a||t.hasItemOption){var M=a&&a.itemModel?a.itemModel:t.getItemModel(n),T=M.getModel("emphasis");u=T.getModel("itemStyle").getItemStyle(),f=M.getModel(["select","itemStyle"]).getItemStyle(),c=M.getModel(["blur","itemStyle"]).getItemStyle(),h=T.get("focus"),p=T.get("blurScope"),g=T.get("disabled"),y=ua(M),_=T.getShallow("scale"),x=M.getShallow("cursor")}var C=t.getItemVisual(n,"symbolRotate");s.attr("rotation",(C||0)*Math.PI/180||0);var E=_m(t.getItemVisual(n,"symbolOffset"),r);E&&(s.x=E[0],s.y=E[1]),x&&s.attr("cursor",x);var D=t.getItemVisual(n,"style"),L=D.fill;if(s instanceof Ta){var z=s.style;s.useStyle(Ce({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},D))}else s.__isEmptyBrush?s.useStyle(Ce({},D)):s.useStyle(D),s.style.decal=null,s.setColor(L,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var P=t.getItemVisual(n,"liftZ"),N=this._z2;P!=null?N==null&&(this._z2=s.z2,s.z2+=P):N!=null&&(s.z2=N,this._z2=null);var B=o&&o.useNameLabel;Ma(s,y,{labelFetcher:l,labelDataIndex:n,defaultText:G,inheritColor:L,defaultOpacity:D.opacity});function G(q){return B?t.getName(q):x_(t,q)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var U=s.ensureState("emphasis");U.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var X=_==null||_===!0?Math.max(1.1,3/this._sizeY):isFinite(_)&&_>0?+_:1;U.scaleX=this._sizeX*X,U.scaleY=this._sizeY*X,this.setSymbolScale(1),Hi(this,h,p,g)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,n,r){var a=this.childAt(0),o=Ht(this).dataIndex,s=r&&r.animation;if(this.silent=a.silent=!0,r&&r.fadeLabel){var l=a.getTextContent();l&&Mp(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Mp(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,n){return Y_(t.getItemVisual(n,"symbolSize"))},e.getSymbolZ2=function(t,n){return t.getItemVisual(n,"z2")},e})(It);function Sxe(i,e){this.parent.drift(i,e)}function b3(i,e,t,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&i.getItemVisual(t,"symbol")!=="none"}function jH(i){return i!=null&&!zt(i)&&(i={isIgnore:i}),i||{}}function KH(i){var e=i.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:ua(e),cursorStyle:e.get("cursor")}}var bM=(function(){function i(e){this.group=new It,this._SymbolCtor=e||SM}return i.prototype.updateData=function(e,t){this._progressiveEls=null,t=jH(t);var n=this.group,r=e.hostModel,a=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=KH(e),u={disableAnimation:s},c=t.getSymbolPoint||function(f){return e.getItemLayout(f)};a||n.removeAll(),e.diff(a).add(function(f){var h=c(f);if(b3(e,h,f,t)){var p=new o(e,f,l,u);p.setPosition(h),e.setItemGraphicEl(f,p),n.add(p)}}).update(function(f,h){var p=a.getItemGraphicEl(h),g=c(f);if(!b3(e,g,f,t)){n.remove(p);return}var y=e.getItemVisual(f,"symbol")||"circle",_=p&&p.getSymbolType&&p.getSymbolType();if(!p||_&&_!==y)n.remove(p),p=new o(e,f,l,u),p.setPosition(g);else{p.updateData(e,f,l,u);var x={x:g[0],y:g[1]};s?p.attr(x):Gn(p,x,r)}n.add(p),e.setItemGraphicEl(f,p)}).remove(function(f){var h=a.getItemGraphicEl(f);h&&h.fadeOut(function(){n.remove(h)},r)}).execute(),this._getSymbolPoint=c,this._data=e},i.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(n,r){var a=e._getSymbolPoint(r);n.setPosition(a),n.markRedraw()})},i.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=KH(e),this._data=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(e,t,n){this._progressiveEls=[],n=jH(n);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var o=t.getItemLayout(a);if(b3(t,o,a,n)){var s=new this._SymbolCtor(t,a,this._seriesScope);s.traverse(r),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},i.prototype.eachRendered=function(e){Pp(this._progressiveEls||this.group,e)},i.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},n.hostModel)}):t.removeAll()},i})();function QK(i,e,t){var n=i.getBaseAxis(),r=i.getOtherAxis(n),a=bxe(r,t),o=n.dim,s=r.dim,l=e.mapDimension(s),u=e.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=Ge(i.dimensions,function(g){return e.mapDimension(g)}),h=!1,p=e.getCalculationInfo("stackResultDimension");return Nh(e,f[0])&&(h=!0,f[0]=p),Nh(e,f[1])&&(h=!0,f[1]=p),{dataDimsForPoint:f,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function bxe(i,e){var t=0,n=i.scale.getExtent();return e==="start"?t=n[0]:e==="end"?t=n[1]:Pn(e)&&!isNaN(e)?t=e:n[0]>0?t=n[0]:n[1]<0&&(t=n[1]),t}function JK(i,e,t,n){var r=NaN;i.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=i.valueStart);var a=i.baseDataOffset,o=[];return o[a]=t.get(i.baseDim,n),o[1-a]=r,e.dataToPoint(o)}function Mxe(i,e){var t=[];return e.diff(i).add(function(n){t.push({cmd:"+",idx:n})}).update(function(n,r){t.push({cmd:"=",idx:r,idx1:n})}).remove(function(n){t.push({cmd:"-",idx:n})}).execute(),t}function Txe(i,e,t,n,r,a,o,s){for(var l=Mxe(i,e),u=[],c=[],f=[],h=[],p=[],g=[],y=[],_=QK(r,e,o),x=i.getLayout("points")||[],M=e.getLayout("points")||[],T=0;T<l.length;T++){var C=l[T],E=!0,D=void 0,L=void 0;switch(C.cmd){case"=":D=C.idx*2,L=C.idx1*2;var z=x[D],P=x[D+1],N=M[L],B=M[L+1];(isNaN(z)||isNaN(P))&&(z=N,P=B),u.push(z,P),c.push(N,B),f.push(t[D],t[D+1]),h.push(n[L],n[L+1]),y.push(e.getRawIndex(C.idx1));break;case"+":var G=C.idx,U=_.dataDimsForPoint,X=r.dataToPoint([e.get(U[0],G),e.get(U[1],G)]);L=G*2,u.push(X[0],X[1]),c.push(M[L],M[L+1]);var q=JK(_,r,e,G);f.push(q[0],q[1]),h.push(n[L],n[L+1]),y.push(e.getRawIndex(G));break;case"-":E=!1}E&&(p.push(C),g.push(g.length))}g.sort(function(Pe,he){return y[Pe]-y[he]});for(var V=u.length,j=Kc(V),K=Kc(V),te=Kc(V),ie=Kc(V),Y=[],T=0;T<g.length;T++){var ee=g[T],oe=T*2,de=ee*2;j[oe]=u[de],j[oe+1]=u[de+1],K[oe]=c[de],K[oe+1]=c[de+1],te[oe]=f[de],te[oe+1]=f[de+1],ie[oe]=h[de],ie[oe+1]=h[de+1],Y[T]=p[ee]}return{current:j,next:K,stackedOnCurrent:te,stackedOnNext:ie,status:Y}}var Hd=Math.min,Wd=Math.max;function Hg(i,e){return isNaN(i)||isNaN(e)}function Tz(i,e,t,n,r,a,o,s,l){for(var u,c,f,h,p,g,y=t,_=0;_<n;_++){var x=e[y*2],M=e[y*2+1];if(y>=r||y<0)break;if(Hg(x,M)){if(l){y+=a;continue}break}if(y===t)i[a>0?"moveTo":"lineTo"](x,M),f=x,h=M;else{var T=x-u,C=M-c;if(T*T+C*C<.5){y+=a;continue}if(o>0){for(var E=y+a,D=e[E*2],L=e[E*2+1];D===x&&L===M&&_<n;)_++,E+=a,y+=a,D=e[E*2],L=e[E*2+1],x=e[y*2],M=e[y*2+1],T=x-u,C=M-c;var z=_+1;if(l)for(;Hg(D,L)&&z<n;)z++,E+=a,D=e[E*2],L=e[E*2+1];var P=.5,N=0,B=0,G=void 0,U=void 0;if(z>=n||Hg(D,L))p=x,g=M;else{N=D-u,B=L-c;var X=x-u,q=D-x,V=M-c,j=L-M,K=void 0,te=void 0;if(s==="x"){K=Math.abs(X),te=Math.abs(q);var ie=N>0?1:-1;p=x-ie*K*o,g=M,G=x+ie*te*o,U=M}else if(s==="y"){K=Math.abs(V),te=Math.abs(j);var Y=B>0?1:-1;p=x,g=M-Y*K*o,G=x,U=M+Y*te*o}else K=Math.sqrt(X*X+V*V),te=Math.sqrt(q*q+j*j),P=te/(te+K),p=x-N*o*(1-P),g=M-B*o*(1-P),G=x+N*o*P,U=M+B*o*P,G=Hd(G,Wd(D,x)),U=Hd(U,Wd(L,M)),G=Wd(G,Hd(D,x)),U=Wd(U,Hd(L,M)),N=G-x,B=U-M,p=x-N*K/te,g=M-B*K/te,p=Hd(p,Wd(u,x)),g=Hd(g,Wd(c,M)),p=Wd(p,Hd(u,x)),g=Wd(g,Hd(c,M)),N=x-p,B=M-g,G=x+N*te/K,U=M+B*te/K}i.bezierCurveTo(f,h,p,g,x,M),f=G,h=U}else i.lineTo(x,M)}u=x,c=M,y+=a}return _}var e$=(function(){function i(){this.smooth=0,this.smoothConstraint=!0}return i})(),wxe=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:ge.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new e$},e.prototype.buildPath=function(t,n){var r=n.points,a=0,o=r.length/2;if(n.connectNulls){for(;o>0&&Hg(r[o*2-2],r[o*2-1]);o--);for(;a<o&&Hg(r[a*2],r[a*2+1]);a++);}for(;a<o;)a+=Tz(t,r,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,a=r.data,o=ff.CMD,s,l,u=n==="x",c=[],f=0;f<a.length;){var h=a[f++],p=void 0,g=void 0,y=void 0,_=void 0,x=void 0,M=void 0,T=void 0;switch(h){case o.M:s=a[f++],l=a[f++];break;case o.L:if(p=a[f++],g=a[f++],T=u?(t-s)/(p-s):(t-l)/(g-l),T<=1&&T>=0){var C=u?(g-l)*T+l:(p-s)*T+s;return u?[t,C]:[C,t]}s=p,l=g;break;case o.C:p=a[f++],g=a[f++],y=a[f++],_=a[f++],x=a[f++],M=a[f++];var E=u?WE(s,p,y,x,t,c):WE(l,g,_,M,t,c);if(E>0)for(var D=0;D<E;D++){var L=c[D];if(L<=1&&L>=0){var C=u?ga(l,g,_,M,L):ga(s,p,y,x,L);return u?[t,C]:[C,t]}}s=x,l=M;break}}},e})(bn),Axe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e})(e$),t$=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new Axe},e.prototype.buildPath=function(t,n){var r=n.points,a=n.stackedOnPoints,o=0,s=r.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&Hg(r[s*2-2],r[s*2-1]);s--);for(;o<s&&Hg(r[o*2],r[o*2+1]);o++);}for(;o<s;){var u=Tz(t,r,o,s,s,1,n.smooth,l,n.connectNulls);Tz(t,a,o+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),o+=u+1,t.closePath()}},e})(bn);function n$(i,e,t,n,r){var a=i.getArea(),o=a.x,s=a.y,l=a.width,u=a.height,c=t.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new dn({shape:{x:o,y:s,width:l,height:u}});if(e){var h=i.getBaseAxis(),p=h.isHorizontal(),g=h.inverse;p?(g&&(f.shape.x+=l),f.shape.width=0):(g||(f.shape.y+=u),f.shape.height=0);var y=Ct(r)?function(_){r(_,f)}:null;Li(f,{shape:{width:l,height:u,x:o,y:s}},t,null,n,y)}return f}function i$(i,e,t){var n=i.getArea(),r=Pr(n.r0,1),a=Pr(n.r,1),o=new io({shape:{cx:Pr(i.cx,1),cy:Pr(i.cy,1),r0:r,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var s=i.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=r,Li(o,{shape:{endAngle:n.endAngle,r:a}},t)}return o}function MM(i,e,t,n,r){if(i){if(i.type==="polar")return i$(i,e,t);if(i.type==="cartesian2d")return n$(i,e,t,n,r)}else return null;return null}function Tp(i,e){return i.type===e}function $H(i,e){if(i.length===e.length){for(var t=0;t<i.length;t++)if(i[t]!==e[t])return;return!0}}function QH(i){for(var e=1/0,t=1/0,n=-1/0,r=-1/0,a=0;a<i.length;){var o=i[a++],s=i[a++];isNaN(o)||(e=Math.min(o,e),n=Math.max(o,n)),isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r))}return[[e,t],[n,r]]}function JH(i,e){var t=QH(i),n=t[0],r=t[1],a=QH(e),o=a[0],s=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function e6(i){return Pn(i)?i:i?.5:0}function Cxe(i,e,t){if(!t.valueDim)return[];for(var n=e.count(),r=Kc(n*2),a=0;a<n;a++){var o=JK(t,i,e,a);r[a*2]=o[0],r[a*2+1]=o[1]}return r}function Xd(i,e,t,n,r){var a=t.getBaseAxis(),o=a.dim==="x"||a.dim==="radius"?0:1,s=[],l=0,u=[],c=[],f=[],h=[];if(r){for(l=0;l<i.length;l+=2){var p=e||i;!isNaN(p[l])&&!isNaN(p[l+1])&&h.push(i[l],i[l+1])}i=h}for(l=0;l<i.length-2;l+=2)switch(f[0]=i[l+2],f[1]=i[l+3],c[0]=i[l],c[1]=i[l+1],s.push(c[0],c[1]),n){case"end":u[o]=f[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var g=(c[o]+f[o])/2,y=[];u[o]=y[o]=g,u[1-o]=c[1-o],y[1-o]=f[1-o],s.push(u[0],u[1]),s.push(y[0],y[1]);break;default:u[o]=c[o],u[1-o]=f[1-o],s.push(u[0],u[1])}return s.push(i[l++],i[l++]),s}function Exe(i,e){var t=[],n=i.length,r,a;function o(c,f,h){var p=c.coord,g=(h-p)/(f.coord-p),y=Ak(g,[c.color,f.color]);return{coord:h,color:y}}for(var s=0;s<n;s++){var l=i[s],u=l.coord;if(u<0)r=l;else if(u>e){a?t.push(o(a,l,e)):r&&t.push(o(r,l,0),o(r,l,e));break}else r&&(t.push(o(r,l,0)),r=null),t.push(l),a=l}return t}function Dxe(i,e,t){var n=i.getVisual("visualMeta");if(!(!n||!n.length||!i.count())&&e.type==="cartesian2d"){for(var r,a,o=n.length-1;o>=0;o--){var s=i.getDimensionInfo(n[o].dimension);if(r=s&&s.coordDim,r==="x"||r==="y"){a=n[o];break}}if(a){var l=e.getAxis(r),u=Ge(a.stops,function(T){return{coord:l.toGlobalCoord(l.dataToCoord(T.value)),color:T.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var h=Exe(u,r==="x"?t.getWidth():t.getHeight()),p=h.length;if(!p&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var g=10,y=h[0].coord-g,_=h[p-1].coord+g,x=_-y;if(x<.001)return"transparent";H(h,function(T){T.offset=(T.coord-y)/x}),h.push({offset:p?h[p-1].offset:.5,color:f[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:f[0]||"transparent"});var M=new vm(0,0,0,0,h,!0);return M[r]=y,M[r+"2"]=_,M}}}function Rxe(i,e,t){var n=i.get("showAllSymbol"),r=n==="auto";if(!(n&&!r)){var a=t.getAxesByScale("ordinal")[0];if(a&&!(r&&Lxe(a,e))){var o=e.mapDimension(a.dim),s={};return H(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function Lxe(i,e){var t=i.getExtent(),n=Math.abs(t[1]-t[0])/i.scale.count();isNaN(n)&&(n=0);for(var r=e.count(),a=Math.max(1,Math.round(r/5)),o=0;o<r;o+=a)if(SM.getSymbolSize(e,o)[i.isHorizontal()?1:0]*1.5>n)return!1;return!0}function Ixe(i,e){return isNaN(i)||isNaN(e)}function Pxe(i){for(var e=i.length/2;e>0&&Ixe(i[e*2-2],i[e*2-1]);e--);return e-1}function t6(i,e){return[i[e*2],i[e*2+1]]}function Nxe(i,e,t){for(var n=i.length/2,r=t==="x"?0:1,a,o,s=0,l=-1,u=0;u<n;u++)if(o=i[u*2+r],!(isNaN(o)||isNaN(i[u*2+1-r]))){if(u===0){a=o;continue}if(a<=e&&o>=e||a>=e&&o<=e){l=u;break}s=u,a=o}return{range:[s,l],t:(e-a)/(o-a)}}function r$(i){if(i.get(["endLabel","show"]))return!0;for(var e=0;e<ts.length;e++)if(i.get([ts[e],"endLabel","show"]))return!0;return!1}function M3(i,e,t,n){if(Tp(e,"cartesian2d")){var r=n.getModel("endLabel"),a=r.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},l=r$(n)?function(p,g){i._endLabelOnDuring(p,g,o,s,a,r,e)}:null,u=e.getBaseAxis().isHorizontal(),c=n$(e,t,n,function(){var p=i._endLabel;p&&t&&s.originalX!=null&&p.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var f=c.shape,h=Math.max(f.width,f.height);u?(f.y-=h,f.height+=h*2):(f.x-=h,f.width+=h*2)}return l&&l(1,c),c}else return i$(e,t,n)}function Oxe(i,e){var t=e.getBaseAxis(),n=t.isHorizontal(),r=t.inverse,a=n?r?"right":"left":"center",o=n?"middle":r?"top":"bottom";return{normal:{align:i.get("align")||a,verticalAlign:i.get("verticalAlign")||o}}}var zxe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=new It,n=new bM;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=t,this._changePolyState=at(this._changePolyState,this)},e.prototype.render=function(t,n,r){var a=t.coordinateSystem,o=this.group,s=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),c=s.getLayout("points")||[],f=a.type==="polar",h=this._coordSys,p=this._symbolDraw,g=this._polyline,y=this._polygon,_=this._lineGroup,x=!n.ssr&&t.get("animation"),M=!u.isEmpty(),T=u.get("origin"),C=QK(a,s,T),E=M&&Cxe(a,s,C),D=t.get("showSymbol"),L=t.get("connectNulls"),z=D&&!f&&Rxe(t,s,a),P=this._data;P&&P.eachItemGraphicEl(function(Pe,he){Pe.__temp&&(o.remove(Pe),P.setItemGraphicEl(he,null))}),D||p.remove(),o.add(_);var N=f?!1:t.get("step"),B;a&&a.getArea&&t.get("clip",!0)&&(B=a.getArea(),B.width!=null?(B.x-=.1,B.y-=.1,B.width+=.2,B.height+=.2):B.r0&&(B.r0-=.5,B.r+=.5)),this._clipShapeForSymbol=B;var G=Dxe(s,a,r)||s.getVisual("style")[s.getVisual("drawType")];if(!(g&&h.type===a.type&&N===this._step))D&&p.updateData(s,{isIgnore:z,clipShape:B,disableAnimation:!0,getSymbolPoint:function(Pe){return[c[Pe*2],c[Pe*2+1]]}}),x&&this._initSymbolLabelAnimation(s,a,B),N&&(E&&(E=Xd(E,c,a,N,L)),c=Xd(c,null,a,N,L)),g=this._newPolyline(c),M?y=this._newPolygon(c,E):y&&(_.remove(y),y=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,om(G)),_.setClipPath(M3(this,a,!0,t));else{M&&!y?y=this._newPolygon(c,E):y&&!M&&(_.remove(y),y=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,om(G));var U=_.getClipPath();if(U){var X=M3(this,a,!1,t);Li(U,{shape:X.shape},t)}else _.setClipPath(M3(this,a,!0,t));D&&p.updateData(s,{isIgnore:z,clipShape:B,disableAnimation:!0,getSymbolPoint:function(Pe){return[c[Pe*2],c[Pe*2+1]]}}),(!$H(this._stackedOnPoints,E)||!$H(this._points,c))&&(x?this._doUpdateAnimation(s,E,a,r,N,T,L):(N&&(E&&(E=Xd(E,c,a,N,L)),c=Xd(c,null,a,N,L)),g.setShape({points:c}),y&&y.setShape({points:c,stackedOnPoints:E})))}var q=t.getModel("emphasis"),V=q.get("focus"),j=q.get("blurScope"),K=q.get("disabled");if(g.useStyle(Ot(l.getLineStyle(),{fill:"none",stroke:G,lineJoin:"bevel"})),la(g,t,"lineStyle"),g.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var te=g.getState("emphasis").style;te.lineWidth=+g.style.lineWidth+1}Ht(g).seriesIndex=t.seriesIndex,Hi(g,V,j,K);var ie=e6(t.get("smooth")),Y=t.get("smoothMonotone");if(g.setShape({smooth:ie,smoothMonotone:Y,connectNulls:L}),y){var ee=s.getCalculationInfo("stackedOnSeries"),oe=0;y.useStyle(Ot(u.getAreaStyle(),{fill:G,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),ee&&(oe=e6(ee.get("smooth"))),y.setShape({smooth:ie,stackedOnSmooth:oe,smoothMonotone:Y,connectNulls:L}),la(y,t,"areaStyle"),Ht(y).seriesIndex=t.seriesIndex,Hi(y,V,j,K)}var de=this._changePolyState;s.eachItemGraphicEl(function(Pe){Pe&&(Pe.onHoverStateChange=de)}),this._polyline.onHoverStateChange=de,this._data=s,this._coordSys=a,this._stackedOnPoints=E,this._points=c,this._step=N,this._valueOrigin=T,t.get("triggerLineEvent")&&(this.packEventData(t,g),y&&this.packEventData(t,y))},e.prototype.packEventData=function(t,n){Ht(n).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,n,r,a){var o=t.getData(),s=tm(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var h=t.get("zlevel")||0,p=t.get("z")||0;u=new SM(o,s),u.x=c,u.y=f,u.setZ(h,p);var g=u.getSymbolPath().getTextContent();g&&(g.zlevel=h,g.z=p,g.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else fi.prototype.highlight.call(this,t,n,r,a)},e.prototype.downplay=function(t,n,r,a){var o=t.getData(),s=tm(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else fi.prototype.downplay.call(this,t,n,r,a)},e.prototype._changePolyState=function(t){var n=this._polygon;tD(this._polyline,t),n&&tD(n,t)},e.prototype._newPolyline=function(t){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new wxe({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(t,n){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new t$({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,n,r){var a,o,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):n.type==="polar"&&(a=s.dim==="angle",o=!0);var u=t.hostModel,c=u.get("animationDuration");Ct(c)&&(c=c(null));var f=u.get("animationDelay")||0,h=Ct(f)?f(null):f;t.eachItemGraphicEl(function(p,g){var y=p;if(y){var _=[p.x,p.y],x=void 0,M=void 0,T=void 0;if(r)if(o){var C=r,E=n.pointToCoord(_);a?(x=C.startAngle,M=C.endAngle,T=-E[1]/180*Math.PI):(x=C.r0,M=C.r,T=E[0])}else{var D=r;a?(x=D.x,M=D.x+D.width,T=p.x):(x=D.y+D.height,M=D.y,T=p.y)}var L=M===x?0:(T-x)/(M-x);l&&(L=1-L);var z=Ct(f)?f(g):c*L+h,P=y.getSymbolPath(),N=P.getTextContent();y.attr({scaleX:0,scaleY:0}),y.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:z}),N&&N.animateFrom({style:{opacity:0}},{duration:300,delay:z}),P.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,n,r){var a=t.getModel("endLabel");if(r$(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new In({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=Pxe(l);c>=0&&(Ma(s,ua(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:c,defaultText:function(f,h,p){return p!=null?$K(o,p):x_(o,f)},enableTextSetter:!0},Oxe(a,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,n,r,a,o,s,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=r.getLayout("points"),h=r.hostModel,p=h.get("connectNulls"),g=s.get("precision"),y=s.get("distance")||0,_=l.getBaseAxis(),x=_.isHorizontal(),M=_.inverse,T=n.shape,C=M?x?T.x:T.y+T.height:x?T.x+T.width:T.y,E=(x?y:0)*(M?-1:1),D=(x?0:-y)*(M?-1:1),L=x?"x":"y",z=Nxe(f,C,L),P=z.range,N=P[1]-P[0],B=void 0;if(N>=1){if(N>1&&!p){var G=t6(f,P[0]);u.attr({x:G[0]+E,y:G[1]+D}),o&&(B=h.getRawValue(P[0]))}else{var G=c.getPointOn(C,L);G&&u.attr({x:G[0]+E,y:G[1]+D});var U=h.getRawValue(P[0]),X=h.getRawValue(P[1]);o&&(B=Dq(r,g,U,X,z.t))}a.lastFrameIndex=P[0]}else{var q=t===1||a.lastFrameIndex>0?P[0]:0,G=t6(f,q);o&&(B=h.getRawValue(q)),u.attr({x:G[0]+E,y:G[1]+D})}if(o){var V=F_(u);typeof V.setLabelText=="function"&&V.setLabelText(B)}}},e.prototype._doUpdateAnimation=function(t,n,r,a,o,s,l){var u=this._polyline,c=this._polygon,f=t.hostModel,h=Txe(this._data,t,this._stackedOnPoints,n,this._coordSys,r,this._valueOrigin),p=h.current,g=h.stackedOnCurrent,y=h.next,_=h.stackedOnNext;if(o&&(g=Xd(h.stackedOnCurrent,h.current,r,o,l),p=Xd(h.current,null,r,o,l),_=Xd(h.stackedOnNext,h.next,r,o,l),y=Xd(h.next,null,r,o,l)),JH(p,y)>3e3||c&&JH(g,_)>3e3){u.stopAnimation(),u.setShape({points:y}),c&&(c.stopAnimation(),c.setShape({points:y,stackedOnPoints:_}));return}u.shape.__points=h.current,u.shape.points=p;var x={shape:{points:y}};h.current!==p&&(x.shape.__points=h.next),u.stopAnimation(),Gn(u,x,f),c&&(c.setShape({points:p,stackedOnPoints:g}),c.stopAnimation(),Gn(c,{shape:{stackedOnPoints:_}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var M=[],T=h.status,C=0;C<T.length;C++){var E=T[C].cmd;if(E==="="){var D=t.getItemGraphicEl(T[C].idx1);D&&M.push({el:D,ptIdx:C})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var L=u.shape.__points,z=0;z<M.length;z++){var P=M[z].el,N=M[z].ptIdx*2;P.x=L[N],P.y=L[N+1],P.markRedraw()}})},e.prototype.remove=function(t){var n=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),r.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(fi);function TM(i,e){return{seriesType:i,plan:W_(),reset:function(t){var n=t.getData(),r=t.coordinateSystem,a=t.pipelineContext,o=e||a.large;if(r){var s=Ge(r.dimensions,function(p){return n.mapDimension(p)}).slice(0,2),l=s.length,u=n.getCalculationInfo("stackResultDimension");Nh(n,s[0])&&(s[0]=u),Nh(n,s[1])&&(s[1]=u);var c=n.getStore(),f=n.getDimensionIndex(s[0]),h=n.getDimensionIndex(s[1]);return l&&{progress:function(p,g){for(var y=p.end-p.start,_=o&&Kc(y*l),x=[],M=[],T=p.start,C=0;T<p.end;T++){var E=void 0;if(l===1){var D=c.get(f,T);E=r.dataToPoint(D,null,M)}else x[0]=c.get(f,T),x[1]=c.get(h,T),E=r.dataToPoint(x,null,M);o?(_[C++]=E[0],_[C++]=E[1]):g.setItemLayout(T,E.slice())}o&&g.setLayout("points",_)}}}}}}var Bxe={average:function(i){for(var e=0,t=0,n=0;n<i.length;n++)isNaN(i[n])||(e+=i[n],t++);return t===0?NaN:e/t},sum:function(i){for(var e=0,t=0;t<i.length;t++)e+=i[t]||0;return e},max:function(i){for(var e=-1/0,t=0;t<i.length;t++)i[t]>e&&(e=i[t]);return isFinite(e)?e:NaN},min:function(i){for(var e=1/0,t=0;t<i.length;t++)i[t]<e&&(e=i[t]);return isFinite(e)?e:NaN},nearest:function(i){return i[0]}},kxe=function(i){return Math.round(i.length/2)};function a$(i){return{seriesType:i,reset:function(e,t,n){var r=e.getData(),a=e.get("sampling"),o=e.coordinateSystem,s=r.count();if(s>10&&o.type==="cartesian2d"&&a){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=n.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(f||1),p=Math.round(s/h);if(isFinite(p)&&p>1){a==="lttb"?e.setData(r.lttbDownSample(r.mapDimension(u.dim),1/p)):a==="minmax"&&e.setData(r.minmaxDownSample(r.mapDimension(u.dim),1/p));var g=void 0;rt(a)?g=Bxe[a]:Ct(a)&&(g=a),g&&e.setData(r.downSample(r.mapDimension(u.dim),1/p,g,kxe))}}}}}function Uxe(i){i.registerChartView(zxe),i.registerSeriesModel(xxe),i.registerLayout(TM("line",!0)),i.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,a$("line"))}var k1=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return yf(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,n,r){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(t),s=a.dataToPoint(o);if(r)H(a.getAxes(),function(h,p){if(h.type==="category"&&n!=null){var g=h.getTicksCoords(),y=h.getTickModel().get("alignWithLabel"),_=o[p],x=n[p]==="x1"||n[p]==="y1";if(x&&!y&&(_+=1),g.length<2)return;if(g.length===2){s[p]=h.toGlobalCoord(h.getExtent()[x?1:0]);return}for(var M=void 0,T=void 0,C=1,E=0;E<g.length;E++){var D=g[E].coord,L=E===g.length-1?g[E-1].tickValue+C:g[E].tickValue;if(L===_){T=D;break}else if(L<_)M=D;else if(M!=null&&L>_){T=(D+M)/2;break}E===1&&(C=L-g[0].tickValue)}T==null&&(M?M&&(T=g[g.length-1].coord):T=g[0].coord),s[p]=h.toGlobalCoord(T)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},e})(vi);vi.registerClass(k1);var Fxe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return yf(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>t&&(t=n),t},e.prototype.brushSelector=function(t,n,r){return r.rect(n.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Np(k1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:ge.color.primary,borderWidth:2}},realtimeSort:!1}),e})(k1),Vxe=(function(){function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return i})(),TD=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new Vxe},e.prototype.buildPath=function(t,n){var r=n.cx,a=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),l=(s-o)*.5,u=o+l,c=n.startAngle,f=n.endAngle,h=n.clockwise,p=Math.PI*2,g=h?f-c<p:c-f<p;g||(c=f-(h?p:-p));var y=Math.cos(c),_=Math.sin(c),x=Math.cos(f),M=Math.sin(f);g?(t.moveTo(y*o+r,_*o+a),t.arc(y*u+r,_*u+a,l,-Math.PI+c,c,!h)):t.moveTo(y*s+r,_*s+a),t.arc(r,a,s,c,f,!h),t.arc(x*u+r,M*u+a,l,f-Math.PI*2,f-Math.PI,!h),o!==0&&t.arc(r,a,o,f,c,h)},e})(bn);function Gxe(i,e){e=e||{};var t=e.isRoundCap;return function(n,r,a){var o=r.position;if(!o||o instanceof Array)return KE(n,r,a);var s=i(o),l=r.distance!=null?r.distance:5,u=this.shape,c=u.cx,f=u.cy,h=u.r,p=u.r0,g=(h+p)/2,y=u.startAngle,_=u.endAngle,x=(y+_)/2,M=t?Math.abs(h-p)/2:0,T=Math.cos,C=Math.sin,E=c+h*T(y),D=f+h*C(y),L="left",z="top";switch(s){case"startArc":E=c+(p-l)*T(x),D=f+(p-l)*C(x),L="center",z="top";break;case"insideStartArc":E=c+(p+l)*T(x),D=f+(p+l)*C(x),L="center",z="bottom";break;case"startAngle":E=c+g*T(y)+HA(y,l+M,!1),D=f+g*C(y)+WA(y,l+M,!1),L="right",z="middle";break;case"insideStartAngle":E=c+g*T(y)+HA(y,-l+M,!1),D=f+g*C(y)+WA(y,-l+M,!1),L="left",z="middle";break;case"middle":E=c+g*T(x),D=f+g*C(x),L="center",z="middle";break;case"endArc":E=c+(h+l)*T(x),D=f+(h+l)*C(x),L="center",z="bottom";break;case"insideEndArc":E=c+(h-l)*T(x),D=f+(h-l)*C(x),L="center",z="top";break;case"endAngle":E=c+g*T(_)+HA(_,l+M,!0),D=f+g*C(_)+WA(_,l+M,!0),L="left",z="middle";break;case"insideEndAngle":E=c+g*T(_)+HA(_,-l+M,!0),D=f+g*C(_)+WA(_,-l+M,!0),L="right",z="middle";break;default:return KE(n,r,a)}return n=n||{},n.x=E,n.y=D,n.align=L,n.verticalAlign=z,n}}function Hxe(i,e,t,n){if(Pn(n)){i.setTextConfig({rotation:n});return}else if(ze(e)){i.setTextConfig({rotation:0});return}var r=i.shape,a=r.clockwise?r.startAngle:r.endAngle,o=r.clockwise?r.endAngle:r.startAngle,s=(a+o)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=o;break;default:i.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),i.setTextConfig({rotation:c})}function HA(i,e,t){return e*Math.sin(i)*(t?-1:1)}function WA(i,e,t){return e*Math.cos(i)*(t?1:-1)}function Qc(i,e,t){var n=i.get("borderRadius");if(n==null)return t?{cornerRadius:0}:null;ze(n)||(n=[n,n,n,n]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Ge(n,function(a){return Xu(a,r)})}}var T3=Math.max,w3=Math.min;function Wxe(i,e){var t=i.getArea&&i.getArea();if(Tp(i,"cartesian2d")){var n=i.getBaseAxis();if(n.type!=="category"||!n.onBand){var r=e.getLayout("bandWidth");n.isHorizontal()?(t.x-=r,t.width+=r*2):(t.y-=r,t.height+=r*2)}}return t}var Xxe=(function(i){fe(e,i);function e(){var t=i.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,n,r,a){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var o=t.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,n,r):this._renderNormal(t,n,r,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,n){this._progressiveEls=[],this._incrementalRenderLarge(t,n)},e.prototype.eachRendered=function(t){Pp(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t,n,r,a){var o=this.group,s=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var h=t.isAnimationEnabled()?t:null,p=Yxe(t,u);p&&this._enableRealtimeSort(p,s,r);var g=t.get("clip",!0)||p,y=Wxe(u,s);o.removeClipPath();var _=t.get("roundCap",!0),x=t.get("showBackground",!0),M=t.getModel("backgroundStyle"),T=M.get("borderRadius")||0,C=[],E=this._backgroundEls,D=a&&a.isInitSort,L=a&&a.type==="changeAxisOrder";function z(B){var G=XA[u.type](s,B);if(!G)return null;var U=Jxe(u,f,G);return U.useStyle(M.getItemStyle()),u.type==="cartesian2d"?U.setShape("r",T):U.setShape("cornerRadius",T),C[B]=U,U}s.diff(l).add(function(B){var G=s.getItemModel(B),U=XA[u.type](s,B,G);if(U&&(x&&z(B),!(!s.hasValue(B)||!o6[u.type](U)))){var X=!1;g&&(X=n6[u.type](y,U));var q=i6[u.type](t,s,B,U,f,h,c.model,!1,_);p&&(q.forceLabelAnimation=!0),s6(q,s,B,G,U,t,f,u.type==="polar"),D?q.attr({shape:U}):p?r6(p,h,q,U,B,f,!1,!1):Li(q,{shape:U},t,B),s.setItemGraphicEl(B,q),o.add(q),q.ignore=X}}).update(function(B,G){var U=s.getItemModel(B),X=XA[u.type](s,B,U);if(X){if(x){var q=void 0;E.length===0?q=z(G):(q=E[G],q.useStyle(M.getItemStyle()),u.type==="cartesian2d"?q.setShape("r",T):q.setShape("cornerRadius",T),C[B]=q);var V=XA[u.type](s,B),j=s$(f,V,u);Gn(q,{shape:j},h,B)}var K=l.getItemGraphicEl(G);if(!s.hasValue(B)||!o6[u.type](X)){o.remove(K);return}var te=!1;g&&(te=n6[u.type](y,X),te&&o.remove(K));var ie=K&&(K.type==="sector"&&_||K.type==="sausage"&&!_);if(ie&&(K&&Th(K,t,G),K=null),K?$l(K):K=i6[u.type](t,s,B,X,f,h,c.model,!0,_),p&&(K.forceLabelAnimation=!0),L){var Y=K.getTextContent();if(Y){var ee=F_(Y);ee.prevValue!=null&&(ee.prevValue=ee.value)}}else s6(K,s,B,U,X,t,f,u.type==="polar");D?K.attr({shape:X}):p?r6(p,h,K,X,B,f,!0,L):Gn(K,{shape:X},t,B,null),s.setItemGraphicEl(B,K),K.ignore=te,o.add(K)}}).remove(function(B){var G=l.getItemGraphicEl(B);G&&Th(G,t,B)}).execute();var P=this._backgroundGroup||(this._backgroundGroup=new It);P.removeAll();for(var N=0;N<C.length;++N)P.add(C[N]);o.add(P),this._backgroundEls=C,this._data=s},e.prototype._renderLarge=function(t,n,r){this._clear(),u6(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,n){this._removeBackground(),u6(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var n=t.get("clip",!0)&&MM(t.coordinateSystem,!1,t),r=this.group;n?r.setClipPath(n):r.removeClipPath()},e.prototype._enableRealtimeSort=function(t,n,r){var a=this;if(n.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,t,r),this._isFirstFrame=!1;else{var s=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,s,o,r)},r.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,n,r){var a=[];return t.each(t.mapDimension(n.dim),function(o,s){var l=r(s);l=l??NaN,a.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Ge(a,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,n,r){for(var a=r.scale,o=t.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(o,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:n(t.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},e.prototype._isOrderDifferentInView=function(t,n){for(var r=n.scale,a=r.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],r.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==r.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,n,r,a){if(this._isOrderChangedWithinSameData(t,n,r)){var o=this._dataSort(t,r,n);this._isOrderDifferentInView(o,r)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,n,r){var a=n.baseAxis,o=this._dataSort(t,a,function(s){return t.get(t.mapDimension(n.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},e.prototype.remove=function(t,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(t,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var n=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(a){Th(a,t,Ht(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e})(fi),n6={cartesian2d:function(i,e){var t=e.width<0?-1:1,n=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var r=i.x+i.width,a=i.y+i.height,o=T3(e.x,i.x),s=w3(e.x+e.width,r),l=T3(e.y,i.y),u=w3(e.y+e.height,a),c=s<o,f=u<l;return e.x=c&&o>r?s:o,e.y=f&&l>a?u:l,e.width=c?0:s-o,e.height=f?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),c||f},polar:function(i,e){var t=e.r0<=e.r?1:-1;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}var r=w3(e.r,i.r),a=T3(e.r0,i.r0);e.r=r,e.r0=a;var o=r-a<0;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}return o}},i6={cartesian2d:function(i,e,t,n,r,a,o,s,l){var u=new dn({shape:Ce({},n),z2:1});if(u.__dataIndex=t,u.name="item",a){var c=u.shape,f=r?"height":"width";c[f]=0}return u},polar:function(i,e,t,n,r,a,o,s,l){var u=!r&&l?TD:io,c=new u({shape:n,z2:1});c.name="item";var f=o$(r);if(c.calculateTextPosition=Gxe(f,{isRoundCap:u===TD}),a){var h=c.shape,p=r?"r":"endAngle",g={};h[p]=r?n.r0:n.startAngle,g[p]=n[p],(s?Gn:Li)(c,{shape:g},a)}return c}};function Yxe(i,e){var t=i.get("realtimeSort",!0),n=e.getBaseAxis();if(t&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function r6(i,e,t,n,r,a,o,s){var l,u;a?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(o?Gn:Li)(t,{shape:l},e,r,null);var c=e?i.baseAxis.model:null;(o?Gn:Li)(t,{shape:u},c,r)}function a6(i,e){for(var t=0;t<e.length;t++)if(!isFinite(i[e[t]]))return!0;return!1}var qxe=["x","y","width","height"],Zxe=["cx","cy","r","startAngle","endAngle"],o6={cartesian2d:function(i){return!a6(i,qxe)},polar:function(i){return!a6(i,Zxe)}},XA={cartesian2d:function(i,e,t){var n=i.getItemLayout(e);if(!n)return null;var r=t?Kxe(t,n):0,a=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+a*r/2,y:n.y+o*r/2,width:n.width-a*r,height:n.height-o*r}},polar:function(i,e,t){var n=i.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function jxe(i){return i.startAngle!=null&&i.endAngle!=null&&i.startAngle===i.endAngle}function o$(i){return(function(e){var t=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+t;default:return n}}})(i)}function s6(i,e,t,n,r,a,o,s){var l=e.getItemVisual(t,"style");if(s){if(!a.get("roundCap")){var c=i.shape,f=Qc(n.getModel("itemStyle"),c,!0);Ce(c,f),i.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;i.setShape("r",u)}i.useStyle(l);var h=n.getShallow("cursor");h&&i.attr("cursor",h);var p=s?o?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":o?r.height>=0?"bottom":"top":r.width>=0?"right":"left",g=ua(n);Ma(i,g,{labelFetcher:a,labelDataIndex:t,defaultText:x_(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var y=i.getTextContent();if(s&&y){var _=n.get(["label","position"]);i.textConfig.inside=_==="middle"?!0:null,Hxe(i,_==="outside"?p:_,o$(o),n.get(["label","rotate"]))}gZ(y,g,a.getRawValue(t),function(M){return $K(e,M)});var x=n.getModel(["emphasis"]);Hi(i,x.get("focus"),x.get("blurScope"),x.get("disabled")),la(i,n),jxe(r)&&(i.style.fill="none",i.style.stroke="none",H(i.states,function(M){M.style&&(M.style.fill=M.style.stroke="none")}))}function Kxe(i,e){var t=i.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var n=i.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,r,a)}var $xe=(function(){function i(){}return i})(),l6=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new $xe},e.prototype.buildPath=function(t,n){for(var r=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<r.length;c+=3)l[a]=u,l[o]=r[c+2],s[a]=r[c+a],s[o]=r[c+o],t.rect(s[0],s[1],l[0],l[1])},e})(bn);function u6(i,e,t,n){var r=i.getData(),a=r.getLayout("valueAxisHorizontal")?1:0,o=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=i.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var c=new l6({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var f=new l6({shape:{points:r.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=o,f.barWidth=s,e.add(f),f.useStyle(r.getVisual("style")),f.style.stroke=null,Ht(f).seriesIndex=i.seriesIndex,i.get("silent")||(f.on("mousedown",c6),f.on("mousemove",c6)),t&&t.push(f)}var c6=aL(function(i){var e=this,t=Qxe(e,i.offsetX,i.offsetY);Ht(e).dataIndex=t>=0?t:null},30,!1);function Qxe(i,e,t){for(var n=i.baseDimIdx,r=1-n,a=i.shape.points,o=i.largeDataIndices,s=[],l=[],u=i.barWidth,c=0,f=a.length/3;c<f;c++){var h=c*3;if(l[n]=u,l[r]=a[h+2],s[n]=a[h+n],s[r]=a[h+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),e>=s[0]&&e<=s[0]+l[0]&&t>=s[1]&&t<=s[1]+l[1])return o[c]}return-1}function s$(i,e,t){if(Tp(t,"cartesian2d")){var n=e,r=t.getArea();return{x:i?n.x:r.x,y:i?r.y:n.y,width:i?n.width:r.width,height:i?r.height:n.height}}else{var r=t.getArea(),a=e;return{cx:r.cx,cy:r.cy,r0:i?r.r0:a.r0,r:i?r.r:a.r,startAngle:i?a.startAngle:0,endAngle:i?a.endAngle:Math.PI*2}}}function Jxe(i,e,t){var n=i.type==="polar"?io:dn;return new n({shape:s$(e,t,i),silent:!0,z2:0})}function eSe(i){i.registerChartView(Xxe),i.registerSeriesModel(Fxe),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,Qt(cK,"bar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,fK("bar")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,a$("bar")),i.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(r){e.sortInfo&&r.axis.setCategorySortInfo(e.sortInfo)})})}var f6=Math.PI*2,YA=Math.PI/180;function tSe(i,e,t){e.eachSeriesByType(i,function(n){var r=n.getData(),a=r.mapDimension("value"),o=NZ(n,t),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=o.viewRect,h=-n.get("startAngle")*YA,p=n.get("endAngle"),g=n.get("padAngle")*YA;p=p==="auto"?h-f6:-p*YA;var y=n.get("minAngle")*YA,_=y+g,x=0;r.each(a,function(j){!isNaN(j)&&x++});var M=r.getSum(a),T=Math.PI/(M||x)*2,C=n.get("clockwise"),E=n.get("roseType"),D=n.get("stillShowZeroSum"),L=r.getDataExtent(a);L[0]=0;var z=C?1:-1,P=[h,p],N=z*g/2;ZR(P,!C),h=P[0],p=P[1];var B=l$(n);B.startAngle=h,B.endAngle=p,B.clockwise=C,B.cx=s,B.cy=l,B.r=u,B.r0=c;var G=Math.abs(p-h),U=G,X=0,q=h;if(r.setLayout({viewRect:f,r:u}),r.each(a,function(j,K){var te;if(isNaN(j)){r.setItemLayout(K,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:C,cx:s,cy:l,r0:c,r:E?NaN:u});return}E!=="area"?te=M===0&&D?T:j*T:te=G/x,te<_?(te=_,U-=_):X+=j;var ie=q+z*te,Y=0,ee=0;g>te?(Y=q+z*te/2,ee=Y):(Y=q+N,ee=ie-N),r.setItemLayout(K,{angle:te,startAngle:Y,endAngle:ee,clockwise:C,cx:s,cy:l,r0:c,r:E?ei(j,L,[c,u]):u}),q=ie}),U<f6&&x)if(U<=.001){var V=G/x;r.each(a,function(j,K){if(!isNaN(j)){var te=r.getItemLayout(K);te.angle=V;var ie=0,Y=0;V<g?(ie=h+z*(K+1/2)*V,Y=ie):(ie=h+z*K*V+N,Y=h+z*(K+1)*V-N),te.startAngle=ie,te.endAngle=Y}})}else T=U/X,q=h,r.each(a,function(j,K){if(!isNaN(j)){var te=r.getItemLayout(K),ie=te.angle===_?_:j*T,Y=0,ee=0;ie<g?(Y=q+z*ie/2,ee=Y):(Y=q+N,ee=q+z*ie-N),te.startAngle=Y,te.endAngle=ee,q+=z*ie}})})}var l$=yn();function K_(i){return{seriesType:i,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(!(!n||!n.length)){var r=e.getData();r.filterSelf(function(a){for(var o=r.getName(a),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}var nSe=Math.PI/180;function h6(i,e,t,n,r,a,o,s,l,u){if(i.length<2)return;function c(y){for(var _=y.rB,x=_*_,M=0;M<y.list.length;M++){var T=y.list[M],C=Math.abs(T.label.y-t),E=n+T.len,D=E*E,L=Math.sqrt(Math.abs((1-C*C/x)*D)),z=e+(L+T.len2)*r,P=z-T.label.x,N=T.targetTextWidth-P*r;u$(T,N,!0),T.label.x=z}}function f(y){for(var _={list:[],maxY:0},x={list:[],maxY:0},M=0;M<y.length;M++)if(y[M].labelAlignTo==="none"){var T=y[M],C=T.label.y>t?x:_,E=Math.abs(T.label.y-t);if(E>=C.maxY){var D=T.label.x-e-T.len2*r,L=n+T.len,z=Math.abs(D)<L?Math.sqrt(E*E/(1-D*D/L/L)):L;C.rB=z,C.maxY=E}C.list.push(T)}c(_),c(x)}for(var h=i.length,p=0;p<h;p++)if(i[p].position==="outer"&&i[p].labelAlignTo==="labelLine"){var g=i[p].label.x-u;i[p].linePoints[1][0]+=g,i[p].label.x=u}xz(i,1,l,l+o)&&f(i)}function iSe(i,e,t,n,r,a,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<i.length;h++){var p=i[h].label;A3(i[h])||(p.x<e?(c=Math.min(c,p.x),l.push(i[h])):(f=Math.max(f,p.x),u.push(i[h])))}for(var h=0;h<i.length;h++){var g=i[h];if(!A3(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var p=g.label,y=g.linePoints,_=void 0;g.labelAlignTo==="edge"?p.x<e?_=y[2][0]-g.labelDistance-o-g.edgeDistance:_=o+r-g.edgeDistance-y[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?p.x<e?_=c-o-g.bleedMargin:_=o+r-f-g.bleedMargin:p.x<e?_=p.x-o-g.bleedMargin:_=o+r-p.x-g.bleedMargin,g.targetTextWidth=_,u$(g,_,!1)}}h6(u,e,t,n,1,r,a,o,s,f),h6(l,e,t,n,-1,r,a,o,s,c);for(var h=0;h<i.length;h++){var g=i[h];if(!A3(g)&&g.linePoints){var p=g.label,y=g.linePoints,x=g.labelAlignTo==="edge",M=p.style.padding,T=M?M[1]+M[3]:0,C=p.style.backgroundColor?0:T,E=g.rect.width+C,D=y[1][0]-y[2][0];x?p.x<e?y[2][0]=o+g.edgeDistance+E+g.labelDistance:y[2][0]=o+r-g.edgeDistance-E-g.labelDistance:(p.x<e?y[2][0]=p.x+g.labelDistance:y[2][0]=p.x-g.labelDistance,y[1][0]=y[2][0]+D),y[1][1]=y[2][1]=p.y}}}function u$(i,e,t){if(i.labelStyleWidth==null){var n=i.label,r=n.style,a=i.rect,o=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,u=r.overflow,c=a.width+(o?0:l);if(e<c||t){if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",o)}else{var h=e-l,p=e<c?h:t?h>i.unconstrainedWidth?null:h:null;n.setStyle("width",p)}c$(a,n)}}}function c$(i,e){d6.rect=i,NK(d6,e,rSe)}var rSe={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},d6={};function A3(i){return i.position==="center"}function aSe(i){var e=i.getData(),t=[],n,r,a=!1,o=(i.get("minShowLabelAngle")||0)*nSe,s=e.getLayout("viewRect"),l=e.getLayout("r"),u=s.width,c=s.x,f=s.y,h=s.height;function p(D){D.ignore=!0}function g(D){if(!D.ignore)return!0;for(var L in D.states)if(D.states[L].ignore===!1)return!0;return!1}e.each(function(D){var L=e.getItemGraphicEl(D),z=L.shape,P=L.getTextContent(),N=L.getTextGuideLine(),B=e.getItemModel(D),G=B.getModel("label"),U=G.get("position")||B.get(["emphasis","label","position"]),X=G.get("distanceToLabelLine"),q=G.get("alignTo"),V=it(G.get("edgeDistance"),u),j=G.get("bleedMargin");j==null&&(j=Math.min(u,h)>200?10:2);var K=B.getModel("labelLine"),te=K.get("length");te=it(te,u);var ie=K.get("length2");if(ie=it(ie,u),Math.abs(z.endAngle-z.startAngle)<o){H(P.states,p),P.ignore=!0,N&&(H(N.states,p),N.ignore=!0);return}if(g(P)){var Y=(z.startAngle+z.endAngle)/2,ee=Math.cos(Y),oe=Math.sin(Y),de,Pe,he,Se;n=z.cx,r=z.cy;var Ee=U==="inside"||U==="inner";if(U==="center")de=z.cx,Pe=z.cy,Se="center";else{var Te=(Ee?(z.r+z.r0)/2*ee:z.r*ee)+n,He=(Ee?(z.r+z.r0)/2*oe:z.r*oe)+r;if(de=Te+ee*3,Pe=He+oe*3,!Ee){var We=Te+ee*(te+l-z.r),Qe=He+oe*(te+l-z.r),yt=We+(ee<0?-1:1)*ie,be=Qe;q==="edge"?de=ee<0?c+V:c+u-V:de=yt+(ee<0?-X:X),Pe=be,he=[[Te,He],[We,Qe],[yt,be]]}Se=Ee?"center":q==="edge"?ee>0?"right":"left":ee>0?"left":"right"}var Ue=Math.PI,Ie=0,$e=G.get("rotate");if(Pn($e))Ie=$e*(Ue/180);else if(U==="center")Ie=0;else if($e==="radial"||$e===!0){var ae=ee<0?-Y+Ue:-Y;Ie=ae}else if($e==="tangential"&&U!=="outside"&&U!=="outer"){var Mt=Math.atan2(ee,oe);Mt<0&&(Mt=Ue*2+Mt);var vt=oe>0;vt&&(Mt=Ue+Mt),Ie=Mt-Ue}if(a=!!Ie,P.x=de,P.y=Pe,P.rotation=Ie,P.setStyle({verticalAlign:"middle"}),Ee){P.setStyle({align:Se});var ot=P.states.select;ot&&(ot.x+=P.x,ot.y+=P.y)}else{var Vt=new Ut(0,0,0,0);c$(Vt,P),t.push({label:P,labelLine:N,position:U,len:te,len2:ie,minTurnAngle:K.get("minTurnAngle"),maxSurfaceAngle:K.get("maxSurfaceAngle"),surfaceNormal:new kt(ee,oe),linePoints:he,textAlign:Se,labelDistance:X,labelAlignTo:q,edgeDistance:V,bleedMargin:j,rect:Vt,unconstrainedWidth:Vt.width,labelStyleWidth:P.style.width})}L.setTextConfig({inside:Ee})}}),!a&&i.get("avoidLabelOverlap")&&iSe(t,n,r,l,u,h,c,f);for(var y=0;y<t.length;y++){var _=t[y],x=_.label,M=_.labelLine,T=isNaN(x.x)||isNaN(x.y);if(x){x.setStyle({align:_.textAlign}),T&&(H(x.states,p),x.ignore=!0);var C=x.states.select;C&&(C.x+=x.x,C.y+=x.y)}if(M){var E=_.linePoints;T||!E?(H(M.states,p),M.ignore=!0):(LK(E,_.minTurnAngle),w_e(E,_.surfaceNormal,_.maxSurfaceAngle),M.setShape({points:E}),x.__hostTarget.textGuideLineConfig={anchor:new kt(E[0][0],E[0][1])})}}}var oSe=(function(i){fe(e,i);function e(t,n,r){var a=i.call(this)||this;a.z2=2;var o=new In;return a.setTextContent(o),a.updateData(t,n,r,!0),a}return e.prototype.updateData=function(t,n,r,a){var o=this,s=t.hostModel,l=t.getItemModel(n),u=l.getModel("emphasis"),c=t.getItemLayout(n),f=Ce(Qc(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(a){o.setShape(f);var h=s.getShallow("animationType");s.ecModel.ssr?(Li(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):h==="scale"?(o.shape.r=c.r0,Li(o,{shape:{r:c.r}},s,n)):r!=null?(o.setShape({startAngle:r,endAngle:r}),Li(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,n)):(o.shape.endAngle=c.startAngle,Gn(o,{shape:{endAngle:c.endAngle}},s,n))}else $l(o),Gn(o,{shape:f},s,n);o.useStyle(t.getItemVisual(n,"style")),la(o,l);var p=(c.startAngle+c.endAngle)/2,g=s.get("selectedOffset"),y=Math.cos(p)*g,_=Math.sin(p)*g,x=l.getShallow("cursor");x&&o.attr("cursor",x),this._updateLabel(s,t,n),o.ensureState("emphasis").shape=Ce({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},Qc(u.getModel("itemStyle"),c)),Ce(o.ensureState("select"),{x:y,y:_,shape:Qc(l.getModel(["select","itemStyle"]),c)}),Ce(o.ensureState("blur"),{shape:Qc(l.getModel(["blur","itemStyle"]),c)});var M=o.getTextGuideLine(),T=o.getTextContent();M&&Ce(M.ensureState("select"),{x:y,y:_}),Ce(T.ensureState("select"),{x:y,y:_}),Hi(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,n,r){var a=this,o=n.getItemModel(r),s=o.getModel("labelLine"),l=n.getItemVisual(r,"style"),u=l&&l.fill,c=l&&l.opacity;Ma(a,ua(o),{labelFetcher:n.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:c,defaultText:t.getFormattedLabel(r,"normal")||n.getName(r)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=o.get(["label","position"]);if(h!=="outside"&&h!=="outer")a.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new Ba,this.setTextGuideLine(p)),FU(this,VU(o),{stroke:u,opacity:Ds(s.get(["lineStyle","opacity"]),c,1)})}},e})(io),sSe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,r,a){var o=t.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&t.get("showEmptyCircle")){var h=l$(t),p=new io({shape:Lt(h)});p.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,l.add(p)}o.diff(s).add(function(g){var y=new oSe(o,g,u);o.setItemGraphicEl(g,y),l.add(y)}).update(function(g,y){var _=s.getItemGraphicEl(y);_.updateData(o,g,u),_.off("click"),l.add(_),o.setItemGraphicEl(g,_)}).remove(function(g){var y=s.getItemGraphicEl(g);Th(y,t,g)}).execute(),aSe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,n){var r=n.getData(),a=r.getItemLayout(0);if(a){var o=t[0]-a.cx,s=t[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},e.type="pie",e})(fi);function $_(i,e,t){e=ze(e)&&{coordDimensions:e}||Ce({encodeDefine:i.getEncode()},e);var n=i.getSource(),r=q_(n,e).dimensions,a=new Ao(r,i);return a.initData(n,t),a}var Q_=(function(){function i(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return i.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},i.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},i.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},i.prototype.getItemVisual=function(e,t){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,t)},i})(),lSe=yn(),f$=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(t){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new Q_(at(this.getData,this),at(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){i.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return $_(this,{coordDimensions:["value"],encodeDefaulter:Qt(pU,this)})},e.prototype.getDataParams=function(t){var n=this.getData(),r=lSe(n),a=r.seats;if(!a){var o=[];n.each(n.mapDimension("value"),function(l){o.push(l)}),a=r.seats=_q(o,n.hostModel.get("percentPrecision"))}var s=i.prototype.getDataParams.call(this,t);return s.percent=a[t]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(t){em(t,"labelLine",["show"]);var n=t.labelLine,r=t.emphasis.labelLine;n.show=n.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e})(vi);tge({fullType:f$.type,getCoord2:function(i){return i.getShallow("center")}});function uSe(i){return{seriesType:i,reset:function(e,t){var n=e.getData();n.filterSelf(function(r){var a=n.mapDimension("value"),o=n.get(a,r);return!(Pn(o)&&!isNaN(o)&&o<0)})}}}function cSe(i){i.registerChartView(sSe),i.registerSeriesModel(f$),wj("pie",i.registerAction),i.registerLayout(Qt(tSe,"pie")),i.registerProcessor(K_("pie")),i.registerProcessor(uSe("pie"))}var fSe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return yf(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,n,r){return r.point(n.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:ge.color.primary}},universalTransition:{divideShape:"clone"}},e})(vi),h$=4,hSe=(function(){function i(){}return i})(),dSe=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.getDefaultShape=function(){return new hSe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,n){var r=n.points,a=n.size,o=this.symbolProxy,s=o.shape,l=t.getContext?t.getContext():t,u=l&&a[0]<h$,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<r.length;){var h=r[f++],p=r[f++];isNaN(h)||isNaN(p)||c&&!c.contain(h,p)||(s.x=h-a[0]/2,s.y=p-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(t,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,n=t.points,r=t.size,a=this._ctx,o=this.softClipShape,s;if(a){for(s=this._off;s<n.length;){var l=n[s++],u=n[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||a.fillRect(l-r[0]/2,u-r[1]/2,r[0],r[1])}this.incremental&&(this._off=s,this.notClear=!0)}},e.prototype.findDataIndex=function(t,n){for(var r=this.shape,a=r.points,o=r.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-s/2,h=a[c+1]-l/2;if(t>=f&&n>=h&&t<=f+s&&n<=h+l)return u}return-1},e.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(t=r[0],n=r[1],a.contain(t,n)){var o=this.hoverDataIdx=this.findDataIndex(t,n);return o>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,r=n.points,a=n.size,o=a[0],s=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,h=0;h<r.length;){var p=r[h++],g=r[h++];l=Math.min(p,l),c=Math.max(p,c),u=Math.min(g,u),f=Math.max(g,f)}t=this._rect=new Ut(l-o/2,u-s/2,c-l+o,f-u+s)}return t},e})(bn),pSe=(function(){function i(){this.group=new It}return i.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},i.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var r=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;t=new Float32Array(t.buffer,a,r)}n.setShape("points",t),n.reset()})},i.prototype.incrementalPrepareUpdate=function(e){this._clear()},i.prototype.incrementalUpdate=function(e,t,n){var r=this._newAdded[0],a=t.getLayout("points"),o=r&&r.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+a.length);l.set(o),l.set(a,s),r.endIndex=e.end,r.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,t,n)}},i.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},i.prototype._create=function(){var e=new dSe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},i.prototype._setCommon=function(e,t,n){var r=t.hostModel;n=n||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=n.clipShape||null,e.symbolProxy=Or(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<h$;e.useStyle(r.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),l=s&&s.fill;l&&e.setColor(l);var u=Ht(e);u.seriesIndex=r.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var f=e.hoverDataIdx;f>=0&&(u.dataIndex=f+(e.startIndex||0))})},i.prototype.remove=function(){this._clear()},i.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},i})(),vSe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){var a=t.getData(),o=this._updateSymbolDraw(a,t);o.updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,r){var a=t.getData(),o=this._updateSymbolDraw(a,t);o.incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(t,n,r){this._symbolDraw.incrementalUpdate(t,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=t.end===n.getData().count()},e.prototype.updateTransform=function(t,n,r){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=TM("").reset(t,n,r);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var n=t.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,n){var r=this._symbolDraw,a=n.pipelineContext,o=a.large;return(!r||o!==this._isLargeDraw)&&(r&&r.remove(),r=this._symbolDraw=o?new pSe:new bM,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e})(fi),d$={left:0,right:0,top:0,bottom:0},wD=["25%","25%"],gSe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.mergeDefaultAndTheme=function(t,n){var r=mm(t.outerBounds);i.prototype.mergeDefaultAndTheme.apply(this,arguments),r&&t.outerBounds&&hf(t.outerBounds,r)},e.prototype.mergeOption=function(t,n){i.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&t.outerBounds&&hf(this.option.outerBounds,t.outerBounds)},e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:d$,outerBoundsContain:"all",outerBoundsClampWidth:wD[0],outerBoundsClampHeight:wD[1],backgroundColor:ge.color.transparent,borderWidth:1,borderColor:ge.color.neutral30},e})(mn),wz=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",lr).models[0]},e.type="cartesian2dAxis",e})(mn);Sr(wz,j_);var p$={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:ge.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:ge.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:ge.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[ge.color.backgroundTint,ge.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:ge.color.neutral00,borderColor:ge.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},mSe=nn({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},p$),ZU=nn({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:ge.color.axisMinorSplitLine,width:1}}},p$),ySe=nn({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ZU),_Se=Ot({logBase:10},ZU);const v$={category:mSe,value:ZU,time:ySe,log:_Se};var xSe={value:1,category:1,time:1,log:1},Az=null;function SSe(i){Az||(Az=i)}function wM(){return Az}function S_(i,e,t,n){H(xSe,function(r,a){var o=nn(nn({},v$[a],!0),n,!0),s=(function(l){fe(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var h=E1(this),p=h?mm(c):{},g=f.getTheme();nn(c,g.get(a+"Axis")),nn(c,this.getDefaultOption()),c.type=p6(c),h&&hf(c,p,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=N1.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(c){var f=wM();return f?f.updateModelAxisBreak(this,c):{breaks:[]}},u.type=e+"Axis."+a,u.defaultOption=o,u})(t);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(e+"Axis",p6)}function p6(i){return i.type||(i.data?"category":"value")}var bSe=(function(){function i(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return i.prototype.getAxis=function(e){return this._axes[e]},i.prototype.getAxes=function(){return Ge(this._dimList,function(e){return this._axes[e]},this)},i.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Kn(this.getAxes(),function(t){return t.scale.type===e})},i.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},i})(),Cz=["x","y"];function v6(i){return(i.type==="interval"||i.type==="time")&&!i.hasBreaks()}var MSe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=Cz,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!v6(t)||!v6(n))){var r=t.getExtent(),a=n.getExtent(),o=this.dataToPoint([r[0],a[0]]),s=this.dataToPoint([r[1],a[1]]),l=r[1]-r[0],u=a[1]-a[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,h=o[0]-r[0]*c,p=o[1]-a[0]*f,g=this._transform=[c,0,0,f,h,p];this._invTransform=jl([],g)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var n=this.getAxis("x"),r=this.getAxis("y");return n.contain(n.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,n){var r=this.dataToPoint(t),a=this.dataToPoint(n),o=this.getArea(),s=new Ut(r[0],r[1],a[0]-r[0],a[1]-r[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,n,r){r=r||[];var a=t[0],o=t[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return xr(r,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(a,n)),r[1]=l.toGlobalCoord(l.dataToCoord(o,n)),r},e.prototype.clampData=function(t,n){var r=this.getAxis("x").scale,a=this.getAxis("y").scale,o=r.getExtent(),s=a.getExtent(),l=r.parse(t[0]),u=a.parse(t[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},e.prototype.pointToData=function(t,n,r){if(r=r||[],this._invTransform)return xr(r,t,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return r[0]=a.coordToData(a.toLocalCoord(t[0]),n),r[1]=o.coordToData(o.toLocalCoord(t[1]),n),r},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var n=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-t,o=Math.min(r[0],r[1])-t,s=Math.max(n[0],n[1])-a+t,l=Math.max(r[0],r[1])-o+t;return new Ut(a,o,s,l)},e})(bSe),g$=(function(i){fe(e,i);function e(t,n,r,a,o){var s=i.call(this,t,n,r)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e})(nu),cL="expandAxisBreak",m$="collapseAxisBreak",y$="toggleAxisBreak",jU="axisbreakchanged",TSe={type:cL,event:jU,update:"update",refineEvent:KU},wSe={type:m$,event:jU,update:"update",refineEvent:KU},ASe={type:y$,event:jU,update:"update",refineEvent:KU};function KU(i,e,t,n){var r=[];return H(i,function(a){r=r.concat(a.eventBreaks)}),{eventContent:{breaks:r}}}function CSe(i){i.registerAction(TSe,e),i.registerAction(wSe,e),i.registerAction(ASe,e);function e(t,n){var r=[],a=X0(n,t);function o(s,l){H(a[s],function(u){var c=u.updateAxisBreaks(t);H(c.breaks,function(f){var h;r.push(Ot((h={},h[l]=u.componentIndex,h),f))})})}return o("xAxisModels","xAxisIndex"),o("yAxisModels","yAxisIndex"),o("singleAxisModels","singleAxisIndex"),{eventBreaks:r}}}var op=Math.PI,ESe=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],DSe=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],b_=yn(),_$=yn(),x$=(function(){function i(e){this.recordMap={},this.resolveAxisNameOverlap=e}return i.prototype.ensureRecord=function(e){var t=e.axis.dim,n=e.componentIndex,r=this.recordMap,a=r[t]||(r[t]=[]);return a[n]||(a[n]={ready:{}})},i})();function RSe(i,e,t,n){var r=t.axis,a=e.ensureRecord(t),o=[],s,l=$U(i.axisName)&&__(i.nameLocation);H(n,function(g){var y=df(g);if(!(!y||y.label.ignore)){o.push(y);var _=a.transGroup;l&&(_.transform?jl(nb,_.transform):uM(nb),y.transform&&Uu(nb,nb,y.transform),Ut.copy(qA,y.localRect),qA.applyTransform(nb),s?s.union(qA):Ut.copy(s=new Ut(0,0,0,0),qA))}});var u=Math.abs(a.dirVec.x)>.1?"x":"y",c=a.transGroup[u];if(o.sort(function(g,y){return Math.abs(g.label[u]-c)-Math.abs(y.label[u]-c)}),l&&s){var f=r.getExtent(),h=Math.min(f[0],f[1]),p=Math.max(f[0],f[1])-h;s.union(new Ut(h,0,p,1))}a.stOccupiedRect=s,a.labelInfoList=o}var nb=_a(),qA=new Ut(0,0,0,0),S$=function(i,e,t,n,r,a){if(__(i.nameLocation)){var o=a.stOccupiedRect;o&&b$(E_e({},o,a.transGroup.transform),n,r)}else M$(a.labelInfoList,a.dirVec,n,r)};function b$(i,e,t){var n=new kt;lL(i,e,n,{direction:Math.atan2(t.y,t.x),bidirectional:!1,touchThreshold:.05})&&yz(e,n)}function M$(i,e,t,n){for(var r=kt.dot(n,e)>=0,a=0,o=i.length;a<o;a++){var s=i[r?a:o-1-a];s.label.ignore||b$(s,t,n)}}var Jo=(function(){function i(e,t,n,r){this.group=new It,this._axisModel=e,this._api=t,this._local={},this._shared=r||new x$(S$),this._resetCfgDetermined(n)}return i.prototype.updateCfg=function(e){var t=this._cfg.raw;t.position=e.position,t.labelOffset=e.labelOffset,this._resetCfgDetermined(t)},i.prototype.__getRawCfg=function(){return this._cfg.raw},i.prototype._resetCfgDetermined=function(e){var t=this._axisModel,n=t.getDefaultOption?t.getDefaultOption():{},r=bt(e.axisName,t.get("name")),a=t.get("nameMoveOverlap");(a==null||a==="auto")&&(a=bt(e.defaultNameMoveOverlap,!0));var o={raw:e,position:e.position,rotation:e.rotation,nameDirection:bt(e.nameDirection,1),tickDirection:bt(e.tickDirection,1),labelDirection:bt(e.labelDirection,1),labelOffset:bt(e.labelOffset,0),silent:bt(e.silent,!0),axisName:r,nameLocation:Ds(t.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:$U(r)&&a,optionHideOverlap:t.get(["axisLabel","hideOverlap"]),showMinorTicks:t.get(["minorTick","show"])};this._cfg=o;var s=new It({x:o.position[0],y:o.position[1],rotation:o.rotation});s.updateTransform(),this._transformGroup=s;var l=this._shared.ensureRecord(t);l.transGroup=this._transformGroup,l.dirVec=new kt(Math.cos(-o.rotation),Math.sin(-o.rotation))},i.prototype.build=function(e,t){var n=this;return e||(e={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),H(LSe,function(r){e[r]&&ISe[r](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,t||{})}),this},i.innerTextLayout=function(e,t,n){var r=Rk(t-e),a,o;return h_(r)?(o=n>0?"top":"bottom",a="center"):h_(r-op)?(o=n>0?"bottom":"top",a="center"):(o="middle",r>0&&r<op?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:r,textAlign:a,textVerticalAlign:o}},i.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},i.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},i})(),LSe=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],ISe={axisLine:function(i,e,t,n,r,a,o){var s=n.get(["axisLine","show"]);if(s==="auto"&&(s=!0,i.raw.axisLineAutoShow!=null&&(s=!!i.raw.axisLineAutoShow)),!!s){var l=n.axis.getExtent(),u=a.transform,c=[l[0],0],f=[l[1],0],h=c[0]>f[0];u&&(xr(c,c,u),xr(f,f,u));var p=Ce({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),g={strokeContainThreshold:i.raw.strokeContainThreshold||5,silent:!0,z2:1,style:p};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())wM().buildAxisBreakLine(n,r,a,g);else{var y=new Nr(Ce({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]}},g));v_(y.shape,y.style.lineWidth),y.anid="line",r.add(y)}var _=n.get(["axisLine","symbol"]);if(_!=null){var x=n.get(["axisLine","symbolSize"]);rt(_)&&(_=[_,_]),(rt(x)||Pn(x))&&(x=[x,x]);var M=_m(n.get(["axisLine","symbolOffset"])||0,x),T=x[0],C=x[1];H([{rotate:i.rotation+Math.PI/2,offset:M[0],r:0},{rotate:i.rotation-Math.PI/2,offset:M[1],r:Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}],function(E,D){if(_[D]!=="none"&&_[D]!=null){var L=Or(_[D],-T/2,-C/2,T,C,p.stroke,!0),z=E.r+E.offset,P=h?f:c;L.attr({rotation:E.rotate,x:P[0]+z*Math.cos(i.rotation),y:P[1]-z*Math.sin(i.rotation),silent:!0,z2:11}),r.add(L)}})}}},axisTickLabelEstimate:function(i,e,t,n,r,a,o,s){var l=m6(e,r,s);l&&g6(i,e,t,n,r,a,o,Yu.estimate)},axisTickLabelDetermine:function(i,e,t,n,r,a,o,s){var l=m6(e,r,s);l&&g6(i,e,t,n,r,a,o,Yu.determine);var u=zSe(i,r,a,n);OSe(i,e.labelLayoutList,u),BSe(i,r,a,n,i.tickDirection)},axisName:function(i,e,t,n,r,a,o,s){var l=t.ensureRecord(n);e.nameEl&&(r.remove(e.nameEl),e.nameEl=l.nameLayout=l.nameLocation=null);var u=i.axisName;if($U(u)){var c=i.nameLocation,f=i.nameDirection,h=n.getModel("nameTextStyle"),p=n.get("nameGap")||0,g=n.axis.getExtent(),y=n.axis.inverse?-1:1,_=new kt(0,0),x=new kt(0,0);c==="start"?(_.x=g[0]-y*p,x.x=-y):c==="end"?(_.x=g[1]+y*p,x.x=y):(_.x=(g[0]+g[1])/2,_.y=i.labelOffset+f*p,x.y=f);var M=_a();x.transform(Bh(M,M,i.rotation));var T=n.get("nameRotate");T!=null&&(T=T*op/180);var C,E;__(c)?C=Jo.innerTextLayout(i.rotation,T??i.rotation,f):(C=PSe(i.rotation,c,T||0,g),E=i.raw.axisNameAvailableWidth,E!=null&&(E=Math.abs(E/Math.sin(C.rotation)),!isFinite(E)&&(E=null)));var D=h.getFont(),L=n.get("nameTruncate",!0)||{},z=L.ellipsis,P=Na(i.raw.nameTruncateMaxWidth,L.maxWidth,E),N=s.nameMarginLevel||0,B=new In({x:_.x,y:_.y,rotation:C.rotation,silent:Jo.isLabelSilent(n),style:Si(h,{text:u,font:D,overflow:"truncate",width:P,ellipsis:z,fill:h.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:h.get("align")||C.textAlign,verticalAlign:h.get("verticalAlign")||C.textVerticalAlign}),z2:1});if(Uh({el:B,componentModel:n,itemName:u}),B.__fullText=u,B.anid="name",n.get("triggerEvent")){var G=Jo.makeAxisEventDataBase(n);G.targetType="axisName",G.name=u,Ht(B).eventData=G}a.add(B),B.updateTransform(),e.nameEl=B;var U=l.nameLayout=df({label:B,priority:B.z2,defaultAttr:{ignore:B.ignore},marginDefault:__(c)?ESe[N]:DSe[N]});if(l.nameLocation=c,r.add(B),B.decomposeTransform(),i.shouldNameMoveOverlap&&U){var X=t.ensureRecord(n);t.resolveAxisNameOverlap(i,t,n,U,x,X)}}}};function g6(i,e,t,n,r,a,o,s){w$(e)||kSe(i,e,r,s,n,o);var l=e.labelLayoutList;USe(i,n,l,a),GSe(n,i.rotation,l);var u=i.optionHideOverlap;NSe(n,l,u),u&&OK(Kn(l,function(c){return c&&!c.label.ignore})),RSe(i,t,n,l)}function PSe(i,e,t,n){var r=Rk(t-i),a,o,s=n[0]>n[1],l=e==="start"&&!s||e!=="start"&&s;return h_(r-op/2)?(o=l?"bottom":"top",a="center"):h_(r-op*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",r<op*1.5&&r>op/2?a=l?"left":"right":a=l?"right":"left"),{rotation:r,textAlign:a,textVerticalAlign:o}}function NSe(i,e,t){if(yK(i.axis))return;function n(s,l,u){var c=df(e[l]),f=df(e[u]);if(!(!c||!f)){if(s===!1||c.suggestIgnore){Db(c.label);return}if(f.suggestIgnore){Db(f.label);return}var h=.1;if(!t){var p=[0,0,0,0];c=_z({marginForce:p},c),f=_z({marginForce:p},f)}lL(c,f,null,{touchThreshold:h})&&Db(s?f.label:c.label)}}var r=i.get(["axisLabel","showMinLabel"]),a=i.get(["axisLabel","showMaxLabel"]),o=e.length;n(r,0,1),n(a,o-1,o-2)}function OSe(i,e,t){i.showMinorTicks||H(e,function(n){if(n&&n.label.ignore)for(var r=0;r<t.length;r++){var a=t[r],o=_$(a),s=b_(n.label);if(o.tickValue!=null&&!o.onBand&&o.tickValue===s.tickValue){Db(a);return}}})}function Db(i){i&&(i.ignore=!0)}function T$(i,e,t,n,r){for(var a=[],o=[],s=[],l=0;l<i.length;l++){var u=i[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=t,e&&(xr(o,o,e),xr(s,s,e));var c=new Nr({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});v_(c.shape,c.style.lineWidth),c.anid=r+"_"+i[l].tickValue,a.push(c);var f=_$(c);f.onBand=!!i[l].onBand,f.tickValue=i[l].tickValue}return a}function zSe(i,e,t,n){var r=n.axis,a=n.getModel("axisTick"),o=a.get("show");if(o==="auto"&&(o=!0,i.raw.axisTickAutoShow!=null&&(o=!!i.raw.axisTickAutoShow)),!o||r.scale.isBlank())return[];for(var s=a.getModel("lineStyle"),l=i.tickDirection*a.get("length"),u=r.getTicksCoords(),c=T$(u,t.transform,l,Ot(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)e.add(c[f]);return c}function BSe(i,e,t,n,r){var a=n.axis,o=n.getModel("minorTick");if(!(!i.showMinorTicks||a.scale.isBlank())){var s=a.getMinorTicksCoords();if(s.length)for(var l=o.getModel("lineStyle"),u=r*o.get("length"),c=Ot(l.getLineStyle(),Ot(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),f=0;f<s.length;f++)for(var h=T$(s[f],t.transform,u,c,"minorticks_"+f),p=0;p<h.length;p++)e.add(h[p])}}function m6(i,e,t){if(w$(i)){var n=i.axisLabelsCreationContext,r=n.out.noPxChangeTryDetermine;if(t.noPxChange){for(var a=!0,o=0;o<r.length;o++)a=a&&r[o]();if(a)return!1}r.length&&(e.remove(i.labelGroup),Ez(i,null,null,null))}return!0}function kSe(i,e,t,n,r,a){var o=r.axis,s=Na(i.raw.axisLabelShow,r.get(["axisLabel","show"])),l=new It;t.add(l);var u=yD(n);if(!s||o.scale.isBlank()){Ez(e,[],l,u);return}var c=r.getModel("axisLabel"),f=o.getViewLabels(u),h=(Na(i.raw.labelRotate,c.get("rotate"))||0)*op/180,p=Jo.innerTextLayout(i.rotation,h,i.labelDirection),g=r.getCategories&&r.getCategories(!0),y=[],_=r.get("triggerEvent"),x=1/0,M=-1/0;H(f,function(C,E){var D,L=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(C.tickValue):C.tickValue,z=C.formattedLabel,P=C.rawLabel,N=c;if(g&&g[L]){var B=g[L];zt(B)&&B.textStyle&&(N=new Sn(B.textStyle,c,r.ecModel))}var G=N.getTextColor()||r.get(["axisLine","lineStyle","color"]),U=N.getShallow("align",!0)||p.textAlign,X=bt(N.getShallow("alignMinLabel",!0),U),q=bt(N.getShallow("alignMaxLabel",!0),U),V=N.getShallow("verticalAlign",!0)||N.getShallow("baseline",!0)||p.textVerticalAlign,j=bt(N.getShallow("verticalAlignMinLabel",!0),V),K=bt(N.getShallow("verticalAlignMaxLabel",!0),V),te=10+(((D=C.time)===null||D===void 0?void 0:D.level)||0);x=Math.min(x,te),M=Math.max(M,te);var ie=new In({x:0,y:0,rotation:0,silent:Jo.isLabelSilent(r),z2:te,style:Si(N,{text:z,align:E===0?X:E===f.length-1?q:U,verticalAlign:E===0?j:E===f.length-1?K:V,fill:Ct(G)?G(o.type==="category"?P:o.type==="value"?L+"":L,E):G})});ie.anid="label_"+L;var Y=b_(ie);if(Y.break=C.break,Y.tickValue=L,Y.layoutRotation=p.rotation,Uh({el:ie,componentModel:r,itemName:z,formatterParamsExtra:{isTruncated:function(){return ie.isTruncated},value:P,tickIndex:E}}),_){var ee=Jo.makeAxisEventDataBase(r);ee.targetType="axisLabel",ee.value=P,ee.tickIndex=E,C.break&&(ee.break={start:C.break.parsedBreak.vmin,end:C.break.parsedBreak.vmax}),o.type==="category"&&(ee.dataIndex=L),Ht(ie).eventData=ee,C.break&&VSe(r,a,ie,C.break)}y.push(ie),l.add(ie)});var T=Ge(y,function(C){return{label:C,priority:b_(C).break?C.z2+(M-x+1):C.z2,defaultAttr:{ignore:C.ignore}}});Ez(e,T,l,u)}function w$(i){return!!i.labelLayoutList}function Ez(i,e,t,n){i.labelLayoutList=e,i.labelGroup=t,i.axisLabelsCreationContext=n}function USe(i,e,t,n){var r=e.get(["axisLabel","margin"]);H(t,function(a,o){var s=df(a);if(s){var l=s.label,u=b_(l);s.suggestIgnore=l.ignore,l.ignore=!1,jE(sh,FSe),sh.x=e.axis.dataToCoord(u.tickValue),sh.y=i.labelOffset+i.labelDirection*r,sh.rotation=u.layoutRotation,n.add(sh),sh.updateTransform(),n.remove(sh),sh.decomposeTransform(),jE(l,sh),l.markRedraw(),bD(s,!0),df(s)}})}var sh=new dn,FSe=new dn;function $U(i){return!!i}function VSe(i,e,t,n){t.on("click",function(r){var a={type:cL,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};a[i.axis.dim+"AxisIndex"]=i.componentIndex,e.dispatchAction(a)})}function GSe(i,e,t){var n=qr();if(n){var r=n.retrieveAxisBreakPairs(t,function(o){return o&&b_(o.label).break},!0),a=i.get(["breakLabelLayout","moveOverlap"],!0);(a===!0||a==="auto")&&H(r,function(o){wM().adjustBreakLabelPair(i.axis.inverse,e,[df(t[o[0]]),df(t[o[1]])])})}}function AD(i,e,t){t=t||{};var n=e.axis,r={},a=n.getAxesOnZeroOf()[0],o=n.position,s=a?"onZero":o,l=n.dim,u=[i.x,i.x+i.width,i.y,i.y+i.height],c={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,h=l==="x"?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(a){var p=a.toGlobalCoord(a.dataToCoord(0));h[c.onZero]=Math.max(Math.min(p,h[1]),h[0])}r.position=[l==="y"?h[c[s]]:u[0],l==="x"?h[c[s]]:u[3]],r.rotation=Math.PI/2*(l==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=g[o],r.labelOffset=a?h[c[o]]-h[c.onZero]:0,e.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),Na(t.labelInside,e.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var y=e.get(["axisLabel","rotate"]);return r.labelRotate=s==="top"?-y:y,r.z2=1,r}function HSe(i){return i.coordinateSystem&&i.coordinateSystem.type==="cartesian2d"}function y6(i){var e={xAxisModel:null,yAxisModel:null};return H(e,function(t,n){var r=n.replace(/Model$/,""),a=i.getReferringComponents(r,lr).models[0];e[n]=a}),e}function WSe(i,e,t,n,r,a){for(var o=AD(i,t),s=!1,l=!1,u=0;u<e.length;u++)hz(e[u].getOtherAxis(t.axis).scale)&&(s=l=!0,t.axis.type==="category"&&t.axis.onBand&&(l=!1));return o.axisLineAutoShow=s,o.axisTickAutoShow=l,o.defaultNameMoveOverlap=a,new Jo(t,n,o,r)}function XSe(i,e,t){var n=AD(e,t);i.updateCfg(n)}function A$(i,e,t){var n=Oh.prototype,r=n.getTicks.call(t),a=n.getTicks.call(t,{expandToNicedExtent:!0}),o=r.length-1,s=n.getInterval.call(t),l=mK(i,e),u=l.extent,c=l.fixMin,f=l.fixMax;i.type==="log"&&(u=dz(i.base,u,!0)),i.setBreaksFromOption(_K(e)),i.setExtent(u[0],u[1]),i.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var h=n.getExtent.call(i);c&&(u[0]=h[0]),f&&(u[1]=h[1]);var p=n.getInterval.call(i),g=u[0],y=u[1];if(c&&f)p=(y-g)/o;else if(c)for(y=u[0]+p*o;y<u[1]&&isFinite(y)&&isFinite(u[1]);)p=f3(p),y=u[0]+p*o;else if(f)for(g=u[1]-p*o;g>u[0]&&isFinite(g)&&isFinite(u[0]);)p=f3(p),g=u[1]-p*o;else{var _=i.getTicks().length-1;_>o&&(p=f3(p));var x=p*o;y=Math.ceil(u[1]/p)*p,g=Pr(y-x),g<0&&u[0]>=0?(g=0,y=Pr(x)):y>0&&u[1]<=0&&(y=0,g=-Pr(x))}var M=(r[0].value-a[0].value)/s,T=(r[o].value-a[o].value)/s;n.setExtent.call(i,g+p*M,y+p*T),n.setInterval.call(i,p),(M||T)&&n.setNiceExtent.call(i,g+p,y-p)}var _6=[[3,1],[0,2]],YSe=(function(){function i(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Cz,this._initCartesian(e,t,n),this.model=e}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model);function r(o){var s,l=An(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var h=+l[f],p=o[h],g=p.model,y=p.scale;hz(y)&&g.get("alignTicks")&&g.get("interval")==null?c.push(p):(sm(y,g),hz(y)&&(s=p))}c.length&&(s||(s=c.pop(),sm(s.scale,s.model)),H(c,function(_){A$(_.scale,_.model,s.scale)}))}}r(n.x),r(n.y);var a={};H(n.x,function(o){x6(n,"y",o,a)}),H(n.y,function(o){x6(n,"x",o,a)}),this.resize(this.model,t)},i.prototype.resize=function(e,t,n){var r=ca(e,t),a=this._rect=Ui(e.getBoxLayoutParams(),r.refContainer),o=this._axesMap,s=this._coordsList,l=e.get("containLabel");if(Dz(o,a),!n){var u=jSe(a,s,o,l,t),c=void 0;if(l)Rz?(Rz(this._axesList,a),Dz(o,a)):c=M6(a.clone(),"axisLabel",null,a,o,u,r);else{var f=KSe(e,a,r),h=f.outerBoundsRect,p=f.parsedOuterBoundsContain,g=f.outerBoundsClamp;h&&(c=M6(h,p,g,a,o,u,r))}C$(a,o,Yu.determine,null,c,r)}H(this._coordsList,function(y){y.calcAffineTransform()})},i.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(n!=null)return n[t||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var n="x"+e+"y"+t;return this._coordsMap[n]}zt(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,a=this._coordsList;r<a.length;r++)if(a[r].getAxis("x").index===e||a[r].getAxis("y").index===t)return a[r]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},i.prototype.convertFromPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},i.prototype._findConvertTarget=function(e){var t=e.seriesModel,n=e.xAxisModel||t&&t.getReferringComponents("xAxis",lr).models[0],r=e.yAxisModel||t&&t.getReferringComponents("yAxis",lr).models[0],a=e.gridModel,o=this._coordsList,s,l;if(t)s=t.coordinateSystem,en(o,s)<0&&(s=null);else if(n&&r)s=this.getCartesian(n.componentIndex,r.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},i.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},i.prototype._initCartesian=function(e,t,n){var r=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,H(s.x,function(c,f){H(s.y,function(h,p){var g="x"+f+"y"+p,y=new MSe(g);y.master=r,y.model=e,r._coordsMap[g]=y,r._coordsList.push(y),y.addAxis(c),y.addAxis(h)})});function u(c){return function(f,h){if(C3(f,e)){var p=f.get("position");c==="x"?p!=="top"&&p!=="bottom"&&(p=o.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=o.left?"right":"left"),o[p]=!0;var g=new g$(c,xM(f),[0,0],f.get("type"),p),y=g.type==="category";g.onBand=y&&f.get("boundaryGap"),g.inverse=f.get("inverse"),f.axis=g,g.model=f,g.grid=a,g.index=h,a._axesList.push(g),s[c][h]=g,l[c]++}}}},i.prototype._updateScale=function(e,t){H(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var a=r.model.get("categorySortInfo");r.scale.setSortInfo(a)}}),e.eachSeries(function(r){if(HSe(r)){var a=y6(r),o=a.xAxisModel,s=a.yAxisModel;if(!C3(o,t)||!C3(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=r.getData(),c=l.getAxis("x"),f=l.getAxis("y");n(u,c),n(u,f)}},this);function n(r,a){H(mD(r,a.dim),function(o){a.scale.unionExtentFromData(r,o)})}},i.prototype.getTooltipAxes=function(e){var t=[],n=[];return H(this.getCartesians(),function(r){var a=e!=null&&e!=="auto"?r.getAxis(e):r.getBaseAxis(),o=r.getOtherAxis(a);en(t,a)<0&&t.push(a),en(n,o)<0&&n.push(o)}),{baseAxes:t,otherAxes:n}},i.create=function(e,t){var n=[];return e.eachComponent("grid",function(r,a){var o=new i(r,e,t);o.name="grid_"+a,o.resize(r,t,!0),r.coordinateSystem=o,n.push(o)}),e.eachSeries(function(r){yM({targetModel:r,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var o=y6(r),s=o.xAxisModel,l=o.yAxisModel,u=s.getCoordSysModel(),c=u.coordinateSystem;return c.getCartesian(s.componentIndex,l.componentIndex)}}),n},i.dimensions=Cz,i})();function C3(i,e){return i.getCoordSysModel()===e}function x6(i,e,t,n){t.getAxesOnZeroOf=function(){return a?[a]:[]};var r=i[e],a,o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)S6(r[l])&&(a=r[l]);else for(var u in r)if(r.hasOwnProperty(u)&&S6(r[u])&&!n[c(r[u])]){a=r[u];break}a&&(n[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function S6(i){return i&&i.type!=="category"&&i.type!=="time"&&k0e(i)}function qSe(i,e){var t=i.getExtent(),n=t[0]+t[1];i.toGlobalCoord=i.dim==="x"?function(r){return r+e}:function(r){return n-r+e},i.toLocalCoord=i.dim==="x"?function(r){return r-e}:function(r){return n-r+e}}function Dz(i,e){H(i.x,function(t){return b6(t,e.x,e.width)}),H(i.y,function(t){return b6(t,e.y,e.height)})}function b6(i,e,t){var n=[0,t],r=i.inverse?1:0;i.setExtent(n[r],n[1-r]),qSe(i,e)}var Rz;function ZSe(i){Rz=i}function M6(i,e,t,n,r,a,o){C$(n,r,Yu.estimate,e,!1,o);var s=[0,0,0,0];u(0),u(1),c(n,0,NaN),c(n,1,NaN);var l=Lp(s,function(h){return h>0})==null;return rm(n,s,!0,!0,t),Dz(r,n),l;function u(h){H(r[Zt[h]],function(p){if(O1(p.model)){var g=a.ensureRecord(p.model),y=g.labelInfoList;if(y)for(var _=0;_<y.length;_++){var x=y[_],M=p.scale.normalize(b_(x.label).tickValue);M=h===1?1-M:M,c(x.rect,h,M),c(x.rect,1-h,NaN)}var T=g.nameLayout;if(T){var M=__(g.nameLocation)?.5:NaN;c(T.rect,h,M),c(T.rect,1-h,NaN)}}})}function c(h,p,g){var y=i[Zt[p]]-h[Zt[p]],_=h[Zr[p]]+h[Zt[p]]-(i[Zr[p]]+i[Zt[p]]);y=f(y,1-g),_=f(_,g);var x=_6[p][0],M=_6[p][1];s[x]=Ir(s[x],y),s[M]=Ir(s[M],_)}function f(h,p){return h>0&&!Ja(p)&&p>1e-4&&(h/=p),h}}function jSe(i,e,t,n,r){var a=new x$($Se);return H(t,function(o){return H(o,function(s){if(O1(s.model)){var l=!n;s.axisBuilder=WSe(i,e,s.model,r,a,l)}})}),a}function C$(i,e,t,n,r,a){var o=t===Yu.determine;H(e,function(u){return H(u,function(c){O1(c.model)&&(XSe(c.axisBuilder,i,c.model),c.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:r}))})});var s={x:0,y:0};l(0),l(1);function l(u){s[Zt[1-u]]=i[Zr[u]]<=a.refContainer[Zr[u]]*.5?0:1-u===1?2:1}H(e,function(u,c){return H(u,function(f){O1(f.model)&&((n==="all"||o)&&f.axisBuilder.build({axisName:!0},{nameMarginLevel:s[c]}),o&&f.axisBuilder.build({axisLine:!0}))})})}function KSe(i,e,t){var n,r=i.get("outerBoundsMode",!0);r==="same"?n=e.clone():(r==null||r==="auto")&&(n=Ui(i.get("outerBounds",!0)||d$,t.refContainer));var a=i.get("outerBoundsContain",!0),o;a==null||a==="auto"||en(["all","axisLabel"],a)<0?o="all":o=a;var s=[$E(bt(i.get("outerBoundsClampWidth",!0),wD[0]),e.width),$E(bt(i.get("outerBoundsClampHeight",!0),wD[1]),e.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:o,outerBoundsClamp:s}}var $Se=function(i,e,t,n,r,a){var o=t.axis.dim==="x"?"y":"x";S$(i,e,t,n,r,a),__(i.nameLocation)||H(e.recordMap[o],function(s){s&&s.labelInfoList&&s.dirVec&&M$(s.labelInfoList,s.dirVec,n,r)})};function QSe(i,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return JSe(t,i,e),t.seriesInvolved&&tbe(t,i),t}function JSe(i,e,t){var n=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),a=r.get("link",!0)||[],o=[];H(t.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=U1(s.model),u=i.coordSysAxesInfo[l]={};i.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",n);if(H(s.getAxes(),Qt(y,!1,null)),s.getTooltipAxes&&n&&f.get("show")){var h=f.get("trigger")==="axis",p=f.get(["axisPointer","type"])==="cross",g=s.getTooltipAxes(f.get(["axisPointer","axis"]));(h||p)&&H(g.baseAxes,Qt(y,p?"cross":!0,h)),p&&H(g.otherAxes,Qt(y,"cross",!1))}function y(_,x,M){var T=M.model.getModel("axisPointer",r),C=T.get("show");if(!(!C||C==="auto"&&!_&&!Lz(T))){x==null&&(x=T.get("triggerTooltip")),T=_?ebe(M,f,r,e,_,x):T;var E=T.get("snap"),D=T.get("triggerEmphasis"),L=U1(M.model),z=x||E||M.type==="category",P=i.axesInfo[L]={key:L,axis:M,coordSys:s,axisPointerModel:T,triggerTooltip:x,triggerEmphasis:D,involveSeries:z,snap:E,useHandle:Lz(T),seriesModels:[],linkGroup:null};u[L]=P,i.seriesInvolved=i.seriesInvolved||z;var N=nbe(a,M);if(N!=null){var B=o[N]||(o[N]={axesInfo:{}});B.axesInfo[L]=P,B.mapper=a[N].mapper,P.linkGroup=B}}}})}function ebe(i,e,t,n,r,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};H(s,function(h){l[h]=Lt(o.get(h))}),l.snap=i.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),r==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=o.get("crossStyle");f&&Ot(u,f.textStyle)}}return i.model.getModel("axisPointer",new Sn(l,t,n))}function tbe(i,e){e.eachSeries(function(t){var n=t.coordinateSystem,r=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!n||!n.model||r==="none"||r===!1||r==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||H(i.coordSysAxesInfo[U1(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function nbe(i,e){for(var t=e.model,n=e.dim,r=0;r<i.length;r++){var a=i[r]||{};if(E3(a[n+"AxisId"],t.id)||E3(a[n+"AxisIndex"],t.componentIndex)||E3(a[n+"AxisName"],t.name))return r}}function E3(i,e){return i==="all"||ze(i)&&en(i,e)>=0||i===e}function ibe(i){var e=QU(i);if(e){var t=e.axisPointerModel,n=e.axis.scale,r=t.option,a=t.get("status"),o=t.get("value");o!=null&&(o=n.parse(o));var s=Lz(t);a==null&&(r.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),r.value=o,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function QU(i){var e=(i.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[U1(i)]}function rbe(i){var e=QU(i);return e&&e.axisPointerModel}function Lz(i){return!!i.get(["handle","show"])}function U1(i){return i.type+"||"+i.id}var T6={},xm=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r,a){this.axisPointerClass&&ibe(t),i.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},e.prototype.updateAxisPointer=function(t,n,r,a){this._doUpdateAxisPointerClass(t,r,!1)},e.prototype.remove=function(t,n){var r=this._axisPointer;r&&r.remove(n)},e.prototype.dispose=function(t,n){this._disposeAxisPointer(n),i.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,r){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=rbe(t);o?(this._axisPointer||(this._axisPointer=new a)).render(t,o,n,r):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,n){T6[t]=n},e.getAxisPointerClass=function(t){return t&&T6[t]},e.type="axis",e})(Ti),Iz=yn();function E$(i,e,t,n){var r=t.axis;if(!r.scale.isBlank()){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var c=s.length,f=Iz(i).splitAreaColors,h=St(),p=0;if(f)for(var g=0;g<u.length;g++){var y=f.get(u[g].tickValue);if(y!=null){p=(y+(c-1)*g)%c;break}}var _=r.toGlobalCoord(u[0].coord),x=o.getAreaStyle();s=ze(s)?s:[s];for(var g=1;g<u.length;g++){var M=r.toGlobalCoord(u[g].coord),T=void 0,C=void 0,E=void 0,D=void 0;r.isHorizontal()?(T=_,C=l.y,E=M-T,D=l.height,_=T+E):(T=l.x,C=_,E=l.width,D=M-C,_=C+D);var L=u[g-1].tickValue;L!=null&&h.set(L,p),e.add(new dn({anid:L!=null?"area_"+L:null,shape:{x:T,y:C,width:E,height:D},style:Ot({fill:s[p]},x),autoBatch:!0,silent:!0})),p=(p+1)%c}Iz(i).splitAreaColors=h}}}function D$(i){Iz(i).splitAreaColors=null}var abe=["splitArea","splitLine","minorSplitLine","breakArea"],R$=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,n,r,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new It,this.group.add(this._axisGroup),!!O1(t)){this._axisGroup.add(t.axis.axisBuilder.group),H(abe,function(l){t.get([l,"show"])&&obe[l](this,this._axisGroup,t,t.getCoordSysModel(),r)},this);var s=a&&a.type==="changeAxisOrder"&&a.isInitSort;s||gM(o,this._axisGroup,t),i.prototype.render.call(this,t,n,r,a)}},e.prototype.remove=function(){D$(this)},e.type="cartesianAxis",e})(xm),obe={splitLine:function(i,e,t,n,r){var a=t.axis;if(!a.scale.isBlank()){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=o.get("showMinLine")!==!1,c=o.get("showMaxLine")!==!1;l=ze(l)?l:[l];for(var f=n.coordinateSystem.getRect(),h=a.isHorizontal(),p=0,g=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),y=[],_=[],x=s.getLineStyle(),M=0;M<g.length;M++){var T=a.toGlobalCoord(g[M].coord);if(!(M===0&&!u||M===g.length-1&&!c)){var C=g[M].tickValue;h?(y[0]=T,y[1]=f.y,_[0]=T,_[1]=f.y+f.height):(y[0]=f.x,y[1]=T,_[0]=f.x+f.width,_[1]=T);var E=p++%l.length,D=new Nr({anid:C!=null?"line_"+C:null,autoBatch:!0,shape:{x1:y[0],y1:y[1],x2:_[0],y2:_[1]},style:Ot({stroke:l[E]},x),silent:!0});v_(D.shape,x.lineWidth),e.add(D)}}}},minorSplitLine:function(i,e,t,n,r){var a=t.axis,o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=n.coordinateSystem.getRect(),u=a.isHorizontal(),c=a.getMinorTicksCoords();if(c.length)for(var f=[],h=[],p=s.getLineStyle(),g=0;g<c.length;g++)for(var y=0;y<c[g].length;y++){var _=a.toGlobalCoord(c[g][y].coord);u?(f[0]=_,f[1]=l.y,h[0]=_,h[1]=l.y+l.height):(f[0]=l.x,f[1]=_,h[0]=l.x+l.width,h[1]=_);var x=new Nr({anid:"minor_line_"+c[g][y].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:p,silent:!0});v_(x.shape,p.lineWidth),e.add(x)}},splitArea:function(i,e,t,n,r){E$(i,e,t,n)},breakArea:function(i,e,t,n,r){var a=wM(),o=t.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(e,i,t,n.coordinateSystem.getRect(),r)}},L$=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e})(R$),sbe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=L$.type,t}return e.type="yAxis",e})(R$),lbe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new dn({shape:t.coordinateSystem.getRect(),style:Ot({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(Ti),w6={offset:0};function I$(i){i.registerComponentView(lbe),i.registerComponentModel(gSe),i.registerCoordinateSystem("cartesian2d",YSe),S_(i,"x",wz,w6),S_(i,"y",wz,w6),i.registerComponentView(L$),i.registerComponentView(sbe),i.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function ube(i,e){var t=i.coordinateSystem,n=t&&t.type,r=t&&t.getBaseAxis&&t.getBaseAxis(),a=r&&r.scale&&r.scale.type,o=n==="cartesian2d"&&a==="ordinal"||n==="single",s=e.model.get("jitter")>0;return o&&s}var cbe=yn();function A6(i,e,t,n){if(i instanceof g$){var r=i.scale.type;if(r!=="category"&&r!=="ordinal")return t}var a=i.model,o=a.get("jitter"),s=a.get("jitterOverlap"),l=a.get("jitterMargin")||0,u=i.scale.type==="ordinal"?i.getBandWidth():null;return o>0?s?P$(t,o,u,n):fbe(i,e,t,n,o,l):t}function P$(i,e,t,n){if(t===null)return i+(Math.random()-.5)*e;var r=t-n*2,a=Math.min(Math.max(0,e),r);return i+(Math.random()-.5)*a}function fbe(i,e,t,n,r,a){var o=cbe(i);o.items||(o.items=[]);var s=o.items,l=C6(s,e,t,n,r,a,1),u=C6(s,e,t,n,r,a,-1),c=Math.abs(l-t)<Math.abs(u-t)?l:u,f=i.scale.type==="ordinal"?i.getBandWidth():null,h=Math.abs(c-t);return h>r/2||f&&h>f/2-n?P$(t,r,f,n):(s.push({fixedCoord:e,floatCoord:c,r:n}),c)}function C6(i,e,t,n,r,a,o){for(var s=t,l=0;l<i.length;l++){var u=i[l],c=e-u.fixedCoord,f=s-u.floatCoord,h=c*c+f*f,p=n+u.r+a;if(h<p*p){var g=u.floatCoord+Math.sqrt(p*p-c*c)*o;if(Math.abs(g-t)>r/2)return Number.MAX_VALUE;if(o===1&&g>s||o===-1&&g<s){s=g,l=-1;continue}}}return s}function hbe(i){i.eachSeriesByType("scatter",function(e){var t=e.coordinateSystem;if(t&&(t.type==="cartesian2d"||t.type==="single")){var n=t.getBaseAxis?t.getBaseAxis():null,r=n&&ube(e,n);if(r){var a=e.getData();a.each(function(o){var s=n.dim,l=n.orient,u=l==="horizontal"&&n.type!=="category"||l==="vertical"&&n.type==="category",c=a.getItemLayout(o),f=a.getItemVisual(o,"symbolSize"),h=f instanceof Array?(f[1]+f[0])/2:f;if(s==="y"||s==="single"&&u){var p=A6(n,c[0],c[1],h/2);a.setItemLayout(o,[c[0],p])}else if(s==="x"||s==="single"&&!u){var p=A6(n,c[1],c[0],h/2);a.setItemLayout(o,[p,c[1]])}})}}})}function dbe(i){sn(I$),i.registerSeriesModel(fSe),i.registerChartView(vSe),i.registerLayout(TM("scatter"))}function pbe(i){i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,hbe)}function vbe(i){i.eachSeriesByType("radar",function(e){var t=e.getData(),n=[],r=e.coordinateSystem;if(r){var a=r.getIndicatorAxes();H(a,function(o,s){t.each(t.mapDimension(a[s].dim),function(l,u){n[u]=n[u]||[];var c=r.dataToPoint(l,s);n[u][s]=E6(c)?c:D6(r)})}),t.each(function(o){var s=Lp(n[o],function(l){return E6(l)})||D6(r);n[o].push(s.slice()),t.setItemLayout(o,n[o])})}})}function E6(i){return!isNaN(i[0])&&!isNaN(i[1])}function D6(i){return[i.cx,i.cy]}function gbe(i){var e=i.polar;if(e){ze(e)||(e=[e]);var t=[];H(e,function(n,r){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),i.radar=i.radar||[],ze(i.radar)||(i.radar=[i.radar]),i.radar.push(n)):t.push(n)}),i.polar=t}H(i.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var mbe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){var a=t.coordinateSystem,o=this.group,s=t.getData(),l=this._data;function u(h,p){var g=h.getItemVisual(p,"symbol")||"circle";if(g!=="none"){var y=Y_(h.getItemVisual(p,"symbolSize")),_=Or(g,-1,-1,2,2),x=h.getItemVisual(p,"symbolRotate")||0;return _.attr({style:{strokeNoScale:!0},z2:100,scaleX:y[0]/2,scaleY:y[1]/2,rotation:x*Math.PI/180||0}),_}}function c(h,p,g,y,_,x){g.removeAll();for(var M=0;M<p.length-1;M++){var T=u(y,_);T&&(T.__dimIdx=M,h[M]?(T.setPosition(h[M]),gm[x?"initProps":"updateProps"](T,{x:p[M][0],y:p[M][1]},t,_)):T.setPosition(p[M]),g.add(T))}}function f(h){return Ge(h,function(p){return[a.cx,a.cy]})}s.diff(l).add(function(h){var p=s.getItemLayout(h);if(p){var g=new ro,y=new Ba,_={shape:{points:p}};g.shape.points=f(p),y.shape.points=f(p),Li(g,_,t,h),Li(y,_,t,h);var x=new It,M=new It;x.add(y),x.add(g),x.add(M),c(y.shape.points,p,M,s,h,!0),s.setItemGraphicEl(h,x)}}).update(function(h,p){var g=l.getItemGraphicEl(p),y=g.childAt(0),_=g.childAt(1),x=g.childAt(2),M={shape:{points:s.getItemLayout(h)}};M.shape.points&&(c(y.shape.points,M.shape.points,x,s,h,!1),$l(_),$l(y),Gn(y,M,t),Gn(_,M,t),s.setItemGraphicEl(h,g))}).remove(function(h){o.remove(l.getItemGraphicEl(h))}).execute(),s.eachItemGraphicEl(function(h,p){var g=s.getItemModel(p),y=h.childAt(0),_=h.childAt(1),x=h.childAt(2),M=s.getItemVisual(p,"style"),T=M.fill;o.add(h),y.useStyle(Ot(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:T})),la(y,g,"lineStyle"),la(_,g,"areaStyle");var C=g.getModel("areaStyle"),E=C.isEmpty()&&C.parentModel.isEmpty();_.ignore=E,H(["emphasis","select","blur"],function(L){var z=g.getModel([L,"areaStyle"]),P=z.isEmpty()&&z.parentModel.isEmpty();_.ensureState(L).ignore=P&&E;var N=g.getModel([L,"lineStyle"]).getLineStyle();y.ensureState(L).style=N;var B=z.getAreaStyle();_.ensureState(L).style=B;var G=g.getModel([L,"itemStyle"]).getItemStyle();x.eachChild(function(U){U.ensureState(L).style=Lt(G)})}),_.useStyle(Ot(g.getModel("areaStyle").getAreaStyle(),{fill:T,opacity:.7,decal:M.decal}));var D=g.getModel("emphasis");x.eachChild(function(L){if(L instanceof Ta){var z=L.style;L.useStyle(Ce({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},M))}else L.useStyle(M),L.setColor(T),L.style.strokeNoScale=!0;var P=s.getStore().get(s.getDimensionIndex(L.__dimIdx),p);(P==null||isNaN(P))&&(P=""),Ma(L,ua(g),{labelFetcher:s.hostModel,labelDataIndex:p,labelDimIndex:L.__dimIdx,defaultText:P,inheritColor:T,defaultOpacity:M.opacity})}),Hi(h,D.get("focus"),D.get("blurScope"),D.get("disabled"))}),this._data=s},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e})(fi),ybe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new Q_(at(this.getData,this),at(this.getRawData,this))},e.prototype.getInitialData=function(t,n){return $_(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,n,r){var a=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,c=dj(this,t);return Kr("section",{header:u,sortBlocks:!0,blocks:Ge(s,function(f){var h=a.get(a.mapDimension(f.dim),t);return Kr("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:h,sortParam:h})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var n=this.getData(),r=this.coordinateSystem,a=n.getValues(Ge(r.dimensions,function(u){return n.mapDimension(u)}),t),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var l=r.getIndicatorAxes();return r.coordToPoint(l[o].dataToCoord(a[o]),o)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e})(vi),ib=v$.value;function ZA(i,e){return Ot({show:e},i)}var _be=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),n=this.get("splitNumber"),r=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),h=this.get("triggerEvent"),p=Ge(this.get("indicator")||[],function(g){g.max!=null&&g.max>0&&!g.min?g.min=0:g.min!=null&&g.min<0&&!g.max&&(g.max=0);var y=l;g.color!=null&&(y=Ot({color:g.color},l));var _=nn(Lt(g),{boundaryGap:t,splitNumber:n,scale:r,axisLine:a,axisTick:o,axisLabel:s,name:g.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:y,triggerEvent:h},!1);if(rt(c)){var x=_.name;_.name=c.replace("{value}",x??"")}else Ct(c)&&(_.name=c(_.name,_));var M=new Sn(_,null,this.ecModel);return Sr(M,j_.prototype),M.mainType="radar",M.componentIndex=this.componentIndex,M},this);this._indicatorModels=p},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:ge.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:nn({lineStyle:{color:ge.color.neutral20}},ib.axisLine),axisLabel:ZA(ib.axisLabel,!1),axisTick:ZA(ib.axisTick,!1),splitLine:ZA(ib.splitLine,!0),splitArea:ZA(ib.splitArea,!0),indicator:[]},e})(mn),xbe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){var a=this.group;a.removeAll(),this._buildAxes(t,r),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t,n){var r=t.coordinateSystem,a=r.getIndicatorAxes(),o=Ge(a,function(s){var l=s.model.get("showName")?s.name:"",u=new Jo(s.model,n,{axisName:l,position:[r.cx,r.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});H(o,function(s){s.build(),this.group.add(s.group)},this)},e.prototype._buildSplitLineAndArea=function(t){var n=t.coordinateSystem,r=n.getIndicatorAxes();if(!r.length)return;var a=t.get("shape"),o=t.getModel("splitLine"),s=t.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),f=s.get("show"),h=l.get("color"),p=u.get("color"),g=ze(h)?h:[h],y=ze(p)?p:[p],_=[],x=[];function M(q,V,j){var K=j%V.length;return q[K]=q[K]||[],K}if(a==="circle")for(var T=r[0].getTicksCoords(),C=n.cx,E=n.cy,D=0;D<T.length;D++){if(c){var L=M(_,g,D);_[L].push(new mf({shape:{cx:C,cy:E,r:T[D].coord}}))}if(f&&D<T.length-1){var L=M(x,y,D);x[L].push(new z_({shape:{cx:C,cy:E,r0:T[D].coord,r:T[D+1].coord}}))}}else for(var z,P=Ge(r,function(q,V){var j=q.getTicksCoords();return z=z==null?j.length-1:Math.min(j.length-1,z),Ge(j,function(K){return n.coordToPoint(K.coord,V)})}),N=[],D=0;D<=z;D++){for(var B=[],G=0;G<r.length;G++)B.push(P[G][D]);if(B[0]&&B.push(B[0].slice()),c){var L=M(_,g,D);_[L].push(new Ba({shape:{points:B}}))}if(f&&N){var L=M(x,y,D-1);x[L].push(new ro({shape:{points:B.concat(N)}}))}N=B.slice().reverse()}var U=l.getLineStyle(),X=u.getAreaStyle();H(x,function(q,V){this.group.add(Xs(q,{style:Ot({stroke:"none",fill:y[V%y.length]},X),silent:!0}))},this),H(_,function(q,V){this.group.add(Xs(q,{style:Ot({fill:"none",stroke:g[V%g.length]},U),silent:!0}))},this)},e.type="radar",e})(Ti),Sbe=(function(i){fe(e,i);function e(t,n,r){var a=i.call(this,t,n,r)||this;return a.type="value",a.angle=0,a.name="",a}return e})(nu),bbe=(function(){function i(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=Ge(e.getIndicatorModels(),function(r,a){var o="indicator_"+a,s=new Sbe(o,new Oh);return s.name=r.get("name"),s.model=r,r.axis=s,this.dimensions.push(o),s},this),this.resize(e,n)}return i.prototype.getIndicatorAxes=function(){return this._indicatorAxes},i.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},i.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t],r=n.angle,a=this.cx+e*Math.cos(r),o=this.cy-e*Math.sin(r);return[a,o]},i.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=Math.sqrt(t*t+n*n);t/=r,n/=r;for(var a=Math.atan2(-n,t),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<o&&(s=c,l=u,o=f)}return[l,+(s&&s.coordToData(r))]},i.prototype.resize=function(e,t){var n=ca(e,t).refContainer,r=e.get("center"),a=Math.min(n.width,n.height)/2;this.cx=it(r[0],n.width)+n.x,this.cy=it(r[1],n.height)+n.y,this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");(rt(o)||Pn(o))&&(o=[0,o]),this.r0=it(o[0],a),this.r=it(o[1],a),H(this._indicatorAxes,function(s,l){s.setExtent(this.r0,this.r);var u=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),s.angle=u},this)},i.prototype.update=function(e,t){var n=this._indicatorAxes,r=this._model;H(n,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||e.getComponent("radar",s.get("radarIndex"))!==r)){var u=s.getData();H(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=r.get("splitNumber"),o=new Oh;o.setExtent(0,a),o.setInterval(1),H(n,function(s,l){A$(s.scale,s.model,o)})},i.prototype.convertToPixel=function(e,t,n){return console.warn("Not implemented."),null},i.prototype.convertFromPixel=function(e,t,n){return console.warn("Not implemented."),null},i.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},i.create=function(e,t){var n=[];return e.eachComponent("radar",function(r){var a=new i(r,e,t);n.push(a),r.coordinateSystem=a}),e.eachSeriesByType("radar",function(r){r.get("coordinateSystem")==="radar"&&(r.coordinateSystem=n[r.get("radarIndex")||0])}),n},i.dimensions=[],i})();function Mbe(i){i.registerCoordinateSystem("radar",bbe),i.registerComponentModel(_be),i.registerComponentView(xbe),i.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(n){t.setItemVisual(n,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function Tbe(i){sn(Mbe),i.registerChartView(mbe),i.registerSeriesModel(ybe),i.registerLayout(vbe),i.registerProcessor(K_("radar")),i.registerPreprocessor(gbe)}var JU=yn();function wbe(i,e,t){JU(i)[e]=t}function Abe(i,e,t){var n=JU(i),r=n[e];r===t&&(n[e]=null)}function R6(i,e){return!!JU(i)[e]}Ku({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},_r);var Cbe={axisPointer:1,tooltip:1,brush:1};function N$(i,e,t){var n=e.getComponentByElement(i.topTarget);if(!n||n===t||Cbe.hasOwnProperty(n.mainType))return!1;var r=n.coordinateSystem;if(!r||r.model===t)return!1;var a=am(n),o=am(t);return!((a.zlevel-o.zlevel||a.z-o.z)<=0)}var Sm=(function(i){fe(e,i);function e(t){var n=i.call(this)||this;n._zr=t;var r=at(n._mousedownHandler,n),a=at(n._mousemoveHandler,n),o=at(n._mouseupHandler,n),s=at(n._mousewheelHandler,n),l=at(n._pinchHandler,n);return n.enable=function(u,c){var f=c.zInfo,h=am(f.component),p=h.z,g=h.zlevel,y={component:f.component,z:p,zlevel:g,z2:bt(f.z2,-1/0)},_=Ce({},c.triggerInfo);this._opt=Ot(Ce({},c),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:y,triggerInfo:_}),u==null&&(u=!0),(!this._enabled||this._controlType!==u)&&(this._enabled=!0,this.disable(),(u===!0||u==="move"||u==="pan")&&(ab(t,"mousedown",r,y),ab(t,"mousemove",a,y),ab(t,"mouseup",o,y)),(u===!0||u==="scale"||u==="zoom")&&(ab(t,"mousewheel",s,y),ab(t,"pinch",l,y)))},n.disable=function(){this._enabled=!1,ob(t,"mousedown",r),ob(t,"mousemove",a),ob(t,"mouseup",o),ob(t,"mousewheel",s),ob(t,"pinch",l)},n}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype._checkPointer=function(t,n,r){var a=this._opt,o=a.zInfoParsed;if(N$(t,a.api,o.component))return!1;var s=a.triggerInfo,l=s.roamTrigger,u=!1;return l==="global"&&(u=!0),u||(u=s.isInSelf(t,n,r)),u&&s.isInClip&&!s.isInClip(t,n,r)&&(u=!1),u},e.prototype._decideCursorStyle=function(t,n,r,a){var o=t.target;if(!o&&this._checkPointer(t,n,r))return"grab";if(a)return o&&o.cursor||"default"},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!($V(t)||rb(t))){for(var n=t.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var r=t.offsetX,a=t.offsetY;this._checkPointer(t,r,a)&&(this._x=r,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){var n=this._zr;if(!(t.gestureEvent==="pinch"||R6(n,"globalPan")||rb(t))){var r=t.offsetX,a=t.offsetY;if(!this._dragging||!zC("moveOnMouseMove",t,this._opt)){var o=this._decideCursorStyle(t,r,a,!1);o&&n.setCursorStyle(o);return}n.setCursorStyle("grabbing");var s=this._x,l=this._y,u=r-s,c=a-l;this._x=r,this._y=a,this._opt.preventDefaultMouseMove&&Rh(t.event),t.__ecRoamConsumed=!0,L6(this,"pan","moveOnMouseMove",t,{dx:u,dy:c,oldX:s,oldY:l,newX:r,newY:a,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){if(!rb(t)){var n=this._zr;if(!$V(t)){this._dragging=!1;var r=this._decideCursorStyle(t,t.offsetX,t.offsetY,!0);r&&n.setCursorStyle(r)}}},e.prototype._mousewheelHandler=function(t){if(!rb(t)){var n=zC("zoomOnMouseWheel",t,this._opt),r=zC("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,o=Math.abs(a),s=t.offsetX,l=t.offsetY;if(!(a===0||!n&&!r)){if(n){var u=o>3?1.4:o>1?1.2:1.1,c=a>0?u:1/u;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",t,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(r){var f=Math.abs(a),h=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:h,originX:s,originY:l,isAvailableBehavior:null})}}}},e.prototype._pinchHandler=function(t){if(!(R6(this._zr,"globalPan")||rb(t))){var n=t.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,t,{scale:n,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e.prototype._checkTriggerMoveZoom=function(t,n,r,a,o){t._checkPointer(a,o.originX,o.originY)&&(Rh(a.event),a.__ecRoamConsumed=!0,L6(t,n,r,a,o))},e})(eu);function rb(i){return i.__ecRoamConsumed}var Ebe=yn();function fL(i){var e=Ebe(i);return e.roam=e.roam||{},e.uniform=e.uniform||{},e}function ab(i,e,t,n){for(var r=fL(i),a=r.roam,o=a[e]=a[e]||[],s=0;s<o.length;s++){var l=o[s].zInfoParsed;if((l.zlevel-n.zlevel||l.z-n.z||l.z2-n.z2)<=0)break}o.splice(s,0,{listener:t,zInfoParsed:n}),Dbe(i,e)}function ob(i,e,t){for(var n=fL(i),r=n.roam[e]||[],a=0;a<r.length;a++)if(r[a].listener===t){r.splice(a,1),r.length||Rbe(i,e);return}}function Dbe(i,e){var t=fL(i);t.uniform[e]||i.on(e,t.uniform[e]=function(n){var r=t.roam[e];if(r)for(var a=0;a<r.length;a++)r[a].listener(n)})}function Rbe(i,e){var t=fL(i),n=t.uniform;n[e]&&(i.off(e,n[e]),n[e]=null)}function L6(i,e,t,n,r){r.isAvailableBehavior=at(zC,null,t,n),i.trigger(e,r)}function zC(i,e,t){var n=t[i];return!i||n&&(!rt(n)||e.event[n+"Key"])}function e2(i,e,t){var n=i.target;n.x+=e,n.y+=t,n.dirty()}function t2(i,e,t,n){var r=i.target,a=i.zoomLimit,o=i.zoom=i.zoom||1;o*=e,o=n2(o,a);var s=o/i.zoom;i.zoom=o,z$(r,t,n,s),r.dirty()}function O$(i,e,t,n,r,a){var o=new Ut(0,0,0,0);n.enable(i.get("roam"),{api:e,zInfo:{component:i},triggerInfo:{roamTrigger:i.get("roamTrigger"),isInSelf:function(u,c,f){return o.copy(t.getBoundingRect()),o.applyTransform(t.getComputedTransform()),o.contain(c,f)},isInClip:function(u,c,f){return!a||a.contain(c,f)}}}),r.zoomLimit=i.get("scaleLimit");var s=i.coordinateSystem;r.zoom=s?s.getZoom():1;var l=i.subType+"Roam";n.off("pan").off("zoom").on("pan",function(u){e2(r,u.dx,u.dy),e.dispatchAction({seriesId:i.id,type:l,dx:u.dx,dy:u.dy})}).on("zoom",function(u){t2(r,u.scale,u.originX,u.originY),e.dispatchAction({seriesId:i.id,type:l,zoom:u.scale,originX:u.originX,originY:u.originY}),e.updateLabelLayout()})}function I6(i,e){return i.pointToProjected?i.pointToProjected(e):i.pointToData(e)}function hL(i,e,t){var n=i.getZoom(),r=i.getCenter(),a=e.zoom,o=i.projectedToPoint?i.projectedToPoint(r):i.dataToPoint(r);return e.dx!=null&&e.dy!=null&&(o[0]-=e.dx,o[1]-=e.dy,i.setCenter(I6(i,o))),a!=null&&(a=n2(n*a,t)/n,z$(i,e.originX,e.originY,a),i.updateTransform(),i.setCenter(I6(i,o)),i.setZoom(a*n)),{center:i.getCenter(),zoom:i.getZoom()}}function z$(i,e,t,n){i.x-=(e-i.x)*(n-1),i.y-=(t-i.y)*(n-1),i.scaleX*=n,i.scaleY*=n}function n2(i,e){if(e){var t=e.min||0,n=e.max||1/0;i=Math.max(Math.min(n,i),t)}return i}function B$(i){if(rt(i)){var e=new DOMParser;i=e.parseFromString(i,"text/xml")}var t=i;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var D3,CD={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},P6=An(CD),ED={"alignment-baseline":"textBaseline","stop-color":"stopColor"},N6=An(ED),Lbe=(function(){function i(){this._defs={},this._root=null}return i.prototype.parse=function(e,t){t=t||{};var n=B$(e);this._defsUsePending=[];var r=new It;this._root=r;var a=[],o=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||t.width),l=parseFloat(n.getAttribute("height")||t.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),Fs(n,r,null,!0,!1);for(var u=n.firstChild;u;)this._parseNode(u,r,a,null,!1,!1),u=u.nextSibling;Nbe(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(o){var h=dL(o);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&s!=null&&l!=null&&(f=U$(c,{x:0,y:0,width:s,height:l}),!t.ignoreViewBox)){var p=r;r=new It,r.add(p),p.scaleX=p.scaleY=f.scale,p.x=f.x,p.y=f.y}return!t.ignoreRootClip&&s!=null&&l!=null&&r.setClipPath(new dn({shape:{x:0,y:0,width:s,height:l}})),{root:r,width:s,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},i.prototype._parseNode=function(e,t,n,r,a,o){var s=e.nodeName.toLowerCase(),l,u=r;if(s==="defs"&&(a=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=t;else{if(!a){var c=D3[s];if(c&&gt(D3,s)){l=c.call(this,e,t);var f=e.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:s,el:l};n.push(h),s==="g"&&(u=h)}else r&&n.push({name:r.name,namedFrom:r,svgNodeTagLower:s,el:l});t.add(l)}}var p=O6[s];if(p&&gt(O6,s)){var g=p.call(this,e),y=e.getAttribute("id");y&&(this._defs[y]=g)}}if(l&&l.isGroup)for(var _=e.firstChild;_;)_.nodeType===1?this._parseNode(_,l,n,u,a,o):_.nodeType===3&&o&&this._parseText(_,l),_=_.nextSibling},i.prototype._parseText=function(e,t){var n=new d_({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Ll(t,n),Fs(e,n,this._defsUsePending,!1,!1),Ibe(n,t);var r=n.style,a=r.fontSize;a&&a<9&&(r.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var o=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=o;var s=n.getBoundingRect();return this._textX+=s.width,t.add(n),n},i.internalField=(function(){D3={g:function(e,t){var n=new It;return Ll(t,n),Fs(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new dn;return Ll(t,n),Fs(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new mf;return Ll(t,n),Fs(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new Nr;return Ll(t,n),Fs(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new dM;return Ll(t,n),Fs(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n=e.getAttribute("points"),r;n&&(r=k6(n));var a=new ro({shape:{points:r||[]},silent:!0});return Ll(t,a),Fs(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,t){var n=e.getAttribute("points"),r;n&&(r=k6(n));var a=new Ba({shape:{points:r||[]},silent:!0});return Ll(t,a),Fs(e,a,this._defsUsePending,!1,!1),a},image:function(e,t){var n=new Ta;return Ll(t,n),Fs(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(r)+parseFloat(o);var s=new It;return Ll(t,s),Fs(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,t){var n=e.getAttribute("x"),r=e.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),r!=null&&(this._textY=parseFloat(r));var a=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0",s=new It;return Ll(t,s),Fs(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),s},path:function(e,t){var n=e.getAttribute("d")||"",r=tZ(n);return Ll(t,r),Fs(e,r,this._defsUsePending,!1,!1),r.silent=!0,r}}})(),i})(),O6={lineargradient:function(i){var e=parseInt(i.getAttribute("x1")||"0",10),t=parseInt(i.getAttribute("y1")||"0",10),n=parseInt(i.getAttribute("x2")||"10",10),r=parseInt(i.getAttribute("y2")||"0",10),a=new vm(e,t,n,r);return z6(i,a),B6(i,a),a},radialgradient:function(i){var e=parseInt(i.getAttribute("cx")||"0",10),t=parseInt(i.getAttribute("cy")||"0",10),n=parseInt(i.getAttribute("r")||"0",10),r=new Xk(e,t,n);return z6(i,r),B6(i,r),r}};function z6(i,e){var t=i.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function B6(i,e){for(var t=i.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var n=t.getAttribute("offset"),r=void 0;n&&n.indexOf("%")>0?r=parseInt(n,10)/100:n?r=parseFloat(n):r=0;var a={};k$(t,a,a);var o=a.stopColor||t.getAttribute("stop-color")||"#000000",s=a.stopOpacity||t.getAttribute("stop-opacity");if(s){var l=wo(o),u=l&&l[3];u&&(l[3]*=bh(s),o=Wl(l,"rgba"))}e.colorStops.push({offset:r,color:o})}t=t.nextSibling}}function Ll(i,e){i&&i.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Ot(e.__inheritedStyle,i.__inheritedStyle))}function k6(i){for(var e=dL(i),t=[],n=0;n<e.length;n+=2){var r=parseFloat(e[n]),a=parseFloat(e[n+1]);t.push([r,a])}return t}function Fs(i,e,t,n,r){var a=e,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};i.nodeType===1&&(Bbe(i,e),k$(i,o,s),n||kbe(i,o,s)),a.style=a.style||{},o.fill!=null&&(a.style.fill=U6(a,"fill",o.fill,t)),o.stroke!=null&&(a.style.stroke=U6(a,"stroke",o.stroke,t)),H(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(a.style[l]=parseFloat(o[l]))}),H(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(a.style[l]=o[l])}),r&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=Ge(dL(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(a.invisible=!0),o.display==="none"&&(a.ignore=!0)}function Ibe(i,e){var t=e.__selfStyle;if(t){var n=t.textBaseline,r=n;!n||n==="auto"||n==="baseline"?r="alphabetic":n==="before-edge"||n==="text-before-edge"?r="top":n==="after-edge"||n==="text-after-edge"?r="bottom":(n==="central"||n==="mathematical")&&(r="middle"),i.style.textBaseline=r}var a=e.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&(o==="middle"&&(s="center"),i.style.textAlign=s)}}var Pbe=/^url\(\s*#(.*?)\)/;function U6(i,e,t,n){var r=t&&t.match(Pbe);if(r){var a=Zs(r[1]);n.push([i,e,a]);return}return t==="none"&&(t=null),t}function Nbe(i,e){for(var t=0;t<e.length;t++){var n=e[t];n[0].style[n[1]]=i[n[2]]}}var Obe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function dL(i){return i.match(Obe)||[]}var zbe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,R3=Math.PI/180;function Bbe(i,e){var t=i.getAttribute("transform");if(t){t=t.replace(/,/g," ");var n=[],r=null;t.replace(zbe,function(f,h,p){return n.push(h,p),""});for(var a=n.length-1;a>0;a-=2){var o=n[a],s=n[a-1],l=dL(o);switch(r=r||_a(),s){case"translate":Wu(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":UR(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Bh(r,r,-parseFloat(l[0])*R3,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*R3);Uu(r,[1,0,u,1,0,0],r);break;case"skewY":var c=Math.tan(parseFloat(l[0])*R3);Uu(r,[1,c,0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5]);break}}e.setLocalTransform(r)}}var F6=/([^\s:;]+)\s*:\s*([^:;]+)/g;function k$(i,e,t){var n=i.getAttribute("style");if(n){F6.lastIndex=0;for(var r;(r=F6.exec(n))!=null;){var a=r[1],o=gt(CD,a)?CD[a]:null;o&&(e[o]=r[2]);var s=gt(ED,a)?ED[a]:null;s&&(t[s]=r[2])}}}function kbe(i,e,t){for(var n=0;n<P6.length;n++){var r=P6[n],a=i.getAttribute(r);a!=null&&(e[CD[r]]=a)}for(var n=0;n<N6.length;n++){var r=N6[n],a=i.getAttribute(r);a!=null&&(t[ED[r]]=a)}}function U$(i,e){var t=e.width/i.width,n=e.height/i.height,r=Math.min(t,n);return{scale:r,x:-(i.x+i.width/2)*r+(e.x+e.width/2),y:-(i.y+i.height/2)*r+(e.y+e.height/2)}}function Ube(i,e){var t=new Lbe;return t.parse(i,e)}var Fbe=St(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Vbe=(function(){function i(e,t){this.type="geoSVG",this._usedGraphicMap=St(),this._freedGraphics=[],this._mapName=e,this._parsedXML=B$(t)}return i.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=Hbe(e.named),n=t.regions,r=t.regionsMap;this._regions=n,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},i.prototype._buildGraphic=function(e){var t,n;try{t=e&&Ube(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=t.root,no(n!=null)}catch(_){throw new Error(`Invalid svg format
`+_.message)}var r=new It;r.add(n),r.isGeoSVGGraphicRoot=!0;var a=t.width,o=t.height,s=t.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,h=void 0;if(a!=null?(u=0,f=a):s&&(u=s.x,f=s.width),o!=null?(c=0,h=o):s&&(c=s.y,h=s.height),u==null||c==null){var p=n.getBoundingRect();u==null&&(u=p.x,f=p.width),c==null&&(c=p.y,h=p.height)}l=this._boundingRect=new Ut(u,c,f,h)}if(s){var g=U$(s,l);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}r.setClipPath(new dn({shape:l.plain()}));var y=[];return H(t.named,function(_){Fbe.get(_.svgNodeTagLower)!=null&&(y.push(_),Gbe(_.el))}),{root:r,boundingRect:l,named:y}},i.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},i.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},i})();function Gbe(i){i.silent=!1,i.isGroup&&i.traverse(function(e){e.silent=!1})}function Hbe(i){var e=[],t=St();return H(i,function(n){if(n.namedFrom==null){var r=new K0e(n.name,n.el);e.push(r),t.set(n.name,r)}}),{regions:e,regionsMap:t}}var Pz=[126,25],V6="",dg=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var lg=0;lg<dg.length;lg++)for(var p0=0;p0<dg[lg].length;p0++)dg[lg][p0][0]/=10.5,dg[lg][p0][1]/=-10.5/.75,dg[lg][p0][0]+=Pz[0],dg[lg][p0][1]+=Pz[1];function Wbe(i,e){if(i==="china"){for(var t=0;t<e.length;t++)if(e[t].name===V6)return;e.push(new SK(V6,Ge(dg,function(n){return{type:"polygon",exterior:n}}),Pz))}}var Xbe={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function Ybe(i,e){if(i==="china"){var t=Xbe[e.name];if(t){var n=e.getCenter();n[0]+=t[0]/10.5,n[1]+=-t[1]/(10.5/.75),e.setCenter(n)}}}var qbe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Zbe(i,e){i==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:qbe[0]})}var jbe="name",Kbe=(function(){function i(e,t,n){this.type="geoJSON",this._parsedMap=St(),this._mapName=e,this._specialAreas=n,this._geoJSON=Qbe(t)}return i.prototype.load=function(e,t){t=t||jbe;var n=this._parsedMap.get(t);if(!n){var r=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:r,boundingRect:$be(r)})}var a=St(),o=[];return H(n.regions,function(s){var l=s.name;e&&gt(e,l)&&(s=s.cloneShallow(l=e[l])),o.push(s),a.set(l,s)}),{regions:o,boundingRect:n.boundingRect||new Ut(0,0,0,0),regionsMap:a}},i.prototype._parseToRegions=function(e){var t=this._mapName,n=this._geoJSON,r;try{r=n?gz(n,e):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return Wbe(t,r),H(r,function(a){var o=a.name;Ybe(t,a),Zbe(t,a);var s=this._specialAreas&&this._specialAreas[o];s&&a.transformTo(s.left,s.top,s.width,s.height)},this),r},i.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},i})();function $be(i){for(var e,t=0;t<i.length;t++){var n=i[t].getBoundingRect();e=e||n.clone(),e.union(n)}return e}function Qbe(i){return rt(i)?typeof JSON<"u"&&JSON.parse?JSON.parse(i):new Function("return ("+i+");")():i}var sb=St();const zh={registerMap:function(i,e,t){if(e.svg){var n=new Vbe(i,e.svg);sb.set(i,n)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?t=e.specialAreas:r=e;var n=new Kbe(i,r,t);sb.set(i,n)}},getGeoResource:function(i){return sb.get(i)},getMapForUser:function(i){var e=sb.get(i);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(i,e,t){var n=sb.get(i);if(n)return n.load(e,t)}};var i2=["rect","circle","line","ellipse","polygon","polyline","path"],Jbe=St(i2),e1e=St(i2.concat(["g"])),t1e=St(i2.concat(["g"])),F$=yn();function jA(i){var e=i.getItemStyle(),t=i.get("areaColor");return t!=null&&(e.fill=t),e}function G6(i){var e=i.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var V$=(function(){function i(e){var t=this.group=new It,n=this._transformGroup=new It;t.add(n),this.uid=V_("ec_map_draw"),this._controller=new Sm(e.getZr()),this._controllerHost={target:n},n.add(this._regionsGroup=new It),n.add(this._svgGroup=new It)}return i.prototype.draw=function(e,t,n,r,a){var o=e.mainType==="geo",s=e.getData&&e.getData();o&&t.eachComponent({mainType:"series",subType:"map"},function(T){!s&&T.getHostGeoModel()===e&&(s=T.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this._transformGroup,f=l.getTransformInfo(),h=f.raw,p=f.roam,g=!u.childAt(0)||a,y=e.getShallow("clip",!0),_;y?(_=l.getViewRect().clone(),this.group.setClipPath(new dn({shape:_.clone()}))):this.group.removeClipPath(),g?(c.x=p.x,c.y=p.y,c.scaleX=p.scaleX,c.scaleY=p.scaleY,c.dirty()):Gn(c,p,e);var x=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,M={api:n,geo:l,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:x,isGeo:o,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(M):l.resourceType==="geoSVG"&&this._buildSVG(M),this._updateController(e,_,t,n),this._updateMapSelectHandler(e,u,n,r)},i.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=St(),n=St(),r=this._regionsGroup,a=e.transformInfoRaw,o=e.mapOrGeoModel,s=e.data,l=e.geo.projection,u=l&&l.stream;function c(p,g){return g&&(p=g(p)),p&&[p[0]*a.scaleX+a.x,p[1]*a.scaleY+a.y]}function f(p){for(var g=[],y=!u&&l&&l.project,_=0;_<p.length;++_){var x=c(p[_],y);x&&g.push(x)}return g}function h(p){return{shape:{points:f(p)}}}r.removeAll(),H(e.geo.regions,function(p){var g=p.name,y=t.get(g),_=n.get(g)||{},x=_.dataIdx,M=_.regionModel;if(!y){y=t.set(g,new It),r.add(y),x=s?s.indexOfName(g):null,M=e.isGeo?o.getRegionModel(g):s?s.getItemModel(x):null;var T=M.get("silent",!0);T!=null&&(y.silent=T),n.set(g,{dataIdx:x,regionModel:M})}var C=[],E=[];H(p.geometries,function(z){if(z.type==="polygon"){var P=[z.exterior].concat(z.interiors||[]);u&&(P=Z6(P,u)),H(P,function(B){C.push(new ro(h(B)))})}else{var N=z.points;u&&(N=Z6(N,u,!0)),H(N,function(B){E.push(new Ba(h(B)))})}});var D=c(p.getCenter(),l&&l.project);function L(z,P){if(z.length){var N=new vM({culling:!0,segmentIgnoreThreshold:1,shape:{paths:z}});y.add(N),H6(e,N,x,M),W6(e,N,g,M,o,x,D),P&&(G6(N),H(N.states,G6))}}L(C),L(E,!0)}),t.each(function(p,g){var y=n.get(g),_=y.dataIdx,x=y.regionModel;X6(e,p,g,x,o,_),Y6(e,p,g,x,o),q6(e,p,g,x,o)},this)},i.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=St(),a=!1;H(this._svgGraphicRecord.named,function(o){var s=o.name,l=e.mapOrGeoModel,u=e.data,c=o.svgNodeTagLower,f=o.el,h=u?u.indexOfName(s):null,p=l.getRegionModel(s);Jbe.get(c)!=null&&f instanceof Kl&&H6(e,f,h,p),f instanceof Kl&&(f.culling=!0);var g=p.get("silent",!0);if(g!=null&&(f.silent=g),f.z2EmphasisLift=0,!o.namedFrom&&(t1e.get(c)!=null&&W6(e,f,s,p,l,h,null),X6(e,f,s,p,l,h),Y6(e,f,s,p,l),e1e.get(c)!=null)){var y=q6(e,f,s,p,l);y==="self"&&(a=!0);var _=r.get(s)||r.set(s,[]);_.push(f)}},this),this._enableBlurEntireSVG(a,e)},i.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),r=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){im(a);var o=a.ensureState("blur").style||{};o.opacity==null&&r!=null&&(o.opacity=r),a.ensureState("emphasis")}})}},i.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},i.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var n=t.coordinateSystem;if(n.resourceType==="geoJSON"){var r=this._regionsGroupByName;if(r){var a=r.get(e);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},i.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},i.prototype._useSVG=function(e){var t=zh.getGeoResource(e);if(t&&t.type==="geoSVG"){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},i.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=zh.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},i.prototype._updateController=function(e,t,n,r){var a=e.coordinateSystem,o=this._controller,s=this._controllerHost;s.zoomLimit=e.get("scaleLimit"),s.zoom=a.getZoom(),o.enable(e.get("roam")||!1,{api:r,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(c,f,h){return a.containPoint([f,h])},isInClip:function(c,f,h){return!t||t.contain(f,h)}}});var l=e.mainType;function u(){var c={type:"geoRoam",componentType:l};return c[l+"Id"]=e.id,c}o.off("pan").on("pan",function(c){this._mouseDownFlag=!1,e2(s,c.dx,c.dy),r.dispatchAction(Ce(u(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,t2(s,c.scale,c.originX,c.originY),r.dispatchAction(Ce(u(),{totalZoom:s.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this)},i.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=F$(t).ignore)})},i.prototype._updateMapSelectHandler=function(e,t,n,r){var a=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(o){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},i})();function H6(i,e,t,n){var r=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),o=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=jA(r),u=jA(a),c=jA(s),f=jA(o),h=i.data;if(h){var p=h.getItemVisual(t,"style"),g=h.getItemVisual(t,"decal");i.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),g&&(l.decal=m_(g,i.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=f,im(e)}function W6(i,e,t,n,r,a,o){var s=i.data,l=i.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),a)),c=s&&s.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?t:a,h=void 0;(!s||a>=0)&&(h=r);var p=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Ma(e,ua(n),{labelFetcher:h,labelDataIndex:f,defaultText:t},p);var g=e.getTextContent();if(g&&(F$(g).ignore=g.ignore,e.textConfig&&o)){var y=e.getBoundingRect().clone();e.textConfig.layoutRect=y,e.textConfig.position=[(o[0]-y.x)/y.width*100+"%",(o[1]-y.y)/y.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function X6(i,e,t,n,r,a){i.data?i.data.setItemGraphicEl(a,e):Ht(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:t,region:n&&n.option||{}}}function Y6(i,e,t,n,r){i.data||Uh({el:e,componentModel:r,itemName:t,itemTooltipOption:n.get("tooltip")})}function q6(i,e,t,n,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var a=n.getModel("emphasis"),o=a.get("focus");return Hi(e,o,a.get("blurScope"),a.get("disabled")),i.isGeo&&qpe(e,r,t),o}function Z6(i,e,t){var n=[],r;function a(){r=[]}function o(){r.length&&(n.push(r),r=[])}var s=e({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&r.push([l,u])},sphere:function(){}});return!t&&s.polygonStart(),H(i,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!t&&s.polygonEnd(),n}var n1e=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===t.id){var s=this._mapDraw;s&&o.add(s.group)}else if(t.needsDrawMap){var s=this._mapDraw||new V$(r);o.add(s.group),s.draw(t,n,r,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(t,n,r)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,n,r){var a=t.originalData,o=this.group;a.each(a.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,h=new mf({style:{fill:t.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:O_+1)});if(!f){var p=t.mainSeries.getData(),g=a.getName(l),y=p.indexOfName(g),_=a.getItemModel(l),x=_.getModel("label"),M=p.getItemGraphicEl(y);Ma(h,ua(_),{labelFetcher:{getFormattedLabel:function(T,C){return t.getFormattedLabel(y,C)}},defaultText:g}),h.disableLabelAnimation=!0,x.get("position")||h.setTextConfig({position:"bottom"}),M.onHoverStateChange=function(T){tD(h,T)}}o.add(h)}}})},e.type="map",e})(fi),i1e=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(n){if(n!=null){var r=this.getData().getName(n),a=this.coordinateSystem,o=a.getRegion(r);return o&&a.dataToPoint(o.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var n=$_(this,{coordDimensions:["value"],encodeDefaulter:Qt(pU,this)}),r=St(),a=[],o=0,s=n.count();o<s;o++){var l=n.getName(o);r.set(l,o)}var u=zh.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return H(u.regions,function(c){var f=c.name,h=r.get(f),p=c.properties&&c.properties.echartsStyle,g;h==null?(g={name:f},a.push(g)):g=n.getRawDataItem(h),p&&nn(g,p)}),n.appendData(a),n},e.prototype.getHostGeoModel=function(){if(RZ(this).kind!==Xc.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var n=this.getData();return n.get(n.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var n=this.getData();return n.getItemModel(n.indexOfName(t))},e.prototype.formatTooltip=function(t,n,r){for(var a=this.getData(),o=this.getRawValue(t),s=a.getName(t),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(s),h=a.mapDimension("value");isNaN(l[c].originalData.get(h,f))||u.push(l[c].name)}return Kr("section",{header:u.join(", "),noHeader:!u.length,blocks:[Kr("nameValue",{name:s,value:o})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var n=t.icon||"roundRect",r=Or(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return r.setStyle(t.itemStyle),r.style.stroke="none",n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill=ge.color.neutral00,r.style.lineWidth=2),r},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:ge.color.tertiary},itemStyle:{borderWidth:.5,borderColor:ge.color.border,areaColor:ge.color.background},emphasis:{label:{show:!0,color:ge.color.primary},itemStyle:{areaColor:ge.color.highlight}},select:{label:{show:!0,color:ge.color.primary},itemStyle:{color:ge.color.highlight}},nameProperty:"name"},e})(vi);function r1e(i,e){var t={};return H(i,function(n){n.each(n.mapDimension("value"),function(r,a){var o="ec-"+n.getName(a);t[o]=t[o]||[],isNaN(r)||t[o].push(r)})}),i[0].map(i[0].mapDimension("value"),function(n,r){for(var a="ec-"+i[0].getName(r),o=0,s=1/0,l=-1/0,u=t[a].length,c=0;c<u;c++)s=Math.min(s,t[a][c]),l=Math.max(l,t[a][c]),o+=t[a][c];var f;return e==="min"?f=s:e==="max"?f=l:e==="average"?f=o/u:f=o,u===0?NaN:f})}function a1e(i){var e={};i.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),r=n?"o"+n.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),H(e,function(t,n){for(var r=r1e(Ge(t,function(o){return o.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=a===0&&!t[a].getHostGeoModel(),t[a].setData(r.cloneShallow()),t[a].mainSeries=t[0]})}function o1e(i){var e={};i.eachSeriesByType("map",function(t){var n=t.getMapType();if(!(t.getHostGeoModel()||e[n])){var r={};H(t.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&i.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),h=s.getRegion(f);if(!(!h||isNaN(u))){var p=r[f]||0,g=s.dataToPoint(h.getCenter());r[f]=p+1,l.setItemLayout(c,{point:g,offset:p})}})});var a=t.getData();a.each(function(o){var s=a.getName(o),l=a.getItemLayout(o)||{};l.showLabel=!r[s],a.setItemLayout(o,l)}),e[n]=!0}})}var j6=xr,bm=(function(i){fe(e,i);function e(t,n){var r=i.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new _h,r._rawTransformable=new _h,r.name=t,r._opt=n,r}return e.prototype.setBoundingRect=function(t,n,r,a){return this._rect=new Ut(t,n,r,a),this._updateCenterAndZoom(),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,n,r,a){this._transformTo(t,n,r,a),this._viewRect=new Ut(t,n,r,a)},e.prototype._transformTo=function(t,n,r,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new Ut(t,n,r,a));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},e.prototype.setCenter=function(t){var n=this._opt;n&&n.api&&n.ecModel&&n.ecModel.getShallow("legacyViewCoordSysCenterBase")&&t&&(t=[it(t[0],n.api.getWidth()),it(t[1],n.api.getWidth())]),this._centerOption=Lt(t),this._updateCenterAndZoom()},e.prototype.setZoom=function(t){this._zoom=n2(t||1,this.zoomLimit),this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),n=t.x+t.width/2,r=t.y+t.height/2;return[n,r]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._centerOption,n=this._rect;t&&n&&(this._center=[it(t[0],n.width,n.x),it(t[1],n.height,n.y)]);var r=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,o=this.getDefaultCenter(),s=this.getCenter(),l=this.getZoom();s=xr([],s,r),o=xr([],o,r),a.originX=s[0],a.originY=s[1],a.x=o[0]-s[0],a.y=o[1]-s[1],a.scaleX=a.scaleY=l,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,n=this._rawTransformable;n.parent=t,t.updateTransform(),n.updateTransform(),cM(this.transform||(this.transform=[]),n.transform||_a()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],jl(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,n=this._roamTransformable,r=new _h;return r.transform=n.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,n,r){var a=n?this._rawTransform:this.transform;return r=r||[],a?j6(r,t,a):So(r,t)},e.prototype.pointToData=function(t,n,r){r=r||[];var a=this.invTransform;return a?j6(r,t,a):(r[0]=t[0],r[1]=t[1],r)},e.prototype.convertToPixel=function(t,n,r){var a=K6(n);return a===this?a.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,n,r){var a=K6(n);return a===this?a.pointToData(r):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e})(_h);function K6(i){var e=i.seriesModel;return e?e.coordinateSystem:null}var s1e={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},G$=["lng","lat"],Nz=(function(i){fe(e,i);function e(t,n,r){var a=i.call(this,t,{api:r.api,ecModel:r.ecModel})||this;a.dimensions=G$,a.type="geo",a._nameCoordMap=St(),a.map=n;var o=r.projection,s=zh.load(n,r.nameMap,r.nameProperty),l=zh.getGeoResource(n);a.resourceType=l?l.type:null;var u=a.regions=s.regions,c=s1e[l.type];a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o;var f;if(o)for(var h=0;h<u.length;h++){var p=u[h].getBoundingRect(o);f=f||p.clone(),f.union(p)}else f=s.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=o?1:bt(r.aspectScale,c.aspectScale),a._invertLongitute=o?!1:c.invertLongitute,a}return e.prototype._transformTo=function(t,n,r,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new Ut(t,n,r,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var n=this.regions,r=0;r<n.length;r++){var a=n[r];if(a.type==="geoJSON"&&a.contain(t))return n[r]}},e.prototype.addGeoCoord=function(t,n){this._nameCoordMap.set(t,n)},e.prototype.getGeoCoord=function(t){var n=this._regionsMap.get(t);return this._nameCoordMap.get(t)||n&&n.getCenter()},e.prototype.dataToPoint=function(t,n,r){if(rt(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,n,r)}},e.prototype.pointToData=function(t,n,r){var a=this.projection;return a&&(t=a.unproject(t)),t&&this.pointToProjected(t,r)},e.prototype.pointToProjected=function(t,n){return i.prototype.pointToData.call(this,t,0,n)},e.prototype.projectedToPoint=function(t,n,r){return i.prototype.dataToPoint.call(this,t,n,r)},e.prototype.convertToPixel=function(t,n,r){var a=$6(n);return a===this?a.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,n,r){var a=$6(n);return a===this?a.pointToData(r):null},e})(bm);Sr(Nz,bm);function $6(i){var e=i.geoModel,t=i.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",lr).models[0]||{}).coordinateSystem:null}function Q6(i,e){var t=i.get("boundingCoords");if(t!=null){var n=t[0],r=t[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])){var a=this.projection;if(a){var o=n[0],s=n[1],l=r[0],u=r[1];n=[1/0,1/0],r=[-1/0,-1/0];var c=function(E,D,L,z){for(var P=L-E,N=z-D,B=0;B<=100;B++){var G=B/100,U=a.project([E+P*G,D+N*G]);mh(n,n,U),yh(r,r,U)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(n[0],n[1],r[0]-n[0],r[1]-n[1])}}var f=this.getBoundingRect(),h=i.get("layoutCenter"),p=i.get("layoutSize"),g=ca(i,e).refContainer,y=f.width/f.height*this.aspectScale,_=!1,x,M;h&&p&&(x=[it(h[0],g.width)+g.x,it(h[1],g.height)+g.y],M=it(p,Math.min(g.width,g.height)),!isNaN(x[0])&&!isNaN(x[1])&&!isNaN(M)&&(_=!0));var T;if(_)T={},y>1?(T.width=M,T.height=M/y):(T.height=M,T.width=M*y),T.y=x[1]-T.height/2,T.x=x[0]-T.width/2;else{var C=i.getBoxLayoutParams();C.aspect=y,T=Ui(C,g),T=OZ(i,T,y)}this.setViewRect(T.x,T.y,T.width,T.height),this.setCenter(i.get("center")),this.setZoom(i.get("zoom"))}function l1e(i,e){H(e.get("geoCoord"),function(t,n){i.addGeoCoord(n,t)})}var u1e=(function(){function i(){this.dimensions=G$}return i.prototype.create=function(e,t){var n=[];function r(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}e.eachComponent("geo",function(o,s){var l=o.get("map"),u=new Nz(l+s,l,Ce({nameMap:o.get("nameMap"),api:t,ecModel:e},r(o)));u.zoomLimit=o.get("scaleLimit"),n.push(u),o.coordinateSystem=u,u.model=o,u.resize=Q6,u.resize(o,t)}),e.eachSeries(function(o){yM({targetModel:o,coordSysType:"geo",coordSysProvider:function(){var s=o.subType==="map"?o.getHostGeoModel():o.getReferringComponents("geo",lr).models[0];return s&&s.coordinateSystem},allowNotFound:!0})});var a={};return e.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();a[s]=a[s]||[],a[s].push(o)}}),H(a,function(o,s){var l=Ge(o,function(c){return c.get("nameMap")}),u=new Nz(s,s,Ce({nameMap:zR(l),api:t,ecModel:e},r(o[0])));u.zoomLimit=Na.apply(null,Ge(o,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=Q6,u.resize(o[0],t),H(o,function(c){c.coordinateSystem=u,l1e(u,c)})}),n},i.prototype.getFilledRegions=function(e,t,n,r){for(var a=(e||[]).slice(),o=St(),s=0;s<a.length;s++)o.set(a[s].name,a[s]);var l=zh.load(t,n,r);return H(l.regions,function(u){var c=u.name,f=o.get(c),h=u.properties&&u.properties.echartsStyle;f||(f={name:c},a.push(f)),h&&nn(f,h)}),a},i})(),H$=new u1e,c1e=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r);var a=zh.getGeoResource(t.map);if(a&&a.type==="geoJSON"){var o=t.itemStyle=t.itemStyle||{};"color"in o||(o.color=t.defaultItemStyleColor||ge.color.backgroundTint)}em(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,n=this.option;n.regions=H$.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var r={};this._optionModelMap=Zl(n.regions||[],function(a,o){var s=o.name;return s&&(a.set(s,new Sn(o,t,t.ecModel)),o.selected&&(r[s]=!0)),a},St()),n.selectedMap||(n.selectedMap=r)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Sn(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,n){var r=this.getRegionModel(t),a=n==="normal"?r.get(["label","formatter"]):r.get(["emphasis","label","formatter"]),o={name:t};if(Ct(a))return o.status=n,a(o);if(rt(a))return a.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var n=this.option,r=n.selectedMode;if(r){r!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[t]=!0}},e.prototype.unSelect=function(t){var n=this.option.selectedMap;n&&(n[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var n=this.option.selectedMap;return!!(n&&n[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:ge.color.tertiary},itemStyle:{borderWidth:.5,borderColor:ge.color.border},emphasis:{label:{show:!0,color:ge.color.primary},itemStyle:{color:ge.color.highlight}},select:{label:{show:!0,color:ge.color.primary},itemStyle:{color:ge.color.highlight}},regions:[]},e})(mn),f1e=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,n){this._api=n},e.prototype.render=function(t,n,r,a){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new V$(r));var o=this._mapDraw;o.draw(t,n,r,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=t.get("silent"),this.group.add(o.group),this.updateSelectStatus(t,n,r)},e.prototype._handleRegionClick=function(t){var n;Ig(t.target,function(r){return(n=Ht(r).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},e.prototype.updateSelectStatus=function(t,n,r){var a=this;this._mapDraw.group.traverse(function(o){var s=Ht(o).eventData;if(s)return a._model.isSelected(s.name)?r.enterSelect(o):r.leaveSelect(o),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e})(Ti);function h1e(i,e,t){zh.registerMap(i,e,t)}function W$(i){i.registerCoordinateSystem("geo",H$),i.registerComponentModel(c1e),i.registerComponentView(f1e),i.registerImpl("registerMap",h1e),i.registerImpl("getMap",function(t){return zh.getMapForUser(t)});function e(t,n){n.update="geo:updateSelectStatus",i.registerAction(n,function(r,a){var o={},s=[];return a.eachComponent({mainType:"geo",query:r},function(l){l[t](r.name);var u=l.coordinateSystem;H(u.regions,function(f){o[f.name]=l.isSelected(f.name)||!1});var c=[];H(o,function(f,h){o[h]&&c.push(h)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:r.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),i.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,n,r){var a=t.componentType;a||(t.geoId!=null?a="geo":t.seriesId!=null&&(a="series")),a||(a="series"),n.eachComponent({mainType:a,query:t},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=hL(s,t,o.get("scaleLimit"));o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),a==="series"&&H(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function d1e(i){sn(W$),i.registerChartView(n1e),i.registerSeriesModel(i1e),i.registerLayout(o1e),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,a1e),wj("map",i.registerAction)}function p1e(i){var e=i;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],n,r;n=t.pop();)if(r=n.children,n.isExpand&&r.length)for(var a=r.length,o=a-1;o>=0;o--){var s=r[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},t.push(s)}}function v1e(i,e){var t=i.isExpand?i.children:[],n=i.parentNode.children,r=i.hierNode.i?n[i.hierNode.i-1]:null;if(t.length){m1e(i);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;r?(i.hierNode.prelim=r.hierNode.prelim+e(i,r),i.hierNode.modifier=i.hierNode.prelim-a):i.hierNode.prelim=a}else r&&(i.hierNode.prelim=r.hierNode.prelim+e(i,r));i.parentNode.hierNode.defaultAncestor=y1e(i,r,i.parentNode.hierNode.defaultAncestor||n[0],e)}function g1e(i){var e=i.hierNode.prelim+i.parentNode.hierNode.modifier;i.setLayout({x:e},!0),i.hierNode.modifier+=i.parentNode.hierNode.modifier}function J6(i){return arguments.length?i:S1e}function Rb(i,e){return i-=Math.PI/2,{x:e*Math.cos(i),y:e*Math.sin(i)}}function m1e(i){for(var e=i.children,t=e.length,n=0,r=0;--t>=0;){var a=e[t];a.hierNode.prelim+=n,a.hierNode.modifier+=n,r+=a.hierNode.change,n+=a.hierNode.shift+r}}function y1e(i,e,t,n){if(e){for(var r=i,a=i,o=a.parentNode.children[0],s=e,l=r.hierNode.modifier,u=a.hierNode.modifier,c=o.hierNode.modifier,f=s.hierNode.modifier;s=L3(s),a=I3(a),s&&a;){r=L3(r),o=I3(o),r.hierNode.ancestor=i;var h=s.hierNode.prelim+f-a.hierNode.prelim-u+n(s,a);h>0&&(x1e(_1e(s,i,t),i,h),u+=h,l+=h),f+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=r.hierNode.modifier,c+=o.hierNode.modifier}s&&!L3(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=f-l),a&&!I3(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=u-c,t=i)}return t}function L3(i){var e=i.children;return e.length&&i.isExpand?e[e.length-1]:i.hierNode.thread}function I3(i){var e=i.children;return e.length&&i.isExpand?e[0]:i.hierNode.thread}function _1e(i,e,t){return i.hierNode.ancestor.parentNode===e.parentNode?i.hierNode.ancestor:t}function x1e(i,e,t){var n=t/(e.hierNode.i-i.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,i.hierNode.change+=n}function S1e(i,e){return i.parentNode===e.parentNode?1:2}var b1e=(function(){function i(){this.parentPoint=[],this.childPoints=[]}return i})(),M1e=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:ge.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new b1e},e.prototype.buildPath=function(t,n){var r=n.childPoints,a=r.length,o=n.parentPoint,s=r[0],l=r[a-1];if(a===1){t.moveTo(o[0],o[1]),t.lineTo(s[0],s[1]);return}var u=n.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,h=it(n.forkPosition,1),p=[];p[c]=o[c],p[f]=o[f]+(l[f]-o[f])*h,t.moveTo(o[0],o[1]),t.lineTo(p[0],p[1]),t.moveTo(s[0],s[1]),p[c]=s[c],t.lineTo(p[0],p[1]),p[c]=l[c],t.lineTo(p[0],p[1]),t.lineTo(l[0],l[1]);for(var g=1;g<a-1;g++){var y=r[g];t.moveTo(y[0],y[1]),p[c]=y[c],t.lineTo(p[0],p[1])}},e})(bn),T1e=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new It,t}return e.prototype.init=function(t,n){this._controller=new Sm(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,n,r){var a=t.getData(),o=t.layoutInfo,s=this._mainGroup,l=t.get("layout");l==="radial"?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(t,r),this._updateController(t,null,n,r);var u=this._data;a.diff(u).add(function(c){e8(a,c)&&t8(a,c,null,s,t)}).update(function(c,f){var h=u.getItemGraphicEl(f);if(!e8(a,c)){h&&i8(u,f,h,s,t);return}t8(a,c,h,s,t)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&i8(u,c,f,s,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:f})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,n){var r=t.getData(),a=[];r.each(function(f){var h=r.getItemLayout(f);h&&!isNaN(h.x)&&!isNaN(h.y)&&a.push([+h.x,+h.y])});var o=[],s=[];qR(a,o,s);var l=this._min,u=this._max;s[0]-o[0]===0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var c=t.coordinateSystem=new bm(null,{api:n,ecModel:t.ecModel});c.zoomLimit=t.get("scaleLimit"),c.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),c.setCenter(t.get("center")),c.setZoom(t.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=o,this._max=s},e.prototype._updateController=function(t,n,r,a){var o=this;O$(t,a,this.group,this._controller,this._controllerHost,n),this._controller.on("zoom",function(s){o._updateNodeAndLinkScale(t)})},e.prototype._updateNodeAndLinkScale=function(t){var n=t.getData(),r=this._getNodeGlobalScale(t);n.eachItemGraphicEl(function(a,o){a.setSymbolScale(r)})},e.prototype._getNodeGlobalScale=function(t){var n=t.coordinateSystem;if(n.type!=="view")return 1;var r=this._nodeScaleRatio,a=n.scaleX||1,o=n.getZoom(),s=(o-1)*r+1;return s/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e})(fi);function e8(i,e){var t=i.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function t8(i,e,t,n,r){var a=!t,o=i.tree.getNodeByDataIndex(e),s=o.getModel(),l=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?l:ge.color.neutral00,c=i.tree.root,f=o.parentNode===c?o:o.parentNode||o,h=i.getItemGraphicEl(f.dataIndex),p=f.getLayout(),g=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:p,y=o.getLayout();a?(t=new SM(i,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.x=g.x,t.y=g.y):t.updateData(i,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=y.rawX,t.__radialRawY=y.rawY,n.add(t),i.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,Gn(t,{x:y.x,y:y.y},r);var _=t.getSymbolPath();if(r.get("layout")==="radial"){var x=c.children[0],M=x.getLayout(),T=x.children.length,C=void 0,E=void 0;if(y.x===M.x&&o.isExpand===!0&&x.children.length){var D={x:(x.children[0].getLayout().x+x.children[T-1].getLayout().x)/2,y:(x.children[0].getLayout().y+x.children[T-1].getLayout().y)/2};C=Math.atan2(D.y-M.y,D.x-M.x),C<0&&(C=Math.PI*2+C),E=D.x<M.x,E&&(C=C-Math.PI)}else C=Math.atan2(y.y-M.y,y.x-M.x),C<0&&(C=Math.PI*2+C),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(E=y.x<M.x,E&&(C=C-Math.PI)):(E=y.x>M.x,E||(C=C-Math.PI));var L=E?"left":"right",z=s.getModel("label"),P=z.get("rotate"),N=P*(Math.PI/180),B=_.getTextContent();B&&(_.setTextConfig({position:z.get("position")||L,rotation:P==null?-C:N,origin:"center"}),B.setStyle("verticalAlign","middle"))}var G=s.get(["emphasis","focus"]),U=G==="relative"?u_(o.getAncestorsIndices(),o.getDescendantIndices()):G==="ancestor"?o.getAncestorsIndices():G==="descendant"?o.getDescendantIndices():null;U&&(Ht(t).focus=U),w1e(r,o,c,t,g,p,y,n),t.__edge&&(t.onHoverStateChange=function(X){if(X!=="blur"){var q=o.parentNode&&i.getItemGraphicEl(o.parentNode.dataIndex);q&&q.hoverState===hM||tD(t.__edge,X)}})}function w1e(i,e,t,n,r,a,o,s){var l=e.getModel(),u=i.get("edgeShape"),c=i.get("layout"),f=i.getOrient(),h=i.get(["lineStyle","curveness"]),p=i.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),y=n.__edge;if(u==="curve")e.parentNode&&e.parentNode!==t&&(y||(y=n.__edge=new B_({shape:Oz(c,f,h,r,r)})),Gn(y,{shape:Oz(c,f,h,a,o)},i));else if(u==="polyline"&&c==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var _=e.children,x=[],M=0;M<_.length;M++){var T=_[M].getLayout();x.push([T.x,T.y])}y||(y=n.__edge=new M1e({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:f,forkPosition:p}})),Gn(y,{shape:{parentPoint:[o.x,o.y],childPoints:x}},i)}y&&!(u==="polyline"&&!e.isExpand)&&(y.useStyle(Ot({strokeNoScale:!0,fill:null},g)),la(y,l,"lineStyle"),im(y),s.add(y))}function n8(i,e,t,n,r){var a=e.tree.root,o=X$(a,i),s=o.source,l=o.sourceLayout,u=e.getItemGraphicEl(i.dataIndex);if(u){var c=e.getItemGraphicEl(s.dataIndex),f=c.__edge,h=u.__edge||(s.isExpand===!1||s.children.length===1?f:void 0),p=n.get("edgeShape"),g=n.get("layout"),y=n.get("orient"),_=n.get(["lineStyle","curveness"]);h&&(p==="curve"?Mp(h,{shape:Oz(g,y,_,l,l),style:{opacity:0}},n,{cb:function(){t.remove(h)},removeOpt:r}):p==="polyline"&&n.get("layout")==="orthogonal"&&Mp(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){t.remove(h)},removeOpt:r}))}}function X$(i,e){for(var t=e.parentNode===i?e:e.parentNode||e,n;n=t.getLayout(),n==null;)t=t.parentNode===i?t:t.parentNode||t;return{source:t,sourceLayout:n}}function i8(i,e,t,n,r){var a=i.tree.getNodeByDataIndex(e),o=i.tree.root,s=X$(o,a).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};Mp(t,{x:s.x+1,y:s.y+1},r,{cb:function(){n.remove(t),i.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,i.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){n8(u,i,n,r,l)}),n8(a,i,n,r,l)}function Oz(i,e,t,n,r){var a,o,s,l,u,c,f,h;if(i==="radial"){u=n.rawX,f=n.rawY,c=r.rawX,h=r.rawY;var p=Rb(u,f),g=Rb(u,f+(h-f)*t),y=Rb(c,h+(f-h)*t),_=Rb(c,h);return{x1:p.x||0,y1:p.y||0,x2:_.x||0,y2:_.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:y.x||0,cpy2:y.y||0}}else u=n.x,f=n.y,c=r.x,h=r.y,(e==="LR"||e==="RL")&&(a=u+(c-u)*t,o=f,s=c+(u-c)*t,l=h),(e==="TB"||e==="BT")&&(a=u,o=f+(h-f)*t,s=c,l=h+(f-h)*t);return{x1:u,y1:f,x2:c,y2:h,cpx1:a,cpy1:o,cpx2:s,cpy2:l}}var Xl=yn();function Y$(i){var e=i.mainData,t=i.datas;t||(t={main:e},i.datasAttr={main:"data"}),i.datas=i.mainData=null,q$(e,t,i),H(t,function(n){H(e.TRANSFERABLE_METHODS,function(r){n.wrapMethod(r,Qt(A1e,i))})}),e.wrapMethod("cloneShallow",Qt(E1e,i)),H(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,Qt(C1e,i))}),no(t[e.dataType]===e)}function A1e(i,e){if(L1e(this)){var t=Ce({},Xl(this).datas);t[this.dataType]=e,q$(e,t,i)}else r2(e,this.dataType,Xl(this).mainData,i);return e}function C1e(i,e){return i.struct&&i.struct.update(),e}function E1e(i,e){return H(Xl(e).datas,function(t,n){t!==e&&r2(t.cloneShallow(),n,e,i)}),e}function D1e(i){var e=Xl(this).mainData;return i==null||e==null?e:Xl(e).datas[i]}function R1e(){var i=Xl(this).mainData;return i==null?[{data:i}]:Ge(An(Xl(i).datas),function(e){return{type:e,data:Xl(i).datas[e]}})}function L1e(i){return Xl(i).mainData===i}function q$(i,e,t){Xl(i).datas={},H(e,function(n,r){r2(n,r,i,t)})}function r2(i,e,t,n){Xl(t).datas[e]=i,Xl(i).mainData=t,i.dataType=e,n.struct&&(i[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=i),i.getLinkedData=D1e,i.getLinkedDataAll=R1e}var I1e=(function(){function i(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return i.prototype.isRemoved=function(){return this.dataIndex<0},i.prototype.eachNode=function(e,t,n){Ct(e)&&(n=t,t=e,e=null),e=e||{},rt(e)&&(e={order:e});var r=e.order||"preorder",a=this[e.attr||"children"],o;r==="preorder"&&(o=t.call(n,this));for(var s=0;!o&&s<a.length;s++)a[s].eachNode(e,t,n);r==="postorder"&&t.call(n,this)},i.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},i.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,r=n.length;t<r;t++){var a=n[t].getNodeById(e);if(a)return a}},i.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,r=n.length;t<r;t++){var a=n[t].contains(e);if(a)return a}},i.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},i.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},i.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},i.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},i.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},i.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},i.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},i.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},i.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},i.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},i.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},i.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},i.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},i.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},i.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},i})(),a2=(function(){function i(e){this.type="tree",this._nodes=[],this.hostModel=e}return i.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},i.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},i.prototype.getNodeById=function(e){return this.root.getNodeById(e)},i.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,r=t.length;n<r;n++)t[n].dataIndex=-1;for(var n=0,r=e.count();n<r;n++)t[e.getRawIndex(n)].dataIndex=n},i.prototype.clearLayouts=function(){this.data.clearItemLayouts()},i.createTree=function(e,t,n){var r=new i(t),a=[],o=1;s(e);function s(c,f){var h=c.value;o=Math.max(o,ze(h)?h.length:1),a.push(c);var p=new I1e(sa(c.name,""),r);f?P1e(p,f):r.root=p,r._nodes.push(p);var g=c.children;if(g)for(var y=0;y<g.length;y++)s(g[y],p)}r.root.updateDepthAndHeight(0);var l=q_(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Ao(l,t);return u.initData(a),n&&n(u),Y$({mainData:u,struct:r,structAttr:"tree"}),r.update(),r},i})();function P1e(i,e){var t=e.children;i.parentNode!==e&&(t.push(i),i.parentNode=e)}function F1(i,e,t){if(i&&en(e,i.type)>=0){var n=t.getData().tree.root,r=i.targetNode;if(rt(r)&&(r=n.getNodeById(r)),r&&n.contains(r))return{node:r};var a=i.targetNodeId;if(a!=null&&(r=n.getNodeById(a)))return{node:r}}}function Z$(i){for(var e=[];i;)i=i.parentNode,i&&e.push(i);return e.reverse()}function o2(i,e){var t=Z$(i);return en(t,e)>=0}function pL(i,e){for(var t=[];i;){var n=i.dataIndex;t.push({name:i.name,dataIndex:n,value:e.getRawValue(n)}),i=i.parentNode}return t.reverse(),t}var N1e=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var n={name:t.name,children:t.data},r=t.leaves||{},a=new Sn(r,this,this.ecModel),o=a2.createTree(n,this,s);function s(f){f.wrapMethod("getItemModel",function(h,p){var g=o.getNodeByDataIndex(p);return g&&g.children.length&&g.isExpand||(h.parentModel=a),h})}var l=0;o.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=t.expandAndCollapse,c=u&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return o.root.eachNode("preorder",function(f){var h=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=h&&h.collapsed!=null?!h.collapsed:f.depth<=c}),o.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,n,r){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(t),l=s.getValue(),u=s.name;s&&s!==o;)u=s.parentNode.name+"."+u,s=s.parentNode;return Kr("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var n=i.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=pL(r,this),n.collapsed=!r.isExpand,n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:ge.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e})(vi);function O1e(i,e,t){for(var n=[i],r=[],a;a=n.pop();)if(r.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)n.push(o[s])}for(;a=r.pop();)e(a,t)}function lb(i,e){for(var t=[i],n;n=t.pop();)if(e(n),n.isExpand){var r=n.children;if(r.length)for(var a=r.length-1;a>=0;a--)t.push(r[a])}}function z1e(i,e){i.eachSeriesByType("tree",function(t){B1e(t,e)})}function B1e(i,e){var t=ca(i,e).refContainer,n=Ui(i.getBoxLayoutParams(),t);i.layoutInfo=n;var r=i.get("layout"),a=0,o=0,s=null;r==="radial"?(a=2*Math.PI,o=Math.min(n.height,n.width)/2,s=J6(function(C,E){return(C.parentNode===E.parentNode?1:2)/C.depth})):(a=n.width,o=n.height,s=J6());var l=i.getData().tree.root,u=l.children[0];if(u){p1e(l),O1e(u,v1e,s),l.hierNode.modifier=-u.hierNode.prelim,lb(u,g1e);var c=u,f=u,h=u;lb(u,function(C){var E=C.getLayout().x;E<c.getLayout().x&&(c=C),E>f.getLayout().x&&(f=C),C.depth>h.depth&&(h=C)});var p=c===f?1:s(c,f)/2,g=p-c.getLayout().x,y=0,_=0,x=0,M=0;if(r==="radial")y=a/(f.getLayout().x+p+g),_=o/(h.depth-1||1),lb(u,function(C){x=(C.getLayout().x+g)*y,M=(C.depth-1)*_;var E=Rb(x,M);C.setLayout({x:E.x,y:E.y,rawX:x,rawY:M},!0)});else{var T=i.getOrient();T==="RL"||T==="LR"?(_=o/(f.getLayout().x+p+g),y=a/(h.depth-1||1),lb(u,function(C){M=(C.getLayout().x+g)*_,x=T==="LR"?(C.depth-1)*y:a-(C.depth-1)*y,C.setLayout({x,y:M},!0)})):(T==="TB"||T==="BT")&&(y=a/(f.getLayout().x+p+g),_=o/(h.depth-1||1),lb(u,function(C){x=(C.getLayout().x+g)*y,M=T==="TB"?(C.depth-1)*_:o-(C.depth-1)*_,C.setLayout({x,y:M},!0)}))}}}function k1e(i){i.eachSeriesByType("tree",function(e){var t=e.getData(),n=t.tree;n.eachNode(function(r){var a=r.getModel(),o=a.getModel("itemStyle").getItemStyle(),s=t.ensureUniqueItemVisual(r.dataIndex,"style");Ce(s,o)})})}function U1e(i){i.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var r=e.dataIndex,a=n.getData().tree,o=a.getNodeByDataIndex(r);o.isExpand=!o.isExpand})}),i.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var a=r.coordinateSystem,o=hL(a,e,r.get("scaleLimit"));r.setCenter(o.center),r.setZoom(o.zoom)})})}function F1e(i){i.registerChartView(T1e),i.registerSeriesModel(N1e),i.registerLayout(z1e),i.registerVisual(k1e),U1e(i)}var r8=["treemapZoomToNode","treemapRender","treemapMove"];function V1e(i){for(var e=0;e<r8.length;e++)i.registerAction({type:r8[e],update:"updateView"},_r);i.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"treemap",query:t},r);function r(a,o){var s=["treemapZoomToNode","treemapRootToNode"],l=F1(t,s,a);if(l){var u=a.getViewRoot();u&&(t.direction=o2(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function j$(i){var e=i.getData(),t=e.tree,n={};t.eachNode(function(r){for(var a=r;a&&a.depth>1;)a=a.parentNode;var o=QO(i.ecModel,a.name||a.dataIndex+"",n);r.setVisual("decal",o)})}var G1e=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,n){var r={name:t.name,children:t.data};K$(r);var a=t.levels||[],o=this.designatedVisualItemStyle={},s=new Sn({itemStyle:o},this,n);a=t.levels=H1e(a,n);var l=Ge(a||[],function(f){return new Sn(f,s,n)},this),u=a2.createTree(r,this,c);function c(f){f.wrapMethod("getItemModel",function(h,p){var g=u.getNodeByDataIndex(p),y=g?l[g.depth]:null;return h.parentModel=y||s,h})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,n,r){var a=this.getData(),o=this.getRawValue(t),s=a.getName(t);return Kr("nameValue",{name:s,value:o})},e.prototype.getDataParams=function(t){var n=i.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=pL(r,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},Ce(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var n=this._idIndexMap;n||(n=this._idIndexMap=St(),this._idIndexMapCount=0);var r=n.get(t);return r==null&&n.set(t,r=this._idIndexMapCount++),r},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){j$(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,coordinateSystemUsage:"box",left:ge.size.l,top:ge.size.xxxl,right:ge.size.l,bottom:ge.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:ge.size.m,emptyItemWidth:25,itemStyle:{color:ge.color.backgroundShade,textStyle:{color:ge.color.secondary}},emphasis:{itemStyle:{color:ge.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:ge.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:ge.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e})(vi);function K$(i){var e=0;H(i.children,function(n){K$(n);var r=n.value;ze(r)&&(r=r[0]),e+=r});var t=i.value;ze(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ze(i.value)?i.value[0]=t:i.value=t}function H1e(i,e){var t=Mi(e.get("color")),n=Mi(e.get(["aria","decal","decals"]));if(t){i=i||[];var r,a;H(i,function(s){var l=new Sn(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(r=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var o=i[0]||(i[0]={});return r||(o.color=t.slice()),!a&&n&&(o.decal=n.slice()),i}}var W1e=8,a8=8,P3=5,X1e=(function(){function i(e){this.group=new It,e.add(this.group)}return i.prototype.render=function(e,t,n,r){var a=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!a.get("show")||!n)){var s=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f=ca(e,t).refContainer,h={left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},p={emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},g=Ui(h,f);this._prepare(n,p,u),this._renderContent(e,p,g,s,l,u,c,r),tL(o,h,f)}},i.prototype._prepare=function(e,t,n){for(var r=e;r;r=r.parentNode){var a=sa(r.getModel().get("name"),""),o=n.getTextRect(a),s=Math.max(o.width+W1e*2,t.emptyItemWidth);t.totalWidth+=s+a8,t.renderList.push({node:r,text:a,width:s})}},i.prototype._renderContent=function(e,t,n,r,a,o,s,l){for(var u=0,c=t.emptyItemWidth,f=e.get(["breadcrumb","height"]),h=t.totalWidth,p=t.renderList,g=a.getModel("itemStyle").getItemStyle(),y=p.length-1;y>=0;y--){var _=p[y],x=_.node,M=_.width,T=_.text;h>n.width&&(h-=M-c,M=c,T=null);var C=new ro({shape:{points:Y1e(u,0,M,f,y===p.length-1,y===0)},style:Ot(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new In({style:Si(o,{text:T})}),textConfig:{position:"inside"},z2:O_*1e4,onclick:Qt(l,x)});C.disableLabelAnimation=!0,C.getTextContent().ensureState("emphasis").style=Si(s,{text:T}),C.ensureState("emphasis").style=g,Hi(C,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(C),q1e(C,e,x),u+=M+a8}},i.prototype.remove=function(){this.group.removeAll()},i})();function Y1e(i,e,t,n,r,a){var o=[[r?i:i-P3,e],[i+t,e],[i+t,e+n],[r?i:i-P3,e+n]];return!a&&o.splice(2,0,[i+t+P3,e+n/2]),!r&&o.push([i,e+n/2]),o}function q1e(i,e,t){Ht(i).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&pL(t,e)}}var Z1e=(function(){function i(){this._storage=[],this._elExistsMap={}}return i.prototype.add=function(e,t,n,r,a){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:r,easing:a}),!0)},i.prototype.finished=function(e){return this._finishedCallback=e,this},i.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,a=this._storage.length;r<a;r++){var o=this._storage[r];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},i})();function j1e(){return new Z1e}var zz=It,o8=dn,s8=3,l8="label",u8="upperLabel",K1e=O_*10,$1e=O_*2,Q1e=O_*3,pg=nm([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),c8=function(i){var e=pg(i);return e.stroke=e.fill=e.lineWidth=null,e},DD=yn(),J1e=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=ub(),t}return e.prototype.render=function(t,n,r,a){var o=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(en(o,t)<0)){this.seriesModel=t,this.api=r,this.ecModel=n;var s=["treemapZoomToNode","treemapRootToNode"],l=F1(a,s,t),u=a&&a.type,c=t.layoutInfo,f=!this._oldTree,h=this._storage,p=u==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,g=this._giveContainerGroup(c),y=t.get("animation"),_=this._doRender(g,t,p);y&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(g,_,t,p):_.renderFinally(),this._resetController(r),this._renderBreadcrumb(t,r,l)}},e.prototype._giveContainerGroup=function(t){var n=this._containerGroup;return n||(n=this._containerGroup=new zz,this._initEvents(n),this.group.add(n)),n.x=t.x,n.y=t.y,n},e.prototype._doRender=function(t,n,r){var a=n.getData().tree,o=this._oldTree,s=ub(),l=ub(),u=this._storage,c=[];function f(M,T,C,E){return eMe(n,l,u,r,s,c,M,T,C,E)}y(a.root?[a.root]:[],o&&o.root?[o.root]:[],t,a===o||!o,0);var h=_(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var p=this.seriesModel.layoutInfo,g=a.root.getLayout();g.width===p.width&&g.height===p.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:h,renderFinally:x};function y(M,T,C,E,D){E?(T=M,H(M,function(P,N){!P.isRemoved()&&z(N,N)})):new Ph(T,M,L,L).add(z).update(z).remove(Qt(z,null)).execute();function L(P){return P.getId()}function z(P,N){var B=P!=null?M[P]:null,G=N!=null?T[N]:null,U=f(B,G,C,D);U&&y(B&&B.viewChildren||[],G&&G.viewChildren||[],U,E,D+1)}}function _(M){var T=ub();return M&&H(M,function(C,E){var D=T[E];H(C,function(L){L&&(D.push(L),DD(L).willDelete=!0)})}),T}function x(){H(h,function(M){H(M,function(T){T.parent&&T.parent.remove(T)})}),H(c,function(M){M.invisible=!0,M.dirty()})}},e.prototype._doAnimation=function(t,n,r,a){var o=r.get("animationDurationUpdate"),s=r.get("animationEasing"),l=(Ct(o)?0:o)||0,u=(Ct(s)?null:s)||"cubicOut",c=j1e();H(n.willDeleteEls,function(f,h){H(f,function(p,g){if(!p.invisible){var y=p.parent,_,x=DD(y);if(a&&a.direction==="drillDown")_=y===a.rootNodeGroup?{shape:{x:0,y:0,width:x.nodeWidth,height:x.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var M=0,T=0;x.willDelete||(M=x.nodeWidth/2,T=x.nodeHeight/2),_=h==="nodeGroup"?{x:M,y:T,style:{opacity:0}}:{shape:{x:M,y:T,width:0,height:0},style:{opacity:0}}}_&&c.add(p,_,l,0,u)}})}),H(this._storage,function(f,h){H(f,function(p,g){var y=n.lastsForAnimation[h][g],_={};y&&(p instanceof It?y.oldX!=null&&(_.x=p.x,_.y=p.y,p.x=y.oldX,p.y=y.oldY):(y.oldShape&&(_.shape=Ce({},p.shape),p.setShape(y.oldShape)),y.fadein?(p.setStyle("opacity",0),_.style={opacity:1}):p.style.opacity!==1&&(_.style={opacity:1})),c.add(p,_,l,0,u))})},this),this._state="animating",c.finished(at(function(){this._state="ready",n.renderFinally()},this)).start()},e.prototype._resetController=function(t){var n=this,r=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var o=this.seriesModel;r||(r=this._controller=new Sm(t.getZr()),r.on("pan",at(this._onPan,this)),r.on("zoom",at(this._onZoom,this))),r.enable(o.get("roam"),{api:t,zInfo:{component:o},triggerInfo:{roamTrigger:o.get("roamTrigger"),isInSelf:function(s,l,u){var c=n._containerGroup;return c?c.getBoundingRect().contain(l-c.x,u-c.y):!1}}}),a.zoomLimit=o.get("scaleLimit"),a.zoom=o.get("zoom")},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>s8||Math.abs(t.dy)>s8)){var n=this.seriesModel.getData().tree.root;if(!n)return;var r=n.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}},e.prototype._onZoom=function(t){var n=t.originX,r=t.originY,a=t.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new Ut(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var h=u.min||0,p=u.max||1/0;f=Math.max(Math.min(p,f),h)}var g=f/c.zoom;c.zoom=f;var y=this.seriesModel.layoutInfo;n-=y.x,r-=y.y;var _=_a();Wu(_,_,[-n,-r]),UR(_,_,[g,g]),Wu(_,_,[n,r]),l.applyTransform(_),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var n=this;t.on("click",function(r){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var o=n.findTarget(r.offsetX,r.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)n._rootToNode(o);else if(a==="zoomToNode")n._zoomToNode(o);else if(a==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&aD(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(t,n,r){var a=this;r||(r=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),r||(r={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new X1e(this.group))).render(t,n,r.node,function(o){a._state!=="animating"&&(o2(t.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=ub(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,n){var r,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(t,n),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)r={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),r},e.type="treemap",e})(fi);function ub(){return{nodeGroup:[],background:[],content:[]}}function eMe(i,e,t,n,r,a,o,s,l,u){if(!o)return;var c=o.getLayout(),f=i.getData(),h=o.getModel();if(f.setItemGraphicEl(o.dataIndex,null),!c||!c.isInView)return;var p=c.width,g=c.height,y=c.borderWidth,_=c.invisible,x=o.getRawIndex(),M=s&&s.getRawIndex(),T=o.viewChildren,C=c.upperHeight,E=T&&T.length,D=h.getModel("itemStyle"),L=h.getModel(["emphasis","itemStyle"]),z=h.getModel(["blur","itemStyle"]),P=h.getModel(["select","itemStyle"]),N=D.get("borderRadius")||0,B=Pe("nodeGroup",zz);if(!B)return;if(l.add(B),B.x=c.x||0,B.y=c.y||0,B.markRedraw(),DD(B).nodeWidth=p,DD(B).nodeHeight=g,c.isAboveViewRoot)return B;var G=Pe("background",o8,u,$1e);G&&ie(B,G,E&&c.upperLabelHeight);var U=h.getModel("emphasis"),X=U.get("focus"),q=U.get("blurScope"),V=U.get("disabled"),j=X==="ancestor"?o.getAncestorsIndices():X==="descendant"?o.getDescendantIndices():X;if(E)w1(B)&&Rg(B,!1),G&&(Rg(G,!V),f.setItemGraphicEl(o.dataIndex,G),VO(G,j,q));else{var K=Pe("content",o8,u,Q1e);K&&Y(B,K),G.disableMorphing=!0,G&&w1(G)&&Rg(G,!1),Rg(B,!V),f.setItemGraphicEl(o.dataIndex,B);var te=h.getShallow("cursor");te&&K.attr("cursor",te),VO(B,j,q)}return B;function ie(Ee,Te,He){var We=Ht(Te);if(We.dataIndex=o.dataIndex,We.seriesIndex=i.seriesIndex,Te.setShape({x:0,y:0,width:p,height:g,r:N}),_)ee(Te);else{Te.invisible=!1;var Qe=o.getVisual("style"),yt=Qe.stroke,be=c8(D);be.fill=yt;var Ue=pg(L);Ue.fill=L.get("borderColor");var Ie=pg(z);Ie.fill=z.get("borderColor");var $e=pg(P);if($e.fill=P.get("borderColor"),He){var ae=p-2*y;oe(Te,yt,Qe.opacity,{x:y,y:0,width:ae,height:C})}else Te.removeTextContent();Te.setStyle(be),Te.ensureState("emphasis").style=Ue,Te.ensureState("blur").style=Ie,Te.ensureState("select").style=$e,im(Te)}Ee.add(Te)}function Y(Ee,Te){var He=Ht(Te);He.dataIndex=o.dataIndex,He.seriesIndex=i.seriesIndex;var We=Math.max(p-2*y,0),Qe=Math.max(g-2*y,0);if(Te.culling=!0,Te.setShape({x:y,y,width:We,height:Qe,r:N}),_)ee(Te);else{Te.invisible=!1;var yt=o.getVisual("style"),be=yt.fill,Ue=c8(D);Ue.fill=be,Ue.decal=yt.decal;var Ie=pg(L),$e=pg(z),ae=pg(P);oe(Te,be,yt.opacity,null),Te.setStyle(Ue),Te.ensureState("emphasis").style=Ie,Te.ensureState("blur").style=$e,Te.ensureState("select").style=ae,im(Te)}Ee.add(Te)}function ee(Ee){!Ee.invisible&&a.push(Ee)}function oe(Ee,Te,He,We){var Qe=h.getModel(We?u8:l8),yt=sa(h.get("name"),null),be=Qe.getShallow("show");Ma(Ee,ua(h,We?u8:l8),{defaultText:be?yt:null,inheritColor:Te,defaultOpacity:He,labelFetcher:i,labelDataIndex:o.dataIndex});var Ue=Ee.getTextContent();if(Ue){var Ie=Ue.style,$e=sM(Ie.padding||0);We&&(Ee.setTextConfig({layoutRect:We}),Ue.disableLabelLayout=!0),Ue.beforeUpdate=function(){var Mt=Math.max((We?We.width:Ee.shape.width)-$e[1]-$e[3],0),vt=Math.max((We?We.height:Ee.shape.height)-$e[0]-$e[2],0);(Ie.width!==Mt||Ie.height!==vt)&&Ue.setStyle({width:Mt,height:vt})},Ie.truncateMinChar=2,Ie.lineOverflow="truncate",de(Ie,We,c);var ae=Ue.getState("emphasis");de(ae?ae.style:null,We,c)}}function de(Ee,Te,He){var We=Ee?Ee.text:null;if(!Te&&He.isLeafRoot&&We!=null){var Qe=i.get("drillDownIcon",!0);Ee.text=Qe?Qe+" "+We:We}}function Pe(Ee,Te,He,We){var Qe=M!=null&&t[Ee][M],yt=r[Ee];return Qe?(t[Ee][M]=null,he(yt,Qe)):_||(Qe=new Te,Qe instanceof Kl&&(Qe.z2=tMe(He,We)),Se(yt,Qe)),e[Ee][x]=Qe}function he(Ee,Te){var He=Ee[x]={};Te instanceof zz?(He.oldX=Te.x,He.oldY=Te.y):He.oldShape=Ce({},Te.shape)}function Se(Ee,Te){var He=Ee[x]={},We=o.parentNode,Qe=Te instanceof It;if(We&&(!n||n.direction==="drillDown")){var yt=0,be=0,Ue=r.background[We.getRawIndex()];!n&&Ue&&Ue.oldShape&&(yt=Ue.oldShape.width,be=Ue.oldShape.height),Qe?(He.oldX=0,He.oldY=be):He.oldShape={x:yt,y:be,width:0,height:0}}He.fadein=!Qe}}function tMe(i,e){return i*K1e+e}var V1=H,nMe=zt,RD=-1,xa=(function(){function i(e){var t=e.mappingMethod,n=e.type,r=this.option=Lt(e);this.type=n,this.mappingMethod=t,this._normalizeData=aMe[t];var a=i.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],t==="piecewise"?(N3(r),iMe(r)):t==="category"?r.categories?rMe(r):N3(r,!0):(no(t!=="linear"||r.dataExtent),N3(r))}return i.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},i.prototype.getNormalizer=function(){return at(this._normalizeData,this)},i.listVisualTypes=function(){return An(i.visualHandlers)},i.isValidType=function(e){return i.visualHandlers.hasOwnProperty(e)},i.eachVisual=function(e,t,n){zt(e)?H(e,t,n):t.call(n,e)},i.mapVisual=function(e,t,n){var r,a=ze(e)?[]:zt(e)?{}:(r=!0,null);return i.eachVisual(e,function(o,s){var l=t.call(n,o,s);r?a=l:a[s]=l}),a},i.retrieveVisuals=function(e){var t={},n;return e&&V1(i.visualHandlers,function(r,a){e.hasOwnProperty(a)&&(t[a]=e[a],n=!0)}),n?t:null},i.prepareVisualTypes=function(e){if(ze(e))e=e.slice();else if(nMe(e)){var t=[];V1(e,function(n,r){t.push(r)}),e=t}else return[];return e.sort(function(n,r){return r==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),e},i.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},i.findPieceIndex=function(e,t,n){for(var r,a=1/0,o=0,s=t.length;o<s;o++){var l=t[o].value;if(l!=null){if(l===e||rt(l)&&l===e+"")return o;n&&h(l,o)}}for(var o=0,s=t.length;o<s;o++){var u=t[o],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if($A(f[1],e,c[1]))return o}else if(c[1]===1/0){if($A(f[0],c[0],e))return o}else if($A(f[0],c[0],e)&&$A(f[1],e,c[1]))return o;n&&h(c[0],o),n&&h(c[1],o)}}if(n)return e===1/0?t.length-1:e===-1/0?0:r;function h(p,g){var y=Math.abs(p-e);y<a&&(a=y,r=g)}},i.visualHandlers={color:{applyVisual:cb("color"),getColorMapper:function(){var e=this.option;return at(e.mappingMethod==="category"?function(t,n){return!n&&(t=this._normalizeData(t)),Lb.call(this,t)}:function(t,n,r){var a=!!r;return!n&&(t=this._normalizeData(t)),r=Zb(t,e.parsedVisual,r),a?r:Wl(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Wl(Zb(e,this.option.parsedVisual),"rgba")},category:Lb,piecewise:function(e,t){var n=kz.call(this,t);return n==null&&(n=Wl(Zb(e,this.option.parsedVisual),"rgba")),n},fixed:vg}},colorHue:KA(function(e,t){return Mh(e,t)}),colorSaturation:KA(function(e,t){return Mh(e,null,t)}),colorLightness:KA(function(e,t){return Mh(e,null,null,t)}),colorAlpha:KA(function(e,t){return x1(e,t)}),decal:{applyVisual:cb("decal"),_normalizedToVisual:{linear:null,category:Lb,piecewise:null,fixed:null}},opacity:{applyVisual:cb("opacity"),_normalizedToVisual:Bz([0,1])},liftZ:{applyVisual:cb("liftZ"),_normalizedToVisual:{linear:vg,category:vg,piecewise:vg,fixed:vg}},symbol:{applyVisual:function(e,t,n){var r=this.mapValueToVisual(e);n("symbol",r)},_normalizedToVisual:{linear:f8,category:Lb,piecewise:function(e,t){var n=kz.call(this,t);return n==null&&(n=f8.call(this,e)),n},fixed:vg}},symbolSize:{applyVisual:cb("symbolSize"),_normalizedToVisual:Bz([0,1])}},i})();function iMe(i){var e=i.pieceList;i.hasSpecialVisual=!1,H(e,function(t,n){t.originIndex=n,t.visual!=null&&(i.hasSpecialVisual=!0)})}function rMe(i){var e=i.categories,t=i.categoryMap={},n=i.visual;if(V1(e,function(o,s){t[o]=s}),!ze(n)){var r=[];zt(n)?V1(n,function(o,s){var l=t[s];r[l??RD]=o}):r[RD]=n,n=$$(i,r)}for(var a=e.length-1;a>=0;a--)n[a]==null&&(delete t[e[a]],e.pop())}function N3(i,e){var t=i.visual,n=[];zt(t)?V1(t,function(a){n.push(a)}):t!=null&&n.push(t);var r={color:1,symbol:1};!e&&n.length===1&&!r.hasOwnProperty(i.type)&&(n[1]=n[0]),$$(i,n)}function KA(i){return{applyVisual:function(e,t,n){var r=this.mapValueToVisual(e);n("color",i(t("color"),r))},_normalizedToVisual:Bz([0,1])}}function f8(i){var e=this.option.visual;return e[Math.round(ei(i,[0,1],[0,e.length-1],!0))]||{}}function cb(i){return function(e,t,n){n(i,this.mapValueToVisual(e))}}function Lb(i){var e=this.option.visual;return e[this.option.loop&&i!==RD?i%e.length:i]}function vg(){return this.option.visual[0]}function Bz(i){return{linear:function(e){return ei(e,i,this.option.visual,!0)},category:Lb,piecewise:function(e,t){var n=kz.call(this,t);return n==null&&(n=ei(e,i,this.option.visual,!0)),n},fixed:vg}}function kz(i){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var n=xa.findPieceIndex(i,t),r=t[n];if(r&&r.visual)return r.visual[this.type]}}function $$(i,e){return i.visual=e,i.type==="color"&&(i.parsedVisual=Ge(e,function(t){var n=wo(t);return n||[0,0,0,1]})),e}var aMe={linear:function(i){return ei(i,this.option.dataExtent,[0,1],!0)},piecewise:function(i){var e=this.option.pieceList,t=xa.findPieceIndex(i,e,!0);if(t!=null)return ei(t,[0,e.length-1],[0,1],!0)},category:function(i){var e=this.option.categories?this.option.categoryMap[i]:i;return e??RD},fixed:_r};function $A(i,e,t){return i?e<=t:e<t}var oMe="itemStyle",Q$=yn();const sMe={seriesType:"treemap",reset:function(i){var e=i.getData().tree,t=e.root;t.isRemoved()||J$(t,{},i.getViewRoot().getAncestors(),i)}};function J$(i,e,t,n){var r=i.getModel(),a=i.getLayout(),o=i.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var s=r.getModel(oMe),l=lMe(s,e,n),u=o.ensureUniqueItemVisual(i.dataIndex,"style"),c=s.get("borderColor"),f=s.get("borderColorSaturation"),h;f!=null&&(h=h8(l),c=uMe(f,h)),u.stroke=c;var p=i.viewChildren;if(!p||!p.length)h=h8(l),u.fill=h;else{var g=cMe(i,r,a,s,l,p);H(p,function(y,_){if(y.depth>=t.length||y===t[y.depth]){var x=fMe(r,l,y,_,g,n);J$(y,x,t,n)}})}}}function lMe(i,e,t){var n=Ce({},e),r=t.designatedVisualItemStyle;return H(["color","colorAlpha","colorSaturation"],function(a){r[a]=e[a];var o=i.get(a);r[a]=null,o!=null&&(n[a]=o)}),n}function h8(i){var e=O3(i,"color");if(e){var t=O3(i,"colorAlpha"),n=O3(i,"colorSaturation");return n&&(e=Mh(e,null,null,n)),t&&(e=x1(e,t)),e}}function uMe(i,e){return e!=null?Mh(e,null,null,i):null}function O3(i,e){var t=i[e];if(t!=null&&t!=="none")return t}function cMe(i,e,t,n,r,a){if(!(!a||!a.length)){var o=z3(e,"color")||r.color!=null&&r.color!=="none"&&(z3(e,"colorAlpha")||z3(e,"colorSaturation"));if(o){var s=e.get("visualMin"),l=e.get("visualMax"),u=t.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),f={type:o.name,dataExtent:u,visual:o.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var h=new xa(f);return Q$(h).drColorMappingBy=c,h}}}function z3(i,e){var t=i.get(e);return ze(t)&&t.length?{name:e,range:t}:null}function fMe(i,e,t,n,r,a){var o=Ce({},e);if(r){var s=r.type,l=s==="color"&&Q$(r).drColorMappingBy,u=l==="index"?n:l==="id"?a.mapIdToIndex(t.getId()):t.getValue(i.get("visualDimension"));o[s]=r.mapValueToVisual(u)}return o}var G1=Math.max,LD=Math.min,d8=Na,s2=H,eQ=["itemStyle","borderWidth"],hMe=["itemStyle","gapWidth"],dMe=["upperLabel","show"],pMe=["upperLabel","height"];const vMe={seriesType:"treemap",reset:function(i,e,t,n){var r=i.option,a=ca(i,t).refContainer,o=Ui(i.getBoxLayoutParams(),a),s=r.size||[],l=it(d8(o.width,s[0]),a.width),u=it(d8(o.height,s[1]),a.height),c=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],h=F1(n,f,i),p=c==="treemapRender"||c==="treemapMove"?n.rootRect:null,g=i.getViewRoot(),y=Z$(g);if(c!=="treemapMove"){var _=c==="treemapZoomToNode"?SMe(i,h,g,l,u):p?[p.width,p.height]:[l,u],x=r.sort;x&&x!=="asc"&&x!=="desc"&&(x="desc");var M={squareRatio:r.squareRatio,sort:x,leafDepth:r.leafDepth};g.hostTree.clearLayouts();var T={x:0,y:0,width:_[0],height:_[1],area:_[0]*_[1]};g.setLayout(T),tQ(g,M,!1,0),T=g.getLayout(),s2(y,function(E,D){var L=(y[D+1]||g).getValue();E.setLayout(Ce({dataExtent:[L,L],borderWidth:0,upperHeight:0},T))})}var C=i.getData().tree.root;C.setLayout(bMe(o,p,h),!0),i.setLayoutInfo(o),nQ(C,new Ut(-o.x,-o.y,t.getWidth(),t.getHeight()),y,g,0)}};function tQ(i,e,t,n){var r,a;if(!i.isRemoved()){var o=i.getLayout();r=o.width,a=o.height;var s=i.getModel(),l=s.get(eQ),u=s.get(hMe)/2,c=iQ(s),f=Math.max(l,c),h=l-u,p=f-u;i.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),r=G1(r-2*h,0),a=G1(a-h-p,0);var g=r*a,y=gMe(i,s,g,e,t,n);if(y.length){var _={x:h,y:p,width:r,height:a},x=LD(r,a),M=1/0,T=[];T.area=0;for(var C=0,E=y.length;C<E;){var D=y[C];T.push(D),T.area+=D.getLayout().area;var L=xMe(T,x,e.squareRatio);L<=M?(C++,M=L):(T.area-=T.pop().getLayout().area,p8(T,x,_,u,!1),x=LD(_.width,_.height),T.length=T.area=0,M=1/0)}if(T.length&&p8(T,x,_,u,!0),!t){var z=s.get("childrenVisibleMin");z!=null&&g<z&&(t=!0)}for(var C=0,E=y.length;C<E;C++)tQ(y[C],e,t,n+1)}}}function gMe(i,e,t,n,r,a){var o=i.children||[],s=n.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=n.leafDepth!=null&&n.leafDepth<=a;if(r&&!l)return i.viewChildren=[];o=Kn(o,function(p){return!p.isRemoved()}),yMe(o,s);var u=_Me(e,o,s);if(u.sum===0)return i.viewChildren=[];if(u.sum=mMe(e,t,u.sum,s,o),u.sum===0)return i.viewChildren=[];for(var c=0,f=o.length;c<f;c++){var h=o[c].getValue()/u.sum*t;o[c].setLayout({area:h})}return l&&(o.length&&i.setLayout({isLeafRoot:!0},!0),o.length=0),i.viewChildren=o,i.setLayout({dataExtent:u.dataExtent},!0),o}function mMe(i,e,t,n,r){if(!n)return t;for(var a=i.get("visibleMin"),o=r.length,s=o,l=o-1;l>=0;l--){var u=r[n==="asc"?o-l-1:l].getValue();u/t*e<a&&(s=l,t-=u)}return n==="asc"?r.splice(0,o-s):r.splice(s,o-s),t}function yMe(i,e){return e&&i.sort(function(t,n){var r=e==="asc"?t.getValue()-n.getValue():n.getValue()-t.getValue();return r===0?e==="asc"?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:r}),i}function _Me(i,e,t){for(var n=0,r=0,a=e.length;r<a;r++)n+=e[r].getValue();var o=i.get("visualDimension"),s;return!e||!e.length?s=[NaN,NaN]:o==="value"&&t?(s=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&s.reverse()):(s=[1/0,-1/0],s2(e,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:n,dataExtent:s}}function xMe(i,e,t){for(var n=0,r=1/0,a=0,o=void 0,s=i.length;a<s;a++)o=i[a].getLayout().area,o&&(o<r&&(r=o),o>n&&(n=o));var l=i.area*i.area,u=e*e*t;return l?G1(u*n/l,l/(u*r)):1/0}function p8(i,e,t,n,r){var a=e===t.width?0:1,o=1-a,s=["x","y"],l=["width","height"],u=t[s[a]],c=e?i.area/e:0;(r||c>t[l[o]])&&(c=t[l[o]]);for(var f=0,h=i.length;f<h;f++){var p=i[f],g={},y=c?p.getLayout().area/c:0,_=g[l[o]]=G1(c-2*n,0),x=t[s[a]]+t[l[a]]-u,M=f===h-1||x<y?x:y,T=g[l[a]]=G1(M-2*n,0);g[s[o]]=t[s[o]]+LD(n,_/2),g[s[a]]=u+LD(n,T/2),u+=M,p.setLayout(g,!0)}t[s[o]]+=c,t[l[o]]-=c}function SMe(i,e,t,n,r){var a=(e||{}).node,o=[n,r];if(!a||a===t)return o;for(var s,l=n*r,u=l*i.option.zoomToNodeRatio;s=a.parentNode;){for(var c=0,f=s.children,h=0,p=f.length;h<p;h++)c+=f[h].getValue();var g=a.getValue();if(g===0)return o;u*=c/g;var y=s.getModel(),_=y.get(eQ),x=Math.max(_,iQ(y));u+=4*_*_+(3*_+x)*Math.pow(u,.5),u>RO&&(u=RO),a=s}u<l&&(u=l);var M=Math.pow(u/l,.5);return[n*M,r*M]}function bMe(i,e,t){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!t)return n;var r=t.node,a=r.getLayout();if(!a)return n;for(var o=[a.width/2,a.height/2],s=r;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:i.width/2-o[0],y:i.height/2-o[1]}}function nQ(i,e,t,n,r){var a=i.getLayout(),o=t[r],s=o&&o===i;if(!(o&&!s||r===t.length&&i!==n)){i.setLayout({isInView:!0,invisible:!s&&!e.intersect(a),isAboveViewRoot:s},!0);var l=new Ut(e.x-a.x,e.y-a.y,e.width,e.height);s2(i.viewChildren||[],function(u){nQ(u,l,t,n,r+1)})}}function iQ(i){return i.get(dMe)?i.get(pMe):0}function MMe(i){i.registerSeriesModel(G1e),i.registerChartView(J1e),i.registerVisual(sMe),i.registerLayout(vMe),V1e(i)}function TMe(i){var e=i.findComponents({mainType:"legend"});!e||!e.length||i.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),r=t.getGraph(),a=r.data,o=n.mapArray(n.getName);a.filterSelf(function(s){var l=a.getItemModel(s),u=l.getShallow("category");if(u!=null){Pn(u)&&(u=o[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function wMe(i){var e={};i.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),r=t.getData(),a={};n.each(function(o){var s=n.getName(o);a["ec-"+s]=o;var l=n.getItemModel(o),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(s,e)),n.setItemVisual(o,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var h=l.getShallow(c[f],!0);h!=null&&n.setItemVisual(o,c[f],h)}}),n.count()&&r.each(function(o){var s=r.getItemModel(o),l=s.getShallow("category");if(l!=null){rt(l)&&(l=a["ec-"+l]);var u=n.getItemVisual(l,"style"),c=r.ensureUniqueItemVisual(o,"style");Ce(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],h=0;h<f.length;h++)r.setItemVisual(o,f[h],n.getItemVisual(l,f[h]))}})})}function QA(i){return i instanceof Array||(i=[i,i]),i}function AMe(i){i.eachSeriesByType("graph",function(e){var t=e.getGraph(),n=e.getEdgeData(),r=QA(e.get("edgeSymbol")),a=QA(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each(function(o){var s=n.getItemModel(o),l=t.getEdgeByIndex(o),u=QA(s.getShallow("symbol",!0)),c=QA(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),h=n.ensureUniqueItemVisual(o,"style");switch(Ce(h,f),h.stroke){case"source":{var p=l.node1.getVisual("style");h.stroke=p&&p.fill;break}case"target":{var p=l.node2.getVisual("style");h.stroke=p&&p.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var Uz="-->",vL=function(i){return i.get("autoCurveness")||null},rQ=function(i,e){var t=vL(i),n=20,r=[];if(Pn(t))n=t;else if(ze(t)){i.__curvenessList=t;return}e>n&&(n=e);var a=n%2?n+2:n+3;r=[];for(var o=0;o<a;o++)r.push((o%2?o+1:o)/10*(o%2?-1:1));i.__curvenessList=r},H1=function(i,e,t){var n=[i.id,i.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[t.uid,n,r].join(Uz)},aQ=function(i){var e=i.split(Uz);return[e[0],e[2],e[1]].join(Uz)},CMe=function(i,e){var t=H1(i.node1,i.node2,e);return e.__edgeMap[t]},EMe=function(i,e){var t=Fz(H1(i.node1,i.node2,e),e),n=Fz(H1(i.node2,i.node1,e),e);return t+n},Fz=function(i,e){var t=e.__edgeMap;return t[i]?t[i].length:0};function DMe(i){vL(i)&&(i.__curvenessList=[],i.__edgeMap={},rQ(i))}function RMe(i,e,t,n){if(vL(t)){var r=H1(i,e,t),a=t.__edgeMap,o=a[aQ(r)];a[r]&&!o?a[r].isForward=!0:o&&a[r]&&(o.isForward=!0,a[r].isForward=!1),a[r]=a[r]||[],a[r].push(n)}}function l2(i,e,t,n){var r=vL(e),a=ze(r);if(!r)return null;var o=CMe(i,e);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===t){s=l;break}var u=EMe(i,e);rQ(e,u),i.lineStyle=i.lineStyle||{};var c=H1(i.node1,i.node2,e),f=e.__curvenessList,h=a||u%2?0:1;if(o.isForward)return f[h+s];var p=aQ(c),g=Fz(p,e),y=f[s+g+h];return n?a?r&&r[0]===0?(g+h)%2?y:-y:((g%2?0:1)+h)%2?y:-y:(g+h)%2?y:-y:f[s+g+h]}function oQ(i){var e=i.coordinateSystem;if(!(e&&e.type!=="view")){var t=i.getGraph();t.eachNode(function(n){var r=n.getModel();n.setLayout([+r.get("x"),+r.get("y")])}),u2(t,i)}}function u2(i,e){i.eachEdge(function(t,n){var r=Ds(t.getModel().get(["lineStyle","curveness"]),-l2(t,e,n,!0),0),a=tf(t.node1.getLayout()),o=tf(t.node2.getLayout()),s=[a,o];+r&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*r,(a[1]+o[1])/2-(o[0]-a[0])*r]),t.setLayout(s)})}function LMe(i,e){i.eachSeriesByType("graph",function(t){var n=t.get("layout"),r=t.coordinateSystem;if(r&&r.type!=="view"){var a=t.getData(),o=[];H(r.dimensions,function(h){o=o.concat(a.mapDimensionsAll(h))});for(var s=0;s<a.count();s++){for(var l=[],u=!1,c=0;c<o.length;c++){var f=a.get(o[c],s);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(s,r.dataToPoint(l)):a.setItemLayout(s,[NaN,NaN])}u2(a.graph,t)}else(!n||n==="none")&&oQ(t)})}function Ib(i){var e=i.coordinateSystem;if(e.type!=="view")return 1;var t=i.option.nodeScaleRatio,n=e.scaleX,r=e.getZoom(),a=(r-1)*t+1;return a/n}function Pb(i){var e=i.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var v8=Math.PI,B3=[];function c2(i,e,t,n){var r=i.coordinateSystem;if(!(r&&r.type!=="view")){var a=r.getBoundingRect(),o=i.getData(),s=o.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=o.count();if(o.setLayout({cx:l,cy:u}),!!f){if(t){var h=r.pointToData(n),p=h[0],g=h[1],y=[p-l,g-u];pm(y,y),Wb(y,y,c),t.setLayout([l+y[0],u+y[1]],!0);var _=i.get(["circular","rotateLabel"]);sQ(t,_,l,u)}IMe[e](i,s,o,c,l,u,f),s.eachEdge(function(x,M){var T=Ds(x.getModel().get(["lineStyle","curveness"]),l2(x,i,M),0),C=tf(x.node1.getLayout()),E=tf(x.node2.getLayout()),D,L=(C[0]+E[0])/2,z=(C[1]+E[1])/2;+T&&(T*=3,D=[l*T+L*(1-T),u*T+z*(1-T)]),x.setLayout([C,E,D])})}}}var IMe={value:function(i,e,t,n,r,a,o){var s=0,l=t.getSum("value"),u=Math.PI*2/(l||o);e.eachNode(function(c){var f=c.getValue("value"),h=u*(l?f:1)/2;s+=h,c.setLayout([n*Math.cos(s)+r,n*Math.sin(s)+a]),s+=h})},symbolSize:function(i,e,t,n,r,a,o){var s=0;B3.length=o;var l=Ib(i);e.eachNode(function(f){var h=Pb(f);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var p=Math.asin(h/2/n);isNaN(p)&&(p=v8/2),B3[f.dataIndex]=p,s+=p*2});var u=(2*v8-s)/o/2,c=0;e.eachNode(function(f){var h=u+B3[f.dataIndex];c+=h,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([n*Math.cos(c)+r,n*Math.sin(c)+a]),c+=h})}};function sQ(i,e,t,n){var r=i.getGraphicEl();if(r){var a=i.getModel(),o=a.get(["label","rotate"])||0,s=r.getSymbolPath();if(e){var l=i.getLayout(),u=Math.atan2(l[1]-n,l[0]-t);u<0&&(u=Math.PI*2+u);var c=l[0]<t;c&&(u=u-Math.PI);var f=c?"left":"right";s.setTextConfig({rotation:-u,position:f,origin:"center"});var h=s.ensureState("emphasis");Ce(h.textConfig||(h.textConfig={}),{position:f})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function PMe(i){i.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&c2(e,"symbolSize")})}var v0=UE;function NMe(i,e,t){for(var n=i,r=e,a=t.rect,o=a.width,s=a.height,l=[a.x+o/2,a.y+s/2],u=t.gravity==null?.1:t.gravity,c=0;c<n.length;c++){var f=n[c];f.p||(f.p=Ip(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),f.pp=tf(f.p),f.edges=null}var h=t.friction==null?.6:t.friction,p=h,g,y;return{warmUp:function(){p=h*.8},setFixed:function(_){n[_].fixed=!0},setUnfixed:function(_){n[_].fixed=!1},beforeStep:function(_){g=_},afterStep:function(_){y=_},step:function(_){g&&g(n,r);for(var x=[],M=n.length,T=0;T<r.length;T++){var C=r[T];if(!C.ignoreForceLayout){var E=C.n1,D=C.n2;np(x,D.p,E.p);var L=m1(x)-C.d,z=D.w/(E.w+D.w);isNaN(z)&&(z=0),pm(x,x),!E.fixed&&v0(E.p,E.p,x,z*L*p),!D.fixed&&v0(D.p,D.p,x,-(1-z)*L*p)}}for(var T=0;T<M;T++){var P=n[T];P.fixed||(np(x,l,P.p),v0(P.p,P.p,x,u*p))}for(var T=0;T<M;T++)for(var E=n[T],N=T+1;N<M;N++){var D=n[N];np(x,D.p,E.p);var L=m1(x);L===0&&(kR(x,Math.random()-.5,Math.random()-.5),L=1);var B=(E.rep+D.rep)/L/L;!E.fixed&&v0(E.pp,E.pp,x,B),!D.fixed&&v0(D.pp,D.pp,x,-B)}for(var G=[],T=0;T<M;T++){var P=n[T];P.fixed||(np(G,P.p,P.pp),v0(P.p,P.p,G,p),So(P.pp,P.p))}p=p*.992;var U=p<.01;y&&y(n,r,U),_&&_(U)}}}function OMe(i){i.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var n=e.preservedPoints||{},r=e.getGraph(),a=r.data,o=r.edgeData,s=e.getModel("force"),l=s.get("initLayout");e.preservedPoints?a.each(function(T){var C=a.getId(T);a.setItemLayout(T,n[C]||[NaN,NaN])}):!l||l==="none"?oQ(e):l==="circular"&&c2(e,"value");var u=a.getDataExtent("value"),c=o.getDataExtent("value"),f=s.get("repulsion"),h=s.get("edgeLength"),p=ze(f)?f:[f,f],g=ze(h)?h:[h,h];g=[g[1],g[0]];var y=a.mapArray("value",function(T,C){var E=a.getItemLayout(C),D=ei(T,u,p);return isNaN(D)&&(D=(p[0]+p[1])/2),{w:D,rep:D,fixed:a.getItemModel(C).get("fixed"),p:!E||isNaN(E[0])||isNaN(E[1])?null:E}}),_=o.mapArray("value",function(T,C){var E=r.getEdgeByIndex(C),D=ei(T,c,g);isNaN(D)&&(D=(g[0]+g[1])/2);var L=E.getModel(),z=Ds(E.getModel().get(["lineStyle","curveness"]),-l2(E,e,C,!0),0);return{n1:y[E.node1.dataIndex],n2:y[E.node2.dataIndex],d:D,curveness:z,ignoreForceLayout:L.get("ignoreForceLayout")}}),x=t.getBoundingRect(),M=NMe(y,_,{rect:x,gravity:s.get("gravity"),friction:s.get("friction")});M.beforeStep(function(T,C){for(var E=0,D=T.length;E<D;E++)T[E].fixed&&So(T[E].p,r.getNodeByIndex(E).getLayout())}),M.afterStep(function(T,C,E){for(var D=0,L=T.length;D<L;D++)T[D].fixed||r.getNodeByIndex(D).setLayout(T[D].p),n[a.getId(D)]=T[D].p;for(var D=0,L=C.length;D<L;D++){var z=C[D],P=r.getEdgeByIndex(D),N=z.n1.p,B=z.n2.p,G=P.getLayout();G=G?G.slice():[],G[0]=G[0]||[],G[1]=G[1]||[],So(G[0],N),So(G[1],B),+z.curveness&&(G[2]=[(N[0]+B[0])/2-(N[1]-B[1])*z.curveness,(N[1]+B[1])/2-(B[0]-N[0])*z.curveness]),P.setLayout(G)}}),e.forceLayout=M,e.preservedPoints=n,M.step()}else e.forceLayout=null})}function zMe(i,e,t){var n=ca(i,e),r=Ce(i.getBoxLayoutParams(),{aspect:t}),a=Ui(r,n.refContainer);return OZ(i,a,t)}function BMe(i,e){var t=[];return i.eachSeriesByType("graph",function(n){yM({targetModel:n,coordSysType:"view",coordSysProvider:r,isDefaultDataCoordSys:!0});function r(){var a=n.getData(),o=a.mapArray(function(g){var y=a.getItemModel(g);return[+y.get("x"),+y.get("y")]}),s=[],l=[];qR(o,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=zMe(n,e,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-s[0],h=l[1]-s[1],p=new bm(null,{api:e,ecModel:i});return p.zoomLimit=n.get("scaleLimit"),p.setBoundingRect(s[0],s[1],f,h),p.setViewRect(c.x,c.y,c.width,c.height),p.setCenter(n.get("center")),p.setZoom(n.get("zoom")),t.push(p),p}}),t}var g8=Nr.prototype,k3=B_.prototype,lQ=(function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return i})();(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e})(lQ);function U3(i){return isNaN(+i.cpx1)||isNaN(+i.cpy1)}var uQ=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n.type="ec-line",n}return e.prototype.getDefaultStyle=function(){return{stroke:ge.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new lQ},e.prototype.buildPath=function(t,n){U3(n)?g8.buildPath.call(this,t,n):k3.buildPath.call(this,t,n)},e.prototype.pointAt=function(t){return U3(this.shape)?g8.pointAt.call(this,t):k3.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var n=this.shape,r=U3(n)?[n.x2-n.x1,n.y2-n.y1]:k3.tangentAt.call(this,t);return pm(r,r)},e})(bn),F3=["fromSymbol","toSymbol"];function m8(i){return"_"+i+"Type"}function y8(i,e,t){var n=e.getItemVisual(t,i);if(!n||n==="none")return n;var r=e.getItemVisual(t,i+"Size"),a=e.getItemVisual(t,i+"Rotate"),o=e.getItemVisual(t,i+"Offset"),s=e.getItemVisual(t,i+"KeepAspect"),l=Y_(r),u=_m(o||0,l);return n+l+u+(a||"")+(s||"")}function _8(i,e,t){var n=e.getItemVisual(t,i);if(!(!n||n==="none")){var r=e.getItemVisual(t,i+"Size"),a=e.getItemVisual(t,i+"Rotate"),o=e.getItemVisual(t,i+"Offset"),s=e.getItemVisual(t,i+"KeepAspect"),l=Y_(r),u=_m(o||0,l),c=Or(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=i,c}}function kMe(i){var e=new uQ({name:"line",subPixelOptimize:!0});return Vz(e.shape,i),e}function Vz(i,e){i.x1=e[0][0],i.y1=e[0][1],i.x2=e[1][0],i.y2=e[1][1],i.percent=1;var t=e[2];t?(i.cpx1=t[0],i.cpy1=t[1]):(i.cpx1=NaN,i.cpy1=NaN)}var f2=(function(i){fe(e,i);function e(t,n,r){var a=i.call(this)||this;return a._createLine(t,n,r),a}return e.prototype._createLine=function(t,n,r){var a=t.hostModel,o=t.getItemLayout(n),s=t.getItemVisual(n,"z2"),l=kMe(o);l.shape.percent=0,Li(l,{z2:bt(s,0),shape:{percent:1}},a,n),this.add(l),H(F3,function(u){var c=_8(u,t,n);this.add(c),this[m8(u)]=y8(u,t,n)},this),this._updateCommonStl(t,n,r)},e.prototype.updateData=function(t,n,r){var a=t.hostModel,o=this.childOfName("line"),s=t.getItemLayout(n),l={shape:{}};Vz(l.shape,s),Gn(o,l,a,n),H(F3,function(u){var c=y8(u,t,n),f=m8(u);if(this[f]!==c){this.remove(this.childOfName(u));var h=_8(u,t,n);this.add(h)}this[f]=c},this),this._updateCommonStl(t,n,r)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,n,r){var a=t.hostModel,o=this.childOfName("line"),s=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,u=r&&r.selectLineStyle,c=r&&r.labelStatesModels,f=r&&r.emphasisDisabled,h=r&&r.focus,p=r&&r.blurScope;if(!r||t.hasItemOption){var g=t.getItemModel(n),y=g.getModel("emphasis");s=y.getModel("lineStyle").getLineStyle(),l=g.getModel(["blur","lineStyle"]).getLineStyle(),u=g.getModel(["select","lineStyle"]).getLineStyle(),f=y.get("disabled"),h=y.get("focus"),p=y.get("blurScope"),c=ua(g)}var _=t.getItemVisual(n,"style"),x=_.stroke;o.useStyle(_),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,H(F3,function(D){var L=this.childOfName(D);if(L){L.setColor(x),L.style.opacity=_.opacity;for(var z=0;z<ts.length;z++){var P=ts[z],N=o.getState(P);if(N){var B=N.style||{},G=L.ensureState(P),U=G.style||(G.style={});B.stroke!=null&&(U[L.__isEmptyBrush?"stroke":"fill"]=B.stroke),B.opacity!=null&&(U.opacity=B.opacity)}}L.markRedraw()}},this);var M=a.getRawValue(n);Ma(this,c,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(D,L){return a.getFormattedLabel(D,L,t.dataType)}},inheritColor:x||ge.color.neutral99,defaultOpacity:_.opacity,defaultText:(M==null?t.getName(n):isFinite(M)?Pr(M):M)+""});var T=this.getTextContent();if(T){var C=c.normal;T.__align=T.style.align,T.__verticalAlign=T.style.verticalAlign,T.__position=C.get("position")||"middle";var E=C.get("distance");ze(E)||(E=[E,E]),T.__labelDistance=E}this.setTextConfig({position:null,local:!0,inside:!1}),Hi(this,h,p,f)},e.prototype.highlight=function(){Lh(this)},e.prototype.downplay=function(){Ih(this)},e.prototype.updateLayout=function(t,n){this.setLinePoints(t.getItemLayout(n))},e.prototype.setLinePoints=function(t){var n=this.childOfName("line");Vz(n.shape,t),n.dirty()},e.prototype.beforeUpdate=function(){var t=this,n=t.childOfName("fromSymbol"),r=t.childOfName("toSymbol"),a=t.getTextContent();if(!n&&!r&&(!a||a.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),h=np([],f,c);pm(h,h);function p(N,B){var G=N.__specifiedRotation;if(G==null){var U=l.tangentAt(B);N.attr("rotation",(B===1?-1:1)*Math.PI/2-Math.atan2(U[1],U[0]))}else N.attr("rotation",G)}if(n&&(n.setPosition(c),p(n,0),n.scaleX=n.scaleY=o*u,n.markRedraw()),r&&(r.setPosition(f),p(r,1),r.scaleX=r.scaleY=o*u,r.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var g=void 0,y=void 0,_=a.__labelDistance,x=_[0]*o,M=_[1]*o,T=u/2,C=l.tangentAt(T),E=[C[1],-C[0]],D=l.pointAt(T);E[1]>0&&(E[0]=-E[0],E[1]=-E[1]);var L=C[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var z=-Math.atan2(C[1],C[0]);f[0]<c[0]&&(z=Math.PI+z),a.rotation=z}var P=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":P=-M,y="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":P=M,y="top";break;default:P=0,y="middle"}switch(a.__position){case"end":a.x=h[0]*x+f[0],a.y=h[1]*M+f[1],g=h[0]>.8?"left":h[0]<-.8?"right":"center",y=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":a.x=-h[0]*x+c[0],a.y=-h[1]*M+c[1],g=h[0]>.8?"right":h[0]<-.8?"left":"center",y=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=x*L+c[0],a.y=c[1]+P,g=C[0]<0?"right":"left",a.originX=-x*L,a.originY=-P;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=D[0],a.y=D[1]+P,g="center",a.originY=-P;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-x*L+f[0],a.y=f[1]+P,g=C[0]>=0?"right":"left",a.originX=x*L,a.originY=-P;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||y,align:a.__align||g})}},e})(It),h2=(function(){function i(e){this.group=new It,this._LineCtor=e||f2}return i.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,r=n.group,a=n._lineData;n._lineData=e,a||r.removeAll();var o=x8(e);e.diff(a).add(function(s){t._doAdd(e,s,o)}).update(function(s,l){t._doUpdate(a,e,l,s,o)}).remove(function(s){r.remove(a.getItemGraphicEl(s))}).execute()},i.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},i.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=x8(e),this._lineData=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function n(s){!s.isGroup&&!UMe(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var r=e.start;r<e.end;r++){var a=t.getItemLayout(r);if(V3(a)){var o=new this._LineCtor(t,r,this._seriesScope);o.traverse(n),this.group.add(o),t.setItemGraphicEl(r,o),this._progressiveEls.push(o)}}},i.prototype.remove=function(){this.group.removeAll()},i.prototype.eachRendered=function(e){Pp(this._progressiveEls||this.group,e)},i.prototype._doAdd=function(e,t,n){var r=e.getItemLayout(t);if(V3(r)){var a=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,a),this.group.add(a)}},i.prototype._doUpdate=function(e,t,n,r,a){var o=e.getItemGraphicEl(n);if(!V3(t.getItemLayout(r))){this.group.remove(o);return}o?o.updateData(t,r,a):o=new this._LineCtor(t,r,a),t.setItemGraphicEl(r,o),this.group.add(o)},i})();function UMe(i){return i.animators&&i.animators.length>0}function x8(i){var e=i.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:ua(e)}}function S8(i){return isNaN(i[0])||isNaN(i[1])}function V3(i){return i&&!S8(i[0])&&!S8(i[1])}var G3=[],H3=[],W3=[],g0=Pa,X3=cp,b8=Math.abs;function M8(i,e,t){for(var n=i[0],r=i[1],a=i[2],o=1/0,s,l=t*t,u=.1,c=.1;c<=.9;c+=.1){G3[0]=g0(n[0],r[0],a[0],c),G3[1]=g0(n[1],r[1],a[1],c);var f=b8(X3(G3,e)-l);f<o&&(o=f,s=c)}for(var h=0;h<32;h++){var p=s+u;H3[0]=g0(n[0],r[0],a[0],s),H3[1]=g0(n[1],r[1],a[1],s),W3[0]=g0(n[0],r[0],a[0],p),W3[1]=g0(n[1],r[1],a[1],p);var f=X3(H3,e)-l;if(b8(f)<.01)break;var g=X3(W3,e)-l;u/=2,f<0?g>=0?s=s+u:s=s-u:g>=0?s=s-u:s=s+u}return s}function Y3(i,e){var t=[],n=y1,r=[[],[],[]],a=[[],[]],o=[];e/=2,i.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[tf(u[0]),tf(u[1])],u[2]&&u.__original.push(tf(u[2])));var h=u.__original;if(u[2]!=null){if(So(r[0],h[0]),So(r[1],h[2]),So(r[2],h[1]),c&&c!=="none"){var p=Pb(s.node1),g=M8(r,h[0],p*e);n(r[0][0],r[1][0],r[2][0],g,t),r[0][0]=t[3],r[1][0]=t[4],n(r[0][1],r[1][1],r[2][1],g,t),r[0][1]=t[3],r[1][1]=t[4]}if(f&&f!=="none"){var p=Pb(s.node2),g=M8(r,h[1],p*e);n(r[0][0],r[1][0],r[2][0],g,t),r[1][0]=t[1],r[2][0]=t[2],n(r[0][1],r[1][1],r[2][1],g,t),r[1][1]=t[1],r[2][1]=t[2]}So(u[0],r[0]),So(u[1],r[2]),So(u[2],r[1])}else{if(So(a[0],h[0]),So(a[1],h[1]),np(o,a[1],a[0]),pm(o,o),c&&c!=="none"){var p=Pb(s.node1);UE(a[0],a[0],o,p*e)}if(f&&f!=="none"){var p=Pb(s.node2);UE(a[1],a[1],o,-p*e)}So(u[0],a[0]),So(u[1],a[1])}})}var cQ=yn();function FMe(i){if(i)return cQ(i).bridge}function T8(i,e){i&&(cQ(i).bridge=e)}function w8(i){return i.type==="view"}var VMe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){var r=new bM,a=new h2,o=this.group,s=new It;this._controller=new Sm(n.getZr()),this._controllerHost={target:s},s.add(r.group),s.add(a.group),o.add(s),this._symbolDraw=r,this._lineDraw=a,this._mainGroup=s,this._firstRender=!0},e.prototype.render=function(t,n,r){var a=this,o=t.coordinateSystem,s=!1;this._model=t,this._api=r,this._active=!0;var l=this._getThumbnailInfo();l&&l.bridge.reset(r);var u=this._symbolDraw,c=this._lineDraw;if(w8(o)){var f={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?this._mainGroup.attr(f):Gn(this._mainGroup,f,t)}Y3(t.getGraph(),Ib(t));var h=t.getData();u.updateData(h);var p=t.getEdgeData();c.updateData(p),this._updateNodeAndLinkScale(),this._updateController(null,t,r),clearTimeout(this._layoutTimeout);var g=t.forceLayout,y=t.get(["force","layoutAnimation"]);g&&(s=!0,this._startForceLayoutIteration(g,r,y));var _=t.get("layout");h.graph.eachNode(function(C){var E=C.dataIndex,D=C.getGraphicEl(),L=C.getModel();if(D){D.off("drag").off("dragend");var z=L.get("draggable");z&&D.on("drag",function(N){switch(_){case"force":g.warmUp(),!a._layouting&&a._startForceLayoutIteration(g,r,y),g.setFixed(E),h.setItemLayout(E,[D.x,D.y]);break;case"circular":h.setItemLayout(E,[D.x,D.y]),C.setLayout({fixed:!0},!0),c2(t,"symbolSize",C,[N.offsetX,N.offsetY]),a.updateLayout(t);break;case"none":default:h.setItemLayout(E,[D.x,D.y]),u2(t.getGraph(),t),a.updateLayout(t);break}}).on("dragend",function(){g&&g.setUnfixed(E)}),D.setDraggable(z,!!L.get("cursor"));var P=L.get(["emphasis","focus"]);P==="adjacency"&&(Ht(D).focus=C.getAdjacentDataIndices())}}),h.graph.eachEdge(function(C){var E=C.getGraphicEl(),D=C.getModel().get(["emphasis","focus"]);E&&D==="adjacency"&&(Ht(E).focus={edge:[C.dataIndex],node:[C.node1.dataIndex,C.node2.dataIndex]})});var x=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),M=h.getLayout("cx"),T=h.getLayout("cy");h.graph.eachNode(function(C){sQ(C,x,M,T)}),this._firstRender=!1,s||this._renderThumbnail(t,r,this._symbolDraw,this._lineDraw)},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,n,r){var a=this,o=!1;(function s(){t.step(function(l){a.updateLayout(a._model),(l||!o)&&(o=!0,a._renderThumbnail(a._model,n,a._symbolDraw,a._lineDraw)),(a._layouting=!l)&&(r?a._layoutTimeout=setTimeout(s,16):s())})})()},e.prototype._updateController=function(t,n,r){var a=this._controller,o=this._controllerHost,s=n.coordinateSystem;if(!w8(s)){a.disable();return}a.enable(n.get("roam"),{api:r,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(l,u,c){return s.containPoint([u,c])},isInClip:function(l,u,c){return!t||t.contain(u,c)}}}),o.zoomLimit=n.get("scaleLimit"),o.zoom=s.getZoom(),a.off("pan").off("zoom").on("pan",function(l){r.dispatchAction({seriesId:n.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){r.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY})})},e.prototype.updateViewOnPan=function(t,n,r){this._active&&(e2(this._controllerHost,r.dx,r.dy),this._updateThumbnailWindow())},e.prototype.updateViewOnZoom=function(t,n,r){this._active&&(t2(this._controllerHost,r.zoom,r.originX,r.originY),this._updateNodeAndLinkScale(),Y3(t.getGraph(),Ib(t)),this._lineDraw.updateLayout(),n.updateLabelLayout(),this._updateThumbnailWindow())},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,n=t.getData(),r=Ib(t);n.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(r)})},e.prototype.updateLayout=function(t){this._active&&(Y3(t.getGraph(),Ib(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},e.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},e.prototype._getThumbnailInfo=function(){var t=this._model,n=t.coordinateSystem;if(n.type==="view"){var r=FMe(t);if(r)return{bridge:r,coordSys:n}}},e.prototype._updateThumbnailWindow=function(){var t=this._getThumbnailInfo();t&&t.bridge.updateWindow(t.coordSys.transform,this._api)},e.prototype._renderThumbnail=function(t,n,r,a){var o=this._getThumbnailInfo();if(o){var s=new It,l=r.group.children(),u=a.group.children(),c=new It,f=new It;s.add(f),s.add(c);for(var h=0;h<l.length;h++){var p=l[h],g=p.children()[0],y=p.x,_=p.y,x=Lt(g.shape),M=Ce(x,{width:g.scaleX,height:g.scaleY,x:y-g.scaleX/2,y:_-g.scaleY/2}),T=Lt(g.style),C=new g.constructor({shape:M,style:T,z2:151});f.add(C)}for(var h=0;h<u.length;h++){var p=u[h],E=p.children()[0],T=Lt(E.style),M=Lt(E.shape),D=new uQ({style:T,shape:M,z2:151});c.add(D)}o.bridge.renderContent({api:n,roamType:t.get("roam"),viewportRect:null,group:s,targetTrans:o.coordSys.transform})}},e.type="graph",e})(fi);function m0(i){return"_EC_"+i}var GMe=(function(){function i(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return i.prototype.isDirected=function(){return this._directed},i.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var n=this._nodesMap;if(!n[m0(e)]){var r=new gg(e,t);return r.hostGraph=this,this.nodes.push(r),n[m0(e)]=r,r}},i.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},i.prototype.getNodeById=function(e){return this._nodesMap[m0(e)]},i.prototype.addEdge=function(e,t,n){var r=this._nodesMap,a=this._edgesMap;if(Pn(e)&&(e=this.nodes[e]),Pn(t)&&(t=this.nodes[t]),e instanceof gg||(e=r[m0(e)]),t instanceof gg||(t=r[m0(t)]),!(!e||!t)){var o=e.id+"-"+t.id,s=new fQ(e,t,n);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),a[o]=s,s}},i.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},i.prototype.getEdge=function(e,t){e instanceof gg&&(e=e.id),t instanceof gg&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},i.prototype.eachNode=function(e,t){for(var n=this.nodes,r=n.length,a=0;a<r;a++)n[a].dataIndex>=0&&e.call(t,n[a],a)},i.prototype.eachEdge=function(e,t){for(var n=this.edges,r=n.length,a=0;a<r;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&e.call(t,n[a],a)},i.prototype.breadthFirstTraverse=function(e,t,n,r){if(t instanceof gg||(t=this._nodesMap[m0(t)]),!!t){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(r,t,null))for(var s=[t];s.length;)for(var l=s.shift(),u=l[a],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(e.call(r,f,l))return;s.push(f),f.__visited=!0}}}},i.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,r=this.edges,a=0,o=n.length;a<o;a++)n[a].dataIndex=-1;for(var a=0,o=e.count();a<o;a++)n[e.getRawIndex(a)].dataIndex=a;t.filterSelf(function(s){var l=r[t.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,o=r.length;a<o;a++)r[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)r[t.getRawIndex(a)].dataIndex=a},i.prototype.clone=function(){for(var e=new i(this._directed),t=this.nodes,n=this.edges,r=0;r<t.length;r++)e.addNode(t[r].id,t[r].dataIndex);for(var r=0;r<n.length;r++){var a=n[r];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},i})(),gg=(function(){function i(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return i.prototype.degree=function(){return this.edges.length},i.prototype.inDegree=function(){return this.inEdges.length},i.prototype.outDegree=function(){return this.outEdges.length},i.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},i.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},i.prototype.getTrajectoryDataIndices=function(){for(var e=St(),t=St(),n=0,r=this.edges.length;n<r;n++){var a=this.edges[n];if(!(a.dataIndex<0)){e.set(a.dataIndex,!0);for(var o=[a.node1],s=[a.node2],l=0;l<o.length;){var u=o[l];l++,t.set(u.dataIndex,!0);for(var c=u.inEdges,f=0,h=c.length,p=void 0,g=void 0;f<h;f++)p=c[f],g=p.dataIndex,g>=0&&!e.hasKey(g)&&(e.set(g,!0),o.push(p.node1))}for(l=0;l<s.length;){var y=s[l];l++,t.set(y.dataIndex,!0);for(var _=y.outEdges,f=0,x=_.length,M=void 0,T=void 0;f<x;f++)M=_[f],T=M.dataIndex,T>=0&&!e.hasKey(T)&&(e.set(T,!0),s.push(M.node2))}}}return{edge:e.keys(),node:t.keys()}},i})(),fQ=(function(){function i(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=n??-1}return i.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}},i.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},i.prototype.getTrajectoryDataIndices=function(){var e=St(),t=St();e.set(this.dataIndex,!0);for(var n=[this.node1],r=[this.node2],a=0;a<n.length;){var o=n[a];a++,t.set(o.dataIndex,!0);for(var s=o.inEdges,l=0,u=s.length,c=void 0,f=void 0;l<u;l++)c=o.inEdges[l],f=c.dataIndex,f>=0&&!e.hasKey(f)&&(e.set(f,!0),n.push(c.node1))}for(a=0;a<r.length;){var h=r[a];a++,t.set(h.dataIndex,!0);for(var p=h.outEdges,l=0,u=p.length,g=void 0,y=void 0;l<u;l++)g=h.outEdges[l],y=g.dataIndex,y>=0&&!e.hasKey(y)&&(e.set(y,!0),r.push(g.node2))}return{edge:e.keys(),node:t.keys()}},i})();function hQ(i,e){return{getValue:function(t){var n=this[i][e];return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,n){this.dataIndex>=0&&this[i][e].setItemVisual(this.dataIndex,t,n)},getVisual:function(t){return this[i][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,n){this.dataIndex>=0&&this[i][e].setItemLayout(this.dataIndex,t,n)},getLayout:function(){return this[i][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[i][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[i][e].getRawIndex(this.dataIndex)}}}Sr(gg,hQ("hostGraph","data"));Sr(fQ,hQ("hostGraph","edgeData"));function d2(i,e,t,n,r){for(var a=new GMe(n),o=0;o<i.length;o++)a.addNode(Na(i[o].id,i[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<e.length;o++){var c=e[o],f=c.source,h=c.target;a.addEdge(f,h,u)&&(l.push(c),s.push(Na(sa(c.id,null),f+" > "+h)),u++)}var p=t.get("coordinateSystem"),g;if(p==="cartesian2d"||p==="polar"||p==="matrix")g=yf(i,t);else{var y=H_.get(p),_=y?y.dimensions||[]:[];en(_,"value")<0&&_.concat(["value"]);var x=q_(i,{coordDimensions:_,encodeDefine:t.getEncode()}).dimensions;g=new Ao(x,t),g.initData(i)}var M=new Ao(["value"],t);return M.initData(l,s),r&&r(g,M),Y$({mainData:g,struct:a,structAttr:"graph",datas:{node:g,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var HMe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){i.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new Q_(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){i.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){i.prototype.mergeDefaultAndTheme.apply(this,arguments),em(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,n){var r=t.edges||t.links||[],a=t.data||t.nodes||[],o=this;if(a&&r){DMe(this);var s=d2(a,r,this,!0,l);return H(s.edges,function(u){RMe(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(g){var y=o._categoriesModels,_=g.getShallow("category"),x=y[_];return x&&(x.parentModel=g.parentModel,g.parentModel=x),g});var f=Sn.prototype.getModel;function h(g,y){var _=f.call(this,g,y);return _.resolveParentPath=p,_}c.wrapMethod("getItemModel",function(g){return g.resolveParentPath=p,g.getModel=h,g});function p(g){if(g&&(g[0]==="label"||g[1]==="label")){var y=g.slice();return g[0]==="label"?y[0]="edgeLabel":g[1]==="label"&&(y[1]="edgeLabel"),y}return g}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,n,r){if(r==="edge"){var a=this.getData(),o=this.getDataParams(t,r),s=a.graph.getEdgeByIndex(t),l=a.getName(s.node1.dataIndex),u=a.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Kr("nameValue",{name:c.join(" > "),value:o.value,noValue:o.value==null})}var f=vj({series:this,dataIndex:t,multipleSeries:n});return f},e.prototype._updateCategoriesData=function(){var t=Ge(this.option.categories||[],function(r){return r.value!=null?r:Ce({value:0},r)}),n=new Ao(["value"],this);n.initData(t),this._categoriesData=n,this._categoriesModels=n.mapArray(function(r){return n.getItemModel(r)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return i.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:ge.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:ge.color.primary}}},e})(vi);function WMe(i){i.registerChartView(VMe),i.registerSeriesModel(HMe),i.registerProcessor(TMe),i.registerVisual(wMe),i.registerVisual(AMe),i.registerLayout(LMe),i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,PMe),i.registerLayout(OMe),i.registerCoordinateSystem("graphView",{dimensions:bm.dimensions,create:BMe}),i.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},_r),i.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},_r),i.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",query:e},function(r){var a=n.getViewOfSeriesModel(r);a&&(e.dx!=null&&e.dy!=null&&a.updateViewOnPan(r,n,e),e.zoom!=null&&e.originX!=null&&e.originY!=null&&a.updateViewOnZoom(r,n,e));var o=r.coordinateSystem,s=hL(o,e,r.get("scaleLimit"));r.setCenter&&r.setCenter(s.center),r.setZoom&&r.setZoom(s.zoom)})})}var A8=(function(i){fe(e,i);function e(t,n,r){var a=i.call(this)||this;Ht(a).dataType="node",a.z2=2;var o=new In;return a.setTextContent(o),a.updateData(t,n,r,!0),a}return e.prototype.updateData=function(t,n,r,a){var o=this,s=t.graph.getNodeByIndex(n),l=t.hostModel,u=s.getModel(),c=u.getModel("emphasis"),f=t.getItemLayout(n),h=Ce(Qc(u.getModel("itemStyle"),f,!0),f),p=this;if(isNaN(h.startAngle)){p.setShape(h);return}a?p.setShape(h):Gn(p,{shape:h},l,n);var g=Ce(Qc(u.getModel("itemStyle"),f,!0),f);o.setShape(g),o.useStyle(t.getItemVisual(n,"style")),la(o,u),this._updateLabel(l,u,s),t.setItemGraphicEl(n,p),la(p,u,"itemStyle");var y=c.get("focus");Hi(this,y==="adjacency"?s.getAdjacentDataIndices():y,c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,n,r){var a=this.getTextContent(),o=r.getLayout(),s=(o.startAngle+o.endAngle)/2,l=Math.cos(s),u=Math.sin(s),c=n.getModel("label");a.ignore=!c.get("show");var f=ua(n),h=r.getVisual("style");Ma(a,f,{labelFetcher:{getFormattedLabel:function(M,T,C,E,D,L){return t.getFormattedLabel(M,T,"node",E,Ds(D,f.normal&&f.normal.get("formatter"),n.get("name")),L)}},labelDataIndex:r.dataIndex,defaultText:r.dataIndex+"",inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:"startArc"});var p=c.get("position")||"outside",g=c.get("distance")||0,y;p==="outside"?y=o.r+g:y=(o.r+o.r0)/2,this.textConfig={inside:p!=="outside"};var _=p!=="outside"?c.get("align")||"center":l>0?"left":"right",x=p!=="outside"?c.get("verticalAlign")||"middle":u>0?"top":"bottom";a.attr({x:l*y+o.cx,y:u*y+o.cy,rotation:0,style:{align:_,verticalAlign:x}})},e})(io),XMe=(function(i){fe(e,i);function e(t,n,r,a){var o=i.call(this)||this;return Ht(o).dataType="edge",o.updateData(t,n,r,a,!0),o}return e.prototype.buildPath=function(t,n){t.moveTo(n.s1[0],n.s1[1]);var r=.7,a=n.clockwise;t.arc(n.cx,n.cy,n.r,n.sStartAngle,n.sEndAngle,!a),t.bezierCurveTo((n.cx-n.s2[0])*r+n.s2[0],(n.cy-n.s2[1])*r+n.s2[1],(n.cx-n.t1[0])*r+n.t1[0],(n.cy-n.t1[1])*r+n.t1[1],n.t1[0],n.t1[1]),t.arc(n.cx,n.cy,n.r,n.tStartAngle,n.tEndAngle,!a),t.bezierCurveTo((n.cx-n.t2[0])*r+n.t2[0],(n.cy-n.t2[1])*r+n.t2[1],(n.cx-n.s1[0])*r+n.s1[0],(n.cy-n.s1[1])*r+n.s1[1],n.s1[0],n.s1[1]),t.closePath()},e.prototype.updateData=function(t,n,r,a,o){var s=t.hostModel,l=n.graph.getEdgeByIndex(r),u=l.getLayout(),c=l.node1.getModel(),f=n.getItemModel(l.dataIndex),h=f.getModel("lineStyle"),p=f.getModel("emphasis"),g=p.get("focus"),y=Ce(Qc(c.getModel("itemStyle"),u,!0),u),_=this;if(isNaN(y.sStartAngle)||isNaN(y.tStartAngle)){_.setShape(y);return}o?(_.setShape(y),C8(_,l,t,h)):($l(_),C8(_,l,t,h),Gn(_,{shape:y},s,r)),Hi(this,g==="adjacency"?l.getAdjacentDataIndices():g,p.get("blurScope"),p.get("disabled")),la(_,f,"lineStyle"),n.setItemGraphicEl(l.dataIndex,_)},e})(bn);function C8(i,e,t,n){var r=e.node1,a=e.node2,o=i.style;i.setStyle(n.getLineStyle());var s=n.get("color");switch(s){case"source":o.fill=t.getItemVisual(r.dataIndex,"style").fill,o.decal=r.getVisual("style").decal;break;case"target":o.fill=t.getItemVisual(a.dataIndex,"style").fill,o.decal=a.getVisual("style").decal;break;case"gradient":var l=t.getItemVisual(r.dataIndex,"style").fill,u=t.getItemVisual(a.dataIndex,"style").fill;if(rt(l)&&rt(u)){var c=i.shape,f=(c.s1[0]+c.s2[0])/2,h=(c.s1[1]+c.s2[1])/2,p=(c.t1[0]+c.t2[0])/2,g=(c.t1[1]+c.t2[1])/2;o.fill=new vm(f,h,p,g,[{offset:0,color:l},{offset:1,color:u}],!0)}break}}var YMe=Math.PI/180,qMe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r){var a=t.getData(),o=this._data,s=this.group,l=-t.get("startAngle")*YMe;if(a.diff(o).add(function(c){var f=a.getItemLayout(c);if(f){var h=new A8(a,c,l);Ht(h).dataIndex=c,s.add(h)}}).update(function(c,f){var h=o.getItemGraphicEl(f),p=a.getItemLayout(c);if(!p){h&&Th(h,t,f);return}h?h.updateData(a,c,l):h=new A8(a,c,l),s.add(h)}).remove(function(c){var f=o.getItemGraphicEl(c);f&&Th(f,t,c)}).execute(),!o){var u=t.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=it(u[0],r.getWidth()),this.group.originY=it(u[1],r.getHeight()),Li(this.group,{scaleX:1,scaleY:1},t)}this._data=a,this.renderEdges(t,l)},e.prototype.renderEdges=function(t,n){var r=t.getData(),a=t.getEdgeData(),o=this._edgeData,s=this.group;a.diff(o).add(function(l){var u=new XMe(r,a,l,n);Ht(u).dataIndex=l,s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(r,a,l,n),s.add(c)}).remove(function(l){var u=o.getItemGraphicEl(l);u&&Th(u,t,l)}).execute(),this._edgeData=a},e.prototype.dispose=function(){},e.type="chord",e})(fi),ZMe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){i.prototype.init.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this.legendVisualProvider=new Q_(at(this.getData,this),at(this.getRawData,this))},e.prototype.mergeOption=function(t){i.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links)},e.prototype.getInitialData=function(t,n){var r=t.edges||t.links||[],a=t.data||t.nodes||[];if(a&&r){var o=d2(a,r,this,!0,s);return o.data}function s(l,u){var c=Sn.prototype.getModel;function f(p,g){var y=c.call(this,p,g);return y.resolveParentPath=h,y}u.wrapMethod("getItemModel",function(p){return p.resolveParentPath=h,p.getModel=f,p});function h(p){if(p&&(p[0]==="label"||p[1]==="label")){var g=p.slice();return p[0]==="label"?g[0]="edgeLabel":p[1]==="label"&&(g[1]="edgeLabel"),g}return p}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,n,r){var a=this.getDataParams(t,r);if(r==="edge"){var o=this.getData(),s=o.graph.getEdgeByIndex(t),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Kr("nameValue",{name:c.join(" > "),value:a.value,noValue:a.value==null})}return Kr("nameValue",{name:a.name,value:a.value,noValue:a.value==null})},e.prototype.getDataParams=function(t,n){var r=i.prototype.getDataParams.call(this,t,n);if(n==="node"){var a=this.getData(),o=this.getGraph().getNodeByIndex(t);if(r.name==null&&(r.name=a.getName(t)),r.value==null){var s=o.getLayout().value;r.value=s}}return r},e.type="series.chord",e.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},e})(vi),q3=Math.PI/180;function jMe(i,e){i.eachSeriesByType("chord",function(t){KMe(t,e)})}function KMe(i,e){var t=i.getData(),n=t.graph,r=i.getEdgeData(),a=r.count();if(a){var o=NZ(i,e),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=Math.max((i.get("padAngle")||0)*q3,0),h=Math.max((i.get("minAngle")||0)*q3,0),p=-i.get("startAngle")*q3,g=p+Math.PI*2,y=i.get("clockwise"),_=y?1:-1,x=[p,g];ZR(x,!y);var M=x[0],T=x[1],C=T-M,E=t.getSum("value")===0&&r.getSum("value")===0,D=[],L=0;n.eachEdge(function(K){var te=E?1:K.getValue("value");E&&(te>0||h)&&(L+=2);var ie=K.node1.dataIndex,Y=K.node2.dataIndex;D[ie]=(D[ie]||0)+te,D[Y]=(D[Y]||0)+te});var z=0;if(n.eachNode(function(K){var te=K.getValue("value");isNaN(te)||(D[K.dataIndex]=Math.max(te,D[K.dataIndex]||0)),!E&&(D[K.dataIndex]>0||h)&&L++,z+=D[K.dataIndex]||0}),!(L===0||z===0)){f*L>=Math.abs(C)&&(f=Math.max(0,(Math.abs(C)-h*L)/L)),(f+h)*L>=Math.abs(C)&&(h=(Math.abs(C)-f*L)/L);var P=(C-f*L*_)/z,N=0,B=0,G=0;n.eachNode(function(K){var te=D[K.dataIndex]||0,ie=P*(z?te:1)*_;Math.abs(ie)<h?N+=h-Math.abs(ie):(B+=Math.abs(ie)-h,G+=Math.abs(ie)),K.setLayout({angle:ie,value:te})});var U=!1;if(N>B){var X=N/B;n.eachNode(function(K){var te=K.getLayout().angle;Math.abs(te)>=h?K.setLayout({angle:te*X,ratio:X},!0):K.setLayout({angle:h,ratio:h===0?1:te/h},!0)})}else n.eachNode(function(K){if(!U){var te=K.getLayout().angle,ie=Math.min(te/G,1),Y=ie*N;te-Y<h&&(U=!0)}});var q=N;n.eachNode(function(K){if(!(q<=0)){var te=K.getLayout().angle;if(te>h&&h>0){var ie=U?1:Math.min(te/G,1),Y=te-h,ee=Math.min(Y,Math.min(q,N*ie));q-=ee,K.setLayout({angle:te-ee,ratio:(te-ee)/te},!0)}else h>0&&K.setLayout({angle:h,ratio:te===0?1:h/te},!0)}});var V=M,j=[];n.eachNode(function(K){var te=Math.max(K.getLayout().angle,h);K.setLayout({cx:s,cy:l,r0:c,r:u,startAngle:V,endAngle:V+te*_,clockwise:y},!0),j[K.dataIndex]=V,V+=(te+f)*_}),n.eachEdge(function(K){var te=E?1:K.getValue("value"),ie=P*(z?te:1)*_,Y=K.node1.dataIndex,ee=j[Y]||0,oe=Math.abs((K.node1.getLayout().ratio||1)*ie),de=ee+oe*_,Pe=[s+c*Math.cos(ee),l+c*Math.sin(ee)],he=[s+c*Math.cos(de),l+c*Math.sin(de)],Se=K.node2.dataIndex,Ee=j[Se]||0,Te=Math.abs((K.node2.getLayout().ratio||1)*ie),He=Ee+Te*_,We=[s+c*Math.cos(Ee),l+c*Math.sin(Ee)],Qe=[s+c*Math.cos(He),l+c*Math.sin(He)];K.setLayout({s1:Pe,s2:he,sStartAngle:ee,sEndAngle:de,t1:We,t2:Qe,tStartAngle:Ee,tEndAngle:He,cx:s,cy:l,r:c,value:te,clockwise:y}),j[Y]=de,j[Se]=He})}}}function $Me(i){i.registerChartView(qMe),i.registerSeriesModel(ZMe),i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,jMe),i.registerProcessor(K_("chord"))}var QMe=(function(){function i(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return i})(),JMe=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n.type="pointer",n}return e.prototype.getDefaultShape=function(){return new QMe},e.prototype.buildPath=function(t,n){var r=Math.cos,a=Math.sin,o=n.r,s=n.width,l=n.angle,u=n.x-r(l)*s*(s>=o/3?1:2),c=n.y-a(l)*s*(s>=o/3?1:2);l=n.angle-Math.PI/2,t.moveTo(u,c),t.lineTo(n.x+r(l)*s,n.y+a(l)*s),t.lineTo(n.x+r(n.angle)*o,n.y+a(n.angle)*o),t.lineTo(n.x-r(l)*s,n.y-a(l)*s),t.lineTo(u,c)},e})(bn);function eTe(i,e){var t=i.get("center"),n=e.getWidth(),r=e.getHeight(),a=Math.min(n,r),o=it(t[0],e.getWidth()),s=it(t[1],e.getHeight()),l=it(i.get("radius"),a/2);return{cx:o,cy:s,r:l}}function JA(i,e){var t=i==null?"":i+"";return e&&(rt(e)?t=e.replace("{value}",t):Ct(e)&&(t=e(i))),t}var tTe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),o=eTe(t,r);this._renderMain(t,n,r,a,o),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,n,r,a,o){var s=this.group,l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,f=t.getModel("axisLine"),h=f.get("roundCap"),p=h?TD:io,g=f.get("show"),y=f.getModel("lineStyle"),_=y.get("width"),x=[u,c];ZR(x,!l),u=x[0],c=x[1];for(var M=c-u,T=u,C=[],E=0;g&&E<a.length;E++){var D=Math.min(Math.max(a[E][0],0),1);c=u+M*D;var L=new p({shape:{startAngle:T,endAngle:c,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-_,r:o.r},silent:!0});L.setStyle({fill:a[E][1]}),L.setStyle(y.getLineStyle(["color","width"])),C.push(L),T=c}C.reverse(),H(C,function(P){return s.add(P)});var z=function(P){if(P<=0)return a[0][1];var N;for(N=0;N<a.length;N++)if(a[N][0]>=P&&(N===0?0:a[N-1][0])<P)return a[N][1];return a[N-1][1]};this._renderTicks(t,n,r,z,o,u,c,l,_),this._renderTitleAndDetail(t,n,r,z,o),this._renderAnchor(t,o),this._renderPointer(t,n,r,z,o,u,c,l,_)},e.prototype._renderTicks=function(t,n,r,a,o,s,l,u,c){for(var f=this.group,h=o.cx,p=o.cy,g=o.r,y=+t.get("min"),_=+t.get("max"),x=t.getModel("splitLine"),M=t.getModel("axisTick"),T=t.getModel("axisLabel"),C=t.get("splitNumber"),E=M.get("splitNumber"),D=it(x.get("length"),g),L=it(M.get("length"),g),z=s,P=(l-s)/C,N=P/E,B=x.getModel("lineStyle").getLineStyle(),G=M.getModel("lineStyle").getLineStyle(),U=x.get("distance"),X,q,V=0;V<=C;V++){if(X=Math.cos(z),q=Math.sin(z),x.get("show")){var j=U?U+c:c,K=new Nr({shape:{x1:X*(g-j)+h,y1:q*(g-j)+p,x2:X*(g-D-j)+h,y2:q*(g-D-j)+p},style:B,silent:!0});B.stroke==="auto"&&K.setStyle({stroke:a(V/C)}),f.add(K)}if(T.get("show")){var j=T.get("distance")+U,te=JA(Pr(V/C*(_-y)+y),T.get("formatter")),ie=a(V/C),Y=X*(g-D-j)+h,ee=q*(g-D-j)+p,oe=T.get("rotate"),de=0;oe==="radial"?(de=-z+2*Math.PI,de>Math.PI/2&&(de+=Math.PI)):oe==="tangential"?de=-z-Math.PI/2:Pn(oe)&&(de=oe*Math.PI/180),de===0?f.add(new In({style:Si(T,{text:te,x:Y,y:ee,verticalAlign:q<-.8?"top":q>.8?"bottom":"middle",align:X<-.4?"left":X>.4?"right":"center"},{inheritColor:ie}),silent:!0})):f.add(new In({style:Si(T,{text:te,x:Y,y:ee,verticalAlign:"middle",align:"center"},{inheritColor:ie}),silent:!0,originX:Y,originY:ee,rotation:de}))}if(M.get("show")&&V!==C){var j=M.get("distance");j=j?j+c:c;for(var Pe=0;Pe<=E;Pe++){X=Math.cos(z),q=Math.sin(z);var he=new Nr({shape:{x1:X*(g-j)+h,y1:q*(g-j)+p,x2:X*(g-L-j)+h,y2:q*(g-L-j)+p},silent:!0,style:G});G.stroke==="auto"&&he.setStyle({stroke:a((V+Pe/E)/C)}),f.add(he),z+=N}z-=N}else z+=P}},e.prototype._renderPointer=function(t,n,r,a,o,s,l,u,c){var f=this.group,h=this._data,p=this._progressEls,g=[],y=t.get(["pointer","show"]),_=t.getModel("progress"),x=_.get("show"),M=t.getData(),T=M.mapDimension("value"),C=+t.get("min"),E=+t.get("max"),D=[C,E],L=[s,l];function z(N,B){var G=M.getItemModel(N),U=G.getModel("pointer"),X=it(U.get("width"),o.r),q=it(U.get("length"),o.r),V=t.get(["pointer","icon"]),j=U.get("offsetCenter"),K=it(j[0],o.r),te=it(j[1],o.r),ie=U.get("keepAspect"),Y;return V?Y=Or(V,K-X/2,te-q,X,q,null,ie):Y=new JMe({shape:{angle:-Math.PI/2,width:X,r:q,x:K,y:te}}),Y.rotation=-(B+Math.PI/2),Y.x=o.cx,Y.y=o.cy,Y}function P(N,B){var G=_.get("roundCap"),U=G?TD:io,X=_.get("overlap"),q=X?_.get("width"):c/M.count(),V=X?o.r-q:o.r-(N+1)*q,j=X?o.r:o.r-N*q,K=new U({shape:{startAngle:s,endAngle:B,cx:o.cx,cy:o.cy,clockwise:u,r0:V,r:j}});return X&&(K.z2=ei(M.get(T,N),[C,E],[100,0],!0)),K}(x||y)&&(M.diff(h).add(function(N){var B=M.get(T,N);if(y){var G=z(N,s);Li(G,{rotation:-((isNaN(+B)?L[0]:ei(B,D,L,!0))+Math.PI/2)},t),f.add(G),M.setItemGraphicEl(N,G)}if(x){var U=P(N,s),X=_.get("clip");Li(U,{shape:{endAngle:ei(B,D,L,X)}},t),f.add(U),BO(t.seriesIndex,M.dataType,N,U),g[N]=U}}).update(function(N,B){var G=M.get(T,N);if(y){var U=h.getItemGraphicEl(B),X=U?U.rotation:s,q=z(N,X);q.rotation=X,Gn(q,{rotation:-((isNaN(+G)?L[0]:ei(G,D,L,!0))+Math.PI/2)},t),f.add(q),M.setItemGraphicEl(N,q)}if(x){var V=p[B],j=V?V.shape.endAngle:s,K=P(N,j),te=_.get("clip");Gn(K,{shape:{endAngle:ei(G,D,L,te)}},t),f.add(K),BO(t.seriesIndex,M.dataType,N,K),g[N]=K}}).execute(),M.each(function(N){var B=M.getItemModel(N),G=B.getModel("emphasis"),U=G.get("focus"),X=G.get("blurScope"),q=G.get("disabled");if(y){var V=M.getItemGraphicEl(N),j=M.getItemVisual(N,"style"),K=j.fill;if(V instanceof Ta){var te=V.style;V.useStyle(Ce({image:te.image,x:te.x,y:te.y,width:te.width,height:te.height},j))}else V.useStyle(j),V.type!=="pointer"&&V.setColor(K);V.setStyle(B.getModel(["pointer","itemStyle"]).getItemStyle()),V.style.fill==="auto"&&V.setStyle("fill",a(ei(M.get(T,N),D,[0,1],!0))),V.z2EmphasisLift=0,la(V,B),Hi(V,U,X,q)}if(x){var ie=g[N];ie.useStyle(M.getItemVisual(N,"style")),ie.setStyle(B.getModel(["progress","itemStyle"]).getItemStyle()),ie.z2EmphasisLift=0,la(ie,B),Hi(ie,U,X,q)}}),this._progressEls=g)},e.prototype._renderAnchor=function(t,n){var r=t.getModel("anchor"),a=r.get("show");if(a){var o=r.get("size"),s=r.get("icon"),l=r.get("offsetCenter"),u=r.get("keepAspect"),c=Or(s,n.cx-o/2+it(l[0],n.r),n.cy-o/2+it(l[1],n.r),o,o,null,u);c.z2=r.get("showAbove")?1:0,c.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(t,n,r,a,o){var s=this,l=t.getData(),u=l.mapDimension("value"),c=+t.get("min"),f=+t.get("max"),h=new It,p=[],g=[],y=t.isAnimationEnabled(),_=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(x){p[x]=new In({silent:!0}),g[x]=new In({silent:!0})}).update(function(x,M){p[x]=s._titleEls[M],g[x]=s._detailEls[M]}).execute(),l.each(function(x){var M=l.getItemModel(x),T=l.get(u,x),C=new It,E=a(ei(T,[c,f],[0,1],!0)),D=M.getModel("title");if(D.get("show")){var L=D.get("offsetCenter"),z=o.cx+it(L[0],o.r),P=o.cy+it(L[1],o.r),N=p[x];N.attr({z2:_?0:2,style:Si(D,{x:z,y:P,text:l.getName(x),align:"center",verticalAlign:"middle"},{inheritColor:E})}),C.add(N)}var B=M.getModel("detail");if(B.get("show")){var G=B.get("offsetCenter"),U=o.cx+it(G[0],o.r),X=o.cy+it(G[1],o.r),q=it(B.get("width"),o.r),V=it(B.get("height"),o.r),j=t.get(["progress","show"])?l.getItemVisual(x,"style").fill:E,N=g[x],K=B.get("formatter");N.attr({z2:_?0:2,style:Si(B,{x:U,y:X,text:JA(T,K),width:isNaN(q)?null:q,height:isNaN(V)?null:V,align:"center",verticalAlign:"middle"},{inheritColor:j})}),gZ(N,{normal:B},T,function(ie){return JA(ie,K)}),y&&mZ(N,x,l,t,{getFormattedLabel:function(ie,Y,ee,oe,de,Pe){return JA(Pe?Pe.interpolatedValue:T,K)}}),C.add(N)}h.add(C)}),this.group.add(h),this._titleEls=p,this._detailEls=g},e.type="gauge",e})(fi),nTe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,n){return $_(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,ge.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:ge.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:ge.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:ge.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:ge.color.neutral00,borderWidth:0,borderColor:ge.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:ge.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:ge.color.transparent,borderWidth:0,borderColor:ge.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:ge.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e})(vi);function iTe(i){i.registerChartView(tTe),i.registerSeriesModel(nTe)}var rTe=["itemStyle","opacity"],aTe=(function(i){fe(e,i);function e(t,n){var r=i.call(this)||this,a=r,o=new Ba,s=new In;return a.setTextContent(s),r.setTextGuideLine(o),r.updateData(t,n,!0),r}return e.prototype.updateData=function(t,n,r){var a=this,o=t.hostModel,s=t.getItemModel(n),l=t.getItemLayout(n),u=s.getModel("emphasis"),c=s.get(rTe);c=c??1,r||$l(a),a.useStyle(t.getItemVisual(n,"style")),a.style.lineJoin="round",r?(a.setShape({points:l.points}),a.style.opacity=0,Li(a,{style:{opacity:c}},o,n)):Gn(a,{style:{opacity:c},shape:{points:l.points}},o,n),la(a,s),this._updateLabel(t,n),Hi(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,n){var r=this,a=this.getTextGuideLine(),o=r.getTextContent(),s=t.hostModel,l=t.getItemModel(n),u=t.getItemLayout(n),c=u.label,f=t.getItemVisual(n,"style"),h=f.fill;Ma(o,ua(l),{labelFetcher:t.hostModel,labelDataIndex:n,defaultOpacity:f.opacity,defaultText:t.getName(n)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}});var p=l.getModel("label"),g=p.get("color"),y=g==="inherit"?h:null;r.setTextConfig({local:!0,inside:!!c.inside,insideStroke:y,outsideFill:y});var _=c.linePoints;a.setShape({points:_}),r.textGuideLineConfig={anchor:_?new kt(_[0][0],_[0][1]):null},Gn(o,{style:{x:c.x,y:c.y}},s,n),o.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),FU(r,VU(l),{stroke:h})},e})(ro),oTe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,r){var a=t.getData(),o=this._data,s=this.group;a.diff(o).add(function(l){var u=new aTe(a,l);a.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(a,l),s.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=o.getItemGraphicEl(l);Th(u,t,l)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e})(fi),sTe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new Q_(at(this.getData,this),at(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,n){return $_(this,{coordDimensions:["value"],encodeDefaulter:Qt(pU,this)})},e.prototype._defaultLabelLine=function(t){em(t,"labelLine",["show"]);var n=t.labelLine,r=t.emphasis.labelLine;n.show=n.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var n=this.getData(),r=i.prototype.getDataParams.call(this,t),a=n.mapDimension("value"),o=n.getSum(a);return r.percent=o?+(n.get(a,t)/o*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:ge.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:ge.color.primary}}},e})(vi);function lTe(i,e){for(var t=i.mapDimension("value"),n=i.mapArray(t,function(l){return l}),r=[],a=e==="ascending",o=0,s=i.count();o<s;o++)r[o]=o;return Ct(e)?r.sort(e):e!=="none"&&r.sort(function(l,u){return a?n[l]-n[u]:n[u]-n[l]}),r}function uTe(i){var e=i.hostModel,t=e.get("orient");i.each(function(n){var r=i.getItemModel(n),a=r.getModel("label"),o=a.get("position"),s=r.getModel("labelLine"),l=i.getItemLayout(n),u=l.points,c=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",f,h,p,g;if(c)o==="insideLeft"?(h=(u[0][0]+u[3][0])/2+5,p=(u[0][1]+u[3][1])/2,f="left"):o==="insideRight"?(h=(u[1][0]+u[2][0])/2-5,p=(u[1][1]+u[2][1])/2,f="right"):(h=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,p=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),g=[[h,p],[h,p]];else{var y=void 0,_=void 0,x=void 0,M=void 0,T=s.get("length");o==="left"?(y=(u[3][0]+u[0][0])/2,_=(u[3][1]+u[0][1])/2,x=y-T,h=x-5,f="right"):o==="right"?(y=(u[1][0]+u[2][0])/2,_=(u[1][1]+u[2][1])/2,x=y+T,h=x+5,f="left"):o==="top"?(y=(u[3][0]+u[0][0])/2,_=(u[3][1]+u[0][1])/2,M=_-T,p=M-5,f="center"):o==="bottom"?(y=(u[1][0]+u[2][0])/2,_=(u[1][1]+u[2][1])/2,M=_+T,p=M+5,f="center"):o==="rightTop"?(y=t==="horizontal"?u[3][0]:u[1][0],_=t==="horizontal"?u[3][1]:u[1][1],t==="horizontal"?(M=_-T,p=M-5,f="center"):(x=y+T,h=x+5,f="top")):o==="rightBottom"?(y=u[2][0],_=u[2][1],t==="horizontal"?(M=_+T,p=M+5,f="center"):(x=y+T,h=x+5,f="bottom")):o==="leftTop"?(y=u[0][0],_=t==="horizontal"?u[0][1]:u[1][1],t==="horizontal"?(M=_-T,p=M-5,f="center"):(x=y-T,h=x-5,f="right")):o==="leftBottom"?(y=t==="horizontal"?u[1][0]:u[3][0],_=t==="horizontal"?u[1][1]:u[2][1],t==="horizontal"?(M=_+T,p=M+5,f="center"):(x=y-T,h=x-5,f="right")):(y=(u[1][0]+u[2][0])/2,_=(u[1][1]+u[2][1])/2,t==="horizontal"?(M=_+T,p=M+5,f="center"):(x=y+T,h=x+5,f="left")),t==="horizontal"?(x=y,h=x):(M=_,p=M),g=[[y,_],[x,M]]}l.label={linePoints:g,x:h,y:p,verticalAlign:"middle",textAlign:f,inside:c}})}function cTe(i,e){i.eachSeriesByType("funnel",function(t){var n=t.getData(),r=n.mapDimension("value"),a=t.get("sort"),o=ca(t,e),s=Ui(t.getBoxLayoutParams(),o.refContainer),l=t.get("orient"),u=s.width,c=s.height,f=lTe(n,a),h=s.x,p=s.y,g=l==="horizontal"?[it(t.get("minSize"),c),it(t.get("maxSize"),c)]:[it(t.get("minSize"),u),it(t.get("maxSize"),u)],y=n.getDataExtent(r),_=t.get("min"),x=t.get("max");_==null&&(_=Math.min(y[0],0)),x==null&&(x=y[1]);var M=t.get("funnelAlign"),T=t.get("gap"),C=l==="horizontal"?u:c,E=(C-T*(n.count()-1))/n.count(),D=function(q,V){if(l==="horizontal"){var j=n.get(r,q)||0,K=ei(j,[_,x],g,!0),te=void 0;switch(M){case"top":te=p;break;case"center":te=p+(c-K)/2;break;case"bottom":te=p+(c-K);break}return[[V,te],[V,te+K]]}var ie=n.get(r,q)||0,Y=ei(ie,[_,x],g,!0),ee;switch(M){case"left":ee=h;break;case"center":ee=h+(u-Y)/2;break;case"right":ee=h+u-Y;break}return[[ee,V],[ee+Y,V]]};a==="ascending"&&(E=-E,T=-T,l==="horizontal"?h+=u:p+=c,f=f.reverse());for(var L=0;L<f.length;L++){var z=f[L],P=f[L+1],N=n.getItemModel(z);if(l==="horizontal"){var B=N.get(["itemStyle","width"]);B==null?B=E:(B=it(B,u),a==="ascending"&&(B=-B));var G=D(z,h),U=D(P,h+B);h+=B+T,n.setItemLayout(z,{points:G.concat(U.slice().reverse())})}else{var X=N.get(["itemStyle","height"]);X==null?X=E:(X=it(X,c),a==="ascending"&&(X=-X));var G=D(z,p),U=D(P,p+X);p+=X+T,n.setItemLayout(z,{points:G.concat(U.slice().reverse())})}}uTe(n)})}function fTe(i){i.registerChartView(oTe),i.registerSeriesModel(sTe),i.registerLayout(cTe),i.registerProcessor(K_("funnel"))}var hTe=.3,dTe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new It,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,n,r,a){this._progressiveEls=null;var o=this._dataGroup,s=t.getData(),l=this._data,u=t.coordinateSystem,c=u.dimensions,f=D8(t);s.diff(l).add(h).update(p).remove(g).execute();function h(_){var x=E8(s,o,_,c,u);Z3(x,s,_,f)}function p(_,x){var M=l.getItemGraphicEl(x),T=dQ(s,_,c,u);s.setItemGraphicEl(_,M),Gn(M,{shape:{points:T}},t,_),$l(M),Z3(M,s,_,f)}function g(_){var x=l.getItemGraphicEl(_);o.remove(x)}if(!this._initialized){this._initialized=!0;var y=pTe(u,t,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(y)}this._data=s},e.prototype.incrementalPrepareRender=function(t,n,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,n,r){for(var a=n.getData(),o=n.coordinateSystem,s=o.dimensions,l=D8(n),u=this._progressiveEls=[],c=t.start;c<t.end;c++){var f=E8(a,this._dataGroup,c,s,o);f.incremental=!0,Z3(f,a,c,l),u.push(f)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e})(fi);function pTe(i,e,t){var n=i.model,r=i.getRect(),a=new dn({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),o=n.get("layout")==="horizontal"?"width":"height";return a.setShape(o,0),Li(a,{shape:{width:r.width,height:r.height}},e,t),a}function dQ(i,e,t,n){for(var r=[],a=0;a<t.length;a++){var o=t[a],s=i.get(i.mapDimension(o),e);vTe(s,n.getAxis(o).type)||r.push(n.dataToPoint(s,o))}return r}function E8(i,e,t,n,r){var a=dQ(i,t,n,r),o=new Ba({shape:{points:a},z2:10});return e.add(o),i.setItemGraphicEl(t,o),o}function D8(i){var e=i.get("smooth",!0);return e===!0&&(e=hTe),e=cf(e),Ja(e)&&(e=0),{smooth:e}}function Z3(i,e,t,n){i.useStyle(e.getItemVisual(t,"style")),i.style.fill=null,i.setShape("smooth",n.smooth);var r=e.getItemModel(t),a=r.getModel("emphasis");la(i,r,"lineStyle"),Hi(i,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function vTe(i,e){return e==="category"?i==null:i==null||isNaN(i)}var gTe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,n){return yf(null,this,{useEncodeDefaulter:at(mTe,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var n=this.coordinateSystem,r=this.getData(),a=[];return n.eachActiveState(r,function(o,s){t===o&&a.push(r.getRawIndex(s))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e})(vi);function mTe(i){var e=i.ecModel.getComponent("parallel",i.get("parallelIndex"));if(e){var t={};return H(e.dimensions,function(n){var r=yTe(n);t[n]=r}),t}}function yTe(i){return+i.replace("dim","")}var _Te=["lineStyle","opacity"],xTe={seriesType:"parallel",reset:function(i,e){var t=i.coordinateSystem,n={normal:i.get(["lineStyle","opacity"]),active:i.get("activeOpacity"),inactive:i.get("inactiveOpacity")};return{progress:function(r,a){t.eachActiveState(a,function(o,s){var l=n[o];if(o==="normal"&&a.hasItemOption){var u=a.getItemModel(s).get(_Te,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(s,"style");c.opacity=l},r.start,r.end)}}}};function STe(i){bTe(i),MTe(i)}function bTe(i){if(!i.parallel){var e=!1;H(i.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(i.parallel=[{}])}}function MTe(i){var e=Mi(i.parallelAxis);H(e,function(t){if(zt(t)){var n=t.parallelIndex||0,r=Mi(i.parallel)[n];r&&r.parallelAxisDefault&&nn(t,r.parallelAxisDefault,!1)}})}var TTe=5,wTe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){this._model=t,this._api=r,this._handlers||(this._handlers={},H(ATe,function(a,o){r.getZr().on(o,this._handlers[o]=at(a,this))},this)),X_(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,n){R1(this,"_throttledDispatchExpand"),H(this._handlers,function(r,a){n.getZr().off(a,r)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Ce({type:"parallelAxisExpand"},t))},e.type="parallel",e})(Ti),ATe={mousedown:function(i){j3(this,"click")&&(this._mouseDownPoint=[i.offsetX,i.offsetY])},mouseup:function(i){var e=this._mouseDownPoint;if(j3(this,"click")&&e){var t=[i.offsetX,i.offsetY],n=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(n>TTe)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]);r.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(i){if(!(this._mouseDownPoint||!j3(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]),n=t.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function j3(i,e){var t=i._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var CTe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){i.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var n=this.option;t&&nn(n,t,!0),this._initDimensions()},e.prototype.contains=function(t,n){var r=t.get("parallelIndex");return r!=null&&n.getComponent("parallel",r)===this},e.prototype.setAxisExpand=function(t){H(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){t.hasOwnProperty(n)&&(this.option[n]=t[n])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],n=this.parallelAxisIndex=[],r=Kn(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);H(r,function(a){t.push("dim"+a.get("dim")),n.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e})(mn),ETe=(function(i){fe(e,i);function e(t,n,r,a,o){var s=i.call(this,t,n,r)||this;return s.type=a||"value",s.axisIndex=o,s}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e})(nu);function wp(i,e,t,n,r,a){i=i||0;var o=t[1]-t[0];if(r!=null&&(r=y0(r,[0,o])),a!=null&&(a=Math.max(a,r??0)),n==="all"){var s=Math.abs(e[1]-e[0]);s=y0(s,[0,o]),r=a=y0(s,[r,a]),n=0}e[0]=y0(e[0],t),e[1]=y0(e[1],t);var l=K3(e,n);e[n]+=i;var u=r||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[n]=y0(e[n],c);var f;return f=K3(e,n),r!=null&&(f.sign!==l.sign||f.span<r)&&(e[1-n]=e[n]+l.sign*r),f=K3(e,n),a!=null&&f.span>a&&(e[1-n]=e[n]+f.sign*a),e}function K3(i,e){var t=i[e]-i[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function y0(i,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,i))}var $3=H,pQ=Math.min,vQ=Math.max,R8=Math.floor,DTe=Math.ceil,L8=Pr,RTe=Math.PI,LTe=(function(){function i(e,t,n){this.type="parallel",this._axesMap=St(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return i.prototype._init=function(e,t,n){var r=e.dimensions,a=e.parallelAxisIndex;$3(r,function(o,s){var l=a[s],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(o,new ETe(o,xM(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},i.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},i.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,r=t.layoutBase,a=t.pixelDimIndex,o=e[1-a],s=e[a];return o>=n&&o<=n+t.axisLength&&s>=r&&s<=r+t.layoutLength},i.prototype.getModel=function(){return this._model},i.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var r=n.getData();$3(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(r,r.mapDimension(a)),sm(o.scale,o.model)},this)}},this)},i.prototype.resize=function(e,t){var n=ca(e,t).refContainer;this._rect=Ui(e.getBoxLayoutParams(),n),this._layoutAxes()},i.prototype.getRect=function(){return this._rect},i.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,n=["x","y"],r=["width","height"],a=e.get("layout"),o=a==="horizontal"?0:1,s=t[r[o]],l=[0,s],u=this.dimensions.length,c=eC(e.get("axisExpandWidth"),l),f=eC(e.get("axisExpandCount")||0,[0,u]),h=e.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&s>0,p=e.get("axisExpandWindow"),g;if(p)g=eC(p[1]-p[0],l),p[1]=p[0]+g;else{g=eC(c*(f-1),l);var y=e.get("axisExpandCenter")||R8(u/2);p=[c*y-g/2],p[1]=p[0]+g}var _=(s-g)/(u-f);_<3&&(_=0);var x=[R8(L8(p[0]/c,1))+1,DTe(L8(p[1]/c,1))-1],M=_/c*p[0];return{layout:a,pixelDimIndex:o,layoutBase:t[n[o]],layoutLength:s,axisBase:t[n[1-o]],axisLength:t[r[1-o]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:_,axisExpandWindow:p,axisCount:u,winInnerIndices:x,axisExpandWindow0Pos:M}},i.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),a=r.layout;t.each(function(o){var s=[0,r.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),$3(n,function(o,s){var l=(r.axisExpandable?PTe:ITe)(s,r),u={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},c={horizontal:RTe/2,vertical:0},f=[u[a].x+e.x,u[a].y+e.y],h=c[a],p=_a();Bh(p,p,h),Wu(p,p,f),this._axesLayout[o]={position:f,rotation:h,transform:p,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},i.prototype.getAxis=function(e){return this._axesMap.get(e)},i.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},i.prototype.eachActiveState=function(e,t,n,r){n==null&&(n=0),r==null&&(r=e.count());var a=this._axesMap,o=this.dimensions,s=[],l=[];H(o,function(_){s.push(e.mapDimension(_)),l.push(a.get(_).model)});for(var u=this.hasAxisBrushed(),c=n;c<r;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var h=e.getValues(s,c),p=0,g=o.length;p<g;p++){var y=l[p].getActiveState(h[p]);if(y==="inactive"){f="inactive";break}}}t(f,c)}},i.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,r=0,a=e.length;r<a;r++)t.get(e[r]).model.getActiveState()!=="normal"&&(n=!0);return n},i.prototype.axisCoordToPoint=function(e,t){var n=this._axesLayout[t];return Vu([e,0],n.transform)},i.prototype.getAxisLayout=function(e){return Lt(this._axesLayout[e])},i.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,r=t.axisExpandWindow.slice(),a=r[1]-r[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var s=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l,u="slide",c=t.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),h=f[0]!=null;if(c)h&&c&&s<a*f[0]?(u="jump",l=s-a*f[2]):h&&c&&s>a*(1-f[0])?(u="jump",l=s-a*(1-f[2])):(l=s-a*f[1])>=0&&(l=s-a*(1-f[1]))<=0&&(l=0),l*=t.axisExpandWidth/c,l?wp(l,r,o,"all"):u="none";else{var p=r[1]-r[0],g=o[1]*s/p;r=[vQ(0,g-p/2)],r[1]=pQ(o[1],r[0]+p),r[0]=r[1]-p}return{axisExpandWindow:r,behavior:u}},i})();function eC(i,e){return pQ(vQ(i,e[0]),e[1])}function ITe(i,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*i,axisNameAvailableWidth:t,axisLabelShow:!0}}function PTe(i,e){var t=e.layoutLength,n=e.axisExpandWidth,r=e.axisCount,a=e.axisCollapseWidth,o=e.winInnerIndices,s,l=a,u=!1,c;return i<o[0]?(s=i*a,c=a):i<=o[1]?(s=e.axisExpandWindow0Pos+i*n-e.axisExpandWindow[0],l=n,u=!0):(s=t-(r-1-i)*a,c=a),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function NTe(i,e){var t=[];return i.eachComponent("parallel",function(n,r){var a=new LTe(n,i,e);a.name="parallel_"+r,a.resize(n,e),n.coordinateSystem=a,a.model=n,t.push(a)}),i.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var r=n.getReferringComponents("parallel",lr).models[0];n.coordinateSystem=r.coordinateSystem}}),t}var OTe={create:NTe},Gz=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return nm([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var n=this.activeIntervals=Lt(t);if(n)for(var r=n.length-1;r>=0;r--)js(n[r])},e.prototype.getActiveState=function(t){var n=this.activeIntervals;if(!n.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(n.length===1){var r=n[0];if(r[0]<=t&&t<=r[1])return"active"}else for(var a=0,o=n.length;a<o;a++)if(n[a][0]<=t&&t<=n[a][1])return"active";return"inactive"},e})(mn);Sr(Gz,j_);var lm=!0,W1=Math.min,M_=Math.max,zTe=Math.pow,BTe=1e4,kTe=6,UTe=6,I8="globalPan",FTe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},VTe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},P8={brushStyle:{lineWidth:2,stroke:ge.color.backgroundTint,fill:ge.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},GTe=0,p2=(function(i){fe(e,i);function e(t){var n=i.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new It,n._uid="brushController_"+GTe++,H(jTe,function(r,a){this._handlers[a]=at(r,this)},n),n}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var n=this._zr;this._enableGlobalPan||wbe(n,I8,this._uid),H(this._handlers,function(r,a){n.on(a,r)}),this._brushType=t.brushType,this._brushOption=nn(Lt(P8),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;Abe(t,I8,this._uid),H(this._handlers,function(n,r){t.off(r,n)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var n=this._panels={};H(t,function(r){n[r.panelId]=Lt(r)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=n.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Ge(t,function(h){return nn(Lt(P8),h,!0)});var n="\0-brush-index-",r=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new Ph(r,t,u,l).add(c).update(c).remove(f).execute(),this;function l(h,p){return(h.id!=null?h.id:n+p)+"-"+h.brushType}function u(h,p){return l(h.__brushOption,p)}function c(h,p){var g=t[h];if(p!=null&&r[p]===s)a[h]=r[p];else{var y=a[h]=p!=null?(r[p].__brushOption=g,r[p]):mQ(o,gQ(o,g));v2(o,y)}}function f(h){r[h]!==s&&o.group.remove(r[h])}},e.prototype.unmount=function(){return this.enableBrush(!1),Hz(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e})(eu);function gQ(i,e){var t=gL[e.brushType].createCover(i,e);return t.__brushOption=e,_Q(t,e),i.group.add(t),t}function mQ(i,e){var t=g2(e);return t.endCreating&&(t.endCreating(i,e),_Q(e,e.__brushOption)),e}function yQ(i,e){var t=e.__brushOption;g2(e).updateCoverShape(i,e,t.range,t)}function _Q(i,e){var t=e.z;t==null&&(t=BTe),i.traverse(function(n){n.z=t,n.z2=t})}function v2(i,e){g2(e).updateCommon(i,e),yQ(i,e)}function g2(i){return gL[i.__brushOption.brushType]}function m2(i,e,t){var n=i._panels;if(!n)return lm;var r,a=i._transform;return H(n,function(o){o.isTargetByCursor(e,t,a)&&(r=o)}),r}function xQ(i,e){var t=i._panels;if(!t)return lm;var n=e.__brushOption.panelId;return n!=null?t[n]:lm}function Hz(i){var e=i._covers,t=e.length;return H(e,function(n){i.group.remove(n)},i),e.length=0,!!t}function um(i,e){var t=Ge(i._covers,function(n){var r=n.__brushOption,a=Lt(r.range);return{brushType:r.brushType,panelId:r.panelId,range:a}});i.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function HTe(i){var e=i._track;if(!e.length)return!1;var t=e[e.length-1],n=e[0],r=t[0]-n[0],a=t[1]-n[1],o=zTe(r*r+a*a,.5);return o>kTe}function SQ(i){var e=i.length-1;return e<0&&(e=0),[i[0],i[e]]}function bQ(i,e,t,n){var r=new It;return r.add(new dn({name:"main",style:y2(t),silent:!0,draggable:!0,cursor:"move",drift:Qt(N8,i,e,r,["n","s","w","e"]),ondragend:Qt(um,e,{isEnd:!0})})),H(n,function(a){r.add(new dn({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Qt(N8,i,e,r,a),ondragend:Qt(um,e,{isEnd:!0})}))}),r}function MQ(i,e,t,n){var r=n.brushStyle.lineWidth||0,a=M_(r,UTe),o=t[0][0],s=t[1][0],l=o-r/2,u=s-r/2,c=t[0][1],f=t[1][1],h=c-a+r/2,p=f-a+r/2,g=c-o,y=f-s,_=g+r,x=y+r;lh(i,e,"main",o,s,g,y),n.transformable&&(lh(i,e,"w",l,u,a,x),lh(i,e,"e",h,u,a,x),lh(i,e,"n",l,u,_,a),lh(i,e,"s",l,p,_,a),lh(i,e,"nw",l,u,a,a),lh(i,e,"ne",h,u,a,a),lh(i,e,"sw",l,p,a,a),lh(i,e,"se",h,p,a,a))}function Wz(i,e){var t=e.__brushOption,n=t.transformable,r=e.childAt(0);r.useStyle(y2(t)),r.attr({silent:!n,cursor:n?"move":"default"}),H([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=e.childOfName(a.join("")),s=a.length===1?Xz(i,a[0]):XTe(i,a);o&&o.attr({silent:!n,invisible:!n,cursor:n?VTe[s]+"-resize":null})})}function lh(i,e,t,n,r,a,o){var s=e.childOfName(t);s&&s.setShape(qTe(_2(i,e,[[n,r],[n+a,r+o]])))}function y2(i){return Ot({strokeNoScale:!0},i.brushStyle)}function TQ(i,e,t,n){var r=[W1(i,t),W1(e,n)],a=[M_(i,t),M_(e,n)];return[[r[0],a[0]],[r[1],a[1]]]}function WTe(i){return pp(i.group)}function Xz(i,e){var t={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},r=QR(t[e],WTe(i));return n[r]}function XTe(i,e){var t=[Xz(i,e[0]),Xz(i,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function N8(i,e,t,n,r,a){var o=t.__brushOption,s=i.toRectRange(o.range),l=wQ(e,r,a);H(n,function(u){var c=FTe[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=i.fromRectRange(TQ(s[0][0],s[1][0],s[0][1],s[1][1])),v2(e,t),um(e,{isEnd:!1})}function YTe(i,e,t,n){var r=e.__brushOption.range,a=wQ(i,t,n);H(r,function(o){o[0]+=a[0],o[1]+=a[1]}),v2(i,e),um(i,{isEnd:!1})}function wQ(i,e,t){var n=i.group,r=n.transformCoordToLocal(e,t),a=n.transformCoordToLocal(0,0);return[r[0]-a[0],r[1]-a[1]]}function _2(i,e,t){var n=xQ(i,e);return n&&n!==lm?n.clipPath(t,i._transform):Lt(t)}function qTe(i){var e=W1(i[0][0],i[1][0]),t=W1(i[0][1],i[1][1]),n=M_(i[0][0],i[1][0]),r=M_(i[0][1],i[1][1]);return{x:e,y:t,width:n-e,height:r-t}}function ZTe(i,e,t){if(!(!i._brushType||KTe(i,e.offsetX,e.offsetY))){var n=i._zr,r=i._covers,a=m2(i,e,t);if(!i._dragging)for(var o=0;o<r.length;o++){var s=r[o].__brushOption;if(a&&(a===lm||s.panelId===a.panelId)&&gL[s.brushType].contain(r[o],t[0],t[1]))return}a&&n.setCursorStyle("crosshair")}}function Yz(i){var e=i.event;e.preventDefault&&e.preventDefault()}function qz(i,e,t){return i.childOfName("main").contain(e,t)}function AQ(i,e,t,n){var r=i._creatingCover,a=i._creatingPanel,o=i._brushOption,s;if(i._track.push(t.slice()),HTe(i)||r){if(a&&!r){o.brushMode==="single"&&Hz(i);var l=Lt(o);l.brushType=O8(l.brushType,a),l.panelId=a===lm?null:a.panelId,r=i._creatingCover=gQ(i,l),i._covers.push(r)}if(r){var u=gL[O8(i._brushType,a)],c=r.__brushOption;c.range=u.getCreatingRange(_2(i,r,i._track)),n&&(mQ(i,r),u.updateCommon(i,r)),yQ(i,r),s={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&m2(i,e,t)&&Hz(i)&&(s={isEnd:n,removeOnClick:!0});return s}function O8(i,e){return i==="auto"?e.defaultBrushType:i}var jTe={mousedown:function(i){if(this._dragging)z8(this,i);else if(!i.target||!i.target.draggable){Yz(i);var e=this.group.transformCoordToLocal(i.offsetX,i.offsetY);this._creatingCover=null;var t=this._creatingPanel=m2(this,i,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(i){var e=i.offsetX,t=i.offsetY,n=this.group.transformCoordToLocal(e,t);if(ZTe(this,i,n),this._dragging){Yz(i);var r=AQ(this,i,n,!1);r&&um(this,r)}},mouseup:function(i){z8(this,i)}};function z8(i,e){if(i._dragging){Yz(e);var t=e.offsetX,n=e.offsetY,r=i.group.transformCoordToLocal(t,n),a=AQ(i,e,r,!0);i._dragging=!1,i._track=[],i._creatingCover=null,a&&um(i,a)}}function KTe(i,e,t){var n=i._zr;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var gL={lineX:B8(0),lineY:B8(1),rect:{createCover:function(i,e){function t(n){return n}return bQ({toRectRange:t,fromRectRange:t},i,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(i){var e=SQ(i);return TQ(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(i,e,t,n){MQ(i,e,t,n)},updateCommon:Wz,contain:qz},polygon:{createCover:function(i,e){var t=new It;return t.add(new Ba({name:"main",style:y2(e),silent:!0})),t},getCreatingRange:function(i){return i},endCreating:function(i,e){e.remove(e.childAt(0)),e.add(new ro({name:"main",draggable:!0,drift:Qt(YTe,i,e),ondragend:Qt(um,i,{isEnd:!0})}))},updateCoverShape:function(i,e,t,n){e.childAt(0).setShape({points:_2(i,e,t)})},updateCommon:Wz,contain:qz}};function B8(i){return{createCover:function(e,t){return bQ({toRectRange:function(n){var r=[n,[0,100]];return i&&r.reverse(),r},fromRectRange:function(n){return n[i]}},e,t,[[["w"],["e"]],[["n"],["s"]]][i])},getCreatingRange:function(e){var t=SQ(e),n=W1(t[0][i],t[1][i]),r=M_(t[0][i],t[1][i]);return[n,r]},updateCoverShape:function(e,t,n,r){var a,o=xQ(e,t);if(o!==lm&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(i);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-i]]}var l=[n,a];i&&l.reverse(),MQ(e,t,l,r)},updateCommon:Wz,contain:qz}}function CQ(i){return i=x2(i),function(e){return jk(e,i)}}function EQ(i,e){return i=x2(i),function(t){var n=e??t,r=n?i.width:i.height,a=n?i.x:i.y;return[a,a+(r||0)]}}function DQ(i,e,t){var n=x2(i);return function(r,a){return n.contain(a[0],a[1])&&!N$(r,e,t)}}function x2(i){return Ut.create(i)}var $Te=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){i.prototype.init.apply(this,arguments),(this._brushController=new p2(n.getZr())).on("brush",at(this._onBrush,this))},e.prototype.render=function(t,n,r,a){if(!QTe(t,n,a)){this.axisModel=t,this.api=r,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new It,this.group.add(this._axisGroup),!!t.get("show")){var s=ewe(t,n),l=s.coordinateSystem,u=t.getAreaSelectStyle(),c=u.width,f=t.axis.dim,h=l.getAxisLayout(f),p=Ce({strokeContainThreshold:c},h),g=new Jo(t,r,p);g.build(),this._axisGroup.add(g.group),this._refreshBrushController(p,u,t,s,c,r),gM(o,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,n,r,a,o,s){var l=r.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=Ut.create({x:l[0],y:-o/2,width:u,height:o});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:CQ(f),isTargetByCursor:DQ(f,s,a),getLinearBrushOtherExtent:EQ(f,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(JTe(r))},e.prototype._onBrush=function(t){var n=t.areas,r=this.axisModel,a=r.axis,o=Ge(n,function(s){return[a.coordToData(s.range[0],!0),a.coordToData(s.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:o})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e})(Ti);function QTe(i,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===i}function JTe(i){var e=i.axis;return Ge(i.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function ewe(i,e){return e.getComponent("parallel",i.get("parallelIndex"))}var twe={type:"axisAreaSelect",event:"axisAreaSelected"};function nwe(i){i.registerAction(twe,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),i.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})})}var iwe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function RQ(i){i.registerComponentView(wTe),i.registerComponentModel(CTe),i.registerCoordinateSystem("parallel",OTe),i.registerPreprocessor(STe),i.registerComponentModel(Gz),i.registerComponentView($Te),S_(i,"parallel",Gz,iwe),nwe(i)}function rwe(i){sn(RQ),i.registerChartView(dTe),i.registerSeriesModel(gTe),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,xTe)}var awe=(function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return i})(),owe=(function(i){fe(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new awe},e.prototype.buildPath=function(t,n){var r=n.extent;t.moveTo(n.x1,n.y1),t.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(t.lineTo(n.x2+r,n.y2),t.bezierCurveTo(n.cpx2+r,n.cpy2,n.cpx1+r,n.cpy1,n.x1+r,n.y1)):(t.lineTo(n.x2,n.y2+r),t.bezierCurveTo(n.cpx2,n.cpy2+r,n.cpx1,n.cpy1+r,n.x1,n.y1+r)),t.closePath()},e.prototype.highlight=function(){Lh(this)},e.prototype.downplay=function(){Ih(this)},e})(bn),swe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new It,t._focusAdjacencyDisabled=!1,t}return e.prototype.init=function(t,n){this._controller=new Sm(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,n,r){var a=this,o=t.getGraph(),s=this._mainGroup,l=t.layoutInfo,u=l.width,c=l.height,f=t.getData(),h=t.getData("edge"),p=t.get("orient");this._model=t,s.removeAll(),s.x=l.x,s.y=l.y,this._updateViewCoordSys(t,r),O$(t,r,s,this._controller,this._controllerHost,null),o.eachEdge(function(g){var y=new owe,_=Ht(y);_.dataIndex=g.dataIndex,_.seriesIndex=t.seriesIndex,_.dataType="edge";var x=g.getModel(),M=x.getModel("lineStyle"),T=M.get("curveness"),C=g.node1.getLayout(),E=g.node1.getModel(),D=E.get("localX"),L=E.get("localY"),z=g.node2.getLayout(),P=g.node2.getModel(),N=P.get("localX"),B=P.get("localY"),G=g.getLayout(),U,X,q,V,j,K,te,ie;y.shape.extent=Math.max(1,G.dy),y.shape.orient=p,p==="vertical"?(U=(D!=null?D*u:C.x)+G.sy,X=(L!=null?L*c:C.y)+C.dy,q=(N!=null?N*u:z.x)+G.ty,V=B!=null?B*c:z.y,j=U,K=X*(1-T)+V*T,te=q,ie=X*T+V*(1-T)):(U=(D!=null?D*u:C.x)+C.dx,X=(L!=null?L*c:C.y)+G.sy,q=N!=null?N*u:z.x,V=(B!=null?B*c:z.y)+G.ty,j=U*(1-T)+q*T,K=X,te=U*T+q*(1-T),ie=V),y.setShape({x1:U,y1:X,x2:q,y2:V,cpx1:j,cpy1:K,cpx2:te,cpy2:ie}),y.useStyle(M.getItemStyle()),k8(y.style,p,g);var Y=""+x.get("value"),ee=ua(x,"edgeLabel");Ma(y,ee,{labelFetcher:{getFormattedLabel:function(Pe,he,Se,Ee,Te,He){return t.getFormattedLabel(Pe,he,"edge",Ee,Ds(Te,ee.normal&&ee.normal.get("formatter"),Y),He)}},labelDataIndex:g.dataIndex,defaultText:Y}),y.setTextConfig({position:"inside"});var oe=x.getModel("emphasis");la(y,x,"lineStyle",function(Pe){var he=Pe.getItemStyle();return k8(he,p,g),he}),s.add(y),h.setItemGraphicEl(g.dataIndex,y);var de=oe.get("focus");Hi(y,de==="adjacency"?g.getAdjacentDataIndices():de==="trajectory"?g.getTrajectoryDataIndices():de,oe.get("blurScope"),oe.get("disabled"))}),o.eachNode(function(g){var y=g.getLayout(),_=g.getModel(),x=_.get("localX"),M=_.get("localY"),T=_.getModel("emphasis"),C=_.get(["itemStyle","borderRadius"])||0,E=new dn({shape:{x:x!=null?x*u:y.x,y:M!=null?M*c:y.y,width:y.dx,height:y.dy,r:C},style:_.getModel("itemStyle").getItemStyle(),z2:10});Ma(E,ua(_),{labelFetcher:{getFormattedLabel:function(L,z){return t.getFormattedLabel(L,z,"node")}},labelDataIndex:g.dataIndex,defaultText:g.id}),E.disableLabelAnimation=!0,E.setStyle("fill",g.getVisual("color")),E.setStyle("decal",g.getVisual("style").decal),la(E,_),s.add(E),f.setItemGraphicEl(g.dataIndex,E),Ht(E).dataType="node";var D=T.get("focus");Hi(E,D==="adjacency"?g.getAdjacentDataIndices():D==="trajectory"?g.getTrajectoryDataIndices():D,T.get("blurScope"),T.get("disabled"))}),f.eachItemGraphicEl(function(g,y){var _=f.getItemModel(y);_.get("draggable")&&(g.drift=function(x,M){a._focusAdjacencyDisabled=!0,this.shape.x+=x,this.shape.y+=M,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:f.getRawIndex(y),localX:this.shape.x/u,localY:this.shape.y/c})},g.ondragend=function(){a._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&t.isAnimationEnabled()&&s.setClipPath(lwe(s.getBoundingRect(),t,function(){s.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._updateViewCoordSys=function(t,n){var r=t.layoutInfo,a=r.width,o=r.height,s=t.coordinateSystem=new bm(null,{api:n,ecModel:t.ecModel});s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(0,0,a,o),s.setCenter(t.get("center")),s.setZoom(t.get("zoom")),this._controllerHost.target.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY})},e.type="sankey",e})(fi);function k8(i,e,t){switch(i.fill){case"source":i.fill=t.node1.getVisual("color"),i.decal=t.node1.getVisual("style").decal;break;case"target":i.fill=t.node2.getVisual("color"),i.decal=t.node2.getVisual("style").decal;break;case"gradient":var n=t.node1.getVisual("color"),r=t.node2.getVisual("color");rt(n)&&rt(r)&&(i.fill=new vm(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:n,offset:0},{color:r,offset:1}]))}}function lwe(i,e,t){var n=new dn({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}});return Li(n,{shape:{width:i.width+20}},e,t),n}var uwe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){var r=t.edges||t.links||[],a=t.data||t.nodes||[],o=t.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)o[l].depth!=null&&o[l].depth>=0&&(s[o[l].depth]=new Sn(o[l],this,n));var u=d2(a,r,this,!0,c);return u.data;function c(f,h){f.wrapMethod("getItemModel",function(p,g){var y=p.parentModel,_=y.getData().getItemLayout(g);if(_){var x=_.depth,M=y.levelModels[x];M&&(p.parentModel=M)}return p}),h.wrapMethod("getItemModel",function(p,g){var y=p.parentModel,_=y.getGraph().getEdgeByIndex(g),x=_.node1.getLayout();if(x){var M=x.depth,T=y.levelModels[M];T&&(p.parentModel=T)}return p})}},e.prototype.setNodePosition=function(t,n){var r=this.option.data||this.option.nodes,a=r[t];a.localX=n[0],a.localY=n[1]},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,n,r){function a(p){return isNaN(p)||p==null}if(r==="edge"){var o=this.getDataParams(t,r),s=o.data,l=o.value,u=s.source+" -- "+s.target;return Kr("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(t),f=c.getLayout().value,h=this.getDataParams(t,r).data.name;return Kr("nameValue",{name:h!=null?h+"":null,value:f,noValue:a(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,n){var r=i.prototype.getDataParams.call(this,t,n);if(r.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(t),o=a.getLayout().value;r.value=o}return r},e.type="series.sankey",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:ge.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:ge.color.primary}},animationEasing:"linear",animationDuration:1e3},e})(vi);function cwe(i,e){i.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),r=t.get("nodeGap"),a=ca(t,e).refContainer,o=Ui(t.getBoxLayoutParams(),a);t.layoutInfo=o;var s=o.width,l=o.height,u=t.getGraph(),c=u.nodes,f=u.edges;hwe(c);var h=Kn(c,function(_){return _.getLayout().value===0}),p=h.length!==0?0:t.get("layoutIterations"),g=t.get("orient"),y=t.get("nodeAlign");fwe(c,f,n,r,s,l,p,g,y)})}function fwe(i,e,t,n,r,a,o,s,l){dwe(i,e,t,r,a,s,l),mwe(i,e,a,r,n,o,s),Awe(i,s)}function hwe(i){H(i,function(e){var t=mp(e.outEdges,ID),n=mp(e.inEdges,ID),r=e.getValue()||0,a=Math.max(t,n,r);e.setLayout({value:a},!0)})}function dwe(i,e,t,n,r,a,o){for(var s=[],l=[],u=[],c=[],f=0,h=0;h<e.length;h++)s[h]=1;for(var h=0;h<i.length;h++)l[h]=i[h].inEdges.length,l[h]===0&&u.push(i[h]);for(var p=-1;u.length;){for(var g=0;g<u.length;g++){var y=u[g],_=y.hostGraph.data.getRawDataItem(y.dataIndex),x=_.depth!=null&&_.depth>=0;x&&_.depth>p&&(p=_.depth),y.setLayout({depth:x?_.depth:f},!0),a==="vertical"?y.setLayout({dy:t},!0):y.setLayout({dx:t},!0);for(var M=0;M<y.outEdges.length;M++){var T=y.outEdges[M],C=e.indexOf(T);s[C]=0;var E=T.node2,D=i.indexOf(E);--l[D]===0&&c.indexOf(E)<0&&c.push(E)}}++f,u=c,c=[]}for(var h=0;h<s.length;h++)if(s[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var L=p>f-1?p:f-1;o&&o!=="left"&&pwe(i,o,a,L);var z=a==="vertical"?(r-t)/L:(n-t)/L;gwe(i,z,a)}function LQ(i){var e=i.hostGraph.data.getRawDataItem(i.dataIndex);return e.depth!=null&&e.depth>=0}function pwe(i,e,t,n){if(e==="right"){for(var r=[],a=i,o=0;a.length;){for(var s=0;s<a.length;s++){var l=a[s];l.setLayout({skNodeHeight:o},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];r.indexOf(c.node1)<0&&r.push(c.node1)}}a=r,r=[],++o}H(i,function(f){LQ(f)||f.setLayout({depth:Math.max(0,n-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&vwe(i,n)}function vwe(i,e){H(i,function(t){!LQ(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function gwe(i,e,t){H(i,function(n){var r=n.getLayout().depth*e;t==="vertical"?n.setLayout({y:r},!0):n.setLayout({x:r},!0)})}function mwe(i,e,t,n,r,a,o){var s=ywe(i,o);_we(s,e,t,n,r,o),Q3(s,r,t,n,o);for(var l=1;a>0;a--)l*=.99,xwe(s,l,o),Q3(s,r,t,n,o),wwe(s,l,o),Q3(s,r,t,n,o)}function ywe(i,e){var t=[],n=e==="vertical"?"y":"x",r=IO(i,function(a){return a.getLayout()[n]});return r.keys.sort(function(a,o){return a-o}),H(r.keys,function(a){t.push(r.buckets.get(a))}),t}function _we(i,e,t,n,r,a){var o=1/0;H(i,function(s){var l=s.length,u=0;H(s,function(f){u+=f.getLayout().value});var c=a==="vertical"?(n-(l-1)*r)/u:(t-(l-1)*r)/u;c<o&&(o=c)}),H(i,function(s){H(s,function(l,u){var c=l.getLayout().value*o;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),H(e,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})}function Q3(i,e,t,n,r){var a=r==="vertical"?"x":"y";H(i,function(o){o.sort(function(y,_){return y.getLayout()[a]-_.getLayout()[a]});for(var s,l,u,c=0,f=o.length,h=r==="vertical"?"dx":"dy",p=0;p<f;p++)l=o[p],u=c-l.getLayout()[a],u>0&&(s=l.getLayout()[a]+u,r==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]+l.getLayout()[h]+e;var g=r==="vertical"?n:t;if(u=c-e-g,u>0){s=l.getLayout()[a]-u,r==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var p=f-2;p>=0;--p)l=o[p],u=l.getLayout()[a]+l.getLayout()[h]+e-c,u>0&&(s=l.getLayout()[a]-u,r==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]}})}function xwe(i,e,t){H(i.slice().reverse(),function(n){H(n,function(r){if(r.outEdges.length){var a=mp(r.outEdges,Swe,t)/mp(r.outEdges,ID);if(isNaN(a)){var o=r.outEdges.length;a=o?mp(r.outEdges,bwe,t)/o:0}if(t==="vertical"){var s=r.getLayout().x+(a-Ap(r,t))*e;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(a-Ap(r,t))*e;r.setLayout({y:l},!0)}}})})}function Swe(i,e){return Ap(i.node2,e)*i.getValue()}function bwe(i,e){return Ap(i.node2,e)}function Mwe(i,e){return Ap(i.node1,e)*i.getValue()}function Twe(i,e){return Ap(i.node1,e)}function Ap(i,e){return e==="vertical"?i.getLayout().x+i.getLayout().dx/2:i.getLayout().y+i.getLayout().dy/2}function ID(i){return i.getValue()}function mp(i,e,t){for(var n=0,r=i.length,a=-1;++a<r;){var o=+e(i[a],t);isNaN(o)||(n+=o)}return n}function wwe(i,e,t){H(i,function(n){H(n,function(r){if(r.inEdges.length){var a=mp(r.inEdges,Mwe,t)/mp(r.inEdges,ID);if(isNaN(a)){var o=r.inEdges.length;a=o?mp(r.inEdges,Twe,t)/o:0}if(t==="vertical"){var s=r.getLayout().x+(a-Ap(r,t))*e;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(a-Ap(r,t))*e;r.setLayout({y:l},!0)}}})})}function Awe(i,e){var t=e==="vertical"?"x":"y";H(i,function(n){n.outEdges.sort(function(r,a){return r.node2.getLayout()[t]-a.node2.getLayout()[t]}),n.inEdges.sort(function(r,a){return r.node1.getLayout()[t]-a.node1.getLayout()[t]})}),H(i,function(n){var r=0,a=0;H(n.outEdges,function(o){o.setLayout({sy:r},!0),r+=o.getLayout().dy}),H(n.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}function Cwe(i){i.eachSeriesByType("sankey",function(e){var t=e.getGraph(),n=t.nodes,r=t.edges;if(n.length){var a=1/0,o=-1/0;H(n,function(s){var l=s.getLayout().value;l<a&&(a=l),l>o&&(o=l)}),H(n,function(s){var l=new xa({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:e.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}r.length&&H(r,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function Ewe(i){i.registerChartView(swe),i.registerSeriesModel(uwe),i.registerLayout(cwe),i.registerVisual(Cwe),i.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(n){n.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),i.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(r){var a=r.coordinateSystem,o=hL(a,e,r.get("scaleLimit"));r.setCenter(o.center),r.setZoom(o.zoom)})})}var IQ=(function(){function i(){}return i.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&t.get(e)!=null},i.prototype.getInitialData=function(e,t){var n,r=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),o=r.get("type"),s=a.get("type"),l;o==="category"?(e.layout="horizontal",n=r.getOrdinalMeta(),l=!this._hasEncodeRule("x")):s==="category"?(e.layout="vertical",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],h=u[1-c],p=[r,a],g=p[c].get("type"),y=p[1-c].get("type"),_=e.data;if(_&&l){var x=[];H(_,function(C,E){var D;ze(C)?(D=C.slice(),C.unshift(E)):ze(C.value)?(D=Ce({},C),D.value=D.value.slice(),C.value.unshift(E)):D=C,x.push(D)}),e.data=x}var M=this.defaultValueDimensions,T=[{name:f,type:vD(g),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:vD(y),dimsDef:M.slice()}];return $_(this,{coordDimensions:T,dimensionsCount:M.length+1,encodeDefaulter:Qt(GZ,T,this)})},i.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},i})(),PQ=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:ge.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:ge.color.shadow}},animationDuration:800},e})(vi);Sr(PQ,IQ,!0);var Dwe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){var a=t.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l=t.get("layout")==="horizontal"?1:0;a.diff(s).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=U8(c,a,u,l,!0);a.setItemGraphicEl(u,f),o.add(f)}}).update(function(u,c){var f=s.getItemGraphicEl(c);if(!a.hasValue(u)){o.remove(f);return}var h=a.getItemLayout(u);f?($l(f),NQ(h,f,a,u)):f=U8(h,a,u,l),o.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&o.remove(c)}).execute(),this._data=a},e.prototype.remove=function(t){var n=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(a){a&&n.remove(a)})},e.type="boxplot",e})(fi),Rwe=(function(){function i(){}return i})(),Lwe=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n.type="boxplotBoxPath",n}return e.prototype.getDefaultShape=function(){return new Rwe},e.prototype.buildPath=function(t,n){var r=n.points,a=0;for(t.moveTo(r[a][0],r[a][1]),a++;a<4;a++)t.lineTo(r[a][0],r[a][1]);for(t.closePath();a<r.length;a++)t.moveTo(r[a][0],r[a][1]),a++,t.lineTo(r[a][0],r[a][1])},e})(bn);function U8(i,e,t,n,r){var a=i.ends,o=new Lwe({shape:{points:r?Iwe(a,n,i):a}});return NQ(i,o,e,t,r),o}function NQ(i,e,t,n,r){var a=t.hostModel,o=gm[r?"initProps":"updateProps"];o(e,{shape:{points:i.ends}},a,n),e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=t.getItemModel(n),l=s.getModel("emphasis");la(e,s),Hi(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function Iwe(i,e,t){return Ge(i,function(n){return n=n.slice(),n[e]=t.initBaseline,n})}var n1=H;function Pwe(i){var e=Nwe(i);n1(e,function(t){var n=t.seriesModels;n.length&&(Owe(t),n1(n,function(r,a){zwe(r,t.boxOffsetList[a],t.boxWidthList[a])}))})}function Nwe(i){var e=[],t=[];return i.eachSeriesByType("boxplot",function(n){var r=n.getBaseAxis(),a=en(t,r);a<0&&(a=t.length,t[a]=r,e[a]={axis:r,seriesModels:[]}),e[a].seriesModels.push(n)}),e}function Owe(i){var e=i.axis,t=i.seriesModels,n=t.length,r=i.boxWidthList=[],a=i.boxOffsetList=[],o=[],s;if(e.type==="category")s=e.getBandWidth();else{var l=0;n1(t,function(g){l=Math.max(l,g.getData().count())});var u=e.getExtent();s=Math.abs(u[1]-u[0])/l}n1(t,function(g){var y=g.get("boxWidth");ze(y)||(y=[y,y]),o.push([it(y[0],s)||0,it(y[1],s)||0])});var c=s*.8-2,f=c/n*.3,h=(c-f*(n-1))/n,p=h/2-c/2;n1(t,function(g,y){a.push(p),p+=f+h,r.push(Math.min(Math.max(h,o[y][0]),o[y][1]))})}function zwe(i,e,t){var n=i.coordinateSystem,r=i.getData(),a=t/2,o=i.get("layout")==="horizontal"?0:1,s=1-o,l=["x","y"],u=r.mapDimension(l[o]),c=r.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var f=0;f<r.count();f++){var h=r.get(u,f),p=T(h,c[2],f),g=T(h,c[0],f),y=T(h,c[1],f),_=T(h,c[3],f),x=T(h,c[4],f),M=[];C(M,y,!1),C(M,_,!0),M.push(g,y,x,_),E(M,g),E(M,x),E(M,p),r.setItemLayout(f,{initBaseline:p[s],ends:M})}function T(D,L,z){var P=r.get(L,z),N=[];N[o]=D,N[s]=P;var B;return isNaN(D)||isNaN(P)?B=[NaN,NaN]:(B=n.dataToPoint(N),B[o]+=e),B}function C(D,L,z){var P=L.slice(),N=L.slice();P[o]+=a,N[o]-=a,z?D.push(P,N):D.push(N,P)}function E(D,L){var z=L.slice(),P=L.slice();z[o]-=a,P[o]+=a,D.push(z,P)}}function Bwe(i,e){e=e||{};for(var t=[],n=[],r=e.boundIQR,a=r==="none"||r===0,o=0;o<i.length;o++){var s=js(i[o].slice()),l=CC(s,.25),u=CC(s,.5),c=CC(s,.75),f=s[0],h=s[s.length-1],p=(r??1.5)*(c-l),g=a?f:Math.max(f,l-p),y=a?h:Math.min(h,c+p),_=e.itemNameFormatter,x=Ct(_)?_({value:o}):rt(_)?_.replace("{value}",o+""):o+"";t.push([x,g,l,u,c,y]);for(var M=0;M<s.length;M++){var T=s[M];if(T<g||T>y){var C=[x,T];n.push(C)}}}return{boxData:t,outliers:n}}var kwe={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==ka){var n="";ti(n)}var r=Bwe(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}};function Uwe(i){i.registerSeriesModel(PQ),i.registerChartView(Dwe),i.registerLayout(Pwe),i.registerTransform(kwe)}var Fwe=["itemStyle","borderColor"],Vwe=["itemStyle","borderColor0"],Gwe=["itemStyle","borderColorDoji"],Hwe=["itemStyle","color"],Wwe=["itemStyle","color0"];function S2(i,e){return e.get(i>0?Hwe:Wwe)}function b2(i,e){return e.get(i===0?Gwe:i>0?Fwe:Vwe)}var Xwe={seriesType:"candlestick",plan:W_(),performRawSeries:!0,reset:function(i,e){if(!e.isSeriesFiltered(i)){var t=i.pipelineContext.large;return!t&&{progress:function(n,r){for(var a;(a=n.next())!=null;){var o=r.getItemModel(a),s=r.getItemLayout(a).sign,l=o.getItemStyle();l.fill=S2(s,o),l.stroke=b2(s,o)||l.fill;var u=r.ensureUniqueItemVisual(a,"style");Ce(u,l)}}}}}},Ywe=["color","borderColor"],qwe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,n,r){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,n,r,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,n):this._incrementalRenderNormal(t,n)},e.prototype.eachRendered=function(t){Pp(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t){var n=t.getData(),r=this._data,a=this.group,o=n.getLayout("isSimpleBox"),s=t.get("clip",!0),l=t.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(r).add(function(c){if(n.hasValue(c)){var f=n.getItemLayout(c);if(s&&F8(u,f))return;var h=J3(f,c,!0);Li(h,{shape:{points:f.ends}},t,c),eN(h,n,c,o),a.add(h),n.setItemGraphicEl(c,h)}}).update(function(c,f){var h=r.getItemGraphicEl(f);if(!n.hasValue(c)){a.remove(h);return}var p=n.getItemLayout(c);if(s&&F8(u,p)){a.remove(h);return}h?(Gn(h,{shape:{points:p.ends}},t,c),$l(h)):h=J3(p),eN(h,n,c,o),a.add(h),n.setItemGraphicEl(c,h)}).remove(function(c){var f=r.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=n},e.prototype._renderLarge=function(t){this._clear(),V8(t,this.group);var n=t.get("clip",!0)?MM(t.coordinateSystem,!1,t):null;n?this.group.setClipPath(n):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,n){for(var r=n.getData(),a=r.getLayout("isSimpleBox"),o;(o=t.next())!=null;){var s=r.getItemLayout(o),l=J3(s);eN(l,r,o,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,n){V8(n,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e})(fi),Zwe=(function(){function i(){}return i})(),jwe=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n.type="normalCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new Zwe},e.prototype.buildPath=function(t,n){var r=n.points;this.__simpleBox?(t.moveTo(r[4][0],r[4][1]),t.lineTo(r[6][0],r[6][1])):(t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]),t.lineTo(r[3][0],r[3][1]),t.closePath(),t.moveTo(r[4][0],r[4][1]),t.lineTo(r[5][0],r[5][1]),t.moveTo(r[6][0],r[6][1]),t.lineTo(r[7][0],r[7][1]))},e})(bn);function J3(i,e,t){var n=i.ends;return new jwe({shape:{points:t?Kwe(n,i):n},z2:100})}function F8(i,e){for(var t=!0,n=0;n<e.ends.length;n++)if(i.contain(e.ends[n][0],e.ends[n][1])){t=!1;break}return t}function eN(i,e,t,n){var r=e.getItemModel(t);i.useStyle(e.getItemVisual(t,"style")),i.style.strokeNoScale=!0,i.__simpleBox=n,la(i,r);var a=e.getItemLayout(t).sign;H(i.states,function(s,l){var u=r.getModel(l),c=S2(a,u),f=b2(a,u)||c,h=s.style||(s.style={});c&&(h.fill=c),f&&(h.stroke=f)});var o=r.getModel("emphasis");Hi(i,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function Kwe(i,e){return Ge(i,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var $we=(function(){function i(){}return i})(),tN=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n.type="largeCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new $we},e.prototype.buildPath=function(t,n){for(var r=n.points,a=0;a<r.length;)if(this.__sign===r[a++]){var o=r[a++];t.moveTo(o,r[a++]),t.lineTo(o,r[a++])}else a+=3},e})(bn);function V8(i,e,t,n){var r=i.getData(),a=r.getLayout("largePoints"),o=new tN({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(o);var s=new tN({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new tN({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(l),nN(1,o,i),nN(-1,s,i),nN(0,l,i),n&&(o.incremental=!0,s.incremental=!0),t&&t.push(o,s)}function nN(i,e,t,n){var r=b2(i,t)||S2(i,t),a=t.getModel("itemStyle").getItemStyle(Ywe);e.useStyle(a),e.style.fill=null,e.style.stroke=r}var OQ=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,n,r){var a=n.getItemLayout(t);return a&&r.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e})(vi);Sr(OQ,IQ,!0);function Qwe(i){!i||!ze(i.series)||H(i.series,function(e){zt(e)&&e.type==="k"&&(e.type="candlestick")})}var Jwe={seriesType:"candlestick",plan:W_(),reset:function(i){var e=i.coordinateSystem,t=i.getData(),n=eAe(i,t),r=0,a=1,o=["x","y"],s=t.getDimensionIndex(t.mapDimension(o[r])),l=Ge(t.mapDimensionsAll(o[a]),t.getDimensionIndex,t),u=l[0],c=l[1],f=l[2],h=l[3];if(t.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),s<0||l.length<4)return;return{progress:i.pipelineContext.large?g:p};function p(y,_){for(var x,M=_.getStore();(x=y.next())!=null;){var T=M.get(s,x),C=M.get(u,x),E=M.get(c,x),D=M.get(f,x),L=M.get(h,x),z=Math.min(C,E),P=Math.max(C,E),N=j(z,T),B=j(P,T),G=j(D,T),U=j(L,T),X=[];K(X,B,0),K(X,N,1),X.push(ie(U),ie(B),ie(G),ie(N));var q=_.getItemModel(x),V=!!q.get(["itemStyle","borderColorDoji"]);_.setItemLayout(x,{sign:G8(M,x,C,E,c,V),initBaseline:C>E?B[a]:N[a],ends:X,brushRect:te(D,L,T)})}function j(Y,ee){var oe=[];return oe[r]=ee,oe[a]=Y,isNaN(ee)||isNaN(Y)?[NaN,NaN]:e.dataToPoint(oe)}function K(Y,ee,oe){var de=ee.slice(),Pe=ee.slice();de[r]=DC(de[r]+n/2,1,!1),Pe[r]=DC(Pe[r]-n/2,1,!0),oe?Y.push(de,Pe):Y.push(Pe,de)}function te(Y,ee,oe){var de=j(Y,oe),Pe=j(ee,oe);return de[r]-=n/2,Pe[r]-=n/2,{x:de[0],y:de[1],width:n,height:Pe[1]-de[1]}}function ie(Y){return Y[r]=DC(Y[r],1),Y}}function g(y,_){for(var x=Kc(y.count*4),M=0,T,C=[],E=[],D,L=_.getStore(),z=!!i.get(["itemStyle","borderColorDoji"]);(D=y.next())!=null;){var P=L.get(s,D),N=L.get(u,D),B=L.get(c,D),G=L.get(f,D),U=L.get(h,D);if(isNaN(P)||isNaN(G)||isNaN(U)){x[M++]=NaN,M+=3;continue}x[M++]=G8(L,D,N,B,c,z),C[r]=P,C[a]=G,T=e.dataToPoint(C,null,E),x[M++]=T?T[0]:NaN,x[M++]=T?T[1]:NaN,C[a]=U,T=e.dataToPoint(C,null,E),x[M++]=T?T[1]:NaN}_.setLayout("largePoints",x)}}};function G8(i,e,t,n,r,a){var o;return t>n?o=-1:t<n?o=1:o=a?0:e>0?i.get(r,e-1)<=n?1:-1:1,o}function eAe(i,e){var t=i.getBaseAxis(),n,r=t.type==="category"?t.getBandWidth():(n=t.getExtent(),Math.abs(n[1]-n[0])/e.count()),a=it(bt(i.get("barMaxWidth"),r),r),o=it(bt(i.get("barMinWidth"),1),r),s=i.get("barWidth");return s!=null?it(s,r):Math.max(Math.min(r/2,a),o)}function tAe(i){i.registerChartView(qwe),i.registerSeriesModel(OQ),i.registerPreprocessor(Qwe),i.registerVisual(Xwe),i.registerLayout(Jwe)}function H8(i,e){var t=e.rippleEffectColor||e.color;i.eachChild(function(n){n.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var nAe=(function(i){fe(e,i);function e(t,n){var r=i.call(this)||this,a=new SM(t,n),o=new It;return r.add(a),r.add(o),r.updateData(t,n),r}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var n=t.symbolType,r=t.color,a=t.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var l=Or(n,-1,-1,2,2,r);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/a*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),o.add(l)}H8(o,t)},e.prototype.updateEffectAnimation=function(t){for(var n=this._effectCfg,r=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var s=a[o];if(n[s]!==t[s]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}H8(r,t)},e.prototype.highlight=function(){Lh(this)},e.prototype.downplay=function(){Ih(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,n){var r=this,a=t.hostModel;this.childAt(0).updateData(t,n);var o=this.childAt(1),s=t.getItemModel(n),l=t.getItemVisual(n,"symbol"),u=Y_(t.getItemVisual(n,"symbolSize")),c=t.getItemVisual(n,"style"),f=c&&c.fill,h=s.getModel("emphasis");o.setScale(u),o.traverse(function(_){_.setStyle("fill",f)});var p=_m(t.getItemVisual(n,"symbolOffset"),u);p&&(o.x=p[0],o.y=p[1]);var g=t.getItemVisual(n,"symbolRotate");o.rotation=(g||0)*Math.PI/180||0;var y={};y.showEffectOn=a.get("showEffectOn"),y.rippleScale=s.get(["rippleEffect","scale"]),y.brushType=s.get(["rippleEffect","brushType"]),y.period=s.get(["rippleEffect","period"])*1e3,y.effectOffset=n/t.count(),y.z=a.getShallow("z")||0,y.zlevel=a.getShallow("zlevel")||0,y.symbolType=l,y.color=f,y.rippleEffectColor=s.get(["rippleEffect","color"]),y.rippleNumber=s.get(["rippleEffect","number"]),y.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(y):this.startEffectAnimation(y),this._effectCfg=y):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(_){_==="emphasis"?y.showEffectOn!=="render"&&r.startEffectAnimation(y):_==="normal"&&y.showEffectOn!=="render"&&r.stopEffectAnimation()}),this._effectCfg=y,Hi(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e})(It),iAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new bM(nAe)},e.prototype.render=function(t,n,r){var a=t.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(o.group)},e.prototype._getClipShape=function(t){var n=t.coordinateSystem,r=n&&n.getArea&&n.getArea();return t.get("clip",!0)?r:null},e.prototype.updateTransform=function(t,n,r){var a=t.getData();this.group.dirty();var o=TM("").reset(t,n,r);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var n=t.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=HY(n.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e})(fi),rAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return yf(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,n,r){return r.point(n.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e})(vi);function aAe(i){i.registerChartView(iAe),i.registerSeriesModel(rAe),i.registerLayout(TM("effectScatter"))}var zQ=(function(i){fe(e,i);function e(t,n,r){var a=i.call(this)||this;return a.add(a.createLine(t,n,r)),a._updateEffectSymbol(t,n),a}return e.prototype.createLine=function(t,n,r){return new f2(t,n,r)},e.prototype._updateEffectSymbol=function(t,n){var r=t.getItemModel(n),a=r.getModel("effect"),o=a.get("symbolSize"),s=a.get("symbol");ze(o)||(o=[o,o]);var l=t.getItemVisual(n,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=Or(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(t,a,n))},e.prototype._updateEffectAnimation=function(t,n,r){var a=this.childAt(1);if(a){var o=t.getItemLayout(r),s=n.get("period")*1e3,l=n.get("loop"),u=n.get("roundTrip"),c=n.get("constantSpeed"),f=Na(n.get("delay"),function(p){return p/t.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),c>0&&(s=this._getLineLength(a)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var h=void 0;Ct(f)?h=f(r):h=f,a.__t>0&&(h=-s*a.__t),this._animateSymbol(a,s,h,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(t,n,r,a,o){if(n>0){t.__t=0;var s=this,l=t.animate("",a).when(o?n*2:n,{__t:o?2:1}).delay(r).during(function(){s._updateSymbolPosition(t)});a||l.done(function(){s.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return gh(t.__p1,t.__cp1)+gh(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,n){t.__p1=n[0],t.__p2=n[1],t.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},e.prototype.updateData=function(t,n,r){this.childAt(0).updateData(t,n,r),this._updateEffectSymbol(t,n)},e.prototype._updateSymbolPosition=function(t){var n=t.__p1,r=t.__p2,a=t.__cp1,o=t.__t<1?t.__t:2-t.__t,s=[t.x,t.y],l=s.slice(),u=Pa,c=gO;s[0]=u(n[0],a[0],r[0],o),s[1]=u(n[1],a[1],r[1],o);var f=t.__t<1?c(n[0],a[0],r[0],o):c(r[0],a[0],n[0],1-o),h=t.__t<1?c(n[1],a[1],r[1],o):c(r[1],a[1],n[1],1-o);t.rotation=-Math.atan2(h,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=gh(l,s)*1.05,o===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*gh(n,s):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=s[0],t.y=s[1]},e.prototype.updateLayout=function(t,n){this.childAt(0).updateLayout(t,n);var r=t.getItemModel(n).getModel("effect");this._updateEffectAnimation(t,r,n)},e})(It),BQ=(function(i){fe(e,i);function e(t,n,r){var a=i.call(this)||this;return a._createPolyline(t,n,r),a}return e.prototype._createPolyline=function(t,n,r){var a=t.getItemLayout(n),o=new Ba({shape:{points:a}});this.add(o),this._updateCommonStl(t,n,r)},e.prototype.updateData=function(t,n,r){var a=t.hostModel,o=this.childAt(0),s={shape:{points:t.getItemLayout(n)}};Gn(o,s,a,n),this._updateCommonStl(t,n,r)},e.prototype._updateCommonStl=function(t,n,r){var a=this.childAt(0),o=t.getItemModel(n),s=r&&r.emphasisLineStyle,l=r&&r.focus,u=r&&r.blurScope,c=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var f=o.getModel("emphasis");s=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(t.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var h=a.ensureState("emphasis");h.style=s,Hi(this,l,u,c)},e.prototype.updateLayout=function(t,n){var r=this.childAt(0);r.setShape("points",t.getItemLayout(n))},e})(It),oAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,n,r){return new BQ(t,n,r)},e.prototype._updateAnimationPoints=function(t,n){this._points=n;for(var r=[0],a=0,o=1;o<n.length;o++){var s=n[o-1],l=n[o];a+=gh(s,l),r.push(a)}if(a===0){this._length=0;return}for(var o=0;o<r.length;o++)r[o]/=a;this._offsets=r,this._length=a},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var n=t.__t<1?t.__t:2-t.__t,r=this._points,a=this._offsets,o=r.length;if(a){var s=this._lastFrame,l;if(n<this._lastFramePercent){var u=Math.min(s+1,o-1);for(l=u;l>=0&&!(a[l]<=n);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(a[l]>n);l++);l=Math.min(l-1,o-2)}var c=(n-a[l])/(a[l+1]-a[l]),f=r[l],h=r[l+1];t.x=f[0]*(1-c)+c*h[0],t.y=f[1]*(1-c)+c*h[1];var p=t.__t<1?h[0]-f[0]:f[0]-h[0],g=t.__t<1?h[1]-f[1]:f[1]-h[1];t.rotation=-Math.atan2(g,p)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,t.ignore=!1}},e})(zQ),sAe=(function(){function i(){this.polyline=!1,this.curveness=0,this.segs=[]}return i})(),lAe=(function(i){fe(e,i);function e(t){var n=i.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:ge.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new sAe},e.prototype.buildPath=function(t,n){var r=n.segs,a=n.curveness,o;if(n.polyline)for(o=this._off;o<r.length;){var s=r[o++];if(s>0){t.moveTo(r[o++],r[o++]);for(var l=1;l<s;l++)t.lineTo(r[o++],r[o++])}}else for(o=this._off;o<r.length;){var u=r[o++],c=r[o++],f=r[o++],h=r[o++];if(t.moveTo(u,c),a>0){var p=(u+f)/2-(c-h)*a,g=(c+h)/2-(f-u)*a;t.quadraticCurveTo(p,g,f,h)}else t.lineTo(f,h)}this.incremental&&(this._off=o,this.notClear=!0)},e.prototype.findDataIndex=function(t,n){var r=this.shape,a=r.segs,o=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],h=a[u++],p=1;p<c;p++){var g=a[u++],y=a[u++];if(Zd(f,h,g,y,s,t,n))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],h=a[u++],g=a[u++],y=a[u++];if(o>0){var _=(f+g)/2-(h-y)*o,x=(h+y)/2-(g-f)*o;if(Bq(f,h,_,x,g,y,s,t,n))return l}else if(Zd(f,h,g,y,s,t,n))return l;l++}return-1},e.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(t=r[0],n=r[1],a.contain(t,n)){var o=this.hoverDataIdx=this.findDataIndex(t,n);return o>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,r=n.segs,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<r.length;){var c=r[u++],f=r[u++];a=Math.min(c,a),s=Math.max(c,s),o=Math.min(f,o),l=Math.max(f,l)}t=this._rect=new Ut(a,o,s,l)}return t},e})(bn),uAe=(function(){function i(){this.group=new It}return i.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},i.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},i.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],r=t.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+r.length);s.set(a),s.set(r,o),n.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:r}),this._setCommon(l,t),l.__startIndex=e.start}},i.prototype.remove=function(){this._clear()},i.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},i.prototype._create=function(){var e=new lAe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},i.prototype._setCommon=function(e,t,n){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var o=Ht(e);o.seriesIndex=r.seriesIndex,e.on("mousemove",function(s){o.dataIndex=null;var l=e.hoverDataIdx;l>0&&(o.dataIndex=l+e.__startIndex)})},i.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},i})(),kQ={seriesType:"lines",plan:W_(),reset:function(i){var e=i.coordinateSystem;if(e){var t=i.get("polyline"),n=i.pipelineContext.large;return{progress:function(r,a){var o=[];if(n){var s=void 0,l=r.end-r.start;if(t){for(var u=0,c=r.start;c<r.end;c++)u+=i.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var f=0,h=[],c=r.start;c<r.end;c++){var p=i.getLineCoords(c,o);t&&(s[f++]=p);for(var g=0;g<p;g++)h=e.dataToPoint(o[g],!1,h),s[f++]=h[0],s[f++]=h[1]}a.setLayout("linesPoints",s)}else for(var c=r.start;c<r.end;c++){var y=a.getItemModel(c),p=i.getLineCoords(c,o),_=[];if(t)for(var x=0;x<p;x++)_.push(e.dataToPoint(o[x]));else{_[0]=e.dataToPoint(o[0]),_[1]=e.dataToPoint(o[1]);var M=y.get(["lineStyle","curveness"]);+M&&(_[2]=[(_[0][0]+_[1][0])/2-(_[0][1]-_[1][1])*M,(_[0][1]+_[1][1])/2-(_[1][0]-_[0][0])*M])}a.setItemLayout(c,_)}}}}}},cAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){var a=t.getData(),o=this._updateLineDraw(a,t),s=t.get("zlevel"),l=t.get(["effect","trailLength"]),u=r.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(a);var f=t.get("clip",!0)&&MM(t.coordinateSystem,!1,t);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,r){var a=t.getData(),o=this._updateLineDraw(a,t);o.incrementalPrepareUpdate(a),this._clearLayer(r),this._finished=!1},e.prototype.incrementalRender=function(t,n,r){this._lineDraw.incrementalUpdate(t,n.getData()),this._finished=t.end===n.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,n,r){var a=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=kQ.reset(t,n,r);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(r)},e.prototype._updateLineDraw=function(t,n){var r=this._lineDraw,a=this._showEffect(n),o=!!n.get("polyline"),s=n.pipelineContext,l=s.large;return(!r||a!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(r&&r.remove(),r=this._lineDraw=l?new uAe:new h2(o?a?oAe:BQ:a?zQ:f2),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=l),this.group.add(r.group),r},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var n=t.getZr(),r=n.painter.getType()==="svg";!r&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.type="lines",e})(fi),fAe=typeof Uint32Array>"u"?Array:Uint32Array,hAe=typeof Float64Array>"u"?Array:Float64Array;function W8(i){var e=i.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(i.data=Ge(e,function(t){var n=[t[0].coord,t[1].coord],r={coords:n};return t[0].name&&(r.fromName=t[0].name),t[1].name&&(r.toName=t[1].name),zR([r,t[0],t[1]])}))}var dAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],W8(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),i.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(W8(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}i.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var n=this._processFlatCoordsArray(t.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=u_(this._flatCoords,n.flatCoords),this._flatCoordsOffset=u_(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),t.data=new Float32Array(n.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var n=this.getData().getItemModel(t),r=n.option instanceof Array?n.option:n.getShallow("coords");return r},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,n){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[t*2],a=this._flatCoordsOffset[t*2+1],o=0;o<a;o++)n[o]=n[o]||[],n[o][0]=this._flatCoords[r+o*2],n[o][1]=this._flatCoords[r+o*2+1];return a}else{for(var s=this._getCoordsFromItemModel(t),o=0;o<s.length;o++)n[o]=n[o]||[],n[o][0]=s[o][0],n[o][1]=s[o][1];return s.length}},e.prototype._processFlatCoordsArray=function(t){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),Pn(t[0])){for(var r=t.length,a=new fAe(r),o=new hAe(r),s=0,l=0,u=0,c=0;c<r;){u++;var f=t[c++];a[l++]=s+n,a[l++]=f;for(var h=0;h<f;h++){var p=t[c++],g=t[c++];o[s++]=p,o[s++]=g}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,n){var r=new Ao(["value"],this);return r.hasItemOption=!1,r.initData(t.data,[],function(a,o,s,l){if(a instanceof Array)return NaN;r.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),r},e.prototype.formatTooltip=function(t,n,r){var a=this.getData(),o=a.getItemModel(t),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Kr("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),n=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&n>0?n+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e})(vi);function tC(i){return i instanceof Array||(i=[i,i]),i}var pAe={seriesType:"lines",reset:function(i){var e=tC(i.get("symbol")),t=tC(i.get("symbolSize")),n=i.getData();n.setVisual("fromSymbol",e&&e[0]),n.setVisual("toSymbol",e&&e[1]),n.setVisual("fromSymbolSize",t&&t[0]),n.setVisual("toSymbolSize",t&&t[1]);function r(a,o){var s=a.getItemModel(o),l=tC(s.getShallow("symbol",!0)),u=tC(s.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(o,"fromSymbol",l[0]),l[1]&&a.setItemVisual(o,"toSymbol",l[1]),u[0]&&a.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:n.hasItemOption?r:null}}};function vAe(i){i.registerChartView(cAe),i.registerSeriesModel(dAe),i.registerLayout(kQ),i.registerVisual(pAe)}var gAe=256,mAe=(function(){function i(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Rs.createCanvas();this.canvas=e}return i.prototype.update=function(e,t,n,r,a,o){var s=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,h=f.getContext("2d"),p=e.length;f.width=t,f.height=n;for(var g=0;g<p;++g){var y=e[g],_=y[0],x=y[1],M=y[2],T=r(M);h.globalAlpha=T,h.drawImage(s,_-c,x-c)}if(!f.width||!f.height)return f;for(var C=h.getImageData(0,0,f.width,f.height),E=C.data,D=0,L=E.length,z=this.minOpacity,P=this.maxOpacity,N=P-z;D<L;){var T=E[D+3]/256,B=Math.floor(T*(gAe-1))*4;if(T>0){var G=o(T)?l:u;T>0&&(T=T*N+z),E[D++]=G[B],E[D++]=G[B+1],E[D++]=G[B+2],E[D++]=G[B+3]*T*256}else D+=4}return h.putImageData(C,0,0),f},i.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Rs.createCanvas()),t=this.pointSize+this.blurSize,n=t*2;e.width=n,e.height=n;var r=e.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor=ge.color.neutral99,r.beginPath(),r.arc(-t,t,this.pointSize,0,Math.PI*2,!0),r.closePath(),r.fill(),e},i.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,r=n[t]||(n[t]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],o=0,s=0;s<256;s++)e[t](s/255,!0,a),r[o++]=a[0],r[o++]=a[1],r[o++]=a[2],r[o++]=a[3];return r},i})();function yAe(i,e,t){var n=i[1]-i[0];e=Ge(e,function(o){return{interval:[(o.interval[0]-i[0])/n,(o.interval[1]-i[0])/n]}});var r=e.length,a=0;return function(o){var s;for(s=a;s<r;s++){var l=e[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}if(s===r)for(s=a-1;s>=0;s--){var l=e[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}return s>=0&&s<r&&t[s]}}function _Ae(i,e){var t=i[1]-i[0];return e=[(e[0]-i[0])/t,(e[1]-i[0])/t],function(n){return n>=e[0]&&n<=e[1]}}function X8(i){var e=i.dimensions;return e[0]==="lng"&&e[1]==="lat"}var xAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){var a;n.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===t&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=t.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"||o.type==="matrix"?this._renderOnGridLike(t,r,0,t.getData().count()):X8(o)&&this._renderOnGeo(o,t,a,r)},e.prototype.incrementalPrepareRender=function(t,n,r){this.group.removeAll()},e.prototype.incrementalRender=function(t,n,r,a){var o=n.coordinateSystem;o&&(X8(o)?this.render(n,r,a):(this._progressiveEls=[],this._renderOnGridLike(n,a,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Pp(this._progressiveEls||this.group,t)},e.prototype._renderOnGridLike=function(t,n,r,a,o){var s=t.coordinateSystem,l=Tp(s,"cartesian2d"),u=Tp(s,"matrix"),c,f,h,p;if(l){var g=s.getAxis("x"),y=s.getAxis("y");c=g.getBandWidth()+.5,f=y.getBandWidth()+.5,h=g.scale.getExtent(),p=y.scale.getExtent()}for(var _=this.group,x=t.getData(),M=t.getModel(["emphasis","itemStyle"]).getItemStyle(),T=t.getModel(["blur","itemStyle"]).getItemStyle(),C=t.getModel(["select","itemStyle"]).getItemStyle(),E=t.get(["itemStyle","borderRadius"]),D=ua(t),L=t.getModel("emphasis"),z=L.get("focus"),P=L.get("blurScope"),N=L.get("disabled"),B=l||u?[x.mapDimension("x"),x.mapDimension("y"),x.mapDimension("value")]:[x.mapDimension("time"),x.mapDimension("value")],G=r;G<a;G++){var U=void 0,X=x.getItemVisual(G,"style");if(l){var q=x.get(B[0],G),V=x.get(B[1],G);if(isNaN(x.get(B[2],G))||isNaN(q)||isNaN(V)||q<h[0]||q>h[1]||V<p[0]||V>p[1])continue;var j=s.dataToPoint([q,V]);U=new dn({shape:{x:j[0]-c/2,y:j[1]-f/2,width:c,height:f},style:X})}else if(u){var K=s.dataToLayout([x.get(B[0],G),x.get(B[1],G)]).rect;if(Ja(K.x))continue;U=new dn({z2:1,shape:K,style:X})}else{if(isNaN(x.get(B[1],G)))continue;var te=s.dataToLayout([x.get(B[0],G)]),K=te.contentRect||te.rect;if(Ja(K.x)||Ja(K.y))continue;U=new dn({z2:1,shape:K,style:X})}if(x.hasItemOption){var ie=x.getItemModel(G),Y=ie.getModel("emphasis");M=Y.getModel("itemStyle").getItemStyle(),T=ie.getModel(["blur","itemStyle"]).getItemStyle(),C=ie.getModel(["select","itemStyle"]).getItemStyle(),E=ie.get(["itemStyle","borderRadius"]),z=Y.get("focus"),P=Y.get("blurScope"),N=Y.get("disabled"),D=ua(ie)}U.shape.r=E;var ee=t.getRawValue(G),oe="-";ee&&ee[2]!=null&&(oe=ee[2]+""),Ma(U,D,{labelFetcher:t,labelDataIndex:G,defaultOpacity:X.opacity,defaultText:oe}),U.ensureState("emphasis").style=M,U.ensureState("blur").style=T,U.ensureState("select").style=C,Hi(U,z,P,N),U.incremental=o,o&&(U.states.emphasis.hoverLayer=!0),_.add(U),x.setItemGraphicEl(G,U),this._progressiveEls&&this._progressiveEls.push(U)}},e.prototype._renderOnGeo=function(t,n,r,a){var o=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new mAe;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var c=t.getViewRect().clone(),f=t.getRoamTransform();c.applyTransform(f);var h=Math.max(c.x,0),p=Math.max(c.y,0),g=Math.min(c.width+c.x,a.getWidth()),y=Math.min(c.height+c.y,a.getHeight()),_=g-h,x=y-p,M=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],T=l.mapArray(M,function(L,z,P){var N=t.dataToPoint([L,z]);return N[0]-=h,N[1]-=p,N.push(P),N}),C=r.getExtent(),E=r.type==="visualMap.continuous"?_Ae(C,r.option.range):yAe(C,r.getPieceList(),r.option.selected);u.update(T,_,x,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},E);var D=new Ta({style:{width:_,height:x,x:h,y:p,image:u.canvas},silent:!0});this.group.add(D)},e.type="heatmap",e})(fi),SAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return yf(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=H_.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:ge.color.primary}}},e})(vi);function bAe(i){i.registerChartView(xAe),i.registerSeriesModel(SAe)}var MAe=["itemStyle","borderWidth"],Y8=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],iN=new mf,TAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){var a=this.group,o=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),h={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:Y8[+c],categoryDim:Y8[1-+c]};o.diff(s).add(function(g){if(o.hasValue(g)){var y=Z8(o,g),_=q8(o,g,y,h),x=j8(o,h,_);o.setItemGraphicEl(g,x),a.add(x),$8(x,h,_)}}).update(function(g,y){var _=s.getItemGraphicEl(y);if(!o.hasValue(g)){a.remove(_);return}var x=Z8(o,g),M=q8(o,g,x,h),T=WQ(o,M);_&&T!==_.__pictorialShapeStr&&(a.remove(_),o.setItemGraphicEl(g,null),_=null),_?LAe(_,h,M):_=j8(o,h,M,!0),o.setItemGraphicEl(g,_),_.__pictorialSymbolMeta=M,a.add(_),$8(_,h,M)}).remove(function(g){var y=s.getItemGraphicEl(g);y&&K8(s,g,y.__pictorialSymbolMeta.animationModel,y)}).execute();var p=t.get("clip",!0)?MM(t.coordinateSystem,!1,t):null;return p?a.setClipPath(p):a.removeClipPath(),this._data=o,this.group},e.prototype.remove=function(t,n){var r=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(o){K8(a,Ht(o).dataIndex,t,o)}):r.removeAll()},e.type="pictorialBar",e})(fi);function q8(i,e,t,n){var r=i.getItemLayout(e),a=t.get("symbolRepeat"),o=t.get("symbolClip"),s=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=t.get("symbolPatternSize")||2,f=t.isAnimationEnabled(),h={dataIndex:e,layout:r,itemModel:t,symbolType:i.getItemVisual(e,"symbol")||"circle",style:i.getItemVisual(e,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?t:null,hoverScale:f&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};wAe(t,a,r,n,h),AAe(i,e,r,a,o,h.boundingLength,h.pxSign,c,n,h),CAe(t,h.symbolScale,u,n,h);var p=h.symbolSize,g=_m(t.get("symbolOffset"),p);return EAe(t,p,r,a,o,g,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,n,h),h}function wAe(i,e,t,n,r){var a=n.valueDim,o=i.get("symbolBoundingData"),s=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(t[a.wh]<=0),c;if(ze(o)){var f=[rN(s,o[0])-l,rN(s,o[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else o!=null?c=rN(s,o)-l:e?c=n.coordSysExtent[a.index][u]-l:c=t[a.wh];r.boundingLength=c,e&&(r.repeatCutLength=t[a.wh]);var h=a.xy==="x",p=s.inverse;r.pxSign=h&&!p||!h&&p?c>=0?1:-1:c>0?1:-1}function rN(i,e){return i.toGlobalCoord(i.dataToCoord(i.scale.parse(e)))}function AAe(i,e,t,n,r,a,o,s,l,u){var c=l.valueDim,f=l.categoryDim,h=Math.abs(t[f.wh]),p=i.getItemVisual(e,"symbolSize"),g;ze(p)?g=p.slice():p==null?g=["100%","100%"]:g=[p,p],g[f.index]=it(g[f.index],h),g[c.index]=it(g[c.index],n?h:Math.abs(a)),u.symbolSize=g;var y=u.symbolScale=[g[0]/s,g[1]/s];y[c.index]*=(l.isHorizontal?-1:1)*o}function CAe(i,e,t,n,r){var a=i.get(MAe)||0;a&&(iN.attr({scaleX:e[0],scaleY:e[1],rotation:t}),iN.updateTransform(),a/=iN.getLineScale(),a*=e[n.valueDim.index]),r.valueLineWidth=a||0}function EAe(i,e,t,n,r,a,o,s,l,u,c,f){var h=c.categoryDim,p=c.valueDim,g=f.pxSign,y=Math.max(e[p.index]+s,0),_=y;if(n){var x=Math.abs(l),M=Na(i.get("symbolMargin"),"15%")+"",T=!1;M.lastIndexOf("!")===M.length-1&&(T=!0,M=M.slice(0,M.length-1));var C=it(M,e[p.index]),E=Math.max(y+C*2,0),D=T?0:C*2,L=Ik(n),z=L?n:Q8((x+D)/E),P=x-z*y;C=P/2/(T?z:Math.max(z-1,1)),E=y+C*2,D=T?0:C*2,!L&&n!=="fixed"&&(z=u?Q8((Math.abs(u)+D)/E):0),_=z*E-D,f.repeatTimes=z,f.symbolMargin=C}var N=g*(_/2),B=f.pathPosition=[];B[h.index]=t[h.wh]/2,B[p.index]=o==="start"?N:o==="end"?l-N:l/2,a&&(B[0]+=a[0],B[1]+=a[1]);var G=f.bundlePosition=[];G[h.index]=t[h.xy],G[p.index]=t[p.xy];var U=f.barRectShape=Ce({},t);U[p.wh]=g*Math.max(Math.abs(t[p.wh]),Math.abs(B[p.index]+N)),U[h.wh]=t[h.wh];var X=f.clipShape={};X[h.xy]=-t[h.xy],X[h.wh]=c.ecSize[h.wh],X[p.xy]=0,X[p.wh]=t[p.wh]}function UQ(i){var e=i.symbolPatternSize,t=Or(i.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function FQ(i,e,t,n){var r=i.__pictorialBundle,a=t.symbolSize,o=t.valueLineWidth,s=t.pathPosition,l=e.valueDim,u=t.repeatTimes||0,c=0,f=a[e.valueDim.index]+o+t.symbolMargin*2;for(M2(i,function(y){y.__pictorialAnimationIndex=c,y.__pictorialRepeatTimes=u,c<u?Z0(y,null,g(c),t,n):Z0(y,null,{scaleX:0,scaleY:0},t,n,function(){r.remove(y)}),c++});c<u;c++){var h=UQ(t);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,r.add(h);var p=g(c);Z0(h,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},t,n)}function g(y){var _=s.slice(),x=t.pxSign,M=y;return(t.symbolRepeatDirection==="start"?x>0:x<0)&&(M=u-1-y),_[l.index]=f*(M-u/2+.5)+s[l.index],{x:_[0],y:_[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function VQ(i,e,t,n){var r=i.__pictorialBundle,a=i.__pictorialMainPath;a?Z0(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,n):(a=i.__pictorialMainPath=UQ(t),r.add(a),Z0(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,n))}function GQ(i,e,t){var n=Ce({},e.barRectShape),r=i.__pictorialBarRect;r?Z0(r,null,{shape:n},e,t):(r=i.__pictorialBarRect=new dn({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),r.disableMorphing=!0,i.add(r))}function HQ(i,e,t,n){if(t.symbolClip){var r=i.__pictorialClipPath,a=Ce({},t.clipShape),o=e.valueDim,s=t.animationModel,l=t.dataIndex;if(r)Gn(r,{shape:a},s,l);else{a[o.wh]=0,r=new dn({shape:a}),i.__pictorialBundle.setClipPath(r),i.__pictorialClipPath=r;var u={};u[o.wh]=t.clipShape[o.wh],gm[n?"updateProps":"initProps"](r,{shape:u},s,l)}}}function Z8(i,e){var t=i.getItemModel(e);return t.getAnimationDelayParams=DAe,t.isAnimationEnabled=RAe,t}function DAe(i){return{index:i.__pictorialAnimationIndex,count:i.__pictorialRepeatTimes}}function RAe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function j8(i,e,t,n){var r=new It,a=new It;return r.add(a),r.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?FQ(r,e,t):VQ(r,e,t),GQ(r,t,n),HQ(r,e,t,n),r.__pictorialShapeStr=WQ(i,t),r.__pictorialSymbolMeta=t,r}function LAe(i,e,t){var n=t.animationModel,r=t.dataIndex,a=i.__pictorialBundle;Gn(a,{x:t.bundlePosition[0],y:t.bundlePosition[1]},n,r),t.symbolRepeat?FQ(i,e,t,!0):VQ(i,e,t,!0),GQ(i,t,!0),HQ(i,e,t,!0)}function K8(i,e,t,n){var r=n.__pictorialBarRect;r&&r.removeTextContent();var a=[];M2(n,function(o){a.push(o)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(t=null),H(a,function(o){Mp(o,{scaleX:0,scaleY:0},t,e,function(){n.parent&&n.parent.remove(n)})}),i.setItemGraphicEl(e,null)}function WQ(i,e){return[i.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function M2(i,e,t){H(i.__pictorialBundle.children(),function(n){n!==i.__pictorialBarRect&&e.call(t,n)})}function Z0(i,e,t,n,r,a){e&&i.attr(e),n.symbolClip&&!r?t&&i.attr(t):t&&gm[r?"updateProps":"initProps"](i,t,n.animationModel,n.dataIndex,a)}function $8(i,e,t){var n=t.dataIndex,r=t.itemModel,a=r.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),h=a.get("scale");M2(i,function(y){if(y instanceof Ta){var _=y.style;y.useStyle(Ce({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},t.style))}else y.useStyle(t.style);var x=y.ensureState("emphasis");x.style=o,h&&(x.scaleX=y.scaleX*1.1,x.scaleY=y.scaleY*1.1),y.ensureState("blur").style=s,y.ensureState("select").style=l,u&&(y.cursor=u),y.z2=t.z2});var p=e.valueDim.posDesc[+(t.boundingLength>0)],g=i.__pictorialBarRect;g.ignoreClip=!0,Ma(g,ua(r),{labelFetcher:e.seriesModel,labelDataIndex:n,defaultText:x_(e.seriesModel.getData(),n),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:p}),Hi(i,c,f,a.get("disabled"))}function Q8(i){var e=Math.round(i);return Math.abs(i-e)<1e-4?e:Math.ceil(i)}var IAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,i.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Np(k1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:ge.color.primary}}}),e})(k1);function PAe(i){i.registerChartView(TAe),i.registerSeriesModel(IAe),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,Qt(cK,"pictorialBar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,fK("pictorialBar"))}var NAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,n,r){var a=t.getData(),o=this,s=this.group,l=t.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;s.x=0,s.y=c.y+f[0];function h(_){return _.name}var p=new Ph(this._layersSeries||[],l,h,h),g=[];p.add(at(y,this,"add")).update(at(y,this,"update")).remove(at(y,this,"remove")).execute();function y(_,x,M){var T=o._layers;if(_==="remove"){s.remove(T[x]);return}for(var C=[],E=[],D,L=l[x].indices,z=0;z<L.length;z++){var P=a.getItemLayout(L[z]),N=P.x,B=P.y0,G=P.y;C.push(N,B),E.push(N,B+G),D=a.getItemVisual(L[z],"style")}var U,X=a.getItemLayout(L[0]),q=t.getModel("label"),V=q.get("margin"),j=t.getModel("emphasis");if(_==="add"){var K=g[x]=new It;U=new t$({shape:{points:C,stackedOnPoints:E,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),K.add(U),s.add(K),t.isAnimationEnabled()&&U.setClipPath(OAe(U.getBoundingRect(),t,function(){U.removeClipPath()}))}else{var K=T[M];U=K.childAt(0),s.add(K),g[x]=K,Gn(U,{shape:{points:C,stackedOnPoints:E}},t),$l(U)}Ma(U,ua(t),{labelDataIndex:L[z-1],defaultText:a.getName(L[z-1]),inheritColor:D.fill},{normal:{verticalAlign:"middle"}}),U.setTextConfig({position:null,local:!0});var te=U.getTextContent();te&&(te.x=X.x-V,te.y=X.y0+X.y/2),U.useStyle(D),a.setItemGraphicEl(x,U),la(U,t),Hi(U,j.get("focus"),j.get("blurScope"),j.get("disabled"))}this._layersSeries=l,this._layers=g},e.type="themeRiver",e})(fi);function OAe(i,e,t){var n=new dn({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}});return Li(n,{shape:{x:i.x-50,width:i.width+100,height:i.height+20}},e,t),n}var aN=2,zAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new Q_(at(this.getData,this),at(this.getRawData,this))},e.prototype.fixData=function(t){var n=t.length,r={},a=IO(t,function(h){return r.hasOwnProperty(h[0]+"")||(r[h[0]+""]=-1),h[2]}),o=[];a.buckets.each(function(h,p){o.push({name:p,dataList:h})});for(var s=o.length,l=0;l<s;++l){for(var u=o[l].name,c=0;c<o[l].dataList.length;++c){var f=o[l].dataList[c][0]+"";r[f]=l}for(var f in r)r.hasOwnProperty(f)&&r[f]!==l&&(r[f]=l,t[n]=[f,0,u],n++)}return t},e.prototype.getInitialData=function(t,n){for(var r=this.getReferringComponents("singleAxis",lr).models[0],a=r.get("type"),o=Kn(t.data,function(g){return g[2]!==void 0}),s=this.fixData(o||[]),l=[],u=this.nameMap=St(),c=0,f=0;f<s.length;++f)l.push(s[f][aN]),u.get(s[f][aN])||(u.set(s[f][aN],c),c++);var h=q_(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:vD(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new Ao(h,this);return p.initData(s),p},e.prototype.getLayerSeries=function(){for(var t=this.getData(),n=t.count(),r=[],a=0;a<n;++a)r[a]=a;var o=t.mapDimension("single"),s=IO(r,function(u){return t.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(f,h){return t.get(o,f)-t.get(o,h)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(t,n,r){ze(t)||(t=t?[t]:[]);for(var a=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,h=-1,p=o[c].indices.length,g=0;g<p;++g){var y=a.get(t[0],o[c].indices[g]),_=Math.abs(y-n);_<=f&&(u=y,f=_,h=o[c].indices[g])}s.push(h)}return{dataIndices:s,nestestValue:u}},e.prototype.formatTooltip=function(t,n,r){var a=this.getData(),o=a.getName(t),s=a.get(a.mapDimension("value"),t);return Kr("nameValue",{name:o,value:s})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e})(vi);function BAe(i,e){i.eachSeriesByType("themeRiver",function(t){var n=t.getData(),r=t.coordinateSystem,a={},o=r.getRect();a.rect=o;var s=t.get("boundaryGap"),l=r.getAxis();if(a.boundaryGap=s,l.orient==="horizontal"){s[0]=it(s[0],o.height),s[1]=it(s[1],o.height);var u=o.height-s[0]-s[1];J8(n,t,u)}else{s[0]=it(s[0],o.width),s[1]=it(s[1],o.width);var c=o.width-s[0]-s[1];J8(n,t,c)}n.setLayout("layoutInfo",a)})}function J8(i,e,t){if(i.count())for(var n=e.coordinateSystem,r=e.getLayerSeries(),a=i.mapDimension("single"),o=i.mapDimension("value"),s=Ge(r,function(_){return Ge(_.indices,function(x){var M=n.dataToPoint(i.get(a,x));return M[1]=i.get(o,x),M})}),l=kAe(s),u=l.y0,c=t/l.max,f=r.length,h=r[0].indices.length,p,g=0;g<h;++g){p=u[g]*c,i.setItemLayout(r[0].indices[g],{layerIndex:0,x:s[0][g][0],y0:p,y:s[0][g][1]*c});for(var y=1;y<f;++y)p+=s[y-1][g][1]*c,i.setItemLayout(r[y].indices[g],{layerIndex:y,x:s[y][g][0],y0:p,y:s[y][g][1]*c})}}function kAe(i){for(var e=i.length,t=i[0].length,n=[],r=[],a=0,o=0;o<t;++o){for(var s=0,l=0;l<e;++l)s+=i[l][o][1];s>a&&(a=s),n.push(s)}for(var u=0;u<t;++u)r[u]=(a-n[u])/2;a=0;for(var c=0;c<t;++c){var f=n[c]+r[c];f>a&&(a=f)}return{y0:r,max:a}}function UAe(i){i.registerChartView(NAe),i.registerSeriesModel(zAe),i.registerLayout(BAe),i.registerProcessor(K_("themeRiver"))}var FAe=2,VAe=4,e9=(function(i){fe(e,i);function e(t,n,r,a){var o=i.call(this)||this;o.z2=FAe,o.textConfig={inside:!0},Ht(o).seriesIndex=n.seriesIndex;var s=new In({z2:VAe,silent:t.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,t,n,r,a),o}return e.prototype.updateData=function(t,n,r,a,o){this.node=n,n.piece=this,r=r||this._seriesModel,a=a||this._ecModel;var s=this;Ht(s).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),c=n.getLayout(),f=Ce({},c);f.label=null;var h=n.getVisual("style");h.lineJoin="bevel";var p=n.getVisual("decal");p&&(h.decal=m_(p,o));var g=Qc(l.getModel("itemStyle"),f,!0);Ce(f,g),H(ts,function(M){var T=s.ensureState(M),C=l.getModel([M,"itemStyle"]);T.style=C.getItemStyle();var E=Qc(C,f);E&&(T.shape=E)}),t?(s.setShape(f),s.shape.r=c.r0,Li(s,{shape:{r:c.r}},r,n.dataIndex)):(Gn(s,{shape:f},r),$l(s)),s.useStyle(h),this._updateLabel(r);var y=l.getShallow("cursor");y&&s.attr("cursor",y),this._seriesModel=r||this._seriesModel,this._ecModel=a||this._ecModel;var _=u.get("focus"),x=_==="relative"?u_(n.getAncestorsIndices(),n.getDescendantIndices()):_==="ancestor"?n.getAncestorsIndices():_==="descendant"?n.getDescendantIndices():_;Hi(this,x,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t){var n=this,r=this.node.getModel(),a=r.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,h=f.getTextContent(),p=this.node.dataIndex,g=a.get("minAngle")/180*Math.PI,y=a.get("show")&&!(g!=null&&Math.abs(s)<g);h.ignore=!y,H(T1,function(x){var M=x==="normal"?r.getModel("label"):r.getModel([x,"label"]),T=x==="normal",C=T?h:h.ensureState(x),E=t.getFormattedLabel(p,x);T&&(E=E||n.node.name),C.style=Si(M,{},null,x!=="normal",!0),E&&(C.style.text=E);var D=M.get("show");D!=null&&!T&&(C.ignore=!D);var L=_(M,"position"),z=T?f:f.states[x],P=z.style.fill;z.textConfig={outsideFill:M.get("color")==="inherit"?P:null,inside:L!=="outside"};var N,B=_(M,"distance")||0,G=_(M,"align"),U=_(M,"rotate"),X=Math.PI*.5,q=Math.PI*1.5,V=Ks(U==="tangential"?Math.PI/2-l:l),j=V>X&&!h_(V-X)&&V<q;L==="outside"?(N=o.r+B,G=j?"right":"left"):!G||G==="center"?(s===2*Math.PI&&o.r0===0?N=0:N=(o.r+o.r0)/2,G="center"):G==="left"?(N=o.r0+B,G=j?"right":"left"):G==="right"&&(N=o.r-B,G=j?"left":"right"),C.style.align=G,C.style.verticalAlign=_(M,"verticalAlign")||"middle",C.x=N*u+o.cx,C.y=N*c+o.cy;var K=0;U==="radial"?K=Ks(-l)+(j?Math.PI:0):U==="tangential"?K=Ks(Math.PI/2-l)+(j?Math.PI:0):Pn(U)&&(K=U*Math.PI/180),C.rotation=Ks(K)});function _(x,M){var T=x.get(M);return T??a.get(M)}h.dirtyStyle()},e})(io),Zz="sunburstRootToNode",t9="sunburstHighlight",GAe="sunburstUnhighlight";function HAe(i){i.registerAction({type:Zz,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},n);function n(r,a){var o=F1(e,[Zz],r);if(o){var s=r.getViewRoot();s&&(e.direction=o2(s,o.node)?"rollUp":"drillDown"),r.resetViewRoot(o.node)}}}),i.registerAction({type:t9,update:"none"},function(e,t,n){e=Ce({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},r);function r(a){var o=F1(e,[t9],a);o&&(e.dataIndex=o.node.dataIndex)}n.dispatchAction(Ce(e,{type:"highlight"}))}),i.registerAction({type:GAe,update:"updateView"},function(e,t,n){e=Ce({},e),n.dispatchAction(Ce(e,{type:"downplay"}))})}var WAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r,a){var o=this;this.seriesModel=t,this.api=r,this.ecModel=n;var s=t.getData(),l=s.tree.root,u=t.getViewRoot(),c=this.group,f=t.get("renderLabelForZeroData"),h=[];u.eachNode(function(M){h.push(M)});var p=this._oldChildren||[];g(h,p),x(l,u),this._initEvents(),this._oldChildren=h;function g(M,T){if(M.length===0&&T.length===0)return;new Ph(T,M,C,C).add(E).update(E).remove(Qt(E,null)).execute();function C(D){return D.getId()}function E(D,L){var z=D==null?null:M[D],P=L==null?null:T[L];y(z,P)}}function y(M,T){if(!f&&M&&!M.getValue()&&(M=null),M!==l&&T!==l){if(T&&T.piece)M?(T.piece.updateData(!1,M,t,n,r),s.setItemGraphicEl(M.dataIndex,T.piece)):_(T);else if(M){var C=new e9(M,t,n,r);c.add(C),s.setItemGraphicEl(M.dataIndex,C)}}}function _(M){M&&M.piece&&(c.remove(M.piece),M.piece=null)}function x(M,T){T.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,M,t,n,r):(o.virtualPiece=new e9(M,t,n,r),c.add(o.virtualPiece)),T.piece.off("click"),o.virtualPiece.on("click",function(C){o._rootToNode(T.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(n){var r=!1,a=t.seriesModel.getViewRoot();a.eachNode(function(o){if(!r&&o.piece&&o.piece===n.target){var s=o.getModel().get("nodeClick");if(s==="rootToNode")t._rootToNode(o);else if(s==="link"){var l=o.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";aD(u,c)}}r=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Zz,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,n){var r=n.getData(),a=r.getItemLayout(0);if(a){var o=t[0]-a.cx,s=t[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},e.type="sunburst",e})(fi),XAe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,n){var r={name:t.name,children:t.data};XQ(r);var a=this._levelModels=Ge(t.levels||[],function(l){return new Sn(l,this,n)},this),o=a2.createTree(r,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var f=o.getNodeByDataIndex(c),h=a[f.depth];return h&&(u.parentModel=h),u})}return o.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var n=i.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=pL(r,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){j$(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e})(vi);function XQ(i){var e=0;H(i.children,function(n){XQ(n);var r=n.value;ze(r)&&(r=r[0]),e+=r});var t=i.value;ze(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ze(i.value)?i.value[0]=t:i.value=t}var n9=Math.PI/180;function YAe(i,e,t){e.eachSeriesByType(i,function(n){var r=n.get("center"),a=n.get("radius");ze(a)||(a=[0,a]),ze(r)||(r=[r,r]);var o=t.getWidth(),s=t.getHeight(),l=Math.min(o,s),u=it(r[0],o),c=it(r[1],s),f=it(a[0],l/2),h=it(a[1],l/2),p=-n.get("startAngle")*n9,g=n.get("minAngle")*n9,y=n.getData().tree.root,_=n.getViewRoot(),x=_.depth,M=n.get("sort");M!=null&&YQ(_,M);var T=0;H(_.children,function(V){!isNaN(V.getValue())&&T++});var C=_.getValue(),E=Math.PI/(C||T)*2,D=_.depth>0,L=_.height-(D?-1:1),z=(h-f)/(L||1),P=n.get("clockwise"),N=n.get("stillShowZeroSum"),B=P?1:-1,G=function(V,j){if(V){var K=j;if(V!==y){var te=V.getValue(),ie=C===0&&N?E:te*E;ie<g&&(ie=g),K=j+B*ie;var Y=V.depth-x-(D?-1:1),ee=f+z*Y,oe=f+z*(Y+1),de=n.getLevelModel(V);if(de){var Pe=de.get("r0",!0),he=de.get("r",!0),Se=de.get("radius",!0);Se!=null&&(Pe=Se[0],he=Se[1]),Pe!=null&&(ee=it(Pe,l/2)),he!=null&&(oe=it(he,l/2))}V.setLayout({angle:ie,startAngle:j,endAngle:K,clockwise:P,cx:u,cy:c,r0:ee,r:oe})}if(V.children&&V.children.length){var Ee=0;H(V.children,function(Te){Ee+=G(Te,j+Ee)})}return K-j}};if(D){var U=f,X=f+z,q=Math.PI*2;y.setLayout({angle:q,startAngle:p,endAngle:p+q,clockwise:P,cx:u,cy:c,r0:U,r:X})}G(_,p)})}function YQ(i,e){var t=i.children||[];i.children=qAe(t,e),t.length&&H(i.children,function(n){YQ(n,e)})}function qAe(i,e){if(Ct(e)){var t=Ge(i,function(r,a){var o=r.getValue();return{params:{depth:r.depth,height:r.height,dataIndex:r.dataIndex,getValue:function(){return o}},index:a}});return t.sort(function(r,a){return e(r.params,a.params)}),Ge(t,function(r){return i[r.index]})}else{var n=e==="asc";return i.sort(function(r,a){var o=(r.getValue()-a.getValue())*(n?1:-1);return o===0?(r.dataIndex-a.dataIndex)*(n?-1:1):o})}}function ZAe(i){var e={};function t(n,r,a){if(n.depth===0)return ge.color.neutral50;for(var o=n;o&&o.depth>1;)o=o.parentNode;var s=r.getColorFromPalette(o.name||o.dataIndex+"",e);return n.depth>1&&rt(s)&&(s=XE(s,(n.depth-1)/(a-1)*.5)),s}i.eachSeriesByType("sunburst",function(n){var r=n.getData(),a=r.tree;a.eachNode(function(o){var s=o.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(o,n,a.root.height));var u=r.ensureUniqueItemVisual(o.dataIndex,"style");Ce(u,l)})})}function jAe(i){i.registerChartView(WAe),i.registerSeriesModel(XAe),i.registerLayout(Qt(YAe,"sunburst")),i.registerProcessor(Qt(K_,"sunburst")),i.registerVisual(ZAe),HAe(i)}var i9={color:"fill",borderColor:"stroke"},KAe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},wh=yn(),$Ae=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,n){return yf(null,this)},e.prototype.getDataParams=function(t,n,r){var a=i.prototype.getDataParams.call(this,t,n);return r&&(a.info=wh(r).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e})(vi);function QAe(i,e){return e=e||[0,0],Ge(["x","y"],function(t,n){var r=this.getAxis(t),a=e[n],o=i[n]/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(a-o)-r.dataToCoord(a+o))},this)}function JAe(i){var e=i.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return i.dataToPoint(t)},size:at(QAe,i)}}}function eCe(i,e){return e=e||[0,0],Ge([0,1],function(t){var n=e[t],r=i[t]/2,a=[],o=[];return a[t]=n-r,o[t]=n+r,a[1-t]=o[1-t]=e[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(o)[t])},this)}function tCe(i){var e=i.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:i.getZoom()},api:{coord:function(t){return i.dataToPoint(t)},size:at(eCe,i)}}}function nCe(i,e){var t=this.getAxis(),n=e instanceof Array?e[0]:e,r=(i instanceof Array?i[0]:i)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(n-r)-t.dataToCoord(n+r))}function iCe(i){var e=i.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return i.dataToPoint(t)},size:at(nCe,i)}}}function rCe(i,e){return e=e||[0,0],Ge(["Radius","Angle"],function(t,n){var r="get"+t+"Axis",a=this[r](),o=e[n],s=i[n]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function aCe(i){var e=i.getRadiusAxis(),t=i.getAngleAxis(),n=e.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:i.cx,cy:i.cy,r:n[1],r0:n[0]},api:{coord:function(r){var a=e.dataToRadius(r[0]),o=t.dataToAngle(r[1]),s=i.coordToPoint([a,o]);return s.push(a,o*Math.PI/180),s},size:at(rCe,i)}}}function oCe(i){var e=i.getRect(),t=i.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:i.getCellWidth(),cellHeight:i.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(n,r){return i.dataToPoint(n,r)},layout:function(n,r){return i.dataToLayout(n,r)}}}}function sCe(i){var e=i.getRect();return{coordSys:{type:"matrix",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t,n){return i.dataToPoint(t,n)},layout:function(t,n){return i.dataToLayout(t,n)}}}}function qQ(i,e,t,n){return i&&(i.legacy||i.legacy!==!1&&!t&&!n&&e!=="tspan"&&(e==="text"||gt(i,"text")))}function ZQ(i,e,t){var n=i,r,a,o;if(e==="text")o=n;else{o={},gt(n,"text")&&(o.text=n.text),gt(n,"rich")&&(o.rich=n.rich),gt(n,"textFill")&&(o.fill=n.textFill),gt(n,"textStroke")&&(o.stroke=n.textStroke),gt(n,"fontFamily")&&(o.fontFamily=n.fontFamily),gt(n,"fontSize")&&(o.fontSize=n.fontSize),gt(n,"fontStyle")&&(o.fontStyle=n.fontStyle),gt(n,"fontWeight")&&(o.fontWeight=n.fontWeight),a={type:"text",style:o,silent:!0},r={};var s=gt(n,"textPosition");t?r.position=s?n.textPosition:"inside":s&&(r.position=n.textPosition),gt(n,"textPosition")&&(r.position=n.textPosition),gt(n,"textOffset")&&(r.offset=n.textOffset),gt(n,"textRotation")&&(r.rotation=n.textRotation),gt(n,"textDistance")&&(r.distance=n.textDistance)}return r9(o,i),H(o.rich,function(l){r9(l,l)}),{textConfig:r,textContent:a}}function r9(i,e){e&&(e.font=e.textFont||e.font,gt(e,"textStrokeWidth")&&(i.lineWidth=e.textStrokeWidth),gt(e,"textAlign")&&(i.align=e.textAlign),gt(e,"textVerticalAlign")&&(i.verticalAlign=e.textVerticalAlign),gt(e,"textLineHeight")&&(i.lineHeight=e.textLineHeight),gt(e,"textWidth")&&(i.width=e.textWidth),gt(e,"textHeight")&&(i.height=e.textHeight),gt(e,"textBackgroundColor")&&(i.backgroundColor=e.textBackgroundColor),gt(e,"textPadding")&&(i.padding=e.textPadding),gt(e,"textBorderColor")&&(i.borderColor=e.textBorderColor),gt(e,"textBorderWidth")&&(i.borderWidth=e.textBorderWidth),gt(e,"textBorderRadius")&&(i.borderRadius=e.textBorderRadius),gt(e,"textBoxShadowColor")&&(i.shadowColor=e.textBoxShadowColor),gt(e,"textBoxShadowBlur")&&(i.shadowBlur=e.textBoxShadowBlur),gt(e,"textBoxShadowOffsetX")&&(i.shadowOffsetX=e.textBoxShadowOffsetX),gt(e,"textBoxShadowOffsetY")&&(i.shadowOffsetY=e.textBoxShadowOffsetY))}function a9(i,e,t){var n=i;n.textPosition=n.textPosition||t.position||"inside",t.offset!=null&&(n.textOffset=t.offset),t.rotation!=null&&(n.textRotation=t.rotation),t.distance!=null&&(n.textDistance=t.distance);var r=n.textPosition.indexOf("inside")>=0,a=i.fill||ge.color.neutral99;o9(n,e);var o=n.textFill==null;return r?o&&(n.textFill=t.insideFill||ge.color.neutral00,!n.textStroke&&t.insideStroke&&(n.textStroke=t.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(o&&(n.textFill=i.fill||t.outsideFill||ge.color.neutral00),!n.textStroke&&t.outsideStroke&&(n.textStroke=t.outsideStroke)),n.text=e.text,n.rich=e.rich,H(e.rich,function(s){o9(s,s)}),n}function o9(i,e){e&&(gt(e,"fill")&&(i.textFill=e.fill),gt(e,"stroke")&&(i.textStroke=e.fill),gt(e,"lineWidth")&&(i.textStrokeWidth=e.lineWidth),gt(e,"font")&&(i.font=e.font),gt(e,"fontStyle")&&(i.fontStyle=e.fontStyle),gt(e,"fontWeight")&&(i.fontWeight=e.fontWeight),gt(e,"fontSize")&&(i.fontSize=e.fontSize),gt(e,"fontFamily")&&(i.fontFamily=e.fontFamily),gt(e,"align")&&(i.textAlign=e.align),gt(e,"verticalAlign")&&(i.textVerticalAlign=e.verticalAlign),gt(e,"lineHeight")&&(i.textLineHeight=e.lineHeight),gt(e,"width")&&(i.textWidth=e.width),gt(e,"height")&&(i.textHeight=e.height),gt(e,"backgroundColor")&&(i.textBackgroundColor=e.backgroundColor),gt(e,"padding")&&(i.textPadding=e.padding),gt(e,"borderColor")&&(i.textBorderColor=e.borderColor),gt(e,"borderWidth")&&(i.textBorderWidth=e.borderWidth),gt(e,"borderRadius")&&(i.textBorderRadius=e.borderRadius),gt(e,"shadowColor")&&(i.textBoxShadowColor=e.shadowColor),gt(e,"shadowBlur")&&(i.textBoxShadowBlur=e.shadowBlur),gt(e,"shadowOffsetX")&&(i.textBoxShadowOffsetX=e.shadowOffsetX),gt(e,"shadowOffsetY")&&(i.textBoxShadowOffsetY=e.shadowOffsetY),gt(e,"textShadowColor")&&(i.textShadowColor=e.textShadowColor),gt(e,"textShadowBlur")&&(i.textShadowBlur=e.textShadowBlur),gt(e,"textShadowOffsetX")&&(i.textShadowOffsetX=e.textShadowOffsetX),gt(e,"textShadowOffsetY")&&(i.textShadowOffsetY=e.textShadowOffsetY))}var jQ={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},s9=An(jQ);Zl(uf,function(i,e){return i[e]=1,i},{});uf.join(", ");var PD=["","style","shape","extra"],T_=yn();function T2(i,e,t,n,r){var a=i+"Animation",o=k_(i,n,r)||{},s=T_(e).userDuring;return o.duration>0&&(o.during=s?at(hCe,{el:e,userDuring:s}):null,o.setToFinal=!0,o.scope=i),Ce(o,t[a]),o}function BC(i,e,t,n){n=n||{};var r=n.dataIndex,a=n.isInit,o=n.clearStyle,s=t.isAnimationEnabled(),l=T_(i),u=e.style;l.userDuring=e.during;var c={},f={};if(pCe(i,e,f),i.type==="compound")for(var h=i.shape.paths,p=e.shape.paths,g=0;g<p.length;g++){var y=p[g];oN("shape",y,h[g])}else oN("shape",e,f),oN("extra",e,f);if(!a&&s&&(dCe(i,e,c),l9("shape",i,e,c),l9("extra",i,e,c),vCe(i,e,u,c)),f.style=u,lCe(i,f,o),cCe(i,e),s)if(a){var _={};H(PD,function(M){var T=M?e[M]:e;T&&T.enterFrom&&(M&&(_[M]=_[M]||{}),Ce(M?_[M]:_,T.enterFrom))});var x=T2("enter",i,e,t,r);x.duration>0&&i.animateFrom(_,x)}else uCe(i,e,r||0,t,c);KQ(i,e),u?i.dirty():i.markRedraw()}function KQ(i,e){for(var t=T_(i).leaveToProps,n=0;n<PD.length;n++){var r=PD[n],a=r?e[r]:e;a&&a.leaveTo&&(t||(t=T_(i).leaveToProps={}),r&&(t[r]=t[r]||{}),Ce(r?t[r]:t,a.leaveTo))}}function mL(i,e,t,n){if(i){var r=i.parent,a=T_(i).leaveToProps;if(a){var o=T2("update",i,e,t,0);o.done=function(){r&&r.remove(i)},i.animateTo(a,o)}else r&&r.remove(i)}}function Wg(i){return i==="all"}function lCe(i,e,t){var n=e.style;if(!i.isGroup&&n){if(t){i.useStyle({});for(var r=i.animators,a=0;a<r.length;a++){var o=r[a];o.targetName==="style"&&o.changeTarget(i.style)}}i.setStyle(n)}e&&(e.style=null,e&&i.attr(e),e.style=n)}function uCe(i,e,t,n,r){if(r){var a=T2("update",i,e,n,t);a.duration>0&&i.animateFrom(r,a)}}function cCe(i,e){gt(e,"silent")&&(i.silent=e.silent),gt(e,"ignore")&&(i.ignore=e.ignore),i instanceof Kl&&gt(e,"invisible")&&(i.invisible=e.invisible),i instanceof bn&&gt(e,"autoBatch")&&(i.autoBatch=e.autoBatch)}var Fc={},fCe={setTransform:function(i,e){return Fc.el[i]=e,this},getTransform:function(i){return Fc.el[i]},setShape:function(i,e){var t=Fc.el,n=t.shape||(t.shape={});return n[i]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(i){var e=Fc.el.shape;if(e)return e[i]},setStyle:function(i,e){var t=Fc.el,n=t.style;return n&&(n[i]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(i){var e=Fc.el.style;if(e)return e[i]},setExtra:function(i,e){var t=Fc.el.extra||(Fc.el.extra={});return t[i]=e,this},getExtra:function(i){var e=Fc.el.extra;if(e)return e[i]}};function hCe(){var i=this,e=i.el;if(e){var t=T_(e).userDuring,n=i.userDuring;if(t!==n){i.el=i.userDuring=null;return}Fc.el=e,n(fCe)}}function l9(i,e,t,n){var r=t[i];if(r){var a=e[i],o;if(a){var s=t.transition,l=r.transition;if(l)if(!o&&(o=n[i]={}),Wg(l))Ce(o,a);else for(var u=Mi(l),c=0;c<u.length;c++){var f=u[c],h=a[f];o[f]=h}else if(Wg(s)||en(s,i)>=0){!o&&(o=n[i]={});for(var p=An(a),c=0;c<p.length;c++){var f=p[c],h=a[f];gCe(r[f],h)&&(o[f]=h)}}}}}function oN(i,e,t){var n=e[i];if(n)for(var r=t[i]={},a=An(n),o=0;o<a.length;o++){var s=a[o];r[s]=jb(n[s])}}function dCe(i,e,t){for(var n=e.transition,r=Wg(n)?uf:Mi(n||[]),a=0;a<r.length;a++){var o=r[a];if(!(o==="style"||o==="shape"||o==="extra")){var s=i[o];t[o]=s}}}function pCe(i,e,t){for(var n=0;n<s9.length;n++){var r=s9[n],a=jQ[r],o=e[r];o&&(t[a[0]]=o[0],t[a[1]]=o[1])}for(var n=0;n<uf.length;n++){var s=uf[n];e[s]!=null&&(t[s]=e[s])}}function vCe(i,e,t,n){if(t){var r=i.style,a;if(r){var o=t.transition,s=e.transition;if(o&&!Wg(o)){var l=Mi(o);!a&&(a=n.style={});for(var u=0;u<l.length;u++){var c=l[u],f=r[c];a[c]=f}}else if(i.getAnimationStyleProps&&(Wg(s)||Wg(o)||en(s,"style")>=0)){var h=i.getAnimationStyleProps(),p=h?h.style:null;if(p){!a&&(a=n.style={});for(var g=An(t),u=0;u<g.length;u++){var c=g[u];if(p[c]){var f=r[c];a[c]=f}}}}}}}function gCe(i,e){return to(i)?i!==e:i!=null&&isFinite(i)}var $Q=yn(),mCe=["percent","easing","shape","style","extra"];function QQ(i){i.stopAnimation("keyframe"),i.attr($Q(i))}function ND(i,e,t){if(!(!t.isAnimationEnabled()||!e)){if(ze(e)){H(e,function(s){ND(i,s,t)});return}var n=e.keyframes,r=e.duration;if(t&&r==null){var a=k_("enter",t,0);r=a&&a.duration}if(!(!n||!r)){var o=$Q(i);H(PD,function(s){if(!(s&&!i[s])){var l;n.sort(function(u,c){return u.percent-c.percent}),H(n,function(u){var c=i.animators,f=s?u[s]:u;if(f){var h=An(f);if(s||(h=Kn(h,function(y){return en(mCe,y)<0})),!!h.length){l||(l=i.animate(s,e.loop,!0),l.scope="keyframe");for(var p=0;p<c.length;p++)c[p]!==l&&c[p].targetName===l.targetName&&c[p].stopTracks(h);s&&(o[s]=o[s]||{});var g=s?o[s]:o;H(h,function(y){g[y]=((s?i[s]:i)||{})[y]}),l.whenWithKeys(r*u.percent,f,h,u.easing)}}}),l&&l.delay(e.delay||0).duration(r).start(e.easing)}})}}}var Ah="emphasis",sp="normal",w2="blur",A2="select",Cp=[sp,Ah,w2,A2],sN={normal:["itemStyle"],emphasis:[Ah,"itemStyle"],blur:[w2,"itemStyle"],select:[A2,"itemStyle"]},lN={normal:["label"],emphasis:[Ah,"label"],blur:[w2,"label"],select:[A2,"label"]},yCe=["x","y"],_Ce="e\0\0",Il={normal:{},emphasis:{},blur:{},select:{}},xCe={cartesian2d:JAe,geo:tCe,single:iCe,polar:aCe,calendar:oCe,matrix:sCe};function jz(i){return i instanceof bn}function Kz(i){return i instanceof Kl}function SCe(i,e){e.copyTransform(i),Kz(e)&&Kz(i)&&(e.setStyle(i.style),e.z=i.z,e.z2=i.z2,e.zlevel=i.zlevel,e.invisible=i.invisible,e.ignore=i.ignore,jz(e)&&jz(i)&&e.setShape(i.shape))}var bCe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r,a){this._progressiveEls=null;var o=this._data,s=t.getData(),l=this.group,u=u9(t,s,n,r);o||l.removeAll(),s.diff(o).add(function(f){uN(r,null,f,u(f,a),t,l,s)}).remove(function(f){var h=o.getItemGraphicEl(f);h&&mL(h,wh(h).option,t)}).update(function(f,h){var p=o.getItemGraphicEl(h);uN(r,p,f,u(f,a),t,l,s)}).execute();var c=t.get("clip",!0)?MM(t.coordinateSystem,!1,t):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},e.prototype.incrementalPrepareRender=function(t,n,r){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,n,r,a,o){var s=n.getData(),l=u9(n,s,r,a),u=this._progressiveEls=[];function c(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var f=t.start;f<t.end;f++){var h=uN(null,null,f,l(f,o),n,this.group,s);h&&(h.traverse(c),u.push(h))}},e.prototype.eachRendered=function(t){Pp(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,n,r,a){var o=n.element;if(o==null||r.name===o)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===o)return!0;return!1},e.type="custom",e})(fi);function C2(i){var e=i.type,t;if(e==="path"){var n=i.shape,r=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=tJ(n);t=p_(a,null,r,n.layout||"center"),wh(t).customPathData=a}else if(e==="image")t=new Ta({}),wh(t).customImagePath=i.style.image;else if(e==="text")t=new In({});else if(e==="group")t=new It;else if(e==="compoundPath"){var n=i.shape;if(!n||!n.paths){var o="";ti(o)}var s=Ge(n.paths,function(c){if(c.type==="path")return p_(c.shape.pathData,c,null);var f=A1(c.type);if(!f){var h="";ti(h)}return new f});t=new vM({shape:{paths:s}})}else{var l=A1(e);if(!l){var o="";ti(o)}t=new l}return wh(t).customGraphicType=e,t.name=i.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function E2(i,e,t,n,r,a,o){QQ(e);var s=r&&r.normal.cfg;s&&e.setTextConfig(s),n&&n.transition==null&&(n.transition=yCe);var l=n&&n.style;if(l){if(e.type==="text"){var u=l;gt(u,"textFill")&&(u.fill=u.textFill),gt(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=jz(e)?l.decal:null;i&&f&&(f.dirty=!0,c=m_(f,i)),l.__decalPattern=c}if(Kz(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}BC(e,n,a,{dataIndex:t,isInit:o,clearStyle:!0}),ND(e,n.keyframeAnimation,a)}function JQ(i,e,t,n,r){var a=e.isGroup?null:e,o=r&&r[i].cfg;if(a){var s=a.ensureState(i);if(n===!1){var l=a.getState(i);l&&(l.style=null)}else s.style=n||null;o&&(s.textConfig=o),im(a)}}function MCe(i,e,t){if(!i.isGroup){var n=i,r=t.currentZ,a=t.currentZLevel;n.z=r,n.zlevel=a;var o=e.z2;o!=null&&(n.z2=o||0);for(var s=0;s<Cp.length;s++)TCe(n,e,Cp[s])}}function TCe(i,e,t){var n=t===sp,r=n?e:OD(e,t),a=r?r.z2:null,o;a!=null&&(o=n?i:i.ensureState(t),o.z2=a||0)}function u9(i,e,t,n){var r=i.get("renderItem");if(typeof r=="string"){var a=mye(r);a&&(r=a)}var o=i.coordinateSystem,s={};o&&(s=o.prepareCustoms?o.prepareCustoms(o):xCe[o.type](o));for(var l=Ot({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:E,style:L,ordinalRawValue:D,styleEmphasis:z,visual:B,barLayout:G,currentSeriesIndices:U,font:X},s.api||{}),u={context:{},seriesId:i.id,seriesName:i.name,seriesIndex:i.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:wCe(i.getData()),itemPayload:i.get("itemPayload")||{}},c,f,h={},p={},g={},y={},_=0;_<Cp.length;_++){var x=Cp[_];g[x]=i.getModel(sN[x]),y[x]=i.getModel(lN[x])}function M(q){return q===c?f||(f=e.getItemModel(q)):e.getItemModel(q)}function T(q,V){return e.hasItemOption?q===c?h[V]||(h[V]=M(q).getModel(sN[V])):M(q).getModel(sN[V]):g[V]}function C(q,V){return e.hasItemOption?q===c?p[V]||(p[V]=M(q).getModel(lN[V])):M(q).getModel(lN[V]):y[V]}return function(q,V){return c=q,f=null,h={},p={},r&&r(Ot({dataIndexInside:q,dataIndex:e.getRawIndex(q),actionType:V?V.type:null},u),l)};function E(q,V){return V==null&&(V=c),e.getStore().get(e.getDimensionIndex(q||0),V)}function D(q,V){V==null&&(V=c),q=q||0;var j=e.getDimensionInfo(q);if(!j){var K=e.getDimensionIndex(q);return K>=0?e.getStore().get(K,V):void 0}var te=e.get(j.name,V),ie=j&&j.ordinalMeta;return ie?ie.categories[te]:te}function L(q,V){V==null&&(V=c);var j=e.getItemVisual(V,"style"),K=j&&j.fill,te=j&&j.opacity,ie=T(V,sp).getItemStyle();K!=null&&(ie.fill=K),te!=null&&(ie.opacity=te);var Y={inheritColor:rt(K)?K:ge.color.neutral99},ee=C(V,sp),oe=Si(ee,null,Y,!1,!0);oe.text=ee.getShallow("show")?bt(i.getFormattedLabel(V,sp),x_(e,V)):null;var de=nD(ee,Y,!1);return N(q,ie),ie=a9(ie,oe,de),q&&P(ie,q),ie.legacy=!0,ie}function z(q,V){V==null&&(V=c);var j=T(V,Ah).getItemStyle(),K=C(V,Ah),te=Si(K,null,null,!0,!0);te.text=K.getShallow("show")?Ds(i.getFormattedLabel(V,Ah),i.getFormattedLabel(V,sp),x_(e,V)):null;var ie=nD(K,null,!0);return N(q,j),j=a9(j,te,ie),q&&P(j,q),j.legacy=!0,j}function P(q,V){for(var j in V)gt(V,j)&&(q[j]=V[j])}function N(q,V){q&&(q.textFill&&(V.textFill=q.textFill),q.textPosition&&(V.textPosition=q.textPosition))}function B(q,V){if(V==null&&(V=c),gt(i9,q)){var j=e.getItemVisual(V,"style");return j?j[i9[q]]:null}if(gt(KAe,q))return e.getItemVisual(V,q)}function G(q){if(o.type==="cartesian2d"){var V=o.getBaseAxis();return x0e(Ot({axis:V},q))}}function U(){return t.getCurrentSeriesIndices()}function X(q){return Qk(q,t)}}function wCe(i){var e={};return H(i.dimensions,function(t){var n=i.getDimensionInfo(t);if(!n.isExtraCoord){var r=n.coordDim,a=e[r]=e[r]||[];a[n.coordDimIndex]=i.getDimensionIndex(t)}}),e}function uN(i,e,t,n,r,a,o){if(!n){a.remove(e);return}var s=D2(i,e,t,n,r,a);return s&&o.setItemGraphicEl(t,s),s&&Hi(s,n.focus,n.blurScope,n.emphasisDisabled),s}function D2(i,e,t,n,r,a){var o=-1,s=e;e&&eJ(e,n,r)&&(o=en(a.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=C2(n),s&&SCe(s,u)),n.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),n.tooltipDisabled&&(u.tooltipDisabled=!0),Il.normal.cfg=Il.normal.conOpt=Il.emphasis.cfg=Il.emphasis.conOpt=Il.blur.cfg=Il.blur.conOpt=Il.select.cfg=Il.select.conOpt=null,Il.isLegacy=!1,CCe(u,t,n,r,l,Il),ACe(u,t,n,r,l),E2(i,u,t,n,Il,r,l),gt(n,"info")&&(wh(u).info=n.info);for(var c=0;c<Cp.length;c++){var f=Cp[c];if(f!==sp){var h=OD(n,f),p=R2(n,h,f);JQ(f,u,h,p,Il)}}return MCe(u,n,r),n.type==="group"&&ECe(i,u,t,n,r),o>=0?a.replaceAt(u,o):a.add(u),u}function eJ(i,e,t){var n=wh(i),r=e.type,a=e.shape,o=e.style;return t.isUniversalTransitionEnabled()||r!=null&&r!==n.customGraphicType||r==="path"&&ICe(a)&&tJ(a)!==n.customPathData||r==="image"&&gt(o,"image")&&o.image!==n.customImagePath}function ACe(i,e,t,n,r){var a=t.clipPath;if(a===!1)i&&i.getClipPath()&&i.removeClipPath();else if(a){var o=i.getClipPath();o&&eJ(o,a,n)&&(o=null),o||(o=C2(a),i.setClipPath(o)),E2(null,o,e,a,null,n,r)}}function CCe(i,e,t,n,r,a){if(!(i.isGroup||i.type==="compoundPath")){c9(t,null,a),c9(t,Ah,a);var o=a.normal.conOpt,s=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var c=i.getTextContent();if(o===!1)c&&i.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=C2(o),i.setTextContent(c)),E2(null,c,e,o,null,n,r);for(var f=o&&o.style,h=0;h<Cp.length;h++){var p=Cp[h];if(p!==sp){var g=a[p].conOpt;JQ(p,c,g,R2(o,g,p),null)}}f?c.dirty():c.markRedraw()}}}}function c9(i,e,t){var n=e?OD(i,e):i,r=e?R2(i,n,Ah):i.style,a=i.type,o=n?n.textConfig:null,s=i.textContent,l=s?e?OD(s,e):s:null;if(r&&(t.isLegacy||qQ(r,a,!!o,!!l))){t.isLegacy=!0;var u=ZQ(r,a,!e);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var f=e?t[e]:t.normal;f.cfg=o,f.conOpt=l}function OD(i,e){return e?i?i[e]:null:i}function R2(i,e,t){var n=e&&e.style;return n==null&&t===Ah&&i&&(n=i.styleEmphasis),n}function ECe(i,e,t,n,r){var a=n.children,o=a?a.length:0,s=n.$mergeChildren,l=s==="byName"||n.diffChildrenByName,u=s===!1;if(!(!o&&!l&&!u)){if(l){RCe({api:i,oldChildren:e.children()||[],newChildren:a||[],dataIndex:t,seriesModel:r,group:e});return}u&&e.removeAll();for(var c=0;c<o;c++){var f=a[c],h=e.childAt(c);f?(f.ignore==null&&(f.ignore=!1),D2(i,h,t,f,r,e)):h.ignore=!0}for(var p=e.childCount()-1;p>=c;p--){var g=e.childAt(p);DCe(e,g,r)}}}function DCe(i,e,t){e&&mL(e,wh(i).option,t)}function RCe(i){new Ph(i.oldChildren,i.newChildren,f9,f9,i).add(h9).update(h9).remove(LCe).execute()}function f9(i,e){var t=i&&i.name;return t??_Ce+e}function h9(i,e){var t=this.context,n=i!=null?t.newChildren[i]:null,r=e!=null?t.oldChildren[e]:null;D2(t.api,r,t.dataIndex,n,t.seriesModel,t.group)}function LCe(i){var e=this.context,t=e.oldChildren[i];t&&mL(t,wh(t).option,e.seriesModel)}function tJ(i){return i&&(i.pathData||i.d)}function ICe(i){return i&&(gt(i,"pathData")||gt(i,"d"))}function PCe(i){i.registerChartView(bCe),i.registerSeriesModel($Ae)}var Sg=yn(),d9=Lt,cN=at,L2=(function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(e,t,n,r){var a=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,!(!r&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,a,e,t,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new It,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),n.getZr().add(s);else{var h=Qt(p9,t,f);this.updatePointerEl(s,u,h),this.updateLabelEl(s,u,h,t)}g9(s,t,!0),this._renderHandle(a)}},i.prototype.remove=function(e){this.clear(e)},i.prototype.dispose=function(e){this.clear(e)},i.prototype.determineAnimation=function(e,t){var n=t.get("animation"),r=e.axis,a=r.type==="category",o=t.get("snap");if(!o&&!a)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(a&&r.getBandWidth()>s)return!0;if(o){var l=QU(e).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return n===!0},i.prototype.makeElOption=function(e,t,n,r,a){},i.prototype.createPointerEl=function(e,t,n,r){var a=t.pointer;if(a){var o=Sg(e).pointerEl=new gm[a.type](d9(t.pointer));e.add(o)}},i.prototype.createLabelEl=function(e,t,n,r){if(t.label){var a=Sg(e).labelEl=new In(d9(t.label));e.add(a),v9(a,r)}},i.prototype.updatePointerEl=function(e,t,n){var r=Sg(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),n(r,{shape:t.pointer.shape}))},i.prototype.updateLabelEl=function(e,t,n,r){var a=Sg(e).labelEl;a&&(a.setStyle(t.label.style),n(a,{x:t.label.x,y:t.label.y}),v9(a,r))},i.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,n=this._api.getZr(),r=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||o==="hide"){r&&n.remove(r),this._handle=null;return}var s;this._handle||(s=!0,r=this._handle=U_(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Rh(u.event)},onmousedown:cN(this._onHandleDragMove,this,0,0),drift:cN(this._onHandleDragMove,this),ondragend:cN(this._onHandleDragEnd,this)}),n.add(r)),g9(r,t,!1),r.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ze(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,X_(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},i.prototype._moveHandleToValue=function(e,t){p9(this._axisPointerModel,!t&&this._moveAnimation,this._handle,fN(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(fN(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(fN(r)),Sg(n).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,r=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),R1(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}},i})();function p9(i,e,t,n){nJ(Sg(t).lastProp,n)||(Sg(t).lastProp=n,e?Gn(t,n,i):(t.stopAnimation(),t.attr(n)))}function nJ(i,e){if(zt(i)&&zt(e)){var t=!0;return H(e,function(n,r){t=t&&nJ(i[r],n)}),!!t}else return i===e}function v9(i,e){i[e.get(["label","show"])?"show":"hide"]()}function fN(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function g9(i,e,t){var n=e.get("z"),r=e.get("zlevel");i&&i.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),r!=null&&(a.zlevel=r),a.silent=t)})}function I2(i){var e=i.get("type"),t=i.getModel(e+"Style"),n;return e==="line"?(n=t.getLineStyle(),n.fill=null):e==="shadow"&&(n=t.getAreaStyle(),n.stroke=null),n}function iJ(i,e,t,n,r){var a=t.get("value"),o=rJ(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=G_(s.get("padding")||0),u=s.getFont(),c=VR(o,u),f=r.position,h=c.width+l[1]+l[3],p=c.height+l[0]+l[2],g=r.align;g==="right"&&(f[0]-=h),g==="center"&&(f[0]-=h/2);var y=r.verticalAlign;y==="bottom"&&(f[1]-=p),y==="middle"&&(f[1]-=p/2),NCe(f,h,p,n);var _=s.get("backgroundColor");(!_||_==="auto")&&(_=e.get(["axisLine","lineStyle","color"])),i.label={x:f[0],y:f[1],style:Si(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:_}),z2:10}}function NCe(i,e,t,n){var r=n.getWidth(),a=n.getHeight();i[0]=Math.min(i[0]+e,r)-e,i[1]=Math.min(i[1]+t,a)-t,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function rJ(i,e,t,n,r){i=e.scale.parse(i);var a=e.scale.getLabel({value:i},{precision:r.precision}),o=r.formatter;if(o){var s={value:gD(e,{value:i}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};H(n,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),rt(o)?a=o.replace("{value}",a):Ct(o)&&(a=o(s))}return a}function P2(i,e,t){var n=_a();return Bh(n,n,t.rotation),Wu(n,n,t.position),Vu([i.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],n)}function aJ(i,e,t,n,r,a){var o=Jo.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=r.get(["label","margin"]),iJ(e,n,r,a,{position:P2(n.axis,i,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function N2(i,e,t){return t=t||0,{x1:i[t],y1:i[1-t],x2:e[t],y2:e[1-t]}}function oJ(i,e,t){return t=t||0,{x:i[t],y:i[1-t],width:e[t],height:e[1-t]}}function m9(i,e,t,n,r,a){return{cx:i,cy:e,r0:t,r:n,startAngle:r,endAngle:a,clockwise:!0}}var OCe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,r,a,o){var s=r.axis,l=s.grid,u=a.get("type"),c=y9(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&u!=="none"){var h=I2(a),p=zCe[u](s,f,c);p.style=h,t.graphicKey=p.type,t.pointer=p}var g=AD(l.getRect(),r);aJ(n,t,g,r,a,o)},e.prototype.getHandleTransform=function(t,n,r){var a=AD(n.axis.grid.getRect(),n,{labelInside:!1});a.labelMargin=r.get(["handle","margin"]);var o=P2(n.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,r,a){var o=r.axis,s=o.grid,l=o.getGlobalExtent(!0),u=y9(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[t.x,t.y];f[c]+=n[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var h=(u[1]+u[0])/2,p=[h,h];p[c]=f[c];var g=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:t.rotation,cursorPoint:p,tooltipOption:g[c]}},e})(L2);function y9(i,e){var t={};return t[e.dim+"AxisIndex"]=e.index,i.getCartesian(t)}var zCe={line:function(i,e,t){var n=N2([e,t[0]],[e,t[1]],_9(i));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(i,e,t){var n=Math.max(1,i.getBandWidth()),r=t[1]-t[0];return{type:"Rect",shape:oJ([e-n/2,t[0]],[n,r],_9(i))}}};function _9(i){return i.dim==="x"?0:1}var BCe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:ge.color.border,width:1,type:"dashed"},shadowStyle:{color:ge.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:ge.color.neutral00,padding:[5,7,5,7],backgroundColor:ge.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:ge.color.accent40,throttle:40}},e})(mn),xh=yn(),kCe=H;function sJ(i,e,t){if(!Tn.node){var n=e.getZr();xh(n).records||(xh(n).records={}),UCe(n,e);var r=xh(n).records[i]||(xh(n).records[i]={});r.handler=t}}function UCe(i,e){if(xh(i).initialized)return;xh(i).initialized=!0,t("click",Qt(x9,"click")),t("mousemove",Qt(x9,"mousemove")),t("globalout",VCe);function t(n,r){i.on(n,function(a){var o=GCe(e);kCe(xh(i).records,function(s){s&&r(s,a,o.dispatchAction)}),FCe(o.pendings,e)})}}function FCe(i,e){var t=i.showTip.length,n=i.hideTip.length,r;t?r=i.showTip[t-1]:n&&(r=i.hideTip[n-1]),r&&(r.dispatchAction=null,e.dispatchAction(r))}function VCe(i,e,t){i.handler("leave",null,t)}function x9(i,e,t,n){e.handler(i,t,n)}function GCe(i){var e={showTip:[],hideTip:[]},t=function(n){var r=e[n.type];r?r.push(n):(n.dispatchAction=t,i.dispatchAction(n))};return{dispatchAction:t,pendings:e}}function $z(i,e){if(!Tn.node){var t=e.getZr(),n=(xh(t).records||{})[i];n&&(xh(t).records[i]=null)}}var HCe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){var a=n.getComponent("tooltip"),o=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";sJ("axisPointer",r,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,n){$z("axisPointer",n)},e.prototype.dispose=function(t,n){$z("axisPointer",n)},e.type="axisPointer",e})(Ti);function lJ(i,e){var t=[],n=i.seriesIndex,r;if(n==null||!(r=e.getSeriesByIndex(n)))return{point:[]};var a=r.getData(),o=tm(a,i);if(o==null||o<0||ze(o))return{point:[]};var s=a.getItemGraphicEl(o),l=r.coordinateSystem;if(r.getTooltipPosition)t=r.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(i.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,h=u.dim,p=f==="x"||f==="radius"?1:0,g=a.mapDimension(h),y=[];y[p]=a.get(g,o),y[1-p]=a.get(a.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(y)||[]}else t=l.dataToPoint(a.getValues(Ge(l.dimensions,function(x){return a.mapDimension(x)}),o))||[];else if(s){var _=s.getBoundingRect().clone();_.applyTransform(s.transform),t=[_.x+_.width/2,_.y+_.height/2]}return{point:t,el:s}}var S9=yn();function WCe(i,e,t){var n=i.currTrigger,r=[i.x,i.y],a=i,o=i.dispatchAction||at(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){kC(r)&&(r=lJ({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=kC(r),u=a.axesInfo,c=s.axesInfo,f=n==="leave"||kC(r),h={},p={},g={list:[],map:{}},y={showPointer:Qt(YCe,p),showTooltip:Qt(qCe,g)};H(s.coordSysMap,function(x,M){var T=l||x.containPoint(r);H(s.coordSysAxesInfo[M],function(C,E){var D=C.axis,L=$Ce(u,C);if(!f&&T&&(!u||L)){var z=L&&L.value;z==null&&!l&&(z=D.pointToData(r)),z!=null&&b9(C,z,y,!1,h)}})});var _={};return H(c,function(x,M){var T=x.linkGroup;T&&!p[M]&&H(T.axesInfo,function(C,E){var D=p[E];if(C!==x&&D){var L=D.value;T.mapper&&(L=x.axis.scale.parse(T.mapper(L,M9(C),M9(x)))),_[x.key]=L}})}),H(_,function(x,M){b9(c[M],x,y,!0,h)}),ZCe(p,c,h),jCe(g,r,i,o),KCe(c,o,t),h}}function b9(i,e,t,n,r){var a=i.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!i.involveSeries){t.showPointer(i,e);return}var o=XCe(e,i),s=o.payloadBatch,l=o.snapToValue;s[0]&&r.seriesIndex==null&&Ce(r,s[0]),!n&&i.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(i,e,s),t.showTooltip(i,o,l)}}function XCe(i,e){var t=e.axis,n=t.dim,r=i,a=[],o=Number.MAX_VALUE,s=-1;return H(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),f,h;if(l.getAxisTooltipData){var p=l.getAxisTooltipData(c,i,t);h=p.dataIndices,f=p.nestestValue}else{if(h=l.indicesOfNearest(n,c[0],i,t.type==="category"?.5:null),!h.length)return;f=l.getData().get(c[0],h[0])}if(!(f==null||!isFinite(f))){var g=i-f,y=Math.abs(g);y<=o&&((y<o||g>=0&&s<0)&&(o=y,s=g,r=f,a.length=0),H(h,function(_){a.push({seriesIndex:l.seriesIndex,dataIndexInside:_,dataIndex:l.getData().getRawIndex(_)})}))}}),{payloadBatch:a,snapToValue:r}}function YCe(i,e,t,n){i[e.key]={value:t,payloadBatch:n}}function qCe(i,e,t,n){var r=t.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!r.length)){var l=e.coordSys.model,u=U1(l),c=i.map[u];c||(c=i.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},i.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function ZCe(i,e,t){var n=t.axesInfo=[];H(e,function(r,a){var o=r.axisPointerModel.option,s=i[a];s?(!r.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:o.value})})}function jCe(i,e,t,n){if(kC(e)||!i.list.length){n({type:"hideTip"});return}var r=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:i.list})}function KCe(i,e,t){var n=t.getZr(),r="axisPointerLastHighlights",a=S9(n)[r]||{},o=S9(n)[r]={};H(i,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&H(f.seriesDataIndices,function(h){var p=h.seriesIndex+" | "+h.dataIndex;o[p]=h})});var s=[],l=[];H(a,function(u,c){!o[c]&&l.push(u)}),H(o,function(u,c){!a[c]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function $Ce(i,e){for(var t=0;t<(i||[]).length;t++){var n=i[t];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function M9(i){var e=i.axis.model,t={},n=t.axisDim=i.axis.dim;return t.axisIndex=t[n+"AxisIndex"]=e.componentIndex,t.axisName=t[n+"AxisName"]=e.name,t.axisId=t[n+"AxisId"]=e.id,t}function kC(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function AM(i){xm.registerAxisPointerClass("CartesianAxisPointer",OCe),i.registerComponentModel(BCe),i.registerComponentView(HCe),i.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!ze(t)&&(e.axisPointer.link=[t])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=QSe(e,t)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},WCe)}function QCe(i){sn(I$),sn(AM)}var JCe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,r,a,o){var s=r.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),f=s.dataToCoord(n),h=a.get("type");if(h&&h!=="none"){var p=I2(a),g=tEe[h](s,l,f,c);g.style=p,t.graphicKey=g.type,t.pointer=g}var y=a.get(["label","margin"]),_=eEe(n,r,a,l,y);iJ(t,r,a,o,_)},e})(L2);function eEe(i,e,t,n,r){var a=e.axis,o=a.dataToCoord(i),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=n.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var h=_a();Bh(h,h,s),Wu(h,h,[n.cx,n.cy]),u=Vu([o,-r],h);var p=e.getModel("axisLabel").get("rotate")||0,g=Jo.innerTextLayout(s,p*Math.PI/180,-1);c=g.textAlign,f=g.textVerticalAlign}else{var y=l[1];u=n.coordToPoint([y+r,o]);var _=n.cx,x=n.cy;c=Math.abs(u[0]-_)/y<.3?"center":u[0]>_?"left":"right",f=Math.abs(u[1]-x)/y<.3?"middle":u[1]>x?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var tEe={line:function(i,e,t,n){return i.dim==="angle"?{type:"Line",shape:N2(e.coordToPoint([n[0],t]),e.coordToPoint([n[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(i,e,t,n){var r=Math.max(1,i.getBandWidth()),a=Math.PI/180;return i.dim==="angle"?{type:"Sector",shape:m9(e.cx,e.cy,n[0],n[1],(-t-r/2)*a,(-t+r/2)*a)}:{type:"Sector",shape:m9(e.cx,e.cy,t-r/2,t+r/2,0,Math.PI*2)}}},nEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var n,r=this.ecModel;return r.eachComponent(t,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e})(mn),O2=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",lr).models[0]},e.type="polarAxis",e})(mn);Sr(O2,j_);var iEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e})(O2),rEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e})(O2),z2=(function(i){fe(e,i);function e(t,n){return i.call(this,"radius",t,n)||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e})(nu);z2.prototype.dataToRadius=nu.prototype.dataToCoord;z2.prototype.radiusToData=nu.prototype.coordToData;var aEe=yn(),B2=(function(i){fe(e,i);function e(t,n){return i.call(this,"angle",t,n||[0,360])||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,n=t.getLabelModel(),r=t.scale,a=r.getExtent(),o=r.count();if(a[1]-a[0]<1)return 0;var s=a[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),u=Math.abs(l),c=VR(s==null?"":s+"",n.getFont(),"center","top"),f=Math.max(c.height,7),h=f/u;isNaN(h)&&(h=1/0);var p=Math.max(0,Math.floor(h)),g=aEe(t.model),y=g.lastAutoInterval,_=g.lastTickCount;return y!=null&&_!=null&&Math.abs(y-p)<=1&&Math.abs(_-o)<=1&&y>p?p=y:(g.lastTickCount=o,g.lastAutoInterval=p),p},e})(nu);B2.prototype.dataToAngle=nu.prototype.dataToCoord;B2.prototype.angleToData=nu.prototype.coordToData;var uJ=["radius","angle"],oEe=(function(){function i(e){this.dimensions=uJ,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new z2,this._angleAxis=new B2,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return i.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},i.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},i.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},i.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},i.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===e&&t.push(n),r.scale.type===e&&t.push(r),t},i.prototype.getAngleAxis=function(){return this._angleAxis},i.prototype.getRadiusAxis=function(){return this._radiusAxis},i.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},i.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},i.prototype.dataToPoint=function(e,t,n){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)],n)},i.prototype.pointToData=function(e,t,n){n=n||[];var r=this.pointToCoord(e);return n[0]=this._radiusAxis.radiusToData(r[0],t),n[1]=this._angleAxis.angleToData(r[1],t),n},i.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=this.getAngleAxis(),a=r.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);r.inverse?o=s-360:s=o+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var u=Math.atan2(-n,t)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=c*360;return[l,u]},i.prototype.coordToPoint=function(e,t){t=t||[];var n=e[0],r=e[1]/180*Math.PI;return t[0]=Math.cos(r)*n+this.cx,t[1]=-Math.sin(r)*n+this.cy,t},i.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),n=t.getExtent().slice();n[0]>n[1]&&n.reverse();var r=e.getExtent(),a=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-r[0]*a,endAngle:-r[1]*a,clockwise:e.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,f=u*u+c*c,h=this.r,p=this.r0;return h!==p&&f-o<=h*h&&f+o>=p*p},x:this.cx-n[1],y:this.cy-n[1],width:n[1]*2,height:n[1]*2}},i.prototype.convertToPixel=function(e,t,n){var r=T9(t);return r===this?this.dataToPoint(n):null},i.prototype.convertFromPixel=function(e,t,n){var r=T9(t);return r===this?this.pointToData(n):null},i})();function T9(i){var e=i.seriesModel,t=i.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function sEe(i,e,t){var n=e.get("center"),r=ca(e,t).refContainer;i.cx=it(n[0],r.width)+r.x,i.cy=it(n[1],r.height)+r.y;var a=i.getRadiusAxis(),o=Math.min(r.width,r.height)/2,s=e.get("radius");s==null?s=[0,"100%"]:ze(s)||(s=[0,s]);var l=[it(s[0],o),it(s[1],o)];a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}function lEe(i,e){var t=this,n=t.getAngleAxis(),r=t.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),i.eachSeries(function(s){if(s.coordinateSystem===t){var l=s.getData();H(mD(l,"radius"),function(u){r.scale.unionExtentFromData(l,u)}),H(mD(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),sm(n.scale,n.model),sm(r.scale,r.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),o=360/n.scale.count();n.inverse?a[1]+=o:a[1]-=o,n.setExtent(a[0],a[1])}}function uEe(i){return i.mainType==="angleAxis"}function w9(i,e){var t;if(i.type=e.get("type"),i.scale=xM(e),i.onBand=e.get("boundaryGap")&&i.type==="category",i.inverse=e.get("inverse"),uEe(e)){i.inverse=i.inverse!==e.get("clockwise");var n=e.get("startAngle"),r=(t=e.get("endAngle"))!==null&&t!==void 0?t:n+(i.inverse?-360:360);i.setExtent(n,r)}e.axis=i,i.model=e}var cEe={dimensions:uJ,create:function(i,e){var t=[];return i.eachComponent("polar",function(n,r){var a=new oEe(r+"");a.update=lEe;var o=a.getRadiusAxis(),s=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");w9(o,l),w9(s,u),sEe(a,n,e),t.push(a),n.coordinateSystem=a,a.model=n}),i.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var r=n.getReferringComponents("polar",lr).models[0];n.coordinateSystem=r.coordinateSystem}}),t}},fEe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function nC(i,e,t){e[1]>e[0]&&(e=e.slice().reverse());var n=i.coordToPoint([e[0],t]),r=i.coordToPoint([e[1],t]);return{x1:n[0],y1:n[1],x2:r[0],y2:r[1]}}function iC(i){var e=i.getRadiusAxis();return e.inverse?0:1}function A9(i){var e=i[0],t=i[i.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&i.pop()}var hEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n){if(this.group.removeAll(),!!t.get("show")){var r=t.axis,a=r.polar,o=a.getRadiusAxis().getExtent(),s=r.getTicksCoords({breakTicks:"none"}),l=r.getMinorTicksCoords(),u=Ge(r.getViewLabels(),function(c){c=Lt(c);var f=r.scale,h=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=r.dataToCoord(h),c});A9(u),A9(s),H(fEe,function(c){t.get([c,"show"])&&(!r.scale.isBlank()||c==="axisLine")&&dEe[c](this.group,t,a,s,l,o,u)},this)}},e.type="angleAxis",e})(xm),dEe={axisLine:function(i,e,t,n,r,a){var o=e.getModel(["axisLine","lineStyle"]),s=t.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=iC(t),f=c?0:1,h,p=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?h=new gm[p]({shape:{cx:t.cx,cy:t.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):h=new z_({shape:{cx:t.cx,cy:t.cy,r:a[c],r0:a[f]},style:o.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,i.add(h)},axisTick:function(i,e,t,n,r,a){var o=e.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=a[iC(t)],u=Ge(n,function(c){return new Nr({shape:nC(t,[l,l+s],c.coord)})});i.add(Xs(u,{style:Ot(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(i,e,t,n,r,a){if(r.length){for(var o=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=a[iC(t)],c=[],f=0;f<r.length;f++)for(var h=0;h<r[f].length;h++)c.push(new Nr({shape:nC(t,[u,u+l],r[f][h].coord)}));i.add(Xs(c,{style:Ot(s.getModel("lineStyle").getLineStyle(),Ot(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(i,e,t,n,r,a,o){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");H(o,function(f,h){var p=l,g=f.tickValue,y=a[iC(t)],_=t.coordToPoint([y+u,f.coord]),x=t.cx,M=t.cy,T=Math.abs(_[0]-x)/y<.3?"center":_[0]>x?"left":"right",C=Math.abs(_[1]-M)/y<.3?"middle":_[1]>M?"top":"bottom";if(s&&s[g]){var E=s[g];zt(E)&&E.textStyle&&(p=new Sn(E.textStyle,l,l.ecModel))}var D=new In({silent:Jo.isLabelSilent(e),style:Si(p,{x:_[0],y:_[1],fill:p.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:T,verticalAlign:C})});if(i.add(D),Uh({el:D,componentModel:e,itemName:f.formattedLabel,formatterParamsExtra:{isTruncated:function(){return D.isTruncated},value:f.rawLabel,tickIndex:h}}),c){var L=Jo.makeAxisEventDataBase(e);L.targetType="axisLabel",L.value=f.rawLabel,Ht(D).eventData=L}},this)},splitLine:function(i,e,t,n,r,a){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<n.length;f++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new Nr({shape:nC(t,a,n[f].coord)}))}for(var f=0;f<c.length;f++)i.add(Xs(c[f],{style:Ot({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(i,e,t,n,r,a){if(r.length){for(var o=e.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<r.length;u++)for(var c=0;c<r[u].length;c++)l.push(new Nr({shape:nC(t,a,r[u][c].coord)}));i.add(Xs(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(i,e,t,n,r,a){if(n.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,h=-n[0].coord*f,p=Math.min(a[0],a[1]),g=Math.max(a[0],a[1]),y=e.get("clockwise"),_=1,x=n.length;_<=x;_++){var M=_===x?n[0].coord:n[_].coord,T=u++%l.length;c[T]=c[T]||[],c[T].push(new io({shape:{cx:t.cx,cy:t.cy,r0:p,r:g,startAngle:h,endAngle:-M*f,clockwise:y},silent:!0})),h=-M*f}for(var _=0;_<c.length;_++)i.add(Xs(c[_],{style:Ot({fill:l[_%l.length]},s.getAreaStyle()),silent:!0}))}}},pEe=["splitLine","splitArea","minorSplitLine"],vEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n,r){if(this.group.removeAll(),!!t.get("show")){var a=this._axisGroup,o=this._axisGroup=new It;this.group.add(o);var s=t.axis,l=s.polar,u=l.getAngleAxis(),c=s.getTicksCoords(),f=s.getMinorTicksCoords(),h=u.getExtent()[0],p=s.getExtent(),g=mEe(l,t,h),y=new Jo(t,r,g);y.build(),o.add(y.group),gM(a,o,t),H(pEe,function(_){t.get([_,"show"])&&!s.scale.isBlank()&&gEe[_](this.group,t,l,h,p,c,f)},this)}},e.type="radiusAxis",e})(xm),gEe={splitLine:function(i,e,t,n,r,a){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,c=t.getAngleAxis(),f=Math.PI/180,h=c.getExtent(),p=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var g=[],y=0;y<a.length;y++){var _=u++%l.length;g[_]=g[_]||[],g[_].push(new gm[p]({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[y].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:c.inverse}}))}for(var y=0;y<g.length;y++)i.add(Xs(g[y],{style:Ot({stroke:l[y%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(i,e,t,n,r,a,o){if(o.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var f=0;f<o[c].length;f++)u.push(new mf({shape:{cx:t.cx,cy:t.cy,r:o[c][f].coord}}));i.add(Xs(u,{style:Ot({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(i,e,t,n,r,a){if(a.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,h=1;h<a.length;h++){var p=u++%l.length;c[p]=c[p]||[],c[p].push(new io({shape:{cx:t.cx,cy:t.cy,r0:f,r:a[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[h].coord}for(var h=0;h<c.length;h++)i.add(Xs(c[h],{style:Ot({fill:l[h%l.length]},s.getAreaStyle()),silent:!0}))}}};function mEe(i,e,t){return{position:[i.cx,i.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function cJ(i){return i.get("stack")||"__ec_stack_"+i.seriesIndex}function fJ(i,e){return e.dim+i.model.componentIndex}function yEe(i,e,t){var n={},r=_Ee(Kn(e.getSeriesByType(i),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(i,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),s=a.coordinateSystem,l=s.getBaseAxis(),u=fJ(s,l),c=cJ(a),f=r[u][c],h=f.offset,p=f.width,g=s.getOtherAxis(l),y=a.coordinateSystem.cx,_=a.coordinateSystem.cy,x=a.get("barMinHeight")||0,M=a.get("barMinAngle")||0;n[c]=n[c]||[];for(var T=o.mapDimension(g.dim),C=o.mapDimension(l.dim),E=Nh(o,T),D=l.dim!=="radius"||!a.get("roundCap",!0),L=g.model,z=L.get("startValue"),P=g.dataToCoord(z||0),N=0,B=o.count();N<B;N++){var G=o.get(T,N),U=o.get(C,N),X=G>=0?"p":"n",q=P;E&&(n[c][U]||(n[c][U]={p:P,n:P}),q=n[c][U][X]);var V=void 0,j=void 0,K=void 0,te=void 0;if(g.dim==="radius"){var ie=g.dataToCoord(G)-P,Y=l.dataToCoord(U);Math.abs(ie)<x&&(ie=(ie<0?-1:1)*x),V=q,j=q+ie,K=Y-h,te=K-p,E&&(n[c][U][X]=j)}else{var ee=g.dataToCoord(G,D)-P,oe=l.dataToCoord(U);Math.abs(ee)<M&&(ee=(ee<0?-1:1)*M),V=oe+h,j=V+p,K=q,te=q+ee,E&&(n[c][U][X]=te)}o.setItemLayout(N,{cx:y,cy:_,r0:V,r:j,startAngle:-K*Math.PI/180,endAngle:-te*Math.PI/180,clockwise:K>=te})}}})}function _Ee(i){var e={};H(i,function(n,r){var a=n.getData(),o=n.coordinateSystem,s=o.getBaseAxis(),l=fJ(o,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=f.stacks;e[l]=f;var p=cJ(n);h[p]||f.autoWidthCount++,h[p]=h[p]||{width:0,maxWidth:0};var g=it(n.get("barWidth"),c),y=it(n.get("barMaxWidth"),c),_=n.get("barGap"),x=n.get("barCategoryGap");g&&!h[p].width&&(g=Math.min(f.remainedWidth,g),h[p].width=g,f.remainedWidth-=g),y&&(h[p].maxWidth=y),_!=null&&(f.gap=_),x!=null&&(f.categoryGap=x)});var t={};return H(e,function(n,r){t[r]={};var a=n.stacks,o=n.bandWidth,s=it(n.categoryGap,o),l=it(n.gap,1),u=n.remainedWidth,c=n.autoWidthCount,f=(u-s)/(c+(c-1)*l);f=Math.max(f,0),H(a,function(y,_){var x=y.maxWidth;x&&x<f&&(x=Math.min(x,u),y.width&&(x=Math.min(x,y.width)),u-=x,y.width=x,c--)}),f=(u-s)/(c+(c-1)*l),f=Math.max(f,0);var h=0,p;H(a,function(y,_){y.width||(y.width=f),p=y,h+=y.width*(1+l)}),p&&(h-=p.width*l);var g=-h/2;H(a,function(y,_){t[r][_]=t[r][_]||{offset:g,width:y.width},g+=y.width*(1+l)})}),t}var xEe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},SEe={splitNumber:5},bEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e})(Ti);function MEe(i){sn(AM),xm.registerAxisPointerClass("PolarAxisPointer",JCe),i.registerCoordinateSystem("polar",cEe),i.registerComponentModel(nEe),i.registerComponentView(bEe),S_(i,"angle",iEe,xEe),S_(i,"radius",rEe,SEe),i.registerComponentView(hEe),i.registerComponentView(vEe),i.registerLayout(Qt(yEe,"bar"))}function Qz(i,e){e=e||{};var t=i.coordinateSystem,n=i.axis,r={},a=n.position,o=n.orient,s=t.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=[o==="vertical"?u.vertical[a]:l[0],o==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};r.rotation=Math.PI/2*c[o];var f={top:-1,bottom:1,right:1,left:-1};r.labelDirection=r.tickDirection=r.nameDirection=f[a],i.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),Na(e.labelInside,i.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=i.get(["axisLabel","rotate"]);return r.labelRotate=a==="top"?-h:h,r.z2=1,r}var TEe=["splitArea","splitLine","breakArea"],wEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,n,r,a){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new It;var l=Qz(t),u=new Jo(t,r,l);u.build(),o.add(this._axisGroup),o.add(u.group),H(TEe,function(c){t.get([c,"show"])&&AEe[c](this,this.group,this._axisGroup,t,r)},this),gM(s,this._axisGroup,t),i.prototype.render.call(this,t,n,r,a)},e.prototype.remove=function(){D$(this)},e.type="singleAxis",e})(xm),AEe={splitLine:function(i,e,t,n,r){var a=n.axis;if(!a.scale.isBlank()){var o=n.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var u=s.get("width"),c=n.coordinateSystem.getRect(),f=a.isHorizontal(),h=[],p=0,g=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),y=[],_=[],x=0;x<g.length;++x){var M=a.toGlobalCoord(g[x].coord);f?(y[0]=M,y[1]=c.y,_[0]=M,_[1]=c.y+c.height):(y[0]=c.x,y[1]=M,_[0]=c.x+c.width,_[1]=M);var T=new Nr({shape:{x1:y[0],y1:y[1],x2:_[0],y2:_[1]},silent:!0});v_(T.shape,u);var C=p++%l.length;h[C]=h[C]||[],h[C].push(T)}for(var E=s.getLineStyle(["color"]),x=0;x<h.length;++x)e.add(Xs(h[x],{style:Ot({stroke:l[x%l.length]},E),silent:!0}))}},splitArea:function(i,e,t,n,r){E$(i,t,n,n)},breakArea:function(i,e,t,n,r){var a=wM(),o=n.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(e,i,n,n.coordinateSystem.getRect(),r)}},UC=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},e})(mn);Sr(UC,j_.prototype);var CEe=(function(i){fe(e,i);function e(t,n,r,a,o){var s=i.call(this,t,n,r)||this;return s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,n){return this.coordinateSystem.pointToData(t)[0]},e})(nu),hJ=["single"],EEe=(function(){function i(e,t,n){this.type="single",this.dimension="single",this.dimensions=hJ,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return i.prototype._init=function(e,t,n){var r=this.dimension,a=new CEe(r,xM(e),[0,0],e.get("type"),e.get("position")),o=a.type==="category";a.onBand=o&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},i.prototype.update=function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var r=n.getData();H(r.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(r,a)},this),sm(this._axis.scale,this._axis.model)}},this)},i.prototype.resize=function(e,t){var n=ca(e,t).refContainer;this._rect=Ui(e.getBoxLayoutParams(),n),this._adjustAxis()},i.prototype.getRect=function(){return this._rect},i.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),r=n?[0,e.width]:[0,e.height],a=t.inverse?1:0;t.setExtent(r[a],r[1-a]),this._updateAxisTransform(t,n?e.x:e.y)},i.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),r=n[0]+n[1],a=e.isHorizontal();e.toGlobalCoord=a?function(o){return o+t}:function(o){return r-o+t},e.toLocalCoord=a?function(o){return o-t}:function(o){return r-o+t}},i.prototype.getAxis=function(){return this._axis},i.prototype.getBaseAxis=function(){return this._axis},i.prototype.getAxes=function(){return[this._axis]},i.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},i.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis(),r=n.orient;return r==="horizontal"?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},i.prototype.pointToData=function(e,t,n){n=n||[];var r=this.getAxis();return n[0]=r.coordToData(r.toLocalCoord(e[r.orient==="horizontal"?0:1])),n},i.prototype.dataToPoint=function(e,t,n){var r=this.getAxis(),a=this.getRect();n=n||[];var o=r.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),n[o]=r.toGlobalCoord(r.dataToCoord(+e)),n[1-o]=o===0?a.y+a.height/2:a.x+a.width/2,n},i.prototype.convertToPixel=function(e,t,n){var r=C9(t);return r===this?this.dataToPoint(n):null},i.prototype.convertFromPixel=function(e,t,n){var r=C9(t);return r===this?this.pointToData(n):null},i})();function C9(i){var e=i.seriesModel,t=i.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function DEe(i,e){var t=[];return i.eachComponent("singleAxis",function(n,r){var a=new EEe(n,i,e);a.name="single_"+r,a.resize(n,e),n.coordinateSystem=a,t.push(a)}),i.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var r=n.getReferringComponents("singleAxis",lr).models[0];n.coordinateSystem=r&&r.coordinateSystem}}),t}var REe={create:DEe,dimensions:hJ},E9=["x","y"],LEe=["width","height"],IEe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,r,a,o){var s=r.axis,l=s.coordinateSystem,u=hN(l,1-zD(s)),c=l.dataToPoint(n)[0],f=a.get("type");if(f&&f!=="none"){var h=I2(a),p=PEe[f](s,c,u);p.style=h,t.graphicKey=p.type,t.pointer=p}var g=Qz(r);aJ(n,t,g,r,a,o)},e.prototype.getHandleTransform=function(t,n,r){var a=Qz(n,{labelInside:!1});a.labelMargin=r.get(["handle","margin"]);var o=P2(n.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,r,a){var o=r.axis,s=o.coordinateSystem,l=zD(o),u=hN(s,l),c=[t.x,t.y];c[l]+=n[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=hN(s,1-l),h=(f[1]+f[0])/2,p=[h,h];return p[l]=c[l],{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}},e})(L2),PEe={line:function(i,e,t){var n=N2([e,t[0]],[e,t[1]],zD(i));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(i,e,t){var n=i.getBandWidth(),r=t[1]-t[0];return{type:"Rect",shape:oJ([e-n/2,t[0]],[n,r],zD(i))}}};function zD(i){return i.isHorizontal()?0:1}function hN(i,e){var t=i.getRect();return[t[E9[e]],t[E9[e]]+t[LEe[e]]]}var NEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e})(Ti);function OEe(i){sn(AM),xm.registerAxisPointerClass("SingleAxisPointer",IEe),i.registerComponentView(NEe),i.registerComponentView(wEe),i.registerComponentModel(UC),S_(i,"single",UC,UC.defaultOption),i.registerCoordinateSystem("single",REe)}var zEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,r){var a=mm(t);i.prototype.init.apply(this,arguments),D9(t,a)},e.prototype.mergeOption=function(t){i.prototype.mergeOption.apply(this,arguments),D9(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.layoutMode="box",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:ge.color.axisLine,width:1,type:"solid"}},itemStyle:{color:ge.color.neutral00,borderWidth:1,borderColor:ge.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:ge.size.s,color:ge.color.secondary},monthLabel:{show:!0,position:"start",margin:ge.size.s,align:"center",formatter:null,color:ge.color.secondary},yearLabel:{show:!0,position:null,margin:ge.size.xl,formatter:null,color:ge.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e})(mn);function D9(i,e){var t=i.cellSize,n;ze(t)?n=t:n=i.cellSize=[t,t],n.length===1&&(n[1]=n[0]);var r=Ge([0,1],function(a){return rge(e,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});hf(i,e,{type:"box",ignoreSize:r})}var BEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){var a=this.group;a.removeAll();var o=t.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=n.getLocaleModel();this._renderDayRect(t,s,a),this._renderLines(t,s,l,a),this._renderYearText(t,s,l,a),this._renderMonthText(t,u,l,a),this._renderWeekText(t,u,s,l,a)},e.prototype._renderDayRect=function(t,n,r){for(var a=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),l=a.getCellHeight(),u=n.start.time;u<=n.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToCalendarLayout([u],!1).tl,f=new dn({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});r.add(f)}},e.prototype._renderLines=function(t,n,r,a){var o=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=n.start,h=0;f.time<=n.end.time;h++){g(f.formatedDate),h===0&&(f=s.getDateInfo(n.start.y+"-"+n.start.m));var p=f.date;p.setMonth(p.getMonth()+1),f=s.getDateInfo(p)}g(s.getNextNDay(n.end.time,1).formatedDate);function g(y){o._firstDayOfMonth.push(s.getDateInfo(y)),o._firstDayPoints.push(s.dataToCalendarLayout([y],!1).tl);var _=o._getLinePointsOfOneWeek(t,y,r);o._tlpoints.push(_[0]),o._blpoints.push(_[_.length-1]),u&&o._drawSplitline(_,l,a)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,r),l,a),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,r),l,a)},e.prototype._getEdgesPoints=function(t,n,r){var a=[t[0].slice(),t[t.length-1].slice()],o=r==="horizontal"?0:1;return a[0][o]=a[0][o]-n/2,a[1][o]=a[1][o]+n/2,a},e.prototype._drawSplitline=function(t,n,r){var a=new Ba({z2:20,shape:{points:t},style:n});r.add(a)},e.prototype._getLinePointsOfOneWeek=function(t,n,r){for(var a=t.coordinateSystem,o=a.getDateInfo(n),s=[],l=0;l<7;l++){var u=a.getNextNDay(o.time,l),c=a.dataToCalendarLayout([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[r==="horizontal"?"bl":"tr"]}return s},e.prototype._formatterLabel=function(t,n){return rt(t)&&t?$ve(t,n):Ct(t)?t(n):n.nameMap},e.prototype._yearTextPositionControl=function(t,n,r,a,o){var s=n[0],l=n[1],u=["center","bottom"];a==="bottom"?(l+=o,u=["center","top"]):a==="left"?s-=o:a==="right"?(s+=o,u=["center","top"]):l-=o;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,n,r,a){var o=t.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=r!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,h=r==="horizontal"?0:1,p={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],f],right:[u[h][0],f]},g=n.start.y;+n.end.y>+n.start.y&&(g=g+"-"+n.end.y);var y=o.get("formatter"),_={start:n.start.y,end:n.end.y,nameMap:g},x=this._formatterLabel(y,_),M=new In({z2:30,style:Si(o,{text:x}),silent:o.get("silent")});M.attr(this._yearTextPositionControl(M,p[l],r,l,s)),a.add(M)}},e.prototype._monthTextPositionControl=function(t,n,r,a,o){var s="left",l="top",u=t[0],c=t[1];return r==="horizontal"?(c=c+o,n&&(s="center"),a==="start"&&(l="bottom")):(u=u+o,n&&(l="middle"),a==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(t,n,r,a){var o=t.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),f=[this._tlpoints,this._blpoints];(!s||rt(s))&&(s&&(n=qO(s)||n),s=n.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,p=r==="horizontal"?0:1;l=u==="start"?-l:l;for(var g=c==="center",y=o.get("silent"),_=0;_<f[h].length-1;_++){var x=f[h][_].slice(),M=this._firstDayOfMonth[_];if(g){var T=this._firstDayPoints[_];x[p]=(T[p]+f[0][_+1][p])/2}var C=o.get("formatter"),E=s[+M.m-1],D={yyyy:M.y,yy:(M.y+"").slice(2),MM:M.m,M:+M.m,nameMap:E},L=this._formatterLabel(C,D),z=new In({z2:30,style:Ce(Si(o,{text:L}),this._monthTextPositionControl(x,g,r,u,l)),silent:y});a.add(z)}}},e.prototype._weekTextPositionControl=function(t,n,r,a,o){var s="center",l="middle",u=t[0],c=t[1],f=r==="start";return n==="horizontal"?(u=u+a+(f?1:-1)*o[0]/2,s=f?"right":"left"):(c=c+a+(f?1:-1)*o[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(t,n,r,a,o){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),f=s.get("margin"),h=l.getFirstDayOfWeek();if(!c||rt(c)){c&&(n=qO(c)||n);var p=n.get(["time","dayOfWeekShort"]);c=p||Ge(n.get(["time","dayOfWeekAbbr"]),function(D){return D[0]})}var g=l.getNextNDay(r.end.time,7-r.lweek).time,y=[l.getCellWidth(),l.getCellHeight()];f=it(f,Math.min(y[1],y[0])),u==="start"&&(g=l.getNextNDay(r.start.time,-(7+r.fweek)).time,f=-f);for(var _=s.get("silent"),x=0;x<7;x++){var M=l.getNextNDay(g,x),T=l.dataToCalendarLayout([M.time],!1).center,C=x;C=Math.abs((x+h)%7);var E=new In({z2:30,style:Ce(Si(s,{text:c[C]}),this._weekTextPositionControl(T,a,u,f,y)),silent:_});o.add(E)}}},e.type="calendar",e})(Ti),dN=864e5,kEe=(function(){function i(e,t,n){this.type="calendar",this.dimensions=i.dimensions,this.getDimensionsInfo=i.getDimensionsInfo,this._model=e,this._update(t,n)}return i.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},i.prototype.getRangeInfo=function(){return this._rangeInfo},i.prototype.getModel=function(){return this._model},i.prototype.getRect=function(){return this._rect},i.prototype.getCellWidth=function(){return this._sw},i.prototype.getCellHeight=function(){return this._sh},i.prototype.getOrient=function(){return this._orient},i.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},i.prototype.getDateInfo=function(e){e=gf(e);var t=e.getFullYear(),n=e.getMonth()+1,r=n<10?"0"+n:""+n,a=e.getDate(),o=a<10?"0"+a:""+a,s=e.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:t+"",m:r,d:o,day:s,time:e.getTime(),formatedDate:t+"-"+r+"-"+o,date:e}},i.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},i.prototype._update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[n,7]:[7,n];H([0,1],function(f){c(a,f)&&(o[r[f]]=a[f]*s[f])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=Ui(o,l);H([0,1],function(f){c(a,f)||(a[f]=u[r[f]]/s[f])});function c(f,h){return f[h]!=null&&f[h]!=="auto"}this._sw=a[0],this._sh=a[1]},i.prototype.dataToPoint=function(e,t,n){n=n||[],ze(e)&&(e=e[0]),t==null&&(t=!0);var r=this.getDateInfo(e),a=this._rangeInfo,o=r.formatedDate;if(t&&!(r.time>=a.start.time&&r.time<a.end.time+dN))return n[0]=n[1]=NaN,n;var s=r.day,l=this._getRangeInfo([a.start.time,o]).nthWeek;return this._orient==="vertical"?(n[0]=this._rect.x+s*this._sw+this._sw/2,n[1]=this._rect.y+l*this._sh+this._sh/2):(n[0]=this._rect.x+l*this._sw+this._sw/2,n[1]=this._rect.y+s*this._sh+this._sh/2),n},i.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},i.prototype.dataToLayout=function(e,t,n){n=n||{};var r=n.rect=n.rect||{},a=n.contentRect=n.contentRect||{},o=this.dataToPoint(e,t);return r.x=o[0]-this._sw/2,r.y=o[1]-this._sh/2,r.width=this._sw,r.height=this._sh,Ut.copy(a,r),rm(a,this._lineWidth/2,!0,!0),n},i.prototype.dataToCalendarLayout=function(e,t){var n=this.dataToPoint(e,t);return{center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},i.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,t-1,r):this._getDateByWeeksAndDay(t,n-1,r)},i.prototype.convertToPixel=function(e,t,n){var r=pN(t);return r===this?r.dataToPoint(n):null},i.prototype.convertToLayout=function(e,t,n){var r=pN(t);return r===this?r.dataToLayout(n):null},i.prototype.convertFromPixel=function(e,t,n){var r=pN(t);return r===this?r.pointToData(n):null},i.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},i.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(ze(e)&&e.length===1&&(e=e[0]),ze(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n),a=r.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);t=[r.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},i.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],n;t[0].time>t[1].time&&(n=!0,t.reverse());var r=Math.floor(t[1].time/dN)-Math.floor(t[0].time/dN)+1,a=new Date(t[0].time),o=a.getDate(),s=t[1].date.getDate();a.setDate(o+r-1);var l=a.getDate();if(l!==s)for(var u=a.getTime()-t[1].time>0?1:-1;(l=a.getDate())!==s&&(a.getTime()-t[1].time)*u>0;)r-=u,a.setDate(l-u);var c=Math.floor((r+t[0].day+6)/7),f=n?-c+1:c-1;return n&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:r,weeks:c,nthWeek:f,fweek:t[0].day,lweek:t[1].day}},i.prototype._getDateByWeeksAndDay=function(e,t,n){var r=this._getRangeInfo(n);if(e>r.weeks||e===0&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var a=(e-1)*7-r.fweek+t,o=new Date(r.start.time);return o.setDate(+r.start.d+a),this.getDateInfo(o)},i.create=function(e,t){var n=[];return e.eachComponent("calendar",function(r){var a=new i(r,e,t);n.push(a),r.coordinateSystem=a}),e.eachComponent(function(r,a){yM({targetModel:a,coordSysType:"calendar",coordSysProvider:LZ})}),n},i.dimensions=["time","value"],i})();function pN(i){var e=i.calendarModel,t=i.seriesModel,n=e?e.coordinateSystem:t?t.coordinateSystem:null;return n}function UEe(i){i.registerComponentModel(zEe),i.registerComponentView(BEe),i.registerCoordinateSystem("calendar",kEe)}var ph={level:1,leaf:2,nonLeaf:3},Ch={none:0,all:1,body:2,corner:3};function Jz(i,e,t){var n=e[Zt[t]].getCell(i);return!n&&Pn(i)&&i<0&&(n=e[Zt[1-t]].getUnitLayoutInfo(t,Math.round(i))),n}function dJ(i){var e=i||[];return e[0]=e[0]||[],e[1]=e[1]||[],e[0][0]=e[0][1]=e[1][0]=e[1][1]=NaN,e}function pJ(i,e,t,n,r){R9(i[0],e,r,t,n,0),R9(i[1],e,r,t,n,1)}function R9(i,e,t,n,r,a){i[0]=1/0,i[1]=-1/0;var o=n[a],s=ze(o)?o:[o],l=s.length,u=!!t;if(l>=1?(L9(i,e,s,u,r,a,0),l>1&&L9(i,e,s,u,r,a,l-1)):i[0]=i[1]=NaN,u){var c=-r[Zt[1-a]].getLocatorCount(a),f=r[Zt[a]].getLocatorCount(a)-1;t===Ch.body?c=Ir(0,c):t===Ch.corner&&(f=el(-1,f)),f<c&&(c=f=NaN),Ja(i[0])&&(i[0]=c),Ja(i[1])&&(i[1]=f),i[0]=Ir(el(i[0],f),c),i[1]=Ir(el(i[1],f),c)}}function L9(i,e,t,n,r,a,o){var s=Jz(t[o],r,a);if(!s){i[0]=i[1]=NaN;return}var l=s.id[Zt[a]],u=l,c=HEe(s);c&&(u+=c.span[Zt[a]]-1),i[0]=el(i[0],l,u),i[1]=Ir(i[1],l,u)}function rC(i,e){return Ja(i[e][0])||Ja(i[e][1])}function I9(i,e,t,n){e=e||FEe;for(var r=0;r<n;r++)e[r]=!1;for(;;){for(var a=!1,r=0;r<n;r++){var o=t[r];!e[r]&&o.cellMergeOwner&&VEe(i,o.locatorRange)&&(e[r]=!0,a=!0)}if(!a)break}}var FEe=[];function VEe(i,e){return!P9(i[0],e[0])||!P9(i[1],e[1])?!1:(i[0][0]=el(i[0][0],e[0][0]),i[0][1]=Ir(i[0][1],e[0][1]),i[1][0]=el(i[1][0],e[1][0]),i[1][1]=Ir(i[1][1],e[1][1]),!0)}function P9(i,e){return i[1]>=e[0]&&i[0]<=e[1]}function N9(i,e){i.id.set(e[0][0],e[1][0]),i.span.set(e[0][1]-i.id.x+1,e[1][1]-i.id.y+1)}function GEe(i,e){i[0][0]=e[0][0],i[0][1]=e[0][1],i[1][0]=e[1][0],i[1][1]=e[1][1]}function O9(i,e,t,n){var r=Jz(e[n][0],t,n),a=Jz(e[n][1],t,n);i[Zt[n]]=i[Zr[n]]=NaN,r&&a&&(i[Zt[n]]=r.xy,i[Zr[n]]=a.xy+a.wh-r.xy)}function fb(i,e,t,n){return i[Zt[e]]=t,i[Zt[1-e]]=n,i}function HEe(i){return i&&(i.type===ph.leaf||i.type===ph.nonLeaf)?i:null}function BD(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var z9=(function(){function i(e,t){this._cells=[],this._levels=[],this.dim=e,this.dimIdx=e==="x"?0:1,this._model=t,this._uniqueValueGen=WEe(e);var n=t.get("data",!0);n!=null&&!ze(n)&&(n=[]),n?this._initByDimModelData(n):this._initBySeriesData()}return i.prototype._initByDimModelData=function(e){var t=this,n=t._cells,r=t._levels,a=[],o=0;t._leavesCount=s(e,0,0),l();return;function s(u,c,f){var h=0;return u&&H(u,function(p,g){var y;rt(p)?y={value:p}:zt(p)?(y=p,p.value!=null&&!rt(p.value)&&(y={value:null})):y={value:null};var _={type:ph.nonLeaf,ordinal:NaN,level:f,firstLeafLocator:c,id:new kt,span:fb(new kt,t.dimIdx,1,1),option:y,xy:NaN,wh:NaN,dim:t,rect:BD()};o++,(a[c]||(a[c]=[])).push(_),r[f]||(r[f]={type:ph.level,xy:NaN,wh:NaN,option:null,id:new kt,dim:t});var x=s(y.children,c,f+1),M=Math.max(1,x);_.span[Zt[t.dimIdx]]=M,h+=M,c+=M}),h}function l(){for(var u=[];n.length<o;)for(var c=0;c<a.length;c++){var f=a[c].pop();if(f){f.ordinal=u.length;var h=f.option.value;u.push(h),n.push(f),t._uniqueValueGen.calcDupBase(h)}}t._uniqueValueGen.ensureValueUnique(u,n);var p=t._ordinalMeta=new N1({categories:u,needCollect:!1,deduplication:!1});t._scale=new y_({ordinalMeta:p});for(var g=0;g<t._leavesCount;g++){var y=t._cells[g];y.type=ph.leaf,y.span[Zt[1-t.dimIdx]]=t._levels.length-y.level}t._initCellsId(),t._initLevelIdOptions()}},i.prototype._initBySeriesData=function(){var e=this;e._leavesCount=0,e._levels=[{type:ph.level,xy:NaN,wh:NaN,option:null,id:new kt,dim:e}],e._initLevelIdOptions();var t=e._ordinalMeta=new N1({needCollect:!0,deduplication:!0,onCollect:function(n,r){var a=e._cells[r]={type:ph.leaf,ordinal:r,level:0,firstLeafLocator:r,id:new kt,span:fb(new kt,e.dimIdx,1,1),option:{value:n+""},xy:NaN,wh:NaN,dim:e,rect:BD()};e._leavesCount++,e._setCellId(a)}});e._scale=new y_({ordinalMeta:t})},i.prototype._setCellId=function(e){var t=this._levels.length,n=this.dimIdx;fb(e.id,n,e.firstLeafLocator,e.level-t)},i.prototype._initCellsId=function(){var e=this._levels.length,t=this.dimIdx;H(this._cells,function(n){fb(n.id,t,n.firstLeafLocator,n.level-e)})},i.prototype._initLevelIdOptions=function(){var e=this._levels.length,t=this.dimIdx,n=this._model.get("levels",!0);n=ze(n)?n:[],H(this._levels,function(r,a){fb(r.id,t,0,a-e),r.option=n[a]})},i.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},i.prototype.resetLayoutIterator=function(e,t,n,r){if(e=e||new hp,t===this.dimIdx){var a=this._leavesCount,o=n!=null?Math.max(0,n):0;r=r!=null?Math.min(r,a):a,e.reset(this._cells,o,o+r)}else{var a=this._levels.length,o=n!=null?Math.max(0,n+a):0;r=r!=null?Math.min(r,a):a,e.reset(this._levels,o,o+r)}return e},i.prototype.resetCellIterator=function(e){return(e||new hp).reset(this._cells,0)},i.prototype.resetLevelIterator=function(e){return(e||new hp).reset(this._levels,0)},i.prototype.getLayout=function(e,t,n){var r=this.getUnitLayoutInfo(t,n);e[Zt[t]]=r?r.xy:NaN,e[Zr[t]]=r?r.wh:NaN},i.prototype.getUnitLayoutInfo=function(e,t){return e===this.dimIdx?t<this._leavesCount?this._cells[t]:void 0:this._levels[t+this._levels.length]},i.prototype.getCell=function(e){var t=this._scale.parse(e);return Ja(t)?void 0:this._cells[t]},i.prototype.getLocatorCount=function(e){return e===this.dimIdx?this._leavesCount:this._levels.length},i.prototype.getOrdinalMeta=function(){return this._ordinalMeta},i})();function WEe(i){var e=i.toUpperCase(),t=new RegExp("^"+e+"([0-9]+)$"),n=0;function r(s){var l;s!=null&&(l=s.match(t))&&(n=Ir(n,+l[1]+1))}function a(){return""+e+n++}function o(s,l){for(var u=St(),c=0;c<s.length;c++){var f=s[c];(f==null||u.get(f)!=null)&&(s[c]=f=a(),l[c].option=Ot({value:f},l[c].option)),u.set(f,!0)}}return{calcDupBase:r,ensureValueUnique:o}}var B9=(function(){function i(e,t,n){this._model=t,this._dims=n,this._kind=e,this._cellMergeOwnerList=[]}return i.prototype._ensureCellMap=function(){var e=this,t=e._cellMap;return t||(t=e._cellMap=St(),n()),t;function n(){var a=[],o=e._model.getShallow("data");o&&!ze(o)&&(o=null),H(o,function(g,y){if(!(!zt(g)||!ze(g.coord))){var _=dJ([]),x=null;if(pJ(_,x,g.coord,e._dims,g.coordClamp?Ch[e._kind]:Ch.none),!(rC(_,0)||rC(_,1))){var M=g&&g.mergeCells,T={id:new kt,span:new kt,locatorRange:_,option:g,cellMergeOwner:M};N9(T,_),a.push(T)}}});for(var s=[],l=0;l<a.length;l++){var u=a[l];if(u.cellMergeOwner){var c=u.locatorRange;I9(c,s,a,l);for(var f=0;f<l;f++)s[f]&&(a[f].cellMergeOwner=!1);if(c[0][0]!==u.id.x||c[1][0]!==u.id.y){u.cellMergeOwner=!1;var h=Ce({},u.option);h.coord=null;var p={id:new kt,span:new kt,locatorRange:c,option:h,cellMergeOwner:!0};N9(p,c),a.push(p)}}}H(a,function(g){var y=r(g.id.x,g.id.y);if(g.cellMergeOwner&&(y.cellMergeOwner=!0,y.span=g.span,y.locatorRange=g.locatorRange,y.spanRect=BD(),e._cellMergeOwnerList.push(y)),!(!g.cellMergeOwner&&!g.option))for(var _=0;_<g.span.y;_++)for(var x=0;x<g.span.x;x++){var M=r(g.id.x+x,g.id.y+_);M.option=g.option,g.cellMergeOwner&&(M.inSpanOf=y)}})}function r(a,o){var s=k9(a,o),l=t.get(s);return l||(l=t.set(s,{id:new kt(a,o),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),l}},i.prototype.getCell=function(e){return this._ensureCellMap().get(k9(e[0],e[1]))},i.prototype.travelExistingCells=function(e){this._ensureCellMap().each(e)},i.prototype.expandRangeByCellMerge=function(e){if(!rC(e,0)&&!rC(e,1)&&e[0][0]===e[0][1]&&e[1][0]===e[1][1]){vN[0]=e[0][0],vN[1]=e[1][0];var t=this.getCell(vN),n=t&&t.inSpanOf;if(n){GEe(e,n.locatorRange);return}}var r=this._cellMergeOwnerList;I9(e,null,r,r.length)},i})(),vN=[];function k9(i,e){return i+"|"+e}var k2={show:!0,color:ge.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function U2(i){return{color:"none",borderWidth:1,borderColor:i?"none":ge.color.borderTint}}var U9={show:!0,label:k2,itemStyle:U2(!1),silent:void 0,dividerLineStyle:{width:1,color:ge.color.border}},XEe={label:k2,itemStyle:U2(!1),silent:void 0},YEe={label:k2,itemStyle:U2(!0),silent:void 0},qEe={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:U9,y:U9,body:XEe,corner:YEe,backgroundStyle:{color:"none",borderColor:ge.color.axisLine,borderWidth:1}},ZEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this._dimModels={x:new F9(this.get("x",!0)||{}),y:new F9(this.get("y",!0)||{})};t.x.option.type=t.y.option.type="category";var n=t.x.dim=new z9("x",t.x),r=t.y.dim=new z9("y",t.y),a={x:n,y:r};this._body=new B9("body",new Sn(this.getShallow("body")),a),this._corner=new B9("corner",new Sn(this.getShallow("corner")),a)},e.prototype.getDimensionModel=function(t){return this._dimModels[t]},e.prototype.getBody=function(){return this._body},e.prototype.getCorner=function(){return this._corner},e.type="matrix",e.layoutMode="box",e.defaultOption=qEe,e})(mn),F9=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},e})(Sn),aC=Math.round,jEe=0,KEe=99,$Ee={normal:25,special:100},QEe={normal:50,special:125},JEe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n){this.group.removeAll();var r=this.group,a=t.coordinateSystem,o=a.getRect(),s=t.getDimensionModel("x"),l=t.getDimensionModel("y"),u=s.dim,c=l.dim;eDe(r,t,n),tDe(r,t,u,c,n);var f=t.getShallow("borderZ2",!0),h=bt(f,KEe),p=h-1,g=t.getModel("backgroundStyle").getItemStyle(["borderWidth"]);g.lineWidth=0;var y=t.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);y.fill="none";var _=eB(o.clone(),g,jEe),x=eB(o.clone(),y,h);_.silent=!0,x.silent=!0,r.add(_),r.add(x);var M=u.getUnitLayoutInfo(0,0),T=c.getUnitLayoutInfo(1,0);M&&T&&(u.shouldShow()&&r.add(V9({x1:o.x,y1:T.xy,x2:o.x+o.width,y2:T.xy},s.getModel("dividerLineStyle").getLineStyle(),p)),c.shouldShow()&&r.add(V9({x1:M.xy,y1:o.y,x2:M.xy,y2:o.y+o.height},l.getModel("dividerLineStyle").getLineStyle(),p)))},e.type="matrix",e})(Ti);function eDe(i,e,t){n(0),n(1);function n(r){var a=e.getDimensionModel(Zt[r]),o=a.dim;if(o.shouldShow())for(var s=a.getModel("itemStyle"),l=a.getModel("label"),u=e.getShallow("tooltip",!0),c=[],f=o.resetCellIterator();f.next();){var h=f.item,p={};Ut.copy(p,h.rect),kR(c,h.id.x,h.id.y),vJ(c,e,i,t,h.option,s,l,a,p,h.option.value,QEe,u)}}}function tDe(i,e,t,n,r){a("body",e.getBody(),t,n),t.shouldShow()&&n.shouldShow()&&a("corner",e.getCorner(),n,t);function a(o,s,l,u){var c=new Sn(e.getShallow(o,!0)),f=c.getModel("itemStyle"),h=c.getModel("label"),p=new hp,g=new hp,y=[],_=e.getShallow("tooltip",!0);for(u.resetLayoutIterator(g,1);g.next();)for(l.resetLayoutIterator(p,0);p.next();){var x=p.item,M=g.item;kR(y,x.id.x,M.id.y);var T=s.getCell(y);if(!(T&&T.inSpanOf&&T.inSpanOf!==T)){var C={};T&&T.span?Ut.copy(C,T.spanRect):(x.dim.getLayout(C,0,y[0]),M.dim.getLayout(C,1,y[1]));var E=T?T.option:null;vJ(y,e,i,r,E,f,h,c,C,E?E.value:null,$Ee,_)}}}}function vJ(i,e,t,n,r,a,o,s,l,u,c,f){var h;oC.option=r?r.itemStyle:null,oC.parentModel=a,_0.option=r,_0.parentModel=s;var p=bt(_0.getShallow("z2"),r&&r.itemStyle?c.special:c.normal),g=f&&f.show,y=eB(l,oC.getItemStyle(),p);t.add(y);var _=_0.get("cursor");_!=null&&y.attr("cursor",_);var x;if(u!=null){var M=u+"";if(x0.option=r?r.label:null,x0.parentModel=o,x0.ecModel=n,Ma(y,{normal:x0},{defaultText:M,autoOverflowArea:!0,layoutRect:Lt(y.shape)}),x=y.getTextContent(),x){x.z2=p+1;var T=x.style;if(T&&T.overflow&&T.overflow!=="none"&&T.lineOverflow){var C={};Ut.copy(C,l),rm(C,(((h=y.style)===null||h===void 0?void 0:h.lineWidth)||0)/2,!0,!0),y.updateInnerText(),x.getLocalTransform(sC),jl(sC,sC),Ut.applyTransform(C,C,sC),x.setClipPath(new dn({shape:C}))}}Uh({el:y,componentModel:e,itemName:M,itemTooltipOption:f,formatterParamsExtra:{xyLocator:i.slice()}})}if(x){var E=x0.get("silent");E==null&&(E=!g),x.silent=E,x.ignoreHostSilent=!0}var D=_0.get("silent");D==null&&(D=!y.style||y.style.fill==="none"||!y.style.fill),y.silent=D,EP(_0),EP(oC),EP(x0)}var _0=new Sn,oC=new Sn,x0=new Sn,sC=[];function eB(i,e,t){var n=e.lineWidth;if(n){var r=i.x+i.width,a=i.y+i.height;i.x=$s(i.x,n,!0),i.y=$s(i.y,n,!0),i.width=$s(r,n,!0)-i.x,i.height=$s(a,n,!0)-i.y}return new dn({shape:i,style:e,z2:t})}function V9(i,e,t){var n=e.lineWidth;return n&&(aC(i.x1*2)===aC(i.x2*2)&&(i.x1=i.x2=$s(i.x1,n,!0)),aC(i.y1*2)===aC(i.y2*2)&&(i.y1=i.y2=$s(i.y1,n,!0))),new Nr({shape:i,style:e,silent:!0,z2:t})}var nDe=(function(){function i(e,t,n){this.dimensions=i.dimensions,this.type="matrix",this._model=e;var r=this._dimModels={x:e.getDimensionModel("x"),y:e.getDimensionModel("y")};this._dims={x:r.x.dim,y:r.y.dim},this._resize(e,n)}return i.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},i.create=function(e,t){var n=[];return e.eachComponent("matrix",function(r){var a=new i(r,e,t);n.push(a),r.coordinateSystem=a}),e.eachComponent(function(r,a){yM({targetModel:a,coordSysType:"matrix",coordSysProvider:LZ})}),n},i.prototype.getRect=function(){return this._rect},i.prototype._resize=function(e,t){var n=this._dims,r=this._dimModels,a=this._rect=Ui(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});G9(r,n,a,0),G9(r,n,a,1),H9(0,n),H9(1,n),W9(this._model.getBody(),n),W9(this._model.getCorner(),n)},i.prototype.dataToPoint=function(e,t,n){return n=n||[],this.dataToLayout(e,t,hb),n[0]=hb.rect.x+hb.rect.width/2,n[1]=hb.rect.y+hb.rect.height/2,n},i.prototype.dataToLayout=function(e,t,n){var r=this._dims;n=n||{};var a=n.rect=n.rect||{};a.x=a.y=a.width=a.height=NaN;var o=n.matrixXYLocatorRange=dJ(n.matrixXYLocatorRange);return ze(e)&&(pJ(o,null,e,r,bt(t&&t.clamp,Ch.none)),(!t||!t.ignoreMergeCells)&&((!t||t.clamp!==Ch.corner)&&this._model.getBody().expandRangeByCellMerge(o),(!t||t.clamp!==Ch.body)&&this._model.getCorner().expandRangeByCellMerge(o)),O9(a,o,r,0),O9(a,o,r,1)),n},i.prototype.pointToData=function(e,t,n){var r=this._dims;return X9(kc,0,r,e,t&&t.clamp),X9(kc,1,r,e,t&&t.clamp),n=n||[],n[0]=n[1]=NaN,kc.y===$a.inCorner&&kc.x===$a.inBody?Y9(kc,n,0,r):kc.x===$a.inCorner&&kc.y===$a.inBody?Y9(kc,n,1,r):(q9(kc,n,0,r),q9(kc,n,1,r)),n},i.prototype.convertToPixel=function(e,t,n,r){var a=mN(t);return a===this?a.dataToPoint(n,r):void 0},i.prototype.convertToLayout=function(e,t,n,r){var a=mN(t);return a===this?a.dataToLayout(n,r):void 0},i.prototype.convertFromPixel=function(e,t,n,r){var a=mN(t);return a===this?a.pointToData(n,r):void 0},i.prototype.containPoint=function(e){return this._rect.contain(e[0],e[1])},i.dimensions=["x","y","value"],i})(),hb={rect:BD()},lC=new hp,gN=new hp;function G9(i,e,t,n){for(var r=1-n,a=e[Zt[n]],o=e[Zt[r]],s=o.shouldShow(),l=a.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var u=o.resetLayoutIterator(null,n);u.next();)u.item.wh=u.item.xy=NaN;for(var c=t[Zr[n]],f=a.getLocatorCount(n)+o.getLocatorCount(n),h=new Sn,p=o.resetLevelIterator();p.next();)h.option=p.item.option,h.parentModel=i[Zt[r]],_(p.item,s?h.get("levelSize"):0);for(var g=new Sn,y=a.resetCellIterator();y.next();)y.item.type===ph.leaf&&(g.option=y.item.option,g.parentModel=void 0,_(y.item,g.get("size")));function _(L,z){var P=iDe(z,n,t);Ja(P)||(L.wh=tB(P,c),c=tB(c-L.wh),f--)}var x=f?c/f:0,M=!f&&c>=1,T=t[Zt[n]],C=a.getLocatorCount(n)-1,E=new hp;for(o.resetLayoutIterator(E,n);E.next();)D(E.item);for(a.resetLayoutIterator(E,n);E.next();)D(E.item);function D(L){Ja(L.wh)&&(L.wh=x),L.xy=T,L.id[Zt[n]]===C&&!M&&(L.wh=t[Zt[n]]+t[Zr[n]]-L.xy),T+=L.wh}}function H9(i,e){for(var t=e[Zt[i]].resetCellIterator();t.next();){var n=t.item;kD(n.rect,i,n.id,n.span,e),kD(n.rect,1-i,n.id,n.span,e),n.type===ph.nonLeaf&&(n.xy=n.rect[Zt[i]],n.wh=n.rect[Zr[i]])}}function W9(i,e){i.travelExistingCells(function(t){var n=t.span;if(n){var r=t.spanRect,a=t.id;kD(r,0,a,n,e),kD(r,1,a,n,e)}})}function kD(i,e,t,n,r){i[Zr[e]]=0;var a=t[Zt[e]],o=a<0?r[Zt[1-e]]:r[Zt[e]],s=o.getUnitLayoutInfo(e,t[Zt[e]]);if(i[Zt[e]]=s.xy,i[Zr[e]]=s.wh,n[Zt[e]]>1){var l=o.getUnitLayoutInfo(e,t[Zt[e]]+n[Zt[e]]-1);i[Zr[e]]=l.xy+l.wh-s.xy}}function iDe(i,e,t){var n=$E(i,t[Zr[e]]);return tB(n,t[Zr[e]])}function tB(i,e){return Math.max(Math.min(i,bt(e,1/0)),0)}function mN(i){var e=i.matrixModel,t=i.seriesModel,n=e?e.coordinateSystem:t?t.coordinateSystem:null;return n}var $a={inBody:1,inCorner:2,outside:3},kc={x:null,y:null,point:[]};function X9(i,e,t,n,r){var a=t[Zt[e]],o=t[Zt[1-e]],s=a.getUnitLayoutInfo(e,a.getLocatorCount(e)-1),l=a.getUnitLayoutInfo(e,0),u=o.getUnitLayoutInfo(e,-o.getLocatorCount(e)),c=o.shouldShow()?o.getUnitLayoutInfo(e,-1):null,f=i.point[e]=n[e];if(!l&&!c){i[Zt[e]]=$a.outside;return}if(r===Ch.body){l?(i[Zt[e]]=$a.inBody,f=el(s.xy+s.wh,Ir(l.xy,f)),i.point[e]=f):i[Zt[e]]=$a.outside;return}else if(r===Ch.corner){c?(i[Zt[e]]=$a.inCorner,f=el(c.xy+c.wh,Ir(u.xy,f)),i.point[e]=f):i[Zt[e]]=$a.outside;return}var h=l?l.xy:c?c.xy+c.wh:NaN,p=u?u.xy:h,g=s?s.xy+s.wh:h;if(f<p){if(!r){i[Zt[e]]=$a.outside;return}f=p}else if(f>g){if(!r){i[Zt[e]]=$a.outside;return}f=g}i.point[e]=f,i[Zt[e]]=h<=f&&f<=g?$a.inBody:p<=f&&f<=h?$a.inCorner:$a.outside}function Y9(i,e,t,n){var r=1-t;if(i[Zt[t]]!==$a.outside)for(n[Zt[t]].resetCellIterator(gN);gN.next();){var a=gN.item;if(Z9(i.point[t],a.rect,t)&&Z9(i.point[r],a.rect,r)){e[t]=a.ordinal,e[r]=a.id[Zt[r]];return}}}function q9(i,e,t,n){if(i[Zt[t]]!==$a.outside){var r=i[Zt[t]]===$a.inCorner?n[Zt[1-t]]:n[Zt[t]];for(r.resetLayoutIterator(lC,t);lC.next();)if(rDe(i.point[t],lC.item)){e[t]=lC.item.id[Zt[t]];return}}}function rDe(i,e){return e.xy<=i&&i<=e.xy+e.wh}function Z9(i,e,t){return e[Zt[t]]<=i&&i<=e[Zt[t]]+e[Zr[t]]}function aDe(i){i.registerComponentModel(ZEe),i.registerComponentView(JEe),i.registerCoordinateSystem("matrix",nDe)}function oDe(i,e){var t=i.existing;if(e.id=i.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var n=e.parentOption;n?e.parentId=n.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function j9(i,e){var t;return H(e,function(n){i[n]!=null&&i[n]!=="auto"&&(t=!0)}),t}function sDe(i,e,t){var n=Ce({},t),r=i[e],a=t.$action||"merge";a==="merge"?r?(nn(r,n,!0),hf(r,n,{ignoreSize:!0}),zZ(t,r),uC(t,r),uC(t,r,"shape"),uC(t,r,"style"),uC(t,r,"extra"),t.clipPath=r.clipPath):i[e]=n:a==="replace"?i[e]=n:a==="remove"&&r&&(i[e]=null)}var gJ=["transition","enterFrom","leaveTo"],lDe=gJ.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function uC(i,e,t){if(t&&(!i[t]&&e[t]&&(i[t]={}),i=i[t],e=e[t]),!(!i||!e))for(var n=t?gJ:lDe,r=0;r<n.length;r++){var a=n[r];i[a]==null&&e[a]!=null&&(i[a]=e[a])}}function uDe(i,e){if(i&&(i.hv=e.hv=[j9(e,["left","right"]),j9(e,["top","bottom"])],i.type==="group")){var t=i,n=e;t.width==null&&(t.width=n.width=0),t.height==null&&(t.height=n.height=0)}}var cDe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,n){var r=this.option.elements;this.option.elements=null,i.prototype.mergeOption.call(this,t,n),this.option.elements=r},e.prototype.optionUpdated=function(t,n){var r=this.option,a=(n?r:t).elements,o=r.elements=n?[]:r.elements,s=[];this._flatten(a,s,null);var l=Aq(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];H(l,function(c,f){var h=c.newOption;h&&(u.push(h),oDe(c,h),sDe(o,f,h),uDe(o[f],h))},this),r.elements=Kn(o,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(t,n,r){H(t,function(a){if(a){r&&(a.parentOption=r),n.push(a);var o=a.children;o&&o.length&&this._flatten(o,n,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e})(mn),K9={path:null,compoundPath:null,group:It,image:Ta,text:In},kl=yn(),fDe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=St()},e.prototype.render=function(t,n,r){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,r)},e.prototype._updateElements=function(t){var n=t.useElOptionsToUpdate();if(n){var r=this._elMap,a=this.group,o=t.get("z"),s=t.get("zlevel");H(n,function(l){var u=sa(l.id,null),c=u!=null?r.get(u):null,f=sa(l.parentId,null),h=f!=null?r.get(f):a,p=l.type,g=l.style;p==="text"&&g&&l.hv&&l.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null);var y=l.textContent,_=l.textConfig;if(g&&qQ(g,p,!!_,!!y)){var x=ZQ(g,p,!0);!_&&x.textConfig&&(_=l.textConfig=x.textConfig),!y&&x.textContent&&(y=x.textContent)}var M=hDe(l),T=l.$action||"merge",C=T==="merge",E=T==="replace";if(C){var D=!c,L=c;D?L=$9(u,h,l.type,r):(L&&(kl(L).isNew=!1),QQ(L)),L&&(BC(L,M,t,{isInit:D}),Q9(L,l,o,s))}else if(E){FC(c,l,r,t);var z=$9(u,h,l.type,r);z&&(BC(z,M,t,{isInit:!0}),Q9(z,l,o,s))}else T==="remove"&&(KQ(c,l),FC(c,l,r,t));var P=r.get(u);if(P&&y)if(C){var N=P.getTextContent();N?N.attr(y):P.setTextContent(new In(y))}else E&&P.setTextContent(new In(y));if(P){var B=l.clipPath;if(B){var G=B.type,U=void 0,D=!1;if(C){var X=P.getClipPath();D=!X||kl(X).type!==G,U=D?nB(G):X}else E&&(D=!0,U=nB(G));P.setClipPath(U),BC(U,B,t,{isInit:D}),ND(U,B.keyframeAnimation,t)}var q=kl(P);P.setTextConfig(_),q.option=l,dDe(P,t,l),Uh({el:P,componentModel:t,itemName:P.name,itemTooltipOption:l.tooltip}),ND(P,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,n){for(var r=t.option.elements,a=this.group,o=this._elMap,s=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<r.length;c++){var f=r[c],h=sa(f.id,null),p=h!=null?o.get(h):null;if(!(!p||!p.isGroup)){var g=p.parent,y=g===a,_=kl(p),x=kl(g);_.width=it(_.option.width,y?s:x.width)||0,_.height=it(_.option.height,y?l:x.height)||0}}for(var c=r.length-1;c>=0;c--){var f=r[c],h=sa(f.id,null),p=h!=null?o.get(h):null;if(p){var g=p.parent,x=kl(g),M=g===a?{width:s,height:l}:{width:x.width,height:x.height},T={},C=tL(p,f,M,null,{hv:f.hv,boundingMode:f.bounding},T);if(!kl(p).isNew&&C){for(var E=f.transition,D={},L=0;L<u.length;L++){var z=u[L],P=T[z];E&&(Wg(E)||en(E,z)>=0)?D[z]=P:p[z]=P}Gn(p,D,t,0)}else p.attr(T)}}},e.prototype._clear=function(){var t=this,n=this._elMap;n.each(function(r){FC(r,kl(r).option,n,t._lastGraphicModel)}),this._elMap=St()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e})(Ti);function nB(i){var e=gt(K9,i)?K9[i]:A1(i),t=new e({});return kl(t).type=i,t}function $9(i,e,t,n){var r=nB(t);return e.add(r),n.set(i,r),kl(r).id=i,kl(r).isNew=!0,r}function FC(i,e,t,n){var r=i&&i.parent;r&&(i.type==="group"&&i.traverse(function(a){FC(a,e,t,n)}),mL(i,e,n),t.removeKey(kl(i).id))}function Q9(i,e,t,n){i.isGroup||H([["cursor",Kl.prototype.cursor],["zlevel",n||0],["z",t||0],["z2",0]],function(r){var a=r[0];gt(e,a)?i[a]=bt(e[a],r[1]):i[a]==null&&(i[a]=r[1])}),H(An(e),function(r){if(r.indexOf("on")===0){var a=e[r];i[r]=Ct(a)?a:null}}),gt(e,"draggable")&&(i.draggable=e.draggable),e.name!=null&&(i.name=e.name),e.id!=null&&(i.id=e.id)}function hDe(i){return i=Ce({},i),H(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(IZ),function(e){delete i[e]}),i}function dDe(i,e,t){var n=Ht(i).eventData;!i.silent&&!i.ignore&&!n&&(n=Ht(i).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:i.name}),n&&(n.info=t.info)}function pDe(i){i.registerComponentModel(cDe),i.registerComponentView(fDe),i.registerPreprocessor(function(e){var t=e.graphic;ze(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var J9=["x","y","radius","angle","single"],vDe=["cartesian2d","polar","singleAxis"];function gDe(i){var e=i.get("coordinateSystem");return en(vDe,e)>=0}function lp(i){return i+"Axis"}function mDe(i,e){var t=St(),n=[],r=St();i.eachComponent({mainType:"dataZoom",query:e},function(c){r.get(c.uid)||s(c)});var a;do a=!1,i.eachComponent("dataZoom",o);while(a);function o(c){!r.get(c.uid)&&l(c)&&(s(c),a=!0)}function s(c){r.set(c.uid,!0),n.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(h,p){var g=t.get(h);g&&g[p]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,h){(t.get(f)||t.set(f,[]))[h]=!0})}return n}function mJ(i){var e=i.ecModel,t={infoList:[],infoMap:St()};return i.eachTargetAxis(function(n,r){var a=e.getComponent(lp(n),r);if(a){var o=a.getCoordSysModel();if(o){var s=o.uid,l=t.infoMap.get(s);l||(l={model:o,axisModels:[]},t.infoList.push(l),t.infoMap.set(s,l)),l.axisModels.push(a)}}}),t}var yN=(function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},i})(),X1=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,n,r){var a=eW(t);this.settledOption=a,this.mergeDefaultAndTheme(t,r),this._doInit(a)},e.prototype.mergeOption=function(t){var n=eW(t);nn(this.option,t,!0),nn(this.settledOption,n,!0),this._doInit(n)},e.prototype._doInit=function(t){var n=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;H([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(n[a[0]]=r[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),n=this._targetAxisInfoMap=St(),r=this._fillSpecifiedTargetAxis(n);r?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var n=!1;return H(J9,function(r){var a=this.getReferringComponents(lp(r),Ode);if(a.specified){n=!0;var o=new yN;H(a.models,function(s){o.add(s.componentIndex)}),t.set(r,o)}},this),n},e.prototype._fillAutoTargetAxisByOrient=function(t,n){var r=this.ecModel,a=!0;if(a){var o=n==="vertical"?"y":"x",s=r.findComponents({mainType:o+"Axis"});l(s,o)}if(a){var s=r.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});l(s,"single")}function l(u,c){var f=u[0];if(f){var h=new yN;if(h.add(f.componentIndex),t.set(c,h),a=!1,c==="x"||c==="y"){var p=f.getReferringComponents("grid",lr).models[0];p&&H(u,function(g){f.componentIndex!==g.componentIndex&&p===g.getReferringComponents("grid",lr).models[0]&&h.add(g.componentIndex)})}}}a&&H(J9,function(u){if(a){var c=r.findComponents({mainType:lp(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var f=new yN;f.add(c[0].componentIndex),t.set(u,f),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(n){!t&&(t=n)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var n=this._rangePropMode,r=this.get("rangeMode");H([["start","startValue"],["end","endValue"]],function(a,o){var s=t[a[0]]!=null,l=t[a[1]]!=null;s&&!l?n[o]="percent":!s&&l?n[o]="value":r?n[o]=r[o]:s&&(n[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(n,r){t==null&&(t=this.ecModel.getComponent(lp(n),r))},this),t},e.prototype.eachTargetAxis=function(t,n){this._targetAxisInfoMap.each(function(r,a){H(r.indexList,function(o){t.call(n,a,o)})})},e.prototype.getAxisProxy=function(t,n){var r=this.getAxisModel(t,n);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,n){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[n])return this.ecModel.getComponent(lp(t),n)},e.prototype.setRawRange=function(t){var n=this.option,r=this.settledOption;H([["start","startValue"],["end","endValue"]],function(a){(t[a[0]]!=null||t[a[1]]!=null)&&(n[a[0]]=r[a[0]]=t[a[0]],n[a[1]]=r[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var n=this.option;H(["start","startValue","end","endValue"],function(r){n[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,n){if(t==null&&n==null){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataValueWindow()}else return this.getAxisProxy(t,n).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var n,r=this._targetAxisInfoMap.keys(),a=0;a<r.length;a++)for(var o=r[a],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e})(mn);function eW(i){var e={};return H(["start","end","startValue","endValue","throttle"],function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e}var yDe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(X1),F2=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r,a){this.dataZoomModel=t,this.ecModel=n,this.api=r},e.type="dataZoom",e})(Ti),_De=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(F2),E0=H,tW=js,xDe=(function(){function i(e,t,n,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=n}return i.prototype.hostedBy=function(e){return this._dataZoomModel===e},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(gDe(t)){var n=lp(this._dimName),r=t.getReferringComponents(n,lr).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return Lt(this._minMaxSpan)},i.prototype.calculateDataWindow=function(e){var t=this._dataExtent,n=this.getAxisModel(),r=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;E0(["start","end"],function(h,p){var g=e[h],y=e[h+"Value"];a[p]==="percent"?(g==null&&(g=o[p]),y=r.parse(ei(g,o,t))):(u=!0,y=y==null?t[p]:r.parse(y),g=ei(y,t,o)),l[p]=y==null||isNaN(y)?t[p]:y,s[p]=g==null||isNaN(g)?o[p]:g}),tW(l),tW(s);var c=this._minMaxSpan;u?f(l,s,t,o,!1):f(s,l,o,t,!0);function f(h,p,g,y,_){var x=_?"Span":"ValueSpan";wp(0,h,g,"all",c["min"+x],c["max"+x]);for(var M=0;M<2;M++)p[M]=ei(h[M],g,y,!0),_&&(p[M]=r.parse(p[M]))}return{valueWindow:l,percentWindow:s}},i.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=SDe(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var n=this._dimName,r=this.getTargetSeriesModels(),a=e.get("filterMode"),o=this._valueWindow;if(a==="none")return;E0(r,function(l){var u=l.getData(),c=u.mapDimensionsAll(n);if(c.length){if(a==="weakFilter"){var f=u.getStore(),h=Ge(c,function(p){return u.getDimensionIndex(p)},u);u.filterSelf(function(p){for(var g,y,_,x=0;x<c.length;x++){var M=f.get(h[x],p),T=!isNaN(M),C=M<o[0],E=M>o[1];if(T&&!C&&!E)return!0;T&&(_=!0),C&&(g=!0),E&&(y=!0)}return _&&g&&y})}else E0(c,function(p){if(a==="empty")l.setData(u=u.map(p,function(y){return s(y)?y:NaN}));else{var g={};g[p]=o,u.selectRange(g)}});E0(c,function(p){u.setApproximateExtent(o,p)})}});function s(l){return l>=o[0]&&l<=o[1]}},i.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;E0(["min","max"],function(r){var a=t.get(r+"Span"),o=t.get(r+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=ei(n[0]+o,n,[0,100],!0):a!=null&&(o=ei(a,[0,100],n,!0)-n[0]),e[r+"Span"]=a,e[r+"ValueSpan"]=o},this)},i.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var r=Dk(n,[0,500]);r=Math.min(r,20);var a=e.axis.scale.rawExtentInfo;t[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(r)),t[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(r)),a.freeze()}},i})();function SDe(i,e,t){var n=[1/0,-1/0];E0(t,function(o){U0e(n,o.getData(),e)});var r=i.getAxisModel(),a=gK(r.axis.scale,r,n).calculate();return[a.min,a.max]}var bDe={getTargetSeries:function(i){function e(r){i.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var l=i.getComponent(lp(o),s);r(o,s,l,a)})})}e(function(r,a,o,s){o.__dzAxisProxy=null});var t=[];e(function(r,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new xDe(r,a,s,i),t.push(o.__dzAxisProxy))});var n=St();return H(t,function(r){H(r.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(i,e){i.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(n,r){t.getAxisProxy(n,r).reset(t)}),t.eachTargetAxis(function(n,r){t.getAxisProxy(n,r).filterData(t,e)})}),i.eachComponent("dataZoom",function(t){var n=t.findRepresentativeAxisProxy();if(n){var r=n.getDataPercentWindow(),a=n.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:a[0],endValue:a[1]})}})}};function MDe(i){i.registerAction("dataZoom",function(e,t){var n=mDe(t,e);H(n,function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var nW=!1;function V2(i){nW||(nW=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,bDe),MDe(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function TDe(i){i.registerComponentModel(yDe),i.registerComponentView(_De),V2(i)}var Fl=(function(){function i(){}return i})(),yJ={};function D0(i,e){yJ[i]=e}function _J(i){return yJ[i]}var wDe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){i.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;H(this.option.feature,function(n,r){var a=_J(r);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),nn(n,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:ge.color.border,borderRadius:0,borderWidth:0,padding:ge.size.m,itemSize:15,itemGap:ge.size.s,showTitle:!0,iconStyle:{borderColor:ge.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:ge.color.accent50}},tooltip:{show:!1,position:"bottom"}},e})(mn);function xJ(i,e){var t=G_(e.get("padding")),n=e.getItemStyle(["color","opacity"]);n.fill=e.get("backgroundColor");var r=new dn({shape:{x:i.x-t[3],y:i.y-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1});return r}var ADe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,n,r,a){var o=this.group;if(o.removeAll(),!t.get("show"))return;var s=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},c=this._features||(this._features={}),f=[];H(u,function(M,T){f.push(T)}),new Ph(this._featureNames||[],f).add(h).update(h).remove(Qt(h,null)).execute(),this._featureNames=f;function h(M,T){var C=f[M],E=f[T],D=u[C],L=new Sn(D,t,t.ecModel),z;if(a&&a.newTitle!=null&&a.featureName===C&&(D.title=a.newTitle),C&&!E){if(CDe(C))z={onclick:L.option.onclick,featureName:C};else{var P=_J(C);if(!P)return;z=new P}c[C]=z}else if(z=c[E],!z)return;z.uid=V_("toolbox-feature"),z.model=L,z.ecModel=n,z.api=r;var N=z instanceof Fl;if(!C&&E){N&&z.dispose&&z.dispose(n,r);return}if(!L.get("show")||N&&z.unusable){N&&z.remove&&z.remove(n,r);return}p(L,z,C),L.setIconStatus=function(B,G){var U=this.option,X=this.iconPaths;U.iconStatus=U.iconStatus||{},U.iconStatus[B]=G,X[B]&&(G==="emphasis"?Lh:Ih)(X[B])},z instanceof Fl&&z.render&&z.render(L,n,r,a)}function p(M,T,C){var E=M.getModel("iconStyle"),D=M.getModel(["emphasis","iconStyle"]),L=T instanceof Fl&&T.getIcons?T.getIcons():M.get("icon"),z=M.get("title")||{},P,N;rt(L)?(P={},P[C]=L):P=L,rt(z)?(N={},N[C]=z):N=z;var B=M.iconPaths={};H(P,function(G,U){var X=U_(G,{},{x:-s/2,y:-s/2,width:s,height:s});X.setStyle(E.getItemStyle());var q=X.ensureState("emphasis");q.style=D.getItemStyle();var V=new In({style:{text:N[U],align:D.get("textAlign"),borderRadius:D.get("textBorderRadius"),padding:D.get("textPadding"),fill:null,font:Qk({fontStyle:D.get("textFontStyle"),fontFamily:D.get("textFontFamily"),fontSize:D.get("textFontSize"),fontWeight:D.get("textFontWeight")},n)},ignore:!0});X.setTextContent(V),Uh({el:X,componentModel:t,itemName:U,formatterParamsExtra:{title:N[U]}}),X.__title=N[U],X.on("mouseover",function(){var j=D.getItemStyle(),K=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";V.setStyle({fill:D.get("textFill")||j.fill||j.stroke||ge.color.neutral99,backgroundColor:D.get("textBackgroundColor")}),X.setTextConfig({position:D.get("textPosition")||K}),V.ignore=!t.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){M.get(["iconStatus",U])!=="emphasis"&&r.leaveEmphasis(this),V.hide()}),(M.get(["iconStatus",U])==="emphasis"?Lh:Ih)(X),o.add(X),X.on("click",at(T.onclick,T,n,r,U)),B[U]=X})}var g=ca(t,r).refContainer,y=t.getBoxLayoutParams(),_=t.get("padding"),x=Ui(y,g,_);Vg(t.get("orient"),o,t.get("itemGap"),x.width,x.height),tL(o,y,g,_),o.add(xJ(o.getBoundingRect(),t)),l||o.eachChild(function(M){var T=M.__title,C=M.ensureState("emphasis"),E=C.textConfig||(C.textConfig={}),D=M.getTextContent(),L=D&&D.ensureState("emphasis");if(L&&!Ct(L)&&T){var z=L.style||(L.style={}),P=VR(T,In.makeFont(z)),N=M.x+o.x,B=M.y+o.y+s,G=!1;B+P.height>r.getHeight()&&(E.position="top",G=!0);var U=G?-5-P.height:s+10;N+P.width/2>r.getWidth()?(E.position=["100%",U],z.align="right"):N-P.width/2<0&&(E.position=[0,U],z.align="left")}})},e.prototype.updateView=function(t,n,r,a){H(this._features,function(o){o instanceof Fl&&o.updateView&&o.updateView(o.model,n,r,a)})},e.prototype.remove=function(t,n){H(this._features,function(r){r instanceof Fl&&r.remove&&r.remove(t,n)}),this.group.removeAll()},e.prototype.dispose=function(t,n){H(this._features,function(r){r instanceof Fl&&r.dispose&&r.dispose(t,n)})},e.type="toolbox",e})(Ti);function CDe(i){return i.indexOf("my")===0}var EDe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){var r=this.model,a=r.get("name")||t.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",s=o?"svg":r.get("type",!0)||"png",l=n.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||ge.color.neutral00,connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),u=Tn.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+s,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var h=l.split(","),p=h[0].indexOf("base64")>-1,g=o?decodeURIComponent(h[1]):h[1];p&&(g=window.atob(g));var y=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var _=g.length,x=new Uint8Array(_);_--;)x[_]=g.charCodeAt(_);var M=new Blob([x]);window.navigator.msSaveOrOpenBlob(M,y)}else{var T=document.createElement("iframe");document.body.appendChild(T);var C=T.contentWindow,E=C.document;E.open("image/svg+xml","replace"),E.write(g),E.close(),C.focus(),E.execCommand("SaveAs",!0,y),document.body.removeChild(T)}}else{var D=r.get("lang"),L='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(D&&D[0]||"")+'" /></body>',z=window.open();z.document.write(L),z.document.title=a}},e.getDefaultOption=function(t){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:ge.color.neutral00,name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},e})(Fl),iW="__ec_magicType_stack__",DDe=[["line","bar"],["stack"]],RDe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,n=t.get("icon"),r={};return H(t.get("type"),function(a){n[a]&&(r[a]=n[a])}),r},e.getDefaultOption=function(t){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},e.prototype.onclick=function(t,n,r){var a=this.model,o=a.get(["seriesIndex",r]);if(rW[r]){var s={series:[]},l=function(f){var h=f.subType,p=f.id,g=rW[r](h,p,f,a);g&&(Ot(g,f.option),s.series.push(g));var y=f.coordinateSystem;if(y&&y.type==="cartesian2d"&&(r==="line"||r==="bar")){var _=y.getAxesByScale("ordinal")[0];if(_){var x=_.dim,M=x+"Axis",T=f.getReferringComponents(M,lr).models[0],C=T.componentIndex;s[M]=s[M]||[];for(var E=0;E<=C;E++)s[M][C]=s[M][C]||{};s[M][C].boundaryGap=r==="bar"}}};H(DDe,function(f){en(f,r)>=0&&H(f,function(h){a.setIconStatus(h,"normal")})}),a.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=r;r==="stack"&&(u=nn({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",r])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},e})(Fl),rW={line:function(i,e,t,n){if(i==="bar")return nn({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(i,e,t,n){if(i==="line")return nn({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(i,e,t,n){var r=t.get("stack")===iW;if(i==="line"||i==="bar")return n.setIconStatus("stack",r?"normal":"emphasis"),nn({id:e,stack:r?"":iW},n.get(["option","stack"])||{},!0)}};Ku({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,e){e.mergeOption(i.newOption)});var yL=new Array(60).join("-"),w_="	";function LDe(i){var e={},t=[],n=[];return i.eachRawSeries(function(r){var a=r.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(r)}else t.push(r)}else t.push(r)}),{seriesGroupByCategoryAxis:e,other:t,meta:n}}function IDe(i){var e=[];return H(i,function(t,n){var r=t.categoryAxis,a=t.valueAxis,o=a.dim,s=[" "].concat(Ge(t.series,function(p){return p.name})),l=[r.model.getCategories()];H(t.series,function(p){var g=p.getRawData();l.push(p.getRawData().mapArray(g.mapDimension(o),function(y){return y}))});for(var u=[s.join(w_)],c=0;c<l[0].length;c++){for(var f=[],h=0;h<l.length;h++)f.push(l[h][c]);u.push(f.join(w_))}e.push(u.join(`
`))}),e.join(`

`+yL+`

`)}function PDe(i){return Ge(i,function(e){var t=e.getRawData(),n=[e.name],r=[];return t.each(t.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=t.getName(o),l=0;l<a-1;l++)r[l]=arguments[l];n.push((s?s+w_:"")+r.join(w_))}),n.join(`
`)}).join(`

`+yL+`

`)}function NDe(i){var e=LDe(i);return{value:Kn([IDe(e.seriesGroupByCategoryAxis),PDe(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+yL+`

`),meta:e.meta}}function UD(i){return i.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ODe(i){var e=i.slice(0,i.indexOf(`
`));if(e.indexOf(w_)>=0)return!0}var iB=new RegExp("["+w_+"]+","g");function zDe(i){for(var e=i.split(/\n+/g),t=UD(e.shift()).split(iB),n=[],r=Ge(t,function(l){return{name:l,data:[]}}),a=0;a<e.length;a++){var o=UD(e[a]).split(iB);n.push(o.shift());for(var s=0;s<o.length;s++)r[s]&&(r[s].data[a]=o[s])}return{series:r,categories:n}}function BDe(i){for(var e=i.split(/\n+/g),t=UD(e.shift()),n=[],r=0;r<e.length;r++){var a=UD(e[r]);if(a){var o=a.split(iB),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),n[r]={name:s,value:[]},l=n[r].value):l=n[r]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?n[r].value=l[0]:n[r]=l[0])}}return{name:t,data:n}}function kDe(i,e){var t=i.split(new RegExp(`
*`+yL+`
*`,"g")),n={series:[]};return H(t,function(r,a){if(ODe(r)){var o=zDe(r),s=e[a],l=s.axisDim+"Axis";s&&(n[l]=n[l]||[],n[l][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=BDe(r);n.series.push(o)}}),n}var UDe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var r=n.getDom(),a=this.model;this._dom&&r.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||ge.color.neutral00;var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),h=a.get("contentToOption"),p=NDe(t);if(Ct(f)){var g=f(n.getOption());rt(g)?u.innerHTML=g:Jg(g)&&u.appendChild(g)}else{c.readOnly=a.get("readOnly");var y=c.style;y.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",y.color=a.get("textColor"),y.borderColor=a.get("textareaBorderColor"),y.backgroundColor=a.get("textareaColor"),c.value=p.value,u.appendChild(c)}var _=p.meta,x=document.createElement("div");x.style.cssText="position:absolute;bottom:5px;left:0;right:0";var M="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",T=document.createElement("div"),C=document.createElement("div");M+=";background-color:"+a.get("buttonColor"),M+=";color:"+a.get("buttonTextColor");var E=this;function D(){r.removeChild(o),E._dom=null}dO(T,"click",D),dO(C,"click",function(){if(h==null&&f!=null||h!=null&&f==null){D();return}var L;try{Ct(h)?L=h(u,n.getOption()):L=kDe(c.value,_)}catch(z){throw D(),new Error("Data view format error "+z)}L&&n.dispatchAction({type:"changeDataView",newOption:L}),D()}),T.innerHTML=l[1],C.innerHTML=l[2],C.style.cssText=T.style.cssText=M,!a.get("readOnly")&&x.appendChild(C),x.appendChild(T),o.appendChild(s),o.appendChild(u),o.appendChild(x),u.style.height=r.clientHeight-80+"px",r.appendChild(o),this._dom=o},e.prototype.remove=function(t,n){this._dom&&n.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.getDefaultOption=function(t){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:ge.color.background,textColor:ge.color.primary,textareaColor:ge.color.background,textareaBorderColor:ge.color.border,buttonColor:ge.color.accent50,buttonTextColor:ge.color.neutral00};return n},e})(Fl);function FDe(i,e){return Ge(i,function(t,n){var r=e&&e[n];if(zt(r)&&!ze(r)){var a=zt(t)&&!ze(t);a||(t={value:t});var o=r.name!=null&&t.name==null;return t=Ot(t,r),o&&delete t.name,t}else return t})}Ku({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(i,e){var t=[];H(i.newOption.series,function(n){var r=e.getSeriesByName(n.name)[0];if(!r)t.push(Ce({type:"scatter"},n));else{var a=r.get("data");t.push({name:n.name,data:FDe(n.data,a)})}}),e.mergeOption(Ot({series:t},i.newOption))});var SJ=H,bJ=yn();function VDe(i,e){var t=G2(i);SJ(e,function(n,r){for(var a=t.length-1;a>=0;a--){var o=t[a];if(o[r])break}if(a<0){var s=i.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var l=s.getPercentRange();t[0][r]={dataZoomId:r,start:l[0],end:l[1]}}}}),t.push(e)}function GDe(i){var e=G2(i),t=e[e.length-1];e.length>1&&e.pop();var n={};return SJ(t,function(r,a){for(var o=e.length-1;o>=0;o--)if(r=e[o][a],r){n[a]=r;break}}),n}function HDe(i){bJ(i).snapshots=null}function WDe(i){return G2(i).length}function G2(i){var e=bJ(i);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var XDe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){HDe(t),n.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return n},e})(Fl);Ku({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,e){e.resetOption("recreate")});var YDe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],H2=(function(){function i(e,t,n){var r=this;this._targetInfoList=[];var a=aW(t,e);H(qDe,function(o,s){(!n||!n.include||en(n.include,s)>=0)&&o(a,r._targetInfoList)})}return i.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(n,r,a){if((n.coordRanges||(n.coordRanges=[])).push(r),!n.coordRange){n.coordRange=r;var o=_N[n.brushType](0,a,r);n.__rangeOffset={offset:uW[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},i.prototype.matchOutputRanges=function(e,t,n){H(e,function(r){var a=this.findTargetInfo(r,t);a&&a!==!0&&H(a.coordSyses,function(o){var s=_N[r.brushType](1,o,r.range,!0);n(r,s.values,o,t)})},this)},i.prototype.setInputRanges=function(e,t){H(e,function(n){var r=this.findTargetInfo(n,t);if(n.range=n.range||[],r&&r!==!0){n.panelId=r.panelId;var a=_N[n.brushType](0,r.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?uW[n.brushType](a.values,o.offset,ZDe(a.xyMinMax,o.xyMinMax)):a.values}},this)},i.prototype.makePanelOpts=function(e,t){return Ge(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:CQ(r),isTargetByCursor:DQ(r,e,n.coordSysModel),getLinearBrushOtherExtent:EQ(r)}})},i.prototype.controlSeries=function(e,t,n){var r=this.findTargetInfo(e,n);return r===!0||r&&en(r.coordSyses,t.coordinateSystem)>=0},i.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,r=aW(t,e),a=0;a<n.length;a++){var o=n[a],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<oW.length;l++)if(oW[l](r,o))return o}return!0},i})();function rB(i){return i[0]>i[1]&&i.reverse(),i}function aW(i,e){return X0(i,e,{includeMainTypes:YDe})}var qDe={grid:function(i,e){var t=i.xAxisModels,n=i.yAxisModels,r=i.gridModels,a=St(),o={},s={};!t&&!n&&!r||(H(t,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),H(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),H(r,function(l){a.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];H(u.getCartesians(),function(f,h){(en(t,f.getAxis("x").model)>=0||en(n,f.getAxis("y").model)>=0)&&c.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:sW.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(i,e){H(i.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:sW.geo})})}},oW=[function(i,e){var t=i.xAxisModel,n=i.yAxisModel,r=i.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&n&&(r=n.axis.grid.model),r&&r===e.gridModel},function(i,e){var t=i.geoModel;return t&&t===e.geoModel}],sW={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var i=this.coordSys,e=i.getBoundingRect().clone();return e.applyTransform(pp(i)),e}},_N={lineX:Qt(lW,0),lineY:Qt(lW,1),rect:function(i,e,t,n){var r=i?e.pointToData([t[0][0],t[1][0]],n):e.dataToPoint([t[0][0],t[1][0]],n),a=i?e.pointToData([t[0][1],t[1][1]],n):e.dataToPoint([t[0][1],t[1][1]],n),o=[rB([r[0],a[0]]),rB([r[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(i,e,t,n){var r=[[1/0,-1/0],[1/0,-1/0]],a=Ge(t,function(o){var s=i?e.pointToData(o,n):e.dataToPoint(o,n);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s});return{values:a,xyMinMax:r}}};function lW(i,e,t,n){var r=t.getAxis(["x","y"][i]),a=rB(Ge([0,1],function(s){return e?r.coordToData(r.toLocalCoord(n[s]),!0):r.toGlobalCoord(r.dataToCoord(n[s]))})),o=[];return o[i]=a,o[1-i]=[NaN,NaN],{values:a,xyMinMax:o}}var uW={lineX:Qt(cW,0),lineY:Qt(cW,1),rect:function(i,e,t){return[[i[0][0]-t[0]*e[0][0],i[0][1]-t[0]*e[0][1]],[i[1][0]-t[1]*e[1][0],i[1][1]-t[1]*e[1][1]]]},polygon:function(i,e,t){return Ge(i,function(n,r){return[n[0]-t[0]*e[r][0],n[1]-t[1]*e[r][1]]})}};function cW(i,e,t,n){return[e[0]-n[i]*t[0],e[1]-n[i]*t[1]]}function ZDe(i,e){var t=fW(i),n=fW(e),r=[t[0]/n[0],t[1]/n[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}function fW(i){return i?[i[0][1]-i[0][0],i[1][1]-i[1][0]]:[NaN,NaN]}var aB=H,jDe=Rde("toolbox-dataZoom_"),KDe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,n,r,a){this._brushController||(this._brushController=new p2(r.getZr()),this._brushController.on("brush",at(this._onBrush,this)).mount()),JDe(t,n,this,a,r),QDe(t,n)},e.prototype.onclick=function(t,n,r){$De[r].call(this)},e.prototype.remove=function(t,n){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,n){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var n=t.areas;if(!t.isEnd||!n.length)return;var r={},a=this.ecModel;this._brushController.updateCovers([]);var o=new H2(W2(this.model),a,{include:["grid"]});o.matchOutputRanges(n,a,function(u,c,f){if(f.type==="cartesian2d"){var h=u.brushType;h==="rect"?(s("x",f,c[0]),s("y",f,c[1])):s({lineX:"x",lineY:"y"}[h],f,c)}}),VDe(a,r),this._dispatchZoomAction(r);function s(u,c,f){var h=c.getAxis(u),p=h.model,g=l(u,p,a),y=g.findRepresentativeAxisProxy(p).getMinMaxSpan();(y.minValueSpan!=null||y.maxValueSpan!=null)&&(f=wp(0,f.slice(),h.scale.getExtent(),0,y.minValueSpan,y.maxValueSpan)),g&&(r[g.id]={dataZoomId:g.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var h;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(p){var g=p.getAxisModel(u,c.componentIndex);g&&(h=p)}),h}},e.prototype._dispatchZoomAction=function(t){var n=[];aB(t,function(r,a){n.push(Lt(r))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},e.getDefaultOption=function(t){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:ge.color.backgroundTint}};return n},e})(Fl),$De={zoom:function(){var i=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:i})},back:function(){this._dispatchZoomAction(GDe(this.ecModel))}};function W2(i){var e={xAxisIndex:i.get("xAxisIndex",!0),yAxisIndex:i.get("yAxisIndex",!0),xAxisId:i.get("xAxisId",!0),yAxisId:i.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function QDe(i,e){i.setIconStatus("back",WDe(e)>1?"emphasis":"normal")}function JDe(i,e,t,n,r){var a=t._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),t._isZoomActive=a,i.setIconStatus("zoom",a?"emphasis":"normal");var o=new H2(W2(i),e,{include:["grid"]}),s=o.makePanelOpts(r,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:i.getModel("brushStyle").getItemStyle()}:!1)}fge("dataZoom",function(i){var e=i.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var n=e.getModel(t),r=[],a=W2(n),o=X0(i,a);aB(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),aB(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var f=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:jDe+u+f};h[c]=f,r.push(h)}return r});function eRe(i){i.registerComponentModel(wDe),i.registerComponentView(ADe),D0("saveAsImage",EDe),D0("magicType",RDe),D0("dataView",UDe),D0("dataZoom",KDe),D0("restore",XDe),sn(TDe)}var tRe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:ge.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:ge.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:ge.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:ge.color.tertiary,fontSize:14}},e})(mn);function MJ(i){var e=i.get("confine");return e!=null?!!e:i.get("renderMode")==="richText"}function TJ(i){if(Tn.domSupported){for(var e=document.documentElement.style,t=0,n=i.length;t<n;t++)if(i[t]in e)return i[t]}}var wJ=TJ(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),nRe=TJ(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function AJ(i,e){if(!i)return e;e=fU(e,!0);var t=i.indexOf(e);return i=t===-1?e:"-"+i.slice(0,t)+"-"+e,i.toLowerCase()}function iRe(i,e){var t=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return t?t[e]:null}var rRe=AJ(nRe,"transition"),X2=AJ(wJ,"transform"),aRe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Tn.transform3dSupported?"will-change:transform;":"");function oRe(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function sRe(i,e,t){if(!rt(t)||t==="inside")return"";var n=i.get("backgroundColor"),r=i.get("borderWidth");e=om(e);var a=oRe(t),o=Math.max(Math.round(r)*1.5,6),s="",l=X2+":",u;en(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+r,h=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),p=Math.round(((h-Math.SQRT2*r)/2+Math.SQRT2*r-(h-f)/2)*100)/100;s+=";"+a+":-"+p+"px";var g=e+" solid "+r+"px;",y=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+n+";"];return'<div style="'+y.join("")+'"></div>'}function lRe(i,e,t){var n="cubic-bezier(0.23,1,0.32,1)",r="",a="";return t&&(r=" "+i/2+"s "+n,a="opacity"+r+",visibility"+r),e||(r=" "+i+"s "+n,a+=(a.length?",":"")+(Tn.transformSupported?""+X2+r:",left"+r+",top"+r)),rRe+":"+a}function hW(i,e,t){var n=i.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!Tn.transformSupported)return t?"top:"+r+";left:"+n+";":[["top",r],["left",n]];var a=Tn.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+r+(a?",0":"")+")";return t?"top:0;left:0;"+X2+":"+o+";":[["top",0],["left",0],[wJ,o]]}function uRe(i){var e=[],t=i.get("fontSize"),n=i.getTextColor();n&&e.push("color:"+n),e.push("font:"+i.getFont());var r=bt(i.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+r+"px");var a=i.get("textShadowColor"),o=i.get("textShadowBlur")||0,s=i.get("textShadowOffsetX")||0,l=i.get("textShadowOffsetY")||0;return a&&o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+a),H(["decoration","align"],function(u){var c=i.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}function cRe(i,e,t,n){var r=[],a=i.get("transitionDuration"),o=i.get("backgroundColor"),s=i.get("shadowBlur"),l=i.get("shadowColor"),u=i.get("shadowOffsetX"),c=i.get("shadowOffsetY"),f=i.getModel("textStyle"),h=pj(i,"html"),p=u+"px "+c+"px "+s+"px "+l;return r.push("box-shadow:"+p),e&&a>0&&r.push(lRe(a,t,n)),o&&r.push("background-color:"+o),H(["width","color","radius"],function(g){var y="border-"+g,_=fU(y),x=i.get(_);x!=null&&r.push(y+":"+x+(g==="color"?"":"px"))}),r.push(uRe(f)),h!=null&&r.push("padding:"+G_(h).join("px ")+"px"),r.join(";")+";"}function dW(i,e,t,n,r){var a=e&&e.painter;if(t){var o=a&&a.getViewportRoot();o&&jfe(i,o,t,n,r)}else{i[0]=n,i[1]=r;var s=a&&a.getViewportRootOffset();s&&(i[0]+=s.offsetLeft,i[1]+=s.offsetTop)}i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var fRe=(function(){function i(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Tn.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var r=this._zr=e.getZr(),a=t.appendTo,o=a&&(rt(a)?document.querySelector(a):Jg(a)?a:Ct(a)&&a(e.getDom()));dW(this._styleCoord,r,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(n),this._api=e,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=r.handler,c=r.painter.getViewportRoot();Ol(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return i.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),n=iRe(t,"position"),r=t.style;r.position!=="absolute"&&n!=="absolute"&&(r.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},i.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,a=this._styleCoord;n.innerHTML?r.cssText=aRe+cRe(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+hW(a[0],a[1],!0)+("border-color:"+om(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(e,t,n,r,a){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(rt(a)&&n.get("trigger")==="item"&&!MJ(n)&&(s=sRe(n,r,a)),rt(e))o.innerHTML=e+s;else if(e){o.innerHTML="",ze(e)||(e=[e]);for(var l=0;l<e.length;l++)Jg(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},i.prototype.moveTo=function(e,t){if(this.el){var n=this._styleCoord;if(dW(n,this._zr,this._container,e,t),n[0]!=null&&n[1]!=null){var r=this.el.style,a=hW(n[0],n[1]);H(a,function(o){r[o[0]]=o[1]})}}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){var e=this,t=this.el.style;this._enableDisplayTransition?(t.visibility="hidden",t.opacity="0"):t.display="none",Tn.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(at(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;Kfe(e&&e.painter&&e.painter.getViewportRoot(),this._container);var t=this.el;if(t){t.onmouseenter=t.onmousemove=t.onmouseleave=null;var n=t.parentNode;n&&n.removeChild(t)}this.el=this._container=null},i})(),hRe=(function(){function i(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),vW(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return i.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(e,t,n,r,a){var o=this;zt(e)&&ti(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new In({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:pj(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),H(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=n.get(u)}),H(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=pW(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},i.prototype.moveTo=function(e,t){var n=this.el;if(n){var r=this._styleCoord;vW(r,this._zr,e,t),e=r[0],t=r[1];var a=n.style,o=qd(a.borderWidth||0),s=pW(a);n.x=e+o+s.left,n.y=t+o+s.top,n.markRedraw()}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(at(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i})();function qd(i){return Math.max(0,i)}function pW(i){var e=qd(i.shadowBlur||0),t=qd(i.shadowOffsetX||0),n=qd(i.shadowOffsetY||0);return{left:qd(e-t),right:qd(e+t),top:qd(e-n),bottom:qd(e+n)}}function vW(i,e,t,n){i[0]=t,i[1]=n,i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var dRe=new dn({shape:{x:-1,y:-1,width:2,height:2}}),pRe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){if(!(Tn.node||!n.getDom())){var r=t.getComponent("tooltip"),a=this._renderMode=Bde(r.get("renderMode"));this._tooltipContent=a==="richText"?new hRe(n):new fRe(n,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},e.prototype.render=function(t,n,r){if(!(Tn.node||!r.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=n,this._api=r;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?X_(this,"_updatePosition",50,"fixRate"):R1(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,n=t.get("triggerOn");sJ("itemTooltip",this._api,at(function(r,a,o){n!=="none"&&(n.indexOf(r)>=0?this._tryShow(a,o):r==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,n=this._ecModel,r=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&o.manuallyShowTip(t,n,r,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,n,r,a){if(!(a.from===this.uid||Tn.node||!r.getDom())){var o=gW(a,r);this._ticket="";var s=a.dataByCoordSys,l=yRe(a,n,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=dRe;c.x=a.x,c.y=a.y,c.update(),Ht(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,n,r,a))return;var f=lJ(a,n),h=f.point[0],p=f.point[1];h!=null&&p!=null&&this._tryShow({offsetX:h,offsetY:p,target:f.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:r.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(t,n,r,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(gW(a,r))},e.prototype._manuallyAxisShowTip=function(t,n,r,a){var o=a.seriesIndex,s=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=n.getSeriesByIndex(o);if(u){var c=u.getData(),f=db([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(t,n){var r=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(r){var s=Ht(r);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Ig(r,function(c){if(c.tooltipDisabled)return l=u=null,!0;l||u||(Ht(c).dataIndex!=null?l=c:Ht(c).tooltipConfig!=null&&(u=c))},!0),l?this._showSeriesItemTooltip(t,l,n):u?this._showComponentItemTooltip(t,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(t,n){var r=t.get("showDelay");n=at(n,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(n,r):n()},e.prototype._showAxisTooltip=function(t,n){var r=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],s=db([n.tooltipOption],a),l=this._renderMode,u=[],c=Kr("section",{blocks:[],noHeader:!0}),f=[],h=new e3;H(t,function(M){H(M.dataByAxis,function(T){var C=r.getComponent(T.axisDim+"Axis",T.axisIndex),E=T.value;if(!(!C||E==null)){var D=rJ(E,C.axis,r,T.seriesDataIndices,T.valueLabelOpt),L=Kr("section",{header:D,noHeader:!Zs(D),sortBlocks:!0,blocks:[]});c.blocks.push(L),H(T.seriesDataIndices,function(z){var P=r.getSeriesByIndex(z.seriesIndex),N=z.dataIndexInside,B=P.getDataParams(N);if(!(B.dataIndex<0)){B.axisDim=T.axisDim,B.axisIndex=T.axisIndex,B.axisType=T.axisType,B.axisId=T.axisId,B.axisValue=gD(C.axis,{value:E}),B.axisValueLabel=D,B.marker=h.makeTooltipMarker("item",om(B.color),l);var G=IG(P.formatTooltip(N,!0,null)),U=G.frag;if(U){var X=db([P],a).get("valueFormatter");L.blocks.push(X?Ce({valueFormatter:X},U):U)}G.text&&f.push(G.text),u.push(B)}})}})}),c.blocks.reverse(),f.reverse();var p=n.position,g=s.get("order"),y=kG(c,h,l,g,r.get("useUTC"),s.get("textStyle"));y&&f.unshift(y);var _=l==="richText"?`

`:"<br/>",x=f.join(_);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,p,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,x,u,Math.random()+"",o[0],o[1],p,null,h)})},e.prototype._showSeriesItemTooltip=function(t,n,r){var a=this._ecModel,o=Ht(n),s=o.seriesIndex,l=a.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,h=u.getData(f),p=this._renderMode,g=t.positionDefault,y=db([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),_=y.get("trigger");if(!(_!=null&&_!=="item")){var x=u.getDataParams(c,f),M=new e3;x.marker=M.makeTooltipMarker("item",om(x.color),p);var T=IG(u.formatTooltip(c,!1,f)),C=y.get("order"),E=y.get("valueFormatter"),D=T.frag,L=D?kG(E?Ce({valueFormatter:E},D):D,M,p,C,a.get("useUTC"),y.get("textStyle")):T.text,z="item_"+u.name+"_"+c;this._showOrMove(y,function(){this._showTooltipContent(y,L,x,z,t.offsetX,t.offsetY,t.position,t.target,M)}),r({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,n,r){var a=this._renderMode==="html",o=Ht(n),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(rt(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=Lt(l),l.content=Mo(l.content));var f=[l],h=this._ecModel.getComponent(o.componentMainType,o.componentIndex);h&&f.push(h),f.push({formatter:l.content});var p=t.positionDefault,g=db(f,this._tooltipModel,p?{position:p}:null),y=g.get("content"),_=Math.random()+"",x=new e3;this._showOrMove(g,function(){var M=Lt(g.get("formatterParams")||{});this._showTooltipContent(g,y,M,_,t.offsetX,t.offsetY,t.position,n,x)}),r({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,n,r,a,o,s,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var f=this._tooltipContent;f.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var p=n,g=this._getNearestPoint([o,s],r,t.get("trigger"),t.get("borderColor"),t.get("defaultBorderColor",!0)),y=g.color;if(h)if(rt(h)){var _=t.ecModel.get("useUTC"),x=ze(r)?r[0]:r,M=x&&x.axisType&&x.axisType.indexOf("time")>=0;p=h,M&&(p=mM(x.axisValue,p,_)),p=hU(p,r,!0)}else if(Ct(h)){var T=at(function(C,E){C===this._ticket&&(f.setContent(E,c,t,y,l),this._updatePosition(t,l,o,s,f,r,u))},this);this._ticket=a,p=h(r,a,T)}else p=h;f.setContent(p,c,t,y,l),f.show(t,y),this._updatePosition(t,l,o,s,f,r,u)}},e.prototype._getNearestPoint=function(t,n,r,a,o){if(r==="axis"||ze(n))return{color:a||o};if(!ze(n))return{color:a||n.color||n.borderColor}},e.prototype._updatePosition=function(t,n,r,a,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||t.get("position");var f=o.getSize(),h=t.get("align"),p=t.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),Ct(n)&&(n=n([r,a],s,o.el,g,{viewSize:[u,c],contentSize:f.slice()})),ze(n))r=it(n[0],u),a=it(n[1],c);else if(zt(n)){var y=n;y.width=f[0],y.height=f[1];var _=Ui(y,{width:u,height:c});r=_.x,a=_.y,h=null,p=null}else if(rt(n)&&l){var x=mRe(n,g,f,t.get("borderWidth"));r=x[0],a=x[1]}else{var x=vRe(r,a,o,u,c,h?null:20,p?null:20);r=x[0],a=x[1]}if(h&&(r-=mW(h)?f[0]/2:h==="right"?f[0]:0),p&&(a-=mW(p)?f[1]/2:p==="bottom"?f[1]:0),MJ(t)){var x=gRe(r,a,o,u,c);r=x[0],a=x[1]}o.moveTo(r,a)},e.prototype._updateContentNotChangedOnAxis=function(t,n){var r=this._lastDataByCoordSys,a=this._cbParamsList,o=!!r&&r.length===t.length;return o&&H(r,function(s,l){var u=s.dataByAxis||[],c=t[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&H(u,function(h,p){var g=f[p]||{},y=h.seriesDataIndices||[],_=g.seriesDataIndices||[];o=o&&h.value===g.value&&h.axisType===g.axisType&&h.axisId===g.axisId&&y.length===_.length,o&&H(y,function(x,M){var T=_[M];o=o&&x.seriesIndex===T.seriesIndex&&x.dataIndex===T.dataIndex}),a&&H(h.seriesDataIndices,function(x){var M=x.seriesIndex,T=n[M],C=a[M];T&&C&&C.data!==T.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=n,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,n){Tn.node||!n.getDom()||(R1(this,"_updatePosition"),this._tooltipContent.dispose(),$z("itemTooltip",n))},e.type="tooltip",e})(Ti);function db(i,e,t){var n=e.ecModel,r;t?(r=new Sn(t,n,n),r=new Sn(e.option,r,n)):r=e;for(var a=i.length-1;a>=0;a--){var o=i[a];o&&(o instanceof Sn&&(o=o.get("tooltip",!0)),rt(o)&&(o={formatter:o}),o&&(r=new Sn(o,r,n)))}return r}function gW(i,e){return i.dispatchAction||at(e.dispatchAction,e)}function vRe(i,e,t,n,r,a,o){var s=t.getSize(),l=s[0],u=s[1];return a!=null&&(i+l+a+2>n?i-=l+a:i+=a),o!=null&&(e+u+o>r?e-=u+o:e+=o),[i,e]}function gRe(i,e,t,n,r){var a=t.getSize(),o=a[0],s=a[1];return i=Math.min(i+o,n)-o,e=Math.min(e+s,r)-s,i=Math.max(i,0),e=Math.max(e,0),[i,e]}function mRe(i,e,t,n){var r=t[0],a=t[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,u=e.width,c=e.height;switch(i){case"inside":s=e.x+u/2-r/2,l=e.y+c/2-a/2;break;case"top":s=e.x+u/2-r/2,l=e.y-a-o;break;case"bottom":s=e.x+u/2-r/2,l=e.y+c+o;break;case"left":s=e.x-r-o,l=e.y+c/2-a/2;break;case"right":s=e.x+u+o,l=e.y+c/2-a/2}return[s,l]}function mW(i){return i==="center"||i==="middle"}function yRe(i,e,t){var n=Nk(i).queryOptionMap,r=n.keys()[0];if(!(!r||r==="series")){var a=N_(e,r,n.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=t.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=Ht(u).tooltipConfig;if(c&&c.name===i.name)return l=u,!0}),l)return{componentMainType:r,componentIndex:o.componentIndex,el:l}}}}function _Re(i){sn(AM),i.registerComponentModel(tRe),i.registerComponentView(pRe),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},_r),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},_r)}var xRe=["rect","polygon","keep","clear"];function SRe(i,e){var t=Mi(i?i.brush:[]);if(t.length){var n=[];H(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var r=i&&i.toolbox;ze(r)&&(r=r[0]),r||(r={feature:{}},i.toolbox=[r]);var a=r.feature||(r.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,n),bRe(s),e&&!s.length&&s.push.apply(s,xRe)}}function bRe(i){var e={};H(i,function(t){e[t]=1}),i.length=0,H(e,function(t,n){i.push(n)})}var yW=H;function _W(i){if(i){for(var e in i)if(i.hasOwnProperty(e))return!0}}function oB(i,e,t){var n={};return yW(e,function(a){var o=n[a]=r();yW(i[a],function(s,l){if(xa.isValidType(l)){var u={type:l,visual:s};t&&t(u,a),o[l]=new xa(u),l==="opacity"&&(u=Lt(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new xa(u))}})}),n;function r(){var a=function(){};a.prototype.__hidden=a.prototype;var o=new a;return o}}function CJ(i,e,t){var n;H(t,function(r){e.hasOwnProperty(r)&&_W(e[r])&&(n=!0)}),n&&H(t,function(r){e.hasOwnProperty(r)&&_W(e[r])?i[r]=Lt(e[r]):delete i[r]})}function MRe(i,e,t,n,r,a){var o={};H(i,function(f){var h=xa.prepareVisualTypes(e[f]);o[f]=h});var s;function l(f){return bU(t,s,f)}function u(f,h){Tj(t,s,f,h)}t.each(c);function c(f,h){s=f;var p=t.getRawDataItem(s);if(!(p&&p.visualMap===!1))for(var g=n.call(r,f),y=e[g],_=o[g],x=0,M=_.length;x<M;x++){var T=_[x];y[T]&&y[T].applyVisual(f,l,u)}}}function TRe(i,e,t,n){var r={};return H(i,function(a){var o=xa.prepareVisualTypes(e[a]);r[a]=o}),{progress:function(o,s){var l;n!=null&&(l=s.getDimensionIndex(n));function u(E){return bU(s,f,E)}function c(E,D){Tj(s,f,E,D)}for(var f,h=s.getStore();(f=o.next())!=null;){var p=s.getRawDataItem(f);if(!(p&&p.visualMap===!1))for(var g=n!=null?h.get(l,f):f,y=t(g),_=e[y],x=r[y],M=0,T=x.length;M<T;M++){var C=x[M];_[C]&&_[C].applyVisual(g,u,c)}}}}}function wRe(i){var e=i.brushType,t={point:function(n){return xW[e].point(n,t,i)},rect:function(n){return xW[e].rect(n,t,i)}};return t}var xW={lineX:SW(0),lineY:SW(1),rect:{point:function(i,e,t){return i&&t.boundingRect.contain(i[0],i[1])},rect:function(i,e,t){return i&&t.boundingRect.intersect(i)}},polygon:{point:function(i,e,t){return i&&t.boundingRect.contain(i[0],i[1])&&_g(t.range,i[0],i[1])},rect:function(i,e,t){var n=t.range;if(!i||n.length<=1)return!1;var r=i.x,a=i.y,o=i.width,s=i.height,l=n[0];if(_g(n,r,a)||_g(n,r+o,a)||_g(n,r,a+s)||_g(n,r+o,a+s)||Ut.create(i).contain(l[0],l[1])||wb(r,a,r+o,a,n)||wb(r,a,r,a+s,n)||wb(r+o,a,r+o,a+s,n)||wb(r,a+s,r+o,a+s,n))return!0}}};function SW(i){var e=["x","y"],t=["width","height"];return{point:function(n,r,a){if(n){var o=a.range,s=n[i];return pb(s,o)}},rect:function(n,r,a){if(n){var o=a.range,s=[n[e[i]],n[e[i]]+n[t[i]]];return s[1]<s[0]&&s.reverse(),pb(s[0],o)||pb(s[1],o)||pb(o[0],s)||pb(o[1],s)}}}}function pb(i,e){return e[0]<=i&&i<=e[1]}var bW=["inBrush","outOfBrush"],xN="__ecBrushSelect",sB="__ecInBrushSelectEvent";function EJ(i){i.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new H2(e.option,i);t.setInputRanges(e.areas,i)})}function ARe(i,e,t){var n=[],r,a;i.eachComponent({mainType:"brush"},function(o){t&&t.type==="takeGlobalCursor"&&o.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),EJ(i),i.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:Lt(o.areas),selected:[]};n.push(l);var u=o.option,c=u.brushLink,f=[],h=[],p=[],g=!1;s||(r=u.throttleType,a=u.throttleDelay);var y=Ge(o.areas,function(E){var D=RRe[E.brushType],L=Ot({boundingRect:D?D(E):void 0},E);return L.selectors=wRe(L),L}),_=oB(o.option,bW,function(E){E.mappingMethod="fixed"});ze(c)&&H(c,function(E){f[E]=1});function x(E){return c==="all"||!!f[E]}function M(E){return!!E.length}i.eachSeries(function(E,D){var L=p[D]=[];E.subType==="parallel"?T(E,D):C(E,D,L)});function T(E,D){var L=E.coordinateSystem;g=g||L.hasAxisBrushed(),x(D)&&L.eachActiveState(E.getData(),function(z,P){z==="active"&&(h[P]=1)})}function C(E,D,L){if(!(!E.brushSelector||DRe(o,D))&&(H(y,function(P){o.brushTargetManager.controlSeries(P,E,i)&&L.push(P),g=g||M(L)}),x(D)&&M(L))){var z=E.getData();z.each(function(P){MW(E,L,z,P)&&(h[P]=1)})}}i.eachSeries(function(E,D){var L={seriesId:E.id,seriesIndex:D,seriesName:E.name,dataIndex:[]};l.selected.push(L);var z=p[D],P=E.getData(),N=x(D)?function(B){return h[B]?(L.dataIndex.push(P.getRawIndex(B)),"inBrush"):"outOfBrush"}:function(B){return MW(E,z,P,B)?(L.dataIndex.push(P.getRawIndex(B)),"inBrush"):"outOfBrush"};(x(D)?g:M(z))&&MRe(bW,_,P,N)})}),CRe(e,r,a,n,t)}function CRe(i,e,t,n,r){if(r){var a=i.getZr();if(!a[sB]){a[xN]||(a[xN]=ERe);var o=X_(a,xN,t,e);o(i,n)}}}function ERe(i,e){if(!i.isDisposed()){var t=i.getZr();t[sB]=!0,i.dispatchAction({type:"brushSelect",batch:e}),t[sB]=!1}}function MW(i,e,t,n){for(var r=0,a=e.length;r<a;r++){var o=e[r];if(i.brushSelector(n,t,o.selectors,o))return!0}}function DRe(i,e){var t=i.option.seriesIndex;return t!=null&&t!=="all"&&(ze(t)?en(t,e)<0:e!==t)}var RRe={rect:function(i){return TW(i.range)},polygon:function(i){for(var e,t=i.range,n=0,r=t.length;n<r;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=t[n];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&TW(e)}};function TW(i){return new Ut(i[0][0],i[1][0],i[0][1]-i[0][0],i[1][1]-i[1][0])}var LRe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n,this.model,(this._brushController=new p2(n.getZr())).on("brush",at(this._onBrush,this)).mount()},e.prototype.render=function(t,n,r,a){this.model=t,this._updateController(t,n,r,a)},e.prototype.updateTransform=function(t,n,r,a){EJ(n),this._updateController(t,n,r,a)},e.prototype.updateVisual=function(t,n,r,a){this.updateTransform(t,n,r,a)},e.prototype.updateView=function(t,n,r,a){this._updateController(t,n,r,a)},e.prototype._updateController=function(t,n,r,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var n=this.model.id,r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Lt(r),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Lt(r),$from:n})},e.type="brush",e})(Ti),IRe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,n){var r=this.option;!n&&CJ(r,t,["inBrush","outOfBrush"]);var a=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:this.option.defaultOutOfBrushColor},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=Ge(t,function(n){return wW(this.option,n)},this))},e.prototype.setBrushOption=function(t){this.brushOption=wW(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:ge.color.backgroundTint,borderColor:ge.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:ge.color.disabled},e})(mn);function wW(i,e){return nn({brushType:i.brushType,brushMode:i.brushMode,transformable:i.transformable,brushStyle:new Sn(i.brushStyle).getItemStyle(),removeOnClick:i.removeOnClick,z:i.z},e,!0)}var PRe=["rect","polygon","lineX","lineY","keep","clear"],NRe=(function(i){fe(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.render=function(t,n,r){var a,o,s;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=a,this._brushMode=o,H(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===a)?"emphasis":"normal")})},e.prototype.updateView=function(t,n,r){this.render(t,n,r)},e.prototype.getIcons=function(){var t=this.model,n=t.get("icon",!0),r={};return H(t.get("type",!0),function(a){n[a]&&(r[a]=n[a])}),r},e.prototype.onclick=function(t,n,r){var a=this._brushType,o=this._brushMode;r==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:r==="keep"?a:a===r?!1:r,brushMode:r==="keep"?o==="multiple"?"single":"multiple":o}})},e.getDefaultOption=function(t){var n={show:!0,type:PRe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return n},e})(Fl);function ORe(i){i.registerComponentView(LRe),i.registerComponentModel(IRe),i.registerPreprocessor(SRe),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,ARe),i.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},_r),i.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},_r),D0("brush",NRe)}var zRe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:ge.size.m,backgroundColor:ge.color.transparent,borderColor:ge.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:ge.color.primary},subtextStyle:{fontSize:12,color:ge.color.quaternary}},e})(mn),BRe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){if(this.group.removeAll(),!!t.get("show")){var a=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=bt(t.get("textBaseline"),t.get("textVerticalAlign")),c=new In({style:Si(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),h=t.get("subtext"),p=new In({style:Si(s,{text:h,fill:s.getTextColor(),y:f.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=t.get("link"),y=t.get("sublink"),_=t.get("triggerEvent",!0);c.silent=!g&&!_,p.silent=!y&&!_,g&&c.on("click",function(){aD(g,"_"+t.get("target"))}),y&&p.on("click",function(){aD(y,"_"+t.get("subtarget"))}),Ht(c).eventData=Ht(p).eventData=_?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(c),h&&a.add(p);var x=a.getBoundingRect(),M=t.getBoxLayoutParams();M.width=x.width,M.height=x.height;var T=ca(t,r),C=Ui(M,T.refContainer,t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?C.x+=C.width:l==="center"&&(C.x+=C.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?C.y+=C.height:u==="middle"&&(C.y+=C.height/2),u=u||"top"),a.x=C.x,a.y=C.y,a.markRedraw();var E={align:l,verticalAlign:u};c.setStyle(E),p.setStyle(E),x=a.getBoundingRect();var D=C.margin,L=t.getItemStyle(["color","opacity"]);L.fill=t.get("backgroundColor");var z=new dn({shape:{x:x.x-D[3],y:x.y-D[0],width:x.width+D[1]+D[3],height:x.height+D[0]+D[2],r:t.get("borderRadius")},style:L,subPixelOptimize:!0,silent:!0});a.add(z)}},e.type="title",e})(Ti);function kRe(i){i.registerComponentModel(zRe),i.registerComponentView(BRe)}var AW=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),this._initData()},e.prototype.mergeOption=function(t){i.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var n=this._data.count();this.option.loop?t=(t%n+n)%n:(t>=n&&(t=n-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,n=t.data||[],r=t.axisType,a=this._names=[],o;r==="category"?(o=[],H(n,function(u,c){var f=sa(P_(u),""),h;zt(u)?(h=Lt(u),h.value=c):h=c,o.push(h),a.push(f)})):o=n;var s={category:"ordinal",time:"time",value:"number"}[r]||"number",l=this._data=new Ao([{name:"value",type:s}],this);l.initData(o,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:ge.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:ge.color.secondary},data:[]},e})(mn),DJ=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=Np(AW.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:ge.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:ge.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:ge.color.tertiary},itemStyle:{color:ge.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:ge.color.accent50,borderColor:ge.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:ge.color.accent50,borderColor:ge.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:ge.color.accent60},itemStyle:{color:ge.color.accent60,borderColor:ge.color.accent60},controlStyle:{color:ge.color.accent70,borderColor:ge.color.accent70}},progress:{lineStyle:{color:ge.color.accent30},itemStyle:{color:ge.color.accent40}},data:[]}),e})(AW);Sr(DJ,iL.prototype);var URe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e})(Ti),FRe=(function(i){fe(e,i);function e(t,n,r,a){var o=i.call(this,t,n,r)||this;return o.type=a||"value",o}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e})(nu),SN=Math.PI,CW=yn(),VRe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.api=n},e.prototype.render=function(t,n,r){if(this.model=t,this.api=r,this.ecModel=n,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,r),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,t);t.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return Kr("nameValue",{noName:!0,value:c})},H(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,o,l,t)},this),this._renderAxisLabel(a,s,l,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,n){var r=t.get(["label","position"]),a=t.get("orient"),o=HRe(t,n),s;r==null||r==="auto"?s=a==="horizontal"?o.y+o.height/2<n.getHeight()/2?"-":"+":o.x+o.width/2<n.getWidth()/2?"+":"-":rt(r)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][r]:s=r;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:SN/2},f=a==="vertical"?o.height:o.width,h=t.getModel("controlStyle"),p=h.get("show",!0),g=p?h.get("itemSize"):0,y=p?h.get("itemGap"):0,_=g+y,x=t.get(["label","rotate"])||0;x=x*SN/180;var M,T,C,E=h.get("position",!0),D=p&&h.get("showPlayBtn",!0),L=p&&h.get("showPrevBtn",!0),z=p&&h.get("showNextBtn",!0),P=0,N=f;E==="left"||E==="bottom"?(D&&(M=[0,0],P+=_),L&&(T=[P,0],P+=_),z&&(C=[N-g,0],N-=_)):(D&&(M=[N-g,0],N-=_),L&&(T=[0,0],P+=_),z&&(C=[N-g,0],N-=_));var B=[P,N];return t.get("inverse")&&B.reverse(),{viewRect:o,mainLength:f,orient:a,rotation:c[a],labelRotation:x,labelPosOpt:s,labelAlign:t.get(["label","align"])||l[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[a],playPosition:M,prevBtnPosition:T,nextBtnPosition:C,axisExtent:B,controlSize:g,controlGap:y}},e.prototype._position=function(t,n){var r=this._mainGroup,a=this._labelGroup,o=t.viewRect;if(t.orient==="vertical"){var s=_a(),l=o.x,u=o.y+o.height;Wu(s,s,[-l,-u]),Bh(s,s,-SN/2),Wu(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var c=M(o),f=M(r.getBoundingRect()),h=M(a.getBoundingRect()),p=[r.x,r.y],g=[a.x,a.y];g[0]=p[0]=c[0][0];var y=t.labelPosOpt;if(y==null||rt(y)){var _=y==="+"?0:1;T(p,f,c,1,_),T(g,h,c,1,1-_)}else{var _=y>=0?0:1;T(p,f,c,1,_),g[1]=p[1]+y}r.setPosition(p),a.setPosition(g),r.rotation=a.rotation=t.rotation,x(r),x(a);function x(C){C.originX=c[0][0]-C.x,C.originY=c[1][0]-C.y}function M(C){return[[C.x,C.x+C.width],[C.y,C.y+C.height]]}function T(C,E,D,L,z){C[L]+=D[L][z]-E[L][z]}},e.prototype._createAxis=function(t,n){var r=n.getData(),a=n.get("axisType"),o=GRe(n,a);o.getTicks=function(){return r.mapArray(["value"],function(u){return{value:u}})};var s=r.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new FRe("value",o,t.axisExtent,a);return l.model=n,l},e.prototype._createGroup=function(t){var n=this[t]=new It;return this.group.add(n),n},e.prototype._renderAxisLine=function(t,n,r,a){var o=r.getExtent();if(a.get(["lineStyle","show"])){var s=new Nr({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:Ce({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(s);var l=this._progressLine=new Nr({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:Ot({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},e.prototype._renderAxisTick=function(t,n,r,a){var o=this,s=a.getData(),l=r.scale.getTicks();this._tickSymbols=[],H(l,function(u){var c=r.dataToCoord(u.value),f=s.getItemModel(u.value),h=f.getModel("itemStyle"),p=f.getModel(["emphasis","itemStyle"]),g=f.getModel(["progress","itemStyle"]),y={x:c,y:0,onclick:at(o._changeTimeline,o,u.value)},_=EW(f,h,n,y);_.ensureState("emphasis").style=p.getItemStyle(),_.ensureState("progress").style=g.getItemStyle(),dp(_);var x=Ht(_);f.get("tooltip")?(x.dataIndex=u.value,x.dataModel=a):x.dataIndex=x.dataModel=null,o._tickSymbols.push(_)})},e.prototype._renderAxisLabel=function(t,n,r,a){var o=this,s=r.getLabelModel();if(s.get("show")){var l=a.getData(),u=r.getViewLabels();this._tickLabels=[],H(u,function(c){var f=c.tickValue,h=l.getItemModel(f),p=h.getModel("label"),g=h.getModel(["emphasis","label"]),y=h.getModel(["progress","label"]),_=r.dataToCoord(c.tickValue),x=new In({x:_,y:0,rotation:t.labelRotation-t.rotation,onclick:at(o._changeTimeline,o,f),silent:!1,style:Si(p,{text:c.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});x.ensureState("emphasis").style=Si(g),x.ensureState("progress").style=Si(y),n.add(x),dp(x),CW(x).dataIndex=f,o._tickLabels.push(x)})}},e.prototype._renderControl=function(t,n,r,a){var o=t.controlSize,s=t.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);h(t.nextBtnPosition,"next",at(this._changeTimeline,this,f?"-":"+")),h(t.prevBtnPosition,"prev",at(this._changeTimeline,this,f?"+":"-")),h(t.playPosition,c?"stop":"play",at(this._handlePlayClick,this,!c),!0);function h(p,g,y,_){if(p){var x=Xu(bt(a.get(["controlStyle",g+"BtnSize"]),o),o),M=[0,-x/2,x,x],T=WRe(a,g+"Icon",M,{x:p[0],y:p[1],originX:o/2,originY:0,rotation:_?-s:0,rectHover:!0,style:l,onclick:y});T.ensureState("emphasis").style=u,n.add(T),dp(T)}}},e.prototype._renderCurrentPointer=function(t,n,r,a){var o=a.getData(),s=a.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=at(u._handlePointerDrag,u),f.ondragend=at(u._handlePointerDragend,u),DW(f,u._progressLine,s,r,a,!0)},onUpdate:function(f){DW(f,u._progressLine,s,r,a)}};this._currentPointer=EW(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,n,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,n){var r=this._toAxisCoord(t)[0],a=this._axis,o=js(a.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=r,s.dirty());var l=this._findNearestTick(r),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=t.model;t._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var n=this._mainGroup.getLocalTransform();return Vu(t,n,!0)},e.prototype._findNearestTick=function(t){var n=this.model.getData(),r=1/0,a,o=this._axis;return n.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-t);c<r&&(r=c,a=l)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var n=this.model.getCurrentIndex();t==="+"?t=n+1:t==="-"&&(t=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),n=this._tickSymbols,r=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<t);if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",CW(r[a]).dataIndex<=t)},e.type="timeline.slider",e})(URe);function GRe(i,e){if(e=e||i.get("type"),e)switch(e){case"category":return new y_({ordinalMeta:i.getCategories(),extent:[1/0,-1/0]});case"time":return new kU({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new Oh}}function HRe(i,e){return Ui(i.getBoxLayoutParams(),ca(i,e).refContainer,i.get("padding"))}function WRe(i,e,t,n){var r=n.style,a=U_(i.get(["controlStyle",e]),n||{},new Ut(t[0],t[1],t[2],t[3]));return r&&a.setStyle(r),a}function EW(i,e,t,n,r,a){var o=e.get("color");if(r)r.setColor(o),t.add(r),a&&a.onUpdate(r);else{var s=i.get("symbol");r=Or(s,-1,-1,2,2,o),r.setStyle("strokeNoScale",!0),t.add(r),a&&a.onCreate(r)}var l=e.getItemStyle(["color"]);r.setStyle(l),n=nn({rectHover:!0,z2:100},n,!0);var u=Y_(i.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var c=_m(i.get("symbolOffset"),u);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var f=i.get("symbolRotate");return n.rotation=(f||0)*Math.PI/180||0,r.attr(n),r.updateTransform(),r}function DW(i,e,t,n,r,a){if(!i.dragging){var o=r.getModel("checkpointStyle"),s=n.dataToCoord(r.getData().get("value",t));if(a||!o.get("animation",!0))i.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};i.stopAnimation(null,!0),i.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}function XRe(i){i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,n){var r=t.getComponent("timeline");return r&&e.currentIndex!=null&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),Ot({currentIndex:r.option.currentIndex},e)}),i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&e.playState!=null&&n.setPlayState(e.playState)})}function YRe(i){var e=i&&i.timeline;ze(e)||(e=e?[e]:[]),H(e,function(t){t&&qRe(t)})}function qRe(i){var e=i.type,t={number:"value",time:"time"};if(t[e]&&(i.axisType=t[e],delete i.type),RW(i),bg(i,"controlPosition")){var n=i.controlStyle||(i.controlStyle={});bg(n,"position")||(n.position=i.controlPosition),n.position==="none"&&!bg(n,"show")&&(n.show=!1,delete n.position),delete i.controlPosition}H(i.data||[],function(r){zt(r)&&!ze(r)&&(!bg(r,"value")&&bg(r,"name")&&(r.value=r.name),RW(r))})}function RW(i){var e=i.itemStyle||(i.itemStyle={}),t=e.emphasis||(e.emphasis={}),n=i.label||i.label||{},r=n.normal||(n.normal={}),a={normal:1,emphasis:1};H(n,function(o,s){!a[s]&&!bg(r,s)&&(r[s]=o)}),t.label&&!bg(n,"emphasis")&&(n.emphasis=t.label,delete t.label)}function bg(i,e){return i.hasOwnProperty(e)}function ZRe(i){i.registerComponentModel(DJ),i.registerComponentView(VRe),i.registerSubTypeDefaulter("timeline",function(){return"slider"}),XRe(i),i.registerPreprocessor(YRe)}function Y2(i,e){if(!i)return!1;for(var t=ze(i)?i:[i],n=0;n<t.length;n++)if(t[n]&&t[n][e])return!0;return!1}function cC(i){em(i,"label",["show"])}var fC=yn(),pf=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t.preventAutoZ=!0,t}return e.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Tn.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,n){this._mergeOption(t,n,!1,!1)},e.prototype._mergeOption=function(t,n,r,a){var o=this.mainType;r||n.eachSeries(function(s){var l=s.get(this.mainType,!0),u=fC(s)[o];if(!l||!l.data){fC(s)[o]=null;return}u?u._mergeOption(l,n,!0):(a&&cC(l),H(l.data,function(c){c instanceof Array?(cC(c[0]),cC(c[1])):cC(c)}),u=this.createMarkerModelFromSeries(l,this,n),Ce(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),fC(s)[o]=u},this)},e.prototype.formatTooltip=function(t,n,r){var a=this.getData(),o=this.getRawValue(t),s=a.getName(t);return Kr("section",{header:this.name,blocks:[Kr("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,n){var r=iL.prototype.getDataParams.call(this,t,n),a=this.__hostSeries;return a&&(r.seriesId=a.id,r.seriesName=a.name,r.seriesType=a.subType),r},e.getMarkerModelFromSeries=function(t,n){return fC(t)[n]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e})(mn);Sr(pf,iL.prototype);var jRe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e})(pf);function lB(i){return!(isNaN(parseFloat(i.x))&&isNaN(parseFloat(i.y)))}function KRe(i){return!isNaN(parseFloat(i.x))&&!isNaN(parseFloat(i.y))}function hC(i,e,t,n,r,a,o){var s=[],l=Nh(e,r),u=l?e.getCalculationInfo("stackResultDimension"):r,c=FD(e,u,i),f=e.hostModel,h=f.indicesOfNearest(t,u,c)[0];s[a]=e.get(n,h),s[o]=e.get(u,h);var p=e.get(r,h),g=zu(e.get(r,h));return g=Math.min(g,20),g>=0&&(s[o]=+s[o].toFixed(g)),[s,p]}var dC={min:Qt(hC,"min"),max:Qt(hC,"max"),average:Qt(hC,"average"),median:Qt(hC,"median")};function Y1(i,e){if(e){var t=i.getData(),n=i.coordinateSystem,r=n&&n.dimensions;if(!KRe(e)&&!ze(e.coord)&&ze(r)){var a=RJ(e,t,n,i);if(e=Lt(e),e.type&&dC[e.type]&&a.baseAxis&&a.valueAxis){var o=en(r,a.baseAxis.dim),s=en(r,a.valueAxis.dim),l=dC[e.type](t,a.valueAxis.dim,a.baseDataDim,a.valueDataDim,o,s);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!ze(r)){e.coord=[];var u=i.getBaseAxis();if(u&&e.type&&dC[e.type]){var c=n.getOtherAxis(u);c&&(e.value=FD(t,t.mapDimension(c.dim),e.type))}}else for(var f=e.coord,h=0;h<2;h++)dC[f[h]]&&(f[h]=FD(t,t.mapDimension(r[h]),f[h]));return e}}function RJ(i,e,t,n){var r={};return i.valueIndex!=null||i.valueDim!=null?(r.valueDataDim=i.valueIndex!=null?e.getDimension(i.valueIndex):i.valueDim,r.valueAxis=t.getAxis($Re(n,r.valueDataDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=n.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function $Re(i,e){var t=i.getData().getDimensionInfo(e);return t&&t.coordDim}function q1(i,e){return i&&i.containData&&e.coord&&!lB(e)?i.containData(e.coord):!0}function QRe(i,e,t){return i&&i.containZone&&e.coord&&t.coord&&!lB(e)&&!lB(t)?i.containZone(e.coord,t.coord):!0}function LJ(i,e){return i?function(t,n,r,a){var o=a<2?t.coord&&t.coord[a]:t.value;return gp(o,e[a])}:function(t,n,r,a){return gp(t.value,e[a])}}function FD(i,e,t){if(t==="average"){var n=0,r=0;return i.each(e,function(a,o){isNaN(a)||(n+=a,r++)}),n/r}else return t==="median"?i.getMedian(e):i.getDataExtent(e)[t==="max"?1:0]}var bN=yn(),q2=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=St()},e.prototype.render=function(t,n,r){var a=this,o=this.markerGroupMap;o.each(function(s){bN(s).keep=!1}),n.eachSeries(function(s){var l=pf.getMarkerModelFromSeries(s,a.type);l&&a.renderSeries(s,l,n,r)}),o.each(function(s){!bN(s).keep&&a.group.remove(s.group)}),JRe(n,o,this.type)},e.prototype.markKeep=function(t){bN(t).keep=!0},e.prototype.toggleBlurSeries=function(t,n){var r=this;H(t,function(a){var o=pf.getMarkerModelFromSeries(a,r.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(n?Yq(l):Gk(l))})}})},e.type="marker",e})(Ti);function JRe(i,e,t){i.eachSeries(function(n){var r=pf.getMarkerModelFromSeries(n,t),a=e.get(n.id);if(r&&a&&a.group){var o=am(r),s=o.z,l=o.zlevel;JR(a.group,s,l)}})}function LW(i,e,t){var n=e.coordinateSystem,r=t.getWidth(),a=t.getHeight(),o=n&&n.getArea&&n.getArea();i.each(function(s){var l=i.getItemModel(s),u=l.get("relativeTo")==="coordinate",c=u?o?o.width:0:r,f=u?o?o.height:0:a,h=u&&o?o.x:0,p=u&&o?o.y:0,g,y=it(l.get("x"),c)+h,_=it(l.get("y"),f)+p;if(!isNaN(y)&&!isNaN(_))g=[y,_];else if(e.getMarkerPosition)g=e.getMarkerPosition(i.getValues(i.dimensions,s));else if(n){var x=i.get(n.dimensions[0],s),M=i.get(n.dimensions[1],s);g=n.dataToPoint([x,M])}isNaN(y)||(g[0]=y),isNaN(_)||(g[1]=_),i.setItemLayout(s,g)})}var eLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,r){n.eachSeries(function(a){var o=pf.getMarkerModelFromSeries(a,"markPoint");o&&(LW(o.getData(),a,r),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(t,n,r,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new bM),f=tLe(o,t,n);n.setData(f),LW(n.getData(),t,a),f.each(function(h){var p=f.getItemModel(h),g=p.getShallow("symbol"),y=p.getShallow("symbolSize"),_=p.getShallow("symbolRotate"),x=p.getShallow("symbolOffset"),M=p.getShallow("symbolKeepAspect");if(Ct(g)||Ct(y)||Ct(_)||Ct(x)){var T=n.getRawValue(h),C=n.getDataParams(h);Ct(g)&&(g=g(T,C)),Ct(y)&&(y=y(T,C)),Ct(_)&&(_=_(T,C)),Ct(x)&&(x=x(T,C))}var E=p.getModel("itemStyle").getItemStyle(),D=p.get("z2"),L=_M(l,"color");E.fill||(E.fill=L),f.setItemVisual(h,{z2:bt(D,0),symbol:g,symbolSize:y,symbolRotate:_,symbolOffset:x,symbolKeepAspect:M,style:E})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(h){h.traverse(function(p){Ht(p).dataModel=n})}),this.markKeep(c),c.group.silent=n.get("silent")||t.get("silent")},e.type="markPoint",e})(q2);function tLe(i,e,t){var n;i?n=Ge(i&&i.dimensions,function(s){var l=e.getData().getDimensionInfo(e.getData().mapDimension(s))||{};return Ce(Ce({},l),{name:s,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var r=new Ao(n,t),a=Ge(t.get("data"),Qt(Y1,e));i&&(a=Kn(a,Qt(q1,i)));var o=LJ(!!i,n);return r.initData(a,null,o),r}function nLe(i){i.registerComponentModel(jRe),i.registerComponentView(eLe),i.registerPreprocessor(function(e){Y2(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var iLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e})(pf),pC=yn(),rLe=function(i,e,t,n){var r=i.getData(),a;if(ze(n))a=n;else{var o=n.type;if(o==="min"||o==="max"||o==="average"||o==="median"||n.xAxis!=null||n.yAxis!=null){var s=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)s=e.getAxis(n.yAxis!=null?"y":"x"),l=Na(n.yAxis,n.xAxis);else{var u=RJ(n,r,e,i);s=u.valueAxis;var c=OU(r,u.valueDataDim);l=FD(r,c,o)}var f=s.dim==="x"?0:1,h=1-f,p=Lt(n),g={coord:[]};p.type=null,p.coord=[],p.coord[h]=-1/0,g.coord[h]=1/0;var y=t.get("precision");y>=0&&Pn(l)&&(l=+l.toFixed(Math.min(y,20))),p.coord[f]=g.coord[f]=l,a=[p,g,{type:o,valueIndex:n.valueIndex,value:l}]}else a=[]}var _=[Y1(i,a[0]),Y1(i,a[1]),Ce({},a[2])];return _[2].type=_[2].type||null,nn(_[2],_[0]),nn(_[2],_[1]),_};function VD(i){return!isNaN(i)&&!isFinite(i)}function IW(i,e,t,n){var r=1-i,a=n.dimensions[i];return VD(e[r])&&VD(t[r])&&e[i]===t[i]&&n.getAxis(a).containData(e[i])}function aLe(i,e){if(i.type==="cartesian2d"){var t=e[0].coord,n=e[1].coord;if(t&&n&&(IW(1,t,n,i)||IW(0,t,n,i)))return!0}return q1(i,e[0])&&q1(i,e[1])}function MN(i,e,t,n,r){var a=n.coordinateSystem,o=i.getItemModel(e),s,l=it(o.get("x"),r.getWidth()),u=it(o.get("y"),r.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition)s=n.getMarkerPosition(i.getValues(i.dimensions,e));else{var c=a.dimensions,f=i.get(c[0],e),h=i.get(c[1],e);s=a.dataToPoint([f,h])}if(Tp(a,"cartesian2d")){var p=a.getAxis("x"),g=a.getAxis("y"),c=a.dimensions;VD(i.get(c[0],e))?s[0]=p.toGlobalCoord(p.getExtent()[t?0:1]):VD(i.get(c[1],e))&&(s[1]=g.toGlobalCoord(g.getExtent()[t?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}i.setItemLayout(e,s)}var oLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,r){n.eachSeries(function(a){var o=pf.getMarkerModelFromSeries(a,"markLine");if(o){var s=o.getData(),l=pC(o).from,u=pC(o).to;l.each(function(c){MN(l,c,!0,a,r),MN(u,c,!1,a,r)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,n,r,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new h2);this.group.add(c.group);var f=sLe(o,t,n),h=f.from,p=f.to,g=f.line;pC(n).from=h,pC(n).to=p,n.setData(g);var y=n.get("symbol"),_=n.get("symbolSize"),x=n.get("symbolRotate"),M=n.get("symbolOffset");ze(y)||(y=[y,y]),ze(_)||(_=[_,_]),ze(x)||(x=[x,x]),ze(M)||(M=[M,M]),f.from.each(function(C){T(h,C,!0),T(p,C,!1)}),g.each(function(C){var E=g.getItemModel(C),D=E.getModel("lineStyle").getLineStyle();g.setItemLayout(C,[h.getItemLayout(C),p.getItemLayout(C)]);var L=E.get("z2");D.stroke==null&&(D.stroke=h.getItemVisual(C,"style").fill),g.setItemVisual(C,{z2:bt(L,0),fromSymbolKeepAspect:h.getItemVisual(C,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(C,"symbolOffset"),fromSymbolRotate:h.getItemVisual(C,"symbolRotate"),fromSymbolSize:h.getItemVisual(C,"symbolSize"),fromSymbol:h.getItemVisual(C,"symbol"),toSymbolKeepAspect:p.getItemVisual(C,"symbolKeepAspect"),toSymbolOffset:p.getItemVisual(C,"symbolOffset"),toSymbolRotate:p.getItemVisual(C,"symbolRotate"),toSymbolSize:p.getItemVisual(C,"symbolSize"),toSymbol:p.getItemVisual(C,"symbol"),style:D})}),c.updateData(g),f.line.eachItemGraphicEl(function(C){Ht(C).dataModel=n,C.traverse(function(E){Ht(E).dataModel=n})});function T(C,E,D){var L=C.getItemModel(E);MN(C,E,D,t,a);var z=L.getModel("itemStyle").getItemStyle();z.fill==null&&(z.fill=_M(l,"color")),C.setItemVisual(E,{symbolKeepAspect:L.get("symbolKeepAspect"),symbolOffset:bt(L.get("symbolOffset",!0),M[D?0:1]),symbolRotate:bt(L.get("symbolRotate",!0),x[D?0:1]),symbolSize:bt(L.get("symbolSize"),_[D?0:1]),symbol:bt(L.get("symbol",!0),y[D?0:1]),style:z})}this.markKeep(c),c.group.silent=n.get("silent")||t.get("silent")},e.type="markLine",e})(q2);function sLe(i,e,t){var n;i?n=Ge(i&&i.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return Ce(Ce({},c),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var r=new Ao(n,t),a=new Ao(n,t),o=new Ao([],t),s=Ge(t.get("data"),Qt(rLe,e,i,t));i&&(s=Kn(s,Qt(aLe,i)));var l=LJ(!!i,n);return r.initData(Ge(s,function(u){return u[0]}),null,l),a.initData(Ge(s,function(u){return u[1]}),null,l),o.initData(Ge(s,function(u){return u[2]})),o.hasItemOption=!0,{from:r,to:a,line:o}}function lLe(i){i.registerComponentModel(iLe),i.registerComponentView(oLe),i.registerPreprocessor(function(e){Y2(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var uLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e})(pf),vC=yn(),cLe=function(i,e,t,n){var r=n[0],a=n[1];if(!(!r||!a)){var o=Y1(i,r),s=Y1(i,a),l=o.coord,u=s.coord;l[0]=Na(l[0],-1/0),l[1]=Na(l[1],-1/0),u[0]=Na(u[0],1/0),u[1]=Na(u[1],1/0);var c=zR([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function GD(i){return!isNaN(i)&&!isFinite(i)}function PW(i,e,t,n){var r=1-i;return GD(e[r])&&GD(t[r])}function fLe(i,e){var t=e.coord[0],n=e.coord[1],r={coord:t,x:e.x0,y:e.y0},a={coord:n,x:e.x1,y:e.y1};return Tp(i,"cartesian2d")?t&&n&&(PW(1,t,n)||PW(0,t,n))?!0:QRe(i,r,a):q1(i,r)||q1(i,a)}function NW(i,e,t,n,r){var a=n.coordinateSystem,o=i.getItemModel(e),s,l=it(o.get(t[0]),r.getWidth()),u=it(o.get(t[1]),r.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition){var c=i.getValues(["x0","y0"],e),f=i.getValues(["x1","y1"],e),h=a.clampData(c),p=a.clampData(f),g=[];t[0]==="x0"?g[0]=h[0]>p[0]?f[0]:c[0]:g[0]=h[0]>p[0]?c[0]:f[0],t[1]==="y0"?g[1]=h[1]>p[1]?f[1]:c[1]:g[1]=h[1]>p[1]?c[1]:f[1],s=n.getMarkerPosition(g,t,!0)}else{var y=i.get(t[0],e),_=i.get(t[1],e),x=[y,_];a.clampData&&a.clampData(x,x),s=a.dataToPoint(x,!0)}if(Tp(a,"cartesian2d")){var M=a.getAxis("x"),T=a.getAxis("y"),y=i.get(t[0],e),_=i.get(t[1],e);GD(y)?s[0]=M.toGlobalCoord(M.getExtent()[t[0]==="x0"?0:1]):GD(_)&&(s[1]=T.toGlobalCoord(T.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var OW=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],hLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,r){n.eachSeries(function(a){var o=pf.getMarkerModelFromSeries(a,"markArea");if(o){var s=o.getData();s.each(function(l){var u=Ge(OW,function(f){return NW(s,l,f,a,r)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,n,r,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new It});this.group.add(c.group),this.markKeep(c);var f=dLe(o,t,n);n.setData(f),f.each(function(h){var p=Ge(OW,function(N){return NW(f,h,N,t,a)}),g=o.getAxis("x").scale,y=o.getAxis("y").scale,_=g.getExtent(),x=y.getExtent(),M=[g.parse(f.get("x0",h)),g.parse(f.get("x1",h))],T=[y.parse(f.get("y0",h)),y.parse(f.get("y1",h))];js(M),js(T);var C=!(_[0]>M[1]||_[1]<M[0]||x[0]>T[1]||x[1]<T[0]),E=!C;f.setItemLayout(h,{points:p,allClipped:E});var D=f.getItemModel(h),L=D.getModel("itemStyle").getItemStyle(),z=D.get("z2"),P=_M(l,"color");L.fill||(L.fill=P,rt(L.fill)&&(L.fill=x1(L.fill,.4))),L.stroke||(L.stroke=P),f.setItemVisual(h,"style",L),f.setItemVisual(h,"z2",bt(z,0))}),f.diff(vC(c).data).add(function(h){var p=f.getItemLayout(h),g=f.getItemVisual(h,"z2");if(!p.allClipped){var y=new ro({z2:bt(g,0),shape:{points:p.points}});f.setItemGraphicEl(h,y),c.group.add(y)}}).update(function(h,p){var g=vC(c).data.getItemGraphicEl(p),y=f.getItemLayout(h),_=f.getItemVisual(h,"z2");y.allClipped?g&&c.group.remove(g):(g?Gn(g,{z2:bt(_,0),shape:{points:y.points}},n,h):g=new ro({shape:{points:y.points}}),f.setItemGraphicEl(h,g),c.group.add(g))}).remove(function(h){var p=vC(c).data.getItemGraphicEl(h);c.group.remove(p)}).execute(),f.eachItemGraphicEl(function(h,p){var g=f.getItemModel(p),y=f.getItemVisual(p,"style");h.useStyle(f.getItemVisual(p,"style")),Ma(h,ua(g),{labelFetcher:n,labelDataIndex:p,defaultText:f.getName(p)||"",inheritColor:rt(y.fill)?x1(y.fill,1):ge.color.neutral99}),la(h,g),Hi(h,null,null,g.get(["emphasis","disabled"])),Ht(h).dataModel=n}),vC(c).data=f,c.group.silent=n.get("silent")||t.get("silent")},e.type="markArea",e})(q2);function dLe(i,e,t){var n,r,a=["x0","y0","x1","y1"];if(i){var o=Ge(i&&i.dimensions,function(u){var c=e.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return Ce(Ce({},f),{name:u,ordinalMeta:null})});r=Ge(a,function(u,c){return{name:u,type:o[c%2].type}}),n=new Ao(r,t)}else r=[{name:"value",type:"float"}],n=new Ao(r,t);var s=Ge(t.get("data"),Qt(cLe,e,i,t));i&&(s=Kn(s,Qt(fLe,i)));var l=i?function(u,c,f,h){var p=u.coord[Math.floor(h/2)][h%2];return gp(p,r[h])}:function(u,c,f,h){return gp(u.value,r[h])};return n.initData(s,null,l),n.hasItemOption=!0,n}function pLe(i){i.registerComponentModel(uLe),i.registerComponentView(hLe),i.registerPreprocessor(function(e){Y2(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var vLe=function(i,e){if(e==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},uB=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,n){i.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},e.prototype._updateSelector=function(t){var n=t.selector,r=this.ecModel;n===!0&&(n=t.selector=["all","inverse"]),ze(n)&&H(n,function(a,o){rt(a)&&(a={type:a}),n[o]=nn(a,vLe(r,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var n=!1,r=0;r<t.length;r++){var a=t[r].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var n=[],r=[];t.eachRawSeries(function(l){var u=l.name;r.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,h=f.getAllNames();t.isSeriesFiltered(l)||(r=r.concat(h)),h.length?n=n.concat(h):c=!0}else c=!0;c&&Pk(l)&&n.push(l.name)}),this._availableNames=r;var a=this.get("data")||n,o=St(),s=Ge(a,function(l){return(rt(l)||Pn(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new Sn(l,this,this.ecModel))},this);this._data=Kn(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var n=this.option.selected,r=this.get("selectedMode");if(r==="single"){var a=this._data;H(a,function(o){n[o.get("name")]=!1})}n[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,n=this.option.selected;H(t,function(r){n[r.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,n=this.option.selected;H(t,function(r){var a=r.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},e.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&en(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:ge.size.m,align:"auto",backgroundColor:ge.color.transparent,borderColor:ge.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:ge.color.disabled,inactiveBorderColor:ge.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:ge.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:ge.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:ge.color.tertiary,borderWidth:1,borderColor:ge.color.border},emphasis:{selectorLabel:{show:!0,color:ge.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},e})(mn),S0=Qt,cB=H,gC=It,IJ=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new gC),this.group.add(this._selectorGroup=new gC),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,n,r){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,t,n,r,l,s,u);var c=ca(t,r).refContainer,f=t.getBoxLayoutParams(),h=t.get("padding"),p=Ui(f,c,h),g=this.layoutInner(t,o,p,a,l,u),y=Ui(Ot({width:g.width,height:g.height},f),c,h);this.group.x=y.x-g.x,this.group.y=y.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=xJ(g,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,n,r,a,o,s,l){var u=this.getContentGroup(),c=St(),f=n.get("selectedMode"),h=n.get("triggerEvent"),p=[];r.eachRawSeries(function(g){!g.get("legendHoverLink")&&p.push(g.id)}),cB(n.getData(),function(g,y){var _=this,x=g.get("name");if(!this.newlineDisabled&&(x===""||x===`
`)){var M=new gC;M.newline=!0,u.add(M);return}var T=r.getSeriesByName(x)[0];if(!c.get(x))if(T){var C=T.getData(),E=C.getVisual("legendLineStyle")||{},D=C.getVisual("legendIcon"),L=C.getVisual("style"),z=this._createItem(T,x,y,g,n,t,E,L,D,f,a);z.on("click",S0(zW,x,null,a,p)).on("mouseover",S0(fB,T.name,null,a,p)).on("mouseout",S0(hB,T.name,null,a,p)),r.ssr&&z.eachChild(function(P){var N=Ht(P);N.seriesIndex=T.seriesIndex,N.dataIndex=y,N.ssrType="legend"}),h&&z.eachChild(function(P){_.packEventData(P,n,T,y,x)}),c.set(x,!0)}else r.eachRawSeries(function(P){var N=this;if(!c.get(x)&&P.legendVisualProvider){var B=P.legendVisualProvider;if(!B.containName(x))return;var G=B.indexOfName(x),U=B.getItemVisual(G,"style"),X=B.getItemVisual(G,"legendIcon"),q=wo(U.fill);q&&q[3]===0&&(q[3]=.2,U=Ce(Ce({},U),{fill:Wl(q,"rgba")}));var V=this._createItem(P,x,y,g,n,t,{},U,X,f,a);V.on("click",S0(zW,null,x,a,p)).on("mouseover",S0(fB,null,x,a,p)).on("mouseout",S0(hB,null,x,a,p)),r.ssr&&V.eachChild(function(j){var K=Ht(j);K.seriesIndex=P.seriesIndex,K.dataIndex=y,K.ssrType="legend"}),h&&V.eachChild(function(j){N.packEventData(j,n,P,y,x)}),c.set(x,!0)}},this)},this),o&&this._createSelector(o,n,a,s,l)},e.prototype.packEventData=function(t,n,r,a,o){var s={componentType:"legend",componentIndex:n.componentIndex,dataIndex:a,value:o,seriesIndex:r.seriesIndex};Ht(t).eventData=s},e.prototype._createSelector=function(t,n,r,a,o){var s=this.getSelectorGroup();cB(t,function(u){var c=u.type,f=new In({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});s.add(f);var h=n.getModel("selectorLabel"),p=n.getModel(["emphasis","selectorLabel"]);Ma(f,{normal:h,emphasis:p},{defaultText:u.title}),dp(f)})},e.prototype._createItem=function(t,n,r,a,o,s,l,u,c,f,h){var p=t.visualDrawType,g=o.get("itemWidth"),y=o.get("itemHeight"),_=o.isSelected(n),x=a.get("symbolRotate"),M=a.get("symbolKeepAspect"),T=a.get("icon");c=T||c||"roundRect";var C=gLe(c,a,l,u,p,_,h),E=new gC,D=a.getModel("textStyle");if(Ct(t.getLegendIcon)&&(!T||T==="inherit"))E.add(t.getLegendIcon({itemWidth:g,itemHeight:y,icon:c,iconRotate:x,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:M}));else{var L=T==="inherit"&&t.getData().getVisual("symbol")?x==="inherit"?t.getData().getVisual("symbolRotate"):x:0;E.add(mLe({itemWidth:g,itemHeight:y,icon:c,iconRotate:L,itemStyle:C.itemStyle,symbolKeepAspect:M}))}var z=s==="left"?g+5:-5,P=s,N=o.get("formatter"),B=n;rt(N)&&N?B=N.replace("{name}",n??""):Ct(N)&&(B=N(n));var G=_?D.getTextColor():a.get("inactiveColor");E.add(new In({style:Si(D,{text:B,x:z,y:y/2,fill:G,align:P,verticalAlign:"middle"},{inheritColor:G})}));var U=new dn({shape:E.getBoundingRect(),style:{fill:"transparent"}}),X=a.getModel("tooltip");return X.get("show")&&Uh({el:U,componentModel:o,itemName:n,itemTooltipOption:X.option}),E.add(U),E.eachChild(function(q){q.silent=!0}),U.silent=!f,this.getContentGroup().add(E),dp(E),E.__legendDataIndex=r,E},e.prototype.layoutInner=function(t,n,r,a,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Vg(t.get("orient"),l,t.get("itemGap"),r.width,r.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){Vg("horizontal",u,t.get("selectorItemGap",!0));var h=u.getBoundingRect(),p=[-h.x,-h.y],g=t.get("selectorButtonGap",!0),y=t.getOrient().index,_=y===0?"width":"height",x=y===0?"height":"width",M=y===0?"y":"x";s==="end"?p[y]+=c[_]+g:f[y]+=h[_]+g,p[1-y]+=c[x]/2-h[x]/2,u.x=p[0],u.y=p[1],l.x=f[0],l.y=f[1];var T={x:0,y:0};return T[_]=c[_]+g+h[_],T[x]=Math.max(c[x],h[x]),T[M]=Math.min(0,h[M]+p[1-y]),T}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(Ti);function gLe(i,e,t,n,r,a,o){function s(_,x){_.lineWidth==="auto"&&(_.lineWidth=x.lineWidth>0?2:0),cB(_,function(M,T){_[T]==="inherit"&&(_[T]=x[T])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=i.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?n.decal:m_(f,o),u.fill==="inherit"&&(u.fill=n[r]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(r==="fill"?n:t).opacity),s(u,n);var h=e.getModel("lineStyle"),p=h.getLineStyle();if(s(p,t),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),p.stroke==="auto"&&(p.stroke=n.fill),!a){var g=e.get("inactiveBorderWidth"),y=u[c];u.lineWidth=g==="auto"?n.lineWidth>0&&y?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),p.stroke=h.get("inactiveColor"),p.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:p}}function mLe(i){var e=i.icon||"roundRect",t=Or(e,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return t.setStyle(i.itemStyle),t.rotation=(i.iconRotate||0)*Math.PI/180,t.setOrigin([i.itemWidth/2,i.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill=ge.color.neutral00,t.style.lineWidth=2),t}function zW(i,e,t,n){hB(i,e,t,n),t.dispatchAction({type:"legendToggleSelect",name:i??e}),fB(i,e,t,n)}function PJ(i){for(var e=i.getZr().storage.getDisplayList(),t,n=0,r=e.length;n<r&&!(t=e[n].states.emphasis);)n++;return t&&t.hoverLayer}function fB(i,e,t,n){PJ(t)||t.dispatchAction({type:"highlight",seriesName:i,name:e,excludeSeriesId:n})}function hB(i,e,t,n){PJ(t)||t.dispatchAction({type:"downplay",seriesName:i,name:e,excludeSeriesId:n})}function yLe(i){var e=i.findComponents({mainType:"legend"});e&&e.length&&i.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}function vb(i,e,t){var n=i==="allSelect"||i==="inverseSelect",r={},a=[];t.eachComponent({mainType:"legend",query:e},function(s){n?s[i]():s[i](e.name),BW(s,r),a.push(s.componentIndex)});var o={};return t.eachComponent("legend",function(s){H(r,function(l,u){s[l?"select":"unSelect"](u)}),BW(s,o)}),n?{selected:o,legendIndex:a}:{name:e.name,selected:o}}function BW(i,e){var t=e||{};return H(i.getData(),function(n){var r=n.get("name");if(!(r===`
`||r==="")){var a=i.isSelected(r);gt(t,r)?t[r]=t[r]&&a:t[r]=a}}),t}function _Le(i){i.registerAction("legendToggleSelect","legendselectchanged",Qt(vb,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",Qt(vb,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",Qt(vb,"inverseSelect")),i.registerAction("legendSelect","legendselected",Qt(vb,"select")),i.registerAction("legendUnSelect","legendunselected",Qt(vb,"unSelect"))}function NJ(i){i.registerComponentModel(uB),i.registerComponentView(IJ),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,yLe),i.registerSubTypeDefaulter("legend",function(){return"plain"}),_Le(i)}var xLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,n,r){var a=mm(t);i.prototype.init.call(this,t,n,r),kW(this,t,a)},e.prototype.mergeOption=function(t,n){i.prototype.mergeOption.call(this,t,n),kW(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Np(uB.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:ge.color.accent50,pageIconInactiveColor:ge.color.accent10,pageIconSize:15,pageTextStyle:{color:ge.color.tertiary},animationDurationUpdate:800}),e})(uB);function kW(i,e,t){var n=i.getOrient(),r=[1,1];r[n.index]=0,hf(e,t,{type:"box",ignoreSize:!!r})}var UW=It,TN=["width","height"],wN=["x","y"],SLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new UW),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new UW)},e.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,n,r,a,o,s,l){var u=this;i.prototype.renderInner.call(this,t,n,r,a,o,s,l);var c=this._controllerGroup,f=n.get("pageIconSize",!0),h=ze(f)?f:[f,f];g("pagePrev",0);var p=n.getModel("pageTextStyle");c.add(new In({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1);function g(y,_){var x=y+"DataIndex",M=U_(n.get("pageIcons",!0)[n.getOrient().name][_],{onclick:at(u._pageGo,u,x,n,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});M.name=y,c.add(M)}},e.prototype.layoutInner=function(t,n,r,a,o,s){var l=this.getSelectorGroup(),u=t.getOrient().index,c=TN[u],f=wN[u],h=TN[1-u],p=wN[1-u];o&&Vg("horizontal",l,t.get("selectorItemGap",!0));var g=t.get("selectorButtonGap",!0),y=l.getBoundingRect(),_=[-y.x,-y.y],x=Lt(r);o&&(x[c]=r[c]-y[c]-g);var M=this._layoutContentAndController(t,a,x,u,c,h,p,f);if(o){if(s==="end")_[u]+=M[c]+g;else{var T=y[c]+g;_[u]-=T,M[f]-=T}M[c]+=y[c]+g,_[1-u]+=M[p]+M[h]/2-y[h]/2,M[h]=Math.max(M[h],y[h]),M[p]=Math.min(M[p],y[p]+_[1-u]),l.x=_[0],l.y=_[1],l.markRedraw()}return M},e.prototype._layoutContentAndController=function(t,n,r,a,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;Vg(t.get("orient"),c,t.get("itemGap"),a?r.width:null,a?null:r.height),Vg("horizontal",h,t.get("pageButtonItemGap",!0));var p=c.getBoundingRect(),g=h.getBoundingRect(),y=this._showController=p[o]>r[o],_=[-p.x,-p.y];n||(_[a]=c[u]);var x=[0,0],M=[-g.x,-g.y],T=bt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(y){var C=t.get("pageButtonPosition",!0);C==="end"?M[a]+=r[o]-g[o]:x[a]+=g[o]+T}M[1-a]+=p[s]/2-g[s]/2,c.setPosition(_),f.setPosition(x),h.setPosition(M);var E={x:0,y:0};if(E[o]=y?r[o]:p[o],E[s]=Math.max(p[s],g[s]),E[l]=Math.min(0,g[l]+M[1-a]),f.__rectSize=r[o],y){var D={x:0,y:0};D[o]=Math.max(r[o]-g[o]-T,0),D[s]=E[s],f.setClipPath(new dn({shape:D})),f.__rectSize=D[o]}else h.eachChild(function(z){z.attr({invisible:!0,silent:!0})});var L=this._getPageInfo(t);return L.pageIndex!=null&&Gn(c,{x:L.contentPosition[0],y:L.contentPosition[1]},y?t:null),this._updatePageInfoView(t,L),E},e.prototype._pageGo=function(t,n,r){var a=this._getPageInfo(n)[t];a!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},e.prototype._updatePageInfoView=function(t,n){var r=this._controllerGroup;H(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",h=n[f]!=null,p=r.childOfName(c);p&&(p.setStyle("fill",h?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),p.cursor=h?"pointer":"default")});var a=r.childOfName("pageText"),o=t.get("pageFormatter"),s=n.pageIndex,l=s!=null?s+1:0,u=n.pageCount;a&&o&&a.setStyle("text",rt(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(t){var n=t.get("scrollDataIndex",!0),r=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,s=TN[o],l=wN[o],u=this._findTargetItemIndex(n),c=r.children(),f=c[u],h=c.length,p=h?1:0,g={contentPosition:[r.x,r.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return g;var y=C(f);g.contentPosition[o]=-y.s;for(var _=u+1,x=y,M=y,T=null;_<=h;++_)T=C(c[_]),(!T&&M.e>x.s+a||T&&!E(T,x.s))&&(M.i>x.i?x=M:x=T,x&&(g.pageNextDataIndex==null&&(g.pageNextDataIndex=x.i),++g.pageCount)),M=T;for(var _=u-1,x=y,M=y,T=null;_>=-1;--_)T=C(c[_]),(!T||!E(M,T.s))&&x.i<M.i&&(M=x,g.pagePrevDataIndex==null&&(g.pagePrevDataIndex=x.i),++g.pageCount,++g.pageIndex),x=T;return g;function C(D){if(D){var L=D.getBoundingRect(),z=L[l]+D[l];return{s:z,e:z+L[s],i:D.__legendDataIndex}}}function E(D,L){return D.e>=L&&D.s<=L+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var n,r=this.getContentGroup(),a;return r.eachChild(function(o,s){var l=o.__legendDataIndex;a==null&&l!=null&&(a=s),l===t&&(n=s)}),n??a},e.type="legend.scroll",e})(IJ);function bLe(i){i.registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;n!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(r){r.setScrollDataIndex(n)})})}function MLe(i){sn(NJ),i.registerComponentModel(xLe),i.registerComponentView(SLe),bLe(i)}function TLe(i){sn(NJ),sn(MLe)}var wLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Np(X1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e})(X1),Z2=yn();function ALe(i,e,t){Z2(i).coordSysRecordMap.each(function(n){var r=n.dataZoomInfoMap.get(e.uid);r&&(r.getRange=t)})}function CLe(i,e){for(var t=Z2(i).coordSysRecordMap,n=t.keys(),r=0;r<n.length;r++){var a=n[r],o=t.get(a),s=o.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||OJ(t,o))}}}function OJ(i,e){if(e){i.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function ELe(i,e){var t={model:e,containsPoint:Qt(RLe,e),dispatchAction:Qt(DLe,i),dataZoomInfoMap:null,controller:null},n=t.controller=new Sm(i.getZr());return H(["pan","zoom","scrollMove"],function(r){n.on(r,function(a){var o=[];t.dataZoomInfoMap.each(function(s){if(a.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[r],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&t.dispatchAction(o)})}),t}function DLe(i,e){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function RLe(i,e,t,n){return i.coordinateSystem.containPoint([t,n])}function LLe(i,e,t){var n,r="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return i.each(function(s){var l=s.model,u=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;a[r+u]>a[r+n]&&(n=u),o=o&&l.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o,api:t,zInfo:{component:e.model},triggerInfo:{roamTrigger:null,isInSelf:e.containsPoint}}}}function ILe(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(e,t){var n=Z2(t),r=n.coordSysRecordMap||(n.coordSysRecordMap=St());r.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var o=mJ(a);H(o.infoList,function(s){var l=s.model.uid,u=r.get(l)||r.set(l,ELe(t,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=St());c.set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),r.each(function(a){var o=a.controller,s,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){OJ(r,a);return}var c=LLe(l,a,t);o.enable(c.controlType,c.opt),X_(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var PLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,n,r){if(i.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),ALe(r,t,{pan:at(AN.pan,this),zoom:at(AN.zoom,this),scrollMove:at(AN.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){CLe(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e})(F2),AN={zoom:function(i,e,t,n){var r=this.range,a=r.slice(),o=i.axisModels[0];if(o){var s=CN[e](null,[n.originX,n.originY],o,t,i),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(wp(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,r[0]!==a[0]||r[1]!==a[1])return a}},pan:FW(function(i,e,t,n,r,a){var o=CN[n]([a.oldX,a.oldY],[a.newX,a.newY],e,r,t);return o.signal*(i[1]-i[0])*o.pixel/o.pixelLength}),scrollMove:FW(function(i,e,t,n,r,a){var o=CN[n]([0,0],[a.scrollDelta,a.scrollDelta],e,r,t);return o.signal*(i[1]-i[0])*a.scrollDelta})};function FW(i){return function(e,t,n,r){var a=this.range,o=a.slice(),s=e.axisModels[0];if(s){var l=i(o,s,e,t,n,r);if(wp(l,o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}}}var CN={grid:function(i,e,t,n,r){var a=t.axis,o={},s=r.model.coordinateSystem.getRect();return i=i||[0,0],a.dim==="x"?(o.pixel=e[0]-i[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-i[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(i,e,t,n,r){var a=t.axis,o={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return i=i?s.pointToCoord(i):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(o.pixel=e[0]-i[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=e[1]-i[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?-1:1),o},singleAxis:function(i,e,t,n,r){var a=t.axis,o=r.model.coordinateSystem.getRect(),s={};return i=i||[0,0],a.orient==="horizontal"?(s.pixel=e[0]-i[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-i[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};function zJ(i){V2(i),i.registerComponentModel(wLe),i.registerComponentView(PLe),ILe(i)}var NLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Np(X1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:ge.color.accent10,borderRadius:0,backgroundColor:ge.color.transparent,dataBackground:{lineStyle:{color:ge.color.accent30,width:.5},areaStyle:{color:ge.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:ge.color.accent40,width:.5},areaStyle:{color:ge.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:ge.color.neutral00,borderColor:ge.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:ge.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:ge.color.tertiary},brushSelect:!0,brushStyle:{color:ge.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:ge.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),e})(X1),gb=dn,OLe=1,EN=30,zLe=7,mb="horizontal",VW="vertical",BLe=5,kLe=["line","bar","candlestick","scatter"],ULe={easing:"cubicOut",duration:100,delay:0},FLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,n){this.api=n,this._onBrush=at(this._onBrush,this),this._onBrushEnd=at(this._onBrushEnd,this)},e.prototype.render=function(t,n,r,a){if(i.prototype.render.apply(this,arguments),X_(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){R1(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new It;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(n),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,n=this.api,r=t.get("brushSelect"),a=r?zLe:0,o=ca(t,n).refContainer,s=this._findCoordRect(),l=t.get("defaultLocationEdgeGap",!0)||0,u=this._orient===mb?{right:o.width-s.x-s.width,top:o.height-EN-l-a,width:s.width,height:EN}:{right:l,top:s.y,width:EN,height:s.height},c=mm(t.option);H(["right","top","width","height"],function(h){c[h]==="ph"&&(c[h]=u[h])});var f=Ui(c,o);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===VW&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,n=this._location,r=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r===mb&&!o?{scaleY:l?1:-1,scaleX:1}:r===mb&&o?{scaleY:l?1:-1,scaleX:-1}:r===VW&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=n.x-u.x,t.y=n.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,n=this._size,r=this._displayables.sliderGroup,a=t.get("brushSelect");r.add(new gb({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new gb({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:at(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var n=this._size,r=this._shadowSize||[],a=t.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),l=s&&o.getDimensionInfo(s)?a.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||n[0]!==r[0]||n[1]!==r[1]){var f=o.getDataExtent(t.thisDim),h=o.getDataExtent(l),p=(h[1]-h[0])*.3;h=[h[0]-p,h[1]+p];var g=[0,n[1]],y=[0,n[0]],_=[[n[0],0],[0,0]],x=[],M=y[1]/Math.max(1,o.count()-1),T=n[0]/(f[1]-f[0]),C=t.thisAxis.type==="time",E=-M,D=Math.round(o.count()/n[0]),L;o.each([t.thisDim,l],function(G,U,X){if(D>0&&X%D){C||(E+=M);return}E=C?(+G-f[0])*T:E+M;var q=U==null||isNaN(U)||U==="",V=q?0:ei(U,h,g,!0);q&&!L&&X?(_.push([_[_.length-1][0],0]),x.push([x[x.length-1][0],0])):!q&&L&&(_.push([E,0]),x.push([E,0])),q||(_.push([E,V]),x.push([E,V])),L=q}),u=this._shadowPolygonPts=_,c=this._shadowPolylinePts=x}this._shadowData=o,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var z=this.dataZoomModel;function P(G){var U=z.getModel(G?"selectedDataBackground":"dataBackground"),X=new It,q=new ro({shape:{points:u},segmentIgnoreThreshold:1,style:U.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),V=new Ba({shape:{points:c},segmentIgnoreThreshold:1,style:U.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return X.add(q),X.add(V),X}for(var N=0;N<3;N++){var B=P(N===1);this._displayables.sliderGroup.add(B),this._displayables.dataShadowSegs.push(B)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,n=t.get("showDataShadow");if(n!==!1){var r,a=this.ecModel;return t.eachTargetAxis(function(o,s){var l=t.getAxisProxy(o,s).getTargetSeriesModels();H(l,function(u){if(!r&&!(n!==!0&&en(kLe,u.get("type"))<0)){var c=a.getComponent(lp(o),s).axis,f=VLe(o),h,p=u.coordinateSystem;f!=null&&p.getOtherAxis&&(h=p.getOtherAxis(c).inverse),f=u.getData().mapDimension(f);var g=u.getData().mapDimension(o);r={thisAxis:c,series:u,thisDim:g,otherDim:f,otherAxisInverse:h}}},this)},this),r}},e.prototype._renderHandle=function(){var t=this.group,n=this._displayables,r=n.handles=[null,null],a=n.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),h=n.filler=new gb({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(h),o.add(new gb({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:OLe,fill:ge.color.transparent}})),H([0,1],function(T){var C=l.get("handleIcon");!lD[C]&&C.indexOf("path://")<0&&C.indexOf("image://")<0&&(C="path://"+C);var E=Or(C,-1,0,2,2,null,!0);E.attr({cursor:GLe(this._orient),draggable:!0,drift:at(this._onDragMove,this,T),ondragend:at(this._onDragEnd,this),onmouseover:at(this._showDataInfo,this,!0),onmouseout:at(this._showDataInfo,this,!1),z2:5});var D=E.getBoundingRect(),L=l.get("handleSize");this._handleHeight=it(L,this._size[1]),this._handleWidth=D.width/D.height*this._handleHeight,E.setStyle(l.getModel("handleStyle").getItemStyle()),E.style.strokeNoScale=!0,E.rectHover=!0,E.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),dp(E);var z=l.get("handleColor");z!=null&&(E.style.fill=z),o.add(r[T]=E);var P=l.getModel("textStyle"),N=l.get("handleLabel")||{},B=N.show||!1;t.add(a[T]=new In({silent:!0,invisible:!B,style:Si(P,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:P.getTextColor(),font:P.getFont()}),z2:10}))},this);var p=h;if(f){var g=it(l.get("moveHandleSize"),s[1]),y=n.moveHandle=new dn({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:g}}),_=g*.8,x=n.moveHandleIcon=Or(l.get("moveHandleIcon"),-_/2,-_/2,_,_,ge.color.neutral00,!0);x.silent=!0,x.y=s[1]+g/2-.5,y.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var M=Math.min(s[1]/2,Math.max(g,10));p=n.moveZone=new dn({invisible:!0,shape:{y:s[1]-M,height:g+M}}),p.on("mouseover",function(){u.enterEmphasis(y)}).on("mouseout",function(){u.leaveEmphasis(y)}),o.add(y),o.add(x),o.add(p)}p.attr({draggable:!0,cursor:"default",drift:at(this._onDragMove,this,"all"),ondragstart:at(this._showDataInfo,this,!0),ondragend:at(this._onDragEnd,this),onmouseover:at(this._showDataInfo,this,!0),onmouseout:at(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[ei(t[0],[0,100],n,!0),ei(t[1],[0,100],n,!0)]},e.prototype._updateInterval=function(t,n){var r=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];wp(n,a,o,r.get("zoomLock")?"all":t,s.minSpan!=null?ei(s.minSpan,l,o,!0):null,s.maxSpan!=null?ei(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=js([ei(a[0],o,l,!0),ei(a[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(t){var n=this._displayables,r=this._handleEnds,a=js(r.slice()),o=this._size;H([0,1],function(p){var g=n.handles[p],y=this._handleHeight;g.attr({scaleX:y/2,scaleY:y/2,x:r[p]+(p?-1:1),y:o[1]/2-y/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=n.dataShadowSegs,u=[0,a[0],a[1],o[0]],c=0;c<l.length;c++){var f=l[c],h=f.getClipPath();h||(h=new dn,f.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var n=this.dataZoomModel,r=this._displayables,a=r.handleLabels,o=this._orient,s=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var h=js(this._handleEnds.slice());p.call(this,0),p.call(this,1);function p(g){var y=pp(r.handles[g].parent,this.group),_=QR(g===0?"right":"left",y),x=this._handleWidth/2+BLe,M=Vu([h[g]+(g===0?-x:x),this._size[1]/2],y);a[g].setStyle({x:M[0],y:M[1],verticalAlign:o===mb?"middle":_,align:o===mb?_:"center",text:s[g]})}},e.prototype._formatLabel=function(t,n){var r=this.dataZoomModel,a=r.get("labelFormatter"),o=r.get("labelPrecision");(o==null||o==="auto")&&(o=n.getPixelPrecision());var s=t==null||isNaN(t)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return Ct(a)?a(t,s):rt(a)?a.replace("{value}",s):s},e.prototype._showDataInfo=function(t){var n=this.dataZoomModel.get("handleLabel")||{},r=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=a.get("show")||!1,s=t||this._dragging?o:r,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,n,r,a){this._dragging=!0,Rh(a.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=Vu([n,r],o,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var n=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>n[0]||r[1]<0||r[1]>n[1])){var a=this._handleEnds,o=(a[0]+a[1])/2,s=this._updateInterval("all",r[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var n=t.offsetX,r=t.offsetY;this._brushStart=new kt(n,r),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var r=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),s=[0,100],l=this._handleEnds=[r.x,r.x+r.width],u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();wp(0,l,o,0,u.minSpan!=null?ei(u.minSpan,s,o,!0):null,u.maxSpan!=null?ei(u.maxSpan,s,o,!0):null),this._range=js([ei(l[0],o,s,!0),ei(l[1],o,s,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Rh(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,n){var r=this._displayables,a=this.dataZoomModel,o=r.brushRect;o||(o=r.brushRect=new gb({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,n),c=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},e.prototype._dispatchZoomAction=function(t){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?ULe:null,start:n[0],end:n[1]})},e.prototype._findCoordRect=function(){var t,n=mJ(this.dataZoomModel).infoList;if(!t&&n.length){var r=n[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var a=this.api.getWidth(),o=this.api.getHeight();t={x:a*.2,y:o*.2,width:a*.6,height:o*.6}}return t},e.type="dataZoom.slider",e})(F2);function VLe(i){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[i]}function GLe(i){return i==="vertical"?"ns-resize":"ew-resize"}function BJ(i){i.registerComponentModel(NLe),i.registerComponentView(FLe),V2(i)}function HLe(i){sn(zJ),sn(BJ)}var kJ={get:function(i,e,t){var n=Lt((WLe[i]||{})[e]);return t&&ze(n)?n[n.length-1]:n}},WLe={color:{active:["#006edd","#e0ffff"],inactive:[ge.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},GW=xa.mapVisual,XLe=xa.eachVisual,YLe=ze,HW=H,qLe=js,ZLe=ei,HD=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r)},e.prototype.optionUpdated=function(t,n){var r=this.option;!n&&CJ(r,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var n=this.stateList;t=at(t,this),this.controllerVisuals=oB(this.option.controller,n,t),this.targetVisuals=oB(this.option.target,n,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesId,n=this.option.seriesIndex;n==null&&t==null&&(n="all");var r=N_(this.ecModel,"series",{index:n,id:t},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return Ge(r,function(a){return a.componentIndex})},e.prototype.eachTargetSeries=function(t,n){H(this.getTargetSeriesIndices(),function(r){var a=this.ecModel.getSeriesByIndex(r);a&&t.call(n,a)},this)},e.prototype.isTargetSeries=function(t){var n=!1;return this.eachTargetSeries(function(r){r===t&&(n=!0)}),n},e.prototype.formatValueText=function(t,n,r){var a=this.option,o=a.precision,s=this.dataBound,l=a.formatter,u;r=r||["<",">"],ze(t)&&(t=t.slice(),u=!0);var c=n?t:u?[f(t[0]),f(t[1])]:f(t);if(rt(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Ct(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===s[0]?r[0]+" "+c[1]:t[1]===s[1]?r[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(h){return h===s[0]?"min":h===s[1]?"max":(+h).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,n=qLe([t.min,t.max]);this._dataExtent=n},e.prototype.getDataDimensionIndex=function(t){var n=this.option.dimension;if(n!=null)return t.getDimensionIndex(n);for(var r=t.dimensions,a=r.length-1;a>=0;a--){var o=r[a],s=t.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,n=this.option,r={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),o=n.controller||(n.controller={});nn(a,r),nn(o,r);var s=this.isCategory();l.call(this,a),l.call(this,o),u.call(this,a,"inRange","outOfRange"),c.call(this,o);function l(f){YLe(n.color)&&!f.inRange&&(f.inRange={color:n.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}function u(f,h,p){var g=f[h],y=f[p];g&&!y&&(y=f[p]={},HW(g,function(_,x){if(xa.isValidType(x)){var M=kJ.get(x,"inactive",s);M!=null&&(y[x]=M,x==="color"&&!y.hasOwnProperty("opacity")&&!y.hasOwnProperty("colorAlpha")&&(y.opacity=[0,0]))}}))}function c(f){var h=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,p=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,g=this.get("inactiveColor"),y=this.getItemSymbol(),_=y||"roundRect";HW(this.stateList,function(x){var M=this.itemSize,T=f[x];T||(T=f[x]={color:s?g:[g]}),T.symbol==null&&(T.symbol=h&&Lt(h)||(s?_:[_])),T.symbolSize==null&&(T.symbolSize=p&&Lt(p)||(s?M[0]:[M[0],M[0]])),T.symbol=GW(T.symbol,function(D){return D==="none"?_:D});var C=T.symbolSize;if(C!=null){var E=-1/0;XLe(C,function(D){D>E&&(E=D)}),T.symbolSize=GW(C,function(D){return ZLe(D,[0,E],[0,M[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:ge.color.transparent,borderColor:ge.color.borderTint,contentColor:ge.color.theme[0],inactiveColor:ge.color.disabled,borderWidth:0,padding:ge.size.m,textGap:10,precision:0,textStyle:{color:ge.color.secondary}},e})(mn),WW=[20,140],jLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=WW[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=WW[1])},e.prototype._resetRange=function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):ze(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},e.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),H(this.stateList,function(t){var n=this.option.controller[t].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),n=js((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},e.prototype.getValueState=function(t){var n=this.option.range,r=this.getExtent(),a=bt(this.option.unboundedRange,!0);return(a&&n[0]<=r[0]||n[0]<=t)&&(a&&n[1]>=r[1]||t<=n[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[];return this.eachTargetSeries(function(r){var a=[],o=r.getData();o.each(this.getDataDimensionIndex(o),function(s,l){t[0]<=s&&s<=t[1]&&a.push(l)},this),n.push({seriesId:r.id,dataIndex:a})},this),n},e.prototype.getVisualMeta=function(t){var n=XW(this,"outOfRange",this.getExtent()),r=XW(this,"inRange",this.option.range.slice()),a=[];function o(p,g){a.push({value:p,color:t(p,g)})}for(var s=0,l=0,u=r.length,c=n.length;l<c&&(!r.length||n[l]<=r[0]);l++)n[l]<r[s]&&o(n[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&a.length&&o(r[s],"outOfRange"),o(r[s],"inRange");for(var f=1;l<c;l++)(!r.length||r[r.length-1]<n[l])&&(f&&(a.length&&o(a[a.length-1].value,"outOfRange"),f=0),o(n[l],"outOfRange"));var h=a.length;return{stops:a,outerColors:[h?a[0].color:"transparent",h?a[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Np(HD.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:ge.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:ge.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:ge.color.shadow}}),e})(HD);function XW(i,e,t){if(t[0]===t[1])return t.slice();for(var n=200,r=(t[1]-t[0])/n,a=t[0],o=[],s=0;s<=n&&a<t[1];s++)o.push(a),a+=r;return o.push(t[1]),o}var UJ=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n},e.prototype.render=function(t,n,r,a){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,n,r,a)},e.prototype.renderBackground=function(t){var n=this.visualMapModel,r=G_(n.get("padding")||0),a=t.getBoundingRect();t.add(new dn({z2:-1,silent:!0,shape:{x:a.x-r[3],y:a.y-r[0],width:a.width+r[3]+r[1],height:a.height+r[0]+r[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,n,r){r=r||{};var a=r.forceState,o=this.visualMapModel,s={};if(n==="color"){var l=o.get("contentColor");s.color=l}function u(p){return s[p]}function c(p,g){s[p]=g}var f=o.controllerVisuals[a||o.getValueState(t)],h=xa.prepareVisualTypes(f);return H(h,function(p){var g=f[p];r.convertOpacityToAlpha&&p==="opacity"&&(p="colorAlpha",g=f.__alphaForOpacity),xa.dependsOn(p,n)&&g&&g.applyVisual(t,u,c)}),s[n]},e.prototype.positionGroup=function(t){var n=this.visualMapModel,r=this.api,a=ca(n,r).refContainer;tL(t,n.getBoxLayoutParams(),a)},e.prototype.doRender=function(t,n,r,a){},e.type="visualMap",e})(Ti),YW=[["left","right","width"],["top","bottom","height"]];function FJ(i,e,t){var n=i.option,r=n.align;if(r!=null&&r!=="auto")return r;for(var a={width:e.getWidth(),height:e.getHeight()},o=n.orient==="horizontal"?1:0,s=YW[o],l=[0,null,10],u={},c=0;c<3;c++)u[YW[1-o][c]]=l[c],u[s[c]]=c===2?t[0]:n[s[c]];var f=[["x","width",3],["y","height",0]][o],h=Ui(u,a,n.padding);return s[(h.margin[f[2]]||0)+h[f[0]]+h[f[1]]*.5<a[f[1]]*.5?0:1]}function VC(i,e){return H(i||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),i}var Vc=ei,KLe=H,qW=Math.min,DN=Math.max,$Le=12,QLe=6,JLe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,n){i.prototype.init.call(this,t,n),this._hoverLinkFromSeriesMouseOver=at(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=at(this._hideIndicator,this)},e.prototype.doRender=function(t,n,r,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,n=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(n);var r=t.get("text");this._renderEndsText(n,r,0),this._renderEndsText(n,r,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},e.prototype._renderEndsText=function(t,n,r){if(n){var a=n[1-r];a=a!=null?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,r===0?-s:l[1]+s],u),f=this._applyTransform(r===0?"bottom":"top",u),h=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new In({style:Si(p,{x:c[0],y:c[1],verticalAlign:p.get("verticalAlign")||(h==="horizontal"?"middle":f),align:p.get("align")||(h==="horizontal"?f:"center"),text:a})}))}},e.prototype._renderBar=function(t){var n=this.visualMapModel,r=this._shapes,a=n.itemSize,o=this._orient,s=this._useHandle,l=FJ(n,this.api,a),u=r.mainGroup=this._createBarGroup(l),c=new It;u.add(c),c.add(r.outOfRange=ZW()),c.add(r.inRange=ZW(null,s?KW(this._orient):null,at(this._dragHandle,this,"all",!1),at(this._dragHandle,this,"all",!0))),c.setClipPath(new dn({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=n.textStyleModel.getTextRect(""),h=DN(f.width,f.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(n,u,0,a,h,o),this._createHandle(n,u,1,a,h,o)),this._createIndicator(n,u,a,h,o),t.add(u)},e.prototype._createHandle=function(t,n,r,a,o,s){var l=at(this._dragHandle,this,r,!1),u=at(this._dragHandle,this,r,!0),c=Xu(t.get("handleSize"),a[0]),f=Or(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=KW(this._orient);f.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(x){Rh(x.event)}}),f.x=a[0]/2,f.useStyle(t.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Rg(f,!0),n.add(f);var p=this.visualMapModel.textStyleModel,g=new In({cursor:h,draggable:!0,drift:l,onmousemove:function(x){Rh(x.event)},ondragend:u,style:Si(p,{x:0,y:0,text:""})});g.ensureState("blur").style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var y=[c,0],_=this._shapes;_.handleThumbs[r]=f,_.handleLabelPoints[r]=y,_.handleLabels[r]=g},e.prototype._createIndicator=function(t,n,r,a,o){var s=Xu(t.get("indicatorSize"),r[0]),l=Or(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Ta){var c=l.style;l.useStyle(Ce({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);n.add(l);var f=this.visualMapModel.textStyleModel,h=new In({silent:!0,invisible:!0,style:Si(f,{x:0,y:0,text:""})});this.group.add(h);var p=[(o==="horizontal"?a/2:QLe)+r[0]/2,0],g=this._shapes;g.indicator=l,g.indicatorLabel=h,g.indicatorLabelPoint=p,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,n,r,a){if(this._useHandle){if(this._dragging=!n,!n){var o=this._applyTransform([r,a],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():jW(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,n=this._dataInterval=t.getSelected(),r=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[Vc(n[0],r,a,!0),Vc(n[1],r,a,!0)]},e.prototype._updateInterval=function(t,n){n=n||0;var r=this.visualMapModel,a=this._handleEnds,o=[0,r.itemSize[1]];wp(n,a,o,t,0);var s=r.getExtent();this._dataInterval=[Vc(a[0],o,s,!0),Vc(a[1],o,s,!0)]},e.prototype._updateView=function(t){var n=this.visualMapModel,r=n.getExtent(),a=this._shapes,o=[0,n.itemSize[1]],s=t?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),u=this._createBarVisual(r,r,o,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,n,r,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,o),l=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],u=this._createBarPoints(r,l);return{barColor:new vm(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,n){var r=100,a=[],o=(t[1]-t[0])/r;a.push({color:this.getControllerVisual(t[0],"color",n),offset:0});for(var s=1;s<r;s++){var l=t[0]+o*s;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:s/r})}return a.push({color:this.getControllerVisual(t[1],"color",n),offset:1}),a},e.prototype._createBarPoints=function(t,n){var r=this.visualMapModel.itemSize;return[[r[0]-n[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-n[1],t[1]]]},e.prototype._createBarGroup=function(t){var n=this._orient,r=this.visualMapModel.get("inverse");return new It(n==="horizontal"&&!r?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&r?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!r?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,n){if(this._useHandle){var r=this._shapes,a=this.visualMapModel,o=r.handleThumbs,s=r.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",r.mainGroup);KLe([0,1],function(f){var h=o[f];h.setStyle("fill",n.handlesColor[f]),h.y=t[f];var p=Vc(t[f],[0,l[1]],u,!0),g=this.getControllerVisual(p,"symbolSize");h.scaleX=h.scaleY=g/l[0],h.x=l[0]-g/2;var y=Vu(r.handleLabelPoints[f],pp(h,this.group));if(this._orient==="horizontal"){var _=c==="left"||c==="top"?(l[0]-g)/2:(l[0]-g)/-2;y[1]+=_}s[f].setStyle({x:y[0],y:y[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,n,r,a){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var h={convertOpacityToAlpha:!0},p=this.getControllerVisual(t,"color",h),g=this.getControllerVisual(t,"symbolSize"),y=Vc(t,s,u,!0),_=l[0]-g/2,x={x:f.x,y:f.y};f.y=y,f.x=_;var M=Vu(c.indicatorLabelPoint,pp(f,this.group)),T=c.indicatorLabel;T.attr("invisible",!1);var C=this._applyTransform("left",c.mainGroup),E=this._orient,D=E==="horizontal";T.setStyle({text:(r||"")+o.formatValueText(n),verticalAlign:D?C:"middle",align:D?"center":C});var L={x:_,y,style:{fill:p}},z={style:{x:M[0],y:M[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var P={duration:100,easing:"cubicInOut",additive:!0};f.x=x.x,f.y=x.y,f.animateTo(L,P),T.animateTo(z,P)}else f.attr(L),T.attr(z);this._firstShowIndicator=!1;var N=this._shapes.handleLabels;if(N)for(var B=0;B<N.length;B++)this.api.enterBlur(N[B])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(n){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,a=t._applyTransform([n.offsetX,n.offsetY],t._shapes.mainGroup,!0,!0);a[1]=qW(DN(0,a[1]),r[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=r[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,n){var r=this.visualMapModel,a=r.itemSize;if(r.option.hoverLink){var o=[0,a[1]],s=r.getExtent();t=qW(DN(o[0],t),o[1]);var l=eIe(r,s,o),u=[t-l,t+l],c=Vc(t,o,s,!0),f=[Vc(u[0],o,s,!0),Vc(u[1],o,s,!0)];u[0]<o[0]&&(f[0]=-1/0),u[1]>o[1]&&(f[1]=1/0),n&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c," ",l));var h=this._hoverLinkDataIndices,p=[];(n||jW(r))&&(p=this._hoverLinkDataIndices=r.findTargetDataIndices(f));var g=Pde(h,p);this._dispatchHighDown("downplay",VC(g[0],r)),this._dispatchHighDown("highlight",VC(g[1],r))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var n;if(Ig(t.target,function(l){var u=Ht(l);if(u.dataIndex!=null)return n=u,!0},!0),!!n){var r=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(r)){var o=r.getData(n.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),n.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var r=0;r<n.length;r++)this.api.leaveBlur(n[r])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",VC(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,n,r,a){var o=pp(n,a?null:this.group);return ze(t)?Vu(t,o,r):QR(t,o,r)},e.prototype._dispatchHighDown=function(t,n){n&&n.length&&this.api.dispatchAction({type:t,batch:n})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e})(UJ);function ZW(i,e,t,n){return new ro({shape:{points:i},draggable:!!t,cursor:e,drift:t,onmousemove:function(r){Rh(r.event)},ondragend:n})}function eIe(i,e,t){var n=$Le/2,r=i.get("hoverLinkDataSize");return r&&(n=Vc(r,e,t,!0)/2),n}function jW(i){var e=i.get("hoverLinkOnHandle");return!!(e??i.get("realtime"))}function KW(i){return i==="vertical"?"ns-resize":"ew-resize"}var tIe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},nIe=function(i,e){e.eachComponent({mainType:"visualMap",query:i},function(t){t.setSelected(i.selected)})},iIe=[{createOnAllSeries:!0,reset:function(i,e){var t=[];return e.eachComponent("visualMap",function(n){var r=i.pipelineContext;!n.isTargetSeries(i)||r&&r.large||t.push(TRe(n.stateList,n.targetVisuals,at(n.getValueState,n),n.getDataDimensionIndex(i.getData())))}),t}},{createOnAllSeries:!0,reset:function(i,e){var t=i.getData(),n=[];e.eachComponent("visualMap",function(r){if(r.isTargetSeries(i)){var a=r.getVisualMeta(at(rIe,null,i,r))||{stops:[],outerColors:[]},o=r.getDataDimensionIndex(t);o>=0&&(a.dimension=o,n.push(a))}}),i.getData().setVisual("visualMeta",n)}}];function rIe(i,e,t,n){for(var r=e.targetVisuals[n],a=xa.prepareVisualTypes(r),o={color:_M(i.getData(),"color")},s=0,l=a.length;s<l;s++){var u=a[s],c=r[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(t,f,h)}return o.color;function f(p){return o[p]}function h(p,g){o[p]=g}}var $W=H;function aIe(i){var e=i&&i.visualMap;ze(e)||(e=e?[e]:[]),$W(e,function(t){if(t){b0(t,"splitList")&&!b0(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var n=t.pieces;n&&ze(n)&&$W(n,function(r){zt(r)&&(b0(r,"start")&&!b0(r,"min")&&(r.min=r.start),b0(r,"end")&&!b0(r,"max")&&(r.max=r.end))})}})}function b0(i,e){return i&&i.hasOwnProperty&&i.hasOwnProperty(e)}var QW=!1;function VJ(i){QW||(QW=!0,i.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),i.registerAction(tIe,nIe),H(iIe,function(e){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,e)}),i.registerPreprocessor(aIe))}function GJ(i){i.registerComponentModel(jLe),i.registerComponentView(JLe),VJ(i)}var oIe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],sIe[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var a=this.option.categories;this.resetVisual(function(o,s){r==="categories"?(o.mappingMethod="category",o.categories=Lt(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Ge(this._pieceList,function(l){return l=Lt(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,n={},r=xa.listVisualTypes(),a=this.isCategory();H(t.pieces,function(s){H(r,function(l){s.hasOwnProperty(l)&&(n[l]=1)})}),H(n,function(s,l){var u=!1;H(this.stateList,function(c){u=u||o(t,c,l)||o(t.target,c,l)},this),!u&&H(this.stateList,function(c){(t[c]||(t[c]={}))[l]=kJ.get(l,c==="inRange"?"active":"inactive",a)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}i.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,n){var r=this.option,a=this._pieceList,o=(n?r:t).selected||{};if(r.selected=o,H(a,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),r.selectedMode==="single"){var s=!1;H(a,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Lt(t)},e.prototype.getValueState=function(t){var n=xa.findPieceIndex(t,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[],r=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=xa.findPieceIndex(l,r);c===t&&o.push(u)},this),n.push({seriesId:a.id,dataIndex:o})},this),n},e.prototype.getRepresentValue=function(t){var n;if(this.isCategory())n=t.value;else if(t.value!=null)n=t.value;else{var r=t.interval||[];n=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return n},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var n=[],r=["",""],a=this;function o(c,f){var h=a.getRepresentValue({interval:c});f||(f=a.getValueState(h));var p=t(h,f);c[0]===-1/0?r[0]=p:c[1]===1/0?r[1]=p:n.push({value:c[0],color:p},{value:c[1],color:p})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return H(s,function(c){var f=c.interval;f&&(f[0]>u&&o([u,f[0]],"outOfRange"),o(f.slice()),u=f[1])},this),{stops:n,outerColors:r}},e.type="visualMap.piecewise",e.defaultOption=Np(HD.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e})(HD),sIe={splitNumber:function(i){var e=this.option,t=Math.min(e.precision,20),n=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var a=(n[1]-n[0])/r;+a.toFixed(t)!==a&&t<5;)t++;e.precision=t,a=+a.toFixed(t),e.minOpen&&i.push({interval:[-1/0,n[0]],close:[0,0]});for(var o=0,s=n[0];o<r;s+=a,o++){var l=o===r-1?n[1]:s+a;i.push({interval:[s,l],close:[1,1]})}e.maxOpen&&i.push({interval:[n[1],1/0],close:[0,0]}),LO(i),H(i,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(i){var e=this.option;H(e.categories,function(t){i.push({text:this.formatValueText(t,!0),value:t})},this),JW(e,i)},pieces:function(i){var e=this.option;H(e.pieces,function(t,n){zt(t)||(t={value:t});var r={text:"",index:n};if(t.label!=null&&(r.text=t.label),t.hasOwnProperty("value")){var a=r.value=t.value;r.interval=[a,a],r.close=[1,1]}else{for(var o=r.interval=[],s=r.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var h=[["gte","gt","min"],["lte","lt","max"]][f],p=0;p<3&&o[f]==null;p++)o[f]=t[h[p]],s[f]=l[p],c[f]=p===2;o[f]==null&&(o[f]=u[f])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(r.value=o[0])}r.visual=xa.retrieveVisuals(t),i.push(r)},this),JW(e,i),LO(i),H(i,function(t){var n=t.close,r=[["<",""][n[1]],[">",""][n[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,r)},this)}};function JW(i,e){var t=i.inverse;(i.orient==="vertical"?!t:t)&&e.reverse()}var lIe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var n=this.visualMapModel,r=n.get("textGap"),a=n.textStyleModel,o=this._getItemAlign(),s=n.itemSize,l=this._getViewData(),u=l.endsText,c=Na(n.get("showLabel",!0),!u),f=!n.get("selectedMode");u&&this._renderEndsText(t,u[0],s,c,o),H(l.viewPieceList,function(h){var p=h.piece,g=new It;g.onclick=at(this._onItemClick,this,p),this._enableHoverLink(g,h.indexInModelPieceList);var y=n.getRepresentValue(p);if(this._createItemSymbol(g,y,[0,0,s[0],s[1]],f),c){var _=this.visualMapModel.getValueState(y),x=a.get("align")||o;g.add(new In({style:Si(a,{x:x==="right"?-r:s[0]+r,y:s[1]/2,text:p.text,verticalAlign:a.get("verticalAlign")||"middle",align:x,opacity:bt(a.get("opacity"),_==="outOfRange"?.5:1)}),silent:f}))}t.add(g)},this),u&&this._renderEndsText(t,u[1],s,c,o),Vg(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,n){var r=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:o,batch:VC(s.findTargetDataIndices(n),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,n=t.option;if(n.orient==="vertical")return FJ(t,this.api,t.itemSize);var r=n.align;return(!r||r==="auto")&&(r="left"),r},e.prototype._renderEndsText=function(t,n,r,a,o){if(n){var s=new It,l=this.visualMapModel.textStyleModel;s.add(new In({style:Si(l,{x:a?o==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:a?o:"center",text:n})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,n=Ge(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=t.get("text"),a=t.get("orient"),o=t.get("inverse");return(a==="horizontal"?o:!o)?n.reverse():r&&(r=r.slice().reverse()),{viewPieceList:n,endsText:r}},e.prototype._createItemSymbol=function(t,n,r,a){var o=Or(this.getControllerVisual(n,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(n,"color"));o.silent=a,t.add(o)},e.prototype._onItemClick=function(t){var n=this.visualMapModel,r=n.option,a=r.selectedMode;if(a){var o=Lt(r.selected),s=n.getSelectedMapKey(t);a==="single"||a===!0?(o[s]=!0,H(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},e.type="visualMap.piecewise",e})(UJ);function HJ(i){i.registerComponentModel(oIe),i.registerComponentView(lIe),VJ(i)}function uIe(i){sn(GJ),sn(HJ)}var cIe=(function(){function i(e){this._thumbnailModel=e}return i.prototype.reset=function(e){this._renderVersion=e.getMainProcessVersion()},i.prototype.renderContent=function(e){var t=e.api.getViewOfComponentModel(this._thumbnailModel);t&&(e.group.silent=!0,t.renderContent({group:e.group,targetTrans:e.targetTrans,z2Range:dZ(e.group),roamType:e.roamType,viewportRect:e.viewportRect,renderVersion:this._renderVersion}))},i.prototype.updateWindow=function(e,t){var n=t.getViewOfComponentModel(this._thumbnailModel);n&&n.updateWindow({targetTrans:e,renderVersion:this._renderVersion})},i})(),fIe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.optionUpdated=function(t,n){this._updateBridge()},e.prototype._updateBridge=function(){var t=this._birdge=this._birdge||new cIe(this);if(this._target=null,this.ecModel.eachSeries(function(r){T8(r,null)}),this.shouldShow()){var n=this.getTarget();T8(n.baseMapProvider,t)}},e.prototype.shouldShow=function(){return this.getShallow("show",!0)},e.prototype.getBridge=function(){return this._birdge},e.prototype.getTarget=function(){if(this._target)return this._target;var t=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return t?t.subType!=="graph"&&(t=null):t=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:t},this._target},e.type="thumbnail",e.layoutMode="box",e.dependencies=["series","geo"],e.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:ge.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:ge.color.neutral30,borderColor:ge.color.neutral40,opacity:.3},z:10},e})(mn),hIe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,r){if(this._api=r,this._model=t,this._coordSys||(this._coordSys=new bm),!this._isEnabled()){this._clear();return}this._renderVersion=r.getMainProcessVersion();var a=this.group;a.removeAll();var o=t.getModel("itemStyle"),s=o.getItemStyle();s.fill==null&&(s.fill=n.get("backgroundColor")||ge.color.neutral00);var l=ca(t,r).refContainer,u=Ui(PZ(t,!0),l),c=s.lineWidth||0,f=this._contentRect=rm(u.clone(),c/2,!0,!0),h=new It;a.add(h),h.setClipPath(new dn({shape:f.plain()}));var p=this._targetGroup=new It;h.add(p);var g=u.plain();g.r=o.getShallow("borderRadius",!0),a.add(this._bgRect=new dn({style:s,shape:g,silent:!1,cursor:"grab"}));var y=t.getModel("windowStyle"),_=y.getShallow("borderRadius",!0);h.add(this._windowRect=new dn({shape:{x:0,y:0,width:0,height:0,r:_},style:y.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),t7(t,this)},e.prototype.renderContent=function(t){this._bridgeRendered=t,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),t7(this._model,this))},e.prototype._dealRenderContent=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var n=this._targetGroup,r=this._coordSys,a=this._contentRect;if(n.removeAll(),!!t){var o=t.group,s=o.getBoundingRect();n.add(o),this._bgRect.z2=t.z2Range.min-10,r.setBoundingRect(s.x,s.y,s.width,s.height);var l=Ui({left:"center",top:"center",aspect:s.width/s.height},a);r.setViewRect(l.x,l.y,l.width,l.height),o.attr(r.getTransformInfo().raw),this._windowRect.z2=t.z2Range.max+10,this._resetRoamController(t.roamType)}}},e.prototype.updateWindow=function(t){var n=this._bridgeRendered;n&&n.renderVersion===t.renderVersion&&(n.targetTrans=t.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},e.prototype._dealUpdateWindow=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var n=jl([],t.targetTrans),r=Uu([],this._coordSys.transform,n);this._transThisToTarget=jl([],r);var a=t.viewportRect;a?a=a.clone():a=new Ut(0,0,this._api.getWidth(),this._api.getHeight()),a.applyTransform(r);var o=this._windowRect,s=o.shape.r;o.setShape(Ot({r:s},a))}},e.prototype._resetRoamController=function(t){var n=this,r=this._api,a=this._roamController;if(a||(a=this._roamController=new Sm(r.getZr())),!t||!this._isEnabled()){a.disable();return}a.enable(t,{api:r,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(o,s,l){return n._contentRect.contain(s,l)}}}),a.off("pan").off("zoom").on("pan",at(this._onPan,this)).on("zoom",at(this._onZoom,this))},e.prototype._onPan=function(t){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var r=xr([],[t.oldX,t.oldY],n),a=xr([],[t.oldX-t.dx,t.oldY-t.dy],n);this._api.dispatchAction(e7(this._model.getTarget().baseMapProvider,{dx:a[0]-r[0],dy:a[1]-r[1]}))}},e.prototype._onZoom=function(t){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var r=xr([],[t.originX,t.originY],n);this._api.dispatchAction(e7(this._model.getTarget().baseMapProvider,{zoom:1/t.scale,originX:r[0],originY:r[1]}))}},e.prototype._isEnabled=function(){var t=this._model;if(!t||!t.shouldShow())return!1;var n=t.getTarget().baseMapProvider;return!!n},e.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},e.prototype.remove=function(){this._clear()},e.prototype.dispose=function(){this._clear()},e.type="thumbnail",e})(Ti);function e7(i,e){var t=i.mainType==="series"?i.subType+"Roam":i.mainType+"Roam",n={type:t};return n[i.mainType+"Id"]=i.id,Ce(n,e),n}function t7(i,e){var t=am(i);JR(e.group,t.z,t.zlevel)}function dIe(i){i.registerComponentModel(fIe),i.registerComponentView(hIe)}var pIe={label:{enabled:!0},decal:{show:!1}},n7=yn(),vIe={};function gIe(i,e){var t=i.getModel("aria");if(!t.get("enabled"))return;var n=Lt(pIe);nn(n.label,i.getLocaleModel().get("aria"),!1),nn(t.option,n,!1),r(),a();function r(){var u=t.getModel("decal"),c=u.get("show");if(c){var f=St();i.eachSeries(function(h){if(!h.isColorBySeries()){var p=f.get(h.type);p||(p={},f.set(h.type,p)),n7(h).scope=p}}),i.eachRawSeries(function(h){if(i.isSeriesFiltered(h))return;if(Ct(h.enableAriaDecal)){h.enableAriaDecal();return}var p=h.getData();if(h.isColorBySeries()){var M=QO(h.ecModel,h.name,vIe,i.getSeriesCount()),T=p.getVisual("decal");p.setVisual("decal",C(T,M))}else{var g=h.getRawData(),y={},_=n7(h).scope;p.each(function(E){var D=p.getRawIndex(E);y[D]=E});var x=g.count();g.each(function(E){var D=y[E],L=g.getName(E)||E+"",z=QO(h.ecModel,L,_,x),P=p.getItemVisual(D,"decal");p.setItemVisual(D,"decal",C(P,z))})}function C(E,D){var L=E?Ce(Ce({},D),E):D;return L.dirty=!0,L}})}}function a(){var u=e.getZr().dom;if(u){var c=i.getLocaleModel().get("aria"),f=t.getModel("label");if(f.option=Ot(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var h=i.getSeriesCount(),p=f.get(["data","maxCount"])||10,g=f.get(["series","maxCount"])||10,y=Math.min(h,g),_;if(!(h<1)){var x=s();if(x){var M=f.get(["general","withTitle"]);_=o(M,{title:x})}else _=f.get(["general","withoutTitle"]);var T=[],C=h>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);_+=o(C,{seriesCount:h}),i.eachSeries(function(z,P){if(P<y){var N=void 0,B=z.get("name"),G=B?"withName":"withoutName";N=h>1?f.get(["series","multiple",G]):f.get(["series","single",G]),N=o(N,{seriesId:z.seriesIndex,seriesName:z.get("name"),seriesType:l(z.subType)});var U=z.getData();if(U.count()>p){var X=f.get(["data","partialData"]);N+=o(X,{displayCnt:p})}else N+=f.get(["data","allData"]);for(var q=f.get(["data","separator","middle"]),V=f.get(["data","separator","end"]),j=f.get(["data","excludeDimensionId"]),K=[],te=0;te<U.count();te++)if(te<p){var ie=U.getName(te),Y=j?Kn(U.getValues(te),function(oe,de){return en(j,de)===-1}):U.getValues(te),ee=f.get(["data",ie?"withName":"withoutName"]);K.push(o(ee,{name:ie,value:Y.join(q)}))}N+=K.join(q)+V,T.push(N)}});var E=f.getModel(["series","multiple","separator"]),D=E.get("middle"),L=E.get("end");_+=T.join(D)+L,u.setAttribute("aria-label",_)}}}}function o(u,c){if(!rt(u))return u;var f=u;return H(c,function(h,p){f=f.replace(new RegExp("\\{\\s*"+p+"\\s*\\}","g"),h)}),f}function s(){var u=i.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=i.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function mIe(i){if(!(!i||!i.aria)){var e=i.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},H(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function yIe(i){i.registerPreprocessor(mIe),i.registerVisual(i.PRIORITY.VISUAL.ARIA,gIe)}var i7={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},_Ie=(function(){function i(e){var t=this._condVal=rt(e)?new RegExp(e):BY(e)?e:null;if(t==null){var n="";ti(n)}}return i.prototype.evaluate=function(e){var t=typeof e;return rt(t)?this._condVal.test(e):Pn(t)?this._condVal.test(e+""):!1},i})(),xIe=(function(){function i(){}return i.prototype.evaluate=function(){return this.value},i})(),SIe=(function(){function i(){}return i.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},i})(),bIe=(function(){function i(){}return i.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},i})(),MIe=(function(){function i(){}return i.prototype.evaluate=function(){return!this.child.evaluate()},i})(),TIe=(function(){function i(){}return i.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,n=t(this.valueGetterParam),r=e?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?r:n))return!1;return!0},i})();function j2(i,e){if(i===!0||i===!1){var t=new xIe;return t.value=i,t}var n="";return WJ(i)||ti(n),i.and?r7("and",i,e):i.or?r7("or",i,e):i.not?wIe(i,e):AIe(i,e)}function r7(i,e,t){var n=e[i],r="";ze(n)||ti(r),n.length||ti(r);var a=i==="and"?new SIe:new bIe;return a.children=Ge(n,function(o){return j2(o,t)}),a.children.length||ti(r),a}function wIe(i,e){var t=i.not,n="";WJ(t)||ti(n);var r=new MIe;return r.child=j2(t,e),r.child||ti(n),r}function AIe(i,e){for(var t="",n=e.prepareGetValue(i),r=[],a=An(i),o=i.parser,s=o?tj(o):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=gt(i7,u)?i7[u]:u,f=i[u],h=s?s(f):f,p=Yge(c,h)||c==="reg"&&new _Ie(h);p||ti(t),r.push(p)}}r.length||ti(t);var g=new TIe;return g.valueGetterParam=n,g.valueParser=s,g.getValue=e.getValue,g.subCondList=r,g}function WJ(i){return zt(i)&&!to(i)}var CIe=(function(){function i(e,t){this._cond=j2(e,t)}return i.prototype.evaluate=function(){return this._cond.evaluate()},i})();function EIe(i,e){return new CIe(i,e)}var DIe={type:"echarts:filter",transform:function(i){for(var e=i.upstream,t,n=EIe(i.config,{valueGetterAttrMap:St({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;gt(s,"dimension")||ti(l);var c=e.getDimensionInfo(u);return c||ti(l),{dimIdx:c.index}},getValue:function(s){return e.retrieveValueFromItem(t,s.dimIdx)}}),r=[],a=0,o=e.count();a<o;a++)t=e.getRawDataItem(a),n.evaluate()&&r.push(t);return{data:r}}},RIe={type:"echarts:sort",transform:function(i){var e=i.upstream,t=i.config,n="",r=Mi(t);r.length||ti(n);var a=[];H(r,function(c){var f=c.dimension,h=c.order,p=c.parser,g=c.incomparable;if(f==null&&ti(n),h!=="asc"&&h!=="desc"&&ti(n),g&&g!=="min"&&g!=="max"){var y="";ti(y)}if(h!=="asc"&&h!=="desc"){var _="";ti(_)}var x=e.getDimensionInfo(f);x||ti(n);var M=p?tj(p):null;p&&!M&&ti(n),a.push({dimIdx:x.index,parser:M,comparator:new ij(h,g)})});var o=e.sourceFormat;o!==ka&&o!==il&&ti(n);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort(function(c,f){for(var h=0;h<a.length;h++){var p=a[h],g=e.retrieveValueFromItem(c,p.dimIdx),y=e.retrieveValueFromItem(f,p.dimIdx);p.parser&&(g=p.parser(g),y=p.parser(y));var _=p.comparator.evaluate(g,y);if(_!==0)return _}return 0}),{data:s}}};function LIe(i){i.registerTransform(DIe),i.registerTransform(RIe)}var IIe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,n,r){i.prototype.init.call(this,t,n,r),this._sourceManager=new sj(this),zG(this)},e.prototype.mergeOption=function(t,n){i.prototype.mergeOption.call(this,t,n),zG(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Gu},e})(mn),PIe=(function(i){fe(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e})(Ti);function NIe(i){i.registerComponentModel(IIe),i.registerComponentView(PIe)}var Uc=ff.CMD;function k0(i,e){return Math.abs(i-e)<1e-5}function dB(i){var e=i.data,t=i.len(),n=[],r,a=0,o=0,s=0,l=0;function u(U,X){r&&r.length>2&&n.push(r),r=[U,X]}function c(U,X,q,V){k0(U,q)&&k0(X,V)||r.push(U,X,q,V,q,V)}function f(U,X,q,V,j,K){var te=Math.abs(X-U),ie=Math.tan(te/4)*4/3,Y=X<U?-1:1,ee=Math.cos(U),oe=Math.sin(U),de=Math.cos(X),Pe=Math.sin(X),he=ee*j+q,Se=oe*K+V,Ee=de*j+q,Te=Pe*K+V,He=j*ie*Y,We=K*ie*Y;r.push(he-He*oe,Se+We*ee,Ee+He*Pe,Te-We*de,Ee,Te)}for(var h,p,g,y,_=0;_<t;){var x=e[_++],M=_===1;switch(M&&(a=e[_],o=e[_+1],s=a,l=o,(x===Uc.L||x===Uc.C||x===Uc.Q)&&(r=[s,l])),x){case Uc.M:a=s=e[_++],o=l=e[_++],u(s,l);break;case Uc.L:h=e[_++],p=e[_++],c(a,o,h,p),a=h,o=p;break;case Uc.C:r.push(e[_++],e[_++],e[_++],e[_++],a=e[_++],o=e[_++]);break;case Uc.Q:h=e[_++],p=e[_++],g=e[_++],y=e[_++],r.push(a+2/3*(h-a),o+2/3*(p-o),g+2/3*(h-g),y+2/3*(p-y),g,y),a=g,o=y;break;case Uc.A:var T=e[_++],C=e[_++],E=e[_++],D=e[_++],L=e[_++],z=e[_++]+L;_+=1;var P=!e[_++];h=Math.cos(L)*E+T,p=Math.sin(L)*D+C,M?(s=h,l=p,u(s,l)):c(a,o,h,p),a=Math.cos(z)*E+T,o=Math.sin(z)*D+C;for(var N=(P?-1:1)*Math.PI/2,B=L;P?B>z:B<z;B+=N){var G=P?Math.max(B+N,z):Math.min(B+N,z);f(B,G,T,C,E,D)}break;case Uc.R:s=a=e[_++],l=o=e[_++],h=s+e[_++],p=l+e[_++],u(h,l),c(h,l,h,p),c(h,p,s,p),c(s,p,s,l),c(s,l,h,l);break;case Uc.Z:r&&c(a,o,s,l),a=s,o=l;break}}return r&&r.length>2&&n.push(r),n}function pB(i,e,t,n,r,a,o,s,l,u){if(k0(i,t)&&k0(e,n)&&k0(r,o)&&k0(a,s)){l.push(o,s);return}var c=2/u,f=c*c,h=o-i,p=s-e,g=Math.sqrt(h*h+p*p);h/=g,p/=g;var y=t-i,_=n-e,x=r-o,M=a-s,T=y*y+_*_,C=x*x+M*M;if(T<f&&C<f){l.push(o,s);return}var E=h*y+p*_,D=-h*x-p*M,L=T-E*E,z=C-D*D;if(L<f&&E>=0&&z<f&&D>=0){l.push(o,s);return}var P=[],N=[];bp(i,t,r,o,.5,P),bp(e,n,a,s,.5,N),pB(P[0],N[0],P[1],N[1],P[2],N[2],P[3],N[3],l,u),pB(P[4],N[4],P[5],N[5],P[6],N[6],P[7],N[7],l,u)}function OIe(i,e){var t=dB(i),n=[];e=e||1;for(var r=0;r<t.length;r++){var a=t[r],o=[],s=a[0],l=a[1];o.push(s,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],h=a[u++],p=a[u++],g=a[u++],y=a[u++];pB(s,l,c,f,h,p,g,y,o,e),s=g,l=y}n.push(o)}return n}function XJ(i,e,t){var n=i[e],r=i[1-e],a=Math.abs(n/r),o=Math.ceil(Math.sqrt(a*t)),s=Math.floor(t/o);s===0&&(s=1,o=t);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,f=t-c;if(f>0)for(var u=0;u<f;u++)l[u%o]+=1;return l}function a7(i,e,t){for(var n=i.r0,r=i.r,a=i.startAngle,o=i.endAngle,s=Math.abs(o-a),l=s*r,u=r-n,c=l>Math.abs(u),f=XJ([l,u],c?0:1,e),h=(c?s:u)/f.length,p=0;p<f.length;p++)for(var g=(c?u:s)/f[p],y=0;y<f[p];y++){var _={};c?(_.startAngle=a+h*p,_.endAngle=a+h*(p+1),_.r0=n+g*y,_.r=n+g*(y+1)):(_.startAngle=a+g*y,_.endAngle=a+g*(y+1),_.r0=n+h*p,_.r=n+h*(p+1)),_.clockwise=i.clockwise,_.cx=i.cx,_.cy=i.cy,t.push(_)}}function zIe(i,e,t){for(var n=i.width,r=i.height,a=n>r,o=XJ([n,r],a?0:1,e),s=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=i[s]/o.length,h=0;h<o.length;h++)for(var p=i[l]/o[h],g=0;g<o[h];g++){var y={};y[u]=h*f,y[c]=g*p,y[s]=f,y[l]=p,y.x+=i.x,y.y+=i.y,t.push(y)}}function o7(i,e,t,n){return i*n-t*e}function BIe(i,e,t,n,r,a,o,s){var l=t-i,u=n-e,c=o-r,f=s-a,h=o7(c,f,l,u);if(Math.abs(h)<1e-6)return null;var p=i-r,g=e-a,y=o7(p,g,c,f)/h;return y<0||y>1?null:new kt(y*l+i,y*u+e)}function kIe(i,e,t){var n=new kt;kt.sub(n,t,e),n.normalize();var r=new kt;kt.sub(r,i,e);var a=r.dot(n);return a}function M0(i,e){var t=i[i.length-1];t&&t[0]===e[0]&&t[1]===e[1]||i.push(e)}function UIe(i,e,t){for(var n=i.length,r=[],a=0;a<n;a++){var o=i[a],s=i[(a+1)%n],l=BIe(o[0],o[1],s[0],s[1],e.x,e.y,t.x,t.y);l&&r.push({projPt:kIe(l,e,t),pt:l,idx:a})}if(r.length<2)return[{points:i},{points:i}];r.sort(function(_,x){return _.projPt-x.projPt});var u=r[0],c=r[r.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var h=[u.pt.x,u.pt.y],p=[c.pt.x,c.pt.y],g=[h],y=[p],a=u.idx+1;a<=c.idx;a++)M0(g,i[a].slice());M0(g,p),M0(g,h);for(var a=c.idx+1;a<=u.idx+n;a++)M0(y,i[a%n].slice());return M0(y,h),M0(y,p),[{points:g},{points:y}]}function s7(i){var e=i.points,t=[],n=[];qR(e,t,n);var r=new Ut(t[0],t[1],n[0]-t[0],n[1]-t[1]),a=r.width,o=r.height,s=r.x,l=r.y,u=new kt,c=new kt;return a>o?(u.x=c.x=s+a/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+a),UIe(e,u,c)}function WD(i,e,t,n){if(t===1)n.push(e);else{var r=Math.floor(t/2),a=i(e);WD(i,a[0],r,n),WD(i,a[1],t-r,n)}return n}function FIe(i,e){for(var t=[],n=0;n<e;n++)t.push(Wk(i));return t}function VIe(i,e){e.setStyle(i.style),e.z=i.z,e.z2=i.z2,e.zlevel=i.zlevel}function GIe(i){for(var e=[],t=0;t<i.length;)e.push([i[t++],i[t++]]);return e}function HIe(i,e){var t=[],n=i.shape,r;switch(i.type){case"rect":zIe(n,e,t),r=dn;break;case"sector":a7(n,e,t),r=io;break;case"circle":a7({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,t),r=io;break;default:var a=i.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=Ge(OIe(i.getUpdatedPathProxy(),o),function(x){return GIe(x)}),l=s.length;if(l===0)WD(s7,{points:s[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:s[u]});else{var c=0,f=Ge(s,function(x){var M=[],T=[];qR(x,M,T);var C=(T[1]-M[1])*(T[0]-M[0]);return c+=C,{poly:x,area:C}});f.sort(function(x,M){return M.area-x.area});for(var h=e,u=0;u<l;u++){var p=f[u];if(h<=0)break;var g=u===l-1?h:Math.ceil(p.area/c*e);g<0||(WD(s7,{points:p.poly},g,t),h-=g)}}r=ro;break}if(!r)return FIe(i,e);for(var y=[],u=0;u<t.length;u++){var _=new r;_.setShape(t[u]),VIe(i,_),y.push(_)}return y}function WIe(i,e){var t=i.length,n=e.length;if(t===n)return[i,e];for(var r=[],a=[],o=t<n?i:e,s=Math.min(t,n),l=Math.abs(n-t)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,f=[o[0],o[1]],h=l,p=2;p<s;){var g=o[p-2],y=o[p-1],_=o[p++],x=o[p++],M=o[p++],T=o[p++],C=o[p++],E=o[p++];if(h<=0){f.push(_,x,M,T,C,E);continue}for(var D=Math.min(h,c-1)+1,L=1;L<=D;L++){var z=L/D;bp(g,_,M,C,z,r),bp(y,x,T,E,z,a),g=r[3],y=a[3],f.push(r[1],a[1],r[2],a[2],g,y),_=r[5],x=a[5],M=r[6],T=a[6]}h-=D-1}return o===i?[f,e]:[i,f]}function l7(i,e){for(var t=i.length,n=i[t-2],r=i[t-1],a=[],o=0;o<e.length;)a[o++]=n,a[o++]=r;return a}function XIe(i,e){for(var t,n,r,a=[],o=[],s=0;s<Math.max(i.length,e.length);s++){var l=i[s],u=e[s],c=void 0,f=void 0;l?u?(t=WIe(l,u),c=t[0],f=t[1],n=c,r=f):(f=l7(r||l,l),c=l):(c=l7(n||u,u),f=u),a.push(c),o.push(f)}return[a,o]}function u7(i){for(var e=0,t=0,n=0,r=i.length,a=0,o=r-2;a<r;o=a,a+=2){var s=i[o],l=i[o+1],u=i[a],c=i[a+1],f=s*c-u*l;e+=f,t+=(s+u)*f,n+=(l+c)*f}return e===0?[i[0]||0,i[1]||0]:[t/e/3,n/e/3,e]}function YIe(i,e,t,n){for(var r=(i.length-2)/6,a=1/0,o=0,s=i.length,l=s-2,u=0;u<r;u++){for(var c=u*6,f=0,h=0;h<s;h+=2){var p=h===0?c:(c+h-2)%l+2,g=i[p]-t[0],y=i[p+1]-t[1],_=e[h]-n[0],x=e[h+1]-n[1],M=_-g,T=x-y;f+=M*M+T*T}f<a&&(a=f,o=u)}return o}function qIe(i){for(var e=[],t=i.length,n=0;n<t;n+=2)e[n]=i[t-n-2],e[n+1]=i[t-n-1];return e}function ZIe(i,e,t,n){for(var r=[],a,o=0;o<i.length;o++){var s=i[o],l=e[o],u=u7(s),c=u7(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],h=[],p=0,g=1/0,y=[],_=s.length;a&&(s=qIe(s));for(var x=YIe(s,l,u,c)*6,M=_-2,T=0;T<M;T+=2){var C=(x+T)%M+2;f[T+2]=s[C]-u[0],f[T+3]=s[C+1]-u[1]}f[0]=s[x]-u[0],f[1]=s[x+1]-u[1];for(var E=n/t,D=-n/2;D<=n/2;D+=E){for(var L=Math.sin(D),z=Math.cos(D),P=0,T=0;T<s.length;T+=2){var N=f[T],B=f[T+1],G=l[T]-c[0],U=l[T+1]-c[1],X=G*z-U*L,q=G*L+U*z;y[T]=X,y[T+1]=q;var V=X-N,j=q-B;P+=V*V+j*j}if(P<g){g=P,p=D;for(var K=0;K<y.length;K++)h[K]=y[K]}}r.push({from:f,to:h,fromCp:u,toCp:c,rotation:-p})}return r}function XD(i){return i.__isCombineMorphing}var YJ="__mOriginal_";function YD(i,e,t){var n=YJ+e,r=i[n]||i[e];i[n]||(i[n]=i[e]);var a=t.replace,o=t.after,s=t.before;i[e]=function(){var l=arguments,u;return s&&s.apply(this,l),a?u=a.apply(this,l):u=r.apply(this,l),o&&o.apply(this,l),u}}function i1(i,e){var t=YJ+e;i[t]&&(i[e]=i[t],i[t]=null)}function c7(i,e){for(var t=0;t<i.length;t++)for(var n=i[t],r=0;r<n.length;){var a=n[r],o=n[r+1];n[r++]=e[0]*a+e[2]*o+e[4],n[r++]=e[1]*a+e[3]*o+e[5]}}function qJ(i,e){var t=i.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),r=XIe(dB(t),dB(n)),a=r[0],o=r[1],s=i.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}s&&c7(a,s),l&&c7(o,l),YD(e,"updateTransform",{replace:u}),e.transform=null;var c=ZIe(a,o,10,Math.PI),f=[];YD(e,"buildPath",{replace:function(h){for(var p=e.__morphT,g=1-p,y=[],_=0;_<c.length;_++){var x=c[_],M=x.from,T=x.to,C=x.rotation*p,E=x.fromCp,D=x.toCp,L=Math.sin(C),z=Math.cos(C);Xb(y,E,D,p);for(var P=0;P<M.length;P+=2){var N=M[P],B=M[P+1],G=T[P],U=T[P+1],X=N*g+G*p,q=B*g+U*p;f[P]=X*z-q*L+y[0],f[P+1]=X*L+q*z+y[1]}var V=f[0],j=f[1];h.moveTo(V,j);for(var P=2;P<M.length;){var G=f[P++],U=f[P++],K=f[P++],te=f[P++],ie=f[P++],Y=f[P++];V===G&&j===U&&K===ie&&te===Y?h.lineTo(ie,Y):h.bezierCurveTo(G,U,K,te,ie,Y),V=ie,j=Y}}}})}function K2(i,e,t){if(!i||!e)return e;var n=t.done,r=t.during;qJ(i,e),e.__morphT=0;function a(){i1(e,"buildPath"),i1(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},Ot({during:function(o){e.dirtyShape(),r&&r(o)},done:function(){a(),n&&n()}},t)),e}function jIe(i,e,t,n,r,a){var o=16;i=r===t?0:Math.round(32767*(i-t)/(r-t)),e=a===n?0:Math.round(32767*(e-n)/(a-n));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,f=0;(i&u)>0&&(c=1),(e&u)>0&&(f=1),s+=u*u*(3*c^f),f===0&&(c===1&&(i=u-1-i,e=u-1-e),l=i,i=e,e=l)}return s}function qD(i){var e=1/0,t=1/0,n=-1/0,r=-1/0,a=Ge(i,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),t=Math.min(f,t),n=Math.max(c,n),r=Math.max(f,r),[c,f]}),o=Ge(a,function(s,l){return{cp:s,z:jIe(s[0],s[1],e,t,n,r),path:i[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function ZJ(i){return HIe(i.path,i.count)}function vB(){return{fromIndividuals:[],toIndividuals:[],count:0}}function KIe(i,e,t){var n=[];function r(E){for(var D=0;D<E.length;D++){var L=E[D];XD(L)?r(L.childrenRef()):L instanceof bn&&n.push(L)}}r(i);var a=n.length;if(!a)return vB();var o=t.dividePath||ZJ,s=o({path:e,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),vB();n=qD(n),s=qD(s);for(var l=t.done,u=t.during,c=t.individualDelay,f=new _h,h=0;h<a;h++){var p=n[h],g=s[h];g.parent=e,g.copyTransform(f),c||qJ(p,g)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function y(E){for(var D=0;D<s.length;D++)s[D].addSelfToZr(E)}YD(e,"addSelfToZr",{after:function(E){y(E)}}),YD(e,"removeSelfFromZr",{after:function(E){for(var D=0;D<s.length;D++)s[D].removeSelfFromZr(E)}});function _(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,i1(e,"addSelfToZr"),i1(e,"removeSelfFromZr")}var x=s.length;if(c)for(var M=x,T=function(){M--,M===0&&(_(),l&&l())},h=0;h<x;h++){var C=c?Ot({delay:(t.delay||0)+c(h,x,n[h],s[h]),done:T},t):t;K2(n[h],s[h],C)}else e.__morphT=0,e.animateTo({__morphT:1},Ot({during:function(E){for(var D=0;D<x;D++){var L=s[D];L.__morphT=e.__morphT,L.dirtyShape()}u&&u(E)},done:function(){_();for(var E=0;E<i.length;E++)i1(i[E],"updateTransform");l&&l()}},t));return e.__zr&&y(e.__zr),{fromIndividuals:n,toIndividuals:s,count:x}}function $Ie(i,e,t){var n=e.length,r=[],a=t.dividePath||ZJ;function o(p){for(var g=0;g<p.length;g++){var y=p[g];XD(y)?o(y.childrenRef()):y instanceof bn&&r.push(y)}}if(XD(i)){o(i.childrenRef());var s=r.length;if(s<n)for(var l=0,u=s;u<n;u++)r.push(Wk(r[l++%s]));r.length=n}else{r=a({path:i,count:n});for(var c=i.getComputedTransform(),u=0;u<r.length;u++)r[u].setLocalTransform(c);if(r.length!==n)return console.error("Invalid morphing: unmatched splitted path"),vB()}r=qD(r),e=qD(e);for(var f=t.individualDelay,u=0;u<n;u++){var h=f?Ot({delay:(t.delay||0)+f(u,n,r[u],e[u])},t):t;K2(r[u],e[u],h)}return{fromIndividuals:r,toIndividuals:e,count:e.length}}function f7(i){return ze(i[0])}function h7(i,e){for(var t=[],n=i.length,r=0;r<n;r++)t.push({one:i[r],many:[]});for(var r=0;r<e.length;r++){var a=e[r].length,o=void 0;for(o=0;o<a;o++)t[o%n].many.push(e[r][o])}for(var s=0,r=n-1;r>=0;r--)if(!t[r].many.length){var l=t[s].many;if(l.length<=1)if(s)s=0;else return t;var a=l.length,u=Math.ceil(a/2);t[r].many=l.slice(u,a),t[s].many=l.slice(0,u),s++}return t}var QIe={clone:function(i){for(var e=[],t=1-Math.pow(1-i.path.style.opacity,1/i.count),n=0;n<i.count;n++){var r=Wk(i.path);r.setStyle("opacity",t),e.push(r)}return e},split:null};function RN(i,e,t,n,r,a){if(!i.length||!e.length)return;var o=k_("update",n,r);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;f7(i)&&(u=i,c=e),f7(e)&&(u=e,c=i);function f(x,M,T,C,E){var D=x.many,L=x.one;if(D.length===1&&!E){var z=M?D[0]:L,P=M?L:D[0];if(XD(z))f({many:[z],one:P},!0,T,C,!0);else{var N=s?Ot({delay:s(T,C)},l):l;K2(z,P,N),a(z,P,z,P,N)}}else for(var B=Ot({dividePath:QIe[t],individualDelay:s&&function(j,K,te,ie){return s(j+T,C)}},l),G=M?KIe(D,L,B):$Ie(L,D,B),U=G.fromIndividuals,X=G.toIndividuals,q=U.length,V=0;V<q;V++){var N=s?Ot({delay:s(V,q)},l):l;a(U[V],X[V],M?D[V]:x.one,M?x.one:D[V],N)}}for(var h=u?u===i:i.length>e.length,p=u?h7(c,u):h7(h?e:i,[h?i:e]),g=0,y=0;y<p.length;y++)g+=p[y].many.length;for(var _=0,y=0;y<p.length;y++)f(p[y],h,_,g),_+=p[y].many.length}function mg(i){if(!i)return[];if(ze(i)){for(var e=[],t=0;t<i.length;t++)e.push(mg(i[t]));return e}var n=[];return i.traverse(function(r){r instanceof bn&&!r.disableMorphing&&!r.invisible&&!r.ignore&&n.push(r)}),n}var jJ=1e4,JIe=0,d7=1,p7=2,ePe=yn();function tPe(i,e){for(var t=i.dimensions,n=0;n<t.length;n++){var r=i.getDimensionInfo(t[n]);if(r&&r.otherDims[e]===0)return t[n]}}function nPe(i,e,t){var n=i.getDimensionInfo(t),r=n&&n.ordinalMeta;if(n){var a=i.get(n.name,e);return r&&r.categories[a]||a+""}}function v7(i,e,t,n){var r=n?"itemChildGroupId":"itemGroupId",a=tPe(i,r);if(a){var o=nPe(i,e,a);return o}var s=i.getRawDataItem(e),l=n?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!n)return t||i.getId(e)}function g7(i){var e=[];return H(i,function(t){var n=t.data,r=t.dataGroupId;if(!(n.count()>jJ))for(var a=n.getIndices(),o=0;o<a.length;o++)e.push({data:n,groupId:v7(n,o,r,!1),childGroupId:v7(n,o,r,!0),divide:t.divide,dataIndex:o})}),e}function LN(i,e,t){i.traverse(function(n){n instanceof bn&&Li(n,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function IN(i){if(i.parent){var e=i.getComputedTransform();i.setLocalTransform(e),i.parent.remove(i)}}function T0(i){i.stopAnimation(),i.isGroup&&i.traverse(function(e){e.stopAnimation()})}function iPe(i,e,t){var n=k_("update",t,e);n&&i.traverse(function(r){if(r instanceof Kl){var a=xve(r);a&&r.animateFrom({style:a},n)}})}function rPe(i,e){var t=i.length;if(t!==e.length)return!1;for(var n=0;n<t;n++){var r=i[n],a=e[n];if(r.data.getId(r.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function KJ(i,e,t){var n=g7(i),r=g7(e);function a(T,C,E,D,L){(E||T)&&C.animateFrom({style:E&&E!==T?Ce(Ce({},E.style),T.style):T.style},L)}var o=!1,s=JIe,l=St(),u=St();n.forEach(function(T){T.groupId&&l.set(T.groupId,!0),T.childGroupId&&u.set(T.childGroupId,!0)});for(var c=0;c<r.length;c++){var f=r[c].groupId;if(u.get(f)){s=d7;break}var h=r[c].childGroupId;if(h&&l.get(h)){s=p7;break}}function p(T,C){return function(E){var D=E.data,L=E.dataIndex;return C?D.getId(L):T?s===d7?E.childGroupId:E.groupId:s===p7?E.childGroupId:E.groupId}}var g=rPe(n,r),y={};if(!g)for(var c=0;c<r.length;c++){var _=r[c],x=_.data.getItemGraphicEl(_.dataIndex);x&&(y[x.id]=!0)}function M(T,C){var E=n[C],D=r[T],L=D.data.hostModel,z=E.data.getItemGraphicEl(E.dataIndex),P=D.data.getItemGraphicEl(D.dataIndex);if(z===P){P&&iPe(P,D.dataIndex,L);return}z&&y[z.id]||P&&(T0(P),z?(T0(z),IN(z),o=!0,RN(mg(z),mg(P),D.divide,L,T,a)):LN(P,L,T))}new Ph(n,r,p(!0,g),p(!1,g),null,"multiple").update(M).updateManyToOne(function(T,C){var E=r[T],D=E.data,L=D.hostModel,z=D.getItemGraphicEl(E.dataIndex),P=Kn(Ge(C,function(N){return n[N].data.getItemGraphicEl(n[N].dataIndex)}),function(N){return N&&N!==z&&!y[N.id]});z&&(T0(z),P.length?(H(P,function(N){T0(N),IN(N)}),o=!0,RN(mg(P),mg(z),E.divide,L,T,a)):LN(z,L,E.dataIndex))}).updateOneToMany(function(T,C){var E=n[C],D=E.data.getItemGraphicEl(E.dataIndex);if(!(D&&y[D.id])){var L=Kn(Ge(T,function(P){return r[P].data.getItemGraphicEl(r[P].dataIndex)}),function(P){return P&&P!==D}),z=r[T[0]].data.hostModel;L.length&&(H(L,function(P){return T0(P)}),D?(T0(D),IN(D),o=!0,RN(mg(D),mg(L),E.divide,z,T[0],a)):H(L,function(P){return LN(P,z,T[0])}))}}).updateManyToMany(function(T,C){new Ph(C,T,function(E){return n[E].data.getId(n[E].dataIndex)},function(E){return r[E].data.getId(r[E].dataIndex)}).update(function(E,D){M(T[E],C[D])}).execute()}).execute(),o&&H(e,function(T){var C=T.data,E=C.hostModel,D=E&&t.getViewOfSeriesModel(E),L=k_("update",E,0);D&&E.isAnimationEnabled()&&L&&L.duration>0&&D.group.traverse(function(z){z instanceof bn&&!z.animators.length&&z.animateFrom({style:{opacity:0}},L)})})}function m7(i){var e=i.getModel("universalTransition").get("seriesKey");return e||i.id}function y7(i){return ze(i)?i.sort().join(","):i}function jd(i){if(i.hostModel)return i.hostModel.getModel("universalTransition").get("divideShape")}function aPe(i,e){var t=St(),n=St(),r=St();return H(i.oldSeries,function(a,o){var s=i.oldDataGroupIds[o],l=i.oldData[o],u=m7(a),c=y7(u);n.set(c,{dataGroupId:s,data:l}),ze(u)&&H(u,function(f){r.set(f,{key:c,dataGroupId:s,data:l})})}),H(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),l=m7(a),u=y7(l),c=n.get(u);if(c)t.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:jd(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:jd(s),data:s}]});else if(ze(l)){var f=[];H(l,function(g){var y=n.get(g);y.data&&f.push({dataGroupId:y.dataGroupId,divide:jd(y.data),data:y.data})}),f.length&&t.set(u,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:jd(s)}]})}else{var h=r.get(l);if(h){var p=t.get(h.key);p||(p={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:jd(h.data)}],newSeries:[]},t.set(h.key,p)),p.newSeries.push({dataGroupId:o,data:s,divide:jd(s)})}}}}),t}function _7(i,e){for(var t=0;t<i.length;t++){var n=e.seriesIndex!=null&&e.seriesIndex===i[t].seriesIndex||e.seriesId!=null&&e.seriesId===i[t].id;if(n)return t}}function oPe(i,e,t,n){var r=[],a=[];H(Mi(i.from),function(o){var s=_7(e.oldSeries,o);s>=0&&r.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:jd(e.oldData[s]),groupIdDim:o.dimension})}),H(Mi(i.to),function(o){var s=_7(t.updatedSeries,o);if(s>=0){var l=t.updatedSeries[s].getData();a.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:jd(l),groupIdDim:o.dimension})}}),r.length>0&&a.length>0&&KJ(r,a,n)}function sPe(i){i.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){H(Mi(n.seriesTransition),function(r){H(Mi(r.to),function(a){for(var o=n.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][NC]=!0)})})}),i.registerUpdateLifecycle("series:transition",function(e,t,n){var r=ePe(t);if(r.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)H(Mi(a),function(p){oPe(p,r,n,t)});else{var o=aPe(r,n);H(o.keys(),function(p){var g=o.get(p);KJ(g.oldSeries,g.newSeries,t)})}H(n.updatedSeries,function(p){p[NC]&&(p[NC]=!1)})}for(var s=e.getSeries(),l=r.oldSeries=[],u=r.oldDataGroupIds=[],c=r.oldData=[],f=0;f<s.length;f++){var h=s[f].getData();h.count()<jJ&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),c.push(h))}})}var lPe=(function(){function i(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return i.prototype.setBreaks=function(e){this.breaks=e.breaks},i.prototype.update=function(e){cPe(this,e);var t=this._elapsedExtent;t[0]=this.elapse(e[0]),t[1]=this.elapse(e[1])},i.prototype.hasBreaks=function(){return!!this.breaks.length},i.prototype.calcNiceTickMultiple=function(e,t){for(var n=0;n<this.breaks.length;n++){var r=this.breaks[n];if(r.vmin<e&&e<r.vmax){var a=t(e,r.vmax);return a}}return 0},i.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},i.prototype.normalize=function(e){var t=this._elapsedExtent[1]-this._elapsedExtent[0];return t===0?.5:(this.elapse(e)-this._elapsedExtent[0])/t},i.prototype.scale=function(e){return this.unelapse(e*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},i.prototype.elapse=function(e){for(var t=x7,n=S7,r=!0,a=0;a<this.breaks.length;a++){var o=this.breaks[a];if(e<=o.vmax){e>o.vmin?t+=o.vmin-n+(e-o.vmin)/(o.vmax-o.vmin)*o.gapReal:t+=e-n,n=o.vmax,r=!1;break}t+=o.vmin-n+o.gapReal,n=o.vmax}return r&&(t+=e-n),t},i.prototype.unelapse=function(e){for(var t=x7,n=S7,r=!0,a=0,o=0;o<this.breaks.length;o++){var s=this.breaks[o],l=t+s.vmin-n,u=l+s.gapReal;if(e<=u){e>l?a=s.vmin+(e-l)/(u-l)*(s.vmax-s.vmin):a=n+e-t,n=s.vmax,r=!1;break}t=u,n=s.vmax}return r&&(a=n+e-t),a},i})();function uPe(){return new lPe}var x7=0,S7=0;function cPe(i,e){var t=0,n={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},r=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:r(),tpPrct:r()},E:{tpAbs:r(),tpPrct:r()}};H(i.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(t+=l.val);var u=$2(s,e);if(u){var c=u.vmin!==s.vmin,f=u.vmax!==s.vmax,h=u.vmax-u.vmin;if(!(c&&f))if(c||f){var p=c?"S":"E";a[p][l.type].has=!0,a[p][l.type].span=h,a[p][l.type].inExtFrac=h/(s.vmax-s.vmin),a[p][l.type].val=l.val}else n[l.type].span+=h,n[l.type].val+=l.val}});var o=t*(0+(e[1]-e[0])+(n.tpAbs.val-n.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-n.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-n.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));H(i.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(s.gapReal=t!==0?Math.max(o,0)*l.val/t:0),l.type==="tpAbs"&&(s.gapReal=l.val),s.gapReal==null&&(s.gapReal=0)})}function fPe(i,e,t,n,r,a){i!=="no"&&H(t,function(o){var s=$2(o,a);if(s)for(var l=e.length-1;l>=0;l--){var u=e[l],c=n(u),f=r*3/4;c>s.vmin-f&&c<s.vmax+f&&(i!=="preserve_extent_bound"||c!==a[0]&&c!==a[1])&&e.splice(l,1)}})}function hPe(i,e,t,n){H(e,function(r){var a=$2(r,t);a&&(i.push({value:a.vmin,break:{type:"vmin",parsedBreak:a},time:n?n(a):void 0}),i.push({value:a.vmax,break:{type:"vmax",parsedBreak:a},time:n?n(a):void 0}))}),e.length&&i.sort(function(r,a){return r.value-a.value})}function $2(i,e){var t=Math.max(i.vmin,e[0]),n=Math.min(i.vmax,e[1]);return t<n||t===n&&t>e[0]&&t<e[1]?{vmin:t,vmax:n,breakOption:i.breakOption,gapParsed:i.gapParsed,gapReal:i.gapReal}:null}function gB(i,e,t){var n=[];if(!i)return{breaks:n};function r(o,s){return o>=0&&o<1-1e-5}H(i,function(o){if(!(!o||o.start==null||o.end==null)&&!o.isExpanded){var s={breakOption:Lt(o),vmin:e(o.start),vmax:e(o.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(o.gap!=null){var l=!1;if(rt(o.gap)){var u=Zs(o.gap);if(u.match(/%$/)){var c=parseFloat(u)/100;r(c)||(c=0),s.gapParsed.type="tpPrct",s.gapParsed.val=c,l=!0}}if(!l){var f=e(o.gap);(!isFinite(f)||f<0)&&(f=0),s.gapParsed.type="tpAbs",s.gapParsed.val=f}}if(s.vmin===s.vmax&&(s.gapParsed.type="tpAbs",s.gapParsed.val=0),t&&t.noNegative&&H(["vmin","vmax"],function(p){s[p]<0&&(s[p]=0)}),s.vmin>s.vmax){var h=s.vmax;s.vmax=s.vmin,s.vmin=h}n.push(s)}}),n.sort(function(o,s){return o.vmin-s.vmin});var a=-1/0;return H(n,function(o,s){a>o.vmin&&(n[s]=null),a=o.vmax}),{breaks:n.filter(function(o){return!!o})}}function Q2(i,e){return mB(e)===mB(i)}function mB(i){return i.start+"_\0_"+i.end}function dPe(i,e,t){var n=[];H(i,function(a,o){var s=e(a);s&&s.type==="vmin"&&n.push([o])}),H(i,function(a,o){var s=e(a);if(s&&s.type==="vmax"){var l=Lp(n,function(u){return Q2(e(i[u[0]]).parsedBreak.breakOption,s.parsedBreak.breakOption)});l&&l.push(o)}});var r=[];return H(n,function(a){a.length===2&&r.push(t?a:[i[a[0]],i[a[1]]])}),r}function pPe(i,e,t,n){var r,a;if(i.break){var o=i.break.parsedBreak,s=Lp(t,function(f){return Q2(f.breakOption,i.break.parsedBreak.breakOption)}),l=n(Math.pow(e,o.vmin),s.vmin),u=n(Math.pow(e,o.vmax),s.vmax),c={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Pr(Math.pow(e,o.vmin+o.gapParsed.val))-l:o.gapParsed.val};r={type:i.break.type,parsedBreak:{breakOption:o.breakOption,vmin:l,vmax:u,gapParsed:c,gapReal:o.gapReal}},a=s[i.break.type]}return{brkRoundingCriterion:a,vBreak:r}}function vPe(i,e,t){var n={noNegative:!0},r=gB(i,t,n),a=gB(i,t,n),o=Math.log(e);return a.breaks=Ge(a.breaks,function(s){var l=Math.log(s.vmin)/o,u=Math.log(s.vmax)/o,c={type:s.gapParsed.type,val:s.gapParsed.type==="tpAbs"?Math.log(s.vmin+s.gapParsed.val)/o-l:s.gapParsed.val};return{vmin:l,vmax:u,gapParsed:c,gapReal:s.gapReal,breakOption:s.breakOption}}),{parsedOriginal:r,parsedLogged:a}}var gPe={vmin:"start",vmax:"end"};function mPe(i,e){return e&&(i=i||{},i.break={type:gPe[e.type],start:e.parsedBreak.vmin,end:e.parsedBreak.vmax}),i}function yPe(){Fve({createScaleBreakContext:uPe,pruneTicksByBreak:fPe,addBreaksToTicks:hPe,parseAxisBreakOption:gB,identifyAxisBreak:Q2,serializeAxisBreakIdentifier:mB,retrieveAxisBreakPairs:dPe,getTicksLogTransformBreak:pPe,logarithmicParseBreaksFromOption:vPe,makeAxisLabelFormatterParamBreak:mPe})}var b7=yn();function _Pe(i,e){var t=Lp(i,function(n){return qr().identifyAxisBreak(n.parsedBreak.breakOption,e.breakOption)});return t||i.push(t={zigzagRandomList:[],parsedBreak:e,shouldRemove:!1}),t}function xPe(i){H(i,function(e){return e.shouldRemove=!0})}function SPe(i){for(var e=i.length-1;e>=0;e--)i[e].shouldRemove&&i.splice(e,1)}function bPe(i,e,t,n,r){var a=t.axis;if(a.scale.isBlank()||!qr())return;var o=qr().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(P){return P.break},!1);if(!o.length)return;var s=t.getModel("breakArea"),l=s.get("zigzagAmplitude"),u=s.get("zigzagMinSpan"),c=s.get("zigzagMaxSpan");u=Math.max(2,u||0),c=Math.max(u,c||0);var f=s.get("expandOnClick"),h=s.get("zigzagZ"),p=s.getModel("itemStyle"),g=p.getItemStyle(),y=g.stroke,_=g.lineWidth,x=g.lineDash,M=g.fill,T=new It({ignoreModelZ:!0}),C=a.isHorizontal(),E=b7(e).visualList||(b7(e).visualList=[]);xPe(E);for(var D=function(P){var N=o[P][0].break.parsedBreak,B=[];B[0]=a.toGlobalCoord(a.dataToCoord(N.vmin,!0)),B[1]=a.toGlobalCoord(a.dataToCoord(N.vmax,!0)),B[1]<B[0]&&B.reverse();var G=_Pe(E,N);G.shouldRemove=!1;var U=new It;z(G.zigzagRandomList,U,B[0],B[1],C,N),f&&U.on("click",function(){var X={type:cL,breaks:[{start:N.breakOption.start,end:N.breakOption.end}]};X[a.dim+"AxisIndex"]=t.componentIndex,r.dispatchAction(X)}),U.silent=!f,T.add(U)},L=0;L<o.length;L++)D(L);i.add(T),SPe(E);function z(P,N,B,G,U,X){var q={stroke:y,lineWidth:_,lineDash:x,fill:"none"},V=U?0:1,j=1-V,K=n[Zt[j]]+n[Zr[j]];function te(yt){var be=[],Ue=[];be[V]=Ue[V]=yt,be[j]=n[Zt[j]],Ue[j]=K;var Ie={x1:be[0],y1:be[1],x2:Ue[0],y2:Ue[1]};return jR(Ie,Ie,{lineWidth:1}),be[0]=Ie.x1,be[1]=Ie.y1,be[V]}B=te(B),G=te(G);for(var ie=[],Y=[],ee=!0,oe=n[Zt[j]],de=0;;de++){var Pe=oe===n[Zt[j]],he=oe>=K;he&&(oe=K);var Se=[],Ee=[];Se[V]=B,Ee[V]=G,!Pe&&!he&&(Se[V]+=ee?-l:l,Ee[V]-=ee?l:-l),Se[j]=oe,Ee[j]=oe,ie.push(Se),Y.push(Ee);var Te=void 0;if(de<P.length?Te=P[de]:(Te=Math.random(),P.push(Te)),oe+=Te*(c-u)+u,ee=!ee,he)break}var He=qr().serializeAxisBreakIdentifier(X.breakOption);if(N.add(new Ba({anid:"break_a_"+He,shape:{points:ie},style:q,z:h})),X.gapReal!==0){N.add(new Ba({anid:"break_b_"+He,shape:{points:Y},style:q,z:h}));var We=Y.slice();We.reverse();var Qe=ie.concat(We);N.add(new ro({anid:"break_c_"+He,shape:{points:Qe},style:{fill:M,opacity:g.opacity},z:h}))}}}function MPe(i,e,t,n){var r=i.axis,a=t.transform;no(n.style);var o=r.getExtent();r.inverse&&(o=o.slice(),o.reverse());var s=qr().retrieveAxisBreakPairs(r.scale.getTicks({breakTicks:"only_break"}),function(_){return _.break},!1),l=Ge(s,function(_){var x=_[0].break.parsedBreak,M=[r.dataToCoord(x.vmin,!0),r.dataToCoord(x.vmax,!0)];return M[0]>M[1]&&M.reverse(),{coordPair:M,brkId:qr().serializeAxisBreakIdentifier(x.breakOption)}});l.sort(function(_,x){return _.coordPair[0]-x.coordPair[0]});for(var u=o[0],c=null,f=0;f<l.length;f++){var h=l[f],p=Math.max(h.coordPair[0],o[0]),g=Math.min(h.coordPair[1],o[1]);u<=p&&y(u,p,c,h),u=g,c=h}u<=o[1]&&y(u,o[1],c,null);function y(_,x,M,T){function C(B,G){a&&(xr(B,B,a),xr(G,G,a))}function E(B,G){var U={x1:B[0],y1:B[1],x2:G[0],y2:G[1]};jR(U,U,n.style),B[0]=U.x1,B[1]=U.y1,G[0]=U.x2,G[1]=U.y2}var D=[_,0],L=[x,0],z=[_,5],P=[x,5];C(D,z),E(D,z),C(L,P),E(L,P),E(D,L);var N=new Nr(Ce({shape:{x1:D[0],y1:D[1],x2:L[0],y2:L[1]}},n));e.add(N),N.anid="breakLine_"+(M?M.brkId:"\0")+"_\0_"+(T?T.brkId:"\0")}}function TPe(i,e,t){if(Lp(t,function(M){return!M}))return;var n=new kt;if(!lL(t[0],t[1],n,{direction:-(i?e+Math.PI:e),touchThreshold:0,bidirectional:!1}))return;var r=_a();Bh(r,r,-e);var a=Ge(t,function(M){return M.transform?Uu(_a(),r,M.transform):r});function o(M){var T=t[0].localRect,C=new kt(T[Zr[M]]*a[0][0],T[Zr[M]]*a[0][1]);return Math.abs(C.y)<1e-5}var s=.5;if(o(0)||o(1)){var l=Ge(t,function(M,T){var C=M.localRect.clone();return C.applyTransform(a[T]),C}),u=new kt;u.copy(t[0].label).add(t[1].label).scale(.5),u.transform(r);var c=n.clone().transform(r),f=l[0].x+l[1].x+(c.x>=0?l[0].width:l[1].width),h=(f+c.x)/2-u.x,p=Math.min(h,h-c.x),g=Math.max(h,h-c.x),y=g<0?g:p>0?p:0;s=(h-y)/c.x}var _=new kt,x=new kt;kt.scale(_,n,-s),kt.scale(x,n,1-s),yz(t[0],_),yz(t[1],x)}function wPe(i,e){var t={breaks:[]};return H(e.breaks,function(n){if(n){var r=Lp(i.get("breaks",!0),function(s){return qr().identifyAxisBreak(s,n)});if(r){var a=e.type,o={isExpanded:!!r.isExpanded};r.isExpanded=a===cL?!0:a===m$?!1:a===y$?!r.isExpanded:r.isExpanded,t.breaks.push({start:r.start,end:r.end,isExpanded:!!r.isExpanded,old:o})}}}),t}function APe(){SSe({adjustBreakLabelPair:TPe,buildAxisBreakLine:MPe,rectCoordBuildBreakAxis:bPe,updateModelAxisBreak:wPe})}function CPe(i){CSe(i),yPe(),APe()}function EPe(){ZSe(DPe)}function DPe(i,e){H(i,function(t){if(!t.model.get(["axisLabel","inside"])){var n=RPe(t);if(n){var r=t.isHorizontal()?"height":"width",a=t.model.get(["axisLabel","margin"]);e[r]-=n[r]+a,t.position==="top"?e.y+=n.height+a:t.position==="left"&&(e.x+=n.width+a)}}})}function RPe(i){var e=i.model,t=i.scale;if(!e.get(["axisLabel","show"])||t.isBlank())return;var n,r,a=t.getExtent();t instanceof y_?r=t.count():(n=t.getTicks(),r=n.length);var o=i.getLabelModel(),s=Z_(i),l,u=1;r>40&&(u=Math.ceil(r/40));for(var c=0;c<r;c+=u){var f=n?n[c]:{value:a[0]+c},h=s(f,c),p=o.getTextRect(h),g=y(p,o.get("rotate")||0);l?l.union(g):l=g}return l;function y(_,x){var M=x*Math.PI/180,T=_.width,C=_.height,E=T*Math.abs(Math.cos(M))+Math.abs(C*Math.sin(M)),D=T*Math.abs(Math.sin(M))+Math.abs(C*Math.cos(M)),L=new Ut(_.x,_.y,E,D);return L}}sn([_xe]);sn([pxe]);sn([Uxe,eSe,cSe,dbe,Tbe,d1e,F1e,MMe,WMe,$Me,iTe,fTe,rwe,Ewe,Uwe,tAe,aAe,vAe,bAe,PAe,UAe,jAe,PCe]);sn(QCe);sn(MEe);sn(W$);sn(OEe);sn(RQ);sn(UEe);sn(aDe);sn(pDe);sn(eRe);sn(_Re);sn(AM);sn(ORe);sn(kRe);sn(ZRe);sn(nLe);sn(lLe);sn(pLe);sn(TLe);sn(HLe);sn(zJ);sn(BJ);sn(uIe);sn(GJ);sn(HJ);sn(dIe);sn(yIe);sn(LIe);sn(NIe);sn(sPe);sn(N_e);sn(CPe);sn(EPe);sn(pbe);const jPe=Object.freeze(Object.defineProperty({__proto__:null,Axis:nu,ChartView:fi,ComponentModel:mn,ComponentView:Ti,List:Ao,Model:Sn,PRIORITY:kj,SeriesModel:vi,color:Ihe,connect:Bye,dataTool:Xye,dependencies:_ye,disConnect:kye,disconnect:Yj,dispose:Uye,env:Tn,extendChartView:__e,extendComponentModel:g_e,extendComponentView:m_e,extendSeriesModel:y_e,format:t_e,getCoordinateSystemDimensions:Vye,getInstanceByDom:EU,getInstanceById:Fye,getMap:Wye,graphic:e_e,helper:Y0e,init:zye,innerDrawElementOnCanvas:TU,matrix:she,number:Q0e,parseGeoJSON:gz,parseGeoJson:gz,registerAction:Ku,registerCoordinateSystem:jj,registerCustomSeries:Gye,registerLayout:Kj,registerLoading:PU,registerLocale:tU,registerMap:$j,registerPostInit:qj,registerPostUpdate:Zj,registerPreprocessor:RU,registerProcessor:LU,registerTheme:DU,registerTransform:Qj,registerUpdateLifecycle:sL,registerVisual:Op,setCanvasCreator:Hye,setPlatformAPI:PY,throttle:aL,time:J0e,use:sn,util:n_e,vector:Yfe,version:yye,zrUtil:Ufe,zrender:pde},Symbol.toStringTag,{value:"Module"}));export{Qa as B,VPe as C,GPe as G,cX as M,XPe as O,Lr as P,R0 as R,re as V,NPe as _,uk as a,$ue as b,PPe as c,fe as d,qPe as e,YPe as f,ZD as g,qV as h,ZPe as i,Gs as j,jPe as k,LPe as l,IPe as m,HPe as p,_n as r,zd as u};
